/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./env.js":
/*!****************!*\
  !*** ./env.js ***!
  \****************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const env = {
  API_KEY: "AIzaSyAwegV7xlbTZlIdLijPYk-cyMgezu0_Ozs",
  AUTH_DOMAIN: "odinlibrary-f5.firebaseapp.com",
  PROJECT_ID: "odinlibrary-f5",
  STORAGE_BUCKET: "odinlibrary-f5.appspot.com",
  MESSAGING_SENDER_ID: "1092737413441",
  APP_ID: "1:1092737413441:web:a879709c9e7f5c3db671c0",
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (env);


/***/ }),

/***/ "./node_modules/@firebase/app/dist/index.esm.js":
/*!******************************************************!*\
  !*** ./node_modules/@firebase/app/dist/index.esm.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "firebase": () => (/* binding */ firebase$1)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _firebase_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @firebase/util */ "./node_modules/@firebase/util/dist/index.esm.js");
/* harmony import */ var _firebase_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @firebase/component */ "./node_modules/@firebase/component/dist/index.esm.js");
/* harmony import */ var _firebase_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @firebase/logger */ "./node_modules/@firebase/logger/dist/index.esm.js");





/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _a;
var ERRORS = (_a = {},
    _a["no-app" /* NO_APP */] = "No Firebase App '{$appName}' has been created - " +
        'call Firebase App.initializeApp()',
    _a["bad-app-name" /* BAD_APP_NAME */] = "Illegal App name: '{$appName}",
    _a["duplicate-app" /* DUPLICATE_APP */] = "Firebase App named '{$appName}' already exists",
    _a["app-deleted" /* APP_DELETED */] = "Firebase App named '{$appName}' already deleted",
    _a["invalid-app-argument" /* INVALID_APP_ARGUMENT */] = 'firebase.{$appName}() takes either no argument or a ' +
        'Firebase App instance.',
    _a["invalid-log-argument" /* INVALID_LOG_ARGUMENT */] = 'First argument to `onLog` must be null or a function.',
    _a);
var ERROR_FACTORY = new _firebase_util__WEBPACK_IMPORTED_MODULE_0__.ErrorFactory('app', 'Firebase', ERRORS);

var name = "@firebase/app";
var version = "0.6.20";

var name$1 = "@firebase/analytics";

var name$2 = "@firebase/auth";

var name$3 = "@firebase/database";

var name$4 = "@firebase/functions";

var name$5 = "@firebase/installations";

var name$6 = "@firebase/messaging";

var name$7 = "@firebase/performance";

var name$8 = "@firebase/remote-config";

var name$9 = "@firebase/storage";

var name$a = "@firebase/firestore";

var name$b = "firebase-wrapper";

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _a$1;
var DEFAULT_ENTRY_NAME = '[DEFAULT]';
var PLATFORM_LOG_STRING = (_a$1 = {},
    _a$1[name] = 'fire-core',
    _a$1[name$1] = 'fire-analytics',
    _a$1[name$2] = 'fire-auth',
    _a$1[name$3] = 'fire-rtdb',
    _a$1[name$4] = 'fire-fn',
    _a$1[name$5] = 'fire-iid',
    _a$1[name$6] = 'fire-fcm',
    _a$1[name$7] = 'fire-perf',
    _a$1[name$8] = 'fire-rc',
    _a$1[name$9] = 'fire-gcs',
    _a$1[name$a] = 'fire-fst',
    _a$1['fire-js'] = 'fire-js',
    _a$1[name$b] = 'fire-js-all',
    _a$1);

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var logger = new _firebase_logger__WEBPACK_IMPORTED_MODULE_2__.Logger('@firebase/app');

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Global context object for a collection of services using
 * a shared authentication state.
 */
var FirebaseAppImpl = /** @class */ (function () {
    function FirebaseAppImpl(options, config, firebase_) {
        var _this = this;
        this.firebase_ = firebase_;
        this.isDeleted_ = false;
        this.name_ = config.name;
        this.automaticDataCollectionEnabled_ =
            config.automaticDataCollectionEnabled || false;
        this.options_ = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_0__.deepCopy)(options);
        this.container = new _firebase_component__WEBPACK_IMPORTED_MODULE_1__.ComponentContainer(config.name);
        // add itself to container
        this._addComponent(new _firebase_component__WEBPACK_IMPORTED_MODULE_1__.Component('app', function () { return _this; }, "PUBLIC" /* PUBLIC */));
        // populate ComponentContainer with existing components
        this.firebase_.INTERNAL.components.forEach(function (component) {
            return _this._addComponent(component);
        });
    }
    Object.defineProperty(FirebaseAppImpl.prototype, "automaticDataCollectionEnabled", {
        get: function () {
            this.checkDestroyed_();
            return this.automaticDataCollectionEnabled_;
        },
        set: function (val) {
            this.checkDestroyed_();
            this.automaticDataCollectionEnabled_ = val;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(FirebaseAppImpl.prototype, "name", {
        get: function () {
            this.checkDestroyed_();
            return this.name_;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(FirebaseAppImpl.prototype, "options", {
        get: function () {
            this.checkDestroyed_();
            return this.options_;
        },
        enumerable: false,
        configurable: true
    });
    FirebaseAppImpl.prototype.delete = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.checkDestroyed_();
            resolve();
        })
            .then(function () {
            _this.firebase_.INTERNAL.removeApp(_this.name_);
            return Promise.all(_this.container.getProviders().map(function (provider) { return provider.delete(); }));
        })
            .then(function () {
            _this.isDeleted_ = true;
        });
    };
    /**
     * Return a service instance associated with this app (creating it
     * on demand), identified by the passed instanceIdentifier.
     *
     * NOTE: Currently storage and functions are the only ones that are leveraging this
     * functionality. They invoke it by calling:
     *
     * ```javascript
     * firebase.app().storage('STORAGE BUCKET ID')
     * ```
     *
     * The service name is passed to this already
     * @internal
     */
    FirebaseAppImpl.prototype._getService = function (name, instanceIdentifier) {
        if (instanceIdentifier === void 0) { instanceIdentifier = DEFAULT_ENTRY_NAME; }
        this.checkDestroyed_();
        // getImmediate will always succeed because _getService is only called for registered components.
        return this.container.getProvider(name).getImmediate({
            identifier: instanceIdentifier
        });
    };
    /**
     * Remove a service instance from the cache, so we will create a new instance for this service
     * when people try to get this service again.
     *
     * NOTE: currently only firestore is using this functionality to support firestore shutdown.
     *
     * @param name The service name
     * @param instanceIdentifier instance identifier in case multiple instances are allowed
     * @internal
     */
    FirebaseAppImpl.prototype._removeServiceInstance = function (name, instanceIdentifier) {
        if (instanceIdentifier === void 0) { instanceIdentifier = DEFAULT_ENTRY_NAME; }
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        this.container.getProvider(name).clearInstance(instanceIdentifier);
    };
    /**
     * @param component the component being added to this app's container
     */
    FirebaseAppImpl.prototype._addComponent = function (component) {
        try {
            this.container.addComponent(component);
        }
        catch (e) {
            logger.debug("Component " + component.name + " failed to register with FirebaseApp " + this.name, e);
        }
    };
    FirebaseAppImpl.prototype._addOrOverwriteComponent = function (component) {
        this.container.addOrOverwriteComponent(component);
    };
    FirebaseAppImpl.prototype.toJSON = function () {
        return {
            name: this.name,
            automaticDataCollectionEnabled: this.automaticDataCollectionEnabled,
            options: this.options
        };
    };
    /**
     * This function will throw an Error if the App has already been deleted -
     * use before performing API actions on the App.
     */
    FirebaseAppImpl.prototype.checkDestroyed_ = function () {
        if (this.isDeleted_) {
            throw ERROR_FACTORY.create("app-deleted" /* APP_DELETED */, { appName: this.name_ });
        }
    };
    return FirebaseAppImpl;
}());
// Prevent dead-code elimination of these methods w/o invalid property
// copying.
(FirebaseAppImpl.prototype.name && FirebaseAppImpl.prototype.options) ||
    FirebaseAppImpl.prototype.delete ||
    console.log('dc');

var version$1 = "8.4.0";

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Because auth can't share code with other components, we attach the utility functions
 * in an internal namespace to share code.
 * This function return a firebase namespace object without
 * any utility functions, so it can be shared between the regular firebaseNamespace and
 * the lite version.
 */
function createFirebaseNamespaceCore(firebaseAppImpl) {
    var apps = {};
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    var components = new Map();
    // A namespace is a plain JavaScript Object.
    var namespace = {
        // Hack to prevent Babel from modifying the object returned
        // as the firebase namespace.
        // @ts-ignore
        __esModule: true,
        initializeApp: initializeApp,
        // @ts-ignore
        app: app,
        registerVersion: registerVersion,
        setLogLevel: _firebase_logger__WEBPACK_IMPORTED_MODULE_2__.setLogLevel,
        onLog: onLog,
        // @ts-ignore
        apps: null,
        SDK_VERSION: version$1,
        INTERNAL: {
            registerComponent: registerComponent,
            removeApp: removeApp,
            components: components,
            useAsService: useAsService
        }
    };
    // Inject a circular default export to allow Babel users who were previously
    // using:
    //
    //   import firebase from 'firebase';
    //   which becomes: var firebase = require('firebase').default;
    //
    // instead of
    //
    //   import * as firebase from 'firebase';
    //   which becomes: var firebase = require('firebase');
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    namespace['default'] = namespace;
    // firebase.apps is a read-only getter.
    Object.defineProperty(namespace, 'apps', {
        get: getApps
    });
    /**
     * Called by App.delete() - but before any services associated with the App
     * are deleted.
     */
    function removeApp(name) {
        delete apps[name];
    }
    /**
     * Get the App object for a given name (or DEFAULT).
     */
    function app(name) {
        name = name || DEFAULT_ENTRY_NAME;
        if (!(0,_firebase_util__WEBPACK_IMPORTED_MODULE_0__.contains)(apps, name)) {
            throw ERROR_FACTORY.create("no-app" /* NO_APP */, { appName: name });
        }
        return apps[name];
    }
    // @ts-ignore
    app['App'] = firebaseAppImpl;
    function initializeApp(options, rawConfig) {
        if (rawConfig === void 0) { rawConfig = {}; }
        if (typeof rawConfig !== 'object' || rawConfig === null) {
            var name_1 = rawConfig;
            rawConfig = { name: name_1 };
        }
        var config = rawConfig;
        if (config.name === undefined) {
            config.name = DEFAULT_ENTRY_NAME;
        }
        var name = config.name;
        if (typeof name !== 'string' || !name) {
            throw ERROR_FACTORY.create("bad-app-name" /* BAD_APP_NAME */, {
                appName: String(name)
            });
        }
        if ((0,_firebase_util__WEBPACK_IMPORTED_MODULE_0__.contains)(apps, name)) {
            throw ERROR_FACTORY.create("duplicate-app" /* DUPLICATE_APP */, { appName: name });
        }
        var app = new firebaseAppImpl(options, config, namespace);
        apps[name] = app;
        return app;
    }
    /*
     * Return an array of all the non-deleted FirebaseApps.
     */
    function getApps() {
        // Make a copy so caller cannot mutate the apps list.
        return Object.keys(apps).map(function (name) { return apps[name]; });
    }
    function registerComponent(component) {
        var componentName = component.name;
        if (components.has(componentName)) {
            logger.debug("There were multiple attempts to register component " + componentName + ".");
            return component.type === "PUBLIC" /* PUBLIC */
                ? // eslint-disable-next-line @typescript-eslint/no-explicit-any
                    namespace[componentName]
                : null;
        }
        components.set(componentName, component);
        // create service namespace for public components
        if (component.type === "PUBLIC" /* PUBLIC */) {
            // The Service namespace is an accessor function ...
            var serviceNamespace = function (appArg) {
                if (appArg === void 0) { appArg = app(); }
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                if (typeof appArg[componentName] !== 'function') {
                    // Invalid argument.
                    // This happens in the following case: firebase.storage('gs:/')
                    throw ERROR_FACTORY.create("invalid-app-argument" /* INVALID_APP_ARGUMENT */, {
                        appName: componentName
                    });
                }
                // Forward service instance lookup to the FirebaseApp.
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                return appArg[componentName]();
            };
            // ... and a container for service-level properties.
            if (component.serviceProps !== undefined) {
                (0,_firebase_util__WEBPACK_IMPORTED_MODULE_0__.deepExtend)(serviceNamespace, component.serviceProps);
            }
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            namespace[componentName] = serviceNamespace;
            // Patch the FirebaseAppImpl prototype
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            firebaseAppImpl.prototype[componentName] =
                // TODO: The eslint disable can be removed and the 'ignoreRestArgs'
                // option added to the no-explicit-any rule when ESlint releases it.
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    var serviceFxn = this._getService.bind(this, componentName);
                    return serviceFxn.apply(this, component.multipleInstances ? args : []);
                };
        }
        // add the component to existing app instances
        for (var _i = 0, _a = Object.keys(apps); _i < _a.length; _i++) {
            var appName = _a[_i];
            apps[appName]._addComponent(component);
        }
        return component.type === "PUBLIC" /* PUBLIC */
            ? // eslint-disable-next-line @typescript-eslint/no-explicit-any
                namespace[componentName]
            : null;
    }
    function registerVersion(libraryKeyOrName, version, variant) {
        var _a;
        // TODO: We can use this check to whitelist strings when/if we set up
        // a good whitelist system.
        var library = (_a = PLATFORM_LOG_STRING[libraryKeyOrName]) !== null && _a !== void 0 ? _a : libraryKeyOrName;
        if (variant) {
            library += "-" + variant;
        }
        var libraryMismatch = library.match(/\s|\//);
        var versionMismatch = version.match(/\s|\//);
        if (libraryMismatch || versionMismatch) {
            var warning = [
                "Unable to register library \"" + library + "\" with version \"" + version + "\":"
            ];
            if (libraryMismatch) {
                warning.push("library name \"" + library + "\" contains illegal characters (whitespace or \"/\")");
            }
            if (libraryMismatch && versionMismatch) {
                warning.push('and');
            }
            if (versionMismatch) {
                warning.push("version name \"" + version + "\" contains illegal characters (whitespace or \"/\")");
            }
            logger.warn(warning.join(' '));
            return;
        }
        registerComponent(new _firebase_component__WEBPACK_IMPORTED_MODULE_1__.Component(library + "-version", function () { return ({ library: library, version: version }); }, "VERSION" /* VERSION */));
    }
    function onLog(logCallback, options) {
        if (logCallback !== null && typeof logCallback !== 'function') {
            throw ERROR_FACTORY.create("invalid-log-argument" /* INVALID_LOG_ARGUMENT */);
        }
        (0,_firebase_logger__WEBPACK_IMPORTED_MODULE_2__.setUserLogHandler)(logCallback, options);
    }
    // Map the requested service to a registered service name
    // (used to map auth to serverAuth service when needed).
    function useAsService(app, name) {
        if (name === 'serverAuth') {
            return null;
        }
        var useService = name;
        return useService;
    }
    return namespace;
}

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Return a firebase namespace object.
 *
 * In production, this will be called exactly once and the result
 * assigned to the 'firebase' global.  It may be called multiple times
 * in unit tests.
 */
function createFirebaseNamespace() {
    var namespace = createFirebaseNamespaceCore(FirebaseAppImpl);
    namespace.INTERNAL = (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_3__.__assign)({}, namespace.INTERNAL), { createFirebaseNamespace: createFirebaseNamespace,
        extendNamespace: extendNamespace,
        createSubscribe: _firebase_util__WEBPACK_IMPORTED_MODULE_0__.createSubscribe,
        ErrorFactory: _firebase_util__WEBPACK_IMPORTED_MODULE_0__.ErrorFactory,
        deepExtend: _firebase_util__WEBPACK_IMPORTED_MODULE_0__.deepExtend });
    /**
     * Patch the top-level firebase namespace with additional properties.
     *
     * firebase.INTERNAL.extendNamespace()
     */
    function extendNamespace(props) {
        (0,_firebase_util__WEBPACK_IMPORTED_MODULE_0__.deepExtend)(namespace, props);
    }
    return namespace;
}
var firebase = createFirebaseNamespace();

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var PlatformLoggerService = /** @class */ (function () {
    function PlatformLoggerService(container) {
        this.container = container;
    }
    // In initial implementation, this will be called by installations on
    // auth token refresh, and installations will send this string.
    PlatformLoggerService.prototype.getPlatformInfoString = function () {
        var providers = this.container.getProviders();
        // Loop through providers and get library/version pairs from any that are
        // version components.
        return providers
            .map(function (provider) {
            if (isVersionServiceProvider(provider)) {
                var service = provider.getImmediate();
                return service.library + "/" + service.version;
            }
            else {
                return null;
            }
        })
            .filter(function (logString) { return logString; })
            .join(' ');
    };
    return PlatformLoggerService;
}());
/**
 *
 * @param provider check if this provider provides a VersionService
 *
 * NOTE: Using Provider<'app-version'> is a hack to indicate that the provider
 * provides VersionService. The provider is not necessarily a 'app-version'
 * provider.
 */
function isVersionServiceProvider(provider) {
    var component = provider.getComponent();
    return (component === null || component === void 0 ? void 0 : component.type) === "VERSION" /* VERSION */;
}

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function registerCoreComponents(firebase, variant) {
    firebase.INTERNAL.registerComponent(new _firebase_component__WEBPACK_IMPORTED_MODULE_1__.Component('platform-logger', function (container) { return new PlatformLoggerService(container); }, "PRIVATE" /* PRIVATE */));
    // Register `app` package.
    firebase.registerVersion(name, version, variant);
    // Register platform SDK identifier (no version).
    firebase.registerVersion('fire-js', '');
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
// Firebase Lite detection test
// eslint-disable-next-line @typescript-eslint/no-explicit-any
if ((0,_firebase_util__WEBPACK_IMPORTED_MODULE_0__.isBrowser)() && self.firebase !== undefined) {
    logger.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");
    // eslint-disable-next-line
    var sdkVersion = self.firebase.SDK_VERSION;
    if (sdkVersion && sdkVersion.indexOf('LITE') >= 0) {
        logger.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ");
    }
}
var initializeApp = firebase.initializeApp;
// TODO: This disable can be removed and the 'ignoreRestArgs' option added to
// the no-explicit-any rule when ESlint releases it.
// eslint-disable-next-line @typescript-eslint/no-explicit-any
firebase.initializeApp = function () {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    // Environment check before initializing app
    // Do the check in initializeApp, so people have a chance to disable it by setting logLevel
    // in @firebase/logger
    if ((0,_firebase_util__WEBPACK_IMPORTED_MODULE_0__.isNode)()) {
        logger.warn("\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the \"main\" field in package.json.\n      \n      If you are using Webpack, you can specify \"main\" as the first item in\n      \"resolve.mainFields\":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify \"main\"\n      as the first item in \"mainFields\", e.g. ['main', 'module'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      ");
    }
    return initializeApp.apply(undefined, args);
};
var firebase$1 = firebase;
registerCoreComponents(firebase$1);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (firebase$1);

//# sourceMappingURL=index.esm.js.map


/***/ }),

/***/ "./node_modules/@firebase/component/dist/index.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/@firebase/component/dist/index.esm.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Component": () => (/* binding */ Component),
/* harmony export */   "ComponentContainer": () => (/* binding */ ComponentContainer),
/* harmony export */   "Provider": () => (/* binding */ Provider)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _firebase_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @firebase/util */ "./node_modules/@firebase/util/dist/index.esm.js");



/**
 * Component for service name T, e.g. `auth`, `auth-internal`
 */
var Component = /** @class */ (function () {
    /**
     *
     * @param name The public service name, e.g. app, auth, firestore, database
     * @param instanceFactory Service factory responsible for creating the public interface
     * @param type whether the service provided by the component is public or private
     */
    function Component(name, instanceFactory, type) {
        this.name = name;
        this.instanceFactory = instanceFactory;
        this.type = type;
        this.multipleInstances = false;
        /**
         * Properties to be added to the service namespace
         */
        this.serviceProps = {};
        this.instantiationMode = "LAZY" /* LAZY */;
        this.onInstanceCreated = null;
    }
    Component.prototype.setInstantiationMode = function (mode) {
        this.instantiationMode = mode;
        return this;
    };
    Component.prototype.setMultipleInstances = function (multipleInstances) {
        this.multipleInstances = multipleInstances;
        return this;
    };
    Component.prototype.setServiceProps = function (props) {
        this.serviceProps = props;
        return this;
    };
    Component.prototype.setInstanceCreatedCallback = function (callback) {
        this.onInstanceCreated = callback;
        return this;
    };
    return Component;
}());

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var DEFAULT_ENTRY_NAME = '[DEFAULT]';

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Provider for instance for service name T, e.g. 'auth', 'auth-internal'
 * NameServiceMapping[T] is an alias for the type of the instance
 */
var Provider = /** @class */ (function () {
    function Provider(name, container) {
        this.name = name;
        this.container = container;
        this.component = null;
        this.instances = new Map();
        this.instancesDeferred = new Map();
    }
    /**
     * @param identifier A provider can provide mulitple instances of a service
     * if this.component.multipleInstances is true.
     */
    Provider.prototype.get = function (identifier) {
        if (identifier === void 0) { identifier = DEFAULT_ENTRY_NAME; }
        // if multipleInstances is not supported, use the default name
        var normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);
        if (!this.instancesDeferred.has(normalizedIdentifier)) {
            var deferred = new _firebase_util__WEBPACK_IMPORTED_MODULE_0__.Deferred();
            this.instancesDeferred.set(normalizedIdentifier, deferred);
            if (this.isInitialized(normalizedIdentifier) ||
                this.shouldAutoInitialize()) {
                // initialize the service if it can be auto-initialized
                try {
                    var instance = this.getOrInitializeService({
                        instanceIdentifier: normalizedIdentifier
                    });
                    if (instance) {
                        deferred.resolve(instance);
                    }
                }
                catch (e) {
                    // when the instance factory throws an exception during get(), it should not cause
                    // a fatal error. We just return the unresolved promise in this case.
                }
            }
        }
        return this.instancesDeferred.get(normalizedIdentifier).promise;
    };
    Provider.prototype.getImmediate = function (options) {
        var _a = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({ identifier: DEFAULT_ENTRY_NAME, optional: false }, options), identifier = _a.identifier, optional = _a.optional;
        // if multipleInstances is not supported, use the default name
        var normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);
        if (this.isInitialized(normalizedIdentifier) ||
            this.shouldAutoInitialize()) {
            try {
                return this.getOrInitializeService({
                    instanceIdentifier: normalizedIdentifier
                });
            }
            catch (e) {
                if (optional) {
                    return null;
                }
                else {
                    throw e;
                }
            }
        }
        else {
            // In case a component is not initialized and should/can not be auto-initialized at the moment, return null if the optional flag is set, or throw
            if (optional) {
                return null;
            }
            else {
                throw Error("Service " + this.name + " is not available");
            }
        }
    };
    Provider.prototype.getComponent = function () {
        return this.component;
    };
    Provider.prototype.setComponent = function (component) {
        var e_1, _a;
        if (component.name !== this.name) {
            throw Error("Mismatching Component " + component.name + " for Provider " + this.name + ".");
        }
        if (this.component) {
            throw Error("Component for " + this.name + " has already been provided");
        }
        this.component = component;
        // return early without attempting to initialize the component if the component requires explicit initialization (calling `Provider.initialize()`)
        if (!this.shouldAutoInitialize()) {
            return;
        }
        // if the service is eager, initialize the default instance
        if (isComponentEager(component)) {
            try {
                this.getOrInitializeService({ instanceIdentifier: DEFAULT_ENTRY_NAME });
            }
            catch (e) {
                // when the instance factory for an eager Component throws an exception during the eager
                // initialization, it should not cause a fatal error.
                // TODO: Investigate if we need to make it configurable, because some component may want to cause
                // a fatal error in this case?
            }
        }
        try {
            // Create service instances for the pending promises and resolve them
            // NOTE: if this.multipleInstances is false, only the default instance will be created
            // and all promises with resolve with it regardless of the identifier.
            for (var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__values)(this.instancesDeferred.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {
                var _d = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__read)(_c.value, 2), instanceIdentifier = _d[0], instanceDeferred = _d[1];
                var normalizedIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);
                try {
                    // `getOrInitializeService()` should always return a valid instance since a component is guaranteed. use ! to make typescript happy.
                    var instance = this.getOrInitializeService({
                        instanceIdentifier: normalizedIdentifier
                    });
                    instanceDeferred.resolve(instance);
                }
                catch (e) {
                    // when the instance factory throws an exception, it should not cause
                    // a fatal error. We just leave the promise unresolved.
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
    };
    Provider.prototype.clearInstance = function (identifier) {
        if (identifier === void 0) { identifier = DEFAULT_ENTRY_NAME; }
        this.instancesDeferred.delete(identifier);
        this.instances.delete(identifier);
    };
    // app.delete() will call this method on every provider to delete the services
    // TODO: should we mark the provider as deleted?
    Provider.prototype.delete = function () {
        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__awaiter)(this, void 0, void 0, function () {
            var services;
            return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__generator)(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        services = Array.from(this.instances.values());
                        return [4 /*yield*/, Promise.all((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)([], (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__read)(services
                                .filter(function (service) { return 'INTERNAL' in service; }) // legacy services
                                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                                .map(function (service) { return service.INTERNAL.delete(); }))), (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__read)(services
                                .filter(function (service) { return '_delete' in service; }) // modularized services
                                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                                .map(function (service) { return service._delete(); }))))];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    Provider.prototype.isComponentSet = function () {
        return this.component != null;
    };
    Provider.prototype.isInitialized = function (identifier) {
        if (identifier === void 0) { identifier = DEFAULT_ENTRY_NAME; }
        return this.instances.has(identifier);
    };
    Provider.prototype.initialize = function (opts) {
        var e_2, _a;
        if (opts === void 0) { opts = {}; }
        var _b = opts.instanceIdentifier, instanceIdentifier = _b === void 0 ? DEFAULT_ENTRY_NAME : _b, _c = opts.options, options = _c === void 0 ? {} : _c;
        var normalizedIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);
        if (this.isInitialized(normalizedIdentifier)) {
            throw Error(this.name + "(" + normalizedIdentifier + ") has already been initialized");
        }
        if (!this.isComponentSet()) {
            throw Error("Component " + this.name + " has not been registered yet");
        }
        var instance = this.getOrInitializeService({
            instanceIdentifier: normalizedIdentifier,
            options: options
        });
        try {
            // resolve any pending promise waiting for the service instance
            for (var _d = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__values)(this.instancesDeferred.entries()), _e = _d.next(); !_e.done; _e = _d.next()) {
                var _f = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__read)(_e.value, 2), instanceIdentifier_1 = _f[0], instanceDeferred = _f[1];
                var normalizedDeferredIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier_1);
                if (normalizedIdentifier === normalizedDeferredIdentifier) {
                    instanceDeferred.resolve(instance);
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return instance;
    };
    Provider.prototype.getOrInitializeService = function (_a) {
        var instanceIdentifier = _a.instanceIdentifier, _b = _a.options, options = _b === void 0 ? {} : _b;
        var instance = this.instances.get(instanceIdentifier);
        if (!instance && this.component) {
            instance = this.component.instanceFactory(this.container, {
                instanceIdentifier: normalizeIdentifierForFactory(instanceIdentifier),
                options: options
            });
            this.instances.set(instanceIdentifier, instance);
            /**
             * Order is important
             * onInstanceCreated() should be called after this.instances.set(instanceIdentifier, instance); which
             * makes `isInitialized()` return true.
             */
            if (this.component.onInstanceCreated) {
                try {
                    this.component.onInstanceCreated(this.container, instanceIdentifier, instance);
                }
                catch (_c) {
                    // ignore errors in the onInstanceCreatedCallback
                }
            }
        }
        return instance || null;
    };
    Provider.prototype.normalizeInstanceIdentifier = function (identifier) {
        if (this.component) {
            return this.component.multipleInstances ? identifier : DEFAULT_ENTRY_NAME;
        }
        else {
            return identifier; // assume multiple instances are supported before the component is provided.
        }
    };
    Provider.prototype.shouldAutoInitialize = function () {
        return (!!this.component &&
            this.component.instantiationMode !== "EXPLICIT" /* EXPLICIT */);
    };
    return Provider;
}());
// undefined should be passed to the service factory for the default instance
function normalizeIdentifierForFactory(identifier) {
    return identifier === DEFAULT_ENTRY_NAME ? undefined : identifier;
}
function isComponentEager(component) {
    return component.instantiationMode === "EAGER" /* EAGER */;
}

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * ComponentContainer that provides Providers for service name T, e.g. `auth`, `auth-internal`
 */
var ComponentContainer = /** @class */ (function () {
    function ComponentContainer(name) {
        this.name = name;
        this.providers = new Map();
    }
    /**
     *
     * @param component Component being added
     * @param overwrite When a component with the same name has already been registered,
     * if overwrite is true: overwrite the existing component with the new component and create a new
     * provider with the new component. It can be useful in tests where you want to use different mocks
     * for different tests.
     * if overwrite is false: throw an exception
     */
    ComponentContainer.prototype.addComponent = function (component) {
        var provider = this.getProvider(component.name);
        if (provider.isComponentSet()) {
            throw new Error("Component " + component.name + " has already been registered with " + this.name);
        }
        provider.setComponent(component);
    };
    ComponentContainer.prototype.addOrOverwriteComponent = function (component) {
        var provider = this.getProvider(component.name);
        if (provider.isComponentSet()) {
            // delete the existing provider from the container, so we can register the new component
            this.providers.delete(component.name);
        }
        this.addComponent(component);
    };
    /**
     * getProvider provides a type safe interface where it can only be called with a field name
     * present in NameServiceMapping interface.
     *
     * Firebase SDKs providing services should extend NameServiceMapping interface to register
     * themselves.
     */
    ComponentContainer.prototype.getProvider = function (name) {
        if (this.providers.has(name)) {
            return this.providers.get(name);
        }
        // create a Provider for a service that hasn't registered with Firebase
        var provider = new Provider(name, this);
        this.providers.set(name, provider);
        return provider;
    };
    ComponentContainer.prototype.getProviders = function () {
        return Array.from(this.providers.values());
    };
    return ComponentContainer;
}());


//# sourceMappingURL=index.esm.js.map


/***/ }),

/***/ "./node_modules/@firebase/logger/dist/index.esm.js":
/*!*********************************************************!*\
  !*** ./node_modules/@firebase/logger/dist/index.esm.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LogLevel": () => (/* binding */ LogLevel),
/* harmony export */   "Logger": () => (/* binding */ Logger),
/* harmony export */   "setLogLevel": () => (/* binding */ setLogLevel),
/* harmony export */   "setUserLogHandler": () => (/* binding */ setUserLogHandler)
/* harmony export */ });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _a;
/**
 * A container for all of the Logger instances
 */
var instances = [];
/**
 * The JS SDK supports 5 log levels and also allows a user the ability to
 * silence the logs altogether.
 *
 * The order is a follows:
 * DEBUG < VERBOSE < INFO < WARN < ERROR
 *
 * All of the log types above the current log level will be captured (i.e. if
 * you set the log level to `INFO`, errors will still be logged, but `DEBUG` and
 * `VERBOSE` logs will not)
 */
var LogLevel;
(function (LogLevel) {
    LogLevel[LogLevel["DEBUG"] = 0] = "DEBUG";
    LogLevel[LogLevel["VERBOSE"] = 1] = "VERBOSE";
    LogLevel[LogLevel["INFO"] = 2] = "INFO";
    LogLevel[LogLevel["WARN"] = 3] = "WARN";
    LogLevel[LogLevel["ERROR"] = 4] = "ERROR";
    LogLevel[LogLevel["SILENT"] = 5] = "SILENT";
})(LogLevel || (LogLevel = {}));
var levelStringToEnum = {
    'debug': LogLevel.DEBUG,
    'verbose': LogLevel.VERBOSE,
    'info': LogLevel.INFO,
    'warn': LogLevel.WARN,
    'error': LogLevel.ERROR,
    'silent': LogLevel.SILENT
};
/**
 * The default log level
 */
var defaultLogLevel = LogLevel.INFO;
/**
 * By default, `console.debug` is not displayed in the developer console (in
 * chrome). To avoid forcing users to have to opt-in to these logs twice
 * (i.e. once for firebase, and once in the console), we are sending `DEBUG`
 * logs to the `console.log` function.
 */
var ConsoleMethod = (_a = {},
    _a[LogLevel.DEBUG] = 'log',
    _a[LogLevel.VERBOSE] = 'log',
    _a[LogLevel.INFO] = 'info',
    _a[LogLevel.WARN] = 'warn',
    _a[LogLevel.ERROR] = 'error',
    _a);
/**
 * The default log handler will forward DEBUG, VERBOSE, INFO, WARN, and ERROR
 * messages on to their corresponding console counterparts (if the log method
 * is supported by the current log level)
 */
var defaultLogHandler = function (instance, logType) {
    var args = [];
    for (var _i = 2; _i < arguments.length; _i++) {
        args[_i - 2] = arguments[_i];
    }
    if (logType < instance.logLevel) {
        return;
    }
    var now = new Date().toISOString();
    var method = ConsoleMethod[logType];
    if (method) {
        console[method].apply(console, __spreadArrays(["[" + now + "]  " + instance.name + ":"], args));
    }
    else {
        throw new Error("Attempted to log a message with an invalid logType (value: " + logType + ")");
    }
};
var Logger = /** @class */ (function () {
    /**
     * Gives you an instance of a Logger to capture messages according to
     * Firebase's logging scheme.
     *
     * @param name The name that the logs will be associated with
     */
    function Logger(name) {
        this.name = name;
        /**
         * The log level of the given Logger instance.
         */
        this._logLevel = defaultLogLevel;
        /**
         * The main (internal) log handler for the Logger instance.
         * Can be set to a new function in internal package code but not by user.
         */
        this._logHandler = defaultLogHandler;
        /**
         * The optional, additional, user-defined log handler for the Logger instance.
         */
        this._userLogHandler = null;
        /**
         * Capture the current instance for later use
         */
        instances.push(this);
    }
    Object.defineProperty(Logger.prototype, "logLevel", {
        get: function () {
            return this._logLevel;
        },
        set: function (val) {
            if (!(val in LogLevel)) {
                throw new TypeError("Invalid value \"" + val + "\" assigned to `logLevel`");
            }
            this._logLevel = val;
        },
        enumerable: false,
        configurable: true
    });
    // Workaround for setter/getter having to be the same type.
    Logger.prototype.setLogLevel = function (val) {
        this._logLevel = typeof val === 'string' ? levelStringToEnum[val] : val;
    };
    Object.defineProperty(Logger.prototype, "logHandler", {
        get: function () {
            return this._logHandler;
        },
        set: function (val) {
            if (typeof val !== 'function') {
                throw new TypeError('Value assigned to `logHandler` must be a function');
            }
            this._logHandler = val;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Logger.prototype, "userLogHandler", {
        get: function () {
            return this._userLogHandler;
        },
        set: function (val) {
            this._userLogHandler = val;
        },
        enumerable: false,
        configurable: true
    });
    /**
     * The functions below are all based on the `console` interface
     */
    Logger.prototype.debug = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        this._userLogHandler && this._userLogHandler.apply(this, __spreadArrays([this, LogLevel.DEBUG], args));
        this._logHandler.apply(this, __spreadArrays([this, LogLevel.DEBUG], args));
    };
    Logger.prototype.log = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        this._userLogHandler && this._userLogHandler.apply(this, __spreadArrays([this, LogLevel.VERBOSE], args));
        this._logHandler.apply(this, __spreadArrays([this, LogLevel.VERBOSE], args));
    };
    Logger.prototype.info = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        this._userLogHandler && this._userLogHandler.apply(this, __spreadArrays([this, LogLevel.INFO], args));
        this._logHandler.apply(this, __spreadArrays([this, LogLevel.INFO], args));
    };
    Logger.prototype.warn = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        this._userLogHandler && this._userLogHandler.apply(this, __spreadArrays([this, LogLevel.WARN], args));
        this._logHandler.apply(this, __spreadArrays([this, LogLevel.WARN], args));
    };
    Logger.prototype.error = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        this._userLogHandler && this._userLogHandler.apply(this, __spreadArrays([this, LogLevel.ERROR], args));
        this._logHandler.apply(this, __spreadArrays([this, LogLevel.ERROR], args));
    };
    return Logger;
}());
function setLogLevel(level) {
    instances.forEach(function (inst) {
        inst.setLogLevel(level);
    });
}
function setUserLogHandler(logCallback, options) {
    var _loop_1 = function (instance) {
        var customLogLevel = null;
        if (options && options.level) {
            customLogLevel = levelStringToEnum[options.level];
        }
        if (logCallback === null) {
            instance.userLogHandler = null;
        }
        else {
            instance.userLogHandler = function (instance, level) {
                var args = [];
                for (var _i = 2; _i < arguments.length; _i++) {
                    args[_i - 2] = arguments[_i];
                }
                var message = args
                    .map(function (arg) {
                    if (arg == null) {
                        return null;
                    }
                    else if (typeof arg === 'string') {
                        return arg;
                    }
                    else if (typeof arg === 'number' || typeof arg === 'boolean') {
                        return arg.toString();
                    }
                    else if (arg instanceof Error) {
                        return arg.message;
                    }
                    else {
                        try {
                            return JSON.stringify(arg);
                        }
                        catch (ignored) {
                            return null;
                        }
                    }
                })
                    .filter(function (arg) { return arg; })
                    .join(' ');
                if (level >= (customLogLevel !== null && customLogLevel !== void 0 ? customLogLevel : instance.logLevel)) {
                    logCallback({
                        level: LogLevel[level].toLowerCase(),
                        message: message,
                        args: args,
                        type: instance.name
                    });
                }
            };
        }
    };
    for (var _i = 0, instances_1 = instances; _i < instances_1.length; _i++) {
        var instance = instances_1[_i];
        _loop_1(instance);
    }
}


//# sourceMappingURL=index.esm.js.map


/***/ }),

/***/ "./node_modules/@firebase/util/dist/index.esm.js":
/*!*******************************************************!*\
  !*** ./node_modules/@firebase/util/dist/index.esm.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CONSTANTS": () => (/* binding */ CONSTANTS),
/* harmony export */   "Deferred": () => (/* binding */ Deferred),
/* harmony export */   "ErrorFactory": () => (/* binding */ ErrorFactory),
/* harmony export */   "FirebaseError": () => (/* binding */ FirebaseError),
/* harmony export */   "MAX_VALUE_MILLIS": () => (/* binding */ MAX_VALUE_MILLIS),
/* harmony export */   "RANDOM_FACTOR": () => (/* binding */ RANDOM_FACTOR),
/* harmony export */   "Sha1": () => (/* binding */ Sha1),
/* harmony export */   "areCookiesEnabled": () => (/* binding */ areCookiesEnabled),
/* harmony export */   "assert": () => (/* binding */ assert),
/* harmony export */   "assertionError": () => (/* binding */ assertionError),
/* harmony export */   "async": () => (/* binding */ async),
/* harmony export */   "base64": () => (/* binding */ base64),
/* harmony export */   "base64Decode": () => (/* binding */ base64Decode),
/* harmony export */   "base64Encode": () => (/* binding */ base64Encode),
/* harmony export */   "calculateBackoffMillis": () => (/* binding */ calculateBackoffMillis),
/* harmony export */   "contains": () => (/* binding */ contains),
/* harmony export */   "createSubscribe": () => (/* binding */ createSubscribe),
/* harmony export */   "decode": () => (/* binding */ decode),
/* harmony export */   "deepCopy": () => (/* binding */ deepCopy),
/* harmony export */   "deepExtend": () => (/* binding */ deepExtend),
/* harmony export */   "errorPrefix": () => (/* binding */ errorPrefix),
/* harmony export */   "extractQuerystring": () => (/* binding */ extractQuerystring),
/* harmony export */   "getModularInstance": () => (/* binding */ getModularInstance),
/* harmony export */   "getUA": () => (/* binding */ getUA),
/* harmony export */   "isAdmin": () => (/* binding */ isAdmin),
/* harmony export */   "isBrowser": () => (/* binding */ isBrowser),
/* harmony export */   "isBrowserExtension": () => (/* binding */ isBrowserExtension),
/* harmony export */   "isElectron": () => (/* binding */ isElectron),
/* harmony export */   "isEmpty": () => (/* binding */ isEmpty),
/* harmony export */   "isIE": () => (/* binding */ isIE),
/* harmony export */   "isIndexedDBAvailable": () => (/* binding */ isIndexedDBAvailable),
/* harmony export */   "isMobileCordova": () => (/* binding */ isMobileCordova),
/* harmony export */   "isNode": () => (/* binding */ isNode),
/* harmony export */   "isNodeSdk": () => (/* binding */ isNodeSdk),
/* harmony export */   "isReactNative": () => (/* binding */ isReactNative),
/* harmony export */   "isSafari": () => (/* binding */ isSafari),
/* harmony export */   "isUWP": () => (/* binding */ isUWP),
/* harmony export */   "isValidFormat": () => (/* binding */ isValidFormat),
/* harmony export */   "isValidTimestamp": () => (/* binding */ isValidTimestamp),
/* harmony export */   "issuedAtTime": () => (/* binding */ issuedAtTime),
/* harmony export */   "jsonEval": () => (/* binding */ jsonEval),
/* harmony export */   "map": () => (/* binding */ map),
/* harmony export */   "ordinal": () => (/* binding */ ordinal),
/* harmony export */   "querystring": () => (/* binding */ querystring),
/* harmony export */   "querystringDecode": () => (/* binding */ querystringDecode),
/* harmony export */   "safeGet": () => (/* binding */ safeGet),
/* harmony export */   "stringLength": () => (/* binding */ stringLength),
/* harmony export */   "stringToByteArray": () => (/* binding */ stringToByteArray$1),
/* harmony export */   "stringify": () => (/* binding */ stringify),
/* harmony export */   "validateArgCount": () => (/* binding */ validateArgCount),
/* harmony export */   "validateCallback": () => (/* binding */ validateCallback),
/* harmony export */   "validateContextObject": () => (/* binding */ validateContextObject),
/* harmony export */   "validateIndexedDBOpenable": () => (/* binding */ validateIndexedDBOpenable),
/* harmony export */   "validateNamespace": () => (/* binding */ validateNamespace)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");


/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @fileoverview Firebase constants.  Some of these (@defines) can be overridden at compile-time.
 */
var CONSTANTS = {
    /**
     * @define {boolean} Whether this is the client Node.js SDK.
     */
    NODE_CLIENT: false,
    /**
     * @define {boolean} Whether this is the Admin Node.js SDK.
     */
    NODE_ADMIN: false,
    /**
     * Firebase SDK Version
     */
    SDK_VERSION: '${JSCORE_VERSION}'
};

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Throws an error if the provided assertion is falsy
 */
var assert = function (assertion, message) {
    if (!assertion) {
        throw assertionError(message);
    }
};
/**
 * Returns an Error object suitable for throwing.
 */
var assertionError = function (message) {
    return new Error('Firebase Database (' +
        CONSTANTS.SDK_VERSION +
        ') INTERNAL ASSERT FAILED: ' +
        message);
};

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var stringToByteArray = function (str) {
    // TODO(user): Use native implementations if/when available
    var out = [];
    var p = 0;
    for (var i = 0; i < str.length; i++) {
        var c = str.charCodeAt(i);
        if (c < 128) {
            out[p++] = c;
        }
        else if (c < 2048) {
            out[p++] = (c >> 6) | 192;
            out[p++] = (c & 63) | 128;
        }
        else if ((c & 0xfc00) === 0xd800 &&
            i + 1 < str.length &&
            (str.charCodeAt(i + 1) & 0xfc00) === 0xdc00) {
            // Surrogate Pair
            c = 0x10000 + ((c & 0x03ff) << 10) + (str.charCodeAt(++i) & 0x03ff);
            out[p++] = (c >> 18) | 240;
            out[p++] = ((c >> 12) & 63) | 128;
            out[p++] = ((c >> 6) & 63) | 128;
            out[p++] = (c & 63) | 128;
        }
        else {
            out[p++] = (c >> 12) | 224;
            out[p++] = ((c >> 6) & 63) | 128;
            out[p++] = (c & 63) | 128;
        }
    }
    return out;
};
/**
 * Turns an array of numbers into the string given by the concatenation of the
 * characters to which the numbers correspond.
 * @param bytes Array of numbers representing characters.
 * @return Stringification of the array.
 */
var byteArrayToString = function (bytes) {
    // TODO(user): Use native implementations if/when available
    var out = [];
    var pos = 0, c = 0;
    while (pos < bytes.length) {
        var c1 = bytes[pos++];
        if (c1 < 128) {
            out[c++] = String.fromCharCode(c1);
        }
        else if (c1 > 191 && c1 < 224) {
            var c2 = bytes[pos++];
            out[c++] = String.fromCharCode(((c1 & 31) << 6) | (c2 & 63));
        }
        else if (c1 > 239 && c1 < 365) {
            // Surrogate Pair
            var c2 = bytes[pos++];
            var c3 = bytes[pos++];
            var c4 = bytes[pos++];
            var u = (((c1 & 7) << 18) | ((c2 & 63) << 12) | ((c3 & 63) << 6) | (c4 & 63)) -
                0x10000;
            out[c++] = String.fromCharCode(0xd800 + (u >> 10));
            out[c++] = String.fromCharCode(0xdc00 + (u & 1023));
        }
        else {
            var c2 = bytes[pos++];
            var c3 = bytes[pos++];
            out[c++] = String.fromCharCode(((c1 & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));
        }
    }
    return out.join('');
};
// We define it as an object literal instead of a class because a class compiled down to es5 can't
// be treeshaked. https://github.com/rollup/rollup/issues/1691
// Static lookup maps, lazily populated by init_()
var base64 = {
    /**
     * Maps bytes to characters.
     */
    byteToCharMap_: null,
    /**
     * Maps characters to bytes.
     */
    charToByteMap_: null,
    /**
     * Maps bytes to websafe characters.
     * @private
     */
    byteToCharMapWebSafe_: null,
    /**
     * Maps websafe characters to bytes.
     * @private
     */
    charToByteMapWebSafe_: null,
    /**
     * Our default alphabet, shared between
     * ENCODED_VALS and ENCODED_VALS_WEBSAFE
     */
    ENCODED_VALS_BASE: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz' + '0123456789',
    /**
     * Our default alphabet. Value 64 (=) is special; it means "nothing."
     */
    get ENCODED_VALS() {
        return this.ENCODED_VALS_BASE + '+/=';
    },
    /**
     * Our websafe alphabet.
     */
    get ENCODED_VALS_WEBSAFE() {
        return this.ENCODED_VALS_BASE + '-_.';
    },
    /**
     * Whether this browser supports the atob and btoa functions. This extension
     * started at Mozilla but is now implemented by many browsers. We use the
     * ASSUME_* variables to avoid pulling in the full useragent detection library
     * but still allowing the standard per-browser compilations.
     *
     */
    HAS_NATIVE_SUPPORT: typeof atob === 'function',
    /**
     * Base64-encode an array of bytes.
     *
     * @param input An array of bytes (numbers with
     *     value in [0, 255]) to encode.
     * @param webSafe Boolean indicating we should use the
     *     alternative alphabet.
     * @return The base64 encoded string.
     */
    encodeByteArray: function (input, webSafe) {
        if (!Array.isArray(input)) {
            throw Error('encodeByteArray takes an array as a parameter');
        }
        this.init_();
        var byteToCharMap = webSafe
            ? this.byteToCharMapWebSafe_
            : this.byteToCharMap_;
        var output = [];
        for (var i = 0; i < input.length; i += 3) {
            var byte1 = input[i];
            var haveByte2 = i + 1 < input.length;
            var byte2 = haveByte2 ? input[i + 1] : 0;
            var haveByte3 = i + 2 < input.length;
            var byte3 = haveByte3 ? input[i + 2] : 0;
            var outByte1 = byte1 >> 2;
            var outByte2 = ((byte1 & 0x03) << 4) | (byte2 >> 4);
            var outByte3 = ((byte2 & 0x0f) << 2) | (byte3 >> 6);
            var outByte4 = byte3 & 0x3f;
            if (!haveByte3) {
                outByte4 = 64;
                if (!haveByte2) {
                    outByte3 = 64;
                }
            }
            output.push(byteToCharMap[outByte1], byteToCharMap[outByte2], byteToCharMap[outByte3], byteToCharMap[outByte4]);
        }
        return output.join('');
    },
    /**
     * Base64-encode a string.
     *
     * @param input A string to encode.
     * @param webSafe If true, we should use the
     *     alternative alphabet.
     * @return The base64 encoded string.
     */
    encodeString: function (input, webSafe) {
        // Shortcut for Mozilla browsers that implement
        // a native base64 encoder in the form of "btoa/atob"
        if (this.HAS_NATIVE_SUPPORT && !webSafe) {
            return btoa(input);
        }
        return this.encodeByteArray(stringToByteArray(input), webSafe);
    },
    /**
     * Base64-decode a string.
     *
     * @param input to decode.
     * @param webSafe True if we should use the
     *     alternative alphabet.
     * @return string representing the decoded value.
     */
    decodeString: function (input, webSafe) {
        // Shortcut for Mozilla browsers that implement
        // a native base64 encoder in the form of "btoa/atob"
        if (this.HAS_NATIVE_SUPPORT && !webSafe) {
            return atob(input);
        }
        return byteArrayToString(this.decodeStringToByteArray(input, webSafe));
    },
    /**
     * Base64-decode a string.
     *
     * In base-64 decoding, groups of four characters are converted into three
     * bytes.  If the encoder did not apply padding, the input length may not
     * be a multiple of 4.
     *
     * In this case, the last group will have fewer than 4 characters, and
     * padding will be inferred.  If the group has one or two characters, it decodes
     * to one byte.  If the group has three characters, it decodes to two bytes.
     *
     * @param input Input to decode.
     * @param webSafe True if we should use the web-safe alphabet.
     * @return bytes representing the decoded value.
     */
    decodeStringToByteArray: function (input, webSafe) {
        this.init_();
        var charToByteMap = webSafe
            ? this.charToByteMapWebSafe_
            : this.charToByteMap_;
        var output = [];
        for (var i = 0; i < input.length;) {
            var byte1 = charToByteMap[input.charAt(i++)];
            var haveByte2 = i < input.length;
            var byte2 = haveByte2 ? charToByteMap[input.charAt(i)] : 0;
            ++i;
            var haveByte3 = i < input.length;
            var byte3 = haveByte3 ? charToByteMap[input.charAt(i)] : 64;
            ++i;
            var haveByte4 = i < input.length;
            var byte4 = haveByte4 ? charToByteMap[input.charAt(i)] : 64;
            ++i;
            if (byte1 == null || byte2 == null || byte3 == null || byte4 == null) {
                throw Error();
            }
            var outByte1 = (byte1 << 2) | (byte2 >> 4);
            output.push(outByte1);
            if (byte3 !== 64) {
                var outByte2 = ((byte2 << 4) & 0xf0) | (byte3 >> 2);
                output.push(outByte2);
                if (byte4 !== 64) {
                    var outByte3 = ((byte3 << 6) & 0xc0) | byte4;
                    output.push(outByte3);
                }
            }
        }
        return output;
    },
    /**
     * Lazy static initialization function. Called before
     * accessing any of the static map variables.
     * @private
     */
    init_: function () {
        if (!this.byteToCharMap_) {
            this.byteToCharMap_ = {};
            this.charToByteMap_ = {};
            this.byteToCharMapWebSafe_ = {};
            this.charToByteMapWebSafe_ = {};
            // We want quick mappings back and forth, so we precompute two maps.
            for (var i = 0; i < this.ENCODED_VALS.length; i++) {
                this.byteToCharMap_[i] = this.ENCODED_VALS.charAt(i);
                this.charToByteMap_[this.byteToCharMap_[i]] = i;
                this.byteToCharMapWebSafe_[i] = this.ENCODED_VALS_WEBSAFE.charAt(i);
                this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]] = i;
                // Be forgiving when decoding and correctly decode both encodings.
                if (i >= this.ENCODED_VALS_BASE.length) {
                    this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)] = i;
                    this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)] = i;
                }
            }
        }
    }
};
/**
 * URL-safe base64 encoding
 */
var base64Encode = function (str) {
    var utf8Bytes = stringToByteArray(str);
    return base64.encodeByteArray(utf8Bytes, true);
};
/**
 * URL-safe base64 decoding
 *
 * NOTE: DO NOT use the global atob() function - it does NOT support the
 * base64Url variant encoding.
 *
 * @param str To be decoded
 * @return Decoded result, if possible
 */
var base64Decode = function (str) {
    try {
        return base64.decodeString(str, true);
    }
    catch (e) {
        console.error('base64Decode failed: ', e);
    }
    return null;
};

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Do a deep-copy of basic JavaScript Objects or Arrays.
 */
function deepCopy(value) {
    return deepExtend(undefined, value);
}
/**
 * Copy properties from source to target (recursively allows extension
 * of Objects and Arrays).  Scalar values in the target are over-written.
 * If target is undefined, an object of the appropriate type will be created
 * (and returned).
 *
 * We recursively copy all child properties of plain Objects in the source- so
 * that namespace- like dictionaries are merged.
 *
 * Note that the target can be a function, in which case the properties in
 * the source Object are copied onto it as static properties of the Function.
 *
 * Note: we don't merge __proto__ to prevent prototype pollution
 */
function deepExtend(target, source) {
    if (!(source instanceof Object)) {
        return source;
    }
    switch (source.constructor) {
        case Date:
            // Treat Dates like scalars; if the target date object had any child
            // properties - they will be lost!
            var dateValue = source;
            return new Date(dateValue.getTime());
        case Object:
            if (target === undefined) {
                target = {};
            }
            break;
        case Array:
            // Always copy the array source and overwrite the target.
            target = [];
            break;
        default:
            // Not a plain Object - treat it as a scalar.
            return source;
    }
    for (var prop in source) {
        // use isValidKey to guard against prototype pollution. See https://snyk.io/vuln/SNYK-JS-LODASH-450202
        if (!source.hasOwnProperty(prop) || !isValidKey(prop)) {
            continue;
        }
        target[prop] = deepExtend(target[prop], source[prop]);
    }
    return target;
}
function isValidKey(key) {
    return key !== '__proto__';
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Deferred = /** @class */ (function () {
    function Deferred() {
        var _this = this;
        this.reject = function () { };
        this.resolve = function () { };
        this.promise = new Promise(function (resolve, reject) {
            _this.resolve = resolve;
            _this.reject = reject;
        });
    }
    /**
     * Our API internals are not promiseified and cannot because our callback APIs have subtle expectations around
     * invoking promises inline, which Promises are forbidden to do. This method accepts an optional node-style callback
     * and returns a node-style callback which will resolve or reject the Deferred's promise.
     */
    Deferred.prototype.wrapCallback = function (callback) {
        var _this = this;
        return function (error, value) {
            if (error) {
                _this.reject(error);
            }
            else {
                _this.resolve(value);
            }
            if (typeof callback === 'function') {
                // Attaching noop handler just in case developer wasn't expecting
                // promises
                _this.promise.catch(function () { });
                // Some of our callbacks don't expect a value and our own tests
                // assert that the parameter length is 1
                if (callback.length === 1) {
                    callback(error);
                }
                else {
                    callback(error, value);
                }
            }
        };
    };
    return Deferred;
}());

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Returns navigator.userAgent string or '' if it's not defined.
 * @return user agent string
 */
function getUA() {
    if (typeof navigator !== 'undefined' &&
        typeof navigator['userAgent'] === 'string') {
        return navigator['userAgent'];
    }
    else {
        return '';
    }
}
/**
 * Detect Cordova / PhoneGap / Ionic frameworks on a mobile device.
 *
 * Deliberately does not rely on checking `file://` URLs (as this fails PhoneGap
 * in the Ripple emulator) nor Cordova `onDeviceReady`, which would normally
 * wait for a callback.
 */
function isMobileCordova() {
    return (typeof window !== 'undefined' &&
        // @ts-ignore Setting up an broadly applicable index signature for Window
        // just to deal with this case would probably be a bad idea.
        !!(window['cordova'] || window['phonegap'] || window['PhoneGap']) &&
        /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA()));
}
/**
 * Detect Node.js.
 *
 * @return true if Node.js environment is detected.
 */
// Node detection logic from: https://github.com/iliakan/detect-node/
function isNode() {
    try {
        return (Object.prototype.toString.call(__webpack_require__.g.process) === '[object process]');
    }
    catch (e) {
        return false;
    }
}
/**
 * Detect Browser Environment
 */
function isBrowser() {
    return typeof self === 'object' && self.self === self;
}
function isBrowserExtension() {
    var runtime = typeof chrome === 'object'
        ? chrome.runtime
        : typeof browser === 'object'
            ? browser.runtime
            : undefined;
    return typeof runtime === 'object' && runtime.id !== undefined;
}
/**
 * Detect React Native.
 *
 * @return true if ReactNative environment is detected.
 */
function isReactNative() {
    return (typeof navigator === 'object' && navigator['product'] === 'ReactNative');
}
/** Detects Electron apps. */
function isElectron() {
    return getUA().indexOf('Electron/') >= 0;
}
/** Detects Internet Explorer. */
function isIE() {
    var ua = getUA();
    return ua.indexOf('MSIE ') >= 0 || ua.indexOf('Trident/') >= 0;
}
/** Detects Universal Windows Platform apps. */
function isUWP() {
    return getUA().indexOf('MSAppHost/') >= 0;
}
/**
 * Detect whether the current SDK build is the Node version.
 *
 * @return true if it's the Node SDK build.
 */
function isNodeSdk() {
    return CONSTANTS.NODE_CLIENT === true || CONSTANTS.NODE_ADMIN === true;
}
/** Returns true if we are running in Safari. */
function isSafari() {
    return (!isNode() &&
        navigator.userAgent.includes('Safari') &&
        !navigator.userAgent.includes('Chrome'));
}
/**
 * This method checks if indexedDB is supported by current browser/service worker context
 * @return true if indexedDB is supported by current browser/service worker context
 */
function isIndexedDBAvailable() {
    return 'indexedDB' in self && indexedDB != null;
}
/**
 * This method validates browser/sw context for indexedDB by opening a dummy indexedDB database and reject
 * if errors occur during the database open operation.
 *
 * @throws exception if current browser/sw context can't run idb.open (ex: Safari iframe, Firefox
 * private browsing)
 */
function validateIndexedDBOpenable() {
    return new Promise(function (resolve, reject) {
        try {
            var preExist_1 = true;
            var DB_CHECK_NAME_1 = 'validate-browser-context-for-indexeddb-analytics-module';
            var request_1 = self.indexedDB.open(DB_CHECK_NAME_1);
            request_1.onsuccess = function () {
                request_1.result.close();
                // delete database only when it doesn't pre-exist
                if (!preExist_1) {
                    self.indexedDB.deleteDatabase(DB_CHECK_NAME_1);
                }
                resolve(true);
            };
            request_1.onupgradeneeded = function () {
                preExist_1 = false;
            };
            request_1.onerror = function () {
                var _a;
                reject(((_a = request_1.error) === null || _a === void 0 ? void 0 : _a.message) || '');
            };
        }
        catch (error) {
            reject(error);
        }
    });
}
/**
 *
 * This method checks whether cookie is enabled within current browser
 * @return true if cookie is enabled within current browser
 */
function areCookiesEnabled() {
    if (!navigator || !navigator.cookieEnabled) {
        return false;
    }
    return true;
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ERROR_NAME = 'FirebaseError';
// Based on code from:
// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Custom_Error_Types
var FirebaseError = /** @class */ (function (_super) {
    (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__extends)(FirebaseError, _super);
    function FirebaseError(code, message, customData) {
        var _this = _super.call(this, message) || this;
        _this.code = code;
        _this.customData = customData;
        _this.name = ERROR_NAME;
        // Fix For ES5
        // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work
        Object.setPrototypeOf(_this, FirebaseError.prototype);
        // Maintains proper stack trace for where our error was thrown.
        // Only available on V8.
        if (Error.captureStackTrace) {
            Error.captureStackTrace(_this, ErrorFactory.prototype.create);
        }
        return _this;
    }
    return FirebaseError;
}(Error));
var ErrorFactory = /** @class */ (function () {
    function ErrorFactory(service, serviceName, errors) {
        this.service = service;
        this.serviceName = serviceName;
        this.errors = errors;
    }
    ErrorFactory.prototype.create = function (code) {
        var data = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            data[_i - 1] = arguments[_i];
        }
        var customData = data[0] || {};
        var fullCode = this.service + "/" + code;
        var template = this.errors[code];
        var message = template ? replaceTemplate(template, customData) : 'Error';
        // Service Name: Error message (service/code).
        var fullMessage = this.serviceName + ": " + message + " (" + fullCode + ").";
        var error = new FirebaseError(fullCode, fullMessage, customData);
        return error;
    };
    return ErrorFactory;
}());
function replaceTemplate(template, data) {
    return template.replace(PATTERN, function (_, key) {
        var value = data[key];
        return value != null ? String(value) : "<" + key + "?>";
    });
}
var PATTERN = /\{\$([^}]+)}/g;

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Evaluates a JSON string into a javascript object.
 *
 * @param {string} str A string containing JSON.
 * @return {*} The javascript object representing the specified JSON.
 */
function jsonEval(str) {
    return JSON.parse(str);
}
/**
 * Returns JSON representing a javascript object.
 * @param {*} data Javascript object to be stringified.
 * @return {string} The JSON contents of the object.
 */
function stringify(data) {
    return JSON.stringify(data);
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Decodes a Firebase auth. token into constituent parts.
 *
 * Notes:
 * - May return with invalid / incomplete claims if there's no native base64 decoding support.
 * - Doesn't check if the token is actually valid.
 */
var decode = function (token) {
    var header = {}, claims = {}, data = {}, signature = '';
    try {
        var parts = token.split('.');
        header = jsonEval(base64Decode(parts[0]) || '');
        claims = jsonEval(base64Decode(parts[1]) || '');
        signature = parts[2];
        data = claims['d'] || {};
        delete claims['d'];
    }
    catch (e) { }
    return {
        header: header,
        claims: claims,
        data: data,
        signature: signature
    };
};
/**
 * Decodes a Firebase auth. token and checks the validity of its time-based claims. Will return true if the
 * token is within the time window authorized by the 'nbf' (not-before) and 'iat' (issued-at) claims.
 *
 * Notes:
 * - May return a false negative if there's no native base64 decoding support.
 * - Doesn't check if the token is actually valid.
 */
var isValidTimestamp = function (token) {
    var claims = decode(token).claims;
    var now = Math.floor(new Date().getTime() / 1000);
    var validSince = 0, validUntil = 0;
    if (typeof claims === 'object') {
        if (claims.hasOwnProperty('nbf')) {
            validSince = claims['nbf'];
        }
        else if (claims.hasOwnProperty('iat')) {
            validSince = claims['iat'];
        }
        if (claims.hasOwnProperty('exp')) {
            validUntil = claims['exp'];
        }
        else {
            // token will expire after 24h by default
            validUntil = validSince + 86400;
        }
    }
    return (!!now &&
        !!validSince &&
        !!validUntil &&
        now >= validSince &&
        now <= validUntil);
};
/**
 * Decodes a Firebase auth. token and returns its issued at time if valid, null otherwise.
 *
 * Notes:
 * - May return null if there's no native base64 decoding support.
 * - Doesn't check if the token is actually valid.
 */
var issuedAtTime = function (token) {
    var claims = decode(token).claims;
    if (typeof claims === 'object' && claims.hasOwnProperty('iat')) {
        return claims['iat'];
    }
    return null;
};
/**
 * Decodes a Firebase auth. token and checks the validity of its format. Expects a valid issued-at time.
 *
 * Notes:
 * - May return a false negative if there's no native base64 decoding support.
 * - Doesn't check if the token is actually valid.
 */
var isValidFormat = function (token) {
    var decoded = decode(token), claims = decoded.claims;
    return !!claims && typeof claims === 'object' && claims.hasOwnProperty('iat');
};
/**
 * Attempts to peer into an auth token and determine if it's an admin auth token by looking at the claims portion.
 *
 * Notes:
 * - May return a false negative if there's no native base64 decoding support.
 * - Doesn't check if the token is actually valid.
 */
var isAdmin = function (token) {
    var claims = decode(token).claims;
    return typeof claims === 'object' && claims['admin'] === true;
};

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function contains(obj, key) {
    return Object.prototype.hasOwnProperty.call(obj, key);
}
function safeGet(obj, key) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
        return obj[key];
    }
    else {
        return undefined;
    }
}
function isEmpty(obj) {
    for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) {
            return false;
        }
    }
    return true;
}
function map(obj, fn, contextObj) {
    var res = {};
    for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) {
            res[key] = fn.call(contextObj, obj[key], key, obj);
        }
    }
    return res;
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Returns a querystring-formatted string (e.g. &arg=val&arg2=val2) from a
 * params object (e.g. {arg: 'val', arg2: 'val2'})
 * Note: You must prepend it with ? when adding it to a URL.
 */
function querystring(querystringParams) {
    var params = [];
    var _loop_1 = function (key, value) {
        if (Array.isArray(value)) {
            value.forEach(function (arrayVal) {
                params.push(encodeURIComponent(key) + '=' + encodeURIComponent(arrayVal));
            });
        }
        else {
            params.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));
        }
    };
    for (var _i = 0, _a = Object.entries(querystringParams); _i < _a.length; _i++) {
        var _b = _a[_i], key = _b[0], value = _b[1];
        _loop_1(key, value);
    }
    return params.length ? '&' + params.join('&') : '';
}
/**
 * Decodes a querystring (e.g. ?arg=val&arg2=val2) into a params object
 * (e.g. {arg: 'val', arg2: 'val2'})
 */
function querystringDecode(querystring) {
    var obj = {};
    var tokens = querystring.replace(/^\?/, '').split('&');
    tokens.forEach(function (token) {
        if (token) {
            var _a = token.split('='), key = _a[0], value = _a[1];
            obj[decodeURIComponent(key)] = decodeURIComponent(value);
        }
    });
    return obj;
}
/**
 * Extract the query string part of a URL, including the leading question mark (if present).
 */
function extractQuerystring(url) {
    var queryStart = url.indexOf('?');
    if (!queryStart) {
        return '';
    }
    var fragmentStart = url.indexOf('#', queryStart);
    return url.substring(queryStart, fragmentStart > 0 ? fragmentStart : undefined);
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @fileoverview SHA-1 cryptographic hash.
 * Variable names follow the notation in FIPS PUB 180-3:
 * http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf.
 *
 * Usage:
 *   var sha1 = new sha1();
 *   sha1.update(bytes);
 *   var hash = sha1.digest();
 *
 * Performance:
 *   Chrome 23:   ~400 Mbit/s
 *   Firefox 16:  ~250 Mbit/s
 *
 */
/**
 * SHA-1 cryptographic hash constructor.
 *
 * The properties declared here are discussed in the above algorithm document.
 * @constructor
 * @final
 * @struct
 */
var Sha1 = /** @class */ (function () {
    function Sha1() {
        /**
         * Holds the previous values of accumulated variables a-e in the compress_
         * function.
         * @private
         */
        this.chain_ = [];
        /**
         * A buffer holding the partially computed hash result.
         * @private
         */
        this.buf_ = [];
        /**
         * An array of 80 bytes, each a part of the message to be hashed.  Referred to
         * as the message schedule in the docs.
         * @private
         */
        this.W_ = [];
        /**
         * Contains data needed to pad messages less than 64 bytes.
         * @private
         */
        this.pad_ = [];
        /**
         * @private {number}
         */
        this.inbuf_ = 0;
        /**
         * @private {number}
         */
        this.total_ = 0;
        this.blockSize = 512 / 8;
        this.pad_[0] = 128;
        for (var i = 1; i < this.blockSize; ++i) {
            this.pad_[i] = 0;
        }
        this.reset();
    }
    Sha1.prototype.reset = function () {
        this.chain_[0] = 0x67452301;
        this.chain_[1] = 0xefcdab89;
        this.chain_[2] = 0x98badcfe;
        this.chain_[3] = 0x10325476;
        this.chain_[4] = 0xc3d2e1f0;
        this.inbuf_ = 0;
        this.total_ = 0;
    };
    /**
     * Internal compress helper function.
     * @param buf Block to compress.
     * @param offset Offset of the block in the buffer.
     * @private
     */
    Sha1.prototype.compress_ = function (buf, offset) {
        if (!offset) {
            offset = 0;
        }
        var W = this.W_;
        // get 16 big endian words
        if (typeof buf === 'string') {
            for (var i = 0; i < 16; i++) {
                // TODO(user): [bug 8140122] Recent versions of Safari for Mac OS and iOS
                // have a bug that turns the post-increment ++ operator into pre-increment
                // during JIT compilation.  We have code that depends heavily on SHA-1 for
                // correctness and which is affected by this bug, so I've removed all uses
                // of post-increment ++ in which the result value is used.  We can revert
                // this change once the Safari bug
                // (https://bugs.webkit.org/show_bug.cgi?id=109036) has been fixed and
                // most clients have been updated.
                W[i] =
                    (buf.charCodeAt(offset) << 24) |
                        (buf.charCodeAt(offset + 1) << 16) |
                        (buf.charCodeAt(offset + 2) << 8) |
                        buf.charCodeAt(offset + 3);
                offset += 4;
            }
        }
        else {
            for (var i = 0; i < 16; i++) {
                W[i] =
                    (buf[offset] << 24) |
                        (buf[offset + 1] << 16) |
                        (buf[offset + 2] << 8) |
                        buf[offset + 3];
                offset += 4;
            }
        }
        // expand to 80 words
        for (var i = 16; i < 80; i++) {
            var t = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];
            W[i] = ((t << 1) | (t >>> 31)) & 0xffffffff;
        }
        var a = this.chain_[0];
        var b = this.chain_[1];
        var c = this.chain_[2];
        var d = this.chain_[3];
        var e = this.chain_[4];
        var f, k;
        // TODO(user): Try to unroll this loop to speed up the computation.
        for (var i = 0; i < 80; i++) {
            if (i < 40) {
                if (i < 20) {
                    f = d ^ (b & (c ^ d));
                    k = 0x5a827999;
                }
                else {
                    f = b ^ c ^ d;
                    k = 0x6ed9eba1;
                }
            }
            else {
                if (i < 60) {
                    f = (b & c) | (d & (b | c));
                    k = 0x8f1bbcdc;
                }
                else {
                    f = b ^ c ^ d;
                    k = 0xca62c1d6;
                }
            }
            var t = (((a << 5) | (a >>> 27)) + f + e + k + W[i]) & 0xffffffff;
            e = d;
            d = c;
            c = ((b << 30) | (b >>> 2)) & 0xffffffff;
            b = a;
            a = t;
        }
        this.chain_[0] = (this.chain_[0] + a) & 0xffffffff;
        this.chain_[1] = (this.chain_[1] + b) & 0xffffffff;
        this.chain_[2] = (this.chain_[2] + c) & 0xffffffff;
        this.chain_[3] = (this.chain_[3] + d) & 0xffffffff;
        this.chain_[4] = (this.chain_[4] + e) & 0xffffffff;
    };
    Sha1.prototype.update = function (bytes, length) {
        // TODO(johnlenz): tighten the function signature and remove this check
        if (bytes == null) {
            return;
        }
        if (length === undefined) {
            length = bytes.length;
        }
        var lengthMinusBlock = length - this.blockSize;
        var n = 0;
        // Using local instead of member variables gives ~5% speedup on Firefox 16.
        var buf = this.buf_;
        var inbuf = this.inbuf_;
        // The outer while loop should execute at most twice.
        while (n < length) {
            // When we have no data in the block to top up, we can directly process the
            // input buffer (assuming it contains sufficient data). This gives ~25%
            // speedup on Chrome 23 and ~15% speedup on Firefox 16, but requires that
            // the data is provided in large chunks (or in multiples of 64 bytes).
            if (inbuf === 0) {
                while (n <= lengthMinusBlock) {
                    this.compress_(bytes, n);
                    n += this.blockSize;
                }
            }
            if (typeof bytes === 'string') {
                while (n < length) {
                    buf[inbuf] = bytes.charCodeAt(n);
                    ++inbuf;
                    ++n;
                    if (inbuf === this.blockSize) {
                        this.compress_(buf);
                        inbuf = 0;
                        // Jump to the outer loop so we use the full-block optimization.
                        break;
                    }
                }
            }
            else {
                while (n < length) {
                    buf[inbuf] = bytes[n];
                    ++inbuf;
                    ++n;
                    if (inbuf === this.blockSize) {
                        this.compress_(buf);
                        inbuf = 0;
                        // Jump to the outer loop so we use the full-block optimization.
                        break;
                    }
                }
            }
        }
        this.inbuf_ = inbuf;
        this.total_ += length;
    };
    /** @override */
    Sha1.prototype.digest = function () {
        var digest = [];
        var totalBits = this.total_ * 8;
        // Add pad 0x80 0x00*.
        if (this.inbuf_ < 56) {
            this.update(this.pad_, 56 - this.inbuf_);
        }
        else {
            this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));
        }
        // Add # bits.
        for (var i = this.blockSize - 1; i >= 56; i--) {
            this.buf_[i] = totalBits & 255;
            totalBits /= 256; // Don't use bit-shifting here!
        }
        this.compress_(this.buf_);
        var n = 0;
        for (var i = 0; i < 5; i++) {
            for (var j = 24; j >= 0; j -= 8) {
                digest[n] = (this.chain_[i] >> j) & 255;
                ++n;
            }
        }
        return digest;
    };
    return Sha1;
}());

/**
 * Helper to make a Subscribe function (just like Promise helps make a
 * Thenable).
 *
 * @param executor Function which can make calls to a single Observer
 *     as a proxy.
 * @param onNoObservers Callback when count of Observers goes to zero.
 */
function createSubscribe(executor, onNoObservers) {
    var proxy = new ObserverProxy(executor, onNoObservers);
    return proxy.subscribe.bind(proxy);
}
/**
 * Implement fan-out for any number of Observers attached via a subscribe
 * function.
 */
var ObserverProxy = /** @class */ (function () {
    /**
     * @param executor Function which can make calls to a single Observer
     *     as a proxy.
     * @param onNoObservers Callback when count of Observers goes to zero.
     */
    function ObserverProxy(executor, onNoObservers) {
        var _this = this;
        this.observers = [];
        this.unsubscribes = [];
        this.observerCount = 0;
        // Micro-task scheduling by calling task.then().
        this.task = Promise.resolve();
        this.finalized = false;
        this.onNoObservers = onNoObservers;
        // Call the executor asynchronously so subscribers that are called
        // synchronously after the creation of the subscribe function
        // can still receive the very first value generated in the executor.
        this.task
            .then(function () {
            executor(_this);
        })
            .catch(function (e) {
            _this.error(e);
        });
    }
    ObserverProxy.prototype.next = function (value) {
        this.forEachObserver(function (observer) {
            observer.next(value);
        });
    };
    ObserverProxy.prototype.error = function (error) {
        this.forEachObserver(function (observer) {
            observer.error(error);
        });
        this.close(error);
    };
    ObserverProxy.prototype.complete = function () {
        this.forEachObserver(function (observer) {
            observer.complete();
        });
        this.close();
    };
    /**
     * Subscribe function that can be used to add an Observer to the fan-out list.
     *
     * - We require that no event is sent to a subscriber sychronously to their
     *   call to subscribe().
     */
    ObserverProxy.prototype.subscribe = function (nextOrObserver, error, complete) {
        var _this = this;
        var observer;
        if (nextOrObserver === undefined &&
            error === undefined &&
            complete === undefined) {
            throw new Error('Missing Observer.');
        }
        // Assemble an Observer object when passed as callback functions.
        if (implementsAnyMethods(nextOrObserver, [
            'next',
            'error',
            'complete'
        ])) {
            observer = nextOrObserver;
        }
        else {
            observer = {
                next: nextOrObserver,
                error: error,
                complete: complete
            };
        }
        if (observer.next === undefined) {
            observer.next = noop;
        }
        if (observer.error === undefined) {
            observer.error = noop;
        }
        if (observer.complete === undefined) {
            observer.complete = noop;
        }
        var unsub = this.unsubscribeOne.bind(this, this.observers.length);
        // Attempt to subscribe to a terminated Observable - we
        // just respond to the Observer with the final error or complete
        // event.
        if (this.finalized) {
            // eslint-disable-next-line @typescript-eslint/no-floating-promises
            this.task.then(function () {
                try {
                    if (_this.finalError) {
                        observer.error(_this.finalError);
                    }
                    else {
                        observer.complete();
                    }
                }
                catch (e) {
                    // nothing
                }
                return;
            });
        }
        this.observers.push(observer);
        return unsub;
    };
    // Unsubscribe is synchronous - we guarantee that no events are sent to
    // any unsubscribed Observer.
    ObserverProxy.prototype.unsubscribeOne = function (i) {
        if (this.observers === undefined || this.observers[i] === undefined) {
            return;
        }
        delete this.observers[i];
        this.observerCount -= 1;
        if (this.observerCount === 0 && this.onNoObservers !== undefined) {
            this.onNoObservers(this);
        }
    };
    ObserverProxy.prototype.forEachObserver = function (fn) {
        if (this.finalized) {
            // Already closed by previous event....just eat the additional values.
            return;
        }
        // Since sendOne calls asynchronously - there is no chance that
        // this.observers will become undefined.
        for (var i = 0; i < this.observers.length; i++) {
            this.sendOne(i, fn);
        }
    };
    // Call the Observer via one of it's callback function. We are careful to
    // confirm that the observe has not been unsubscribed since this asynchronous
    // function had been queued.
    ObserverProxy.prototype.sendOne = function (i, fn) {
        var _this = this;
        // Execute the callback asynchronously
        // eslint-disable-next-line @typescript-eslint/no-floating-promises
        this.task.then(function () {
            if (_this.observers !== undefined && _this.observers[i] !== undefined) {
                try {
                    fn(_this.observers[i]);
                }
                catch (e) {
                    // Ignore exceptions raised in Observers or missing methods of an
                    // Observer.
                    // Log error to console. b/31404806
                    if (typeof console !== 'undefined' && console.error) {
                        console.error(e);
                    }
                }
            }
        });
    };
    ObserverProxy.prototype.close = function (err) {
        var _this = this;
        if (this.finalized) {
            return;
        }
        this.finalized = true;
        if (err !== undefined) {
            this.finalError = err;
        }
        // Proxy is no longer needed - garbage collect references
        // eslint-disable-next-line @typescript-eslint/no-floating-promises
        this.task.then(function () {
            _this.observers = undefined;
            _this.onNoObservers = undefined;
        });
    };
    return ObserverProxy;
}());
/** Turn synchronous function into one called asynchronously. */
// eslint-disable-next-line @typescript-eslint/ban-types
function async(fn, onError) {
    return function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        Promise.resolve(true)
            .then(function () {
            fn.apply(void 0, args);
        })
            .catch(function (error) {
            if (onError) {
                onError(error);
            }
        });
    };
}
/**
 * Return true if the object passed in implements any of the named methods.
 */
function implementsAnyMethods(obj, methods) {
    if (typeof obj !== 'object' || obj === null) {
        return false;
    }
    for (var _i = 0, methods_1 = methods; _i < methods_1.length; _i++) {
        var method = methods_1[_i];
        if (method in obj && typeof obj[method] === 'function') {
            return true;
        }
    }
    return false;
}
function noop() {
    // do nothing
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Check to make sure the appropriate number of arguments are provided for a public function.
 * Throws an error if it fails.
 *
 * @param fnName The function name
 * @param minCount The minimum number of arguments to allow for the function call
 * @param maxCount The maximum number of argument to allow for the function call
 * @param argCount The actual number of arguments provided.
 */
var validateArgCount = function (fnName, minCount, maxCount, argCount) {
    var argError;
    if (argCount < minCount) {
        argError = 'at least ' + minCount;
    }
    else if (argCount > maxCount) {
        argError = maxCount === 0 ? 'none' : 'no more than ' + maxCount;
    }
    if (argError) {
        var error = fnName +
            ' failed: Was called with ' +
            argCount +
            (argCount === 1 ? ' argument.' : ' arguments.') +
            ' Expects ' +
            argError +
            '.';
        throw new Error(error);
    }
};
/**
 * Generates a string to prefix an error message about failed argument validation
 *
 * @param fnName The function name
 * @param argName The name of the argument
 * @return The prefix to add to the error thrown for validation.
 */
function errorPrefix(fnName, argName) {
    return fnName + " failed: " + argName + " argument ";
}
/**
 * @param fnName
 * @param argumentNumber
 * @param namespace
 * @param optional
 */
function validateNamespace(fnName, namespace, optional) {
    if (optional && !namespace) {
        return;
    }
    if (typeof namespace !== 'string') {
        //TODO: I should do more validation here. We only allow certain chars in namespaces.
        throw new Error(errorPrefix(fnName, 'namespace') + 'must be a valid firebase namespace.');
    }
}
function validateCallback(fnName, argumentName, 
// eslint-disable-next-line @typescript-eslint/ban-types
callback, optional) {
    if (optional && !callback) {
        return;
    }
    if (typeof callback !== 'function') {
        throw new Error(errorPrefix(fnName, argumentName) + 'must be a valid function.');
    }
}
function validateContextObject(fnName, argumentName, context, optional) {
    if (optional && !context) {
        return;
    }
    if (typeof context !== 'object' || context === null) {
        throw new Error(errorPrefix(fnName, argumentName) + 'must be a valid context object.');
    }
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
// Code originally came from goog.crypt.stringToUtf8ByteArray, but for some reason they
// automatically replaced '\r\n' with '\n', and they didn't handle surrogate pairs,
// so it's been modified.
// Note that not all Unicode characters appear as single characters in JavaScript strings.
// fromCharCode returns the UTF-16 encoding of a character - so some Unicode characters
// use 2 characters in Javascript.  All 4-byte UTF-8 characters begin with a first
// character in the range 0xD800 - 0xDBFF (the first character of a so-called surrogate
// pair).
// See http://www.ecma-international.org/ecma-262/5.1/#sec-15.1.3
/**
 * @param {string} str
 * @return {Array}
 */
var stringToByteArray$1 = function (str) {
    var out = [];
    var p = 0;
    for (var i = 0; i < str.length; i++) {
        var c = str.charCodeAt(i);
        // Is this the lead surrogate in a surrogate pair?
        if (c >= 0xd800 && c <= 0xdbff) {
            var high = c - 0xd800; // the high 10 bits.
            i++;
            assert(i < str.length, 'Surrogate pair missing trail surrogate.');
            var low = str.charCodeAt(i) - 0xdc00; // the low 10 bits.
            c = 0x10000 + (high << 10) + low;
        }
        if (c < 128) {
            out[p++] = c;
        }
        else if (c < 2048) {
            out[p++] = (c >> 6) | 192;
            out[p++] = (c & 63) | 128;
        }
        else if (c < 65536) {
            out[p++] = (c >> 12) | 224;
            out[p++] = ((c >> 6) & 63) | 128;
            out[p++] = (c & 63) | 128;
        }
        else {
            out[p++] = (c >> 18) | 240;
            out[p++] = ((c >> 12) & 63) | 128;
            out[p++] = ((c >> 6) & 63) | 128;
            out[p++] = (c & 63) | 128;
        }
    }
    return out;
};
/**
 * Calculate length without actually converting; useful for doing cheaper validation.
 * @param {string} str
 * @return {number}
 */
var stringLength = function (str) {
    var p = 0;
    for (var i = 0; i < str.length; i++) {
        var c = str.charCodeAt(i);
        if (c < 128) {
            p++;
        }
        else if (c < 2048) {
            p += 2;
        }
        else if (c >= 0xd800 && c <= 0xdbff) {
            // Lead surrogate of a surrogate pair.  The pair together will take 4 bytes to represent.
            p += 4;
            i++; // skip trail surrogate.
        }
        else {
            p += 3;
        }
    }
    return p;
};

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * The amount of milliseconds to exponentially increase.
 */
var DEFAULT_INTERVAL_MILLIS = 1000;
/**
 * The factor to backoff by.
 * Should be a number greater than 1.
 */
var DEFAULT_BACKOFF_FACTOR = 2;
/**
 * The maximum milliseconds to increase to.
 *
 * <p>Visible for testing
 */
var MAX_VALUE_MILLIS = 4 * 60 * 60 * 1000; // Four hours, like iOS and Android.
/**
 * The percentage of backoff time to randomize by.
 * See
 * http://go/safe-client-behavior#step-1-determine-the-appropriate-retry-interval-to-handle-spike-traffic
 * for context.
 *
 * <p>Visible for testing
 */
var RANDOM_FACTOR = 0.5;
/**
 * Based on the backoff method from
 * https://github.com/google/closure-library/blob/master/closure/goog/math/exponentialbackoff.js.
 * Extracted here so we don't need to pass metadata and a stateful ExponentialBackoff object around.
 */
function calculateBackoffMillis(backoffCount, intervalMillis, backoffFactor) {
    if (intervalMillis === void 0) { intervalMillis = DEFAULT_INTERVAL_MILLIS; }
    if (backoffFactor === void 0) { backoffFactor = DEFAULT_BACKOFF_FACTOR; }
    // Calculates an exponentially increasing value.
    // Deviation: calculates value from count and a constant interval, so we only need to save value
    // and count to restore state.
    var currBaseValue = intervalMillis * Math.pow(backoffFactor, backoffCount);
    // A random "fuzz" to avoid waves of retries.
    // Deviation: randomFactor is required.
    var randomWait = Math.round(
    // A fraction of the backoff value to add/subtract.
    // Deviation: changes multiplication order to improve readability.
    RANDOM_FACTOR *
        currBaseValue *
        // A random float (rounded to int by Math.round above) in the range [-1, 1]. Determines
        // if we add or subtract.
        (Math.random() - 0.5) *
        2);
    // Limits backoff to max to avoid effectively permanent backoff.
    return Math.min(MAX_VALUE_MILLIS, currBaseValue + randomWait);
}

/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Provide English ordinal letters after a number
 */
function ordinal(i) {
    if (!Number.isFinite(i)) {
        return "" + i;
    }
    return i + indicator(i);
}
function indicator(i) {
    i = Math.abs(i);
    var cent = i % 100;
    if (cent >= 10 && cent <= 20) {
        return 'th';
    }
    var dec = i % 10;
    if (dec === 1) {
        return 'st';
    }
    if (dec === 2) {
        return 'nd';
    }
    if (dec === 3) {
        return 'rd';
    }
    return 'th';
}

/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function getModularInstance(service) {
    if (service && service._delegate) {
        return service._delegate;
    }
    else {
        return service;
    }
}


//# sourceMappingURL=index.esm.js.map


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/styles/reset.css":
/*!********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/styles/reset.css ***!
  \********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}", "",{"version":3,"sources":["webpack://./src/styles/reset.css"],"names":[],"mappings":"AAAA;;;CAGC;;AAED;;;;;;;;;;;;;CAaC,SAAS;CACT,UAAU;CACV,SAAS;CACT,eAAe;CACf,aAAa;CACb,wBAAwB;AACzB;AACA,gDAAgD;AAChD;;CAEC,cAAc;AACf;AACA;CACC,cAAc;AACf;AACA;CACC,gBAAgB;AACjB;AACA;CACC,YAAY;AACb;AACA;;CAEC,WAAW;CACX,aAAa;AACd;AACA;CACC,yBAAyB;CACzB,iBAAiB;AAClB","sourcesContent":["/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/styles/style.css":
/*!********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/styles/style.css ***!
  \********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _imgs_x_icon_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../imgs/x-icon.svg */ "./src/imgs/x-icon.svg");
// Imports




var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(_imgs_x_icon_svg__WEBPACK_IMPORTED_MODULE_3__);
// Module
___CSS_LOADER_EXPORT___.push([module.id, ":root {\n  --col-base-light: #c5edff;\n  --col-base-mid: #93bfd3;\n  --col-base-mid2: #729db1;\n  --col-base-dark: #427597;\n  --col-darkest: #000;\n  --col-light: #ffffff;\n  --col-btn-light: rgb(46, 149, 209);\n  --col-btn-mid: rgb(30, 138, 201);\n  --col-btn-dark: rgb(23, 89, 175);\n\n  --card-scale: .3em;\n\n  --transition-speed: .3s;\n}\nhtml {\n  height:100%;\n}\nbody {\n  position:relative;\n  min-height:100%;\n  max-width:900px;\n  margin:auto;\n  background-color: var(--col-base-dark);\n  color:var(--col-light);\n  display:flex;\n  flex-direction:column;\n}\n\nh1 {\n  padding:10px;\n  font-weight: 700;\n  font-size: 2em;\n  text-shadow:2px 2px 4px  rgb(2, 44, 99);\n  transition:var(--transition-speed);\n}\n\nh1::after {\n  display:block;\n  content:'';\n  margin-top:.2em;\n  border-bottom:1px solid white;\n}\n\nh2 {\n  font-weight:bold;\n  margin-bottom:1em;\n}\n\nmain.card {\n  margin-bottom:2em;\n}\n\nfooter {\n  position: absolute;\n  bottom:0;\n  padding:.5em;\n}\n\nform {\n  margin:0 .5em 0 .5em;\n}\n\nbutton {\n  appearance:none;\n  display:block;\n  margin:.3em;\n  padding:.3em .6em;\n  border:none;\n  font-size:1.2em;\n  color:var(--col-light);\n  border-bottom: 4px solid var(--col-btn-dark);\n  border-radius: 5px;\n  background:var(--col-btn-mid);\n}\n\nbutton:hover {\n  background:var(--col-btn-light);\n}\n\nbutton:focus {\n  outline:none;\n  border:none;\n  border-top: 4px solid var(--col-btn-dark);\n  background:var(--col-btn-dark);\n}\n\nform>button {\n  margin-top:.7em;\n}\n\na:visited, a:link {\n  color:var(--col-light);\n}\n\nb {\n  font-weight:bold;\n}\n\n.center-children {\n  display:flex;\n  justify-content: center;\n}\n\n.hidden {\n  display:none;\n}\n\n.card {\n  position:relative;\n  color: var(--col-darkest);\n  margin: calc(var(--card-scale)*2) var(--card-scale);\n  padding: var(--card-scale);\n  background: var(--col-light);\n  border-radius: var(--card-scale);\n  box-shadow: 1.5px 1.5px calc(var(--card-scale) * .7) var(--col-base-dark);\n}\n\n.card.semi-transparent {\n  background:rgba(255,255,255,.5);\n}\n\n.card.library-header {\n  display:none; /* Only visible if screen width > mobile */\n}\n\n.book {\n  display:flex;\n  flex-direction:column;\n}\n\n.book-prop {\n  margin-right:2em;\n  padding:.3em 0;\n}\n\n.book-prop.book-title {\n  font-weight:bold;\n}\n.book-prop.book-title::after {\n  content:\"\";\n  display:block;\n  border-top: solid 1px var(--col-base-dark); \n}\n.book-prop.book-author::before {\n  content:'by ';\n}\n.book-prop.book-pageCount::after {\n  content:' pages';\n}\n\n.container-foot {\n  margin-left:.3em;\n}\n\n/* * MODAL */\n.modal-bg {\n  position:fixed;\n  z-index:10;\n  left:0;\n  top:0;\n  width:100%;\n  height:100%;\n  overflow:auto;\n  background-color:rgba(0,0,0,.2);\n}\n\n.modal {\n  /* center */\n  z-index: 11;\n  position:fixed;\n  top:50%;\n  left:50%;\n  transform:translate(-50%,-50%);\n\n  box-sizing:border-box;\n  width:fit-content;\n  max-width:95%;\n  padding: .7em;\n  padding-bottom:0;\n  margin: 0;\n\n  font-size: 150%;\n}\n\n.modal > p {\n  padding-right:2em;\n}\n\n.form-item {\n  display: flex;\n  justify-content: space-between;\n  margin: .5em .2em;\n  position:relative;\n}\n\n.form-item > label {\n  padding-right:.4em;\n}\n\n.close-btn {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 1.5em;\n  height: 1.5em;\n  margin:.3em;\n  background: red;\n  border-radius:50%;\n  content: url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ");\n  user-select:none;\n}\n\n.close-btn:hover {\n  background:rgb(255, 93, 142);\n  transform:rotate(90deg);\n  transition:.3s;\n}\n\n.switch {\n  position:relative;\n  display:flex;\n  align-items:center;\n}\n\n.switch input {\n  display:none;\n}\n\n.switch-label {\n  padding-right: 1em;\n}\n.switch-span {\n  background:var(--col-base-dark);\n  width:1.7em;\n  height:1em;\n  border-radius:.5em;\n}\n\n.switch-span::before {\n  position:absolute;\n  box-sizing:border-box;\n  content:\"\";\n  height: 1em;\n  width: 1em;\n  border: .15em solid var(--col-base-dark);\n  border-radius:50%;\n  background:var(--col-base-light);\n  transition: .1s;\n}\n\ninput:checked + .switch-span::before {\n  transform:translateX(.7em);\n  background:lightgreen;\n  border-color: green;\n}\n\ninput:checked + .switch-span {\n  background: green;\n}\n\ninput[type='text'], input[type='number'] {\n  appearance:none;\n  border:1px solid var(--col-darkest);\n  border-radius: 4px;\n}\n\n.validation-failed {\n  background-color:red;\n  animation-name: anim-fade;\n  animation-duration: 3s;\n}\n\n.card.form-validation-error {\n  z-index:15;\n  box-sizing:border-box;\n  position:absolute;\n  top:1.6em;\n  right:0;\n  margin:0;\n  background:rgb(243, 174, 174);\n  font-size:.7em;\n}\n\n@keyframes anim-fade {\n  0% { background-color:red; }\n  100% { background-color: white; }\n}\n\n@media (min-width:35em) {\n  h1 {\n    font-size:3.6em;\n  }\n  .book {\n    display: grid;\n    grid-template-columns: 6fr 5fr 3fr 4fr;\n  }\n  .card.library-header {\n    display:grid;\n    font-weight: bold;\n  }\n  .close-btn {\n    top: 0;\n  }\n\n  .book-prop.book-author::before {\n    content:'';\n  }\n\n  .book-prop.book-pageCount::after {\n    content:'';\n  }\n\n  .book-prop.book-title {\n    font-weight:normal;\n  }\n\n  .book-prop.book-title::after {\n    display:none; \n  }\n}", "",{"version":3,"sources":["webpack://./src/styles/style.css"],"names":[],"mappings":"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","sourcesContent":[":root {\n  --col-base-light: #c5edff;\n  --col-base-mid: #93bfd3;\n  --col-base-mid2: #729db1;\n  --col-base-dark: #427597;\n  --col-darkest: #000;\n  --col-light: #ffffff;\n  --col-btn-light: rgb(46, 149, 209);\n  --col-btn-mid: rgb(30, 138, 201);\n  --col-btn-dark: rgb(23, 89, 175);\n\n  --card-scale: .3em;\n\n  --transition-speed: .3s;\n}\nhtml {\n  height:100%;\n}\nbody {\n  position:relative;\n  min-height:100%;\n  max-width:900px;\n  margin:auto;\n  background-color: var(--col-base-dark);\n  color:var(--col-light);\n  display:flex;\n  flex-direction:column;\n}\n\nh1 {\n  padding:10px;\n  font-weight: 700;\n  font-size: 2em;\n  text-shadow:2px 2px 4px  rgb(2, 44, 99);\n  transition:var(--transition-speed);\n}\n\nh1::after {\n  display:block;\n  content:'';\n  margin-top:.2em;\n  border-bottom:1px solid white;\n}\n\nh2 {\n  font-weight:bold;\n  margin-bottom:1em;\n}\n\nmain.card {\n  margin-bottom:2em;\n}\n\nfooter {\n  position: absolute;\n  bottom:0;\n  padding:.5em;\n}\n\nform {\n  margin:0 .5em 0 .5em;\n}\n\nbutton {\n  appearance:none;\n  display:block;\n  margin:.3em;\n  padding:.3em .6em;\n  border:none;\n  font-size:1.2em;\n  color:var(--col-light);\n  border-bottom: 4px solid var(--col-btn-dark);\n  border-radius: 5px;\n  background:var(--col-btn-mid);\n}\n\nbutton:hover {\n  background:var(--col-btn-light);\n}\n\nbutton:focus {\n  outline:none;\n  border:none;\n  border-top: 4px solid var(--col-btn-dark);\n  background:var(--col-btn-dark);\n}\n\nform>button {\n  margin-top:.7em;\n}\n\na:visited, a:link {\n  color:var(--col-light);\n}\n\nb {\n  font-weight:bold;\n}\n\n.center-children {\n  display:flex;\n  justify-content: center;\n}\n\n.hidden {\n  display:none;\n}\n\n.card {\n  position:relative;\n  color: var(--col-darkest);\n  margin: calc(var(--card-scale)*2) var(--card-scale);\n  padding: var(--card-scale);\n  background: var(--col-light);\n  border-radius: var(--card-scale);\n  box-shadow: 1.5px 1.5px calc(var(--card-scale) * .7) var(--col-base-dark);\n}\n\n.card.semi-transparent {\n  background:rgba(255,255,255,.5);\n}\n\n.card.library-header {\n  display:none; /* Only visible if screen width > mobile */\n}\n\n.book {\n  display:flex;\n  flex-direction:column;\n}\n\n.book-prop {\n  margin-right:2em;\n  padding:.3em 0;\n}\n\n.book-prop.book-title {\n  font-weight:bold;\n}\n.book-prop.book-title::after {\n  content:\"\";\n  display:block;\n  border-top: solid 1px var(--col-base-dark); \n}\n.book-prop.book-author::before {\n  content:'by ';\n}\n.book-prop.book-pageCount::after {\n  content:' pages';\n}\n\n.container-foot {\n  margin-left:.3em;\n}\n\n/* * MODAL */\n.modal-bg {\n  position:fixed;\n  z-index:10;\n  left:0;\n  top:0;\n  width:100%;\n  height:100%;\n  overflow:auto;\n  background-color:rgba(0,0,0,.2);\n}\n\n.modal {\n  /* center */\n  z-index: 11;\n  position:fixed;\n  top:50%;\n  left:50%;\n  transform:translate(-50%,-50%);\n\n  box-sizing:border-box;\n  width:fit-content;\n  max-width:95%;\n  padding: .7em;\n  padding-bottom:0;\n  margin: 0;\n\n  font-size: 150%;\n}\n\n.modal > p {\n  padding-right:2em;\n}\n\n.form-item {\n  display: flex;\n  justify-content: space-between;\n  margin: .5em .2em;\n  position:relative;\n}\n\n.form-item > label {\n  padding-right:.4em;\n}\n\n.close-btn {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 1.5em;\n  height: 1.5em;\n  margin:.3em;\n  background: red;\n  border-radius:50%;\n  content: url(../imgs/x-icon.svg);\n  user-select:none;\n}\n\n.close-btn:hover {\n  background:rgb(255, 93, 142);\n  transform:rotate(90deg);\n  transition:.3s;\n}\n\n.switch {\n  position:relative;\n  display:flex;\n  align-items:center;\n}\n\n.switch input {\n  display:none;\n}\n\n.switch-label {\n  padding-right: 1em;\n}\n.switch-span {\n  background:var(--col-base-dark);\n  width:1.7em;\n  height:1em;\n  border-radius:.5em;\n}\n\n.switch-span::before {\n  position:absolute;\n  box-sizing:border-box;\n  content:\"\";\n  height: 1em;\n  width: 1em;\n  border: .15em solid var(--col-base-dark);\n  border-radius:50%;\n  background:var(--col-base-light);\n  transition: .1s;\n}\n\ninput:checked + .switch-span::before {\n  transform:translateX(.7em);\n  background:lightgreen;\n  border-color: green;\n}\n\ninput:checked + .switch-span {\n  background: green;\n}\n\ninput[type='text'], input[type='number'] {\n  appearance:none;\n  border:1px solid var(--col-darkest);\n  border-radius: 4px;\n}\n\n.validation-failed {\n  background-color:red;\n  animation-name: anim-fade;\n  animation-duration: 3s;\n}\n\n.card.form-validation-error {\n  z-index:15;\n  box-sizing:border-box;\n  position:absolute;\n  top:1.6em;\n  right:0;\n  margin:0;\n  background:rgb(243, 174, 174);\n  font-size:.7em;\n}\n\n@keyframes anim-fade {\n  0% { background-color:red; }\n  100% { background-color: white; }\n}\n\n@media (min-width:35em) {\n  h1 {\n    font-size:3.6em;\n  }\n  .book {\n    display: grid;\n    grid-template-columns: 6fr 5fr 3fr 4fr;\n  }\n  .card.library-header {\n    display:grid;\n    font-weight: bold;\n  }\n  .close-btn {\n    top: 0;\n  }\n\n  .book-prop.book-author::before {\n    content:'';\n  }\n\n  .book-prop.book-pageCount::after {\n    content:'';\n  }\n\n  .book-prop.book-title {\n    font-weight:normal;\n  }\n\n  .book-prop.book-title::after {\n    display:none; \n  }\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
// eslint-disable-next-line func-names
module.exports = function (cssWithMappingToString) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item);

      if (item[2]) {
        return "@media ".concat(item[2], " {").concat(content, "}");
      }

      return content;
    }).join("");
  }; // import a list of modules into the list
  // eslint-disable-next-line func-names


  list.i = function (modules, mediaQuery, dedupe) {
    if (typeof modules === "string") {
      // eslint-disable-next-line no-param-reassign
      modules = [[null, modules, ""]];
    }

    var alreadyImportedModules = {};

    if (dedupe) {
      for (var i = 0; i < this.length; i++) {
        // eslint-disable-next-line prefer-destructuring
        var id = this[i][0];

        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }

    for (var _i = 0; _i < modules.length; _i++) {
      var item = [].concat(modules[_i]);

      if (dedupe && alreadyImportedModules[item[0]]) {
        // eslint-disable-next-line no-continue
        continue;
      }

      if (mediaQuery) {
        if (!item[2]) {
          item[2] = mediaQuery;
        } else {
          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);
        }
      }

      list.push(item);
    }
  };

  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js":
/*!************************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/cssWithMappingToString.js ***!
  \************************************************************************/
/***/ ((module) => {

"use strict";


function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

module.exports = function cssWithMappingToString(item) {
  var _item = _slicedToArray(item, 4),
      content = _item[1],
      cssMapping = _item[3];

  if (typeof btoa === "function") {
    // eslint-disable-next-line no-undef
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot || "").concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join("\n");
  }

  return [content].join("\n");
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/getUrl.js":
/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (url, options) {
  if (!options) {
    // eslint-disable-next-line no-param-reassign
    options = {};
  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign


  url = url && url.__esModule ? url.default : url;

  if (typeof url !== "string") {
    return url;
  } // If url is already wrapped in quotes, remove them


  if (/^['"].*['"]$/.test(url)) {
    // eslint-disable-next-line no-param-reassign
    url = url.slice(1, -1);
  }

  if (options.hash) {
    // eslint-disable-next-line no-param-reassign
    url += options.hash;
  } // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls


  if (/["'() \t\n]/.test(url) || options.needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, "\\n"), "\"");
  }

  return url;
};

/***/ }),

/***/ "./node_modules/firebase/app/dist/index.esm.js":
/*!*****************************************************!*\
  !*** ./node_modules/firebase/app/dist/index.esm.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _firebase_app__WEBPACK_IMPORTED_MODULE_0__.default)
/* harmony export */ });
/* harmony import */ var _firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @firebase/app */ "./node_modules/@firebase/app/dist/index.esm.js");



var name = "firebase";
var version = "8.4.2";

/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
_firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.registerVersion(name, version, 'app');
//# sourceMappingURL=index.esm.js.map


/***/ }),

/***/ "./node_modules/firebase/firebase-auth.js":
/*!************************************************!*\
  !*** ./node_modules/firebase/firebase-auth.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

!function(t,e){ true?e(__webpack_require__(/*! @firebase/app */ "./node_modules/@firebase/app/dist/index.esm.js")):0}(this,function(e){"use strict";try{!function(){function t(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var zl=t(e);!function(){var t,o="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var u=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof __webpack_require__.g&&__webpack_require__.g,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function c(t){var e,n,i="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return i?i.call(t):{next:(e=t,n=0,function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})}}!function(t,e){if(e){var n=u;t=t.split(".");for(var i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&o(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function a(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function e(){this.a=null}function s(e){return e instanceof a?e:new a(function(t){t(e)})}if(t)return t;e.prototype.b=function(t){var e;null==this.a&&(this.a=[],(e=this).c(function(){e.g()})),this.a.push(t)};var n=u.setTimeout;e.prototype.c=function(t){n(t,0)},e.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},e.prototype.f=function(t){this.c(function(){throw t})},a.prototype.f=function(){function t(e){return function(t){i||(i=!0,e.call(n,t))}}var n=this,i=!1;return{resolve:t(this.m),reject:t(this.g)}},a.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof a)this.s(t);else{t:switch(typeof t){case"object":var e=null!=t;break t;case"function":e=!0;break t;default:e=!1}e?this.v(t):this.h(t)}},a.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},a.prototype.g=function(t){this.i(2,t)},a.prototype.h=function(t){this.i(1,t)},a.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},a.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)r.b(this.a[t]);this.a=null}};var r=new e;return a.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},a.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},a.prototype.then=function(t,e){function n(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(t){r(t)}}:t}var i,r,o=new a(function(t,e){i=t,r=e});return this.Qa(n(t,i),n(e,r)),o},a.prototype.catch=function(t){return this.then(void 0,t)},a.prototype.Qa=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?r.b(n):this.a.push(n)},a.resolve=s,a.reject=function(n){return new a(function(t,e){e(n)})},a.race=function(r){return new a(function(t,e){for(var n=c(r),i=n.next();!i.done;i=n.next())s(i.value).Qa(t,e)})},a.all=function(t){var e=c(t),o=e.next();return o.done?s([]):new a(function(n,t){for(var i=[],r=0;i.push(void 0),r++,s(o.value).Qa(function(e){return function(t){i[e]=t,0==--r&&n(i)}}(i.length-1),t),o=e.next(),!o.done;);})},a});var h=h||{},l=this||self,e=/^[\w+/_-]+[=]{0,2}$/,s=null;function f(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&e.test(t)?t:""}function a(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==d(t)}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var n="closure_uid_"+(1e9*Math.random()>>>0),i=0;function r(t,e,n){return t.call.apply(t.bind,arguments)}function g(e,n,t){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,i),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:g).apply(null,arguments)}function y(e){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function w(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t){return t}function T(t,e,n){this.code=k+t,this.message=e||S[t]||"",this.a=n||null}function E(t){var e=t&&t.code;return e?new T(e.substring(k.length),t.message,t.serverResponse):null}w(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var A,k="auth/",S={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function _(t){for(var e in N)if(N[e].id===t)return t=N[e],{firebaseEndpoint:t.Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function O(t){if(t)try{return t.$goog_Thenable}catch(t){return}}function C(t){var e;Error.captureStackTrace?Error.captureStackTrace(this,C):(e=Error().stack)&&(this.stack=e),t&&(this.message=String(t))}function R(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");C.call(this,n+t[i])}function D(t){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}function x(){this.b=this.a=null}A=_("__EID__")?"__EID__":void 0,w(C,Error),C.prototype.name="CustomError",w(R,C),R.prototype.name="AssertionError",P.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t};var M=new P(function(){return new j},function(t){t.reset()});function j(){this.next=this.b=this.a=null}x.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},V=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};var F=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n,i=t.length,r=[],o=0,a="string"==typeof t?t.split(""):t,s=0;s<i;s++)s in a&&(n=a[s],e.call(void 0,n,s,t)&&(r[o++]=n));return r},q=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},H=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function K(t,e){return 0<=U(t,e)}function G(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function B(n,i){!function(t,e){for(var n="string"==typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(n,function(t,e){i.call(void 0,t,e,n)&&1==Array.prototype.splice.call(n,e,1).length&&0})}function W(){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var J,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},z=/&/g,$=/</g,Z=/>/g,Q=/"/g,tt=/'/g,et=/\x00/g,nt=/[\x00&<>"']/;function it(t,e){return-1!=t.indexOf(e)}function rt(t,e){return t<e?-1:e<t?1:0}t:{var ot=l.navigator;if(ot){ot=ot.userAgent;if(ot){J=ot;break t}}J=""}function at(t){return it(J,t)}function st(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ut(t){for(var e in t)return;return 1}function ct(t){var e,n={};for(e in t)n[e]=t[e];return n}var ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(t){for(var e,n,i=1;i<arguments.length;i++){for(e in n=arguments[i])t[e]=n[e];for(var r=0;r<ht.length;r++)e=ht[r],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function ft(t,e){t:{try{var n=t&&t.ownerDocument,n=n&&(n.defaultView||n.parentWindow);if((n=n||l).Element&&n.Location){var i=n;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(m(t))try{var r=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){r="<object could not be stringified>"}else r=void 0===t?"undefined":null===t?"null":typeof t;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,r)}}function dt(t,e){this.a=t===gt&&e||"",this.b=mt}function pt(t){return t instanceof dt&&t.constructor===dt&&t.b===mt?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}dt.prototype.sa=!0,dt.prototype.ra=function(){return this.a},dt.prototype.toString=function(){return"Const{"+this.a+"}"};var vt,mt={},gt={};function bt(){if(void 0===vt){var t=null,e=l.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:I,createScript:I,createScriptURL:I})}catch(t){l.console&&l.console.error(t.message)}vt=t}else vt=t}return vt}function yt(t,e){this.a=e===At?t:""}function wt(t){return t instanceof yt&&t.constructor===yt?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function It(t,n){var e,i=pt(t);if(!Et.test(i))throw Error("Invalid TrustedResourceUrl format: "+i);return t=i.replace(Tt,function(t,e){if(!Object.prototype.hasOwnProperty.call(n,e))throw Error('Found marker, "'+e+'", in format string, "'+i+'", but no valid label mapping found in args: '+JSON.stringify(n));return(t=n[e])instanceof dt?pt(t):encodeURIComponent(String(t))}),e=t,t=bt(),new yt(e=t?t.createScriptURL(e):e,At)}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a.toString()},yt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,Et=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={};function kt(t,e){this.a=e===Dt?t:""}function St(t){return t instanceof kt&&t.constructor===kt?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}kt.prototype.sa=!0,kt.prototype.ra=function(){return this.a.toString()},kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,_t=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ot=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ct(t){return t instanceof kt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),t=Ot.test(t)||(e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(_t))&&Nt.test(e[1])?new kt(t,Dt):null);var e}function Rt(t){return t instanceof kt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),new kt(t=!Ot.test(t)?"about:invalid#zClosurez":t,Dt))}var Dt={},Pt=new kt("about:invalid#zClosurez",Dt);function Lt(t,e,n){this.a=n===xt?t:""}Lt.prototype.sa=!0,Lt.prototype.ra=function(){return this.a.toString()},Lt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var xt={};function Mt(t,e,n,i){return t=t instanceof kt?t:Rt(t),e=e||l,n=n instanceof dt?pt(n):n||"",e.open(St(t),n,i,void 0)}function jt(t){for(var e=t.split("%s"),n="",i=Array.prototype.slice.call(arguments,1);i.length&&1<e.length;)n+=e.shift()+i.shift();return n+e.join("%s")}function Ut(t){return nt.test(t)&&(-1!=(t=-1!=(t=-1!=(t=-1!=(t=-1!=(t=-1!=t.indexOf("&")?t.replace(z,"&amp;"):t).indexOf("<")?t.replace($,"&lt;"):t).indexOf(">")?t.replace(Z,"&gt;"):t).indexOf('"')?t.replace(Q,"&quot;"):t).indexOf("'")?t.replace(tt,"&#39;"):t).indexOf("\0")&&(t=t.replace(et,"&#0;"))),t}function Vt(t){return Vt[" "](t),t}Vt[" "]=a;var Ft,qt=at("Opera"),Ht=at("Trident")||at("MSIE"),Kt=at("Edge"),Gt=Kt||Ht,Bt=at("Gecko")&&!(it(J.toLowerCase(),"webkit")&&!at("Edge"))&&!(at("Trident")||at("MSIE"))&&!at("Edge"),Wt=it(J.toLowerCase(),"webkit")&&!at("Edge");function Xt(){var t=l.document;return t?t.documentMode:void 0}t:{var Jt="",Yt=(Yt=J,Bt?/rv:([^\);]+)(\)|;)/.exec(Yt):Kt?/Edge\/([\d\.]+)/.exec(Yt):Ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Yt):Wt?/WebKit\/(\S+)/.exec(Yt):qt?/(?:Version)[ \/]?(\S+)/.exec(Yt):void 0);if(Yt&&(Jt=Yt?Yt[1]:""),Ht){Yt=Xt();if(null!=Yt&&Yt>parseFloat(Jt)){Ft=String(Yt);break t}}Ft=Jt}var zt={};function $t(s){return t=s,e=function(){for(var t=0,e=Y(String(Ft)).split("."),n=Y(String(s)).split("."),i=Math.max(e.length,n.length),r=0;0==t&&r<i;r++)for(var o=e[r]||"",a=n[r]||"";o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],(0!=o[0].length||0!=a[0].length)&&(t=rt(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||rt(0==o[2].length,0==a[2].length)||rt(o[2],a[2]),o=o[3],a=a[3],0==t););return 0<=t},n=zt,Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t);var t,e,n}var Zt=l.document&&Ht&&(Xt()||parseInt(Ft,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var Qt=!Ht||9<=Number(Zt);function te(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ee(n,t){st(t,function(t,e){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==e?n.style.cssText=t:"class"==e?n.className=t:"for"==e?n.htmlFor=t:re.hasOwnProperty(e)?n.setAttribute(re[e],t):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?n.setAttribute(e,t):n[e]=t})}var ne,ie,re={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function oe(){var t,e=arguments,n=document,i=String(e[0]),r=e[1];return!Qt&&r&&(r.name||r.type)&&(i=["<",i],r.name&&i.push(' name="',Ut(r.name),'"'),r.type&&(i.push(' type="',Ut(r.type),'"'),lt(t={},r),delete t.type,r=t),i.push(">"),i=i.join("")),i=ae(n,i),r&&("string"==typeof r?i.className=r:Array.isArray(r)?i.className=r.join(" "):ee(i,r)),2<e.length&&function(e,n,t){function i(t){t&&n.appendChild("string"==typeof t?e.createTextNode(t):t)}for(var r=2;r<t.length;r++){var o=t[r];if(!p(o)||m(o)&&0<o.nodeType)i(o);else{t:{if(o&&"number"==typeof o.length){if(m(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(v(o)){a="function"==typeof o.item;break t}}a=!1}V(a?X(o):o,i)}}}(n,i,e),i}function ae(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function se(t){l.setTimeout(function(){throw t},0)}function ue(t,e){ie||function(){{var t;ie=l.Promise&&l.Promise.resolve?(t=l.Promise.resolve(void 0),function(){t.then(le)}):function(){var t=le;!v(l.setImmediate)||l.Window&&l.Window.prototype&&!at("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(ne=ne||function(){var t=l.MessageChannel;if(void 0===(t=void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!at("Presto")?function(){var t=ae(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}:t)||at("Trident")||at("MSIE"))return function(t){l.setTimeout(t,0)};var e=new t,n={},i=n;return e.port1.onmessage=function(){var t;void 0!==n.next&&(t=(n=n.next).Gb,n.Gb=null,t())},function(t){i.next={Gb:t},i=i.next,e.port2.postMessage(0)}}())(t):l.setImmediate(t)}}}(),ce||(ie(),ce=!0),he.add(t,e)}var ce=!1,he=new x;function le(){for(var t,e,n;n=e=void 0,n=null,(e=he).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){se(t)}L(M,t)}ce=!1}function fe(t,e){if(this.a=de,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=a)try{var n=this;t.call(e,function(t){ke(n,pe,t)},function(t){if(!(t instanceof De))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}ke(n,ve,t)})}catch(t){ke(this,ve,t)}}var de=0,pe=2,ve=3;function me(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}me.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ge=new P(function(){return new me},function(t){t.reset()});function be(t,e,n){var i=ge.get();return i.g=t,i.b=e,i.f=n,i}function ye(t){if(t instanceof fe)return t;var e=new fe(a);return ke(e,pe,t),e}function we(n){return new fe(function(t,e){e(n)})}function Ie(t,e,n){Se(t,e,n,null)||ue(y(e,t))}function Te(n){return new fe(function(i){var r=n.length,o=[];if(r)for(var t=function(t,e,n){r--,o[t]=e?{Pb:!0,value:n}:{Pb:!1,reason:n},0==r&&i(o)},e=0;e<n.length;e++)Ie(n[e],y(t,e,!0),y(t,e,!1));else i(o)})}function Ee(t,e){t.b||t.a!=pe&&t.a!=ve||Ne(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ae(t,r,o,a){var e=be(null,null,null);return e.a=new fe(function(n,i){e.g=r?function(t){try{var e=r.call(a,t);n(e)}catch(t){i(t)}}:n,e.b=o?function(t){try{var e=o.call(a,t);void 0===e&&t instanceof De?i(t):n(e)}catch(t){i(t)}}:i}),Ee(e.a.c=t,e),e.a}function ke(t,e,n){var i,r;t.a==de&&(t===n&&(e=ve,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Se(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Ne(t),e!=ve||n instanceof De||(r=n,(i=t).g=!0,ue(function(){i.g&&Re.call(null,r)}))))}function Se(t,e,n,i){if(t instanceof fe)return Ee(t,be(e||a,n||null,i)),1;if(O(t))return t.then(e,n,i),1;if(m(t))try{var r=t.then;if(v(r))return function(t,e,n,i,r){function o(t){a||(a=!0,i.call(r,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(r,t))},o)}catch(t){o(t)}}(t,r,e,n,i),1}catch(t){return n.call(i,t),1}}function Ne(t){t.h||(t.h=!0,ue(t.gc,t))}function _e(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Oe(t,e,n,i){if(n==ve&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ce(e,n,i);else try{e.c?e.g.call(e.f):Ce(e,n,i)}catch(t){Re.call(null,t)}L(ge,e)}function Ce(t,e,n){e==pe?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}fe.prototype.then=function(t,e,n){return Ae(this,v(t)?t:null,v(e)?e:null,n)},fe.prototype.$goog_Thenable=!0,(t=fe.prototype).oa=function(t,e){return(t=be(t,t,e)).c=!0,Ee(this,t),this},t.o=function(t,e){return Ae(this,null,t,e)},t.cancel=function(t){var e;this.a==de&&(e=new De(t),ue(function(){!function t(e,n){if(e.a==de)if(e.c){var i=e.c;if(i.b){for(var r=0,o=null,a=null,s=i.b;s&&(s.c||(r++,!((o=s.a==e?s:o)&&1<r)));s=s.next)o||(a=s);o&&(i.a==de&&1==r?t(i,n):(a?((r=a).next==i.f&&(i.f=r),r.next=r.next.next):_e(i),Oe(i,o,ve,n)))}e.c=null}else ke(e,ve,n)}(this,e)},this))},t.$c=function(t){this.a=de,ke(this,pe,t)},t.ad=function(t){this.a=de,ke(this,ve,t)},t.gc=function(){for(var t;t=_e(this);)Oe(this,t,this.a,this.i);this.h=!1};var Re=se;function De(t){C.call(this,t)}function Pe(){this.xa=this.xa,this.pa=this.pa}w(De,C);var Le=0;function xe(t){t.xa||(t.xa=!0,t.Da(),0==Le)||(t=t,Object.prototype.hasOwnProperty.call(t,n)&&t[n]||(t[n]=++i))}Pe.prototype.xa=!(De.prototype.name="cancel"),Pe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Me=Object.freeze||function(t){return t},je=!Ht||9<=Number(Zt),Ue=Ht&&!$t("9"),Ve=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{l.addEventListener("test",a,e),l.removeEventListener("test",a,e)}catch(t){}return t}();function Fe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function qe(t,e){if(Fe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Bt){t:{try{Vt(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:He[t.pointerType]||"",(this.a=t).defaultPrevented&&this.preventDefault()}}Fe.prototype.preventDefault=function(){this.defaultPrevented=!0},w(qe,Fe);var He=Me({2:"touch",3:"pen",4:"mouse"});qe.prototype.preventDefault=function(){qe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ue)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},qe.prototype.g=function(){return this.a};var Ke="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function Be(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Va=r,this.key=++Ge,this.va=this.Pa=!1}function We(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function Xe(t){this.src=t,this.a={},this.b=0}function Je(t,e){var n=e.type;n in t.a&&G(t.a[n],e)&&(We(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Ye(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==i)return r}return-1}Xe.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Ye(t,e,i,r);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new Be(e,this.src,o,!!i,r)).Pa=n,t.push(e)),e};var ze="closure_lm_"+(1e6*Math.random()|0),$e={};function Ze(t,e,n,i,r){if(i&&i.once)tn(t,e,n,i,r);else if(Array.isArray(e))for(var o=0;o<e.length;o++)Ze(t,e[o],n,i,r);else n=hn(n),t&&t[Ke]?fn(t,e,n,m(i)?!!i.capture:!!i,r):Qe(t,e,n,!1,i,r)}function Qe(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a,s,u=m(r)?!!r.capture:!!r,c=un(t);if(c||(t[ze]=c=new Xe(t)),!(n=c.add(e,n,i,u,o)).proxy)if(a=sn,i=s=je?function(t){return a.call(s.src,s.listener,t)}:function(t){if(!(t=a.call(s.src,s.listener,t)))return t},(n.proxy=i).src=t,i.listener=n,t.addEventListener)void 0===(r=!Ve?u:r)&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(rn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function tn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)tn(t,e[o],n,i,r);else n=hn(n),t&&t[Ke]?dn(t,e,n,m(i)?!!i.capture:!!i,r):Qe(t,e,n,!0,i,r)}function en(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)en(t,e[o],n,i,r);else i=m(i)?!!i.capture:!!i,n=hn(n),t&&t[Ke]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=Ye(o=t.a[e],n,i,r))&&(We(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):(t=t&&un(t))&&(e=t.a[e.toString()],(n=(t=-1)<(t=e?Ye(e,n,i,r):t)?e[t]:null)&&nn(n))}function nn(t){var e,n,i;"number"!=typeof t&&t&&!t.va&&((e=t.src)&&e[Ke]?Je(e.v,t):(n=t.type,i=t.proxy,e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(rn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=un(e))?(Je(n,t),0==n.b&&(n.src=null,e[ze]=null)):We(t)))}function rn(t){return t in $e?$e[t]:$e[t]="on"+t}function on(t,e,n,i){var r=!0;if((t=un(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=an(o,i),r=r&&!1!==o)}return r}function an(t,e){var n=t.listener,i=t.Va||t.src;return t.Pa&&nn(t),n.call(i,e)}function sn(t,e){if(t.va)return!0;if(je)return an(t,new qe(e,this));if(!e)t:{e=["window","event"];for(var n=l,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new qe(i=e,this),n=!0,!(i.keyCode<0||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){r=!0}!r&&null!=i.returnValue||(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=on(i[r],t,!0,e),n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=on(i[r],t,!1,e),n=n&&o}return n}function un(t){return(t=t[ze])instanceof Xe?t:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function hn(e){return v(e)?e:(e[cn]||(e[cn]=function(t){return e.handleEvent(t)}),e[cn])}function ln(){Pe.call(this),this.v=new Xe(this),(this.ac=this).gb=null}function fn(t,e,n,i,r){t.v.add(String(e),n,!1,i,r)}function dn(t,e,n,i,r){t.v.add(String(e),n,!0,i,r)}function pn(t,e,n,i){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.va&&u.capture==n&&(a=u.listener,s=u.Va||u.src,u.Pa&&Je(t.v,u),r=!1!==a.call(s,i)&&r)}return r&&!i.defaultPrevented}function vn(t,e,n){if(v(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:l.setTimeout(t,e||0)}function mn(n){var i=null;return new fe(function(t,e){-1==(i=vn(function(){t(void 0)},n))&&e(Error("Failed to schedule timer."))}).o(function(t){throw l.clearTimeout(i),t})}function gn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function bn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function yn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof yn)for(n=t.Y(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function wn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];In(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){for(var r={},n=e=0;e<t.a.length;)In(r,i=t.a[e])||(r[t.a[n++]=i]=1),e++;t.a.length=n}}function In(t,e){return Object.prototype.hasOwnProperty.call(t,e)}w(ln,Pe),ln.prototype[Ke]=!0,ln.prototype.addEventListener=function(t,e,n,i){Ze(this,t,e,n,i)},ln.prototype.removeEventListener=function(t,e,n,i){en(this,t,e,n,i)},ln.prototype.dispatchEvent=function(t){var e;if(n=this.gb)for(e=[];n;n=n.gb)e.push(n);var n=this.ac,i=t.type||t;if("string"==typeof t?t=new Fe(t,n):t instanceof Fe?t.target=t.target||n:(a=t,lt(t=new Fe(i,n),a)),a=!0,e)for(var r=e.length-1;0<=r;r--)var o=t.b=e[r],a=pn(o,i,!0,t)&&a;if(a=pn(o=t.b=n,i,!0,t)&&a,a=pn(o,i,!1,t)&&a,e)for(r=0;r<e.length;r++)a=pn(o=t.b=e[r],i,!1,t)&&a;return a},ln.prototype.Da=function(){if(ln.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)We(n[i]);delete e.a[t],e.b--}}this.gb=null},(t=yn.prototype).W=function(){wn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return wn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return In(this.b,t)?this.b[t]:e},t.set=function(t,e){In(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Tn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function En(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof En?(this.i=void 0!==e?e:t.i,An(this,t.c),this.l=t.l,this.a=t.a,kn(this,t.g),this.f=t.f,Sn(this,Bn(t.b)),this.h=t.h):t&&(n=String(t).match(Tn))?(this.i=!!e,An(this,n[1]||"",!0),this.l=Rn(n[2]||""),this.a=Rn(n[3]||"",!0),kn(this,n[4]),this.f=Rn(n[5]||"",!0),Sn(this,n[6]||"",!0),this.h=Rn(n[7]||"")):(this.i=!!e,this.b=new Vn(null,this.i))}function An(t,e,n){t.c=n?Rn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function kn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Sn(t,e,n){var i,r;e instanceof Vn?(t.b=e,i=t.b,(r=t.i)&&!i.f&&(Fn(i),i.c=null,i.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Hn(this,e),Gn(this,n,t))},i)),i.f=r):(n||(e=Dn(e,jn)),t.b=new Vn(e,t.i))}function Nn(t,e,n){t.b.set(e,n)}function _n(t,e){return t.b.get(e)}function On(t){return t instanceof En?new En(t):new En(t,void 0)}function Cn(t,e,n,i){var r=new En(null,void 0);return t&&An(r,t),e&&(r.a=e),n&&kn(r,n),i&&(r.f=i),r}function Rn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Dn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Pn),t=n?t.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):t):null}function Pn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}En.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Dn(e,Ln,!0),":");var n=this.a;return!n&&"file"!=e||(t.push("//"),(e=this.l)&&t.push(Dn(e,Ln,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Dn(n,"/"==n.charAt(0)?Mn:xn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Dn(n,Un)),t.join("")},En.prototype.resolve=function(t){var e=new En(this),n=!!t.c;n?An(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var i=t.f;if(n)kn(e,t.g);else if(n=!!t.f)if("/"!=i.charAt(0)&&(this.a&&!this.f?i="/"+i:-1!=(r=e.f.lastIndexOf("/"))&&(i=e.f.substr(0,r+1)+i)),".."==(r=i)||"."==r)i="";else if(it(r,"./")||it(r,"/.")){for(var i=0==r.lastIndexOf("/",0),r=r.split("/"),o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r;return n?e.f=i:n=""!==t.b.toString(),n?Sn(e,Bn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Ln=/[#\/\?@]/g,xn=/[#\?:]/g,Mn=/[#\?]/g,jn=/[#\?@]/g,Un=/#/g;function Vn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Fn(n){n.a||(n.a=new yn,n.b=0,n.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i,r=t[n].indexOf("="),o=null;0<=r?(i=t[n].substring(0,r),o=t[n].substring(r+1)):i=t[n],e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.c,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function qn(t){var e=bn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Vn(null,void 0);t=gn(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];Array.isArray(o)?Gn(n,r,o):n.add(r,o)}return n}function Hn(t,e){Fn(t),e=Wn(t,e),In(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,In((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&wn(t)))}function Kn(t,e){return Fn(t),e=Wn(t,e),In(t.a.b,e)}function Gn(t,e,n){Hn(t,e),0<n.length&&(t.c=null,t.a.set(Wn(t,e),X(n)),t.b+=n.length)}function Bn(t){var e=new Vn;return e.c=t.c,t.a&&(e.a=new yn(t.a),e.b=t.b),e}function Wn(t,e){return e=String(e),e=t.f?e.toLowerCase():e}function Xn(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var r=n;n=r.length,i.push("[");for(var o="",a=0;a<n;a++)i.push(o),t(e,r[a],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&(a=n[r],"function"!=typeof a&&(i.push(o),$n(r,i),i.push(":"),t(e,a,i),o=","));return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":$n(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Jn,t,e),e.join("")}function Jn(){}(t=Vn.prototype).add=function(t,e){Fn(this),this.c=null,t=Wn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(n,i){Fn(this),this.a.forEach(function(t,e){V(t,function(t){n.call(i,t,e,this)},this)},this)},t.Y=function(){Fn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.W=function(t){Fn(this);var e=[];if("string"==typeof t)Kn(this,t)&&(e=W(e,this.a.get(Wn(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},t.set=function(t,e){return Fn(this),this.c=null,Kn(this,t=Wn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++)for(var i=e[n],r=encodeURIComponent(String(i)),i=this.W(i),o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}return this.c=t.join("&")};var Yn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},zn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function $n(t,e){e.push('"',t.replace(zn,function(t){var e=Yn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Yn[t]=e),e}),'"')}function Zn(){var t=gi();return Ht&&Zt&&11==Zt||/Edge\/\d+/.test(t)}function Qn(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function ti(t,e){e=e||l.window;var n="about:blank";t&&(n=St(Ct(t)||Pt)),e.location.href=n}function ei(t){return!!((t=(t||gi()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ni(t){t=t||l.window;try{t.close()}catch(t){}}function ii(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=gi().toLowerCase(),i&&(e.target=i,it(n,"crios/")&&(e.target="_blank")),pi(gi())==fi&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof kt?n:Ct(void 0!==n.href?n.href:String(n))||Pt,n=t.target||n.target,r=[],t)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(t[a]?1:0))}var a=r.join(",");if((at("iPhone")&&!at("iPod")&&!at("iPad")||at("iPad")||at("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(ft(a=ae(document,"A"),"HTMLAnchorElement"),e=e instanceof kt?e:Rt(e),a.href=St(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Mt("",i,n,a),t=St(e),a&&(Gt&&it(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ut(t)+'">',t=new Lt(t=(i=bt())?i.createHTML(t):t,0,xt),i=a.document)&&(i.write((o=t)instanceof Lt&&o.constructor===Lt?o.a:(D("expected object of type SafeHtml, got '"+o+"' of type "+d(o)),"type_error:SafeHtml")),i.close())):(a=Mt(e,i,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var ri=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oi=/^[^@]+@[^@]+$/;function ai(){var e=null;return new fe(function(t){"complete"==l.document.readyState?t():(e=function(){t()},tn(window,"load",e))}).o(function(t){throw en(window,"load",e),t})}function si(t){return t=t||gi(),!("file:"!==Ti()&&"ionic:"!==Ti()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function ui(){var t=l.window;try{return t&&t!=t.top}catch(t){return}}function ci(){return void 0!==l.WorkerGlobalScope&&"function"==typeof l.importScripts}function hi(){return zl.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":zl.default.INTERNAL.hasOwnProperty("node")?"Node":ci()?"Worker":"Browser"}function li(){var t=hi();return"ReactNative"===t||"Node"===t}var fi="Firefox",di="Chrome";function pi(t){var e=t.toLowerCase();return it(e,"opera/")||it(e,"opr/")||it(e,"opios/")?"Opera":it(e,"iemobile")?"IEMobile":it(e,"msie")||it(e,"trident/")?"IE":it(e,"edge/")?"Edge":it(e,"firefox/")?fi:it(e,"silk/")?"Silk":it(e,"blackberry")?"Blackberry":it(e,"webos")?"Webos":!it(e,"safari/")||it(e,"chrome/")||it(e,"crios/")||it(e,"android")?!it(e,"chrome/")&&!it(e,"crios/")||it(e,"edge/")?it(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":di:"Safari"}var vi={md:"FirebaseCore-web",od:"FirebaseUI-web"};function mi(t,e){e=e||[];var n,i=[],r={};for(n in vi)r[vi[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=hi())?i=pi(r=gi()):"Worker"===i&&(i=pi(r=gi())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function gi(){return l.navigator&&l.navigator.userAgent||""}function bi(t,e){t=t.split("."),e=e||l;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return e=n!=t.length?void 0:e}function yi(){try{var t=l.localStorage,e=Ni();if(t)return t.setItem(e,"1"),t.removeItem(e),!Zn()||!!l.indexedDB}catch(t){return ci()&&!!l.indexedDB}return!1}function wi(){return(Ii()||"chrome-extension:"===Ti()||si())&&!li()&&yi()&&!ci()}function Ii(){return"http:"===Ti()||"https:"===Ti()}function Ti(){return l.location&&l.location.protocol||null}function Ei(t){return!ei(t=t||gi())&&pi(t)!=fi}function Ai(t){return void 0===t?null:Xn(t)}function ki(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Si(t){if(null!==t)return JSON.parse(t)}function Ni(t){return t||Math.floor(1e9*Math.random()).toString()}function _i(t){return"Safari"!=pi(t=t||gi())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Oi(){var t=l.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ci(t,e){if(e<t)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=gi(),e=hi(),this.b=ei(t)||"ReactNative"===e}function Ri(){var t=l.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Di(){var e=l.document,n=null;return Ri()||!e?ye():new fe(function(t){n=function(){Ri()&&(e.removeEventListener("visibilitychange",n,!1),t())},e.addEventListener("visibilitychange",n,!1)}).o(function(t){throw e.removeEventListener("visibilitychange",n,!1),t})}function Pi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Li(){return bi("fireauth.oauthhelper",l)||bi("fireauth.iframe",l)}Ci.prototype.get=function(){var t=l.navigator;return!t||"boolean"!=typeof t.onLine||!Ii()&&"chrome-extension:"!==Ti()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var xi,Mi={};function ji(t){Mi[t]||(Mi[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Ui={};Object.defineProperty(Ui,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ui,"abcd",{configurable:!0,enumerable:!0,value:2}),xi=2==Ui.abcd}catch(t){xi=!1}function Vi(t,e,n){xi?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Fi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Vi(t,n,e[n])}function qi(t){var e={};return Fi(e,t),e}function Hi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Vi(e,n,Hi(t[n]));return e}function Ki(t){var e=t&&(t[Ji]?"phone":null);if(!(e&&t&&t[Xi]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Vi(this,"uid",t[Xi]),Vi(this,"displayName",t[Bi]||null);var n=null;Vi(this,"enrollmentTime",n=t[Wi]?new Date(t[Wi]).toUTCString():n),Vi(this,"factorId",e)}function Gi(t){try{var e=new Yi(t)}catch(t){e=null}return e}Ki.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Bi="displayName",Wi="enrolledAt",Xi="mfaEnrollmentId",Ji="phoneInfo";function Yi(t){Ki.call(this,t),Vi(this,"phoneNumber",t[Ji])}function zi(t){var e={},n=t[tr],i=t[nr],r=t[ir];if(t=Gi(t[er]),!r||r!=Zi&&r!=Qi&&!n||r==Qi&&!i||r==$i&&!t)throw Error("Invalid checkActionCode response!");r==Qi?(e[or]=n||null,e[sr]=n||null,e[rr]=i):(e[or]=i||null,e[sr]=i||null,e[rr]=n||null),e[ar]=t||null,Vi(this,cr,r),Vi(this,ur,Hi(e))}w(Yi,Ki),Yi.prototype.w=function(){var t=Yi.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var $i="REVERT_SECOND_FACTOR_ADDITION",Zi="EMAIL_SIGNIN",Qi="VERIFY_AND_CHANGE_EMAIL",tr="email",er="mfaInfo",nr="newEmail",ir="requestType",rr="email",or="fromEmail",ar="multiFactorInfo",sr="previousEmail",ur="data",cr="operation";function hr(t){var e=_n(t=On(t),lr)||null,n=_n(t,fr)||null,i=(i=_n(t,vr)||null)&&gr[i]||null;if(!e||!n||!i)throw new T("argument-error",lr+", "+fr+"and "+vr+" are required in a valid action code URL.");Fi(this,{apiKey:e,operation:i,code:n,continueUrl:_n(t,dr)||null,languageCode:_n(t,pr)||null,tenantId:_n(t,mr)||null})}var lr="apiKey",fr="oobCode",dr="continueUrl",pr="languageCode",vr="mode",mr="tenantId",gr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:$i,signIn:Zi,verifyAndChangeEmail:Qi,verifyEmail:"VERIFY_EMAIL"};function br(t){try{return new hr(t)}catch(t){return null}}function yr(t){if(void 0===(e=t[Ar]))throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");if(this.h=e,this.b=this.a=null,this.g=!1,(i=t[wr])&&"object"==typeof i){var e=i[Nr],n=i[kr],i=i[Sr];if("string"==typeof e&&e.length){if(this.a=e,void 0!==n&&"boolean"!=typeof n)throw new T("argument-error",kr+" property must be a boolean when specified.");if(this.g=!!n,void 0!==i&&("string"!=typeof i||"string"==typeof i&&!i.length))throw new T("argument-error",Sr+" property must be a non empty string when specified.");this.b=i||null}else{if(void 0!==e)throw new T("argument-error",Nr+" property must be a non empty string when specified.");if(void 0!==n||void 0!==i)throw new T("missing-android-pkg-name")}}else if(void 0!==i)throw new T("argument-error",wr+" property must be a non null object when specified.");if(this.f=null,(e=t[Er])&&"object"==typeof e){if("string"==typeof(e=e[_r])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",_r+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Er+" property must be a non null object when specified.");if(void 0!==(e=t[Tr])&&"boolean"!=typeof e)throw new T("argument-error",Tr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ir])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Ir+" property must be a non empty string when specified.");this.i=t||null}var wr="android",Ir="dynamicLinkDomain",Tr="handleCodeInApp",Er="iOS",Ar="url",kr="installApp",Sr="minimumVersion",Nr="packageName",_r="bundleId";function Or(t){var e,n={};for(e in n.continueUrl=t.h,n.canHandleCodeInApp=t.c,(n.androidPackageName=t.a)&&(n.androidMinimumVersion=t.b,n.androidInstallApp=t.g),n.iOSBundleId=t.f,n.dynamicLinkDomain=t.i,n)null===n[e]&&delete n[e];return n}var Cr=null;function Rr(t){var e=[];return function(i,t){function e(t){for(;r<i.length;){var e=i.charAt(r++),n=Cr[e];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(e))throw Error("Unknown base64 encoding at char: "+e)}return t}!function(){if(!Cr){Cr={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var i=t.concat(e[n].split("")),r=0;r<i.length;r++){var o=i[r];void 0===Cr[o]&&(Cr[o]=r)}}}();for(var r=0;;){var n=e(-1),o=e(0),a=e(64),s=e(64);if(64===s&&-1===n)break;t(n<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(t,function(t){e.push(t)}),e}function Dr(t){var e=Lr(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Pr(t){try{return new Dr(t)}catch(t){return null}}function Lr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var i=Rr(t);for(t=[],n=e=0;e<i.length;){var r,o,a,s=i[e++];s<128?t[n++]=String.fromCharCode(s):191<s&&s<224?(r=i[e++],t[n++]=String.fromCharCode((31&s)<<6|63&r)):239<s&&s<365?(a=((7&s)<<18|(63&(r=i[e++]))<<12|(63&(o=i[e++]))<<6|63&i[e++])-65536,t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))):(r=i[e++],o=i[e++],t[n++]=String.fromCharCode((15&s)<<12|(63&r)<<6|63&o))}return JSON.parse(t.join(""))}catch(t){}return null}Dr.prototype.T=function(){return this.f},Dr.prototype.l=function(){return this.c},Dr.prototype.toString=function(){return this.h};var xr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Mr=["client_id","response_type","scope","redirect_uri","state"],jr={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Mr},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Mr},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Mr},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:xr},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Ur(t){for(var e in jr)if(jr[e].fa==t)return jr[e];return null}function Vr(t){var e={};e["facebook.com"]=Gr,e["google.com"]=Wr,e["github.com"]=Br,e["twitter.com"]=Xr;var n=t&&t[qr];try{if(n)return new(e[n]||Kr)(t);if(void 0!==t[Fr])return new Hr(t)}catch(t){}return null}var Fr="idToken",qr="providerId";function Hr(t){var e,n=t[qr];if(n||!t[Fr]||(e=Pr(t[Fr]))&&e.b&&(n=e.b),!n)throw Error("Invalid additional user info!");"anonymous"!=n&&"custom"!=n||(n=null),e=!1,void 0!==t.isNewUser?e=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(e=!0),Vi(this,"providerId",n),Vi(this,"isNewUser",e)}function Kr(t){Hr.call(this,t),Vi(this,"profile",Hi((t=Si(t.rawUserInfo||"{}"))||{}))}function Gr(t){if(Kr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Br(t){if(Kr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Vi(this,"username",this.profile&&this.profile.login||null)}function Wr(t){if(Kr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xr(t){if(Kr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Vi(this,"username",t.screenName||null)}function Jr(t){var e=_n(i=On(t),"link"),n=_n(On(e),"link"),i=_n(i,"deep_link_id");return _n(On(i),"link")||i||n||e||t}function Yr(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?zr:$r}w(Kr,Hr),w(Gr,Kr),w(Br,Kr),w(Wr,Kr),w(Xr,Kr);var zr="enroll",$r="signin";function Zr(){}function Qr(t,n){return t.then(function(t){if(t[Ha]){var e=Pr(t[Ha]);if(!e||n!=e.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==k+"user-not-found"?new T("user-mismatch"):t})}function to(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Vi(this,"providerId",t),Vi(this,"signInMethod",t)}function eo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function no(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new to(t.providerId,t.pendingToken)}catch(t){}return null}function io(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Vi(this,"idToken",e.idToken),e.accessToken&&Vi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Vi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Vi(this,"accessToken",e.oauthToken),Vi(this,"secret",e.oauthTokenSecret)}Vi(this,"providerId",t),Vi(this,"signInMethod",n)}function ro(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function oo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new io(t.providerId,e,t.signInMethod)}catch(t){}}return null}function ao(t,e){this.Qc=e||[],Fi(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Ur(t)||{}).Ja||null,this.ob=null}function so(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');ao.call(this,t,[])}function uo(t){ao.call(this,t,Mr),this.a=[]}function co(){uo.call(this,"facebook.com")}function ho(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new co).credential({accessToken:e})}function lo(){uo.call(this,"github.com")}function fo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new lo).credential({accessToken:e})}function po(){uo.call(this,"google.com"),this.Ca("profile")}function vo(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new po).credential({idToken:n,accessToken:e})}function mo(){ao.call(this,"twitter.com",xr)}function go(t,e){var n=t;if(!(n=!m(n)?{oauthToken:t,oauthTokenSecret:e}:n).oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new io("twitter.com",n,"twitter.com")}function bo(t,e,n){this.a=t,this.f=e,Vi(this,"providerId","password"),Vi(this,"signInMethod",n===wo.EMAIL_LINK_SIGN_IN_METHOD?wo.EMAIL_LINK_SIGN_IN_METHOD:wo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function yo(t){return t&&t.email&&t.password?new bo(t.email,t.password,t.signInMethod):null}function wo(){Fi(this,{providerId:"password",isOAuthProvider:!1})}function Io(t,e){if(!(e=To(e)))throw new T("argument-error","Invalid email link!");return new bo(t,e.code,wo.EMAIL_LINK_SIGN_IN_METHOD)}function To(t){return(t=br(t=Jr(t)))&&t.operation===Zi?t:null}function Eo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,Vi(this,"providerId","phone"),this.fa="phone",Vi(this,"signInMethod","phone")}function Ao(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var n={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(t){e[t]&&(n[t]=e[t])}),new Eo(n)}return null}function ko(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function So(t){try{this.a=t||zl.default.auth()}catch(t){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Fi(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Eo({eb:t,cb:e})}function _o(t){if(t.temporaryProof&&t.phoneNumber)return new Eo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return vo(o,n);case"facebook.com":return ho(n);case"github.com":return fo(n);case"twitter.com":return go(n,i);default:return n||i||o||a?a?0==e.indexOf("saml.")?new to(e,a):new io(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new uo(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(t){return null}}function Oo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Co(t,e,n,i,r,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=a||null,this.a=r||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Ro(t){return(t=t||{}).type?new Co(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&E(t.error),t.postBody,t.tenantId):null}function Do(){this.b=null,this.a=[]}Yr.prototype.Ha=function(){return this.a?ye(this.a):ye(this.b)},Yr.prototype.w=function(){return this.type==zr?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Zr.prototype.ka=function(){},Zr.prototype.b=function(){},Zr.prototype.c=function(){},Zr.prototype.w=function(){},to.prototype.ka=function(t){return hs(t,eo(this))},to.prototype.b=function(t,e){var n=eo(this);return n.idToken=e,ls(t,n)},to.prototype.c=function(t,e){return Qr(fs(t,eo(this)),e)},to.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},io.prototype.ka=function(t){return hs(t,ro(this))},io.prototype.b=function(t,e){var n=ro(this);return n.idToken=e,ls(t,n)},io.prototype.c=function(t,e){return Qr(fs(t,ro(this)),e)},io.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},ao.prototype.Ka=function(t){return this.Ib=ct(t),this},w(so,ao),w(uo,ao),uo.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},uo.prototype.Qb=function(){return X(this.a)},uo.prototype.credential=function(t,e){e=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null};if(!e.idToken&&!e.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new io(this.providerId,e,this.providerId)},w(co,uo),Vi(co,"PROVIDER_ID","facebook.com"),Vi(co,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),w(lo,uo),Vi(lo,"PROVIDER_ID","github.com"),Vi(lo,"GITHUB_SIGN_IN_METHOD","github.com"),w(po,uo),Vi(po,"PROVIDER_ID","google.com"),Vi(po,"GOOGLE_SIGN_IN_METHOD","google.com"),w(mo,ao),Vi(mo,"PROVIDER_ID","twitter.com"),Vi(mo,"TWITTER_SIGN_IN_METHOD","twitter.com"),bo.prototype.ka=function(t){return this.signInMethod==wo.EMAIL_LINK_SIGN_IN_METHOD?Xs(t,ws,{email:this.a,oobCode:this.f}):Xs(t,Hs,{email:this.a,password:this.f})},bo.prototype.b=function(t,e){return this.signInMethod==wo.EMAIL_LINK_SIGN_IN_METHOD?Xs(t,Is,{idToken:e,email:this.a,oobCode:this.f}):Xs(t,Ls,{idToken:e,email:this.a,password:this.f})},bo.prototype.c=function(t,e){return Qr(this.ka(t),e)},bo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Fi(wo,{PROVIDER_ID:"password"}),Fi(wo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Fi(wo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Eo.prototype.ka=function(t){return t.fb(ko(this))},Eo.prototype.b=function(t,e){var n=ko(this);return n.idToken=e,Xs(t,Gs,n)},Eo.prototype.c=function(t,e){var n=ko(this);return n.operation="REAUTH",Qr(t=Xs(t,Bs,n),e)},Eo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},So.prototype.fb=function(i,r){var o=this.a.a;return ye(r.verify()).then(function(n){if("string"!=typeof n)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==r.type)throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var t=m(i)?i.session:null,e=m(i)?i.phoneNumber:i,t=t&&t.type==zr?t.Ha().then(function(t){return Xs(o,Ms,{idToken:t,phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:n}}).then(function(t){return t.phoneSessionInfo.sessionInfo})}):t&&t.type==$r?t.Ha().then(function(t){return e=o,t={mfaPendingCredential:t,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:n}},Xs(e,js,t).then(function(t){return t.phoneResponseInfo.sessionInfo});var e}):Xs(o,Ds,{phoneNumber:e,recaptchaToken:n});return t.then(function(t){return"function"==typeof r.reset&&r.reset(),t},function(t){throw"function"==typeof r.reset&&r.reset(),t})})},Fi(So,{PROVIDER_ID:"phone"}),Fi(So,{PHONE_SIGN_IN_METHOD:"phone"}),Co.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Co.prototype.T=function(){return this.h},Co.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Po,Lo=null;function xo(t){var e="unauthorized-domain",n=void 0,i=On(t);t=i.a,"chrome-extension"==(i=i.c)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Mo(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&Vi(this,"email",t.Jb),t.ea&&Vi(this,"phoneNumber",t.ea),t.credential&&Vi(this,"credential",t.credential),t.Zb&&Vi(this,"tenantId",t.Zb)}function jo(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:_o(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Mo(e,n,t.message)}return null}function Uo(){}function Vo(t){return t.c||(t.c=t.b())}function Fo(){}function qo(t){if(t.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return t.f;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function Ho(){}function Ko(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Go(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Bo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Wo(t){this.f=t,this.b=this.c=this.a=null}function Xo(t,e){this.name=t,this.value=e}w(xo,T),w(Mo,T),Mo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&lt(t,e),t},Mo.prototype.toJSON=function(){return this.w()},Uo.prototype.c=null,w(Fo,Uo),Fo.prototype.a=function(){var t=qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Fo.prototype.b=function(){var t={};return qo(this)&&(t[0]=!0,t[1]=!0),t},Po=new Fo,w(Ho,Uo),Ho.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ko;throw Error("Unsupported browser")},Ho.prototype.b=function(){return{}},(t=Ko.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Go(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Go(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Go(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Bo.prototype.a=null,Bo.prototype.reset=function(t,e,n,i,r){delete this.a},Xo.prototype.toString=function(){return this.name};var Jo=new Xo("SEVERE",1e3),Yo=new Xo("WARNING",900),zo=new Xo("CONFIG",700),$o=new Xo("FINE",500);Wo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c||(e.a?t(e.a):(D("Root logger has no level set."),null))}(this).value)for(v(e)&&(e=e()),t=new Bo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Zo,Qo={},ta=null;function ea(t){var e,n,i;return ta||(ta=new Wo(""),(Qo[""]=ta).c=zo),(e=Qo[t])||(e=new Wo(t),i=t.lastIndexOf("."),n=t.substr(i+1),(i=ea(t.substr(0,i))).b||(i.b={}),(i.b[n]=e).a=i,Qo[t]=e),e}function na(t,e){t&&t.log($o,e,void 0)}function ia(t){this.f=t}function ra(t){ln.call(this),this.u=t,this.h=void 0,this.readyState=oa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ea("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}w(ia,Uo),ia.prototype.a=function(){return new ra(this.f)},ia.prototype.b=(Zo={},function(){return Zo}),w(ra,ln);var oa=0;function aa(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function sa(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ua(t)}function ua(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ca(t){ln.call(this),this.headers=new yn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ha,this.u=this.S=!1}(t=ra.prototype).open=function(t,e){if(this.readyState!=oa)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ua(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,sa(this)),this.readyState=oa},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ua(this)),this.a&&(this.readyState=3,ua(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==l.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,aa(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){var e;this.a&&((e=this.m.decode(t.value||new Uint8Array(0),{stream:!t.done}))&&(this.response=this.responseText+=e),(t.done?sa:ua)(this),3==this.readyState&&aa(this))},t.tc=function(t){this.a&&(this.response=this.responseText=t,sa(this))},t.sc=function(t){this.a&&(this.response=t,sa(this))},t.Ua=function(t){var e=this.i;e&&e.log(Yo,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&sa(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(Yo,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(Yo,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}for(var t=[],e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),w(ca,ln);var ha="";ca.prototype.b=ea("goog.net.XhrIo");var la=/^https?$/i,fa=["POST","PUT"];function da(e,t,n,i,r){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=(e.D||Po).a(),e.C=e.D?Vo(e.D):Vo(Po),e.a.onreadystatechange=b(e.Vb,e);try{na(e.b,Ta(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(t){return na(e.b,Ta(e,"Error opening Xhr: "+t.message)),void va(e,t)}t=i||"";var o,a=new yn(e.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)V(t,e,void 0);else for(var n=bn(t),i=gn(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,function(t,e){a.set(e,t)}),r=function(t){t:{for(var e=pa,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(a.Y()),i=l.FormData&&t instanceof l.FormData,!K(fa,n)||r||i||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(t,e){this.a.setRequestHeader(e,t)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{ya(e),0<e.g&&(e.u=(o=e.a,Ht&&$t(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),na(e.b,Ta(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=b(e.Ma,e)):e.s=vn(e.Ma,e.g,e)),na(e.b,Ta(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){na(e.b,Ta(e,"Send error: "+t.message)),va(e,t)}}function pa(t){return"content-type"==t.toLowerCase()}function va(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ma(t),ba(t)}function ma(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ga(e){if(e.c&&void 0!==h)if(e.C[1]&&4==wa(e)&&2==Ia(e))na(e.b,Ta(e,"Local request error detected and ignored"));else if(e.i&&4==wa(e))vn(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==wa(e)){na(e.b,Ta(e,"Request complete")),e.c=!1;try{var t,n,i,r,o=Ia(e);t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break t;default:a=!1}if((t=a)||((n=0===o)&&(!(r=String(e.l).match(Tn)[1]||null)&&l.self&&l.self.location&&(r=(i=l.self.location.protocol).substr(0,i.length-1)),n=!la.test(r?r.toLowerCase():"")),t=n),t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var s=2<wa(e)?e.a.statusText:""}catch(t){na(e.b,"Can not get status: "+t.message),s=""}e.h=s+" ["+Ia(e)+"]",ma(e)}}finally{ba(e)}}}function ba(e,t){if(e.a){ya(e);var n=e.a,i=e.C[0]?a:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=i}catch(t){(e=e.b)&&e.log(Jo,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function ya(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(l.clearTimeout(t.s),t.s=null)}function wa(t){return t.a?t.a.readyState:0}function Ia(t){try{return 2<wa(t)?t.a.status:-1}catch(t){return-1}}function Ta(t,e){return e+" ["+t.R+" "+t.l+" "+Ia(t)+"]"}function Ea(t){var e=La;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Aa(t,e,n){t.a=!0,t.c=n,t.f=!e,_a(t)}function ka(t){if(t.a){if(!t.v)throw new Oa;t.v=!1}}function Sa(t,e,n,i){t.g.push([e,n,i]),t.a&&_a(t)}function Na(t){return H(t.g,function(t){return v(t[1])})}function _a(e){var n;e.h&&e.a&&Na(e)&&(i=e.h,(n=Da[i])&&(l.clearTimeout(n.a),delete Da[i]),e.h=0),e.b&&(e.b.l--,delete e.b);for(var i=e.c,t=n=!1;e.g.length&&!e.i;){var r=(a=e.g.shift())[0],o=a[1],a=a[2];if(r=e.f?o:r)try{var s=r.call(a||e.s,i);void 0!==s&&(e.f=e.f&&(s==i||s instanceof Error),e.c=i=s),(O(i)||"function"==typeof l.Promise&&i instanceof l.Promise)&&(t=!0,e.i=!0)}catch(t){i=t,e.f=!0,Na(e)||(n=!0)}}e.c=i,t&&(s=b(e.m,e,!0),t=b(e.m,e,!1),i instanceof Ea?(Sa(i,s,t),i.C=!0):i.then(s,t)),n&&(i=new Ra(i),Da[i.a]=i,e.h=i.a)}function Oa(){C.call(this)}function Ca(){C.call(this)}function Ra(t){this.a=l.setTimeout(b(this.c,this),0),this.b=t}(t=ca.prototype).Ma=function(){void 0!==h&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",na(this.b,Ta(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(na(this.b,Ta(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ba(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ba(this,!0)),ca.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?ga(this):this.Jc())},t.Jc=function(){ga(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ha:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Jo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return na(this.b,"Can not get response: "+t.message),null}},Ea.prototype.cancel=function(t){var e;this.a?this.c instanceof Ea&&this.c.cancel():(this.b&&(e=this.b,delete this.b,t?e.cancel(t):(e.l--,e.l<=0&&e.cancel())),this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ca,ka(this),Aa(this,!1,t)))},Ea.prototype.m=function(t,e){this.i=!1,Aa(this,t,e)},Ea.prototype.then=function(t,e,n){var i,r,o=new fe(function(t,e){i=t,r=e});return Sa(this,i,function(t){t instanceof Ca?o.cancel():r(t)}),o.then(t,e,n)},Ea.prototype.$goog_Thenable=!0,w(Oa,C),Oa.prototype.message="Deferred has already fired",Oa.prototype.name="AlreadyCalledError",w(Ca,C),Ca.prototype.message="Deferred was canceled",Ca.prototype.name="CanceledError",Ra.prototype.c=function(){throw delete Da[this.a],this.b};var Da={};function Pa(t){var e=document,n=wt(t).toString(),i=ae(document,"SCRIPT"),r={Wb:i,Ma:void 0},o=new Ea(r),a=window.setTimeout(function(){xa(i,!0);var t=new Ua(ja,"Timeout reached for loading script "+n);ka(o),Aa(o,!1,t)},5e3);return r.Ma=a,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(xa(i,!1,a),ka(o),Aa(o,!0,null))},i.onerror=function(){xa(i,!0,a);var t=new Ua(Ma,"Error while loading script "+n);ka(o),Aa(o,!1,t)},lt(r={},{type:"text/javascript",charset:"UTF-8"}),ee(i,r),r=t,ft(t=i,"HTMLScriptElement"),t.src=wt(r),(r=(r=t.ownerDocument&&t.ownerDocument.defaultView)&&r!=l?f(r.document):s=null===s?f(l.document):s)&&t.setAttribute("nonce",r),((e=((r=e)||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:r.documentElement).appendChild(i),o}function La(){var t;this&&this.Wb&&((t=this.Wb)&&"SCRIPT"==t.tagName&&xa(t,!0,this.Ma))}function xa(t,e,n){null!=n&&l.clearTimeout(n),t.onload=a,t.onerror=a,t.onreadystatechange=a,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Ma=0,ja=1;function Ua(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),C.call(this,n),this.code=t}function Va(t){this.f=t}function Fa(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ka,this.g=ct(t.secureTokenHeaders||Ga),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Ba,this.a=ct(t.firebaseHeaders||Wa),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==hi(),!(n=l.XMLHttpRequest||n&&zl.default.INTERNAL.node&&zl.default.INTERNAL.node.XMLHttpRequest)&&!ci())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ci()?this.f=new ia(self):li()?this.f=new Va(n):this.f=new Ho,this.b=null}w(Ua,C),w(Va,Uo),Va.prototype.a=function(){return new this.f},Va.prototype.b=function(){return{}};var qa,Ha="idToken",Ka=new Ci(3e4,6e4),Ga={"Content-Type":"application/x-www-form-urlencoded"},Ba=new Ci(3e4,6e4),Wa={"Content-Type":"application/json"};function Xa(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ja(t,e){e&&(t.l=Ya("https://securetoken.googleapis.com/v1/token",e),t.h=Ya("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Ya("https://identitytoolkit.googleapis.com/v2/",e))}function Ya(t,e){return t=On(t),e=On(e.url),t.f=t.a+t.f,An(t,e.c),t.a=e.a,kn(t,e.g),t.toString()}function za(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function $a(t,e,n,i,r,o,a){var s;(t=((s=pi(s=gi())==di&&(s=s.match(/\sChrome\/(\d+)/i))&&2==s.length?parseInt(s[1],10):null)&&s<30||Ht&&Zt&&!(9<Zt))&&!ci()?(qa=qa||new fe(function(t,e){var n,i;n=t,i=e,((window.gapi||{}).client||{}).request?n():(l[Qa]=function(){((window.gapi||{}).client||{}).request?n():i(Error("CORS_UNSUPPORTED"))},function(t,e){Sa(t,null,e,void 0)}(Pa(It(Za,{onload:Qa})),function(){i(Error("CORS_UNSUPPORTED"))}))}),b(t.s,t)):b(t.u,t))(e,n,i,r,o,a)}Fa.prototype.T=function(){return this.b},Fa.prototype.u=function(t,n,e,i,r,o){if(ci()&&(void 0===l.fetch||void 0===l.Headers||void 0===l.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a,s=new ca(this.f);o&&(s.g=Math.max(0,o),a=setTimeout(function(){s.dispatchEvent("timeout")},o)),fn(s,"complete",function(){a&&clearTimeout(a);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return na(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}n&&n(e)}),dn(s,"ready",function(){a&&clearTimeout(a),xe(this)}),dn(s,"timeout",function(){a&&clearTimeout(a),xe(this),n&&n(null)}),da(s,t,e,i,r)};var Za=new dt(gt,"https://apis.google.com/js/client.js?onload=%{onload}"),Qa="__fcb"+Math.floor(1e6*Math.random()).toString();function ts(t,e,n,i,r,o,a){var s=On(e+n);Nn(s,"key",t.c),a&&Nn(s,"cb",Date.now().toString());var u="GET"==i;if(u)for(var c in r)r.hasOwnProperty(c)&&Nn(s,c,r[c]);return new fe(function(e,n){$a(t,s.toString(),function(t){t?t.error?n(Ys(t,o||{})):e(t):n(new T("network-request-failed"))},i,u?void 0:Xn(ki(r)),t.a,t.v.get())})}function es(t){if("string"!=typeof(t=t.email)||!oi.test(t))throw new T("invalid-email")}function ns(t){"email"in t&&es(t)}function is(t){if(!t[Ha]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ct(t));throw new T("internal-error")}}function rs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Fa.prototype.s=function(t,n,i,r,o){var a=this;qa.then(function(){window.gapi.client.setApiKey(a.c);var e=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:i,body:r,headers:o,authType:"none",callback:function(t){window.gapi.auth.setToken(e),n&&n(t)}})}).o(function(t){n&&n({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Fa.prototype.zb=function(){return Xs(this,xs,{})},Fa.prototype.Bb=function(t,e){return Xs(this,Ps,{idToken:t,email:e})},Fa.prototype.Cb=function(t,e){return Xs(this,Ls,{idToken:t,password:e})};var os={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function as(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ss(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function us(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Kn(t=new Vn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function cs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=jo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=jo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=jo(t)):t.errorMessage&&(e=Js(t.errorMessage)),e)throw e;is(t)}function hs(t,e){return e.returnIdpCredential=!0,Xs(t,Us,e)}function ls(t,e){return e.returnIdpCredential=!0,Xs(t,Fs,e)}function fs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Xs(t,Vs,e)}function ds(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Fa.prototype).Db=function(t,i){var r={idToken:t},o=[];return st(os,function(t,e){var n=i[e];null===n?o.push(t):e in i&&(r[e]=n)}),o.length&&(r.deleteAttribute=o),Xs(this,Ps,r)},t.vb=function(t,e){return lt(t={requestType:"PASSWORD_RESET",email:t},e),Xs(this,_s,t)},t.wb=function(t,e){return lt(t={requestType:"EMAIL_SIGNIN",email:t},e),Xs(this,ks,t)},t.ub=function(t,e){return lt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Xs(this,Ss,t)},t.Eb=function(t,e,n){return lt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Xs(this,Ns,t)},t.fb=function(t){return Xs(this,Ks,t)},t.nb=function(t,e){return Xs(this,Rs,{oobCode:t,newPassword:e})},t.Ra=function(t){return Xs(this,vs,{oobCode:t})},t.jb=function(t){return Xs(this,ps,{oobCode:t})};var ps={endpoint:"setAccountInfo",A:ds,Z:"email",B:!0},vs={endpoint:"resetPassword",A:ds,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},ms={endpoint:"signupNewUser",A:function(t){if(es(t),!t.password)throw new T("weak-password")},G:is,V:!0,B:!0},gs={endpoint:"createAuthUri",B:!0},bs={endpoint:"deleteAccount",N:["idToken"]},ys={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},ws={endpoint:"emailLinkSignin",N:["email","oobCode"],A:es,G:is,V:!0,B:!0},Is={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:es,G:is,V:!0},Ts={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:as,G:is,B:!0,Na:!0},Es={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:as,G:is,B:!0,Na:!0},As={endpoint:"getAccountInfo"},ks={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");es(t)},Z:"email",B:!0},Ss={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Ns={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},_s={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");es(t)},Z:"email",B:!0},Os={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Cs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Rs={endpoint:"resetPassword",A:ds,Z:"email",B:!0},Ds={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ps={endpoint:"setAccountInfo",N:["idToken"],A:ns,V:!0},Ls={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ns(t),!t.password)throw new T("weak-password")},G:is,V:!0},xs={endpoint:"signupNewUser",G:is,V:!0,B:!0},Ms={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},js={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Us={endpoint:"verifyAssertion",A:ss,Ya:us,G:cs,V:!0,B:!0},Vs={endpoint:"verifyAssertion",A:ss,Ya:us,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw Js(t.errorMessage);is(t)},V:!0,B:!0},Fs={endpoint:"verifyAssertion",A:function(t){if(ss(t),!t.idToken)throw new T("internal-error")},Ya:us,G:cs,V:!0},qs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:is,V:!0,B:!0},Hs={endpoint:"verifyPassword",A:function(t){if(es(t),!t.password)throw new T("wrong-password")},G:is,V:!0,B:!0},Ks={endpoint:"verifyPhoneNumber",A:rs,G:is,B:!0},Gs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");rs(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",jo(t);is(t)}},Bs={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:rs,G:is,B:!0},Ws={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ha]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function Xs(t,e,n){if(!function(t,e){if(!e||!e.length)return 1;if(t){for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return}return 1}}(n,e.N))return we(new T("internal-error"));var i,r=!!e.Na,o=e.Ub||"POST";return ye(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ts(t,r?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return i=t,e.Ya?e.Ya(n,i):i}).then(e.G).then(function(){if(!e.Z)return i;if(!(e.Z in i))throw new T("internal-error");return i[e.Z]})}function Js(t){return Ys({error:{errors:[{message:t}],code:400,message:t}})}function Ys(t,e){var n,i=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(i=r[i]?new T(r[i]):null)return i;for(n in i=t.error&&t.error.message||"",lt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=i.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===i.indexOf(n))return new T(r[n],e);return new T("internal-error",e=!e&&t?Ai(t):e)}function zs(t){var o;this.b=t,this.a=null,this.rb=(o=this,(tu=tu||new fe(function(t,e){function n(){Oi(),bi("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Oi(),e(Error("Network Error"))},timeout:Zs.get()})}var i;bi("gapi.iframes.Iframe")?t():bi("gapi.load")?n():(i="__iframefcb"+Math.floor(1e6*Math.random()).toString(),l[i]=function(){bi("gapi.load")?n():e(Error("Network Error"))},ye(Pa(i=It($s,{onload:i}))).o(function(){e(Error("Network Error"))}))}).o(function(t){throw tu=null,t})).then(function(){return new fe(function(i,r){bi("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:bi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(t){function e(){clearTimeout(n),i()}o.a=t,o.a.restyle({setHideOnLeave:!1});var n=setTimeout(function(){r(Error("Network Error"))},Qs.get());t.ping(e).then(e,function(){r(Error("Network Error"))})})})}))}var $s=new dt(gt,"https://apis.google.com/js/api.js?onload=%{onload}"),Zs=new Ci(3e4,6e4),Qs=new Ci(5e3,15e3),tu=null;function eu(t,e,n,i){this.l=t,this.h=e,this.i=n,this.g=i,this.f=null,t=this.g?Cn((t=On(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Cn("https",this.l,null,"/__/auth/iframe"),this.a=t,Nn(this.a,"apiKey",this.h),Nn(this.a,"appName",this.i),this.b=null,this.c=[]}function nu(t,e,n,i,r,o){this.u=t,this.s=e,this.c=n,this.m=i,this.v=o,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function iu(t){try{return zl.default.app(t).auth().Ga()}catch(t){return[]}}function ru(t,e,n,i,r,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=i||null,this.i=r||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function ou(t){var s=Qn();return Xs(t,Os,{}).then(function(t){return t.authorizedDomains||[]}).then(function(t){t:{for(var e=(n=On(s)).c,n=n.a,i=0;i<t.length;i++){var r=t[i],o=n,a=e;if(o=0==r.indexOf("chrome-extension://")?On(r).a==o&&"chrome-extension"==a:("http"==a||"https"==a)&&(ri.test(r)?o==r:(r=r.split(".").join("\\."),new RegExp("^(.+\\."+r+"|"+r+")$","i").test(o)))){t=!0;break t}}t=!1}if(!t)throw new xo(Qn())})}function au(r){return r.m||(r.m=ai().then(function(){var t,e,n,i;r.u||(t=r.c,e=r.i,n=iu(r.b),(i=new eu(r.s,r.g,r.b,r.f)).f=t,i.b=e,i.c=X(n||[]),r.u=i.toString()),r.v=new zs(r.u),function(i){if(!i.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,bi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(i.v,function(t){var e={};if(t&&t.authEvent){var n=!1;for(t=Ro(t.authEvent),e=0;e<i.h.length;e++)n=i.h[e](t)||n;return(e={}).status=n?"ACK":"ERROR",ye(e)}return e.status="ERROR",ye(e)})}(r)}),r.m)}function su(t){return t.l||(t.C=t.c?mi(t.c,iu(t.b)):null,t.l=new Fa(t.g,_(t.i),t.C),t.f&&Ja(t.l,t.f)),t.l}function uu(t,e,n,i,r,o,a,s,u,c,h,l){return(t=new nu(t,e,n,i,r,l)).l=o,t.g=a,t.i=s,t.b=ct(u||null),t.f=c,t.yb(h).toString()}function cu(t){if(this.a=t||zl.default.INTERNAL.reactNative&&zl.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function hu(t){this.b=t,this.a={},this.f=b(this.c,this)}eu.prototype.toString=function(){return this.f?Nn(this.a,"v",this.f):Hn(this.a.b,"v"),this.b?Nn(this.a,"eid",this.b):Hn(this.a.b,"eid"),this.c.length?Nn(this.a,"fw",this.c.join(",")):Hn(this.a.b,"fw"),this.a.toString()},nu.prototype.yb=function(t){return this.h=t,this},nu.prototype.toString=function(){var t;if(Nn(t=this.v?Cn((t=On(this.v.url)).c,t.a,t.g,"/emulator/auth/handler"):Cn("https",this.u,null,"/__/auth/handler"),"apiKey",this.s),Nn(t,"appName",this.c),Nn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=zl.default.app(this.c).auth().la()}catch(t){n=null}for(i in e.ob=n,Nn(t,"providerId",this.a.providerId),e=ki((n=this.a).Ib))e[i]=e[i].toString();for(var i=n.Qc,e=ct(e),r=0;r<i.length;r++){var o=i[r];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),ut(e)||Nn(t,"customParameters",Ai(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&Nn(t,"scopes",n.join(","))),this.l?Nn(t,"redirectUrl",this.l):Hn(t.b,"redirectUrl"),this.g?Nn(t,"eventId",this.g):Hn(t.b,"eventId"),this.i?Nn(t,"v",this.i):Hn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!_n(t,a)&&Nn(t,a,this.b[a]);return this.h?Nn(t,"tid",this.h):Hn(t.b,"tid"),this.f?Nn(t,"eid",this.f):Hn(t.b,"eid"),(a=iu(this.c)).length&&Nn(t,"fw",a.join(",")),t.toString()},(t=ru.prototype).Ob=function(e,n,t){var i=new T("popup-closed-by-user"),r=new T("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){var t,i;i={type:"webStorageSupport"},au(t=o).then(function(){return e=t.v,n=i,e.rb.then(function(){return new fe(function(t){e.a.send(n.type,n,t,bi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})});var e,n}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}).then(function(t){t||(e&&ni(e),n(r),a=!0)})}).o(function(){}).then(function(){if(!a)return n=e,new fe(function(e){return function t(){mn(2e3).then(function(){return n&&!n.closed?t():void e()})}()});var n}).then(function(){if(!a)return mn(t).then(function(){n(i)})})},t.Xb=function(){var t=gi();return!Ei(t)&&!_i(t)},t.Tb=function(){return!1},t.Mb=function(e,t,n,i,r,o,a,s){if(!e)return we(new T("popup-blocked"));if(a&&!Ei())return this.ma().o(function(t){ni(e),r(t)}),i(),ye();this.a||(this.a=ou(su(this)));var u=this;return this.a.then(function(){var t=u.ma().o(function(t){throw ni(e),r(t),t});return i(),t}).then(function(){Oo(n),a||ti(uu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Nb=function(t,e,n,i){this.a||(this.a=ou(su(this)));var r=this;return this.a.then(function(){Oo(e),ti(uu(r.s,r.g,r.b,t,e,Qn(),n,r.c,void 0,r.i,i,r.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ma=function(){var t=this;return au(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new T("network-request-failed")})},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(e){B(this.h,function(t){return t==e})},(t=cu.prototype).get=function(t){return ye(this.a.getItem(t)).then(function(t){return t&&Si(t)})},t.set=function(t,e){return ye(this.a.setItem(t,Ai(e)))},t.U=function(t){return ye(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var lu,fu=[];function du(t,e,n){ut(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function pu(t){this.a=t}function vu(t){this.c=t,this.b=!1,this.a=[]}function mu(i,t,e,n){var r,o,a,s,u=e||{},c=null;if(i.b)return we(Error("connection_unavailable"));var h=n?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new fe(function(e,n){l?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),a=setTimeout(function(){n(Error("unsupported_event"))},h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){n(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?e(t.data.response):n(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),n(Error("invalid_response"))))}},i.a.push(c),l.port1.addEventListener("message",o),i.c.postMessage({eventType:t,eventId:r,data:u},[l.port2])):n(Error("connection_unavailable"))}).then(function(t){return gu(i,c),t}).o(function(t){throw gu(i,c),t})}function gu(t,e){var n,i;e&&(n=e.messageChannel,i=e.onMessage,n&&(n.port1.removeEventListener("message",i),n.port1.close()),B(t.a,function(t){return t==e}))}function bu(){if(!Tu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t,e,n,i=this;ci()&&self?(this.v=(n=ci()?self:null,V(fu,function(t){t.b==n&&(e=t)}),e||(e=new hu(n),fu.push(e)),e),du(this.v,"keyChanged",function(t,n){return Nu(i).then(function(e){return 0<e.length&&V(i.a,function(t){t(e)}),{keyProcessed:K(e,n.key)}})}),du(this.v,"ping",function(){return ye(["keyChanged"])})):((t=l.navigator)&&t.serviceWorker?ye().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):ye(null)).then(function(t){(i.h=t)&&(i.g=new vu(new pu(t)),mu(i.g,"ping",null,!0).then(function(t){t[0].fulfilled&&K(t[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}function yu(r){return new fe(function(e,n){var t=r.m.open("firebaseLocalStorageDb",1);t.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},t.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},t.onsuccess=function(t){var i;(t=t.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(t):(i=r,new fe(function(t,e){var n=i.m.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){t()},n.onerror=function(t){e(Error(t.target.error))}}).then(function(){return yu(r)}).then(function(t){e(t)}).o(function(t){n(t)}))}})}function wu(t){return t.i||(t.i=yu(t)),t.i}function Iu(r,t){var o=0;return new fe(function e(n,i){wu(r).then(t).then(n).o(function(t){return 3<++o?void i(t):wu(r).then(function(t){return t.close(),r.i=void 0,e(n,i)}).o(function(t){i(t)})})})}function Tu(){try{return l.indexedDB}catch(t){return}}function Eu(t){return t.objectStore("firebaseLocalStorage")}function Au(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ku(t){return new fe(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Su(t,e){return t.g&&t.h&&((n=l.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===t.h?mu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):ye();var n}function Nu(i){return wu(i).then(function(t){var r=Eu(Au(t,!1));return r.getAll?ku(r.getAll()):new fe(function(e,n){var i=[],t=r.openCursor();t.onsuccess=function(t){(t=t.target.result)?(i.push(t.value),t.continue()):e(i)},t.onerror=function(t){n(t.target.error)}})}).then(function(t){var e={},n=[];if(0==i.b){for(n=0;n<t.length;n++)e[t[n].fbase_key]=t[n].value;n=function t(e,n){var i,r=[];for(i in e)i in n&&typeof e[i]==typeof n[i]?"object"==typeof e[i]&&null!=e[i]&&null!=n[i]?0<t(e[i],n[i]).length&&r.push(i):e[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in e||r.push(i);return r}(i.c,e),i.c=e}return n})}function _u(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ou(t){var i=this,r=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ye().then(function(){if(Tu()){var e=Ni(),n="__sak"+e;return lu=lu||new bu,(r=lu).set(n,e).then(function(){return r.get(n)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return r.U(n)}).then(function(){return r}).o(function(){return i.c})}return i.c}).then(function(t){return i.type=t.type,t.ca(function(e){V(i.a,function(t){t(e)})}),t})}function Cu(){this.a={},this.type="inMemory"}function Ru(){if(!function(){var t="Node"==hi();if(!(t=Du()||t&&zl.default.INTERNAL.node&&zl.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==hi())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Du()||zl.default.INTERNAL.node.localStorage,this.type="localStorage"}function Du(){try{var t=l.localStorage,e=Ni();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Pu(){this.type="nullStorage"}function Lu(){if(!function(){var t="Node"==hi();if(!(t=xu()||t&&zl.default.INTERNAL.node&&zl.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==hi())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=xu()||zl.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function xu(){try{var t=l.sessionStorage,e=Ni();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Mu(){var t={};t.Browser=Vu,t.Node=Fu,t.ReactNative=qu,t.Worker=Hu,this.a=t[hi()]}hu.prototype.c=function(n){var e,i=n.data.eventType,r=n.data.eventId,t=this.a[i];t&&0<t.length&&(n.ports[0].postMessage({status:"ack",eventId:r,eventType:i,response:null}),e=[],V(t,function(t){e.push(ye().then(function(){return t(n.origin,n.data.data)}))}),Te(e).then(function(t){var e=[];V(t,function(t){e.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),V(e,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:e})}))},pu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},vu.prototype.close=function(){for(;0<this.a.length;)gu(this,this.a[0]);this.b=!0},(t=bu.prototype).set=function(i,r){var o=this,a=!1;return Iu(this,function(t){return ku((t=Eu(Au(t,!0))).get(i))}).then(function(n){return Iu(o,function(t){if(t=Eu(Au(t,!0)),n)return n.value=r,ku(t.put(n));o.b++,a=!0;var e={};return e.fbase_key=i,e.value=r,ku(t.add(e))})}).then(function(){return o.c[i]=r,Su(o,i)}).oa(function(){a&&o.b--})},t.get=function(e){return Iu(this,function(t){return ku(Eu(Au(t,!1)).get(e))}).then(function(t){return t&&t.value})},t.U=function(e){var n=this,i=!1;return Iu(this,function(t){return i=!0,n.b++,ku(Eu(Au(t,!0)).delete(e))}).then(function(){return delete n.c[e],Su(n,e)}).oa(function(){i&&n.b--})},t.ca=function(t){var n;0==this.a.length&&(_u(n=this),function e(){n.f=setTimeout(function(){n.l=Nu(n).then(function(e){0<e.length&&V(n.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()),this.a.push(t)},t.ia=function(e){B(this.a,function(t){return t==e}),0==this.a.length&&_u(this)},(t=Ou.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},t.set=function(e,n){return this.b.then(function(t){return t.set(e,n)})},t.U=function(e){return this.b.then(function(t){return t.U(e)})},t.ca=function(t){this.a.push(t)},t.ia=function(e){B(this.a,function(t){return t==e})},(t=Cu.prototype).get=function(t){return ye(this.a[t])},t.set=function(t,e){return this.a[t]=e,ye()},t.U=function(t){return delete this.a[t],ye()},t.ca=function(){},t.ia=function(){},(t=Ru.prototype).get=function(t){var e=this;return ye().then(function(){return Si(e.a.getItem(t))})},t.set=function(e,n){var i=this;return ye().then(function(){var t=Ai(n);null===t?i.U(e):i.a.setItem(e,t)})},t.U=function(t){var e=this;return ye().then(function(){e.a.removeItem(t)})},t.ca=function(t){l.window&&Ze(l.window,"storage",t)},t.ia=function(t){l.window&&en(l.window,"storage",t)},(t=Pu.prototype).get=function(){return ye(null)},t.set=function(){return ye()},t.U=function(){return ye()},t.ca=function(){},t.ia=function(){},(t=Lu.prototype).get=function(t){var e=this;return ye().then(function(){return Si(e.a.getItem(t))})},t.set=function(e,n){var i=this;return ye().then(function(){var t=Ai(n);null===t?i.U(e):i.a.setItem(e,t)})},t.U=function(t){var e=this;return ye().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var ju,Uu,Vu={F:Ru,bb:Lu},Fu={F:Ru,bb:Lu},qu={F:cu,bb:Pu},Hu={F:Ru,bb:Pu},Ku={rd:"local",NONE:"none",td:"session"};function Gu(){var t=!(_i(gi())||!ui()),e=Ei(),n=yi();this.m=t,this.h=e,this.l=n,this.a={},t=ju=ju||new Mu;try{this.g=!Zn()&&Li()||!l.indexedDB?new t.a.F:new Ou(new(ci()?Cu:t.a.F))}catch(t){this.g=new Cu,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new Cu}this.v=new Cu,this.f=b(this.Yb,this),this.b={}}function Bu(){return Uu=Uu||new Gu}function Wu(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Xu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ju(t,e,n){return n=Xu(e,n),"local"==e.F&&(t.b[n]=null),Wu(t,e.F).U(n)}function Yu(t){t.c&&(clearInterval(t.c),t.c=null)}function zu(t){this.a=t,this.b=Bu()}(t=Gu.prototype).get=function(t,e){return Wu(this,t.F).get(Xu(t,e))},t.set=function(e,t,n){var i=Xu(e,n),r=this,o=Wu(this,e.F);return o.set(i,t).then(function(){return o.get(i)}).then(function(t){"local"==e.F&&(r.b[i]=t)})},t.addListener=function(t,e,n){var i;t=Xu(t,e),this.l&&(this.b[t]=l.localStorage.getItem(t)),ut(this.a)&&(Wu(this,"local").ca(this.f),this.h||(Zn()||!Li())&&l.indexedDB||!this.l||(Yu(i=this),i.c=setInterval(function(){for(var t in i.a){var e=l.localStorage.getItem(t),n=i.b[t];e!=n&&(i.b[t]=e,e=new qe({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),i.Yb(e))}},1e3))),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Xu(t,e),this.a[t]&&(B(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),ut(this.a)&&(Wu(this,"local").ia(this.f),Yu(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=l.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Wu(this,"local").ia(this.f):Yu(this),this.m)if(n=l.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?l.localStorage.setItem(e,i):l.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var o=this,n=function(){void 0===t.a.a&&o.b[e]===l.localStorage.getItem(e)||(o.b[e]=l.localStorage.getItem(e),o.mb(e))};Ht&&Zt&&10==Zt&&l.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else V(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&V(this.a[t],function(t){t()})};var $u,Zu={name:"authEvent",F:"local"};function Qu(){this.a=Bu()}function tc(t,e){this.b=ec,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=l.Int32Array?new Int32Array(64):Array(64),void 0===$u&&($u=l.Int32Array?new Int32Array(uc):uc),this.reset()}w(tc,function(){this.b=-1});for(var ec=64,nc=ec-1,ic=[],rc=0;rc<nc;rc++)ic[rc]=0;var oc=W(128,ic);function ac(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;e<64;e++){var r=0|n[e-15],i=0|n[e-2],o=(0|n[e-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[e-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+a|0}i=0|t.a[0],r=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;e<64;e++){var f=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&h^~c&l)+(0|$u[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+a|0,u=s,s=r,r=i,i=a+f|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function sc(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if("string"==typeof e)for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(ac(t),r=0);else{if(!p(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(ac(t),r=0)}}t.c=r,t.g+=n}tc.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):X(this.h)};var uc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cc(){tc.call(this,8,hc)}w(cc,tc);var hc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function lc(t,e,n,i,r,o){this.v=t,this.i=e,this.l=n,this.m=i||null,this.u=r||null,this.s=o,this.h=e+":"+n,this.C=new Qu,this.g=new zu(this.h),this.f=null,this.b=[],this.a=this.c=null}function fc(t){return new T("invalid-cordova-configuration",t)}function dc(t){var e=new cc;sc(e,t),t=[];var n=8*e.g;e.c<56?sc(e,oc,56-e.c):sc(e,oc,e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(ac(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return q(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}function pc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function vc(s){return s.f||(s.f=s.ma().then(function(){return new fe(function(n){function e(i){t=!0,a&&a.cancel(),mc(r).then(function(t){var e,n=o;t&&i&&i.url&&(e=null,n=(e=-1!=(n=Jr(i.url)).indexOf("/__/auth/callback")?(e="object"==typeof(e=Si(_n(e=On(n),"firebaseError")||null))?E(e):null)?new Co(t.c,t.b,null,null,e,null,t.T()):new Co(t.c,t.b,n,t.f,null,null,t.T()):e)||o),pc(r,n)})}var r,o,t,a,i;s.Ea(function t(e){return n(e),s.Sa(t),!1}),r=s,o=new Co("unknown",null,null,null,new T("no-auth-event")),t=!1,a=mn(500).then(function(){return mc(r).then(function(){t||pc(r,o)})}),i=l.handleOpenURL,l.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(bi("BuildInfo.packageName",l).toLowerCase()+"://")&&e({url:t}),"function"==typeof i)try{i(t)}catch(t){console.error(t)}},Lo=Lo||new Do,function(t){var n=Lo;n.a.push(t),n.b||(n.b=function(t){for(var e=0;e<n.a.length;e++)n.a[e](t)},"function"==typeof(t=bi("universalLinks.subscribe",l))&&t(null,n.b))}(e)})})),s.f}function mc(e){var t,n=null;return(t=e.g).b.get(Zu,t.a).then(Ro).then(function(t){return n=t,Ju((t=e.g).b,Zu,t.a)}).then(function(){return n})}function gc(t){this.a=t,this.b=Bu()}(t=lc.prototype).ma=function(){return this.Ia||(this.Ia=(si(void 0)?ai().then(function(){return new fe(function(t,e){var n=l.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):we(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof bi("universalLinks.subscribe",l))throw fc("cordova-universal-links-plugin-fix is not installed");if(void 0===bi("BuildInfo.packageName",l))throw fc("cordova-plugin-buildinfo is not installed");if("function"!=typeof bi("cordova.plugins.browsertab.openUrl",l))throw fc("cordova-plugin-browsertab is not installed");if("function"!=typeof bi("cordova.InAppBrowser.open",l))throw fc("cordova-plugin-inappbrowser is not installed")},function(){throw new T("cordova-not-ready")}))},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),ye()},t.Mb=function(){return we(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,i){if(this.c)return we(new T("redirect-operation-pending"));var r=this,o=l.document,a=null,s=null,u=null,c=null;return this.c=ye().then(function(){return Oo(e),vc(r)}).then(function(){return function(n,t,e,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Co(t,i,null,o,new T("no-auth-event"),null,r),s=bi("BuildInfo.packageName",l);if("string"!=typeof s)throw new T("invalid-cordova-configuration");var u=bi("BuildInfo.displayName",l),c={};if(gi().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!gi().toLowerCase().match(/android/))return we(new T("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=dc(o),c.sessionId=o;var h=uu(n.v,n.i,n.l,t,e,null,i,n.m,c,n.u,r,n.s);return n.ma().then(function(){var t=n.h;return n.C.a.set(Zu,a.w(),t)}).then(function(){var t=bi("cordova.plugins.browsertab.isAvailable",l);if("function"!=typeof t)throw new T("invalid-cordova-configuration");var e=null;t(function(t){if(t){if("function"!=typeof(e=bi("cordova.plugins.browsertab.openUrl",l)))throw new T("invalid-cordova-configuration");e(h)}else{if("function"!=typeof(e=bi("cordova.InAppBrowser.open",l)))throw new T("invalid-cordova-configuration");t=gi(),n.a=e(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(r,t,e,n,i)}).then(function(){return new fe(function(e,t){s=function(){var t=bi("cordova.plugins.browsertab.close",l);return e(),"function"==typeof t&&t(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ea(s),u=function(){a=a||mn(2e3).then(function(){t(new T("redirect-cancelled-by-user"))})},c=function(){Ri()&&u()},o.addEventListener("resume",u,!1),gi().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).o(function(t){return mc(r).then(function(){throw t})})}).oa(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&r.Sa(s),r.c=null})},t.Ea=function(e){this.b.push(e),vc(this).o(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Co("unknown",null,null,null,new T("no-auth-event")),e(t))})},t.Sa=function(e){B(this.b,function(t){return t==e})};var bc={name:"pendingRedirect",F:"session"};function yc(t){return Ju(t.b,bc,t.a)}function wc(t,e,n,i){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=i,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new xc,this.C=new Fc,this.g=new gc(Pc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Ic(this.D,this.v,this.m,A,this.J)}function Ic(t,e,n,i,r){var o=zl.default.SDK_VERSION||null;return new(si()?lc:ru)(t,e,n,o,i,r)}function Tc(e){e.f||(e.f=!0,e.a.Ea(e.l));var n=e.a;return e.a.ma().o(function(t){throw e.a==n&&e.reset(),t})}function Ec(n){n.a.Xb()&&Tc(n).o(function(t){var e=new Co("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Oc(t)&&n.s(e)}),n.a.Tb()||Mc(n.b)}function Ac(n,t){K(n.h,t)||n.h.push(t),n.f||(t=n.g).b.get(bc,t.a).then(function(t){return"pending"==t}).then(function(t){t?yc(n.g).then(function(){Tc(n).o(function(t){var e=new Co("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Oc(t)&&n.s(e)})}):Ec(n)}).o(function(){Ec(n)})}function kc(t,e){B(t.h,function(t){return t==e})}wc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Ic(this.D,this.v,this.m,null,this.J),this.i={}},wc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Mc(this.b),e};var Sc=new Ci(2e3,1e4),Nc=new Ci(3e4,6e4);function _c(t,e,n,i,r,o,a){return t.a.Mb(e,n,i,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},r,o,a)}function Oc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Cc(e,t,n,i,r){var o,a;return(a=e.g).b.set(bc,"pending",a.a).then(function(){return e.a.Nb(t,n,i,r).o(function(t){if(Oc(t))throw new T("operation-not-supported-in-this-environment");return o=t,yc(e.g).then(function(){throw o})}).then(function(){return e.a.$b()?new fe(function(){}):yc(e.g).then(function(){return e.qa()}).then(function(){}).o(function(){})})})}function Rc(t,e,n,i,r){return t.a.Ob(i,function(t){e.na(n,null,t,r)},Sc.get())}wc.prototype.qa=function(){return this.b.qa()};var Dc={};function Pc(t,e,n){return t=t+":"+e,t=n?t+":"+n.url:t}function Lc(t,e,n,i){var r=Pc(e,n,i);return Dc[r]||(Dc[r]=new wc(t,e,n,i)),Dc[r]}function xc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Mc(t){t.g||(t.g=!0,Vc(t,!1,null,null))}function jc(t){t.g&&!t.i&&Vc(t,!1,null,null)}function Uc(t,e){if(t.b=function(){return ye(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Vc(t,e,n,i){e?i?function(t,e){if(t.b=function(){return we(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):Uc(t,n):Uc(t,{user:null}),t.f=[],t.c=[]}function Fc(){}function qc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Hc(t,e){this.a=e,Vi(this,"verificationId",t)}function Kc(t,e,n,i){return new So(t).fb(e,n).then(function(t){return new Hc(t,i)})}function Gc(t){var e=Lr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Fi(this,{token:t,expirationTime:Pi(1e3*e.exp),authTime:Pi(1e3*e.auth_time),issuedAtTime:Pi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Bc(t,e,n){var i=e&&e[Xc];if(!i)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ct(e),this.g=n,this.c=new Yr(null,i),this.b=[];var r=this;V(e[Wc]||[],function(t){(t=Gi(t))&&r.b.push(t)}),Vi(this,"auth",this.a),Vi(this,"session",this.c),Vi(this,"hints",this.b)}xc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},xc.prototype.h=function(t,e){var n,i,r,o;t?(this.reset(),this.g=!0,n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code,this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(Vc(this,!0,null,t.a),ye()):e.Fa(n,i)?function(e,t,n){n=n.Fa(t.c,t.b);var i=t.g,r=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(i,r,a,o).then(function(t){Vc(e,s,t,null)}).o(function(t){Vc(e,s,null,t)})}(this,t,e):we(new T("invalid-auth-event")):(Vc(this,!1,null,null),ye())):we(new T("invalid-auth-event"))},xc.prototype.qa=function(){var r=this;return new fe(function(t,e){var n,i;r.b?r.b().then(t,e):(r.f.push(t),r.c.push(e),n=r,i=new T("timeout"),n.a&&n.a.cancel(),n.a=mn(Nc.get()).then(function(){n.b||(n.g=!0,Vc(n,!0,null,i))}))})},Fc.prototype.h=function(t,e){var n,i,r,o,a;t?(n=t.c,i=t.b,t.a?(e.na(t.c,null,t.a,t.b),ye()):e.Fa(n,i)?(r=e,o=(t=t).b,a=t.c,r.Fa(a,o)(t.g,t.f,t.T(),t.i).then(function(t){r.na(a,t,null,o)}).o(function(t){r.na(a,null,t,o)})):we(new T("invalid-auth-event"))):we(new T("invalid-auth-event"))},Hc.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var Wc="mfaInfo",Xc="mfaPendingCredential";function Jc(t,e,n,i){T.call(this,"multi-factor-auth-required",i,e),this.b=new Bc(t,e,n),Vi(this,"resolver",this.b)}function Yc(t,e,n){if(t&&m(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Jc(e,t.serverResponse,n,t.message)}catch(t){}return null}function zc(){}function $c(t){Vi(this,"factorId",t.fa),this.a=t}function Zc(t){if($c.call(this,t),this.a.fa!=So.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Qc(t,e){for(var n in Fe.call(this,t),e)this[n]=e[n]}function th(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),Ze(this.a,"userReloaded",this.c);var i=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&V(e.multiFactor.enrolledFactors,function(t){var e=null,n={};if(t){t.uid&&(n[Xi]=t.uid),t.displayName&&(n[Bi]=t.displayName),t.enrollmentTime&&(n[Wi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(n[Ji]=t.phoneNumber);try{e=new Yi(n)}catch(t){}t=e}else t=null;t&&i.push(t)}),eh(this,i)}function eh(t,e){t.b=e,Vi(t,"enrolledFactors",e)}function nh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ih(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function rh(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function oh(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function ah(t,e){t.b=Pr(e[Ha]||""),t.a=e.refreshToken,oh(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function sh(e,t){return i=e.f,r=t,new fe(function(e,n){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?$a(i,i.l+"?key="+encodeURIComponent(i.c),function(t){t?t.error?n(Ys(t)):t.access_token&&t.refresh_token?e(t):n(new T("internal-error")):n(new T("network-request-failed"))},"POST",qn(r).toString(),i.g,i.m.get()):n(new T("internal-error"))}).then(function(t){return e.b=Pr(t.access_token),e.a=t.refresh_token,oh(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t});var i,r}function uh(t,e){this.a=t||null,this.b=e||null,Fi(this,{lastSignInTime:Pi(e||null),creationTime:Pi(t||null)})}function ch(t,e,n,i,r,o){Fi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function hh(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i,r=zl.default.SDK_VERSION?mi(zl.default.SDK_VERSION):null;this.a=new Fa(this.l,_(A),r),t.emulatorConfig&&Ja(this.a,t.emulatorConfig),this.b=new rh(this.a),bh(this,e[Ha]),ah(this.b,e),Vi(this,"refreshToken",this.b.a),Ih(this,n||{}),ln.call(this),this.R=!1,this.s&&wi()&&(this.i=Lc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=(i=this,new nh(function(){return i.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var t=i.b.c-Date.now()-3e5;return 0<t?t:0})),this.aa=b(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){Ja(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){dh(o,t.f)},this.ba=null,this.O=new th(this,n),Vi(this,"multiFactor",this.O)}function lh(t,e){t.ja&&en(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&Ze(e,"languageCodeChanged",t.Oa)}function fh(t,e){t.X&&en(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&Ze(e,"emulatorConfigChanged",t.Aa)}function dh(t,e){t.$=e,za(t.a,zl.default.SDK_VERSION?mi(zl.default.SDK_VERSION,t.$):null)}function ph(t,e){t.ba&&en(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&Ze(e,"frameworkChanged",t.Ba)}function vh(e){try{return zl.default.app(e.m).auth()}catch(t){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function mh(t){t.D||t.u.b||(t.u.start(),en(t,"tokenChanged",t.aa),Ze(t,"tokenChanged",t.aa))}function gh(t){en(t,"tokenChanged",t.aa),t.u.stop()}function bh(t,e){t.za=e,Vi(t,"_lat",e)}function yh(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Te(e).then(function(){return t})}function wh(t){t.i&&!t.R&&(t.R=!0,Ac(t.i,t))}function Ih(t,e){Fi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new uh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Th(){}function Eh(t){return ye().then(function(){if(t.D)throw new T("app-deleted")})}function Ah(t){return q(t.providerData,function(t){return t.providerId})}function kh(t,e){e&&(Sh(t,e.providerId),t.providerData.push(e))}function Sh(t,e){B(t.providerData,function(t){return t.providerId==e})}function Nh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Vi(t,e,n)}function _h(e,t){var n,i;e!=t&&(Fi(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Vi(e,"metadata",new uh((i=t.metadata).a,i.b)):Vi(e,"metadata",new uh),V(t.providerData,function(t){kh(e,t)}),n=e.b,i=t.b,n.b=i.b,n.a=i.a,n.c=i.c,Vi(e,"refreshToken",e.b.a),eh(e.O,t.O.b))}function Oh(r){return r.I().then(function(t){var e,n,i=r.isAnonymous;return n=t,Xs((e=r).a,As,{idToken:n}).then(b(e.Kc,e)).then(function(){return i||Nh(r,"isAnonymous",!1),t})})}function Ch(t,e){e[Ha]&&t.za!=e[Ha]&&(ah(t.b,e),t.dispatchEvent(new Qc("tokenChanged")),bh(t,e[Ha]),Nh(t,"refreshToken",t.b.a))}function Rh(t,e){return Oh(t).then(function(){if(K(Ah(t),e))return yh(t).then(function(){throw new T("provider-already-linked")})})}function Dh(t,e,n){return qi({user:t,credential:_o(e),additionalUserInfo:e=Vr(e),operationType:n})}function Ph(t,e){return Ch(t,e),t.reload().then(function(){return t})}function Lh(n,i,t,e,r){if(!wi())return we(new T("operation-not-supported-in-this-environment"));if(n.h&&!r)return we(n.h);var o=Ur(t.providerId),a=Ni(n.uid+":::"),s=null,u=ii(s=(!Ei()||ui())&&n.s&&t.isOAuthProvider?uu(n.s,n.l,n.m,i,t,null,a,zl.default.SDK_VERSION||null,null,null,n.tenantId):s,o&&o.ua,o&&o.ta);return e=e().then(function(){if(Mh(n),!r)return n.I().then(function(){})}).then(function(){return _c(n.i,u,i,t,a,!!s,n.tenantId)}).then(function(){return new fe(function(t,e){n.na(i,null,new T("cancelled-popup-request"),n.g||null),n.f=t,n.C=e,n.g=a,n.c=Rc(n.i,n,i,u,a)})}).then(function(t){return u&&ni(u),t?qi(t):null}).o(function(t){throw u&&ni(u),t}),jh(n,e,r)}function xh(e,t,n,i,r){if(!wi())return we(new T("operation-not-supported-in-this-environment"));if(e.h&&!r)return we(e.h);var o=null,a=Ni(e.uid+":::");return i=i().then(function(){if(Mh(e),!r)return e.I().then(function(){})}).then(function(){return e.ga=a,yh(e)}).then(function(t){return t=e.ha?(t=e.ha).b.set(Fh,e.w(),t.a):t}).then(function(){return Cc(e.i,t,n,a,e.tenantId)}).o(function(t){if(o=t,e.ha)return qh(e.ha);throw o}).then(function(){if(o)throw o}),jh(e,i,r)}function Mh(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function jh(n,t,e){var i,r=(t=t,e=e,(i=n).h&&!e?(t.cancel(),we(i.h)):t.o(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(i.h||i.dispatchEvent(new Qc("userInvalidated")),i.h=t),t}));return n.J.push(r),r.oa(function(){G(n.J,r)}),r.o(function(t){var e=null;throw(e=t&&"auth/multi-factor-auth-required"===t.code?Yc(t.w(),vh(n),b(n.jc,n)):e)||t})}function Uh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ha]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=t.stsTokenManager.expirationTime;i&&(n.expiresIn=(i-Date.now())/1e3);var r=new hh(e,n,t);return t.providerData&&V(t.providerData,function(t){t&&kh(r,qi(t))}),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Vh(t){this.a=t,this.b=Bu()}Bc.prototype.Rc=function(t){var n=this;return t.sb(this.a.a,this.c).then(function(t){var e=ct(n.f);return delete e[Wc],delete e[Xc],lt(e,t),n.g(e)})},w(Jc,T),zc.prototype.sb=function(t,e,n){return e.type==zr?(o=this,a=t,s=n,e.Ha().then(function(t){return t={idToken:t},void 0!==s&&(t.displayName=s),lt(t,{phoneVerificationInfo:ko(o.a)}),Xs(a,Ts,t)})):(i=this,r=t,e.Ha().then(function(t){return lt(t={mfaPendingCredential:t},{phoneVerificationInfo:ko(i.a)}),Xs(r,Es,t)}));var i,r,o,a,s},w($c,zc),w(Zc,$c),w(Qc,Fe),(t=th.prototype).yc=function(t){var e;eh(this,(t=t.hd,e=[],V(t.mfaInfo||[],function(t){(t=Gi(t))&&e.push(t)}),e))},t.Rb=function(){return this.a.I().then(function(t){return new Yr(t,null)})},t.fc=function(e,n){var i=this,r=this.a.a;return this.Rb().then(function(t){return e.sb(r,t,n)}).then(function(t){return Ch(i.a,t),i.a.reload()})},t.bd=function(t){var n=this,i="string"==typeof t?t:t.uid,e=this.a.a;return this.a.I().then(function(t){return Xs(e,Ws,{idToken:t,mfaEnrollmentId:i})}).then(function(t){var e=F(n.b,function(t){return t.uid!=i});return eh(n,e),Ch(n.a,t),n.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:q(this.b,function(t){return t.w()})}}},nh.prototype.start=function(){this.a=this.c,function e(n,t){n.stop();n.b=mn(ih(n,t)).then(Di).then(function(){return n.h()}).then(function(){e(n,!0)}).o(function(t){n.i(t)&&e(n,!1)})}(this,!0)},nh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},rh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},rh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?we(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?sh(this,{grant_type:"refresh_token",refresh_token:this.a}):ye(null):ye({accessToken:this.b.toString(),refreshToken:this.a})},uh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(hh,ln),hh.prototype.wa=function(t){this.ya=t,Xa(this.a,t)},hh.prototype.la=function(){return this.ya},hh.prototype.Ga=function(){return X(this.$)},hh.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Vi(hh.prototype,"providerId","firebase"),(t=hh.prototype).reload=function(){var t=this;return jh(this,Eh(this).then(function(){return Oh(t).then(function(){return yh(t)}).then(Th)}))},t.oc=function(t){return this.I(t).then(function(t){return new Gc(t)})},t.I=function(t){var e=this;return jh(this,Eh(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(bh(e,t.accessToken),e.dispatchEvent(new Qc("tokenChanged"))),Nh(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Ih(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e,n=(e=(e=t).providerUserInfo)&&e.length?q(e,function(t){return new ch(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[],i=0;i<n.length;i++)kh(this,n[i]);Nh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Qc("userReloaded",{hd:t}))},t.Lc=function(t){return ji("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return jh(this,t.c(this.a,this.uid).then(function(t){return Ch(e,t),n=Dh(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return ji("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(e){var n=this,i=null;return jh(this,Rh(this,e.providerId).then(function(){return n.I()}).then(function(t){return e.b(n.a,t)}).then(function(t){return i=Dh(n,t,"link"),Ph(n,t)}).then(function(){return i}))},t.Dc=function(t,e){var n=this;return jh(this,Rh(this,"phone").then(function(){return Kc(vh(n),t,e,b(n.qb,n))}))},t.Mc=function(t,e){var n=this;return jh(this,ye().then(function(){return Kc(vh(n),t,e,b(n.tb,n))}),!0)},t.Bb=function(e){var n=this;return jh(this,this.I().then(function(t){return n.a.Bb(t,e)}).then(function(t){return Ch(n,t),n.reload()}))},t.ed=function(e){var n=this;return jh(this,this.I().then(function(t){return e.b(n.a,t)}).then(function(t){return Ch(n,t),n.reload()}))},t.Cb=function(e){var n=this;return jh(this,this.I().then(function(t){return n.a.Cb(t,e)}).then(function(t){return Ch(n,t),n.reload()}))},t.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Eh(this);var n=this;return jh(this,this.I().then(function(t){return n.a.Db(t,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(t){return Ch(n,t),Nh(n,"displayName",t.displayName||null),Nh(n,"photoURL",t.photoUrl||null),V(n.providerData,function(t){"password"===t.providerId&&(Vi(t,"displayName",n.displayName),Vi(t,"photoURL",n.photoURL))}),yh(n)}).then(Th))},t.cd=function(e){var n=this;return jh(this,Oh(this).then(function(t){return K(Ah(n),e)?Xs(n.a,ys,{idToken:t,deleteProvider:[e]}).then(function(t){var e={};return V(t.providerUserInfo||[],function(t){e[t.providerId]=!0}),V(Ah(n),function(t){e[t]||Sh(n,t)}),e[So.PROVIDER_ID]||Vi(n,"phoneNumber",null),yh(n)}):yh(n).then(function(){throw new T("no-such-provider")})}))},t.delete=function(){var e=this;return jh(this,this.I().then(function(t){return Xs(e.a,bs,{idToken:t})}).then(function(){e.dispatchEvent(new Qc("userDeleted"))})).then(function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");lh(e,null),fh(e,null),ph(e,null),e.J=[],e.D=!0,gh(e),Vi(e,"refreshToken",null),e.i&&kc(e.i,e)})},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return Lh(this,"linkViaPopup",t,function(){return Rh(e,t.providerId).then(function(){return yh(e)})},!1)},t.Nc=function(t){return Lh(this,"reauthViaPopup",t,function(){return ye()},!0)},t.Fc=function(t){var e=this;return xh(this,"linkViaRedirect",t,function(){return Rh(e,t.providerId)},!1)},t.Oc=function(t){return xh(this,"reauthViaRedirect",t,function(){return ye()},!0)},t.Kb=function(e,n,t,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return t=this.I().then(function(t){return ls(r.a,{requestUri:e,postBody:i,sessionId:n,idToken:t})}).then(function(t){return o=Dh(r,t,"link"),Ph(r,t)}).then(function(){return o}),jh(this,t)},t.Lb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return jh(this,ye().then(function(){return Qr(fs(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)}).then(function(t){return o=Dh(r,t,"reauthenticate"),Ch(r,t),r.h=null,r.reload()}).then(function(){return o}),!0)},t.ub=function(e){var n=this,i=null;return jh(this,this.I().then(function(t){return i=t,void 0===e||ut(e)?{}:Or(new yr(e))}).then(function(t){return n.a.ub(i,t)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.Eb=function(e,n){var i=this,r=null;return jh(this,this.I().then(function(t){return r=t,void 0===n||ut(n)?{}:Or(new yr(n))}).then(function(t){return i.a.Eb(r,e,t)}).then(function(t){if(i.email!=t)return i.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return jh(this,t=Qr(ye(t),n.uid).then(function(t){return e=Dh(n,t,"reauthenticate"),Ch(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&lt(e,this.metadata.w()),V(this.providerData,function(t){e.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(t))}),lt(e,this.O.w()),e};var Fh={name:"redirectUser",F:"session"};function qh(t){return Ju(t.b,Fh,t.a)}function Hh(t){var e,n,i,r;this.a=t,this.b=Bu(),this.c=null,this.f=(n=Bh("local"),i=Bh("session"),r=Bh("none"),function(n,i,r){var o=Xu(i,r),a=Wu(n,i.F);return n.get(i,r).then(function(t){var e=null;try{e=Si(l.localStorage.getItem(o))}catch(t){}if(e&&!t)return l.localStorage.removeItem(o),n.set(i,e,r);e&&t&&"localStorage"!=a.type&&l.localStorage.removeItem(o)})}((e=this).b,n,e.a).then(function(){return e.b.get(i,e.a)}).then(function(t){return t?i:e.b.get(r,e.a).then(function(t){return t?r:e.b.get(n,e.a).then(function(t){return t?n:e.b.get(Gh,e.a).then(function(t){return t?Bh(t):n})})})}).then(function(t){return e.c=t,Kh(e,t.F)}).o(function(){e.c||(e.c=n)})),this.b.addListener(Bh("local"),this.a,b(this.g,this))}function Kh(t,e){var n,s,i=[];for(n in Ku)Ku[n]!==e&&i.push(Ju(t.b,Bh(Ku[n]),t.a));return i.push(Ju(t.b,Gh,t.a)),s=i,new fe(function(n,e){var i=s.length,r=[];if(i)for(var t=function(t,e){i--,r[t]=e,0==i&&n(r)},o=function(t){e(t)},a=0;a<s.length;a++)Ie(s[a],y(t,a),o);else n(r)})}Hh.prototype.g=function(){var e=this,n=Bh("local");Yh(this,function(){return ye().then(function(){return e.c&&"local"!=e.c.F?e.b.get(n,e.a):null}).then(function(t){if(t)return Kh(e,"local").then(function(){e.c=n})})})};var Gh={name:"persistence",F:"session"};function Bh(t){return{name:"authUser",F:t}}function Wh(t,e){return Yh(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Xh(t){return Yh(t,function(){return Ju(t.b,t.c,t.a)})}function Jh(t,e,n){return Yh(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Uh(t||{})})})}function Yh(t,e){return t.f=t.f.then(e,e),t.f}function zh(t){if(this.l=!1,Vi(this,"settings",new qc),Vi(this,"app",t),!this.app.options||!this.app.options.apiKey)throw new T("invalid-api-key");var n,e,i,r,o,a;t=zl.default.SDK_VERSION?mi(zl.default.SDK_VERSION):null,this.a=new Fa(this.app.options&&this.app.options.apiKey,_(A),t),this.R=[],this.s=[],this.O=[],this.hb=zl.default.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=zl.default.INTERNAL.createSubscribe(b(this.Ac,this)),il(this,null),this.i=new Hh(this.app.options.apiKey+":"+this.app.name),this.D=new Vh(this.app.options.apiKey+":"+this.app.name),this.$=ul(this,(e=(n=this).app.options.authDomain,t=function(e){var t=function(t,e){return t.b.get(Fh,t.a).then(function(t){return t&&e&&(t.authDomain=e),Uh(t||{})})}(e.D,e.app.options.authDomain).then(function(t){return(e.m=t)&&(t.ha=e.D),qh(e.D)});return ul(e,t)}(n).then(function(){return Jh(n.i,e,n.P)}).then(function(e){return e?(e.ha=n.D,n.m&&(n.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Wh(n.i,e).then(function(){return e})}).o(function(t){return"auth/network-request-failed"==t.code?e:Xh(n.i)})):null}).then(function(t){il(n,t||null)}),ul(n,t))),this.h=ul(this,(i=this).$.then(function(){return el(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){var t;i.l||(i.ba=!0,(t=i.i).b.addListener(Bh("local"),t.a,i.ja))})),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,o=(r=this).app.options.authDomain,a=r.app.options.apiKey,o&&wi()&&(r.Oa=r.$.then(function(){var t;if(!r.l)return r.b=Lc(o,a,r.app.name,r.P),Ac(r.b,r),ol(r)&&wh(ol(r)),r.m&&(wh(r.m),(t=r.m).wa(r.la()),lh(t,r),dh(t=r.m,r.J),ph(t,r),Ja((t=r.m).a,r.P),fh(t,r),r.m=null),r.b})),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,ln.call(this),t=this,Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){var t;return t=this.P?qi({protocol:(t=On(this.P.url)).c,host:t.a,port:t.g,options:qi({disableWarnings:this.P.ec})}):null},enumerable:!1}),this.J=[],this.P=null}function $h(t){Fe.call(this,"languageCodeChanged"),this.h=t}function Zh(t){Fe.call(this,"emulatorConfigChanged"),this.c=t}function Qh(t){Fe.call(this,"frameworkChanged"),this.f=t}function tl(t){return t.Oa||we(new T("auth-domain-config-required"))}function el(t){if(!wi())return we(new T("operation-not-supported-in-this-environment"));var e=tl(t).then(function(){return t.b.qa()}).then(function(t){return t?qi(t):null});return ul(t,e)}function nl(o,a){var s={};return s.apiKey=o.app.options.apiKey,s.authDomain=o.app.options.authDomain,s.appName=o.app.name,o.P&&(s.emulatorConfig=o.P),o.$.then(function(){return t=s,e=a,n=o.D,i=o.Ga(),r=new hh(t,e),n&&(r.ha=n),i&&dh(r,i),r.reload().then(function(){return r});var t,e,n,i,r}).then(function(t){return ol(o)&&t.uid==ol(o).uid?_h(ol(o),t):(il(o,t),wh(t)),o.da(t)}).then(function(){sl(o)})}function il(t,e){var n,i;ol(t)&&(n=ol(t),i=t.Ba,B(n.S,function(t){return t==i}),en(ol(t),"tokenChanged",t.ya),en(ol(t),"userDeleted",t.za),en(ol(t),"userInvalidated",t.Aa),gh(ol(t))),e&&(e.S.push(t.Ba),Ze(e,"tokenChanged",t.ya),Ze(e,"userDeleted",t.za),Ze(e,"userInvalidated",t.Aa),0<t.u&&mh(e)),Vi(t,"currentUser",e),e&&(e.wa(t.la()),lh(e,t),dh(e,t.J),ph(e,t),Ja(e.a,t.P),fh(e,t))}function rl(n,t){var e=null,i=null;return ul(n,t.then(function(t){return e=_o(t),i=Vr(t),nl(n,t)},function(t){var e=null;throw(e=t&&"auth/multi-factor-auth-required"===t.code?Yc(t.w(),n,b(n.kc,n)):e)||t}).then(function(){return qi({user:ol(n),credential:e,additionalUserInfo:i,operationType:"signIn"})}))}function ol(t){return t.currentUser}function al(t){return ol(t)&&ol(t)._lat||null}function sl(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](al(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](al(t))}}function ul(t,e){return t.R.push(e),e.oa(function(){G(t.R,e)}),e}function cl(){}function hl(){this.a={},this.b=1e12}Hh.prototype.xb=function(e){var n=null,i=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(i in Ku)if(Ku[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(hi()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Tu()&&"none"!==t)throw n;break;default:if(!yi()&&"none"!==t)throw n}}(e),Yh(this,function(){return e!=i.c.F?i.b.get(i.c,i.a).then(function(t){return n=t,Kh(i,e)}).then(function(){if(i.c=Bh(e),n)return i.b.set(i.c,n,i.a)}):ye()})},w(zh,ln),w($h,Fe),w(Zh,Fe),w(Qh,Fe),(t=zh.prototype).xb=function(t){return t=this.i.xb(t),ul(this,t)},t.wa=function(t){this.aa===t||this.l||(this.aa=t,Xa(this.a,this.aa),this.dispatchEvent(new $h(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=l.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");e=!!e&&!!e.disableWarnings,n=e,"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!n&&ai().then(function(){var t=l.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),l.document.body.appendChild(t)}),this.P={url:t,ec:e},this.settings.ib=!0,Ja(this.a,this.P),this.dispatchEvent(new Zh(this.P))}var n},t.Gc=function(t){this.J.push(t),za(this.a,zl.default.SDK_VERSION?mi(zl.default.SDK_VERSION,this.J):null),this.dispatchEvent(new Qh(this.J))},t.Ga=function(){return X(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:ol(this)&&ol(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,i){var r=this,o={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.$.then(function(){return rl(r,hs(r.a,o))})},t.Xc=function(e){if(!wi())return we(new T("operation-not-supported-in-this-environment"));var n=this,t=Ur(e.providerId),i=Ni(),r=null,o=ii(r=(!Ei()||ui())&&this.app.options.authDomain&&e.isOAuthProvider?uu(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",e,null,i,zl.default.SDK_VERSION||null,null,null,this.T(),this.P):r,t&&t.ua,t&&t.ta);return ul(this,t=tl(this).then(function(t){return _c(t,o,"signInViaPopup",e,i,!!r,n.T())}).then(function(){return new fe(function(t,e){n.na("signInViaPopup",null,new T("cancelled-popup-request"),n.g),n.f=t,n.C=e,n.g=i,n.c=Rc(n.b,n,"signInViaPopup",o,i)})}).then(function(t){return o&&ni(o),t?qi(t):null}).o(function(t){throw o&&ni(o),t}))},t.Yc=function(t){if(!wi())return we(new T("operation-not-supported-in-this-environment"));var e=this;return ul(this,tl(this).then(function(){return Yh(t=e.i,function(){return t.b.set(Gh,t.c.F,t.a)});var t}).then(function(){return Cc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.qa=function(){var e=this;return el(this).then(function(t){return e.b&&jc(e.b.b),t}).o(function(t){throw e.b&&jc(e.b.b),t})},t.dd=function(t){if(!t)return we(new T("null-user"));if(this.S!=t.tenantId)return we(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var i,r,o,a,s,u=(i=t,r=n,o=e.D,a=e.Ga(),s=i.b,(n={})[Ha]=s.b&&s.b.toString(),n.refreshToken=s.a,r=new hh(r||{apiKey:i.l,authDomain:i.s,appName:i.m},n),o&&(r.ha=o),a&&dh(r,a),_h(r,i),r);return ul(this,this.h.then(function(){if(e.app.options.apiKey!=t.l)return u.reload()}).then(function(){return ol(e)&&t.uid==ol(e).uid?(_h(ol(e),t),e.da(t)):(il(e,u),wh(u),e.da(u))}).then(function(){sl(e)}))},t.Ab=function(){var t=this,e=this.h.then(function(){return t.b&&jc(t.b.b),ol(t)?(il(t,null),Xh(t.i).then(function(){sl(t)})):ye()});return ul(this,e)},t.Zc=function(){var i=this;return Jh(this.i,this.app.options.authDomain).then(function(t){if(!i.l){var e,n;if((e=ol(i)&&t)&&(e=ol(i).uid,n=t.uid,e=null!=e&&""!==e&&null!=n&&""!==n&&e==n),e)return _h(ol(i),t),ol(i).I();(ol(i)||t)&&(il(i,t),t&&(wh(t),t.ha=i.D),i.b&&Ac(i.b,i),sl(i))}})},t.da=function(t){return Wh(this.i,t)},t.mc=function(){sl(this),this.da(ol(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then(function(){return rl(e,ye(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(ol(e))})},t.Ac=function(t){var e,n,i=this;n=function(){t.next(ol(i))},(e=this).O.push(n),ul(e,e.h.then(function(){!e.l&&K(e.O,n)&&e.X!==e.getUid()&&(e.X=e.getUid(),n(al(e)))}))},t.Ic=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(ol(i)):"function"==typeof t.next&&t.next(ol(i))}),this.hb(t,e,n)},t.Hc=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then(function(){i.X=i.getUid(),"function"==typeof t?t(ol(i)):"function"==typeof t.next&&t.next(ol(i))}),this.bc(t,e,n)},t.nc=function(t){var e=this,n=this.h.then(function(){return ol(e)?ol(e).I(t).then(function(t){return{accessToken:t}}):null});return ul(this,n)},t.Tc=function(t){var n=this;return this.h.then(function(){return rl(n,Xs(n.a,qs,{token:t}))}).then(function(t){var e=t.user;return Nh(e,"isAnonymous",!1),n.da(e),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return rl(n,Xs(n.a,Hs,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return rl(n,Xs(n.a,ms,{email:t,password:e}))})},t.$a=function(t){var e=this;return this.h.then(function(){return rl(e,t.ka(e.a))})},t.Sc=function(t){return ji("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var n=this;return this.h.then(function(){var t=ol(n);if(t&&t.isAnonymous){var e=qi({providerId:null,isNewUser:!1});return qi({user:t,credential:null,additionalUserInfo:e,operationType:"signIn"})}return rl(n,n.a.zb()).then(function(t){var e=t.user;return Nh(e,"isAnonymous",!0),n.da(e),t})})},t.getUid=function(){return ol(this)&&ol(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ol(this)&&mh(ol(this))},t.Pc=function(e){var n=this;V(this.s,function(t){t==e&&n.u--}),this.u<0&&(this.u=0),0==this.u&&ol(this)&&gh(ol(this)),this.removeAuthTokenListener(e)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),ul(this,this.h.then(function(){e.l||K(e.s,t)&&t(al(e))}))},t.removeAuthTokenListener=function(e){B(this.s,function(t){return t==e})},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Bh("local"),t.a,this.ja),this.b&&(kc(this.b,this),jc(this.b.b)),Promise.resolve()},t.hc=function(t){return ul(this,Xs(this.a,gs,{identifier:t,continueUri:Ii()?Qn():"http://localhost"}).then(function(t){return t.signinMethods||[]}))},t.Bc=function(t){return!!To(t)},t.wb=function(e,n){var i=this;return ul(this,ye().then(function(){var t=new yr(n);if(!t.c)throw new T("argument-error",Tr+" must be true when sending sign in link to email");return Or(t)}).then(function(t){return i.a.wb(e,t)}).then(function(){}))},t.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},t.nb=function(t,e){return ul(this,this.a.nb(t,e).then(function(){}))},t.Ra=function(t){return ul(this,this.a.Ra(t).then(function(t){return new zi(t)}))},t.jb=function(t){return ul(this,this.a.jb(t).then(function(){}))},t.vb=function(e,t){var n=this;return ul(this,ye().then(function(){return void 0===t||ut(t)?{}:Or(new yr(t))}).then(function(t){return n.a.vb(e,t)}).then(function(){}))},t.Wc=function(t,e){return ul(this,Kc(this,t,e,b(this.$a,this)))},t.Vc=function(n,i){var r=this;return ul(this,ye().then(function(){var t=i||Qn(),e=Io(n,t);if(!(t=To(t)))throw new T("argument-error","Invalid email link!");if(t.tenantId!==r.T())throw new T("tenant-id-mismatch");return r.$a(e)}))},cl.prototype.render=function(){},cl.prototype.reset=function(){},cl.prototype.getResponse=function(){},cl.prototype.execute=function(){};var ll=null;function fl(t,e){return(e=dl(e))&&t.a[e]||null}function dl(t){return(t=void 0===t?1e12:t)?t.toString():null}function pl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=te(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ze(this.f,"click",this.i)}function vl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function ml(){}function gl(){}hl.prototype.render=function(t,e){return this.a[this.b.toString()]=new pl(t,e),this.b++},hl.prototype.reset=function(t){var e=fl(this,t);t=dl(t),e&&t&&(e.delete(),delete this.a[t])},hl.prototype.getResponse=function(t){return(t=fl(this,t))?t.getResponse():null},hl.prototype.execute=function(t){(t=fl(this,t))&&t.execute()},pl.prototype.getResponse=function(){return vl(this),this.b},pl.prototype.execute=function(){vl(this);var n=this;this.a||(this.a=setTimeout(function(){n.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var t=n.c.callback,e=n.c["expired-callback"];if(t)try{t(n.b)}catch(t){}n.a=setTimeout(function(){if(n.a=null,n.b=null,e)try{e()}catch(t){}n.h&&n.execute()},6e4)},500))},pl.prototype.delete=function(){vl(this),this.g=!0,clearTimeout(this.a),this.a=null,en(this.f,"click",this.i)},Vi(ml,"FACTOR_ID","phone"),gl.prototype.g=function(){return ye(ll=ll||new hl)},gl.prototype.c=function(){};var bl=null;function yl(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var wl=new dt(gt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Il=new Ci(3e4,6e4);yl.prototype.g=function(r){var o=this;return new fe(function(t,e){var i=setTimeout(function(){e(new T("network-request-failed"))},Il.get());!l.grecaptcha||r!==o.f&&!o.b?(l[o.a]=function(){var n;l.grecaptcha?(o.f=r,n=l.grecaptcha.render,l.grecaptcha.render=function(t,e){return t=n(t,e),o.b++,t},clearTimeout(i),t(l.grecaptcha)):(clearTimeout(i),e(new T("internal-error"))),delete l[o.a]},ye(Pa(It(wl,{onload:o.a,hl:r||""}))).o(function(){clearTimeout(i),e(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),t(l.grecaptcha))})},yl.prototype.c=function(){this.b--};var Tl=null;function El(t,e,n,i,r,o,a){if(Vi(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a=a?bl=bl||new gl:Tl=Tl||new yl,this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Sl])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Nl],!l.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!te(e)||!this.i&&te(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Fa(t,o||null,r||null),this.u=i||function(){return null};var s=this;this.l=[];var u=this.a[Al];this.a[Al]=function(t){var e;_l(s,t),"function"==typeof u?u(t):"string"!=typeof u||"function"==typeof(e=bi(u,l))&&e(t)};var c=this.a[kl];this.a[kl]=function(){var t;_l(s,null),"function"==typeof c?c():"string"!=typeof c||"function"==typeof(t=bi(c,l))&&t()}}var Al="callback",kl="expired-callback",Sl="sitekey",Nl="size";function _l(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Ol(t,e){return t.h.push(e),e.oa(function(){G(t.h,e)}),e}function Cl(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Rl(t,e,n){var i=!1;try{this.b=n||zl.default.app()}catch(t){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var r=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=zl.default.SDK_VERSION?mi(zl.default.SDK_VERSION,o):null,El.call(this,n,t,e,function(){try{var e=r.b.auth().la()}catch(t){e=null}return e},o,_(A),i)}function Dl(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].M(n[r])&&!o){if(e=e[r],r<0||r>=Pl.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Pl[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}i=null}}if(i)throw new T("argument-error",t+" failed: "+i)}(t=El.prototype).Ia=function(){var e=this;return this.f||(this.f=Ol(this,ye().then(function(){if(Ii()&&!ci())return ai();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.u())}).then(function(t){return e.g=t,Xs(e.s,Cs,{})}).then(function(t){e.a[Sl]=t.recaptchaSiteKey}).o(function(t){throw e.f=null,t})))},t.render=function(){Cl(this);var n=this;return Ol(this,this.Ia().then(function(){var t,e;return null===n.c&&(e=n.v,n.i||(t=te(e),e=oe("DIV"),t.appendChild(e)),n.c=n.g.render(e,n.a)),n.c}))},t.verify=function(){Cl(this);var r=this;return Ol(this,this.render().then(function(e){return new fe(function(n){var i,t=r.g.getResponse(e);t?n(t):(i=function(t){var e;t&&(e=i,B(r.l,function(t){return t==e}),n(t))},r.l.push(i),r.i&&r.g.execute(r.c))})}))},t.reset=function(){Cl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Cl(this),this.D=!0,this.m.c();for(var t,e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=te(this.v);for(;t=e.firstChild;)e.removeChild(t)}},w(Rl,El);var Pl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ll(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function xl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Ml(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:m}}function jl(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Ul(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Vl(n){return{name:n?n+"Credential":"credential",K:n?"a valid "+n+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var e=!n||t.providerId===n;return!(!t.ka||!e)}}}function Fl(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}}function ql(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Hl(t,e){return m(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Kl(t){return m(t)&&"string"==typeof t.uid}function Gl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}}function Bl(e,n,t,i){return{name:t||"",K:e.K+" or "+n.K,optional:!!i,M:function(t){return e.M(t)||n.M(t)}}}function Wl(t,e){for(var n in e){var i=e[n].name;t[i]=Yl(i,t[n],e[n].j)}}function Xl(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:y(function(t){return this[t]},n),set:y(function(t,e,n,i){Dl(t,[n],[i],!0),this[e]=i},i,n,e[n].kb),enumerable:!0})}}function Jl(t,e,n,i){t[e]=Yl(e,n,i)}function Yl(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return Dl(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=(t=(t=t).split("."))[t.length-1];for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}Wl(zh.prototype,{jb:{name:"applyActionCode",j:[Ll("code")]},Ra:{name:"checkActionCode",j:[Ll("code")]},nb:{name:"confirmPasswordReset",j:[Ll("code"),Ll("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ll("email"),Ll("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Ll("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Ll("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Bl(Ml(),jl(),"nextOrObserver"),jl("opt_error",!0),jl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Bl(Ml(),jl(),"nextOrObserver"),jl("opt_error",!0),jl("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Ll("email"),Bl(Ml("opt_actionCodeSettings",!0),Ul(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Ll("email"),Ml("actionCodeSettings")]},xb:{name:"setPersistence",j:[Ll("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Vl()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Vl()]},Tc:{name:"signInWithCustomToken",j:[Ll("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Ll("email"),Ll("password")]},Vc:{name:"signInWithEmailLink",j:[Ll("email"),Ll("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Ll("phoneNumber"),Gl()]},Xc:{name:"signInWithPopup",j:[ql()]},Yc:{name:"signInWithRedirect",j:[ql()]},dd:{name:"updateCurrentUser",j:[Bl({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof hh)}},Ul(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ll(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Ll("url"),Ml("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Ll("code")]}}),Xl(zh.prototype,{lc:{name:"languageCode",kb:Bl(Ll(),Ul(),"languageCode")},ti:{name:"tenantId",kb:Bl(Ll(),Ul(),"tenantId")}}),(zh.Persistence=Ku).LOCAL="local",zh.Persistence.SESSION="session",zh.Persistence.NONE="none",Wl(hh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[xl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[xl("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Vl()]},qb:{name:"linkWithCredential",j:[Vl()]},Dc:{name:"linkWithPhoneNumber",j:[Ll("phoneNumber"),Gl()]},Ec:{name:"linkWithPopup",j:[ql()]},Fc:{name:"linkWithRedirect",j:[ql()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Vl()]},tb:{name:"reauthenticateWithCredential",j:[Vl()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Ll("phoneNumber"),Gl()]},Nc:{name:"reauthenticateWithPopup",j:[ql()]},Oc:{name:"reauthenticateWithRedirect",j:[ql()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Bl(Ml("opt_actionCodeSettings",!0),Ul(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ll(null,!0)]},cd:{name:"unlink",j:[Ll("provider")]},Bb:{name:"updateEmail",j:[Ll("email")]},Cb:{name:"updatePassword",j:[Ll("password")]},ed:{name:"updatePhoneNumber",j:[Vl("phone")]},Db:{name:"updateProfile",j:[Ml("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Ll("email"),Bl(Ml("opt_actionCodeSettings",!0),Ul(null,!0),"opt_actionCodeSettings",!0)]}}),Wl(hl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Wl(cl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Wl(fe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Xl(qc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:xl("appVerificationDisabledForTesting")}}),Wl(Hc.prototype,{confirm:{name:"confirm",j:[Ll("verificationCode")]}}),Jl(Zr,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[oo,yo,Ao,no],i=0;i<n.length;i++)if(e=n[i](t))return e;return null},[Bl(Ll(),Ml(),"json")]),Jl(wo,"credential",function(t,e){return new bo(t,e)},[Ll("email"),Ll("password")]),Wl(bo.prototype,{w:{name:"toJSON",j:[Ll(null,!0)]}}),Wl(co.prototype,{Ca:{name:"addScope",j:[Ll("scope")]},Ka:{name:"setCustomParameters",j:[Ml("customOAuthParameters")]}}),Jl(co,"credential",ho,[Bl(Ll(),Ml(),"token")]),Jl(wo,"credentialWithLink",Io,[Ll("email"),Ll("emailLink")]),Wl(lo.prototype,{Ca:{name:"addScope",j:[Ll("scope")]},Ka:{name:"setCustomParameters",j:[Ml("customOAuthParameters")]}}),Jl(lo,"credential",fo,[Bl(Ll(),Ml(),"token")]),Wl(po.prototype,{Ca:{name:"addScope",j:[Ll("scope")]},Ka:{name:"setCustomParameters",j:[Ml("customOAuthParameters")]}}),Jl(po,"credential",vo,[Bl(Ll(),Bl(Ml(),Ul()),"idToken"),Bl(Ll(),Ul(),"accessToken",!0)]),Wl(mo.prototype,{Ka:{name:"setCustomParameters",j:[Ml("customOAuthParameters")]}}),Jl(mo,"credential",go,[Bl(Ll(),Ml(),"token"),Ll("secret",!0)]),Wl(uo.prototype,{Ca:{name:"addScope",j:[Ll("scope")]},credential:{name:"credential",j:[Bl(Ll(),Bl(Ml(),Ul()),"optionsOrIdToken"),Bl(Ll(),Ul(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ml("customOAuthParameters")]}}),Wl(io.prototype,{w:{name:"toJSON",j:[Ll(null,!0)]}}),Wl(to.prototype,{w:{name:"toJSON",j:[Ll(null,!0)]}}),Jl(So,"credential",No,[Ll("verificationId"),Ll("verificationCode")]),Wl(So.prototype,{fb:{name:"verifyPhoneNumber",j:[Bl(Ll(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Hl(t.session,zr)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Hl(t.session,$r)&&Kl(t.multiFactorHint):t.session&&t.multiFactorUid?Hl(t.session,$r)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Gl()]}}),Wl(Eo.prototype,{w:{name:"toJSON",j:[Ll(null,!0)]}}),Wl(T.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),Wl(Mo.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),Wl(xo.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),Wl(Jc.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),Wl(Bc.prototype,{Rc:{name:"resolveSignIn",j:[Fl()]}}),Wl(th.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Fl(),Ll("displayName",!0)]},bd:{name:"unenroll",j:[Bl({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Kl},Ll(),"multiFactorInfoIdentifier")]}}),Wl(Rl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Jl(hr,"parseLink",br,[Ll("link")]),Jl(ml,"assertion",function(t){return new Zc(t)},[Vl("phone")]),function(){if(void 0===zl.default||!zl.default.INTERNAL||!zl.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:$i,VERIFY_AND_CHANGE_EMAIL:Qi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:zh,AuthCredential:Zr,Error:T};Jl(t,"EmailAuthProvider",wo,[]),Jl(t,"FacebookAuthProvider",co,[]),Jl(t,"GithubAuthProvider",lo,[]),Jl(t,"GoogleAuthProvider",po,[]),Jl(t,"TwitterAuthProvider",mo,[]),Jl(t,"OAuthProvider",uo,[Ll("providerId")]),Jl(t,"SAMLAuthProvider",so,[Ll("providerId")]),Jl(t,"PhoneAuthProvider",So,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof zh)}}]),Jl(t,"RecaptchaVerifier",Rl,[Bl(Ll(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Ml("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof zl.default.app.App)}}]),Jl(t,"ActionCodeURL",hr,[]),Jl(t,"PhoneMultiFactorGenerator",ml,[]),zl.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new zh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),zl.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),zl.default.registerVersion("@firebase/auth","0.16.5"),zl.default.INTERNAL.extendNamespace({User:hh})}()}.apply("undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}.apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-auth.js - be sure to load firebase-app.js first.")}});
//# sourceMappingURL=firebase-auth.js.map


/***/ }),

/***/ "./node_modules/firebase/firebase-firestore.js":
/*!*****************************************************!*\
  !*** ./node_modules/firebase/firebase-firestore.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

!function(t,e){ true?e(__webpack_require__(/*! @firebase/app */ "./node_modules/@firebase/app/dist/index.esm.js")):0}(this,function(om){"use strict";try{!function(){function t(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var e=t(om),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function y(t,s,a,u){return new(a=a||Promise)(function(n,e){function r(t){try{o(u.next(t))}catch(t){e(t)}}function i(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(r,i)}o((u=u.apply(t,s||[])).next())})}function g(n,r){var i,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function s(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var i,o="FirebaseError",a=(n(u,i=Error),u);function u(t,e,n){e=i.call(this,e)||this;return e.code=t,e.customData=n,e.name=o,Object.setPrototypeOf(e,u.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,c.prototype.create),e}var c=(l.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=e[0]||{},o=this.service+"/"+t,t=this.errors[t],t=t?(r=i,t.replace(d,function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"})):"Error",t=this.serviceName+": "+t+" ("+o+").";return new a(o,t,i)},l);function l(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var f,d=/\{\$([^}]+)}/g;function m(t){return t&&t._delegate?t._delegate:t}(Ee=f=f||{})[Ee.DEBUG=0]="DEBUG",Ee[Ee.VERBOSE=1]="VERBOSE",Ee[Ee.INFO=2]="INFO",Ee[Ee.WARN=3]="WARN",Ee[Ee.ERROR=4]="ERROR",Ee[Ee.SILENT=5]="SILENT";function p(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=w[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,s(["["+i+"]  "+t.name+":"],n))}}var v={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},b=f.INFO,w=((Te={})[f.DEBUG]="log",Te[f.VERBOSE]="log",Te[f.INFO]="info",Te[f.WARN]="warn",Te[f.ERROR]="error",Te),I=(Object.defineProperty(E.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in f))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),E.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?v[t]:t},Object.defineProperty(E.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),E.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,f.DEBUG],t)),this._logHandler.apply(this,s([this,f.DEBUG],t))},E.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,f.VERBOSE],t)),this._logHandler.apply(this,s([this,f.VERBOSE],t))},E.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,f.INFO],t)),this._logHandler.apply(this,s([this,f.INFO],t))},E.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,f.WARN],t)),this._logHandler.apply(this,s([this,f.WARN],t))},E.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,f.ERROR],t)),this._logHandler.apply(this,s([this,f.ERROR],t))},E);function E(t){this.name=t,this._logLevel=b,this._logHandler=p,this._userLogHandler=null}var T=function(t,e){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function _(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var S,N="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},D={},A=N||self;function k(){}function C(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function R(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var x="closure_uid_"+(1e9*Math.random()>>>0),O=0;function L(t,e,n){return t.call.apply(t.bind,arguments)}function P(e,n,t){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function M(t,e,n){return(M=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?L:P).apply(null,arguments)}function F(e){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function V(){return Date.now()}function U(t,o){function e(){}e.prototype=o.prototype,t.X=o.prototype,t.prototype=new e,(t.prototype.constructor=t).Kb=function(t,e,n){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return o.prototype[e].apply(t,r)}}function q(){this.j=this.j,this.i=this.i}q.prototype.j=!1,q.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,x)&&t[x]||(t[x]=++O))},q.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},j=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function K(){return Array.prototype.concat.apply([],arguments)}function G(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Q(t){return/^[\s\xa0]*$/.test(t)}var z,H=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function W(t,e){return-1!=t.indexOf(e)}function Y(t,e){return t<e?-1:e<t?1:0}t:{var X=A.navigator;if(X){X=X.userAgent;if(X){z=X;break t}}z=""}function J(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function $(t){var e,n={};for(e in t)n[e]=t[e];return n}var Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<Z.length;i++)e=Z[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function et(t){return et[" "](t),t}et[" "]=k;var nt,rt=W(z,"Opera"),it=W(z,"Trident")||W(z,"MSIE"),ot=W(z,"Edge"),st=ot||it,at=W(z,"Gecko")&&!(W(z.toLowerCase(),"webkit")&&!W(z,"Edge"))&&!(W(z,"Trident")||W(z,"MSIE"))&&!W(z,"Edge"),ut=W(z.toLowerCase(),"webkit")&&!W(z,"Edge");function ct(){var t=A.document;return t?t.documentMode:void 0}t:{var ht="",lt=(lt=z,at?/rv:([^\);]+)(\)|;)/.exec(lt):ot?/Edge\/([\d\.]+)/.exec(lt):it?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(lt):ut?/WebKit\/(\S+)/.exec(lt):rt?/(?:Version)[ \/]?(\S+)/.exec(lt):void 0);if(lt&&(ht=lt?lt[1]:""),it){lt=ct();if(null!=lt&&lt>parseFloat(ht)){nt=String(lt);break t}}nt=ht}var ft={};function dt(a){return t=a,e=function(){for(var t=0,e=H(String(nt)).split("."),n=H(String(a)).split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++)for(var o=e[i]||"",s=n[i]||"";o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=o[0].length||0!=s[0].length)&&(t=Y(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||Y(0==o[2].length,0==s[2].length)||Y(o[2],s[2]),o=o[3],s=s[3],0==t););return 0<=t},n=ft,Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t);var t,e,n}var pt=A.document&&it&&(ct()||parseInt(nt,10))||void 0,yt=!it||9<=Number(pt),gt=it&&!dt("9"),mt=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{A.addEventListener("test",k,e),A.removeEventListener("test",k,e)}catch(t){}return t}();function vt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function bt(t,e){if(vt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(at){t:{try{et(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:wt[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}vt.prototype.b=function(){this.defaultPrevented=!0},U(bt,vt);var wt={2:"touch",3:"pen",4:"mouse"};bt.prototype.b=function(){bt.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,gt)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var It="closure_listenable_"+(1e6*Math.random()|0),Et=0;function Tt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Et,this.Y=this.Z=!1}function _t(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function St(t){this.src=t,this.a={},this.b=0}function Nt(t,e){var n,r,i,o=e.type;o in t.a&&(n=t.a[o],(i=0<=(r=B(n,e)))&&Array.prototype.splice.call(n,r,1),i&&(_t(e),0==t.a[o].length&&(delete t.a[o],t.b--)))}function Dt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}St.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Dt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Tt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var At="closure_lm_"+(1e6*Math.random()|0),kt={};function Ct(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}r=Vt(r);return e&&e[It]?e.wa(n,r,R(i)?!!i.capture:!!i,o):Rt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ct(t,e[o],n,r,i);return null}return n=Vt(n),t&&t[It]?t.va(e,n,R(r)?!!r.capture:!!r,i):Rt(t,e,n,!1,r,i)}function Rt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=R(i)?!!i.capture:!!i;if(s&&!yt)return null;var a,u,c=Mt(t);if(c||(t[At]=c=new St(t)),(n=c.add(e,n,r,s,o)).proxy)return n;if(a=Pt,r=u=yt?function(t){return a.call(u.src,u.listener,t)}:function(t){if(!(t=a.call(u.src,u.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)void 0===(i=!mt?s:i)&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ot(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function xt(t){var e,n,r;"number"!=typeof t&&t&&!t.Y&&((e=t.src)&&e[It]?Nt(e.c,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ot(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Mt(e))?(Nt(n,t),0==n.b&&(n.src=null,e[At]=null)):_t(t)))}function Ot(t){return t in kt?kt[t]:kt[t]="on"+t}function Lt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&xt(t),n.call(r,e)}function Pt(t,e){if(t.Y)return!0;if(yt)return Lt(t,new bt(e,this));if(!e)t:{e=["window","event"];for(var n=A,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Lt(t,e=new bt(e,this))}function Mt(t){return(t=t[At])instanceof St?t:null}var Ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vt(e){return"function"==typeof e?e:(e[Ft]||(e[Ft]=function(t){return e.handleEvent(t)}),e[Ft])}function Ut(){q.call(this),this.c=new St(this),(this.J=this).C=null}function qt(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e?e=new vt(e,t):e instanceof vt?e.target=e.target||t:(s=e,tt(e=new vt(r,t),s)),s=!0,n)for(var i=n.length-1;0<=i;i--)var o=e.a=n[i],s=Bt(o,r,!0,e)&&s;if(s=Bt(o=e.a=t,r,!0,e)&&s,s=Bt(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)s=Bt(o=e.a=n[i],r,!1,e)&&s}function Bt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s,a,u=e[o];u&&!u.Y&&u.capture==n&&(s=u.listener,a=u.ca||u.src,u.Z&&Nt(t.c,u),i=!1!==s.call(a,r)&&i)}return i&&!r.defaultPrevented}U(Ut,q),Ut.prototype[It]=!0,(S=Ut.prototype).addEventListener=function(t,e,n,r){Ct(this,t,e,n,r)},S.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=R(i)?!!i.capture:!!i,r=Vt(r),e&&e[It]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Dt(s=e.a[n],r,i,o))&&(_t(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):(e=e&&Mt(e))&&(n=e.a[n.toString()],(r=(e=-1)<(e=n?Dt(n,r,i,o):e)?n[e]:null)&&xt(r))}(this,t,e,n,r)},S.G=function(){if(Ut.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)_t(n[r]);delete e.a[t],e.b--}}this.C=null},S.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},S.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var jt=A.JSON.stringify;function Kt(){this.b=this.a=null}var Gt,Qt=(zt.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},new zt(function(){return new Ht},function(t){t.reset()}));function zt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Ht(){this.next=this.b=this.a=null}function Wt(t,e){var n;Gt||(n=A.Promise.resolve(void 0),Gt=function(){n.then(Jt)}),Yt||(Gt(),Yt=!0),Xt.add(t,e)}Kt.prototype.add=function(t,e){var n=Qt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ht.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var Yt=!(Ht.prototype.reset=function(){this.next=this.b=this.a=null}),Xt=new Kt;function Jt(){for(var t,e;n=e=void 0,n=null,(e=Xt).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){!function(t){A.setTimeout(function(){throw t},0)}(t)}var n=Qt;n.f(t),n.b<100&&(n.b++,t.next=n.a,n.a=t)}Yt=!1}function $t(t,e){Ut.call(this),this.b=t||1,this.a=e||A,this.f=M(this.Za,this),this.g=V()}function Zt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function te(t,e,n){if("function"==typeof t)n&&(t=M(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=M(t.handleEvent,t)}return 2147483647<Number(e)?-1:A.setTimeout(t,e||0)}U($t,Ut),(S=$t.prototype).aa=!1,S.M=null,S.Za=function(){var t;this.aa&&(0<(t=V()-this.g)&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),qt(this,"tick"),this.aa&&(Zt(this),this.start())))},S.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=V())},S.G=function(){$t.X.G.call(this),Zt(this),delete this.a};var ee,ne,re,ie=(T(ne=se,re=ee=q),ne.prototype=null===re?Object.create(re):(oe.prototype=re.prototype,new oe),se.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=te(function(){e.a=null,e.c&&(e.c=!1,t(e))},e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},se.prototype.G=function(){ee.prototype.G.call(this),this.a&&(A.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},se);function oe(){this.constructor=ne}function se(t,e){var n=ee.call(this)||this;return n.g=t,n.h=e,n.b=null,n.c=!1,n.a=null,n}function ae(t){q.call(this),this.b=t,this.a={}}U(ae,q);var ue=[];function ce(t,e,n,r){Array.isArray(n)||(n&&(ue[0]=n.toString()),n=ue);for(var i=0;i<n.length;i++){var o=Ct(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function he(t){J(t.a,function(t,e){this.a.hasOwnProperty(e)&&xt(t)},t),t.a={}}function le(){this.a=!0}function fe(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)){r=i[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(var o=1;o<i.length;o++)i[o]=""}}}return jt(n)}catch(t){return e}}(t,n)+(r?" "+r:"")})}ae.prototype.G=function(){ae.X.G.call(this),he(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},le.prototype.info=function(){};var de={},pe=null;function ye(){return pe=pe||new Ut}function ge(t){vt.call(this,de.Fa,t)}function me(t){var e=ye();qt(e,new ge(e))}function ve(t,e){vt.call(this,de.STAT_EVENT,t),this.stat=e}function be(t){var e=ye();qt(e,new ve(e,t))}function we(t){vt.call(this,de.Ga,t)}function Ie(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){t()},e)}de.Fa="serverreachability",U(ge,vt),de.STAT_EVENT="statevent",U(ve,vt),de.Ga="timingevent",U(we,vt);var Ee={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Te={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function _e(){}function Se(t){var e;return e=!(e=t.a)?t.a={}:e}function Ne(){}_e.prototype.a=null;N={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function De(){vt.call(this,"d")}function Ae(){vt.call(this,"c")}function ke(){}function Ce(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ae(this),this.P=xe,t=st?125:void 0,this.R=new $t(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}U(De,vt),U(Ae,vt),U(ke,_e);var Re=new ke,xe=45e3,Oe={},Le={};function Pe(t,e,n){t.H=1,t.i=nn(Xe(e)),t.j=n,t.I=!0,Me(t,null)}function Me(t,e){t.u=V(),Ve(t),t.l=Xe(t.i);var s,a,u,c,h,l,n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),gn(n.b,"t",r),t.D=0,t.a=cr(t.g,t.g.C?e:null),0<t.O&&(t.F=new ie(M(t.Ca,t,t.a),t.O)),ce(t.J,t.a,"readystatechange",t.Xa),e=t.B?$(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),me(1),s=t.c,a=t.m,u=t.l,c=t.f,h=t.S,l=t.j,s.info(function(){if(s.a)if(l)for(var t="",e=l.split("&"),n=0;n<e.length;n++){var r,i,o=e[n].split("=");1<o.length&&(r=o[0],o=o[1],t=2<=(i=r.split("_")).length&&"type"==i[1]?t+(r+"=")+o+"&":t+(r+"=redacted&"))}else t=null;else t=l;return"XMLHTTP REQ ("+c+") [attempt "+h+"]: "+a+"\n"+u+"\n"+t})}function Fe(t,e,n){for(var r,i,o,s=!0;!t.A&&t.D<n.length;){var a=(a=n,o=i=void 0,i=(r=t).D,-1==(o=a.indexOf("\n",i))?Le:(i=Number(a.substring(i,o)),isNaN(i)?Oe:(o+=1)+i>a.length?Le:(a=a.substr(o,i),r.D=o+i,a)));if(a==Le){4==e&&(t.h=4,be(14),s=!1),fe(t.c,t.f,null,"[Incomplete Response]");break}if(a==Oe){t.h=4,be(15),fe(t.c,t.f,n,"[Invalid Chunk]"),s=!1;break}fe(t.c,t.f,a,null),Ke(t,a)}4==e&&0==n.length&&(t.h=1,be(16),s=!1),t.b=t.b&&s,s?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),er(e),e.F=!0,be(11))):(fe(t.c,t.f,n,"[Invalid Chunked Response]"),je(t),Be(t))}function Ve(t){t.T=V()+t.P,Ue(t,t.P)}function Ue(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ie(M(t.Va,t),e)}function qe(t){t.o&&(A.clearTimeout(t.o),t.o=null)}function Be(t){0==t.g.v||t.A||ir(t.g,t)}function je(t){qe(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Zt(t.R),he(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ke(t,e){try{var n,r,i,o,s,a=t.g;if(0!=a.v&&(a.a==t||Tn(a.b,t)))if(a.I=t.N,!t.C&&Tn(a.b,t)&&3==a.v){try{var u=a.ka.a.parse(e)}catch(t){u=null}if(Array.isArray(u)&&3==u.length){var c=u;if(0==c[0]){t:if(!a.j){if(a.a){if(!(a.a.u+3e3<t.u))break t;rr(a),zn(a)}tr(a),be(18)}}else a.oa=c[1],0<a.oa-a.P&&c[2]<37500&&a.H&&0==a.o&&!a.m&&(a.m=Ie(M(a.Sa,a),6e3));if(En(a.b)<=1&&a.ea){try{a.ea()}catch(t){}a.ea=void 0}}else sr(a,11)}else if(!t.C&&a.a!=t||rr(a),!Q(e))for(e=u=a.ka.a.parse(e),u=0;u<e.length;u++)c=e[u],a.P=c[0],c=c[1],2==a.v?"c"==c[0]?(a.J=c[1],a.ga=c[2],null!=(r=c[3])&&(a.ha=r,a.c.info("VER="+a.ha)),null!=(o=c[4])&&(a.pa=o,a.c.info("SVER="+a.pa)),null!=(r=c[5])&&"number"==typeof r&&0<r&&(n=1.5*r,a.D=n,a.c.info("backChannelRequestTimeoutMs_="+n)),n=a,(o=t.a)&&(!(r=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)||!(i=n.b).a&&(W(r,"spdy")||W(r,"quic")||W(r,"h2"))&&(i.f=i.g,i.a=new Set,i.b&&(_n(i,i.b),i.b=null)),!n.A||(s=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(n.na=s,en(n.B,n.A,s))),a.v=3,a.f&&a.f.ta(),a.U&&(a.N=V()-t.u,a.c.info("Handshake RTT: "+a.N+"ms")),i=t,(n=a).la=ur(n,n.C?n.ga:null,n.fa),i.C?(Sn(n.b,i),o=i,(s=n.D)&&o.setTimeout(s),o.o&&(qe(o),Ve(o)),n.a=i):Zn(n),0<a.g.length&&Yn(a)):"stop"!=c[0]&&"close"!=c[0]||sr(a,7):3==a.v&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?sr(a,7):Qn(a):"noop"!=c[0]&&a.f&&a.f.sa(c),a.o=0);me(4)}catch(t){}}function Ge(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(C(t)||"string"==typeof t)j(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(C(t)||"string"==typeof t)for(var n=[],r=t.length,i=0;i<r;i++)n.push(i);else for(i in n=[],r=0,t)n[r++]=i;for(var i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(C(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Qe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Qe)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ze(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];He(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){for(var i={},n=e=0;e<t.a.length;)He(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function He(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(S=Ce.prototype).setTimeout=function(t){this.P=t},S.Xa=function(t){t=t.target;var e=this.F;e&&3==Bn(t)?e.f():this.Ca(t)},S.Ca=function(t){try{if(t==this.a)t:{var e=Bn(this.a),n=this.a.ua(),r=this.a.W();if(!(e<3||3==e&&!st&&!this.a.$())){this.A||4!=e||7==n||me(8==n||r<=0?3:2),qe(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,r=this.c,u=this.m,c=this.l,h=this.f,l=this.S,f=e,d=i,r.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+l+"]: "+u+"\n"+c+"\n"+f+" "+d}),this.b){if(this.U&&!this.C){e:{if(this.a){var s=this.a;if((s=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,be(12),je(this),Be(this);break t}fe(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ke(this,a)}this.I?(Fe(this,e,o),st&&this.b&&3==e&&(ce(this.J,this.R,"tick",this.Wa),this.R.start())):(fe(this.c,this.f,o,null),Ke(this,o)),4==e&&je(this),this.b&&!this.A&&(4==e?ir(this.g,this):(this.b=!1,Ve(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,be(12)):(this.h=0,be(13)),je(this),Be(this)}}}catch(t){}var u,c,h,l,f,d},S.Wa=function(){var t,e;this.a&&(t=Bn(this.a),e=this.a.$(),this.D<e.length&&(qe(this),Fe(this,t,e),this.b&&4!=t&&Ve(this)))},S.cancel=function(){this.A=!0,je(this)},S.Va=function(){this.o=null;var t,e,n=V();0<=n-this.T?(t=this.c,e=this.l,t.info(function(){return"TIMEOUT: "+e}),2!=this.H&&(me(3),be(17)),je(this),this.h=2,Be(this)):Ue(this,this.T-n)},(S=Qe.prototype).K=function(){ze(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},S.L=function(){return ze(this),this.a.concat()},S.get=function(t,e){return He(this.b,t)?this.b[t]:e},S.set=function(t,e){He(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},S.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var We=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ye(t,e){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ye?(this.a=void 0!==e?e:t.a,Je(this,t.f),this.j=t.j,$e(this,t.c),Ze(this,t.h),this.g=t.g,e=t.b,(n=new fn).c=e.c,e.a&&(n.a=new Qe(e.a),n.b=e.b),tn(this,n),this.i=t.i):t&&(n=String(t).match(We))?(this.a=!!e,Je(this,n[1]||"",!0),this.j=rn(n[2]||""),$e(this,n[3]||"",!0),Ze(this,n[4]),this.g=rn(n[5]||"",!0),tn(this,n[6]||"",!0),this.i=rn(n[7]||"")):(this.a=!!e,this.b=new fn(null,this.a))}function Xe(t){return new Ye(t)}function Je(t,e,n){t.f=n?rn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function $e(t,e,n){t.c=n?rn(e,!0):e}function Ze(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function tn(t,e,n){var r,i;e instanceof fn?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(dn(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(pn(this,e),gn(this,n,t))},r)),r.f=i):(n||(e=on(e,hn)),t.b=new fn(e,t.a))}function en(t,e,n){t.b.set(e,n)}function nn(t){return en(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^V()).toString(36)),t}function rn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function on(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,sn),t=n?t.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):t):null}function sn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ye.prototype.toString=function(){var t=[],e=this.f;e&&t.push(on(e,an,!0),":");var n=this.c;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(on(e,an,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(on(n,"/"==n.charAt(0)?cn:un,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",on(n,ln)),t.join("")};var an=/[#\/\?@]/g,un=/[#\?:]/g,cn=/[#\?]/g,hn=/[#\?@]/g,ln=/#/g;function fn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function dn(n){n.a||(n.a=new Qe,n.b=0,n.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.c,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function pn(t,e){dn(t),e=mn(t,e),He(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,He((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ze(t)))}function yn(t,e){return dn(t),e=mn(t,e),He(t.a.b,e)}function gn(t,e,n){pn(t,e),0<n.length&&(t.c=null,t.a.set(mn(t,e),G(n)),t.b+=n.length)}function mn(t,e){return e=String(e),e=t.f?e.toLowerCase():e}(S=fn.prototype).add=function(t,e){dn(this),this.c=null,t=mn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},S.forEach=function(n,r){dn(this),this.a.forEach(function(t,e){j(t,function(t){n.call(r,t,e,this)},this)},this)},S.L=function(){dn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},S.K=function(t){dn(this);var e=[];if("string"==typeof t)yn(this,t)&&(e=K(e,this.a.get(mn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=K(e,t[n])}return e},S.set=function(t,e){return dn(this),this.c=null,yn(this,t=mn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},S.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},S.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),r=this.K(r),o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}return this.c=t.join("&")};var vn=function(t,e){this.b=t,this.a=e};function bn(t){this.g=t||wn,t=A.PerformanceNavigationTiming?0<(t=A.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(A.ia&&A.ia.ya&&A.ia.ya()&&A.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var wn=10;function In(t){return t.b||t.a&&t.a.size>=t.f}function En(t){return t.b?1:t.a?t.a.size:0}function Tn(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function _n(t,e){t.a?t.a.add(e):t.b=e}function Sn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Nn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null==t.a||0===t.a.size)return G(t.c);var r=t.c;try{for(var i=_(t.a.values()),o=i.next();!o.done;o=i.next())var s=o.value,r=r.concat(s.s)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Dn(){}function An(){this.a=new Dn}function kn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}bn.prototype.cancel=function(){var e,t;if(this.c=Nn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=_(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},Dn.prototype.stringify=function(t){return A.JSON.stringify(t,void 0)},Dn.prototype.parse=function(t){return A.JSON.parse(t,void 0)};var Cn=A.JSON.parse;function Rn(t){Ut.call(this),this.headers=new Qe,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=xn,this.D=this.F=!1}U(Rn,Ut);var xn="",On=/^https?$/i,Ln=["POST","PUT"];function Pn(t){return"content-type"==t.toLowerCase()}function Mn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Fn(t),Un(t)}function Fn(t){t.u||(t.u=!0,qt(t,"complete"),qt(t,"error"))}function Vn(t){if(t.b&&void 0!==D&&(!t.s[1]||4!=Bn(t)||2!=t.W()))if(t.l&&4==Bn(t))te(t.za,0,t);else if(qt(t,"readystatechange"),4==Bn(t)){t.b=!1;try{var e,n,r,i,o=t.W();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}(e=s)||((n=0===o)&&(!(i=String(t.B).match(We)[1]||null)&&A.self&&A.self.location&&(i=(r=A.self.location.protocol).substr(0,r.length-1)),n=!On.test(i?i.toLowerCase():"")),e=n);if(e)qt(t,"complete"),qt(t,"success");else{t.h=6;try{var a=2<Bn(t)?t.a.statusText:""}catch(o){a=""}t.f=a+" ["+t.W()+"]",Fn(t)}}finally{Un(t)}}}function Un(t,e){if(t.a){qn(t);var n=t.a,r=t.s[0]?k:null;t.a=null,t.s=null,e||qt(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function qn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(A.clearTimeout(t.m),t.m=null)}function Bn(t){return t.a?t.a.readyState:0}function jn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",J(n,function(t,e){i+=e,i+=":",i+=t,i+="\r\n"}),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):en(t,e,n))}function Kn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Gn(t){this.pa=0,this.g=[],this.c=new le,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Kn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Kn("baseRetryDelayMs",5e3,t),this.Ra=Kn("retryDelaySeedMs",1e4,t),this.Ma=Kn("forwardChannelMaxRetries",2,t),this.ma=Kn("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new bn(t&&t.concurrentRequestLimit),this.ka=new An,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Qn(t){var e,n;Hn(t),3==t.v&&(e=t.R++,en(n=Xe(t.B),"SID",t.J),en(n,"RID",e),en(n,"TYPE","terminate"),Jn(t,n),(e=new Ce(t,t.c,e,void 0)).H=2,e.i=nn(Xe(n)),n=!1,!(n=A.navigator&&A.navigator.sendBeacon?A.navigator.sendBeacon(e.i.toString(),""):n)&&A.Image&&((new Image).src=e.i,n=!0),n||(e.a=cr(e.g,null),e.a.ba(e.i)),e.u=V(),Ve(e)),ar(t)}function zn(t){t.a&&(er(t),t.a.cancel(),t.a=null)}function Hn(t){zn(t),t.j&&(A.clearTimeout(t.j),t.j=null),rr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&A.clearTimeout(t.h),t.h=null)}function Wn(t,e){t.g.push(new vn(t.Oa++,e)),3==t.v&&Yn(t)}function Yn(t){In(t.b)||t.h||(t.h=!0,Wt(t.Ba,t),t.u=0)}function Xn(t,e){var n=e?e.f:t.R++,r=Xe(t.B);en(r,"SID",t.J),en(r,"RID",n),en(r,"AID",t.P),Jn(t,r),t.i&&t.l&&jn(r,t.i,t.l),n=new Ce(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=$n(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),_n(t.b,n),Pe(n,r,e)}function Jn(t,n){t.f&&Ge({},function(t,e){en(n,e,t)})}function $n(t,e,n){n=Math.min(t.g.length,n);var r=t.f?M(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),a=!1;else try{!function(t,r,e){var i=e||"";try{Ge(t,function(t,e){var n=t;R(t)&&(n=jt(t)),r.push(i+e+"="+encodeURIComponent(n))})}catch(t){throw r.push(i+"type="+encodeURIComponent("_badmap")),t}}(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Zn(t){t.a||t.j||(t.T=1,Wt(t.Aa,t),t.o=0)}function tr(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Ie(M(t.Aa,t),or(t,t.o)),t.o++,1)}function er(t){null!=t.s&&(A.clearTimeout(t.s),t.s=null)}function nr(t){t.a=new Ce(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Xe(t.la);en(e,"RID","rpc"),en(e,"SID",t.J),en(e,"CI",t.H?"0":"1"),en(e,"AID",t.P),Jn(t,e),en(e,"TYPE","xmlhttp"),t.i&&t.l&&jn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=nn(Xe(e)),n.j=null,n.I=!0,Me(n,t)}function rr(t){null!=t.m&&(A.clearTimeout(t.m),t.m=null)}function ir(t,e){var n,r,i,o=null;if(t.a==e){rr(t),er(t),t.a=null;var s=2}else{if(!Tn(t.b,e))return;o=e.s,Sn(t.b,e),s=1}if(t.I=e.N,0!=t.v)if(e.b)1==s?(o=e.j?e.j.length:0,e=V()-e.u,n=t.u,qt(s=ye(),new we(s)),Yn(t)):Zn(t);else if(3==(n=e.h)||0==n&&0<t.I||(1!=s||(i=e,En((r=t).b)>=r.b.f-(r.h?1:0)||(r.h?(r.g=i.s.concat(r.g),0):1==r.v||2==r.v||r.u>=(r.La?0:r.Ma)||(r.h=Ie(M(r.Ba,r,i),or(r,r.u)),r.u++,0))))&&(2!=s||!tr(t)))switch(o&&0<o.length&&(e=t.b,e.c=e.c.concat(o)),n){case 1:sr(t,5);break;case 4:sr(t,10);break;case 3:sr(t,6);break;default:sr(t,2)}}function or(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function sr(t,e){var n,r,i,o;t.c.info("Error code "+e),2==e?(r=null,t.f&&(r=null),o=M(t.Ya,t),r||(r=new Ye("//www.google.com/images/cleardot.gif"),A.location&&"http"==A.location.protocol||Je(r,"https"),nn(r)),n=r.toString(),r=o,o=new le,A.Image?((i=new Image).onload=F(kn,o,i,"TestLoadImage: loaded",!0,r),i.onerror=F(kn,o,i,"TestLoadImage: error",!1,r),i.onabort=F(kn,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=F(kn,o,i,"TestLoadImage: timeout",!1,r),A.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n):r(!1)):be(2),t.v=0,t.f&&t.f.ra(e),ar(t),Hn(t)}function ar(t){t.v=0,t.I=-1,t.f&&(0==Nn(t.b).length&&0==t.g.length||(t.b.c.length=0,G(t.g),t.g.length=0),t.f.qa())}function ur(t,e,n){var r,i,o,s,a,u=(s=n)instanceof Ye?Xe(s):new Ye(s,void 0);return""!=u.c?(e&&$e(u,e+"."+u.c),Ze(u,u.h)):(a=A.location,r=a.protocol,i=e?e+"."+a.hostname:a.hostname,o=+a.port,s=n,a=new Ye(null,void 0),r&&Je(a,r),i&&$e(a,i),o&&Ze(a,o),s&&(a.g=s),u=a),t.V&&J(t.V,function(t,e){en(u,e,t)}),e=t.A,n=t.na,e&&n&&en(u,e,n),en(u,"VER",t.ha),Jn(t,u),u}function cr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rn(t.Na)).F=t.C,e}function hr(){}function lr(){if(it&&!(10<=Number(pt)))throw Error("Environmental error: no available transport.")}function fr(t,e){Ut.call(this),this.a=new Gn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Q(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Q(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new yr(this)}function dr(t){De.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function pr(){Ae.call(this),this.status=1}function yr(t){this.a=t}(S=Rn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Se(this.H):Se(Re),this.a.onreadystatechange=M(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Mn(this,t)}t=n||"";var i,o=new Qe(this.headers);r&&Ge(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=Pn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.L()),n=A.FormData&&t instanceof A.FormData,0<=B(Ln,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{qn(this),0<this.o&&((this.D=(i=this.a,it&&dt(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=M(this.xa,this)):this.m=te(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Mn(this,t)}},S.xa=function(){void 0!==D&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,qt(this,"timeout"),this.abort(8))},S.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,qt(this,"complete"),qt(this,"abort"),Un(this))},S.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Un(this,!0)),Rn.X.G.call(this)},S.za=function(){this.j||(this.A||this.l||this.g?Vn(this):this.Ua())},S.Ua=function(){Vn(this)},S.W=function(){try{return 2<Bn(this)?this.a.status:-1}catch(t){return-1}},S.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},S.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cn(e)}},S.ua=function(){return this.h},S.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(S=Gn.prototype).ha=8,S.v=1,S.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ce(this,this.c,t,void 0),r=this.l;if(this.O&&(r?tt(r=$(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if("__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o=o.length:o=void 0,void 0===o)break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=$n(this,n,e),en(i=Xe(this.B),"RID",t),en(i,"CVER",22),this.A&&en(i,"X-HTTP-Session-Id",this.A),Jn(this,i),this.i&&r&&jn(i,this.i,r),_n(this.b,n),this.Ia&&en(i,"TYPE","init"),this.da?(en(i,"$req",e),en(i,"SID","null"),n.U=!0,Pe(n,i,null)):Pe(n,i,e),this.v=2}}else 3==this.v&&(t?Xn(this,t):0==this.g.length||In(this.b)||Xn(this))},S.Aa=function(){var t;this.j=null,nr(this),this.U&&!(this.F||null==this.a||this.N<=0)&&(t=2*this.N,this.c.info("BP detection timer enabled: "+t),this.s=Ie(M(this.Ta,this),t))},S.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,be(10),zn(this),nr(this))},S.Sa=function(){null!=this.m&&(this.m=null,zn(this),tr(this),be(19))},S.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),be(2)):(this.c.info("Failed to ping google.com"),be(1))},(S=hr.prototype).ta=function(){},S.sa=function(){},S.ra=function(){},S.qa=function(){},S.Ja=function(){},lr.prototype.a=function(t,e){return new fr(t,e)},U(fr,Ut),fr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;be(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ur(t,null,t.fa),Yn(t)},fr.prototype.close=function(){Qn(this.a)},fr.prototype.h=function(t){var e;"string"==typeof t?((e={}).__data__=t,Wn(this.a,e)):this.l?((e={}).__data__=jt(t),Wn(this.a,e)):Wn(this.a,t)},fr.prototype.G=function(){this.a.f=null,delete this.f,Qn(this.a),delete this.a,fr.X.G.call(this)},U(dr,De),U(pr,Ae),U(yr,hr),yr.prototype.ta=function(){qt(this.a,"a")},yr.prototype.sa=function(t){qt(this.a,new dr(t))},yr.prototype.ra=function(t){qt(this.a,new pr)},yr.prototype.qa=function(){qt(this.a,"b")},lr.prototype.createWebChannel=lr.prototype.a,fr.prototype.send=fr.prototype.h,fr.prototype.open=fr.prototype.g,Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Te.COMPLETE="complete",(Ne.EventType=N).OPEN="a",N.CLOSE="b",N.ERROR="c",N.MESSAGE="d",Ut.prototype.listen=Ut.prototype.va,Rn.prototype.listenOnce=Rn.prototype.wa,Rn.prototype.getLastError=Rn.prototype.Qa,Rn.prototype.getLastErrorCode=Rn.prototype.ua,Rn.prototype.getStatus=Rn.prototype.W,Rn.prototype.getResponseJson=Rn.prototype.Pa,Rn.prototype.getResponseText=Rn.prototype.$,Rn.prototype.send=Rn.prototype.ba;var gr=ye,mr=Ee,vr=Te,br=de,wr=10,Ir=11,Er=Ne,Tr=Rn,_r=(Sr.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},Sr.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},Sr);function Sr(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}_r.o=-1;var Nr,Dr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ar=(n(Cr,Nr=Error),Cr),kr=new I("@firebase/firestore");function Cr(t,e){var n=this;return(n=Nr.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Rr(){return kr.logLevel}function xr(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];kr.logLevel<=f.DEBUG&&(e=n.map(Pr),kr.debug.apply(kr,s(["Firestore (8.4.2): "+t],e)))}function Or(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];kr.logLevel<=f.ERROR&&(e=n.map(Pr),kr.error.apply(kr,s(["Firestore (8.4.2): "+t],e)))}function Lr(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];kr.logLevel<=f.WARN&&(e=n.map(Pr),kr.warn.apply(kr,s(["Firestore (8.4.2): "+t],e)))}function Pr(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Mr(t){t="FIRESTORE (8.4.2) INTERNAL ASSERTION FAILED: "+(t=void 0===t?"Unexpected state":t);throw Or(t),new Error(t)}function Fr(t){t||Mr()}var Vr=(Ur.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},Ur);function Ur(){}function qr(t,e){return t<e?-1:e<t?1:0}function Br(t,n,r){return t.length===n.length&&t.every(function(t,e){return r(t,n[e])})}function jr(t){return t+"\0"}var Kr=(zr.now=function(){return zr.fromMillis(Date.now())},zr.fromDate=function(t){return zr.fromMillis(t.getTime())},zr.fromMillis=function(t){var e=Math.floor(t/1e3);return new zr(e,Math.floor(1e6*(t-1e3*e)))},zr.prototype.toDate=function(){return new Date(this.toMillis())},zr.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},zr.prototype._compareTo=function(t){return this.seconds===t.seconds?qr(this.nanoseconds,t.nanoseconds):qr(this.seconds,t.seconds)},zr.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},zr.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},zr.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},zr.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},zr),Gr=(Qr.fromTimestamp=function(t){return new Qr(t)},Qr.min=function(){return new Qr(new Kr(0,0))},Qr.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},Qr.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},Qr.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},Qr.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},Qr.prototype.toTimestamp=function(){return this.timestamp},Qr);function Qr(t){this.timestamp=t}function zr(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new Ar(Dr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new Ar(Dr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ar(Dr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new Ar(Dr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function Hr(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function Wr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Xr,Jr,Te=(Object.defineProperty(ai.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),ai.prototype.isEqual=function(t){return 0===ai.comparator(this,t)},ai.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach(function(t){e.push(t)}):e.push(t),this.construct(e)},ai.prototype.limit=function(){return this.offset+this.length},ai.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},ai.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},ai.prototype.firstSegment=function(){return this.segments[this.offset]},ai.prototype.lastSegment=function(){return this.get(this.length-1)},ai.prototype.get=function(t){return this.segments[this.offset+t]},ai.prototype.isEmpty=function(){return 0===this.length},ai.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},ai.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},ai.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},ai.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},ai.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},ai),$r=(n(si,Jr=Te),si.prototype.construct=function(t,e,n){return new si(t,e,n)},si.prototype.canonicalString=function(){return this.toArray().join("/")},si.prototype.toString=function(){return this.canonicalString()},si.fromString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter(function(t){return 0<t.length}))}return new si(n)},si.emptyPath=function(){return new si([])},si),Zr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ti=(n(oi,Xr=Te),oi.prototype.construct=function(t,e,n){return new oi(t,e,n)},oi.isValidIdentifier=function(t){return Zr.test(t)},oi.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t=!oi.isValidIdentifier(t)?"`"+t+"`":t}).join(".")},oi.prototype.toString=function(){return this.canonicalString()},oi.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},oi.keyField=function(){return new oi(["__name__"])},oi.fromServerFormat=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new Ar(Dr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[r+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new Ar(Dr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=a,r+=2}else"`"===s?o=!o:"."!==s||o?n+=s:i(),r++}if(i(),o)throw new Ar(Dr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new oi(e)},oi.emptyPath=function(){return new oi([])},oi),ei=(ii.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},ii.prototype.isEqual=function(t){return Br(this.fields,t.fields,function(t,e){return t.isEqual(e)})},ii),ni=(ri.fromBase64String=function(t){return new ri(atob(t))},ri.fromUint8Array=function(t){return new ri(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},ri.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},ri.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},ri.prototype.approximateByteSize=function(){return 2*this.binaryString.length},ri.prototype.compareTo=function(t){return qr(this.binaryString,t.binaryString)},ri.prototype.isEqual=function(t){return this.binaryString===t.binaryString},ri);function ri(t){this.binaryString=t}function ii(t){(this.fields=t).sort(ti.comparator)}function oi(){return null!==Xr&&Xr.apply(this,arguments)||this}function si(){return null!==Jr&&Jr.apply(this,arguments)||this}function ai(t,e,n){void 0===e?e=0:e>t.length&&Mr(),void 0===n?n=t.length-e:n>t.length-e&&Mr(),this.segments=t,this.offset=e,this.len=n}ni.EMPTY_BYTE_STRING=new ni("");var ui=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ci(t){if(Fr(!!t),"string"!=typeof t)return{seconds:hi(t.seconds),nanos:hi(t.nanos)};var e=0,n=ui.exec(t);Fr(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),e=Number(n));t=new Date(t);return{seconds:Math.floor(t.getTime()/1e3),nanos:e}}function hi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function li(t){return"string"==typeof t?ni.fromBase64String(t):ni.fromUint8Array(t)}function fi(t){return"server_timestamp"===(null===(t=((null===(t=null==t?void 0:t.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function di(t){t=ci(t.mapValue.fields.__local_write_time__.timestampValue);return new Kr(t.seconds,t.nanos)}function pi(t){return null==t}function yi(t){return 0===t&&1/t==-1/0}function gi(t){return"number"==typeof t&&Number.isInteger(t)&&!yi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var mi=(vi.fromPath=function(t){return new vi($r.fromString(t))},vi.fromName=function(t){return new vi($r.fromString(t).popFirst(5))},vi.prototype.hasCollectionId=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},vi.prototype.isEqual=function(t){return null!==t&&0===$r.comparator(this.path,t.path)},vi.prototype.toString=function(){return this.path.toString()},vi.comparator=function(t,e){return $r.comparator(t.path,e.path)},vi.isDocumentKey=function(t){return t.length%2==0},vi.fromSegments=function(t){return new vi(new $r(t.slice()))},vi);function vi(t){this.path=t}function bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fi(t)?4:10:Mr()}function wi(r,i){var t,e,n=bi(r);if(n!==bi(i))return!1;switch(n){case 0:return!0;case 1:return r.booleanValue===i.booleanValue;case 4:return di(r).isEqual(di(i));case 3:return function(t){if("string"==typeof r.timestampValue&&"string"==typeof t.timestampValue&&r.timestampValue.length===t.timestampValue.length)return r.timestampValue===t.timestampValue;var e=ci(r.timestampValue),t=ci(t.timestampValue);return e.seconds===t.seconds&&e.nanos===t.nanos}(i);case 5:return r.stringValue===i.stringValue;case 6:return e=i,li(r.bytesValue).isEqual(li(e.bytesValue));case 7:return r.referenceValue===i.referenceValue;case 8:return t=i,hi((e=r).geoPointValue.latitude)===hi(t.geoPointValue.latitude)&&hi(e.geoPointValue.longitude)===hi(t.geoPointValue.longitude);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return hi(t.integerValue)===hi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){t=hi(t.doubleValue),e=hi(e.doubleValue);return t===e?yi(t)===yi(e):isNaN(t)&&isNaN(e)}return!1}(r,i);case 9:return Br(r.arrayValue.values||[],i.arrayValue.values||[],wi);case 10:return function(){var t,e=r.mapValue.fields||{},n=i.mapValue.fields||{};if(Hr(e)!==Hr(n))return!1;for(t in e)if(e.hasOwnProperty(t)&&(void 0===n[t]||!wi(e[t],n[t])))return!1;return!0}();default:return Mr()}}function Ii(t,e){return void 0!==(t.values||[]).find(function(t){return wi(t,e)})}function Ei(t,e){var n,r,i,o=bi(t),s=bi(e);if(o!==s)return qr(o,s);switch(o){case 0:return 0;case 1:return qr(t.booleanValue,e.booleanValue);case 2:return r=e,i=hi(t.integerValue||t.doubleValue),r=hi(r.integerValue||r.doubleValue),i<r?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return Ti(t.timestampValue,e.timestampValue);case 4:return Ti(di(t),di(e));case 5:return qr(t.stringValue,e.stringValue);case 6:return function(t,e){t=li(t),e=li(e);return t.compareTo(e)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=qr(n[i],r[i]);if(0!==o)return o}return qr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return n=t.geoPointValue,i=e.geoPointValue,0!==(r=qr(hi(n.latitude),hi(i.latitude)))?r:qr(hi(n.longitude),hi(i.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ei(n[i],r[i]);if(o)return o}return qr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=qr(r[s],o[s]);if(0!==a)return a;a=Ei(n[r[s]],i[o[s]]);if(0!==a)return a}return qr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Mr()}}function Ti(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return qr(t,e);var n=ci(t),t=ci(e),e=qr(n.seconds,t.seconds);return 0!==e?e:qr(n.nanos,t.nanos)}function _i(t){return function s(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var t=ci(t);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?li(t.bytesValue).toBase64():"referenceValue"in t?(e=t.referenceValue,mi.fromName(e).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=s(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+s(t.fields[o])}return e+"}"}(t.mapValue):Mr();var e}(t)}function Si(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ni(t){return t&&"integerValue"in t}function Di(t){return!!t&&"arrayValue"in t}function Ai(t){return t&&"nullValue"in t}function ki(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ci(t){return t&&"mapValue"in t}var Ri=(xi.empty=function(){return new xi({mapValue:{}})},xi.prototype.field=function(t){return xi.extractNestedValue(this.buildProto(),t)},xi.prototype.toProto=function(){return this.field(ti.emptyPath())},xi.prototype.set=function(t,e){this.setOverlay(t,e)},xi.prototype.setAll=function(t){var n=this;t.forEach(function(t,e){t?n.set(e,t):n.delete(e)})},xi.prototype.delete=function(t){this.setOverlay(t,null)},xi.prototype.isEqual=function(t){return wi(this.buildProto(),t.buildProto())},xi.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r)var i=t.get(r),o=n.get(i),n=(o instanceof Map||(o=o&&10===bi(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),o);n.set(t.lastSegment(),e)},xi.prototype.applyOverlay=function(r,t){var i=this,o=!1,e=xi.extractNestedValue(this.partialValue,r),s=Ci(e)?Object.assign({},e.mapValue.fields):{};return t.forEach(function(t,e){var n;t instanceof Map?null!=(n=i.applyOverlay(r.child(e),t))&&(s[e]=n,o=!0):null!==t?(s[e]=t,o=!0):s.hasOwnProperty(e)&&(delete s[e],o=!0)}),o?{mapValue:{fields:s}}:null},xi.prototype.buildProto=function(){var t=this.applyOverlay(ti.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},xi.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Ci(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},xi.prototype.clone=function(){return new xi(this.buildProto())},xi);function xi(t){this.overlayMap=new Map,this.partialValue=t}var Oi=(Pi.newInvalidDocument=function(t){return new Pi(t,0,Gr.min(),Ri.empty(),0)},Pi.newFoundDocument=function(t,e,n){return new Pi(t,1,e,n,0)},Pi.newNoDocument=function(t,e){return new Pi(t,2,e,Ri.empty(),0)},Pi.newUnknownDocument=function(t,e){return new Pi(t,3,e,Ri.empty(),2)},Pi.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},Pi.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ri.empty(),this.documentState=0,this},Pi.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ri.empty(),this.documentState=2,this},Pi.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},Pi.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(Pi.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(Pi.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(Pi.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),Pi.prototype.isValidDocument=function(){return 0!==this.documentType},Pi.prototype.isFoundDocument=function(){return 1===this.documentType},Pi.prototype.isNoDocument=function(){return 2===this.documentType},Pi.prototype.isUnknownDocument=function(){return 3===this.documentType},Pi.prototype.isEqual=function(t){return t instanceof Pi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},Pi.prototype.clone=function(){return new Pi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},Pi.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},Pi),Li=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Pi(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}function Mi(t,e,n,r,i,o,s){return new Li(t,e=void 0===e?null:e,n=void 0===n?[]:n,r=void 0===r?[]:r,i=void 0===i?null:i,o=void 0===o?null:o,s=void 0===s?null:s)}function Fi(t){var e=t;return null===e.h&&(t=e.path.canonicalString(),null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(function(t){return(t=t).field.canonicalString()+t.op.toString()+_i(t.value)}).join(","),t+="|ob:",t+=e.orderBy.map(function(t){return(t=t).field.canonicalString()+t.dir}).join(","),pi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=fo(e.startAt)),e.endAt&&(t+="|ub:",t+=fo(e.endAt)),e.h=t),e.h}function Vi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i=0;i<t.orderBy.length;i++)if(n=t.orderBy[i],r=e.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(t.filters.length!==e.filters.length)return!1;for(var o,s,a=0;a<t.filters.length;a++)if(o=t.filters[a],s=e.filters[a],o.op!==s.op||!o.field.isEqual(s.field)||!wi(o.value,s.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!go(t.startAt,e.startAt)&&go(t.endAt,e.endAt)}function Ui(t){return mi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var qi,Bi=(n(ji,qi=function(){}),ji.create=function(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.l(t,e,n):new zi(t,e,n):"array-contains"===e?new ro(t,n):"in"===e?new io(t,n):"not-in"===e?new oo(t,n):"array-contains-any"===e?new so(t,n):new ji(t,e,n)},ji.l=function(t,e,n){return new("in"===e?Hi:Wi)(t,n)},ji.prototype.matches=function(t){t=t.data.field(this.field);return"!="===this.op?null!==t&&this.m(Ei(t,this.value)):null!==t&&bi(this.value)===bi(t)&&this.m(Ei(t,this.value))},ji.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return 0<t;case">=":return 0<=t;default:return Mr()}},ji.prototype.g=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},ji);function ji(t,e,n){var r=this;return(r=qi.call(this)||this).field=t,r.op=e,r.value=n,r}var Ki,Gi,Qi,zi=(n(Ji,Qi=Bi),Ji.prototype.matches=function(t){t=mi.comparator(t.key,this.key);return this.m(t)},Ji),Hi=(n(Xi,Gi=Bi),Xi.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},Xi),Wi=(n(Yi,Ki=Bi),Yi.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},Yi);function Yi(t,e){var n=this;return(n=Ki.call(this,t,"not-in",e)||this).keys=$i(0,e),n}function Xi(t,e){var n=this;return(n=Gi.call(this,t,"in",e)||this).keys=$i(0,e),n}function Ji(t,e,n){var r=this;return(r=Qi.call(this,t,e,n)||this).key=mi.fromName(n.referenceValue),r}function $i(t,e){return((null===(e=e.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(t){return mi.fromName(t.referenceValue)})}var Zi,to,eo,no,ro=(n(lo,no=Bi),lo.prototype.matches=function(t){t=t.data.field(this.field);return Di(t)&&Ii(t.arrayValue,this.value)},lo),io=(n(ho,eo=Bi),ho.prototype.matches=function(t){t=t.data.field(this.field);return null!==t&&Ii(this.value.arrayValue,t)},ho),oo=(n(co,to=Bi),co.prototype.matches=function(t){if(Ii(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;t=t.data.field(this.field);return null!==t&&!Ii(this.value.arrayValue,t)},co),so=(n(uo,Zi=Bi),uo.prototype.matches=function(t){var e=this,t=t.data.field(this.field);return!(!Di(t)||!t.arrayValue.values)&&t.arrayValue.values.some(function(t){return Ii(e.value.arrayValue,t)})},uo),ao=function(t,e){this.position=t,this.before=e};function uo(t,e){return Zi.call(this,t,"array-contains-any",e)||this}function co(t,e){return to.call(this,t,"not-in",e)||this}function ho(t,e){return eo.call(this,t,"in",e)||this}function lo(t,e){return no.call(this,t,"array-contains",e)||this}function fo(t){return(t.before?"b":"a")+":"+t.position.map(_i).join(",")}var po=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function yo(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i],r=o.field.isKeyField()?mi.comparator(mi.fromName(s.referenceValue),n.key):Ei(s,n.data.field(o.field));if("desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function go(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!wi(t.position[n],e.position[n]))return!1;return!0}var mo=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function vo(t,e,n,r,i,o,s,a){return new mo(t,e,n,r,i,o,s,a)}function bo(t){return new mo(t)}function wo(t){return!pi(t.limit)&&"F"===t.limitType}function Io(t){return!pi(t.limit)&&"L"===t.limitType}function Eo(t){return 0<t.explicitOrderBy.length?t.explicitOrderBy[0].field:null}function To(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function _o(t){return null!==t.collectionGroup}function So(t){var e=t;if(null===e.p){e.p=[];var n=To(e),t=Eo(e);if(null!==n&&null===t)n.isKeyField()||e.p.push(new po(n)),e.p.push(new po(ti.keyField(),"asc"));else{for(var r=!1,i=0,o=e.explicitOrderBy;i<o.length;i++){var s=o[i];e.p.push(s),s.field.isKeyField()&&(r=!0)}r||(n=0<e.explicitOrderBy.length?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",e.p.push(new po(ti.keyField(),n)))}}return e.p}function No(t){var e=t;if(!e.T)if("F"===e.limitType)e.T=Mi(e.path,e.collectionGroup,So(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=So(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new po(o.field,s))}var a=e.endAt?new ao(e.endAt.position,!e.endAt.before):null,t=e.startAt?new ao(e.startAt.position,!e.startAt.before):null;e.T=Mi(e.path,e.collectionGroup,n,e.filters,e.limit,a,t)}return e.T}function Do(t,e,n){return new mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ao(t,e){return Vi(No(t),No(e))&&t.limitType===e.limitType}function ko(t){return Fi(No(t))+"|lt:"+t.limitType}function Co(t){return"Query(target="+(e=No(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(n+=", filters: ["+e.filters.map(function(t){return(t=t).field.canonicalString()+" "+t.op+" "+_i(t.value)}).join(", ")+"]"),pi(e.limit)||(n+=", limit: "+e.limit),0<e.orderBy.length&&(n+=", orderBy: ["+e.orderBy.map(function(t){return(t=t).field.canonicalString()+" ("+t.dir+")"}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+fo(e.startAt)),e.endAt&&(n+=", endAt: "+fo(e.endAt)),"Target("+n+")")+"; limitType="+t.limitType+")";var e,n}function Ro(i,t){return t.isFoundDocument()&&(e=i,n=t.key.path,null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):mi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n))&&function(t){for(var e=0,n=i.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&null===t.data.field(r.field))return}return 1}(t)&&function(t){for(var e=0,n=i.filters;e<n.length;e++)if(!n[e].matches(t))return;return 1}(t)&&(n=t,(!(t=i).startAt||yo(t.startAt,So(t),n))&&(!t.endAt||!yo(t.endAt,So(t),n)));var e,n}function xo(a){return function(t,e){for(var n=!1,r=0,i=So(a);r<i.length;r++){var o=i[r],s=function(t,r,e){var n=t.field.isKeyField()?mi.comparator(r.key,e.key):function(t,e){var n=r.data.field(t),t=e.data.field(t);return null!==n&&null!==t?Ei(n,t):Mr()}(t.field,e);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Mr()}}(o,t,e);if(0!==s)return s;n=n||o.field.isKeyField()}return 0}}function Oo(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yi(e)?"-0":e}}function Lo(t){return{integerValue:""+t}}function Po(t,e){return gi(e)?Lo(e):Oo(t,e)}I=function(){this._=void 0};function Mo(t,e){return t instanceof Yo?Ni(t=e)||t&&"doubleValue"in t?e:{integerValue:0}:null}var Fo,Vo,Uo=(n(jo,Vo=I),jo),qo=(n(Bo,Fo=I),Bo);function Bo(t){var e=this;return(e=Fo.call(this)||this).elements=t,e}function jo(){return null!==Vo&&Vo.apply(this,arguments)||this}function Ko(t,e){for(var n=$o(e),r=0,i=t.elements;r<i.length;r++)!function(e){n.some(function(t){return wi(t,e)})||n.push(e)}(i[r]);return{arrayValue:{values:n}}}var Go,Qo=(n(zo,Go=I),zo);function zo(t){var e=this;return(e=Go.call(this)||this).elements=t,e}function Ho(t,e){for(var n=$o(e),r=0,i=t.elements;r<i.length;r++)!function(e){n=n.filter(function(t){return!wi(t,e)})}(i[r]);return{arrayValue:{values:n}}}var Wo,Yo=(n(Xo,Wo=I),Xo);function Xo(t,e){var n=this;return(n=Wo.call(this)||this).R=t,n.A=e,n}function Jo(t){return hi(t.integerValue||t.doubleValue)}function $o(t){return Di(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Zo(t,e){this.version=t,this.transformResults=e}var ts=function(t,e){this.field=t,this.transform=e},es=(ns.none=function(){return new ns},ns.exists=function(t){return new ns(void 0,t)},ns.updateTime=function(t){return new ns(t)},Object.defineProperty(ns.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),ns.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},ns);function ns(t,e){this.updateTime=t,this.exists=e}function rs(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}Te=function(){};function is(t,e,n){var r,i,o,s;t instanceof cs?(i=e,o=n,rs((r=t).precondition,i)&&(s=r.value.clone(),o=ys(r.fieldTransforms,o,i),s.setAll(o),i.convertToFoundDocument(ss(i),s).setHasLocalMutations())):t instanceof hs?(o=e,i=n,rs((s=t).precondition,o)&&(n=ys(s.fieldTransforms,i,o),(i=o.data).setAll(ds(s)),i.setAll(n),o.convertToFoundDocument(ss(o),i).setHasLocalMutations())):(e=e,rs(t.precondition,e)&&e.convertToNoDocument(Gr.min()))}function os(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Br(n,r,function(t,e){return e=e,(t=t).field.isEqual(e.field)&&(t=t.transform,e=e.transform,t instanceof qo&&e instanceof qo||t instanceof Qo&&e instanceof Qo?Br(t.elements,e.elements,wi):t instanceof Yo&&e instanceof Yo?wi(t.A,e.A):t instanceof Uo&&e instanceof Uo)})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function ss(t){return t.isFoundDocument()?t.version:Gr.min()}var as,us,cs=(n(fs,us=Te),fs),hs=(n(ls,as=Te),ls);function ls(t,e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=as.call(this)||this).key=t,o.data=e,o.fieldMask=n,o.precondition=r,o.fieldTransforms=i,o.type=1,o}function fs(t,e,n,r){void 0===r&&(r=[]);var i=this;return(i=us.call(this)||this).key=t,i.value=e,i.precondition=n,i.fieldTransforms=r,i.type=0,i}function ds(n){var r=new Map;return n.fieldMask.fields.forEach(function(t){var e;t.isEmpty()||(e=n.data.field(t),r.set(t,e))}),r}function ps(t,e,n){var r=new Map;Fr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,(o=s,s=a,a=n[i],o instanceof qo?Ko(o,s):o instanceof Qo?Ho(o,s):a))}return r}function ys(t,e,n){for(var r,i=new Map,o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=n.data.field(a.field);i.set(a.field,(r=c,a=e,c=void 0,(u=u)instanceof Uo?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}},r&&(c.fields.__previous_value__=r),{mapValue:c}):u instanceof qo?Ko(u,r):u instanceof Qo?Ho(u,r):(u=Mo(c=u,r),r=Jo(u)+Jo(c.A),Ni(u)&&Ni(c.A)?Lo(r):Oo(c.R,r))))}return i}function gs(t){this.count=t}var ms,vs,bs,ws=(n(Ts,bs=Te),Ts),Is=(n(Es,vs=Te),Es);function Es(t,e){var n=this;return(n=vs.call(this)||this).key=t,n.precondition=e,n.type=3,n.fieldTransforms=[],n}function Ts(t,e){var n=this;return(n=bs.call(this)||this).key=t,n.precondition=e,n.type=2,n.fieldTransforms=[],n}function _s(t){switch(t){case Dr.OK:return Mr(),0;case Dr.CANCELLED:case Dr.UNKNOWN:case Dr.DEADLINE_EXCEEDED:case Dr.RESOURCE_EXHAUSTED:case Dr.INTERNAL:case Dr.UNAVAILABLE:case Dr.UNAUTHENTICATED:return;case Dr.INVALID_ARGUMENT:case Dr.NOT_FOUND:case Dr.ALREADY_EXISTS:case Dr.PERMISSION_DENIED:case Dr.FAILED_PRECONDITION:case Dr.ABORTED:case Dr.OUT_OF_RANGE:case Dr.UNIMPLEMENTED:case Dr.DATA_LOSS:return 1;default:return Mr(),0}}function Ss(t){if(void 0===t)return Or("GRPC error has no .code"),Dr.UNKNOWN;switch(t){case ms.OK:return Dr.OK;case ms.CANCELLED:return Dr.CANCELLED;case ms.UNKNOWN:return Dr.UNKNOWN;case ms.DEADLINE_EXCEEDED:return Dr.DEADLINE_EXCEEDED;case ms.RESOURCE_EXHAUSTED:return Dr.RESOURCE_EXHAUSTED;case ms.INTERNAL:return Dr.INTERNAL;case ms.UNAVAILABLE:return Dr.UNAVAILABLE;case ms.UNAUTHENTICATED:return Dr.UNAUTHENTICATED;case ms.INVALID_ARGUMENT:return Dr.INVALID_ARGUMENT;case ms.NOT_FOUND:return Dr.NOT_FOUND;case ms.ALREADY_EXISTS:return Dr.ALREADY_EXISTS;case ms.PERMISSION_DENIED:return Dr.PERMISSION_DENIED;case ms.FAILED_PRECONDITION:return Dr.FAILED_PRECONDITION;case ms.ABORTED:return Dr.ABORTED;case ms.OUT_OF_RANGE:return Dr.OUT_OF_RANGE;case ms.UNIMPLEMENTED:return Dr.UNIMPLEMENTED;case ms.DATA_LOSS:return Dr.DATA_LOSS;default:return Mr()}}(I=ms=ms||{})[I.OK=0]="OK",I[I.CANCELLED=1]="CANCELLED",I[I.UNKNOWN=2]="UNKNOWN",I[I.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",I[I.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",I[I.NOT_FOUND=5]="NOT_FOUND",I[I.ALREADY_EXISTS=6]="ALREADY_EXISTS",I[I.PERMISSION_DENIED=7]="PERMISSION_DENIED",I[I.UNAUTHENTICATED=16]="UNAUTHENTICATED",I[I.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",I[I.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",I[I.ABORTED=10]="ABORTED",I[I.OUT_OF_RANGE=11]="OUT_OF_RANGE",I[I.UNIMPLEMENTED=12]="UNIMPLEMENTED",I[I.INTERNAL=13]="INTERNAL",I[I.UNAVAILABLE=14]="UNAVAILABLE",I[I.DATA_LOSS=15]="DATA_LOSS";var Ns=(Rs.prototype.insert=function(t,e){return new Rs(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,As.BLACK,null,null))},Rs.prototype.remove=function(t){return new Rs(this.comparator,this.root.remove(t,this.comparator).copy(null,null,As.BLACK,null,null))},Rs.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},Rs.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},Rs.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(Rs.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),Rs.prototype.minKey=function(){return this.root.minKey()},Rs.prototype.maxKey=function(){return this.root.maxKey()},Rs.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},Rs.prototype.forEach=function(n){this.inorderTraversal(function(t,e){return n(t,e),!1})},Rs.prototype.toString=function(){var n=[];return this.inorderTraversal(function(t,e){return n.push(t+":"+e),!1}),"{"+n.join(", ")+"}"},Rs.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},Rs.prototype.getIterator=function(){return new Ds(this.root,null,this.comparator,!1)},Rs.prototype.getIteratorFrom=function(t){return new Ds(this.root,t,this.comparator,!1)},Rs.prototype.getReverseIterator=function(){return new Ds(this.root,null,this.comparator,!0)},Rs.prototype.getReverseIteratorFrom=function(t){return new Ds(this.root,t,this.comparator,!0)},Rs),Ds=(Cs.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},Cs.prototype.hasNext=function(){return 0<this.nodeStack.length},Cs.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},Cs),As=(ks.prototype.copy=function(t,e,n,r,i){return new ks(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},ks.prototype.isEmpty=function(){return!1},ks.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},ks.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},ks.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},ks.prototype.minKey=function(){return this.min().key},ks.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},ks.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},ks.prototype.removeMin=function(){if(this.left.isEmpty())return ks.EMPTY;var t=this;return(t=(t=!t.left.isRed()&&!t.left.left.isRed()?t.moveRedLeft():t).copy(null,null,null,t.left.removeMin(),null)).fixUp()},ks.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r=(r=!(r.left.isEmpty()||r.left.isRed()||r.left.left.isRed())?r.moveRedLeft():r).copy(null,null,null,r.left.remove(t,e),null);else{if(0===e(t,(r=!((r=r.left.isRed()?r.rotateRight():r).right.isEmpty()||r.right.isRed()||r.right.left.isRed())?r.moveRedRight():r).key)){if(r.right.isEmpty())return ks.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()},ks.prototype.isRed=function(){return this.color},ks.prototype.fixUp=function(){var t=this;return t=(t=(t=t.right.isRed()&&!t.left.isRed()?t.rotateLeft():t).left.isRed()&&t.left.left.isRed()?t.rotateRight():t).left.isRed()&&t.right.isRed()?t.colorFlip():t},ks.prototype.moveRedLeft=function(){var t=this.colorFlip();return t=t.right.left.isRed()?(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip():t},ks.prototype.moveRedRight=function(){var t=this.colorFlip();return t=t.left.left.isRed()?(t=t.rotateRight()).colorFlip():t},ks.prototype.rotateLeft=function(){var t=this.copy(null,null,ks.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},ks.prototype.rotateRight=function(){var t=this.copy(null,null,ks.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},ks.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},ks.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},ks.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Mr();if(this.right.isRed())throw Mr();var t=this.left.check();if(t!==this.right.check())throw Mr();return t+(this.isRed()?0:1)},ks);function ks(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:ks.RED,this.left=null!=r?r:ks.EMPTY,this.right=null!=i?i:ks.EMPTY,this.size=this.left.size+1+this.right.size}function Cs(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}function Rs(t,e){this.comparator=t,this.root=e||As.EMPTY}function xs(){this.size=0}As.EMPTY=null,As.RED=!0,As.BLACK=!1,As.EMPTY=(Object.defineProperty(xs.prototype,"key",{get:function(){throw Mr()},enumerable:!1,configurable:!0}),Object.defineProperty(xs.prototype,"value",{get:function(){throw Mr()},enumerable:!1,configurable:!0}),Object.defineProperty(xs.prototype,"color",{get:function(){throw Mr()},enumerable:!1,configurable:!0}),Object.defineProperty(xs.prototype,"left",{get:function(){throw Mr()},enumerable:!1,configurable:!0}),Object.defineProperty(xs.prototype,"right",{get:function(){throw Mr()},enumerable:!1,configurable:!0}),xs.prototype.copy=function(t,e,n,r,i){return this},xs.prototype.insert=function(t,e,n){return new As(t,e)},xs.prototype.remove=function(t,e){return this},xs.prototype.isEmpty=function(){return!0},xs.prototype.inorderTraversal=function(t){return!1},xs.prototype.reverseTraversal=function(t){return!1},xs.prototype.minKey=function(){return null},xs.prototype.maxKey=function(){return null},xs.prototype.isRed=function(){return!1},xs.prototype.checkMaxDepth=function(){return!0},xs.prototype.check=function(){return 0},new xs);var Os=(Fs.prototype.has=function(t){return null!==this.data.get(t)},Fs.prototype.first=function(){return this.data.minKey()},Fs.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(Fs.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),Fs.prototype.indexOf=function(t){return this.data.indexOf(t)},Fs.prototype.forEach=function(n){this.data.inorderTraversal(function(t,e){return n(t),!1})},Fs.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,t[1]))return;e(r.key)}},Fs.prototype.forEachWhile=function(t,e){for(var n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},Fs.prototype.firstAfterOrEqual=function(t){t=this.data.getIteratorFrom(t);return t.hasNext()?t.getNext().key:null},Fs.prototype.getIterator=function(){return new Ls(this.data.getIterator())},Fs.prototype.getIteratorFrom=function(t){return new Ls(this.data.getIteratorFrom(t))},Fs.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},Fs.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},Fs.prototype.isEmpty=function(){return this.data.isEmpty()},Fs.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},Fs.prototype.isEqual=function(t){if(!(t instanceof Fs))return!1;if(this.size!==t.size)return!1;for(var e=this.data.getIterator(),n=t.data.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},Fs.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},Fs.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},Fs.prototype.copy=function(t){var e=new Fs(this.comparator);return e.data=t,e},Fs),Ls=(Ms.prototype.getNext=function(){return this.iter.getNext().key},Ms.prototype.hasNext=function(){return this.iter.hasNext()},Ms),Ps=new Ns(mi.comparator);function Ms(t){this.iter=t}function Fs(t){this.comparator=t,this.data=new Ns(this.comparator)}var Vs=new Ns(mi.comparator);var Us=new Ns(mi.comparator);var qs=new Os(mi.comparator);function Bs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=qs,r=0,i=t;r<i.length;r++)var o=i[r],n=n.add(o);return n}var js=new Os(qr);var Ks=(Zs.createSynthesizedRemoteEventForCurrentChange=function(t,e){var n=new Map;return n.set(t,Gs.createSynthesizedTargetChangeForCurrentChange(t,e)),new Zs(Gr.min(),n,js,Ps,Bs())},Zs),Gs=($s.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new $s(ni.EMPTY_BYTE_STRING,e,Bs(),Bs(),Bs())},$s),Qs=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},zs=function(t,e){this.targetId=t,this.V=e},Hs=function(t,e,n,r){void 0===n&&(n=ni.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ws=(Object.defineProperty(Js.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(Js.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(Js.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(Js.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),Js.prototype.$=function(t){0<t.approximateByteSize()&&(this.F=!0,this.C=t)},Js.prototype.M=function(){var n=Bs(),r=Bs(),i=Bs();return this.D.forEach(function(t,e){switch(e){case 0:n=n.add(t);break;case 2:r=r.add(t);break;case 1:i=i.add(t);break;default:Mr()}}),new Gs(this.C,this.N,n,r,i)},Js.prototype.L=function(){this.F=!1,this.D=ea()},Js.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},Js.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},Js.prototype.U=function(){this.S+=1},Js.prototype.K=function(){--this.S},Js.prototype.j=function(){this.F=!0,this.N=!0},Js),Ys=(Xs.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},Xs.prototype.et=function(n){var r=this;this.forEachTarget(n,function(t){var e=r.nt(t);switch(n.state){case 0:r.st(t)&&e.$(n.resumeToken);break;case 1:e.K(),e.k||e.L(),e.$(n.resumeToken);break;case 2:e.K(),e.k||r.removeTarget(t);break;case 3:r.st(t)&&(e.j(),e.$(n.resumeToken));break;case 4:r.st(t)&&(r.it(t),e.$(n.resumeToken));break;default:Mr()}})},Xs.prototype.forEachTarget=function(t,n){var r=this;0<t.targetIds.length?t.targetIds.forEach(n):this.G.forEach(function(t,e){r.st(e)&&n(e)})},Xs.prototype.rt=function(t){var e=t.targetId,n=t.V.count,t=this.ot(e);t&&(Ui(t=t.target)?0===n?(t=new mi(t.path),this.tt(e,t,Oi.newNoDocument(t,Gr.min()))):Fr(1===n):this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e)))},Xs.prototype.ut=function(r){var i=this,o=new Map;this.G.forEach(function(t,e){var n=i.ot(e);n&&(t.current&&Ui(n.target)&&(n=new mi(n.target.path),null!==i.H.get(n)||i.at(e,n)||i.tt(e,n,Oi.newNoDocument(n,r))),t.O&&(o.set(e,t.M()),t.L()))});var s=Bs();this.J.forEach(function(t,e){var n=!0;e.forEachWhile(function(t){t=i.ot(t);return!t||2===t.purpose||(n=!1)}),n&&(s=s.add(t))});var t=new Ks(r,o,this.Y,this.H,s);return this.H=Ps,this.J=ta(),this.Y=new Os(qr),t},Xs.prototype.Z=function(t,e){var n;this.st(t)&&(n=this.at(t,e.key)?2:0,this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t)))},Xs.prototype.tt=function(t,e,n){var r;this.st(t)&&(r=this.nt(t),this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n)))},Xs.prototype.removeTarget=function(t){this.G.delete(t)},Xs.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},Xs.prototype.U=function(t){this.nt(t).U()},Xs.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Ws,this.G.set(t,e)),e},Xs.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Os(qr),this.J=this.J.insert(t,e)),e},Xs.prototype.st=function(t){var e=null!==this.ot(t);return e||xr("WatchChangeAggregator","Detected inactive target",t),e},Xs.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},Xs.prototype.it=function(e){var n=this;this.G.set(e,new Ws),this.W.getRemoteKeysForTarget(e).forEach(function(t){n.tt(e,t,null)})},Xs.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},Xs);function Xs(t){this.W=t,this.G=new Map,this.H=Ps,this.J=ta(),this.Y=new Os(qr)}function Js(){this.S=0,this.D=ea(),this.C=ni.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}function $s(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}function Zs(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}function ta(){return new Ns(mi.comparator)}function ea(){return new Ns(mi.comparator)}var na={asc:"ASCENDING",desc:"DESCENDING"},ra={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ia=function(t,e){this.databaseId=t,this.I=e};function oa(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function sa(t,e){return t.I?e.toBase64():e.toUint8Array()}function aa(t){return Fr(!!t),Gr.fromTimestamp((t=ci(t),new Kr(t.seconds,t.nanos)))}function ua(t,e){return new $r(["projects",t.projectId,"databases",t.database]).child("documents").child(e).canonicalString()}function ca(t){t=$r.fromString(t);return Fr(ka(t)),t}function ha(t,e){return ua(t.databaseId,e.path)}function la(t,e){e=ca(e);if(e.get(1)!==t.databaseId.projectId)throw new Ar(Dr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new Ar(Dr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.databaseId.database);return new mi(ya(e))}function fa(t,e){return ua(t.databaseId,e)}function da(t){t=ca(t);return 4===t.length?$r.emptyPath():ya(t)}function pa(t){return new $r(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ya(t){return Fr(4<t.length&&"documents"===t.get(4)),t.popFirst(5)}function ga(t,e,n){return{name:ha(t,e),fields:n.toProto().mapValue.fields}}function ma(t,e,n){var r=la(t,e.name),t=aa(e.updateTime),e=new Ri({mapValue:{fields:e.fields}}),e=Oi.newFoundDocument(r,t,e);return n&&e.setHasCommittedMutations(),n?e.setHasCommittedMutations():e}function va(t,e){var n,r,i;if(e instanceof cs)n={update:ga(t,e.key,e.value)};else if(e instanceof ws)n={delete:ha(t,e.key)};else if(e instanceof hs)n={update:ga(t,e.key,e.data),updateMask:(i=e.fieldMask,r=[],i.fields.forEach(function(t){return r.push(t.canonicalString())}),{fieldPaths:r})};else{if(!(e instanceof Is))return Mr();n={verify:ha(t,e.key)}}return 0<e.fieldTransforms.length&&(n.updateTransforms=e.fieldTransforms.map(function(t){var e=t.transform;if(e instanceof Uo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(e instanceof qo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:e.elements}};if(e instanceof Qo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:e.elements}};if(e instanceof Yo)return{fieldPath:t.field.canonicalString(),increment:e.A};throw Mr()})),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:(e=t,t=i.updateTime,oa(e,t.toTimestamp()))}:void 0!==i.exists?{exists:i.exists}:Mr()),n}function ba(e,t){var n=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?es.updateTime(aa(s.updateTime)):void 0!==s.exists?es.exists(s.exists):es.none():es.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(t,e){var n,r=null;"setToServerValue"in e?(Fr("REQUEST_TIME"===e.setToServerValue),r=new Uo):"appendMissingElements"in e?(n=e.appendMissingElements.values||[],r=new qo(n)):"removeAllFromArray"in e?(n=e.removeAllFromArray.values||[],r=new Qo(n)):"increment"in e?r=new Yo(t,e.increment):Mr();e=ti.fromServerFormat(e.fieldPath);return new ts(e,r)}(e,t)}):[];if(t.update){t.update.name;var i=la(e,t.update.name),o=new Ri({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=(s=t.updateMask.fieldPaths||[],new ei(s.map(function(t){return ti.fromServerFormat(t)})));return new hs(i,o,s,n,r)}return new cs(i,o,n,r)}if(t.delete){r=la(e,t.delete);return new ws(r,n)}if(t.verify){t=la(e,t.verify);return new Is(t,n)}return Mr()}function wa(t,e){return{documents:[fa(t,e.path)]}}function Ia(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fa(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fa(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);r=function(t){if(0!==t.length){t=t.map(function(t){if("=="===t.op){if(ki(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NAN"}};if(Ai(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ki(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NOT_NAN"}};if(Ai(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(t.field),op:(e=t.op,ra[e]),value:t.value}};var e});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(e.filters);r&&(n.structuredQuery.where=r);r=function(t){if(0!==t.length)return t.map(function(t){return{field:Sa((t=t).field),direction:(t=t.dir,na[t])}})}(e.orderBy);r&&(n.structuredQuery.orderBy=r);r=e.limit,r=t.I||pi(r)?r:{value:r};return null!==r&&(n.structuredQuery.limit=r),e.startAt&&(n.structuredQuery.startAt=Ta(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ta(e.endAt)),n}function Ea(t){var e=da(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;0<r&&(Fr(1===r),(a=n.from[0]).allDescendants?i=a.collectionId:e=e.child(a.collectionId));var o=[];n.where&&(o=function e(t){return t?void 0!==t.unaryFilter?[Aa(t)]:void 0!==t.fieldFilter?[Da(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e(t)}).reduce(function(t,e){return t.concat(e)}):Mr():[]}(n.where));var s=[],t=null,r=null,a=null;return vo(e,i,s=n.orderBy?n.orderBy.map(function(t){return new po(Na((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e}):s,o,t=n.limit?pi(o="object"==typeof(o=n.limit)?o.value:o)?null:o:t,"F",r=n.startAt?_a(n.startAt):r,a=n.endAt?_a(n.endAt):a)}function Ta(t){return{before:t.before,values:t.position}}function _a(t){var e=!!t.before,t=t.values||[];return new ao(t,e)}function Sa(t){return{fieldPath:t.canonicalString()}}function Na(t){return ti.fromServerFormat(t.fieldPath)}function Da(t){return Bi.create(Na(t.fieldFilter.field),function(){switch(t.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Mr()}}(),t.fieldFilter.value)}function Aa(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Na(t.unaryFilter.field);return Bi.create(e,"==",{doubleValue:NaN});case"IS_NULL":e=Na(t.unaryFilter.field);return Bi.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=Na(t.unaryFilter.field);return Bi.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":n=Na(t.unaryFilter.field);return Bi.create(n,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Mr()}}function ka(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}function Ca(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=Ra(e)),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(t.get(n),e);return Ra(e)}function Ra(t){return t+"\x01\x01"}function xa(t){var e=t.length;if(Fr(2<=e),2===e)return Fr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),$r.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||n<s)&&Mr(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Mr()}o=s+2}return new $r(r)}function Oa(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}var La=function(t,e){this.seconds=t,this.nanoseconds=e};Oa.store="owner",Oa.key="owner";function Pa(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}Pa.store="mutationQueues",Pa.keyPath="userId";function Ma(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}Ma.store="mutations",Ma.keyPath="batchId",Ma.userMutationsIndex="userMutationsIndex",Ma.userMutationsKeyPath=["userId","batchId"];var Fa=(Va.prefixForUser=function(t){return[t]},Va.prefixForPath=function(t,e){return[t,Ca(e)]},Va.key=function(t,e,n){return[t,Ca(e),n]},Va);function Va(){}Fa.store="documentMutations",Fa.PLACEHOLDER=new Fa;function Ua(t,e){this.path=t,this.readTime=e}function qa(t,e){this.path=t,this.version=e}var Ba=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ba.store="remoteDocuments",Ba.readTimeIndex="readTimeIndex",Ba.readTimeIndexPath="readTime",Ba.collectionReadTimeIndex="collectionReadTimeIndex",Ba.collectionReadTimeIndexPath=["parentPath","readTime"];function ja(t){this.byteSize=t}ja.store="remoteDocumentGlobal",ja.key="remoteDocumentGlobalKey";function Ka(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}Ka.store="targets",Ka.keyPath="targetId",Ka.queryTargetsIndexName="queryTargetsIndex",Ka.queryTargetsKeyPath=["canonicalId","targetId"];var Ga=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ga.store="targetDocuments",Ga.keyPath=["targetId","path"],Ga.documentTargetsIndex="documentTargetsIndex",Ga.documentTargetsKeyPath=["path","targetId"];function Qa(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}Qa.key="targetGlobalKey",Qa.store="targetGlobal";function za(t,e){this.collectionId=t,this.parent=e}za.store="collectionParents",za.keyPath=["collectionId","parent"];function Ha(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}Ha.store="clientMetadata",Ha.keyPath="clientId";function Wa(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}Wa.store="bundles",Wa.keyPath="bundleId";function Ya(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}Ya.store="namedQueries",Ya.keyPath="name";var Xa,Ja=s(s([],s(s([],s(s([],s(s([],[Pa.store,Ma.store,Fa.store,Ba.store,Ka.store,Oa.store,Qa.store,Ga.store]),[Ha.store])),[ja.store])),[za.store])),[Wa.store,Ya.store]),$a="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Te=(hu.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},hu.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},hu),Za=function(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})},tu=(cu.prototype.catch=function(t){return this.next(void 0,t)},cu.prototype.next=function(r,i){var o=this;return this.callbackAttached&&Mr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new cu(function(e,n){o.nextCallback=function(t){o.wrapSuccess(r,t).next(e,n)},o.catchCallback=function(t){o.wrapFailure(i,t).next(e,n)}})},cu.prototype.toPromise=function(){var n=this;return new Promise(function(t,e){n.next(t,e)})},cu.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof cu?e:cu.resolve(e)}catch(t){return cu.reject(t)}},cu.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):cu.resolve(e)},cu.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):cu.reject(e)},cu.resolve=function(n){return new cu(function(t,e){t(n)})},cu.reject=function(n){return new cu(function(t,e){e(n)})},cu.waitFor=function(t){return new cu(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(t){return n(t)})}),o=!0,i===r&&e()})},cu.or=function(t){for(var n=cu.resolve(!1),e=0,r=t;e<r.length;e++)!function(e){n=n.next(function(t){return t?cu.resolve(t):e()})}(r[e]);return n},cu.forEach=function(t,n){var r=this,i=[];return t.forEach(function(t,e){i.push(n.call(r,t,e))}),this.waitFor(i)},cu),eu=(uu.open=function(t,e,n,r){try{return new uu(e,t.transaction(r,n))}catch(t){throw new iu(e,t)}},Object.defineProperty(uu.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),uu.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(xr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},uu.prototype.store=function(t){t=this.transaction.objectStore(t);return new fu(t)},uu),nu=(au.delete=function(t){return xr("SimpleDb","Removing database:",t),pu(window.indexedDB.deleteDatabase(t)).toPromise()},au.yt=function(){if("undefined"==typeof indexedDB)return!1;if(au.gt())return!0;var t=h(),e=au._t(t),n=0<e&&e<10,e=au.Et(t),e=0<e&&e<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||n||e)},au.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},au.It=function(t,e){return t.store(e)},au._t=function(t){t=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),t=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(t)},au.Et=function(t){t=t.match(/Android ([\d.]+)/i),t=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(t)},au.prototype.At=function(o){return y(this,void 0,void 0,function(){var e,i=this;return g(this,function(t){switch(t.label){case 0:return this.db?[3,2]:(xr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,n){var r=indexedDB.open(i.name,i.version);r.onsuccess=function(t){t=t.target.result;e(t)},r.onblocked=function(){n(new iu(o,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){t=t.target.error;"VersionError"===t.name?n(new Ar(Dr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new iu(o,t))},r.onupgradeneeded=function(t){xr("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;i.wt.Rt(e,r.transaction,t.oldVersion,i.version).next(function(){xr("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:e.db=t.sent(),t.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return i.bt(t)}),this.db)]}})})},au.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},au.prototype.runTransaction=function(a,n,u,c){return y(this,void 0,void 0,function(){var i,o,s,e;return g(this,function(t){switch(t.label){case 0:i="readonly"===n,o=0,e=function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:++o,t.label=1;case 1:return t.trys.push([1,4,,5]),[4,s.At(a)];case 2:return s.db=t.sent(),e=eu.open(s.db,a,i?"readonly":"readwrite",u),n=c(e).catch(function(t){return e.abort(t),tu.reject(t)}).toPromise(),r={},n.catch(function(){}),[4,e.dt];case 3:return[2,(r.value=(t.sent(),n),r)];case 4:return n=t.sent(),r="FirebaseError"!==n.name&&o<3,xr("SimpleDb","Transaction failed with error:",n.message,"Retrying:",r),s.close(),r?[3,5]:[2,{value:Promise.reject(n)}];case 5:return[2]}})},s=this,t.label=1;case 1:return[5,e()];case 2:if("object"==typeof(e=t.sent()))return[2,e.value];t.label=3;case 3:return[3,1];case 4:return[2]}})})},au.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},au),ru=(Object.defineProperty(su.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(su.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(su.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),su.prototype.done=function(){this.Vt=!0},su.prototype.Ct=function(t){this.St=t},su.prototype.delete=function(){return pu(this.Pt.delete())},su),iu=(n(ou,Xa=Ar),ou);function ou(t,e){var n=this;return(n=Xa.call(this,Dr.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+e)||this).name="IndexedDbTransactionError",n}function su(t){this.Pt=t,this.Vt=!1,this.St=null}function au(t,e,n){this.name=t,this.version=e,this.wt=n,12.2===au._t(h())&&Or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function uu(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Za,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new iu(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){t=gu(t.target.error);n.ft.reject(new iu(e,t))}}function cu(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}function hu(){this.onCommittedListeners=[]}function lu(t){return"IndexedDbTransactionError"===t.name}var fu=(du.prototype.put=function(t,e){t=void 0!==e?(xr("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(xr("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t));return pu(t)},du.prototype.add=function(t){return xr("SimpleDb","ADD",this.store.name,t,t),pu(this.store.add(t))},du.prototype.get=function(e){var n=this;return pu(this.store.get(e)).next(function(t){return void 0===t&&(t=null),xr("SimpleDb","GET",n.store.name,e,t),t})},du.prototype.delete=function(t){return xr("SimpleDb","DELETE",this.store.name,t),pu(this.store.delete(t))},du.prototype.count=function(){return xr("SimpleDb","COUNT",this.store.name),pu(this.store.count())},du.prototype.Nt=function(t,e){var e=this.cursor(this.options(t,e)),n=[];return this.xt(e,function(t,e){n.push(e)}).next(function(){return n})},du.prototype.Ft=function(t,e){xr("SimpleDb","DELETE ALL",this.store.name);e=this.options(t,e);e.kt=!1;e=this.cursor(e);return this.xt(e,function(t,e,n){return n.delete()})},du.prototype.Ot=function(t,e){e?n=t:(n={},e=t);var n=this.cursor(n);return this.xt(n,e)},du.prototype.$t=function(r){var t=this.cursor({});return new tu(function(n,e){t.onerror=function(t){t=gu(t.target.error);e(t)},t.onsuccess=function(t){var e=t.target.result;e?r(e.primaryKey,e.value).next(function(t){t?e.continue():n()}):n()}})},du.prototype.xt=function(t,i){var o=[];return new tu(function(r,e){t.onerror=function(t){e(t.target.error)},t.onsuccess=function(t){var e,n=t.target.result;n?(e=new ru(n),(t=i(n.primaryKey,n.value,e))instanceof tu&&(t=t.catch(function(t){return e.done(),tu.reject(t)}),o.push(t)),e.isDone?r():null===e.Dt?n.continue():n.continue(e.Dt)):r()}}).next(function(){return tu.waitFor(o)})},du.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},du.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},du);function du(t){this.store=t}function pu(t){return new tu(function(e,n){t.onsuccess=function(t){t=t.target.result;e(t)},t.onerror=function(t){t=gu(t.target.error);n(t)}})}var yu=!1;function gu(t){var e=nu._t(h());if(12.2<=e&&e<13){e="An internal error was encountered in the Indexed Database server";if(0<=t.message.indexOf(e)){var n=new Ar("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return yu||(yu=!0,setTimeout(function(){throw n},0)),n}}return t}var mu,vu=(n(bu,mu=Te),bu);function bu(t,e){var n=this;return(n=mu.call(this)||this).Mt=t,n.currentSequenceNumber=e,n}function wu(t,e){return nu.It(t.Mt,e)}var Iu=(Du.prototype.applyToRemoteDocument=function(t,e){for(var n,r,i,o,s,a,u=e.mutationResults,c=0;c<this.mutations.length;c++){var h=this.mutations[c];h.key.isEqual(t.key)&&(n=h,r=t,i=u[c],h=a=s=o=void 0,n instanceof cs?(s=r,a=i,h=(o=n).value.clone(),o=ps(o.fieldTransforms,s,a.transformResults),h.setAll(o),s.convertToFoundDocument(a.version,h).setHasCommittedMutations()):n instanceof hs?(o=r,s=i,rs((a=n).precondition,o)?(h=ps(a.fieldTransforms,o,s.transformResults),(n=o.data).setAll(ds(a)),n.setAll(h),o.convertToFoundDocument(s.version,n).setHasCommittedMutations()):o.convertToUnknownDocument(s.version)):r.convertToNoDocument(i.version).setHasCommittedMutations())}},Du.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(r=n[e]).key.isEqual(t.key)&&is(r,t,this.localWriteTime);for(var r,i=0,o=this.mutations;i<o.length;i++)(r=o[i]).key.isEqual(t.key)&&is(r,t,this.localWriteTime)},Du.prototype.applyToLocalDocumentSet=function(n){var r=this;this.mutations.forEach(function(t){var e=n.get(t.key),t=e;r.applyToLocalView(t),e.isValidDocument()||t.convertToNoDocument(Gr.min())})},Du.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Bs())},Du.prototype.isEqual=function(t){return this.batchId===t.batchId&&Br(this.mutations,t.mutations,os)&&Br(this.baseMutations,t.baseMutations,os)},Du),Eu=(Nu.from=function(t,e,n){Fr(t.mutations.length===n.length);for(var r=Us,i=t.mutations,o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Nu(t,e,n,r)},Nu),Tu=(Su.prototype.withSequenceNumber=function(t){return new Su(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Su.prototype.withResumeToken=function(t,e){return new Su(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Su.prototype.withLastLimboFreeSnapshotVersion=function(t){return new Su(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},Su),_u=function(t){this.Lt=t};function Su(t,e,n,r,i,o,s){void 0===i&&(i=Gr.min()),void 0===o&&(o=Gr.min()),void 0===s&&(s=ni.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}function Nu(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}function Du(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}function Au(t,e){if(e.document)return ma(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=mi.fromSegments(e.noDocument.path),r=Ou(e.noDocument.readTime),n=Oi.newNoDocument(n,r);return e.hasCommittedMutations?n.setHasCommittedMutations():n}if(e.unknownDocument){n=mi.fromSegments(e.unknownDocument.path),r=Ou(e.unknownDocument.version);return Oi.newUnknownDocument(n,r)}return Mr()}function ku(t,e,n){var r=Cu(n),n=e.key.path.popLast().toArray();if(e.isFoundDocument()){var i={name:ha(o=t.Lt,(s=e).key),fields:s.data.toProto().mapValue.fields,updateTime:oa(o,s.version.toTimestamp())},o=e.hasCommittedMutations;return new Ba(null,null,i,o,r,n)}if(e.isNoDocument()){var s=e.key.path.toArray(),i=xu(e.version),o=e.hasCommittedMutations;return new Ba(null,new Ua(s,i),null,o,r,n)}if(e.isUnknownDocument()){o=e.key.path.toArray(),e=xu(e.version);return new Ba(new qa(o,e),null,null,!0,r,n)}return Mr()}function Cu(t){t=t.toTimestamp();return[t.seconds,t.nanoseconds]}function Ru(t){t=new Kr(t[0],t[1]);return Gr.fromTimestamp(t)}function xu(t){t=t.toTimestamp();return new La(t.seconds,t.nanoseconds)}function Ou(t){t=new Kr(t.seconds,t.nanoseconds);return Gr.fromTimestamp(t)}function Lu(e,t){for(var n=(t.baseMutations||[]).map(function(t){return ba(e.Lt,t)}),r=0;r<t.mutations.length-1;++r){var i,o=t.mutations[r];r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(i=t.mutations[r+1],o.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(r+1,1),++r)}var s=t.mutations.map(function(t){return ba(e.Lt,t)}),a=Kr.fromMillis(t.localWriteTimeMs);return new Iu(t.batchId,a,n,s)}function Pu(t){var e=Ou(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Ou(t.lastLimboFreeSnapshotVersion):Gr.min(),r=void 0!==t.query.documents?(Fr(1===(r=t.query).documents.length),No(bo(da(r.documents[0])))):No(Ea(t.query));return new Tu(r,t.targetId,0,t.lastListenSequenceNumber,e,n,ni.fromBase64String(t.resumeToken))}function Mu(t,e){var n=xu(e.snapshotVersion),r=xu(e.lastLimboFreeSnapshotVersion),i=(Ui(e.target)?wa:Ia)(t.Lt,e.target),t=e.resumeToken.toBase64();return new Ka(e.targetId,Fi(e.target),n,t,e.sequenceNumber,r,i)}function Fu(t){var e=Ea({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Do(e,e.limit,"L"):e}var Vu=(Uu.prototype.getBundleMetadata=function(t,e){return qu(t).get(e).next(function(t){if(t)return{id:(t=t).bundleId,createTime:Ou(t.createTime),version:t.version}})},Uu.prototype.saveBundleMetadata=function(t,e){return qu(t).put({bundleId:(e=e).id,createTime:xu(aa(e.createTime)),version:e.version})},Uu.prototype.getNamedQuery=function(t,e){return Bu(t).get(e).next(function(t){if(t)return{name:(t=t).name,query:Fu(t.bundledQuery),readTime:Ou(t.readTime)}})},Uu.prototype.saveNamedQuery=function(t,e){return Bu(t).put({name:(e=e).name,readTime:xu(aa(e.readTime)),bundledQuery:e.bundledQuery})},Uu);function Uu(){}function qu(t){return wu(t,Wa.store)}function Bu(t){return wu(t,Ya.store)}var ju=(Hu.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),tu.resolve()},Hu.prototype.getCollectionParents=function(t,e){return tu.resolve(this.Bt.getEntries(e))},Hu),Ku=(zu.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Os($r.comparator),t=!r.has(n);return this.index[e]=r.add(n),t},zu.prototype.has=function(t){var e=t.lastSegment(),t=t.popLast(),e=this.index[e];return e&&e.has(t)},zu.prototype.getEntries=function(t){return(this.index[t]||new Os($r.comparator)).toArray()},zu),Gu=(Qu.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(this.qt.has(e))return tu.resolve();var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});i={collectionId:r,parent:Ca(i)};return Wu(t).put(i)},Qu.prototype.getCollectionParents=function(t,i){var o=[],e=IDBKeyRange.bound([i,""],[jr(i),""],!1,!0);return Wu(t).Nt(e).next(function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.collectionId!==i)break;o.push(xa(r.parent))}return o})},Qu);function Qu(){this.qt=new Ku}function zu(){this.index={}}function Hu(){this.Bt=new Ku}function Wu(t){return wu(t,za.store)}var Yu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xu=(Ju.withCacheSize=function(t){return new Ju(t,Ju.DEFAULT_COLLECTION_PERCENTILE,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},Ju);function Ju(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}function $u(t,e,n){var r=t.store(Ma.store),i=t.store(Fa.store),o=[],t=IDBKeyRange.only(n.batchId),s=0,t=r.Ot({range:t},function(t,e,n){return s++,n.delete()});o.push(t.next(function(){Fr(1===s)}));for(var a=[],u=0,c=n.mutations;u<c.length;u++){var h=c[u],l=Fa.key(e,h.key.path,n.batchId);o.push(i.delete(l)),a.push(h.key)}return tu.waitFor(o).next(function(){return a})}function Zu(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Mr();e=t.noDocument}return JSON.stringify(e).length}Xu.DEFAULT_COLLECTION_PERCENTILE=10,Xu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xu.DEFAULT=new Xu(41943040,Xu.DEFAULT_COLLECTION_PERCENTILE,Xu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xu.DISABLED=new Xu(-1,0,0);var tc=(ec.Kt=function(t,e,n,r){return Fr(""!==t.uid),new ec(t.isAuthenticated()?t.uid:"",e,n,r)},ec.prototype.checkEmpty=function(t){var r=!0,e=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rc(t).Ot({index:Ma.userMutationsIndex,range:e},function(t,e,n){r=!1,n.done()}).next(function(){return r})},ec.prototype.addMutationBatch=function(p,y,g,m){var v=this,b=ic(p),w=rc(p);return w.add({}).next(function(t){Fr("number"==typeof t);for(var e,n,r,i,o,s=new Iu(t,y,g,m),a=(e=v.R,n=v.userId,i=(r=s).baseMutations.map(function(t){return va(e.Lt,t)}),o=r.mutations.map(function(t){return va(e.Lt,t)}),new Ma(n,r.batchId,r.localWriteTime.toMillis(),i,o)),u=[],c=new Os(function(t,e){return qr(t.canonicalString(),e.canonicalString())}),h=0,l=m;h<l.length;h++){var f=l[h],d=Fa.key(v.userId,f.key.path,t),c=c.add(f.key.path.popLast());u.push(w.put(a)),u.push(b.put(d,Fa.PLACEHOLDER))}return c.forEach(function(t){u.push(v.Ut.addToCollectionParentIndex(p,t))}),p.addOnCommittedListener(function(){v.Qt[t]=s.keys()}),tu.waitFor(u).next(function(){return s})})},ec.prototype.lookupMutationBatch=function(t,e){var n=this;return rc(t).get(e).next(function(t){return t?(Fr(t.userId===n.userId),Lu(n.R,t)):null})},ec.prototype.jt=function(t,e){var n=this;return this.Qt[e]?tu.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){t=t.keys();return n.Qt[e]=t}return null})},ec.prototype.getNextMutationBatchAfterBatchId=function(t,e){var r=this,i=e+1,e=IDBKeyRange.lowerBound([this.userId,i]),o=null;return rc(t).Ot({index:Ma.userMutationsIndex,range:e},function(t,e,n){e.userId===r.userId&&(Fr(e.batchId>=i),o=Lu(r.R,e)),n.done()}).next(function(){return o})},ec.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return rc(t).Ot({index:Ma.userMutationsIndex,range:e,reverse:!0},function(t,e,n){r=e.batchId,n.done()}).next(function(){return r})},ec.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rc(t).Nt(Ma.userMutationsIndex,n).next(function(t){return t.map(function(t){return Lu(e.R,t)})})},ec.prototype.getAllMutationBatchesAffectingDocumentKey=function(o,s){var a=this,t=Fa.prefixForPath(this.userId,s.path),t=IDBKeyRange.lowerBound(t),u=[];return ic(o).Ot({range:t},function(t,e,n){var r=t[0],i=t[1],t=t[2],i=xa(i);if(r===a.userId&&s.path.isEqual(i))return rc(o).get(t).next(function(t){if(!t)throw Mr();Fr(t.userId===a.userId),u.push(Lu(a.R,t))});n.done()}).next(function(){return u})},ec.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var s=this,a=new Os(qr),n=[];return t.forEach(function(o){var t=Fa.prefixForPath(s.userId,o.path),t=IDBKeyRange.lowerBound(t),t=ic(e).Ot({range:t},function(t,e,n){var r=t[0],i=t[1],t=t[2],i=xa(i);r===s.userId&&o.path.isEqual(i)?a=a.add(t):n.done()});n.push(t)}),tu.waitFor(n).next(function(){return s.Wt(e,a)})},ec.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var o=this,s=e.path,a=s.length+1,e=Fa.prefixForPath(this.userId,s),e=IDBKeyRange.lowerBound(e),u=new Os(qr);return ic(t).Ot({range:e},function(t,e,n){var r=t[0],i=t[1],t=t[2],i=xa(i);r===o.userId&&s.isPrefixOf(i)?i.length===a&&(u=u.add(t)):n.done()}).next(function(){return o.Wt(t,u)})},ec.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(rc(e).get(t).next(function(t){if(null===t)throw Mr();Fr(t.userId===n.userId),r.push(Lu(n.R,t))}))}),tu.waitFor(i).next(function(){return r})},ec.prototype.removeMutationBatch=function(e,n){var r=this;return $u(e.Mt,this.userId,n).next(function(t){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),tu.forEach(t,function(t){return r.referenceDelegate.markPotentiallyOrphaned(e,t)})})},ec.prototype.Gt=function(t){delete this.Qt[t]},ec.prototype.performConsistencyCheck=function(e){var i=this;return this.checkEmpty(e).next(function(t){if(!t)return tu.resolve();var t=IDBKeyRange.lowerBound(Fa.prefixForUser(i.userId)),r=[];return ic(e).Ot({range:t},function(t,e,n){t[0]===i.userId?(t=xa(t[1]),r.push(t)):n.done()}).next(function(){Fr(0===r.length)})})},ec.prototype.containsKey=function(t,e){return nc(t,this.userId,e)},ec.prototype.zt=function(t){var e=this;return oc(t).get(this.userId).next(function(t){return t||new Pa(e.userId,-1,"")})},ec);function ec(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}function nc(t,o,e){var e=Fa.prefixForPath(o,e.path),s=e[1],e=IDBKeyRange.lowerBound(e),a=!1;return ic(t).Ot({range:e,kt:!0},function(t,e,n){var r=t[0],i=t[1];t[2],r===o&&i===s&&(a=!0),n.done()}).next(function(){return a})}function rc(t){return wu(t,Ma.store)}function ic(t){return wu(t,Fa.store)}function oc(t){return wu(t,Pa.store)}var sc=(cc.prototype.next=function(){return this.Ht+=2,this.Ht},cc.Jt=function(){return new cc(0)},cc.Yt=function(){return new cc(-1)},cc),ac=(uc.prototype.allocateTargetId=function(n){var r=this;return this.Xt(n).next(function(t){var e=new sc(t.highestTargetId);return t.highestTargetId=e.next(),r.Zt(n,t).next(function(){return t.highestTargetId})})},uc.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Gr.fromTimestamp(new Kr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},uc.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},uc.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.Xt(e).next(function(t){return t.highestListenSequenceNumber=n,r&&(t.lastRemoteSnapshotVersion=r.toTimestamp()),n>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=n),i.Zt(e,t)})},uc.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(t){return t.targetCount+=1,r.ee(n,t),r.Zt(e,t)})})},uc.prototype.updateTargetData=function(t,e){return this.te(t,e)},uc.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return hc(e).delete(t.targetId)}).next(function(){return n.Xt(e)}).next(function(t){return Fr(0<t.targetCount),--t.targetCount,n.Zt(e,t)})},uc.prototype.removeTargets=function(n,r,i){var o=this,s=0,a=[];return hc(n).Ot(function(t,e){e=Pu(e);e.sequenceNumber<=r&&null===i.get(e.targetId)&&(s++,a.push(o.removeTargetData(n,e)))}).next(function(){return tu.waitFor(a)}).next(function(){return s})},uc.prototype.forEachTarget=function(t,n){return hc(t).Ot(function(t,e){e=Pu(e);n(e)})},uc.prototype.Xt=function(t){return lc(t).get(Qa.key).next(function(t){return Fr(null!==t),t})},uc.prototype.Zt=function(t,e){return lc(t).put(Qa.key,e)},uc.prototype.te=function(t,e){return hc(t).put(Mu(this.R,e))},uc.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},uc.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},uc.prototype.getTargetData=function(t,r){var e=Fi(r),e=IDBKeyRange.bound([e,Number.NEGATIVE_INFINITY],[e,Number.POSITIVE_INFINITY]),i=null;return hc(t).Ot({range:e,index:Ka.queryTargetsIndexName},function(t,e,n){e=Pu(e);Vi(r,e.target)&&(i=e,n.done())}).next(function(){return i})},uc.prototype.addMatchingKeys=function(n,t,r){var i=this,o=[],s=fc(n);return t.forEach(function(t){var e=Ca(t.path);o.push(s.put(new Ga(r,e))),o.push(i.referenceDelegate.addReference(n,r,t))}),tu.waitFor(o)},uc.prototype.removeMatchingKeys=function(n,t,r){var i=this,o=fc(n);return tu.forEach(t,function(t){var e=Ca(t.path);return tu.waitFor([o.delete([r,e]),i.referenceDelegate.removeReference(n,r,t)])})},uc.prototype.removeMatchingKeysForTargetId=function(t,e){t=fc(t),e=IDBKeyRange.bound([e],[e+1],!1,!0);return t.delete(e)},uc.prototype.getMatchingKeysForTargetId=function(t,e){var e=IDBKeyRange.bound([e],[e+1],!1,!0),t=fc(t),r=Bs();return t.Ot({range:e,kt:!0},function(t,e,n){t=xa(t[1]),t=new mi(t);r=r.add(t)}).next(function(){return r})},uc.prototype.containsKey=function(t,e){var e=Ca(e.path),e=IDBKeyRange.bound([e],[jr(e)],!1,!0),i=0;return fc(t).Ot({index:Ga.documentTargetsIndex,kt:!0,range:e},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return 0<i})},uc.prototype.lt=function(t,e){return hc(t).get(e).next(function(t){return t?Pu(t):null})},uc);function uc(t,e){this.referenceDelegate=t,this.R=e}function cc(t){this.Ht=t}function hc(t){return wu(t,Ka.store)}function lc(t){return wu(t,Qa.store)}function fc(t){return wu(t,Ga.store)}function dc(e){return y(this,void 0,void 0,function(){return g(this,function(t){if(e.code!==Dr.FAILED_PRECONDITION||e.message!==$a)throw e;return xr("LocalStore","Unexpectedly lost primary lease"),[2]})})}function pc(t,e){var n=t[0],r=t[1],t=e[0],e=e[1],t=qr(n,t);return 0===t?qr(r,e):t}var yc=(Ec.prototype.ie=function(){return++this.se},Ec.prototype.re=function(t){var e=[t,this.ie()];this.buffer.size<this.ne?this.buffer=this.buffer.add(e):pc(e,t=this.buffer.last())<0&&(this.buffer=this.buffer.delete(t).add(e))},Object.defineProperty(Ec.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),Ec),gc=(Ic.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},Ic.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(Ic.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),Ic.prototype.ue=function(n){var t=this,e=this.oe?3e5:6e4;xr("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:this.ce=null,this.oe=!0,t.label=1;case 1:return t.trys.push([1,3,,7]),[4,n.collectGarbage(this.garbageCollector)];case 2:return t.sent(),[3,7];case 3:return lu(e=t.sent())?(xr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,dc(e)];case 5:t.sent(),t.label=6;case 6:return[3,7];case 7:return[4,this.ue(n)];case 8:return t.sent(),[2]}})})})},Ic),mc=(wc.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},wc.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return tu.resolve(_r.o);var r=new yc(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},wc.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},wc.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},wc.prototype.collect=function(e,n){var r=this;return-1===this.params.cacheSizeCollectionThreshold?(xr("LruGarbageCollector","Garbage collection skipped; disabled"),tu.resolve(Yu)):this.getCacheSize(e).next(function(t){return t<r.params.cacheSizeCollectionThreshold?(xr("LruGarbageCollector","Garbage collection skipped; Cache size "+t+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),Yu):r.fe(e,n)})},wc.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},wc.prototype.fe=function(e,n){var r,i,o,s,a,u,c,h=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return i=t>h.params.maximumSequenceNumbersToCollect?(xr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.maximumSequenceNumbersToCollect+" from "+t),h.params.maximumSequenceNumbersToCollect):t,s=Date.now(),h.nthSequenceNumber(e,i)}).next(function(t){return r=t,a=Date.now(),h.removeTargets(e,r,n)}).next(function(t){return o=t,u=Date.now(),h.removeOrphanedDocuments(e,r)}).next(function(t){return c=Date.now(),Rr()<=f.DEBUG&&xr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+i+" in "+(a-s)+"ms\n\tRemoved "+o+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-l)+"ms"),tu.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:t})})},wc),vc=(bc.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(e){return n.next(function(t){return e+t})})},bc.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},bc.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},bc.prototype.le=function(t,n){return this.we(t,function(t,e){return n(e)})},bc.prototype.addReference=function(t,e,n){return Tc(t,n)},bc.prototype.removeReference=function(t,e,n){return Tc(t,n)},bc.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},bc.prototype.markPotentiallyOrphaned=Tc,bc.prototype._e=function(t,e){return r=e,i=!1,oc(n=t).$t(function(t){return nc(n,t,r).next(function(t){return t&&(i=!0),tu.resolve(!t)})}).next(function(){return i});var n,r,i},bc.prototype.removeOrphanedDocuments=function(n,r){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(n,function(e,t){t<=r&&(t=i._e(n,e).next(function(t){if(!t)return a++,o.getEntry(n,e).next(function(){return o.removeEntry(e),fc(n).delete([0,Ca(e.path)])})}),s.push(t))}).next(function(){return tu.waitFor(s)}).next(function(){return o.apply(n)}).next(function(){return a})},bc.prototype.removeTarget=function(t,e){e=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,e)},bc.prototype.updateLimboDocument=Tc,bc.prototype.we=function(t,r){var i,t=fc(t),o=_r.o;return t.Ot({index:Ga.documentTargetsIndex},function(t,e){var n=t[0],t=(t[1],e.path),e=e.sequenceNumber;0===n?(o!==_r.o&&r(new mi(xa(i)),o),o=e,i=t):o=_r.o}).next(function(){o!==_r.o&&r(new mi(xa(i)),o)})},bc.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},bc);function bc(t,e){this.db=t,this.garbageCollector=new mc(this,e)}function wc(t,e){this.ae=t,this.params=e}function Ic(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}function Ec(t){this.ne=t,this.buffer=new Os(pc),this.se=0}function Tc(t,e){return fc(t).put((t=t.currentSequenceNumber,new Ga(0,Ca(e.path),t)))}var _c,Sc=(Rc.prototype.get=function(t){var e=this.mapKeyFn(t),e=this.inner[e];if(void 0!==e)for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],i=i[1];if(this.equalsFn(o,t))return i}},Rc.prototype.has=function(t){return void 0!==this.get(t)},Rc.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},Rc.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},Rc.prototype.forEach=function(s){Wr(this.inner,function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],i=i[1];s(o,i)}})},Rc.prototype.isEmpty=function(){return Yr(this.inner)},Rc),I=(Cc.prototype.getReadTime=function(t){t=this.changes.get(t);return t?t.readTime:Gr.min()},Cc.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},Cc.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Oi.newInvalidDocument(t),readTime:e})},Cc.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?tu.resolve(n.document):this.getFromCache(t,e)},Cc.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},Cc.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},Cc.prototype.assertNotApplied=function(){},Cc),Nc=(kc.prototype.addEntry=function(t,e,n){return Oc(t).put(Lc(e),n)},kc.prototype.removeEntry=function(t,e){t=Oc(t),e=Lc(e);return t.delete(e)},kc.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(t){return t.byteSize+=n,r.me(e,t)})},kc.prototype.getEntry=function(t,e){var n=this;return Oc(t).get(Lc(e)).next(function(t){return n.ye(e,t)})},kc.prototype.ge=function(t,e){var n=this;return Oc(t).get(Lc(e)).next(function(t){return{document:n.ye(e,t),size:Zu(t)}})},kc.prototype.getEntries=function(t,e){var n=this,r=Ps;return this.pe(t,e,function(t,e){e=n.ye(t,e);r=r.insert(t,e)}).next(function(){return r})},kc.prototype.Ee=function(t,e){var r=this,i=Ps,o=new Ns(mi.comparator);return this.pe(t,e,function(t,e){var n=r.ye(t,e);i=i.insert(t,n),o=o.insert(t,Zu(e))}).next(function(){return{documents:i,Te:o}})},kc.prototype.pe=function(t,e,i){if(e.isEmpty())return tu.resolve();var n=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),o=e.getIterator(),s=o.getNext();return Oc(t).Ot({range:n},function(t,e,n){for(var r=mi.fromSegments(t);s&&mi.comparator(s,r)<0;)i(s,null),s=o.getNext();s&&s.isEqual(r)&&(i(s,e),s=o.hasNext()?o.getNext():null),s?n.Ct(s.path.toArray()):n.done()}).next(function(){for(;s;)i(s,null),s=o.hasNext()?o.getNext():null})},kc.prototype.getDocumentsMatchingQuery=function(t,r,e){var n,i=this,o=Ps,s=r.path.length+1,a={};return e.isEqual(Gr.min())?(n=r.path.toArray(),a.range=IDBKeyRange.lowerBound(n)):(n=r.path.toArray(),e=Cu(e),a.range=IDBKeyRange.lowerBound([n,e],!0),a.index=Ba.collectionReadTimeIndex),Oc(t).Ot(a,function(t,e,n){t.length===s&&(e=Au(i.R,e),r.path.isPrefixOf(e.key.path)?Ro(r,e)&&(o=o.insert(e.key,e)):n.done())}).next(function(){return o})},kc.prototype.newChangeBuffer=function(t){return new Dc(this,!!t&&t.trackRemovals)},kc.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},kc.prototype.getMetadata=function(t){return xc(t).get(ja.key).next(function(t){return Fr(!!t),t})},kc.prototype.me=function(t,e){return xc(t).put(ja.key,e)},kc.prototype.ye=function(t,e){if(e){e=Au(this.R,e);if(!e.isNoDocument()||!e.version.isEqual(Gr.min()))return e}return Oi.newInvalidDocument(t)},kc),Dc=(n(Ac,_c=I),Ac.prototype.applyChanges=function(i){var o=this,s=[],a=0,u=new Os(function(t,e){return qr(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(t,e){var n,r=o.Ae.get(t);e.document.isValidDocument()?(n=ku(o.Ie.R,e.document,o.getReadTime(t)),u=u.add(t.path.popLast()),e=Zu(n),a+=e-r,s.push(o.Ie.addEntry(i,t,n))):(a-=r,o.trackRemovals?(r=ku(o.Ie.R,Oi.newNoDocument(t,Gr.min()),o.getReadTime(t)),s.push(o.Ie.addEntry(i,t,r))):s.push(o.Ie.removeEntry(i,t)))}),u.forEach(function(t){s.push(o.Ie.Ut.addToCollectionParentIndex(i,t))}),s.push(this.Ie.updateMetadata(i,a)),tu.waitFor(s)},Ac.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},Ac.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},Ac);function Ac(t,e){var n=this;return(n=_c.call(this)||this).Ie=t,n.trackRemovals=e,n.Ae=new Sc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),n}function kc(t,e){this.R=t,this.Ut=e}function Cc(){this.changes=new Sc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}function Rc(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}function xc(t){return wu(t,ja.store)}function Oc(t){return wu(t,Ba.store)}function Lc(t){return t.path.toArray()}var Pc=(Mc.prototype.Rt=function(e,n,t,r){var i=this;Fr(t<r&&0<=t&&r<=11);var o=new eu("createOrUpgrade",n);t<1&&1<=r&&(e.createObjectStore(Oa.store),(s=e).createObjectStore(Pa.store,{keyPath:Pa.keyPath}),s.createObjectStore(Ma.store,{keyPath:Ma.keyPath,autoIncrement:!0}).createIndex(Ma.userMutationsIndex,Ma.userMutationsKeyPath,{unique:!0}),s.createObjectStore(Fa.store),Fc(e),e.createObjectStore(Ba.store));var s,a=tu.resolve();return t<3&&3<=r&&(0!==t&&((s=e).deleteObjectStore(Ga.store),s.deleteObjectStore(Ka.store),s.deleteObjectStore(Qa.store),Fc(e)),a=a.next(function(){return t=o.store(Qa.store),e=new Qa(0,0,Gr.min().toTimestamp(),0),t.put(Qa.key,e);var t,e})),t<4&&4<=r&&(a=(a=0!==t?a.next(function(){return n=e,(r=o).store(Ma.store).Nt().next(function(t){n.deleteObjectStore(Ma.store),n.createObjectStore(Ma.store,{keyPath:Ma.keyPath,autoIncrement:!0}).createIndex(Ma.userMutationsIndex,Ma.userMutationsKeyPath,{unique:!0});var e=r.store(Ma.store),t=t.map(function(t){return e.put(t)});return tu.waitFor(t)});var n,r}):a).next(function(){e.createObjectStore(Ha.store,{keyPath:Ha.keyPath})})),t<5&&5<=r&&(a=a.next(function(){return i.Re(o)})),t<6&&6<=r&&(a=a.next(function(){return e.createObjectStore(ja.store),i.be(o)})),t<7&&7<=r&&(a=a.next(function(){return i.ve(o)})),t<8&&8<=r&&(a=a.next(function(){return i.Pe(e,o)})),t<9&&9<=r&&(a=a.next(function(){var t;(t=e).objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges"),(t=n.objectStore(Ba.store)).createIndex(Ba.readTimeIndex,Ba.readTimeIndexPath,{unique:!1}),t.createIndex(Ba.collectionReadTimeIndex,Ba.collectionReadTimeIndexPath,{unique:!1})})),t<10&&10<=r&&(a=a.next(function(){return i.Ve(o)})),a=t<11&&11<=r?a.next(function(){e.createObjectStore(Wa.store,{keyPath:Wa.keyPath}),e.createObjectStore(Ya.store,{keyPath:Ya.keyPath})}):a},Mc.prototype.be=function(e){var n=0;return e.store(Ba.store).Ot(function(t,e){n+=Zu(e)}).next(function(){var t=new ja(n);return e.store(ja.store).put(ja.key,t)})},Mc.prototype.Re=function(n){var r=this,t=n.store(Pa.store),i=n.store(Ma.store);return t.Nt().next(function(t){return tu.forEach(t,function(e){var t=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return i.Nt(Ma.userMutationsIndex,t).next(function(t){return tu.forEach(t,function(t){Fr(t.userId===e.userId);t=Lu(r.R,t);return $u(n,e.userId,t).next(function(){})})})})})},Mc.prototype.ve=function(t){var o=t.store(Ga.store),e=t.store(Ba.store);return t.store(Qa.store).get(Qa.key).next(function(r){var i=[];return e.Ot(function(t,e){var n=new $r(t),t=[0,Ca(n)];i.push(o.get(t).next(function(t){return t?tu.resolve():o.put(new Ga(0,Ca(n),r.highestListenSequenceNumber))}))}).next(function(){return tu.waitFor(i)})})},Mc.prototype.Pe=function(t,e){t.createObjectStore(za.store,{keyPath:za.keyPath});function r(t){if(i.add(t)){var e=t.lastSegment(),t=t.popLast();return n.put({collectionId:e,parent:Ca(t)})}}var n=e.store(za.store),i=new Ku;return e.store(Ba.store).Ot({kt:!0},function(t,e){t=new $r(t);return r(t.popLast())}).next(function(){return e.store(Fa.store).Ot({kt:!0},function(t,e){t[0];var n=t[1],n=(t[2],xa(n));return r(n.popLast())})})},Mc.prototype.Ve=function(t){var n=this,r=t.store(Ka.store);return r.Ot(function(t,e){e=Pu(e),e=Mu(n.R,e);return r.put(e)})},Mc);function Mc(t){this.R=t}function Fc(t){t.createObjectStore(Ga.store,{keyPath:Ga.keyPath}).createIndex(Ga.documentTargetsIndex,Ga.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ka.store,{keyPath:Ka.keyPath}).createIndex(Ka.queryTargetsIndexName,Ka.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Qa.store)}var Vc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Uc=(qc.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ar(Dr.FAILED_PRECONDITION,Vc);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new _r(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},qc.prototype.He=function(n){var t=this;return this.Me=function(e){return y(t,void 0,void 0,function(){return g(this,function(t){return this.started?[2,n(e)]:[2]})})},n(this.isPrimary)},qc.prototype.setDatabaseDeletedListener=function(n){var t=this;this.Be.vt(function(e){return y(t,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return null===e.newVersion?[4,n()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},qc.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return y(e,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},qc.prototype.je=function(){var n=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return jc(e).put(new Ha(n.clientId,Date.now(),n.networkEnabled,n.inForeground)).next(function(){if(n.isPrimary)return n.Je(e).next(function(t){t||(n.isPrimary=!1,n.Se.enqueueRetryable(function(){return n.Me(!1)}))})}).next(function(){return n.Ye(e)}).next(function(t){return n.isPrimary&&!t?n.Xe(e).next(function(){return!1}):!!t&&n.Ze(e).next(function(){return!0})})}).catch(function(t){if(lu(t))return xr("IndexedDbPersistence","Failed to extend owner lease: ",t),n.isPrimary;if(!n.allowTabSynchronization)throw t;return xr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){n.isPrimary!==t&&n.Se.enqueueRetryable(function(){return n.Me(t)}),n.isPrimary=t})},qc.prototype.Je=function(t){var e=this;return Bc(t).get(Oa.key).next(function(t){return tu.resolve(e.tn(t))})},qc.prototype.en=function(t){return jc(t).delete(this.clientId)},qc.prototype.nn=function(){return y(this,void 0,void 0,function(){var e,n,r,i,o=this;return g(this,function(t){switch(t.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var r=wu(t,Ha.store);return r.Nt().next(function(t){var e=o.rn(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)});return tu.forEach(n,function(t){return r.delete(t.clientId)}).next(function(){return n})})}).catch(function(){return[]})]);case 1:if(e=t.sent(),this.Ke)for(n=0,r=e;n<r.length;n++)i=r[n],this.Ke.removeItem(this.on(i.clientId));t.label=2;case 2:return[2]}})})},qc.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},qc.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},qc.prototype.Ye=function(e){var r=this;return this.Ce?tu.resolve(!0):Bc(e).get(Oa.key).next(function(t){if(null!==t&&r.sn(t.leaseTimestampMs,5e3)&&!r.cn(t.ownerId)){if(r.tn(t)&&r.networkEnabled)return!0;if(!r.tn(t)){if(!t.allowTabSynchronization)throw new Ar(Dr.FAILED_PRECONDITION,Vc);return!1}}return!(!r.networkEnabled||!r.inForeground)||jc(e).Nt().next(function(t){return void 0===r.rn(t,5e3).find(function(t){if(r.clientId!==t.clientId){var e=!r.networkEnabled&&t.networkEnabled,n=!r.inForeground&&t.inForeground,t=r.networkEnabled===t.networkEnabled;if(e||n&&t)return!0}return!1})})}).next(function(t){return r.isPrimary!==t&&xr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},qc.prototype.shutdown=function(){return y(this,void 0,void 0,function(){var n=this;return g(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Oa.store,Ha.store],function(t){var e=new vu(t,_r.o);return n.Xe(e).next(function(){return n.en(e)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},qc.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},qc.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return jc(t).Nt().next(function(t){return e.rn(t,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(qc.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),qc.prototype.getMutationQueue=function(t){return tc.Kt(t,this.R,this.Ut,this.referenceDelegate)},qc.prototype.getTargetCache=function(){return this.qe},qc.prototype.getRemoteDocumentCache=function(){return this.Ue},qc.prototype.getIndexManager=function(){return this.Ut},qc.prototype.getBundleCache=function(){return this.Qe},qc.prototype.runTransaction=function(e,n,r){var i=this;xr("IndexedDbPersistence","Starting transaction:",e);var o,t="readonly"===n?"readonly":"readwrite";return this.Be.runTransaction(e,t,Ja,function(t){return o=new vu(t,i.Ne?i.Ne.next():_r.o),"readwrite-primary"===n?i.Je(o).next(function(t){return!!t||i.Ye(o)}).next(function(t){if(!t)throw Or("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Ar(Dr.FAILED_PRECONDITION,$a);return r(o)}).next(function(t){return i.Ze(o).next(function(){return t})}):i.dn(o).next(function(){return r(o)})}).then(function(t){return o.raiseOnCommittedEvent(),t})},qc.prototype.dn=function(t){var e=this;return Bc(t).get(Oa.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ar(Dr.FAILED_PRECONDITION,Vc)})},qc.prototype.Ze=function(t){var e=new Oa(this.clientId,this.allowTabSynchronization,Date.now());return Bc(t).put(Oa.key,e)},qc.yt=function(){return nu.yt()},qc.prototype.Xe=function(t){var e=this,n=Bc(t);return n.get(Oa.key).next(function(t){return e.tn(t)?(xr("IndexedDbPersistence","Releasing primary lease."),n.delete(Oa.key)):tu.resolve()})},qc.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Or("Detected an update time that is in the future: "+t+" > "+n),1))},qc.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},qc.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},qc.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},qc.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},qc.prototype.cn=function(t){try{var e=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return xr("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return Or("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},qc.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Or("Failed to set zombie client id.",t)}},qc.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},qc.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},qc);function qc(t,e,n,r,i,o,s,a,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Se=i,this.window=o,this.document=s,this.De=u,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!qc.yt())throw new Ar(Dr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vc(this,r),this.Le=e+"main",this.R=new _u(a),this.Be=new nu(this.Le,11,new Pc(this.R)),this.qe=new ac(this.referenceDelegate,this.R),this.Ut=new Gu,this.Ue=(e=this.R,a=this.Ut,new Nc(e,a)),this.Qe=new Vu,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===c&&Or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function Bc(t){return wu(t,Oa.store)}function jc(t){return wu(t,Ha.store)}function Kc(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}function Gc(t,e){this.progress=t,this.wn=e}var Qc=($c.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(t){return r.yn(e,n,t)})},$c.prototype.yn=function(t,e,r){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,n=r;e<n.length;e++)n[e].applyToLocalView(t);return t})},$c.prototype.gn=function(t,i){t.forEach(function(t,e){for(var n=0,r=i;n<r.length;n++)r[n].applyToLocalView(e)})},$c.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next(function(t){return n.En(e,t).next(function(){return t})})},$c.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},$c.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,mi.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):_o(e)?this.In(t,e,n):this.An(t,e,n);var r},$c.prototype.Tn=function(t,e){return this.mn(t,new mi(e)).next(function(t){var e=Vs;return e=t.isFoundDocument()?e.insert(t.key,t):e})},$c.prototype.In=function(n,r,i){var o=this,s=r.collectionGroup,a=Vs;return this.Ut.getCollectionParents(n,s).next(function(t){return tu.forEach(t,function(t){var e,e=(e=r,t=t.child(s),new mo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt));return o.An(n,e,i).next(function(t){t.forEach(function(t,e){a=a.insert(t,e)})})}).next(function(){return a})})},$c.prototype.An=function(e,n,t){var c,h,r=this;return this.Ue.getDocumentsMatchingQuery(e,n,t).next(function(t){return c=t,r._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(t){return h=t,r.Rn(e,h,c).next(function(t){c=t;for(var e=0,n=h;e<n.length;e++)for(var r=n[e],i=0,o=r.mutations;i<o.length;i++){var s=o[i],a=s.key,u=c.get(a);null==u&&(u=Oi.newInvalidDocument(a),c=c.insert(a,u)),is(s,u,r.localWriteTime),u.isFoundDocument()||(c=c.remove(a))}})}).next(function(){return c.forEach(function(t,e){Ro(n,e)||(c=c.remove(t))}),c})},$c.prototype.Rn=function(t,e,n){for(var r=Bs(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof hs&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},$c),zc=(Jc.Pn=function(t,e){for(var n=Bs(),r=Bs(),i=0,o=e.docChanges;i<o.length;i++){var s=o[i];switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}}return new Jc(t,e.fromCache,n,r)},Jc),Hc=(Xc.prototype.Vn=function(t){this.Sn=t},Xc.prototype.getDocumentsMatchingQuery=function(e,r,i,o){var s=this;return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())||i.isEqual(Gr.min())?this.Dn(e,r):this.Sn.pn(e,o).next(function(t){var n=s.Cn(r,t);return(wo(r)||Io(r))&&s.Nn(r.limitType,n,o,i)?s.Dn(e,r):(Rr()<=f.DEBUG&&xr("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Co(r)),s.Sn.getDocumentsMatchingQuery(e,r,i).next(function(e){return n.forEach(function(t){e=e.insert(t.key,t)}),e}))})},Xc.prototype.Cn=function(n,t){var r=new Os(xo(n));return t.forEach(function(t,e){Ro(n,e)&&(r=r.add(e))}),r},Xc.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;e="F"===t?e.last():e.first();return!!e&&(e.hasPendingWrites||0<e.version.compareTo(r))},Xc.prototype.Dn=function(t,e){return Rr()<=f.DEBUG&&xr("QueryEngine","Using full collection scan to execute query:",Co(e)),this.Sn.getDocumentsMatchingQuery(t,e,Gr.min())},Xc),Wc=(Yc.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(t){return e.collect(t,n.Fn)})},Yc);function Yc(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Ns(qr),this.kn=new Sc(Fi,Vi),this.On=Gr.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Qc(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}function Xc(){}function Jc(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}function $c(t,e,n){this.Ue=t,this._n=e,this.Ut=n}function Zc(t,e,n,r){return new Wc(t,e,n,r)}function th(i,o){return y(this,void 0,void 0,function(){var e,n,v,r;return g(this,function(t){switch(t.label){case 0:return n=(e=i)._n,v=e.Mn,[4,e.persistence.runTransaction("Handle user change","readonly",function(g){var m;return e._n.getAllMutationBatches(g).next(function(t){return m=t,n=e.persistence.getMutationQueue(o),v=new Qc(e.$n,n,e.persistence.getIndexManager()),n.getAllMutationBatches(g)}).next(function(t){for(var e=[],n=[],r=Bs(),i=0,o=m;i<o.length;i++){var s=o[i];e.push(s.batchId);for(var a=0,u=s.mutations;a<u.length;a++)var c=u[a],r=r.add(c.key)}for(var h=0,l=t;h<l.length;h++){var f=l[h];n.push(f.batchId);for(var d=0,p=f.mutations;d<p.length;d++){var y=p[d];r=r.add(y.key)}}return v.pn(g,r).next(function(t){return{Ln:t,removedBatchIds:e,addedBatchIds:n}})})})];case 1:return r=t.sent(),[2,(e._n=n,e.Mn=v,e.xn.Vn(e.Mn),r)]}})})}function eh(t,h){var l=t;return l.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var e,r,i,o,s,n,a,u=h.batch.keys(),c=l.$n.newChangeBuffer({trackRemovals:!0});return e=l,r=t,o=c,s=(i=h).batch,n=s.keys(),a=tu.resolve(),n.forEach(function(n){a=a.next(function(){return o.getEntry(r,n)}).next(function(t){var e=i.docVersions.get(n);Fr(null!==e),t.version.compareTo(e)<0&&(s.applyToRemoteDocument(t,i),t.isValidDocument()&&o.addEntry(t,i.commitVersion))})}),a.next(function(){return e._n.removeMutationBatch(r,s)}).next(function(){return c.apply(t)}).next(function(){return l._n.performConsistencyCheck(t)}).next(function(){return l.Mn.pn(t,u)})})}function nh(t){var e=t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function rh(t,r){var u=t,c=r.snapshotVersion,h=u.Fn;return u.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var t=u.$n.newChangeBuffer({trackRemovals:!0});h=u.Fn;var a=[];r.targetChanges.forEach(function(t,e){var n,r,i,o=h.get(e);o&&(a.push(u.qe.removeMatchingKeys(s,t.removedDocuments,e).next(function(){return u.qe.addMatchingKeys(s,t.addedDocuments,e)})),0<(i=t.resumeToken).approximateByteSize()&&(n=o.withResumeToken(i,c).withSequenceNumber(s.currentSequenceNumber),h=h.insert(e,n),r=o,i=t,Fr(0<(o=n).resumeToken.approximateByteSize()),(0===r.resumeToken.approximateByteSize()||3e8<=o.snapshotVersion.toMicroseconds()-r.snapshotVersion.toMicroseconds()||0<i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size)&&a.push(u.qe.updateTargetData(s,n))))});var e,n=Ps;return r.documentUpdates.forEach(function(t,e){r.resolvedLimboDocuments.has(t)&&a.push(u.persistence.referenceDelegate.updateLimboDocument(s,t))}),a.push(ih(s,t,r.documentUpdates,c,void 0).next(function(t){n=t})),c.isEqual(Gr.min())||(e=u.qe.getLastRemoteSnapshotVersion(s).next(function(t){return u.qe.setTargetsMetadata(s,s.currentSequenceNumber,c)}),a.push(e)),tu.waitFor(a).next(function(){return t.apply(s)}).next(function(){return u.Mn.En(s,n)}).next(function(){return n})}).then(function(t){return u.Fn=h,t})}function ih(t,s,e,a,u){var n=Bs();return e.forEach(function(t){return n=n.add(t)}),s.getEntries(t,n).next(function(i){var o=Ps;return e.forEach(function(t,e){var n=i.get(t),r=(null==u?void 0:u.get(t))||a;e.isNoDocument()&&e.version.isEqual(Gr.min())?(s.removeEntry(t,r),o=o.insert(t,e)):!n.isValidDocument()||0<e.version.compareTo(n.version)||0===e.version.compareTo(n.version)&&n.hasPendingWrites?(s.addEntry(e,r),o=o.insert(t,e)):xr("LocalStore","Ignoring outdated watch update for ",t,". Current version:",n.version," Watch version:",e.version)}),o})}function oh(t,r){var i=t;return i.persistence.runTransaction("Allocate target","readwrite",function(e){var n;return i.qe.getTargetData(e,r).next(function(t){return t?(n=t,tu.resolve(n)):i.qe.allocateTargetId(e).next(function(t){return n=new Tu(r,t,0,e.currentSequenceNumber),i.qe.addTargetData(e,n).next(function(){return n})})})}).then(function(t){var e=i.Fn.get(t.targetId);return(null===e||0<t.snapshotVersion.compareTo(e.snapshotVersion))&&(i.Fn=i.Fn.insert(t.targetId,t),i.kn.set(r,t.targetId)),t})}function sh(i,o,s){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:n=(e=i).Fn.get(o),r=s?"readwrite":"readwrite-primary",t.label=1;case 1:return t.trys.push([1,4,,5]),s?[3,3]:[4,e.persistence.runTransaction("Release target",r,function(t){return e.persistence.referenceDelegate.removeTarget(t,n)})];case 2:t.sent(),t.label=3;case 3:return[3,5];case 4:if(!lu(r=t.sent()))throw r;return xr("LocalStore","Failed to update sequence numbers for target "+o+": "+r),[3,5];case 5:return e.Fn=e.Fn.remove(o),e.kn.delete(n.target),[2]}})})}function ah(t,o,s){var a=t,u=Gr.min(),c=Bs();return a.persistence.runTransaction("Execute query","readonly",function(e){return t=a,n=e,r=No(o),(void 0!==(t=(i=t).kn.get(r))?tu.resolve(i.Fn.get(t)):i.qe.getTargetData(n,r)).next(function(t){if(t)return u=t.lastLimboFreeSnapshotVersion,a.qe.getMatchingKeysForTargetId(e,t.targetId).next(function(t){c=t})}).next(function(){return a.xn.getDocumentsMatchingQuery(e,o,s?u:Gr.min(),s?c:Bs())}).next(function(t){return{documents:t,Bn:c}});var t,n,r,i})}function uh(t,e){var n=t,r=n.qe,t=n.Fn.get(e);return t?Promise.resolve(t.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function ch(t){var s=t;return s.persistence.runTransaction("Get new document changes","readonly",function(t){return e=s.$n,n=t,t=s.On,r=e,i=Ps,o=Cu(t),t=Oc(n),n=IDBKeyRange.lowerBound(o,!0),t.Ot({index:Ba.readTimeIndex,range:n},function(t,e){var n=Au(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Ru(o)}});var e,n,r,i,o}).then(function(t){var e=t.wn,t=t.readTime;return s.On=t,e})}function hh(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){return[2,(e=n).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return t=Oc(t),r=Gr.min(),t.Ot({index:Ba.readTimeIndex,reverse:!0},function(t,e,n){e.readTime&&(r=Ru(e.readTime)),n.done()}).next(function(){return r});var r}).then(function(t){e.On=t})]})})}var lh,fh,dh=(Lh.prototype.getBundleMetadata=function(t,e){return tu.resolve(this.Kn.get(e))},Lh.prototype.saveBundleMetadata=function(t,e){return this.Kn.set(e.id,{id:e.id,version:e.version,createTime:aa(e.createTime)}),tu.resolve()},Lh.prototype.getNamedQuery=function(t,e){return tu.resolve(this.jn.get(e))},Lh.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(e=e).name,query:Fu(e.bundledQuery),readTime:aa(e.readTime)}),tu.resolve()},Lh),ph=(Oh.prototype.isEmpty=function(){return this.Wn.isEmpty()},Oh.prototype.addReference=function(t,e){e=new yh(t,e);this.Wn=this.Wn.add(e),this.zn=this.zn.add(e)},Oh.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},Oh.prototype.removeReference=function(t,e){this.Yn(new yh(t,e))},Oh.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},Oh.prototype.Zn=function(t){var e=this,n=new mi(new $r([])),r=new yh(n,t),t=new yh(n,t+1),i=[];return this.zn.forEachInRange([r,t],function(t){e.Yn(t),i.push(t.key)}),i},Oh.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},Oh.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},Oh.prototype.es=function(t){var e=new mi(new $r([])),n=new yh(e,t),t=new yh(e,t+1),r=Bs();return this.zn.forEachInRange([n,t],function(t){r=r.add(t.key)}),r},Oh.prototype.containsKey=function(t){var e=new yh(t,0),e=this.Wn.firstAfterOrEqual(e);return null!==e&&t.isEqual(e.key)},Oh),yh=(xh.Gn=function(t,e){return mi.comparator(t.key,e.key)||qr(t.ns,e.ns)},xh.Hn=function(t,e){return qr(t.ns,e.ns)||mi.comparator(t.key,e.key)},xh),gh=(Rh.prototype.checkEmpty=function(t){return tu.resolve(0===this._n.length)},Rh.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,0<this._n.length&&this._n[this._n.length-1];n=new Iu(i,e,n,r);this._n.push(n);for(var o=0,s=r;o<s.length;o++){var a=s[o];this.rs=this.rs.add(new yh(a.key,i)),this.Ut.addToCollectionParentIndex(t,a.key.path.popLast())}return tu.resolve(n)},Rh.prototype.lookupMutationBatch=function(t,e){return tu.resolve(this.os(e))},Rh.prototype.getNextMutationBatchAfterBatchId=function(t,e){e+=1,e=this.cs(e),e=e<0?0:e;return tu.resolve(this._n.length>e?this._n[e]:null)},Rh.prototype.getHighestUnacknowledgedBatchId=function(){return tu.resolve(0===this._n.length?-1:this.ss-1)},Rh.prototype.getAllMutationBatches=function(t){return tu.resolve(this._n.slice())},Rh.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new yh(e,0),e=new yh(e,Number.POSITIVE_INFINITY),i=[];return this.rs.forEachInRange([r,e],function(t){t=n.os(t.ns);i.push(t)}),tu.resolve(i)},Rh.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Os(qr);return e.forEach(function(t){var e=new yh(t,0),t=new yh(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,t],function(t){r=r.add(t.ns)})}),tu.resolve(this.us(r))},Rh.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,e=n;mi.isDocumentKey(e)||(e=e.child(""));var e=new yh(new mi(e),0),i=new Os(qr);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(i=i.add(t.ns)),!0)},e),tu.resolve(this.us(i))},Rh.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){t=e.os(t);null!==t&&n.push(t)}),n},Rh.prototype.removeMutationBatch=function(n,r){var i=this;Fr(0===this.hs(r.batchId,"removed")),this._n.shift();var o=this.rs;return tu.forEach(r.mutations,function(t){var e=new yh(t.key,r.batchId);return o=o.delete(e),i.referenceDelegate.markPotentiallyOrphaned(n,t.key)}).next(function(){i.rs=o})},Rh.prototype.Gt=function(t){},Rh.prototype.containsKey=function(t,e){var n=new yh(e,0),n=this.rs.firstAfterOrEqual(n);return tu.resolve(e.isEqual(n&&n.key))},Rh.prototype.performConsistencyCheck=function(t){return this._n.length,tu.resolve()},Rh.prototype.hs=function(t,e){return this.cs(t)},Rh.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},Rh.prototype.os=function(t){t=this.cs(t);return t<0||t>=this._n.length?null:this._n[t]},Rh),mh=(Ch.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,i=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:i,readTime:n}),this.size+=i-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},Ch.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},Ch.prototype.getEntry=function(t,e){var n=this.docs.get(e);return tu.resolve(n?n.document.clone():Oi.newInvalidDocument(e))},Ch.prototype.getEntries=function(t,e){var n=this,r=Ps;return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Oi.newInvalidDocument(t))}),tu.resolve(r)},Ch.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Ps,i=new mi(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,s=u.document,u=u.readTime;if(!e.path.isPrefixOf(a.path))break;u.compareTo(n)<=0||Ro(e,s)&&(r=r.insert(s.key,s.clone()))}return tu.resolve(r)},Ch.prototype.fs=function(t,e){return tu.forEach(this.docs,function(t){return e(t)})},Ch.prototype.newChangeBuffer=function(t){return new vh(this)},Ch.prototype.getSize=function(t){return tu.resolve(this.size)},Ch),vh=(n(kh,fh=I),kh.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(t,e){e.document.isValidDocument()?i.push(r.Ie.addEntry(n,e.document,r.getReadTime(t))):r.Ie.removeEntry(t)}),tu.waitFor(i)},kh.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},kh.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},kh),bh=(Ah.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(t,e){return n(e)}),tu.resolve()},Ah.prototype.getLastRemoteSnapshotVersion=function(t){return tu.resolve(this.lastRemoteSnapshotVersion)},Ah.prototype.getHighestSequenceNumber=function(t){return tu.resolve(this.ws)},Ah.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),tu.resolve(this.highestTargetId)},Ah.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),tu.resolve()},Ah.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new sc(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},Ah.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,tu.resolve()},Ah.prototype.updateTargetData=function(t,e){return this.te(e),tu.resolve()},Ah.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),--this.targetCount,tu.resolve()},Ah.prototype.removeTargets=function(n,r,i){var o=this,s=0,a=[];return this.ds.forEach(function(t,e){e.sequenceNumber<=r&&null===i.get(e.targetId)&&(o.ds.delete(t),a.push(o.removeMatchingKeysForTargetId(n,e.targetId)),s++)}),tu.waitFor(a).next(function(){return s})},Ah.prototype.getTargetCount=function(t){return tu.resolve(this.targetCount)},Ah.prototype.getTargetData=function(t,e){e=this.ds.get(e)||null;return tu.resolve(e)},Ah.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),tu.resolve()},Ah.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),tu.waitFor(i)},Ah.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),tu.resolve()},Ah.prototype.getMatchingKeysForTargetId=function(t,e){e=this._s.es(e);return tu.resolve(e)},Ah.prototype.containsKey=function(t,e){return tu.resolve(this._s.containsKey(e))},Ah),wh=(Dh.prototype.start=function(){return Promise.resolve()},Dh.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(Dh.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),Dh.prototype.setDatabaseDeletedListener=function(){},Dh.prototype.setNetworkEnabled=function(){},Dh.prototype.getIndexManager=function(){return this.Ut},Dh.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new gh(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},Dh.prototype.getTargetCache=function(){return this.qe},Dh.prototype.getRemoteDocumentCache=function(){return this.Ue},Dh.prototype.getBundleCache=function(){return this.Qe},Dh.prototype.runTransaction=function(t,e,n){var r=this;xr("MemoryPersistence","Starting transaction:",t);var i=new Ih(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},Dh.prototype.Is=function(e,n){return tu.or(Object.values(this.gs).map(function(t){return function(){return t.containsKey(e,n)}}))},Dh),Ih=(n(Nh,lh=Te),Nh),Eh=(Sh.bs=function(t){return new Sh(t)},Object.defineProperty(Sh.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Mr()},enumerable:!1,configurable:!0}),Sh.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),tu.resolve()},Sh.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),tu.resolve()},Sh.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),tu.resolve()},Sh.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},Sh.prototype.Es=function(){this.Rs=new Set},Sh.prototype.Ts=function(n){var r=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tu.forEach(this.vs,function(t){var e=mi.fromPath(t);return r.Ps(n,e).next(function(t){t||i.removeEntry(e)})}).next(function(){return r.Rs=null,i.apply(n)})},Sh.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},Sh.prototype.ps=function(t){return 0},Sh.prototype.Ps=function(t,e){var n=this;return tu.or([function(){return tu.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},Sh),Th=(_h.prototype.isAuthenticated=function(){return null!=this.uid},_h.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},_h.prototype.isEqual=function(t){return t.uid===this.uid},_h);function _h(t){this.uid=t}function Sh(t){this.persistence=t,this.As=new ph,this.Rs=null}function Nh(t){var e=this;return(e=lh.call(this)||this).currentSequenceNumber=t,e}function Dh(t,e){var n=this;this.gs={},this.Ne=new _r(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new bh(this),this.Ut=new ju,this.Ue=(t=this.Ut,new mh(t,function(t){return n.referenceDelegate.ps(t)})),this.R=new _u(e),this.Qe=new dh(this.R)}function Ah(t){this.persistence=t,this.ds=new Sc(Fi,Vi),this.lastRemoteSnapshotVersion=Gr.min(),this.highestTargetId=0,this.ws=0,this._s=new ph,this.targetCount=0,this.ys=sc.Jt()}function kh(t){var e=this;return(e=fh.call(this)||this).Ie=t,e}function Ch(t,e){this.Ut=t,this.ls=e,this.docs=new Ns(mi.comparator),this.size=0}function Rh(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Os(yh.Gn)}function xh(t,e){this.key=t,this.ns=e}function Oh(){this.Wn=new Os(yh.Gn),this.zn=new Os(yh.Hn)}function Lh(t){this.R=t,this.Kn=new Map,this.jn=new Map}function Ph(t,e){return"firestore_clients_"+t+"_"+e}function Mh(t,e,n){n="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(n+="_"+e.uid),n}function Fh(t,e){return"firestore_targets_"+t+"_"+e}Th.UNAUTHENTICATED=new Th(null),Th.GOOGLE_CREDENTIALS=new Th("google-credentials-uid"),Th.FIRST_PARTY=new Th("first-party-uid");var Vh,Uh=(ul.Vs=function(t,e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ar(i.error.code,i.error.message)),o?new ul(t,e,i.state,r):(Or("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},ul.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},ul),qh=(al.Vs=function(t,e){var n,r=JSON.parse(e),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(n=new Ar(r.error.code,r.error.message)),i?new al(t,r.state,n):(Or("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},al.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},al),Bh=(sl.Vs=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=js,o=0;r&&o<n.activeTargetIds.length;++o)r=gi(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new sl(t,i):(Or("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},sl),jh=(ol.Vs=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new ol(e.clientId,e.onlineState):(Or("SharedClientState","Failed to parse online state: "+t),null)},ol),Kh=(il.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},il.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},il.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},il),Gh=(rl.yt=function(t){return!(!t||!t.localStorage)},rl.prototype.start=function(){return y(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c,h,l=this;return g(this,function(t){switch(t.label){case 0:return[4,this.syncEngine.fn()];case 1:for(s=t.sent(),e=0,n=s;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Ph(this.persistenceKey,r)))&&(o=Bh.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)h=c[u],this.Fs(h);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},rl.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},rl.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},rl.prototype.isActiveQueryTarget=function(n){var r=!1;return this.ks.forEach(function(t,e){e.activeTargetIds.has(n)&&(r=!0)}),r},rl.prototype.addPendingMutation=function(t){this.zs(t,"pending")},rl.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},rl.prototype.addLocalQueryTarget=function(t){var e,n="not-current";return this.isActiveQueryTarget(t)&&(!(e=this.storage.getItem(Fh(this.persistenceKey,t)))||(e=qh.Vs(t,e))&&(n=e.state)),this.Js.Ds(t),this.Ks(),n},rl.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},rl.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},rl.prototype.clearQueryState=function(t){this.removeItem(Fh(this.persistenceKey,t))},rl.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},rl.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},rl.prototype.setOnlineState=function(t){this.Xs(t)},rl.prototype.notifyBundleLoaded=function(){this.Zs()},rl.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},rl.prototype.getItem=function(t){var e=this.storage.getItem(t);return xr("SharedClientState","READ",t,e),e},rl.prototype.setItem=function(t,e){xr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},rl.prototype.removeItem=function(t){xr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},rl.prototype.Fs=function(t){var e=this,o=t;o.storageArea===this.storage&&(xr("SharedClientState","EVENT",o.key,o.newValue),o.key!==this.$s?this.Se.enqueueRetryable(function(){return y(e,void 0,void 0,function(){var e,n,r,i;return g(this,function(t){if(this.started){if(null!==o.key)if(this.Ls.test(o.key)){if(null==o.newValue)return e=this.ti(o.key),[2,this.ei(e,null)];if(e=this.ni(o.key,o.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(o.key)){if(null!==o.newValue&&(n=this.si(o.key,o.newValue)))return[2,this.ii(n)]}else if(this.qs.test(o.key)){if(null!==o.newValue&&(r=this.ri(o.key,o.newValue)))return[2,this.oi(r)]}else if(o.key===this.Us){if(null!==o.newValue&&(i=this.js(o.newValue)))return[2,this.Ws(i)]}else if(o.key===this.Ms)(i=function(t){var e=_r.o;if(null!=t)try{var n=JSON.parse(t);Fr("number"==typeof n),e=n}catch(t){Or("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(o.newValue))!==_r.o&&this.sequenceNumberHandler(i);else if(o.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(o);return[2]})})}):Or("Received WebStorage notification for local change. Another client might have garbage-collected our state"))},Object.defineProperty(rl.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),rl.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},rl.prototype.zs=function(t,e,n){n=new Uh(this.currentUser,t,e,n),t=Mh(this.persistenceKey,this.currentUser,t);this.setItem(t,n.Ss())},rl.prototype.Hs=function(t){t=Mh(this.persistenceKey,this.currentUser,t);this.removeItem(t)},rl.prototype.Xs=function(t){t={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(t))},rl.prototype.Ys=function(t,e,n){var r=Fh(this.persistenceKey,t),n=new qh(t,e,n);this.setItem(r,n.Ss())},rl.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},rl.prototype.ti=function(t){t=this.Ls.exec(t);return t?t[1]:null},rl.prototype.ni=function(t,e){t=this.ti(t);return Bh.Vs(t,e)},rl.prototype.si=function(t,e){var n=this.Bs.exec(t),t=Number(n[1]),n=void 0!==n[2]?n[2]:null;return Uh.Vs(new Th(n),t,e)},rl.prototype.ri=function(t,e){t=this.qs.exec(t),t=Number(t[1]);return qh.Vs(t,e)},rl.prototype.js=function(t){return jh.Vs(t)},rl.prototype.ii=function(e){return y(this,void 0,void 0,function(){return g(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(xr("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},rl.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},rl.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},rl.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},rl.prototype.Gs=function(t){var n=js;return t.forEach(function(t,e){n=n.unionWith(e.activeTargetIds)}),n},rl),Qh=(nl.prototype.addPendingMutation=function(t){},nl.prototype.updateMutationState=function(t,e,n){},nl.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},nl.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},nl.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},nl.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},nl.prototype.clearQueryState=function(t){delete this.fi[t]},nl.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},nl.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},nl.prototype.start=function(){return this.li=new Kh,Promise.resolve()},nl.prototype.handleUserChange=function(t,e,n){},nl.prototype.setOnlineState=function(t){},nl.prototype.shutdown=function(){},nl.prototype.writeSequenceNumber=function(t){},nl.prototype.notifyBundleLoaded=function(){},nl),zh=(el.prototype.di=function(t){},el.prototype.shutdown=function(){},el),Hh=(tl.prototype.di=function(t){this.gi.push(t)},tl.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},tl.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},tl.prototype._i=function(){xr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},tl.prototype.yi=function(){xr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},tl.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},tl),Wh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Yh=(Zh.prototype.Ii=function(t){this.Ai=t},Zh.prototype.Ri=function(t){this.bi=t},Zh.prototype.onMessage=function(t){this.vi=t},Zh.prototype.close=function(){this.Ti()},Zh.prototype.send=function(t){this.Ei(t)},Zh.prototype.Pi=function(){this.Ai()},Zh.prototype.Vi=function(t){this.bi(t)},Zh.prototype.Si=function(t){this.vi(t)},Zh),Xh=($h.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);xr("RestConnection","Sending: ",i,n);t={};return this.Fi(t,r),this.ki(e,i,t,n).then(function(t){return xr("RestConnection","Received: ",t),t},function(t){throw Lr("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t})},$h.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},$h.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},$h.prototype.xi=function(t,e){t=Wh[t];return this.Di+"/v1/"+e+":"+t},n(Jh,Vh=$h),Jh.prototype.ki=function(o,e,s,a){return new Promise(function(n,r){var i=new Tr;i.listenOnce(vr.COMPLETE,function(){try{switch(i.getLastErrorCode()){case mr.NO_ERROR:var t=i.getResponseJson();xr("Connection","XHR received:",JSON.stringify(t)),n(t);break;case mr.TIMEOUT:xr("Connection",'RPC "'+o+'" timed out'),r(new Ar(Dr.DEADLINE_EXCEEDED,"Request time out"));break;case mr.HTTP_ERROR:var e=i.getStatus();xr("Connection",'RPC "'+o+'" failed with status:',e,"response text:",i.getResponseText()),0<e?(t=i.getResponseJson().error)&&t.status&&t.message?(e=t.status.toLowerCase().replace(/_/g,"-"),e=0<=Object.values(Dr).indexOf(e)?e:Dr.UNKNOWN,r(new Ar(e,t.message))):r(new Ar(Dr.UNKNOWN,"Server responded with status "+i.getStatus())):r(new Ar(Dr.UNAVAILABLE,"Connection failed."));break;default:Mr()}}finally{xr("Connection",'RPC "'+o+'" completed.')}});var t=JSON.stringify(a);i.send(e,"POST",t,s,15)})},Jh.prototype.$i=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new lr,o=gr(),t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(t.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())||"object"==typeof navigator&&"ReactNative"===navigator.product||0<=h().indexOf("Electron/")||(0<=(n=h()).indexOf("MSIE ")||0<=n.indexOf("Trident/"))||0<=h().indexOf("MSAppHost/")||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(t.httpHeadersOverwriteParam="$httpHeaders");r=r.join("");xr("Connection","Creating WebChannel: "+r,t);var s=i.createWebChannel(r,t),a=!1,u=!1,c=new Yh({Ei:function(t){u?xr("Connection","Not sending because WebChannel is closed:",t):(a||(xr("Connection","Opening WebChannel transport."),s.open(),a=!0),xr("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),t=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return t(s,Er.EventType.OPEN,function(){u||xr("Connection","WebChannel transport opened.")}),t(s,Er.EventType.CLOSE,function(){u||(u=!0,xr("Connection","WebChannel transport closed"),c.Vi())}),t(s,Er.EventType.ERROR,function(t){u||(u=!0,Lr("Connection","WebChannel transport errored:",t),c.Vi(new Ar(Dr.UNAVAILABLE,"The operation could not be completed")))}),t(s,Er.EventType.MESSAGE,function(t){var e,n,r,i;u||(Fr(!!(e=t.data[0])),(n=e.error||(null===(i=e[0])||void 0===i?void 0:i.error))?(xr("Connection","WebChannel received error:",n),r=n.status,t=function(){var t=ms[r];if(void 0!==t)return Ss(t)}(),i=n.message,void 0===t&&(t=Dr.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),u=!0,c.Vi(new Ar(t,i)),s.close()):(xr("Connection","WebChannel received:",e),c.Si(e)))}),t(o,br.STAT_EVENT,function(t){t.stat===wr?xr("Connection","Detected buffering proxy"):t.stat===Ir&&xr("Connection","Detected no buffering proxy")}),setTimeout(function(){c.Pi()},0),c},Jh);function Jh(t){var e=this;return(e=Vh.call(this,t)||this).forceLongPolling=t.forceLongPolling,e.autoDetectLongPolling=t.autoDetectLongPolling,e}function $h(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}function Zh(t){this.Ei=t.Ei,this.Ti=t.Ti}function tl(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}function el(){}function nl(){this.li=new Kh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}function rl(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Ns(qr),this.started=!1,this.Os=[];n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Ph(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Kh),this.Ls=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Qs="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}function il(){this.activeTargetIds=js}function ol(t,e){this.clientId=t,this.onlineState=e}function sl(t,e){this.clientId=t,this.activeTargetIds=e}function al(t,e,n){this.targetId=t,this.state=e,this.error=n}function ul(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function cl(){return"undefined"!=typeof window?window:null}function hl(){return"undefined"!=typeof document?document:null}function ll(t){return new ia(t,!0)}function fl(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return y(o,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return Pl(this)?(xr("RemoteStore","Restarting streams for network reachability change."),[4,function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return(e=n).$r.add(4),[4,Al(e)];case 1:return t.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Dl(e)];case 2:return t.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new wl(n,r)}var dl,pl,yl,gl=(Nl.prototype.reset=function(){this.qi=0},Nl.prototype.Ki=function(){this.qi=this.Bi},Nl.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);0<i&&xr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},Nl.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},Nl.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},Nl.prototype.Wi=function(){return(Math.random()-.5)*this.qi},Nl),I=(Sl.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},Sl.prototype.er=function(){return 2===this.state},Sl.prototype.start=function(){3!==this.state?this.auth():this.nr()},Sl.prototype.stop=function(){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},Sl.prototype.sr=function(){this.state=0,this.Zi.reset()},Sl.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},Sl.prototype.cr=function(t){this.ur(),this.stream.send(t)},Sl.prototype.rr=function(){return y(this,void 0,void 0,function(){return g(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},Sl.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},Sl.prototype.close=function(e,n){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():n&&n.code===Dr.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):n&&n.code===Dr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return t.sent(),[2]}})})},Sl.prototype.ar=function(){},Sl.prototype.auth=function(){var n=this;this.state=1;var t=this.hr(this.Yi),e=this.Yi;this.Ji.getToken().then(function(t){n.Yi===e&&n.lr(t)},function(e){t(function(){var t=new Ar(Dr.UNKNOWN,"Fetching auth token failed: "+e.message);return n.dr(t)})})},Sl.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},Sl.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return y(t,void 0,void 0,function(){return g(this,function(t){return this.state=0,this.start(),[2]})})})},Sl.prototype.dr=function(t){return xr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},Sl.prototype.hr=function(e){var n=this;return function(t){n.Se.enqueueAndForget(function(){return n.Yi===e?t():(xr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},Sl),ml=(n(_l,yl=I),_l.prototype.wr=function(t){return this.Hi.$i("Listen",t)},_l.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){if("targetChange"in e){e.targetChange;var n="NO_CHANGE"===(o=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:Mr(),r=e.targetChange.targetIds||[],i=(s=e.targetChange.resumeToken,t.I?(Fr(void 0===s||"string"==typeof s),ni.fromBase64String(s||"")):(Fr(void 0===s||s instanceof Uint8Array),ni.fromUint8Array(s||new Uint8Array))),o=(a=e.targetChange.cause)&&(u=void 0===(c=a).code?Dr.UNKNOWN:Ss(c.code),new Ar(u,c.message||"")),s=new Hs(n,r,i,o||null)}else if("documentChange"in e){e.documentChange,(n=e.documentChange).document,n.document.name,n.document.updateTime;var r=la(t,n.document.name),i=aa(n.document.updateTime),a=new Ri({mapValue:{fields:n.document.fields}}),u=(o=Oi.newFoundDocument(r,i,a),n.targetIds||[]),c=n.removedTargetIds||[];s=new Qs(u,c,o.key,o)}else if("documentDelete"in e)e.documentDelete,(n=e.documentDelete).document,r=la(t,n.document),i=n.readTime?aa(n.readTime):Gr.min(),a=Oi.newNoDocument(r,i),o=n.removedTargetIds||[],s=new Qs([],o,a.key,a);else if("documentRemove"in e)e.documentRemove,(n=e.documentRemove).document,r=la(t,n.document),i=n.removedTargetIds||[],s=new Qs([],i,r,null);else{if(!("filter"in e))return Mr();e.filter;e=e.filter;e.targetId,n=e.count||0,r=new gs(n),i=e.targetId,s=new zs(i,r)}return s}(this.R,t),t=function(t){if(!("targetChange"in t))return Gr.min();t=t.targetChange;return(!t.targetIds||!t.targetIds.length)&&t.readTime?aa(t.readTime):Gr.min()}(t);return this.listener._r(e,t)},_l.prototype.mr=function(t){var e,n,r,i={};i.database=pa(this.R),i.addTarget=(e=this.R,(r=Ui(r=(n=t).target)?{documents:wa(e,r)}:{query:Ia(e,r)}).targetId=n.targetId,0<n.resumeToken.approximateByteSize()?r.resumeToken=sa(e,n.resumeToken):0<n.snapshotVersion.compareTo(Gr.min())&&(r.readTime=oa(e,n.snapshotVersion.toTimestamp())),r);var o,t=(this.R,o=t,null==(t=function(){switch(o.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mr()}}())?null:{"goog-listen-tags":t});t&&(i.labels=t),this.cr(i)},_l.prototype.yr=function(t){var e={};e.database=pa(this.R),e.removeTarget=t,this.cr(e)},_l),vl=(n(Tl,pl=I),Object.defineProperty(Tl.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),Tl.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,pl.prototype.start.call(this)},Tl.prototype.ar=function(){this.gr&&this.Er([])},Tl.prototype.wr=function(t){return this.Hi.$i("Write",t)},Tl.prototype.onMessage=function(t){if(Fr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(n=t.writeResults,r=t.commitTime,n&&0<n.length?(Fr(void 0!==r),n.map(function(t){return n=r,(t=(e=t).updateTime?aa(e.updateTime):aa(n)).isEqual(Gr.min())&&(t=aa(n)),new Zo(t,e.transformResults||[]);var e,n})):[]),n=aa(t.commitTime);return this.listener.Tr(n,e)}var n,r;return Fr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},Tl.prototype.Ar=function(){var t={};t.database=pa(this.R),this.cr(t)},Tl.prototype.Er=function(t){var e=this,t={streamToken:this.lastStreamToken,writes:t.map(function(t){return va(e.R,t)})};this.cr(t)},Tl),bl=(n(El,dl=function(){}),El.prototype.br=function(){if(this.Rr)throw new Ar(Dr.FAILED_PRECONDITION,"The client has already been terminated.")},El.prototype.Ni=function(e,n,r){var i=this;return this.br(),this.credentials.getToken().then(function(t){return i.Hi.Ni(e,n,r,t)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Dr.UNAUTHENTICATED&&i.credentials.invalidateToken(),t):new Ar(Dr.UNKNOWN,t.toString())})},El.prototype.Oi=function(e,n,r){var i=this;return this.br(),this.credentials.getToken().then(function(t){return i.Hi.Oi(e,n,r,t)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Dr.UNAUTHENTICATED&&i.credentials.invalidateToken(),t):new Ar(Dr.UNKNOWN,t.toString())})},El.prototype.terminate=function(){this.Rr=!0},El),wl=(Il.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},Il.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,1<=this.vr&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},Il.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},Il.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},Il.prototype.Cr=function(t){t="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Or(t),this.Vr=!1):xr("OnlineStateTracker",t)},Il.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},Il);function Il(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}function El(t,e,n){var r=this;return(r=dl.call(this)||this).credentials=t,r.Hi=e,r.R=n,r.Rr=!1,r}function Tl(t,e,n,r,i){var o=this;return(o=pl.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).R=r,o.gr=!1,o}function _l(t,e,n,r,i){var o=this;return(o=yl.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).R=r,o}function Sl(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new gl(t,e)}function Nl(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}function Dl(r){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:if(!Pl(r))return[3,4];e=0,n=r.Mr,t.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Al(r){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:e=0,n=r.Mr,t.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function kl(t,e){t.Or.has(e.targetId)||(t.Or.set(e.targetId,e),Ll(t)?Ol(t):Gl(t).er()&&Rl(t,e))}function Cl(t,e){var n=t,t=Gl(n);n.Or.delete(e),t.er()&&xl(n,e),0===n.Or.size&&(t.er()?t.ir():Pl(n)&&n.Br.set("Unknown"))}function Rl(t,e){t.qr.U(e.targetId),Gl(t).mr(e)}function xl(t,e){t.qr.U(e),Gl(t).yr(e)}function Ol(e){e.qr=new Ys({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),Gl(e).start(),e.Br.Sr()}function Ll(t){return Pl(t)&&!Gl(t).tr()&&0<t.Or.size}function Pl(t){return 0===t.$r.size}function Ml(t){t.qr=void 0}function Fl(s,a,u){return y(this,void 0,void 0,function(){var n,o;return g(this,function(t){switch(t.label){case 0:if(s.Br.set("Online"),!(a instanceof Hs&&2===a.state&&a.cause))return[3,6];t.label=1;case 1:return t.trys.push([1,3,,5]),[4,function(o,s){return y(this,void 0,void 0,function(){var e,n,r,i;return g(this,function(t){switch(t.label){case 0:e=s.cause,n=0,r=s.targetIds,t.label=1;case 1:return n<r.length?(i=r[n],o.Or.has(i)?[4,o.remoteSyncer.rejectListen(i,e)]:[3,3]):[3,5];case 2:t.sent(),o.Or.delete(i),o.qr.removeTarget(i),t.label=3;case 3:t.label=4;case 4:return n++,[3,1];case 5:return[2]}})})}(s,a)];case 2:return t.sent(),[3,5];case 3:return n=t.sent(),xr("RemoteStore","Failed to remove targets %s: %s ",a.targetIds.join(","),n),[4,Vl(s,n)];case 4:return t.sent(),[3,5];case 5:return[3,13];case 6:if(a instanceof Qs?s.qr.X(a):a instanceof zs?s.qr.rt(a):s.qr.et(a),u.isEqual(Gr.min()))return[3,13];t.label=7;case 7:return t.trys.push([7,11,,13]),[4,nh(s.localStore)];case 8:return o=t.sent(),0<=u.compareTo(o)?[4,(i=u,(e=(r=s).qr.ut(i)).targetChanges.forEach(function(t,e){var n;0<t.resumeToken.approximateByteSize()&&((n=r.Or.get(e))&&r.Or.set(e,n.withResumeToken(t.resumeToken,i)))}),e.targetMismatches.forEach(function(t){var e=r.Or.get(t);e&&(r.Or.set(t,e.withResumeToken(ni.EMPTY_BYTE_STRING,e.snapshotVersion)),xl(r,t),e=new Tu(e.target,t,1,e.sequenceNumber),Rl(r,e))}),r.remoteSyncer.applyRemoteEvent(e))]:[3,10];case 9:t.sent(),t.label=10;case 10:return[3,13];case 11:return xr("RemoteStore","Failed to raise snapshot:",o=t.sent()),[4,Vl(s,o)];case 12:return t.sent(),[3,13];case 13:return[2]}var r,i,e})})}function Vl(n,r,i){return y(this,void 0,void 0,function(){var e=this;return g(this,function(t){switch(t.label){case 0:if(!lu(r))throw r;return n.$r.add(1),[4,Al(n)];case 1:return t.sent(),n.Br.set("Offline"),i=i||function(){return nh(n.localStore)},n.asyncQueue.enqueueRetryable(function(){return y(e,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return xr("RemoteStore","Retrying IndexedDB access"),[4,i()];case 1:return t.sent(),n.$r.delete(1),[4,Dl(n)];case 2:return t.sent(),[2]}})})}),[2]}})})}function Ul(e,n){return n().catch(function(t){return Vl(e,t,n)})}function ql(u){return y(this,void 0,void 0,function(){var i,o,s,a;return g(this,function(t){switch(t.label){case 0:o=Ql(i=u),s=0<i.kr.length?i.kr[i.kr.length-1].batchId:-1,t.label=1;case 1:if(!(Pl(i)&&i.kr.length<10))return[3,7];t.label=2;case 2:return t.trys.push([2,4,,6]),[4,(e=i.localStore,n=s,(r=e).persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===n&&(n=-1),r._n.getNextMutationBatchAfterBatchId(t,n)}))];case 3:return null===(a=t.sent())?(0===i.kr.length&&o.ir(),[3,7]):(s=a.batchId,function(t,e){t.kr.push(e);t=Ql(t);t.er()&&t.pr&&t.Er(e.mutations)}(i,a),[3,6]);case 4:return a=t.sent(),[4,Vl(i,a)];case 5:return t.sent(),[3,6];case 6:return[3,1];case 7:return Bl(i)&&jl(i),[2]}var e,n,r})})}function Bl(t){return Pl(t)&&!Ql(t).tr()&&0<t.kr.length}function jl(t){Ql(t).start()}function Kl(n,r){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=n,r?(e.$r.delete(2),[4,Dl(e)]):[3,2];case 1:return t.sent(),[3,5];case 2:return r?[3,4]:(e.$r.add(2),[4,Al(e)]);case 3:t.sent(),e.Br.set("Unknown"),t.label=4;case 4:t.label=5;case 5:return[2]}})})}function Gl(n){var t,e,r,i=this;return n.Ur||(n.Ur=(t=n.datastore,e=n.asyncQueue,r={Ii:function(n){return y(this,void 0,void 0,function(){return g(this,function(t){return n.Or.forEach(function(t,e){Rl(n,t)}),[2]})})}.bind(null,n),Ri:function(e,n){return y(this,void 0,void 0,function(){return g(this,function(t){return Ml(e),Ll(e)?(e.Br.Nr(n),Ol(e)):e.Br.set("Unknown"),[2]})})}.bind(null,n),_r:Fl.bind(null,n)},t.br(),new ml(e,t.Hi,t.credentials,t.R,r)),n.Mr.push(function(e){return y(i,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return e?(n.Ur.sr(),Ll(n)?Ol(n):n.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,n.Ur.stop()];case 2:t.sent(),Ml(n),t.label=3;case 3:return[2]}})})})),n.Ur}function Ql(n){var t,e,r,i=this;return n.Qr||(n.Qr=(t=n.datastore,e=n.asyncQueue,r={Ii:function(e){return y(this,void 0,void 0,function(){return g(this,function(t){return Ql(e).Ar(),[2]})})}.bind(null,n),Ri:function(e,n){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return n&&Ql(e).pr?[4,function(r,i){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return _s(n=i.code)&&n!==Dr.ABORTED?(e=r.kr.shift(),Ql(r).sr(),[4,Ul(r,function(){return r.remoteSyncer.rejectFailedWrite(e.batchId,i)})]):[3,3];case 1:return t.sent(),[4,ql(r)];case 2:t.sent(),t.label=3;case 3:return[2]}})})}(e,n)]:[3,2];case 1:t.sent(),t.label=2;case 2:return Bl(e)&&jl(e),[2]}})})}.bind(null,n),Ir:function(o){return y(this,void 0,void 0,function(){var e,n,r,i;return g(this,function(t){for(e=Ql(o),n=0,r=o.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}.bind(null,n),Tr:function(r,i,o){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return e=r.kr.shift(),n=Eu.from(e,i,o),[4,Ul(r,function(){return r.remoteSyncer.applySuccessfulWrite(n)})];case 1:return t.sent(),[4,ql(r)];case 2:return t.sent(),[2]}})})}.bind(null,n)},t.br(),new vl(e,t.Hi,t.credentials,t.R,r)),n.Mr.push(function(e){return y(i,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return e?(n.Qr.sr(),[4,ql(n)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,n.Qr.stop()];case 3:t.sent(),0<n.kr.length&&(xr("RemoteStore","Stopping write stream with "+n.kr.length+" pending writes"),n.kr=[]),t.label=4;case 4:return[2]}})})})),n.Qr}var zl=(Hl.createAndSchedule=function(t,e,n,r,i){i=new Hl(t,e,Date.now()+n,r,i);return i.start(n),i},Hl.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},Hl.prototype.skipDelay=function(){return this.handleDelayElapsed()},Hl.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ar(Dr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},Hl.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},Hl.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},Hl);function Hl(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}function Wl(t,e){if(Or("AsyncQueue",e+": "+t),lu(t))return new Ar(Dr.UNAVAILABLE,e+": "+t);throw t}function Yl(){this.queries=new Sc(ko,Ao),this.onlineState="Unknown",this.Gr=new Set}var Xl=(nf.emptySet=function(t){return new nf(t.comparator)},nf.prototype.has=function(t){return null!=this.keyedMap.get(t)},nf.prototype.get=function(t){return this.keyedMap.get(t)},nf.prototype.first=function(){return this.sortedSet.minKey()},nf.prototype.last=function(){return this.sortedSet.maxKey()},nf.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},nf.prototype.indexOf=function(t){t=this.keyedMap.get(t);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(nf.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),nf.prototype.forEach=function(n){this.sortedSet.inorderTraversal(function(t,e){return n(t),!1})},nf.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},nf.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},nf.prototype.isEqual=function(t){if(!(t instanceof nf))return!1;if(this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},nf.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},nf.prototype.copy=function(t,e){var n=new nf;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n},nf),Jl=(ef.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);!n||0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Mr()},ef.prototype.jr=function(){var n=[];return this.Kr.inorderTraversal(function(t,e){n.push(e)}),n},ef),$l=(tf.fromInitialDocuments=function(t,e,n,r){var i=[];return e.forEach(function(t){i.push({type:0,doc:t})}),new tf(t,e,Xl.emptySet(e),i,n,r,!0,!1)},Object.defineProperty(tf.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),tf.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ao(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},tf),Zl=function(){this.Wr=void 0,this.listeners=[]};function tf(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}function ef(){this.Kr=new Ns(mi.comparator)}function nf(n){this.comparator=n?function(t,e){return n(t,e)||mi.comparator(t.key,e.key)}:function(t,e){return mi.comparator(t.key,e.key)},this.keyedMap=Vs,this.sortedSet=new Ns(this.comparator)}function rf(s,a){return y(this,void 0,void 0,function(){var e,n,r,i,o;return g(this,function(t){switch(t.label){case 0:if(e=s,n=a.query,r=!1,(i=e.queries.get(n))||(r=!0,i=new Zl),!r)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),o=i,[4,e.onListen(n)];case 2:return o.Wr=t.sent(),[3,4];case 3:return o=t.sent(),o=Wl(o,"Initialization of query '"+Co(a.query)+"' failed"),[2,void a.onError(o)];case 4:return e.queries.set(n,i),i.listeners.push(a),a.zr(e.onlineState),i.Wr&&a.Hr(i.Wr)&&sf(e),[2]}})})}function of(s,a){return y(this,void 0,void 0,function(){var e,n,r,i,o;return g(this,function(t){return e=s,n=a.query,r=!1,(i=e.queries.get(n))&&0<=(o=i.listeners.indexOf(a))&&(i.listeners.splice(o,1),r=0===i.listeners.length),r?[2,(e.queries.delete(n),e.onUnlisten(n))]:[2]})})}function sf(t){t.Gr.forEach(function(t){t.next()})}var af=(pf.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new $l(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},pf.prototype.onError=function(t){this.Jr.error(t)},pf.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},pf.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},pf.prototype.Zr=function(t){if(0<t.docChanges.length)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},pf.prototype.no=function(t){t=$l.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},pf),uf=(df.prototype.io=function(){return"metadata"in this.payload},df),cf=(ff.prototype.qn=function(t){return la(this.R,t)},ff.prototype.Un=function(t){return t.metadata.exists?ma(this.R,t.document,!1):Oi.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},ff.prototype.Qn=aa,ff),hf=(lf.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},lf.prototype.co=function(t){for(var e=new Map,n=new cf(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],h=(e.get(c)||Bs()).add(s);e.set(c,h)}}return e},lf.prototype.complete=function(){return y(this,void 0,void 0,function(){var e,n,r,i;return g(this,function(t){switch(t.label){case 0:return[4,function(l,f,d,p){return y(this,void 0,void 0,function(){var n,r,i,o,e,s,a,u,c,h;return g(this,function(t){switch(t.label){case 0:for(n=l,r=Bs(),i=Ps,o=Us,e=0,s=d;e<s.length;e++)a=s[e],u=f.qn(a.metadata.name),a.document&&(r=r.add(u)),i=i.insert(u,f.Un(a)),o=o.insert(u,f.Qn(a.metadata.readTime));return c=n.$n.newChangeBuffer({trackRemovals:!0}),[4,oh(n,No(bo($r.fromString("__bundle__/docs/"+p))))];case 1:return h=t.sent(),[2,n.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return ih(e,c,i,Gr.min(),o).next(function(t){return c.apply(e),t}).next(function(t){return n.qe.removeMatchingKeysForTargetId(e,h.targetId).next(function(){return n.qe.addMatchingKeys(e,r,h.targetId)}).next(function(){return n.Mn.En(e,t)}).next(function(){return t})})})]}})})}(this.localStore,new cf(this.R),this.documents,this.ro.id)];case 1:e=t.sent(),n=this.co(this.documents),r=0,i=this.queries,t.label=2;case 2:return r<i.length?(i=i[r],[4,function(e,i,o){return void 0===o&&(o=Bs()),y(this,void 0,void 0,function(){var n,r;return g(this,function(t){switch(t.label){case 0:return[4,oh(e,No(Fu(i.bundledQuery)))];case 1:return n=t.sent(),[2,(r=e).persistence.runTransaction("Save named query","readwrite",function(t){var e=aa(i.readTime);if(0<=n.snapshotVersion.compareTo(e))return r.Qe.saveNamedQuery(t,i);e=n.withResumeToken(ni.EMPTY_BYTE_STRING,e);return r.Fn=r.Fn.insert(e.targetId,e),r.qe.updateTargetData(t,e).next(function(){return r.qe.removeMatchingKeysForTargetId(t,n.targetId)}).next(function(){return r.qe.addMatchingKeys(t,o,n.targetId)}).next(function(){return r.Qe.saveNamedQuery(t,i)})})]}})})}(this.localStore,i,n.get(i.name))]):[3,5];case 3:t.sent(),t.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Gc(Object.assign({},this.progress),e))]}})})},lf);function lf(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=yf(t)}function ff(t){this.R=t}function df(t,e){this.payload=t,this.byteLength=e}function pf(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}function yf(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var gf=function(t){this.key=t},mf=function(t){this.key=t},vf=(Object.defineProperty(Tf.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),Tf.prototype._o=function(t,e){var s=this,a=e?e.mo:new Jl,u=(e||this).fo,c=(e||this).mutatedKeys,h=u,l=!1,f=wo(this.query)&&u.size===this.query.limit?u.last():null,d=Io(this.query)&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal(function(t,e){var n=u.get(t),r=Ro(s.query,e)?e:null,i=!!n&&s.mutatedKeys.has(n.key),o=!!r&&(r.hasLocalMutations||s.mutatedKeys.has(r.key)&&r.hasCommittedMutations),e=!1;n&&r?n.data.isEqual(r.data)?i!==o&&(a.track({type:3,doc:r}),e=!0):s.yo(n,r)||(a.track({type:2,doc:r}),e=!0,(f&&0<s.lo(r,f)||d&&s.lo(r,d)<0)&&(l=!0)):!n&&r?(a.track({type:0,doc:r}),e=!0):n&&!r&&(a.track({type:1,doc:n}),e=!0,(f||d)&&(l=!0)),e&&(c=r?(h=h.add(r),o?c.add(t):c.delete(t)):(h=h.delete(t),c.delete(t)))}),wo(this.query)||Io(this.query))for(;h.size>this.query.limit;){var n=wo(this.query)?h.last():h.first(),h=h.delete(n.key),c=c.delete(n.key);a.track({type:1,doc:n})}return{fo:h,mo:a,Nn:l,mutatedKeys:c}},Tf.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},Tf.prototype.applyChanges=function(t,e,n){var o=this,r=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var i=t.mo.jr();i.sort(function(t,e){return r=t.type,i=e.type,n(r)-n(i)||o.lo(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mr()}}var r,i}),this.po(n);var s=e?this.Eo():[],n=0===this.ho.size&&this.current?1:0,e=n!==this.ao;return this.ao=n,0!==i.length||e?{snapshot:new $l(this.query,t.fo,r,i,t.mutatedKeys,0==n,e,!1),To:s}:{To:s}},Tf.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Jl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},Tf.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},Tf.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},Tf.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=Bs(),this.fo.forEach(function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))});var r=[];return n.forEach(function(t){e.ho.has(t)||r.push(new mf(t))}),this.ho.forEach(function(t){n.has(t)||r.push(new gf(t))}),r},Tf.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Bs();t=this._o(t.documents);return this.applyChanges(t,!0)},Tf.prototype.Ro=function(){return $l.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},Tf),bf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},wf=function(t){this.key=t,this.bo=!1},If=(Object.defineProperty(Ef.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),Ef);function Ef(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Sc(ko,Ao),this.Vo=new Map,this.So=new Set,this.Do=new Ns(mi.comparator),this.Co=new Map,this.No=new ph,this.xo={},this.Fo=new Map,this.ko=sc.Yt(),this.onlineState="Unknown",this.Oo=void 0}function Tf(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Bs(),this.mutatedKeys=Bs(),this.lo=xo(t),this.fo=new Xl(this.lo)}function _f(i,o,s,a){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return i.$o=function(t,e,n){return function(r,i,o,s){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return(e=i.view._o(o)).Nn?[4,ah(r.localStore,i.query,!1).then(function(t){t=t.documents;return i.view._o(t,e)})]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return n=s&&s.targetChanges.get(i.targetId),n=i.view.applyChanges(e,r.isPrimaryClient,n),[2,(Lf(r,i.targetId,n.To),n.snapshot)]}})})}(i,t,e,n)},[4,ah(i.localStore,o,!0)];case 1:return n=t.sent(),r=new vf(o,n.Bn),e=r._o(n.documents),n=Gs.createSynthesizedTargetChangeForCurrentChange(s,a&&"Offline"!==i.onlineState),n=r.applyChanges(e,i.isPrimaryClient,n),Lf(i,s,n.To),r=new bf(o,s,r),[2,(i.Po.set(o,r),i.Vo.has(s)?i.Vo.get(s).push(o):i.Vo.set(s,[o]),n.snapshot)]}})})}function Sf(f,d,p){return y(this,void 0,void 0,function(){var s,l;return g(this,function(t){switch(t.label){case 0:l=Kf(f),t.label=1;case 1:return t.trys.push([1,5,,6]),[4,(i=l.localStore,a=d,c=i,h=Kr.now(),o=a.reduce(function(t,e){return t.add(e.key)},Bs()),c.persistence.runTransaction("Locally write mutations","readwrite",function(s){return c.Mn.pn(s,o).next(function(t){u=t;for(var e=[],n=0,r=a;n<r.length;n++){var i=r[n],o=function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),s=Mo(o.transform,s||null);null!=s&&(n=null==n?Ri.empty():n).set(o.field,s)}return n||null}(i,u.get(i.key));null!=o&&e.push(new hs(i.key,o,function s(t){var a=[];return Wr(t.fields||{},function(t,e){var n=new ti([t]);if(Ci(e))if(0===(e=s(e.mapValue).fields).length)a.push(n);else for(var r=0,i=e;r<i.length;r++){var o=i[r];a.push(n.child(o))}else a.push(n)}),new ei(a)}(o.toProto().mapValue),es.exists(!0)))}return c._n.addMutationBatch(s,h,e,a)})}).then(function(t){return t.applyToLocalDocumentSet(u),{batchId:t.batchId,changes:u}}))];case 2:return s=t.sent(),l.sharedClientState.addPendingMutation(s.batchId),e=l,n=s.batchId,r=p,i=(i=(i=e.xo[e.currentUser.toKey()])||new Ns(qr)).insert(n,r),e.xo[e.currentUser.toKey()]=i,[4,Mf(l,s.changes)];case 3:return t.sent(),[4,ql(l.remoteStore)];case 4:return t.sent(),[3,6];case 5:return l=t.sent(),l=Wl(l,"Failed to persist write"),p.reject(l),[3,6];case 6:return[2]}var e,n,r,i,a,u,c,h,o})})}function Nf(r,i){return y(this,void 0,void 0,function(){var n,e;return g(this,function(t){switch(t.label){case 0:n=r,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,rh(n.localStore,i)];case 2:return e=t.sent(),i.targetChanges.forEach(function(t,e){e=n.Co.get(e);e&&(Fr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),0<t.addedDocuments.size?e.bo=!0:0<t.modifiedDocuments.size?Fr(e.bo):0<t.removedDocuments.size&&(Fr(e.bo),e.bo=!1))}),[4,Mf(n,e,i)];case 3:return t.sent(),[3,6];case 4:return[4,dc(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})}function Df(t,n,e){var r,t=t;(t.isPrimaryClient&&0===e||!t.isPrimaryClient&&1===e)&&(r=[],t.Po.forEach(function(t,e){e=e.view.zr(n);e.snapshot&&r.push(e.snapshot)}),function(t,i){t.onlineState=i;var o=!1;t.queries.forEach(function(t,e){for(var n=0,r=e.listeners;n<r.length;n++)r[n].zr(i)&&(o=!0)}),o&&sf(t)}(t.eventManager,n),r.length&&t.vo._r(r),t.onlineState=n,t.isPrimaryClient&&t.sharedClientState.setOnlineState(n))}function Af(s,a,u){return y(this,void 0,void 0,function(){var n,o;return g(this,function(t){switch(t.label){case 0:n=s,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,(e=n.localStore,r=a,(i=e).persistence.runTransaction("Reject batch","readwrite-primary",function(e){var n;return i._n.lookupMutationBatch(e,r).next(function(t){return Fr(null!==t),n=t.keys(),i._n.removeMutationBatch(e,t)}).next(function(){return i._n.performConsistencyCheck(e)}).next(function(){return i.Mn.pn(e,n)})}))];case 2:return o=t.sent(),Rf(n,a,u),Cf(n,a),n.sharedClientState.updateMutationState(a,"rejected",u),[4,Mf(n,o)];case 3:return t.sent(),[3,6];case 4:return[4,dc(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}var e,r,i})})}function kf(o,s){return y(this,void 0,void 0,function(){var n,r,i;return g(this,function(t){switch(t.label){case 0:Pl((n=o).remoteStore)||xr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(e=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})];case 2:return-1===(r=t.sent())?[2,void s.resolve()]:((i=n.Fo.get(r)||[]).push(s),n.Fo.set(r,i),[3,4]);case 3:return i=t.sent(),i=Wl(i,"Initialization of waitForPendingWrites() operation failed"),s.reject(i),[3,4];case 4:return[2]}var e})})}function Cf(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Rf(t,e,n){var r=t,i=r.xo[r.currentUser.toKey()];i&&((t=i.get(e))&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i)}function xf(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(t){e.No.containsKey(t)||Of(e,t)})}function Of(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Cl(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Pf(t))}function Lf(t,e,n){for(var r,i,o,s=0,a=n;s<a.length;s++){var u=a[s];u instanceof gf?(t.No.addReference(u.key,e),r=t,o=void 0,i=(o=(i=u).key).path.canonicalString(),r.Do.get(o)||r.So.has(i)||(xr("SyncEngine","New document in limbo: "+o),r.So.add(i),Pf(r))):u instanceof mf?(xr("SyncEngine","Document no longer in limbo: "+u.key),t.No.removeReference(u.key,e),t.No.containsKey(u.key)||Of(t,u.key)):Mr()}}function Pf(t){for(;0<t.So.size&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new mi($r.fromString(e)),e=t.ko.next();t.Co.set(e,new wf(n)),t.Do=t.Do.insert(n,e),kl(t.remoteStore,new Tu(No(bo(n.path)),e,2,_r.o))}}function Mf(e,s,a){return y(this,void 0,void 0,function(){var n,r,i,o;return g(this,function(t){switch(t.label){case 0:return r=[],i=[],o=[],(n=e).Po.isEmpty()?[3,3]:(n.Po.forEach(function(t,e){o.push(n.$o(e,s,a).then(function(t){t&&(n.isPrimaryClient&&n.sharedClientState.updateQueryState(e.targetId,t.fromCache?"not-current":"current"),r.push(t),t=zc.Pn(e.targetId,t),i.push(t))}))}),[4,Promise.all(o)]);case 1:return t.sent(),n.vo._r(r),[4,function(u,c){return y(this,void 0,void 0,function(){var r,e,n,i,o,s,a;return g(this,function(t){switch(t.label){case 0:r=u,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return tu.forEach(c,function(e){return tu.forEach(e.bn,function(t){return r.persistence.referenceDelegate.addReference(n,e.targetId,t)}).next(function(){return tu.forEach(e.vn,function(t){return r.persistence.referenceDelegate.removeReference(n,e.targetId,t)})})})})];case 2:return t.sent(),[3,4];case 3:if(!lu(e=t.sent()))throw e;return xr("LocalStore","Failed to update sequence numbers: "+e),[3,4];case 4:for(n=0,i=c;n<i.length;n++)a=i[n],o=a.targetId,a.fromCache||(s=r.Fn.get(o),a=s.snapshotVersion,a=s.withLastLimboFreeSnapshotVersion(a),r.Fn=r.Fn.insert(o,a));return[2]}})})}(n.localStore,i)];case 2:t.sent(),t.label=3;case 3:return[2]}})})}function Ff(i,o){return y(this,void 0,void 0,function(){var n,r;return g(this,function(t){switch(t.label){case 0:return(n=i).currentUser.isEqual(o)?[3,3]:(xr("SyncEngine","User change. New user:",o.toKey()),[4,th(n.localStore,o)]);case 1:return r=t.sent(),n.currentUser=o,(e=n).Fo.forEach(function(t){t.forEach(function(t){t.reject(new Ar(Dr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Fo.clear(),n.sharedClientState.handleUserChange(o,r.removedBatchIds,r.addedBatchIds),[4,Mf(n,r.Ln)];case 2:t.sent(),t.label=3;case 3:return[2]}var e})})}function Vf(a,u,c,h){return y(this,void 0,void 0,function(){var o,s;return g(this,function(t){switch(t.label){case 0:return[4,(e=(o=a).localStore,n=u,i=(r=e)._n,r.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return i.jt(e,n).next(function(t){return t?r.Mn.pn(e,t):tu.resolve(null)})}))];case 1:return null===(s=t.sent())?[3,6]:"pending"!==c?[3,3]:[4,ql(o.remoteStore)];case 2:return t.sent(),[3,4];case 3:"acknowledged"===c||"rejected"===c?(Rf(o,u,h||null),Cf(o,u),o.localStore._n.Gt(u)):Mr(),t.label=4;case 4:return[4,Mf(o,s)];case 5:return t.sent(),[3,7];case 6:xr("SyncEngine","Cannot apply mutation batch with id: "+u),t.label=7;case 7:return[2]}var e,n,r,i})})}function Uf(h,l){return y(this,void 0,void 0,function(){var r,e,i,o,s,a,u,c;return g(this,function(t){switch(t.label){case 0:return jf(r=h),Kf(r),!0!==l||!0===r.Oo?[3,3]:(e=r.sharedClientState.getAllActiveQueryTargets(),[4,qf(r,e.toArray())]);case 1:return i=t.sent(),r.Oo=!0,[4,Kl(r.remoteStore,!0)];case 2:for(t.sent(),o=0,s=i;o<s.length;o++)a=s[o],kl(r.remoteStore,a);return[3,7];case 3:return!1!==l||!1===r.Oo?[3,7]:(u=[],c=Promise.resolve(),r.Vo.forEach(function(t,e){r.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then(function(){return xf(r,e),sh(r.localStore,e,!0)}),Cl(r.remoteStore,e)}),[4,c]);case 4:return t.sent(),[4,qf(r,u)];case 5:return t.sent(),(n=r).Co.forEach(function(t,e){Cl(n.remoteStore,e)}),n.No.ts(),n.Co=new Map,n.Do=new Ns(mi.comparator),r.Oo=!1,[4,Kl(r.remoteStore,!1)];case 6:t.sent(),t.label=7;case 7:return[2]}var n})})}function qf(d,p){return y(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c,h,l,f;return g(this,function(t){switch(t.label){case 0:e=d,n=[],r=[],i=0,o=p,t.label=1;case 1:return i<o.length?(s=o[i],a=void 0,(u=e.Vo.get(s))&&0!==u.length?[4,oh(e.localStore,No(u[0]))]:[3,7]):[3,13];case 2:a=t.sent(),c=0,h=u,t.label=3;case 3:return c<h.length?(l=h[c],l=e.Po.get(l),[4,function(r,i){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return[4,ah((e=r).localStore,i.query,!0)];case 1:return n=t.sent(),n=i.view.Ao(n),[2,(e.isPrimaryClient&&Lf(e,i.targetId,n.To),n)]}})})}(e,l)]):[3,6];case 4:(l=t.sent()).snapshot&&r.push(l.snapshot),t.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,uh(e.localStore,s)];case 8:return f=t.sent(),[4,oh(e.localStore,f)];case 9:return a=t.sent(),[4,_f(e,Bf(f),s,!1)];case 10:t.sent(),t.label=11;case 11:n.push(a),t.label=12;case 12:return i++,[3,1];case 13:return[2,(e.vo._r(r),n)]}})})}function Bf(t){return vo(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function jf(t){return t.remoteStore.remoteSyncer.applyRemoteEvent=Nf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(t,e){var n=t;if((t=n.Co.get(e))&&t.bo)return Bs().add(t.key);var r=Bs();if(!(e=n.Vo.get(e)))return r;for(var i=0,o=e;i<o.length;i++)var s=o[i],s=n.Po.get(s),r=r.unionWith(s.view.wo);return r}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=function(o,s,a){return y(this,void 0,void 0,function(){var e,n,r,i;return g(this,function(t){switch(t.label){case 0:return(e=o).sharedClientState.updateQueryState(s,"rejected",a),i=e.Co.get(s),(n=i&&i.key)?(r=(r=new Ns(mi.comparator)).insert(n,Oi.newNoDocument(n,Gr.min())),i=Bs().add(n),i=new Ks(Gr.min(),new Map,new Os(qr),r,i),[4,Nf(e,i)]):[3,2];case 1:return t.sent(),e.Do=e.Do.remove(n),e.Co.delete(s),Pf(e),[3,4];case 2:return[4,sh(e.localStore,s,!1).then(function(){return xf(e,s,a)}).catch(dc)];case 3:t.sent(),t.label=4;case 4:return[2]}})})}.bind(null,t),t.vo._r=function(t,e){for(var n=t,r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,a=n.queries.get(a);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&sf(n)}.bind(null,t.eventManager),t.vo.Mo=function(t,e,n){var r=t;if(t=r.queries.get(e))for(var i=0,o=t.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(e)}.bind(null,t.eventManager),t}function Kf(t){return t.remoteStore.remoteSyncer.applySuccessfulWrite=function(i,o){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:e=i,n=o.batch.batchId,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,eh(e.localStore,o)];case 2:return r=t.sent(),Rf(e,n,null),Cf(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),[4,Mf(e,r)];case 3:return t.sent(),[3,6];case 4:return[4,dc(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})}.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Af.bind(null,t),t}function Gf(t,e,n){var r=t;!function(f,d,p){return y(this,void 0,void 0,function(){var a,u,c,h,l;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,14,,15]),[4,d.getMetadata()];case 1:return a=t.sent(),[4,(r=f.localStore,o=r,s=aa((i=a).createTime),o.persistence.runTransaction("hasNewerBundle","readonly",function(t){return o.Qe.getBundleMetadata(t,i.id)}).then(function(t){return!!t&&0<=t.createTime.compareTo(s)}))];case 2:return t.sent()?[4,d.close()]:[3,4];case 3:return[2,(t.sent(),void p._completeWith({taskState:"Success",documentsLoaded:a.totalDocuments,bytesLoaded:a.totalBytes,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}))];case 4:return p._updateProgress(yf(a)),u=new hf(a,f.localStore,d.R),[4,d.Lo()];case 5:c=t.sent(),t.label=6;case 6:return c?[4,u.oo(c)]:[3,10];case 7:return(h=t.sent())&&p._updateProgress(h),[4,d.Lo()];case 8:c=t.sent(),t.label=9;case 9:return[3,6];case 10:return[4,u.complete()];case 11:return l=t.sent(),[4,Mf(f,l.wn,void 0)];case 12:return t.sent(),[4,(r=f.localStore,e=a,(n=r).persistence.runTransaction("Save bundle","readwrite",function(t){return n.Qe.saveBundleMetadata(t,e)}))];case 13:return t.sent(),p._completeWith(l.progress),[3,15];case 14:return Lr("SyncEngine","Loading bundle failed with "+(l=t.sent())),p._failWith(l),[3,15];case 15:return[2]}var e,n,r,i,o,s})})}(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var Qf,zf,Hf=(td.prototype.initialize=function(e){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.R=ll(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}})})},td.prototype.Uo=function(t){return null},td.prototype.Qo=function(t){return Zc(this.persistence,new Hc,t.initialUser,this.R)},td.prototype.qo=function(t){return new wh(Eh.bs,this.R)},td.prototype.Bo=function(t){return new Qh},td.prototype.terminate=function(){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},td),Wf=(n(Zf,zf=Hf),Zf.prototype.initialize=function(e){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,zf.prototype.initialize.call(this,e)];case 1:return t.sent(),[4,hh(this.localStore)];case 2:return t.sent(),[4,this.Ko.initialize(this,e)];case 3:return t.sent(),[4,Kf(this.Ko.syncEngine)];case 4:return t.sent(),[4,ql(this.Ko.remoteStore)];case 5:return t.sent(),[2]}})})},Zf.prototype.Qo=function(t){return Zc(this.persistence,new Hc,t.initialUser,this.R)},Zf.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new gc(e,t.asyncQueue)},Zf.prototype.qo=function(t){var e=Kc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Xu.withCacheSize(this.cacheSizeBytes):Xu.DEFAULT;return new Uc(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,cl(),hl(),this.R,this.sharedClientState,!!this.forceOwnership)},Zf.prototype.Bo=function(t){return new Qh},Zf),Yf=(n($f,Qf=Wf),$f.prototype.initialize=function(r){return y(this,void 0,void 0,function(){var e,n=this;return g(this,function(t){switch(t.label){case 0:return[4,Qf.prototype.initialize.call(this,r)];case 1:return t.sent(),e=this.Ko.syncEngine,this.sharedClientState instanceof Gh?(this.sharedClientState.syncEngine={ui:Vf.bind(null,e),ai:function(i,o,s,a){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return(e=i).Oo?(xr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!e.Vo.has(o))return[3,8];switch(s){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ch(e.localStore)];case 3:return n=t.sent(),r=Ks.createSynthesizedRemoteEventForCurrentChange(o,"current"===s),[4,Mf(e,n,r)];case 4:return t.sent(),[3,8];case 5:return[4,sh(e.localStore,o,!0)];case 6:return t.sent(),xf(e,o,a),[3,8];case 7:Mr(),t.label=8;case 8:return[2]}})})}.bind(null,e),hi:function(c,h,l){return y(this,void 0,void 0,function(){var n,e,r,i,o,s,a,u;return g(this,function(t){switch(t.label){case 0:if(!(n=jf(c)).Oo)return[3,10];e=0,r=h,t.label=1;case 1:return e<r.length?(r=r[e],n.Vo.has(r)?(xr("SyncEngine","Adding an already active target "+r),[3,5]):[4,uh(n.localStore,r)]):[3,6];case 2:return i=t.sent(),[4,oh(n.localStore,i)];case 3:return o=t.sent(),[4,_f(n,Bf(i),o.targetId,!1)];case 4:t.sent(),kl(n.remoteStore,o),t.label=5;case 5:return e++,[3,1];case 6:s=function(e){return g(this,function(t){switch(t.label){case 0:return n.Vo.has(e)?[4,sh(n.localStore,e,!1).then(function(){Cl(n.remoteStore,e),xf(n,e)}).catch(dc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},a=0,u=l,t.label=7;case 7:return a<u.length?(u=u[a],[5,s(u)]):[3,10];case 8:t.sent(),t.label=9;case 9:return a++,[3,7];case 10:return[2]}})})}.bind(null,e),fn:function(t){return t.localStore.persistence.fn()}.bind(null,e),ci:function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){return[2,ch((e=n).localStore).then(function(t){return Mf(e,t)})]})})}.bind(null,e)},[4,this.sharedClientState.start()]):[3,3];case 2:t.sent(),t.label=3;case 3:return[4,this.persistence.He(function(e){return y(n,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,Uf(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}})})})];case 4:return t.sent(),[2]}})})},$f.prototype.Bo=function(t){var e=cl();if(!Gh.yt(e))throw new Ar(Dr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Kc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Gh(e,t.asyncQueue,n,t.clientId,t.initialUser)},$f),Xf=(Jf.prototype.initialize=function(n,r){return y(this,void 0,void 0,function(){var e=this;return g(this,function(t){switch(t.label){case 0:return this.localStore?[3,2]:(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Df(e.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ff.bind(null,this.syncEngine),[4,Kl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},Jf.prototype.createEventManager=function(t){return new Yl},Jf.prototype.createDatastore=function(t){var e=ll(t.databaseInfo.databaseId),n=(n=t.databaseInfo,new Xh(n));return t=t.credentials,new bl(t,n,e)},Jf.prototype.createRemoteStore=function(t){var e=this,n=this.localStore,r=this.datastore,i=t.asyncQueue,o=function(t){return Df(e.syncEngine,t,0)},t=new(Hh.yt()?Hh:zh);return new fl(n,r,i,o,t)},Jf.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){o=new If(t,e,n,r,i,o);return s&&(o.Oo=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},Jf.prototype.terminate=function(){return function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=n,xr("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Al(e)];case 1:return t.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},Jf);function Jf(){}function $f(t,e){var n=this;return(n=Qf.call(this,t,e,!1)||this).Ko=t,n.cacheSizeBytes=e,n.synchronizeTabs=!0,n}function Zf(t,e,n){var r=this;return(r=zf.call(this)||this).Ko=t,r.cacheSizeBytes=e,r.forceOwnership=n,r.synchronizeTabs=!1,r}function td(){this.synchronizeTabs=!1}function ed(n,r){void 0===r&&(r=10240);var i=0;return{read:function(){return y(this,void 0,void 0,function(){var e;return g(this,function(t){return i<n.byteLength?(e={value:n.slice(i,i+r),done:!1},[2,(i+=r,e)]):[2,{done:!0}]})})},cancel:function(){return y(this,void 0,void 0,function(){return g(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var nd=(ld.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},ld.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},ld.prototype.Wo=function(){this.muted=!0},ld.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},ld),rd=(hd.prototype.close=function(){return this.Go.cancel()},hd.prototype.getMetadata=function(){return y(this,void 0,void 0,function(){return g(this,function(t){return[2,this.metadata.promise]})})},hd.prototype.Lo=function(){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},hd.prototype.Ho=function(){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return[4,this.Jo()];case 1:return null===(e=t.sent())?[2,null]:(r=this.zo.decode(e),n=Number(r),isNaN(n)&&this.Yo("length string ("+r+") is not valid number"),[4,this.Xo(n)]);case 2:return r=t.sent(),[2,new uf(JSON.parse(r),e.length+n)]}})})},hd.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},hd.prototype.Jo=function(){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(t.sent())return[3,3];t.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},hd.prototype.Xo=function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return this.buffer.length<n?[4,this.tc()]:[3,3];case 1:t.sent()&&this.Yo("Reached the end of bundle when more is expected."),t.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,n)),[2,(this.buffer=this.buffer.slice(n),e)]}})})},hd.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},hd.prototype.tc=function(){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return[4,this.Go.read()];case 1:return(e=t.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},hd),id=(cd.prototype.lookup=function(r){return y(this,void 0,void 0,function(){var e,n=this;return g(this,function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new Ar(Dr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return y(this,void 0,void 0,function(){var n,e,r,i,o;return g(this,function(t){switch(t.label){case 0:return e=pa((n=s).R)+"/documents",r={documents:a.map(function(t){return ha(n.R,t)})},[4,n.Oi("BatchGetDocuments",e,r)];case 1:return r=t.sent(),i=new Map,r.forEach(function(t){var e,t=(e=n.R,"found"in(t=t)?function(t,e){Fr(!!e.found),e.found.name,e.found.updateTime;var n=la(t,e.found.name),t=aa(e.found.updateTime),e=new Ri({mapValue:{fields:e.found.fields}});return Oi.newFoundDocument(n,t,e)}(e,t):"missing"in t?function(t,e){Fr(!!e.missing),Fr(!!e.readTime);t=la(t,e.missing),e=aa(e.readTime);return Oi.newNoDocument(t,e)}(e,t):Mr());i.set(t.key.toString(),t)}),o=[],[2,(a.forEach(function(t){t=i.get(t.toString());Fr(!!t),o.push(t)}),o)]}})})}(this.datastore,r)];case 1:return[2,((e=t.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},cd.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},cd.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},cd.prototype.delete=function(t){this.write(new ws(t,this.precondition(t))),this.writtenDocs.add(t.toString())},cd.prototype.commit=function(){return y(this,void 0,void 0,function(){var e,n=this;return g(this,function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(t,e){e=mi.fromPath(e);n.mutations.push(new Is(e,n.precondition(e)))}),[4,function(i,o){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return n=pa((e=i).R)+"/documents",r={writes:o.map(function(t){return va(e.R,t)})},[4,e.Ni("Commit",n,r)];case 1:return t.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}})})},cd.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Mr();e=Gr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ar(Dr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},cd.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?es.updateTime(e):es.none()},cd.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(this.writtenDocs.has(t.toString())||!e)return es.exists(!0);if(e.isEqual(Gr.min()))throw new Ar(Dr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return es.updateTime(e)},cd.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},cd.prototype.ensureCommitNotCalled=function(){},cd),od=(ud.prototype.run=function(){this.nc()},ud.prototype.nc=function(){var t=this;this.Zi.ji(function(){return y(t,void 0,void 0,function(){var e,n,r=this;return g(this,function(t){return e=new id(this.datastore),(n=this.sc(e))&&n.then(function(t){r.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){r.deferred.resolve(t)}).catch(function(t){r.ic(t)})})}).catch(function(t){r.ic(t)}),[2]})})})},ud.prototype.sc=function(t){try{var e=this.updateFunction(t);return!pi(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},ud.prototype.ic=function(t){var e=this;0<this.ec&&this.rc(t)?(--this.ec,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},ud.prototype.rc=function(t){if("FirebaseError"!==t.name)return!1;t=t.code;return"aborted"===t||"failed-precondition"===t||!_s(t)},ud),sd=(ad.prototype.getConfiguration=function(){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},ad.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},ad.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ar(Dr.FAILED_PRECONDITION,"The client has already been terminated.")},ad.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:t.sent(),t.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return e=t.sent(),e=Wl(e,"Failed to shutdown persistence"),n.reject(e),[3,6];case 6:return[2]}})})}),n.promise},ad);function ad(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Th.UNAUTHENTICATED,this.clientId=Vr.u(),this.credentialListener=function(){},this.receivedInitialUser=new Za,this.credentials.setChangeListener(function(t){xr("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}function ud(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new gl(this.asyncQueue,"transaction_retry")}function cd(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}function hd(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Za,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}function ld(t){this.observer=t,this.muted=!1}function fd(i,o){return y(this,void 0,void 0,function(){var e,n,r=this;return g(this,function(t){switch(t.label){case 0:return i.asyncQueue.verifyOperationInProgress(),xr("FirestoreClient","Initializing OfflineComponentProvider"),[4,i.getConfiguration()];case 1:return e=t.sent(),[4,o.initialize(e)];case 2:return t.sent(),n=e.initialUser,i.setCredentialChangeListener(function(e){n.isEqual(e)||(n=e,i.asyncQueue.enqueueRetryable(function(){return y(r,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,th(o.localStore,e)];case 1:return t.sent(),[2]}})})}))}),o.persistence.setDatabaseDeletedListener(function(){return i.terminate()}),i.offlineComponents=o,[2]}})})}function dd(r,i){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return r.asyncQueue.verifyOperationInProgress(),[4,pd(r)];case 1:return e=t.sent(),xr("FirestoreClient","Initializing OnlineComponentProvider"),[4,r.getConfiguration()];case 2:return n=t.sent(),[4,i.initialize(e,n)];case 3:return t.sent(),r.setCredentialChangeListener(function(t){return r.asyncQueue.enqueueRetryable(function(){return function(r,i){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return(e=r).asyncQueue.verifyOperationInProgress(),xr("RemoteStore","RemoteStore received new credentials"),n=Pl(e),e.$r.add(3),[4,Al(e)];case 1:return t.sent(),n&&e.Br.set("Unknown"),[4,e.remoteSyncer.handleCredentialChange(i)];case 2:return t.sent(),e.$r.delete(3),[4,Dl(e)];case 3:return t.sent(),[2]}})})}(i.remoteStore,t)})}),r.onlineComponents=i,[2]}})})}function pd(e){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(xr("FirestoreClient","Using default OfflineComponentProvider"),[4,fd(e,new Hf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function yd(e){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(xr("FirestoreClient","Using default OnlineComponentProvider"),[4,dd(e,new Xf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function gd(t){return pd(t).then(function(t){return t.persistence})}function md(t){return pd(t).then(function(t){return t.localStore})}function vd(t){return yd(t).then(function(t){return t.remoteStore})}function bd(t){return yd(t).then(function(t){return t.syncEngine})}function wd(r){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return[4,yd(r)];case 1:return e=t.sent(),[2,((n=e.eventManager).onListen=function(s,a){return y(this,void 0,void 0,function(){var e,n,r,i,o;return g(this,function(t){switch(t.label){case 0:return e=jf(s),(o=e.Po.get(a))?(n=o.targetId,e.sharedClientState.addLocalQueryTarget(n),r=o.view.Ro(),[3,4]):[3,1];case 1:return[4,oh(e.localStore,No(a))];case 2:return i=t.sent(),o=e.sharedClientState.addLocalQueryTarget(i.targetId),n=i.targetId,[4,_f(e,a,n,"current"===o)];case 3:r=t.sent(),e.isPrimaryClient&&kl(e.remoteStore,i),t.label=4;case 4:return[2,r]}})})}.bind(null,e.syncEngine),n.onUnlisten=function(i,o){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return n=(e=i).Po.get(o),1<(r=e.Vo.get(n.targetId)).length?[2,(e.Vo.set(n.targetId,r.filter(function(t){return!Ao(t,o)})),void e.Po.delete(o))]:e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)?[3,2]:[4,sh(e.localStore,n.targetId,!1).then(function(){e.sharedClientState.clearQueryState(n.targetId),Cl(e.remoteStore,n.targetId),xf(e,n.targetId)}).catch(dc)]):[3,3];case 1:t.sent(),t.label=2;case 2:return[3,5];case 3:return xf(e,n.targetId),[4,sh(e.localStore,n.targetId,!0)];case 4:t.sent(),t.label=5;case 5:return[2]}})})}.bind(null,e.syncEngine),n)]}})})}function Id(n,r,i){var t=this;void 0===i&&(i={});var o=new Za;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(n,r,i,o,s){var t=new nd({next:function(t){r.enqueueAndForget(function(){return of(n,a)});var e=t.docs.has(i);!e&&t.fromCache?s.reject(new Ar(Dr.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&o&&"server"===o.source?s.reject(new Ar(Dr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(t)},error:function(t){return s.reject(t)}}),a=new af(bo(i.path),t,{includeMetadataChanges:!0,so:!0});return rf(n,a)},[4,wd(n)];case 1:return[2,e.apply(void 0,[t.sent(),n.asyncQueue,r,i,o])]}})})}),o.promise}function Ed(n,r,i){var t=this;void 0===i&&(i={});var o=new Za;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(e,n,t,r,i){var o=new nd({next:function(t){n.enqueueAndForget(function(){return of(e,s)}),t.fromCache&&"server"===r.source?i.reject(new Ar(Dr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(t)},error:function(t){return i.reject(t)}}),s=new af(t,o,{includeMetadataChanges:!0,so:!0});return rf(e,s)},[4,wd(n)];case 1:return[2,e.apply(void 0,[t.sent(),n.asyncQueue,r,i,o])]}})})}),o.promise}function Td(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t}var _d=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},Sd=(Object.defineProperty(Pd.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),Pd.prototype.isEqual=function(t){return t instanceof Pd&&t.projectId===this.projectId&&t.database===this.database},Pd),Nd=new Map,Dd=(Ld.prototype.getToken=function(){return Promise.resolve(null)},Ld.prototype.invalidateToken=function(){},Ld.prototype.setChangeListener=function(t){(this.changeListener=t)(Th.UNAUTHENTICATED)},Ld.prototype.removeChangeListener=function(){this.changeListener=null},Ld),Ad=(Od.prototype.getToken=function(){var e=this,n=this.cc,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(function(t){return e.cc!==n?(xr("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):t?(Fr("string"==typeof t.accessToken),new Td(t.accessToken,e.currentUser)):null}):Promise.resolve(null)},Od.prototype.invalidateToken=function(){this.forceRefresh=!0},Od.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},Od.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},Od.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Fr(null===t||"string"==typeof t),new Th(t)},Od),kd=(Object.defineProperty(xd.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),xd),Cd=(Rd.prototype.getToken=function(){return Promise.resolve(new kd(this.ac,this.hc,this.lc))},Rd.prototype.setChangeListener=function(t){t(Th.FIRST_PARTY)},Rd.prototype.removeChangeListener=function(){},Rd.prototype.invalidateToken=function(){},Rd);function Rd(t,e,n){this.ac=t,this.hc=e,this.lc=n}function xd(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=Th.FIRST_PARTY}function Od(t){var e=this;this.oc=null,this.currentUser=Th.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}function Ld(){this.changeListener=null}function Pd(t,e){this.projectId=t,this.database=e||"(default)"}function Md(t,e,n){if(!n)throw new Ar(Dr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Fd(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Vd(t,e,n,r){if(!0===e&&!0===r)throw new Ar(Dr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ud(t){if(!mi.isDocumentKey(t))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function qd(t){if(mi.isDocumentKey(t))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Bd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":Mr();if(e instanceof Array)return"an array";var t=function(){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}();return t?"a custom "+t+" object":"an object"}function jd(t,e){if((t="_delegate"in t?t._delegate:t)instanceof e)return t;if(e.name===t.constructor.name)throw new Ar(Dr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");t=Bd(t);throw new Ar(Dr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}function Kd(t,e){if(e<=0)throw new Ar(Dr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Gd,Qd=(tp.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},tp),zd=(Object.defineProperty(Zd.prototype,"app",{get:function(){if(!this._app)throw new Ar(Dr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(Zd.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(Zd.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),Zd.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ar(Dr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qd(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Dd;switch(t.type){case"gapi":var e=t.client;return Fr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Cd(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ar(Dr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},Zd.prototype._getSettings=function(){return this._settings},Zd.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},Zd.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},Zd.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},Zd.prototype._terminate=function(){return(t=Nd.get(this))&&(xr("ComponentProvider","Removing Datastore"),Nd.delete(this),t.terminate()),Promise.resolve();var t},Zd),Hd=(Object.defineProperty($d.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty($d.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty($d.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty($d.prototype,"parent",{get:function(){return new Yd(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),$d.prototype.withConverter=function(t){return new $d(this.firestore,t,this._key)},$d),Wd=(Jd.prototype.withConverter=function(t){return new Jd(this.firestore,t,this._query)},Jd),Yd=(n(Xd,Gd=Wd),Object.defineProperty(Xd.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(Xd.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(Xd.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Hd(this.firestore,null,new mi(t))},enumerable:!1,configurable:!0}),Xd.prototype.withConverter=function(t){return new Xd(this.firestore,t,this._path)},Xd);function Xd(t,e,n){var r=this;return(r=Gd.call(this,t,e,bo(n))||this)._path=n,r.type="collection",r}function Jd(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}function $d(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}function Zd(t,e){this._persistenceKey="(lite)",this._settings=new Qd({}),this._settingsFrozen=!1,t instanceof Sd?(this._databaseId=t,this._credentials=new Dd):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ar(Dr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sd(t.options.projectId)}(t),this._credentials=new Ad(e))}function tp(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ar(Dr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ar(Dr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Vd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}function ep(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=m(t),Md("collection","path",e),t instanceof zd)return qd(n=$r.fromString.apply($r,s([e],r))),new Yd(t,null,n);if(!(t instanceof Hd||t instanceof Yd))throw new Ar(Dr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return qd(n=$r.fromString.apply($r,s([t.path],r)).child($r.fromString(e))),new Yd(t.firestore,null,n)}function np(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=m(t),Md("doc","path",e=1===arguments.length?Vr.u():e),t instanceof zd)return Ud(n=$r.fromString.apply($r,s([e],r))),new Hd(t,null,new mi(n));if(!(t instanceof Hd||t instanceof Yd))throw new Ar(Dr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ud(n=t._path.child($r.fromString.apply($r,s([e],r)))),new Hd(t.firestore,t instanceof Yd?t._converter:null,new mi(n))}function rp(t,e){return t=m(t),e=m(e),(t instanceof Hd||t instanceof Yd)&&(e instanceof Hd||e instanceof Yd)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function ip(t,e){return t=m(t),e=m(e),t instanceof Wd&&e instanceof Wd&&t.firestore===e.firestore&&Ao(t._query,e._query)&&t._converter===e._converter}var op=(Object.defineProperty(sp.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),sp.prototype.enqueueAndForget=function(t){this.enqueue(t)},sp.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},sp.prototype.enterRestrictedMode=function(){var t;this.wc||(this.wc=!0,(t=hl())&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec))},sp.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},sp.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},sp.prototype.Ac=function(){return y(this,void 0,void 0,function(){var e,n=this;return g(this,function(t){switch(t.label){case 0:if(0===this.dc.length)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return t.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!lu(e=t.sent()))throw e;return xr("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:0<this.dc.length&&this.Zi.ji(function(){return n.Ac()}),t.label=5;case 5:return[2]}})})},sp.prototype.Ic=function(t){var r=this,e=this.fc.then(function(){return r.yc=!0,t().catch(function(t){throw r.mc=t,r.yc=!1,Or("INTERNAL UNHANDLED ERROR: ",(n=(e=t).message||"",n=e.stack?e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack:n)),t;var e,n}).then(function(t){return r.yc=!1,t})});return this.fc=e},sp.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),-1<this.gc.indexOf(t)&&(e=0);n=zl.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(n),n},sp.prototype.Tc=function(){this.mc&&Mr()},sp.prototype.verifyOperationInProgress=function(){},sp.prototype.bc=function(){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return[4,e=this.fc];case 1:t.sent(),t.label=2;case 2:if(e!==this.fc)return[3,0];t.label=3;case 3:return[2]}})})},sp.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},sp.prototype.Pc=function(r){var i=this;return this.bc().then(function(){i._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var t=0,e=i._c;t<e.length;t++){var n=e[t];if(n.skipDelay(),"all"!==r&&n.timerId===r)break}return i.bc()})},sp.prototype.Vc=function(t){this.gc.push(t)},sp.prototype.Rc=function(t){t=this._c.indexOf(t);this._c.splice(t,1)},sp);function sp(){var e=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new gl(this,"async_queue_retry"),this.Ec=function(){var t=hl();t&&xr("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=hl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ec)}function ap(i){return function(){if("object"==typeof i&&null!==i)for(var t=i,e=0,n=["next","error","complete"];e<n.length;e++){var r=n[e];if(r in t&&"function"==typeof t[r])return 1}}()}var up,cp=(fp.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},fp.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},fp.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},fp.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},fp.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},fp.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},fp),hp=(n(lp,up=zd),lp.prototype._terminate=function(){return this._firestoreClient||pp(this),this._firestoreClient.terminate()},lp);function lp(t,e){var n=this;return(n=up.call(this,t,e)||this)._queue=new op,n._persistenceKey="name"in t?t.name:"[DEFAULT]",n}function fp(){this._progressObserver={},this._taskCompletionResolver=new Za,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}function dp(t){return t._firestoreClient||pp(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function pp(t){var e,n,r,i=t._freezeSettings(),i=(e=t._databaseId,n=(null===(r=t._app)||void 0===r?void 0:r.options.appId)||"",r=t._persistenceKey,new _d(e,n,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling));t._firestoreClient=new sd(t._credentials,t._queue,i)}function yp(r,i,o){var t=this,s=new Za;return r.asyncQueue.enqueue(function(){return y(t,void 0,void 0,function(){var n;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,fd(r,o)];case 1:return t.sent(),[4,dd(r,i)];case 2:return t.sent(),s.resolve(),[3,4];case 3:if(!("FirebaseError"===(e=n=t.sent()).name?e.code===Dr.FAILED_PRECONDITION||e.code===Dr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code))throw n;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+n),s.reject(n),[3,4];case 4:return[2]}var e})})}).then(function(){return s.promise})}function gp(t){if(t._initialized||t._terminated)throw new Ar(Dr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var mp=(Ap.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},Ap),vp=(Dp.fromBase64String=function(t){try{return new Dp(ni.fromBase64String(t))}catch(t){throw new Ar(Dr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},Dp.fromUint8Array=function(t){return new Dp(ni.fromUint8Array(t))},Dp.prototype.toBase64=function(){return this._byteString.toBase64()},Dp.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},Dp.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},Dp.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},Dp),bp=function(t){this._methodName=t},wp=(Object.defineProperty(Np.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(Np.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),Np.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},Np.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},Np.prototype._compareTo=function(t){return qr(this._lat,t._lat)||qr(this._long,t._long)},Np),Ip=/^__.*__$/,Ep=(Sp.prototype.toMutation=function(t,e){return null!==this.fieldMask?new hs(t,this.data,this.fieldMask,e,this.fieldTransforms):new cs(t,this.data,e,this.fieldTransforms)},Sp),Tp=(_p.prototype.toMutation=function(t,e){return new hs(t,this.data,this.fieldMask,e,this.fieldTransforms)},_p);function _p(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}function Sp(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}function Np(t,e){if(!isFinite(t)||t<-90||90<t)throw new Ar(Dr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new Ar(Dr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}function Dp(t){this._byteString=t}function Ap(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(t)}function kp(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Mr()}}var Cp=(Object.defineProperty(Op.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(Op.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),Op.prototype.Cc=function(t){return new Op(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},Op.prototype.Nc=function(t){var e=null===(e=this.path)||void 0===e?void 0:e.child(t),e=this.Cc({path:e,xc:!1});return e.Fc(t),e},Op.prototype.kc=function(t){var e,t=null===(e=this.path)||void 0===e?void 0:e.child(t),t=this.Cc({path:t,xc:!1});return t.Sc(),t},Op.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},Op.prototype.$c=function(t){return uy(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},Op.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},Op.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},Op.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(kp(this.Dc)&&Ip.test(t))throw this.$c('Document fields cannot begin and end with "__"')},Op),Rp=(xp.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new Cp({Dc:t,methodName:e,Lc:n,path:ti.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},xp);function xp(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||ll(t)}function Op(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}function Lp(t){var e=t._freezeSettings(),n=ll(t._databaseId);return new Rp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pp(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);iy("Data must be an object, but it was:",s,r);var a,u,r=ny(r,s);if(o.merge)a=new ei(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,l=o.mergeFields;h<l.length;h++){var f=oy(e,l[h],n);if(!s.contains(f))throw new Ar(Dr.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");cy(c,f)||c.push(f)}a=new ei(c),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Ep(new Ri(r),a,u)}var Mp,Fp=(n(Vp,Mp=bp),Vp.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw 1===t.Dc?t.$c(this._methodName+"() can only appear at the top level of your update data"):t.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},Vp.prototype.isEqual=function(t){return t instanceof Vp},Vp);function Vp(){return null!==Mp&&Mp.apply(this,arguments)||this}function Up(t,e,n){return new Cp({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var qp,Bp,jp,Kp,Gp=(n(Jp,Kp=bp),Jp.prototype._toFieldTransform=function(t){return new ts(t.path,new Uo)},Jp.prototype.isEqual=function(t){return t instanceof Jp},Jp),Qp=(n(Xp,jp=bp),Xp.prototype._toFieldTransform=function(t){var e=Up(this,t,!0),n=this.qc.map(function(t){return ey(t,e)}),n=new qo(n);return new ts(t.path,n)},Xp.prototype.isEqual=function(t){return this===t},Xp),zp=(n(Yp,Bp=bp),Yp.prototype._toFieldTransform=function(t){var e=Up(this,t,!0),n=this.qc.map(function(t){return ey(t,e)}),n=new Qo(n);return new ts(t.path,n)},Yp.prototype.isEqual=function(t){return this===t},Yp),Hp=(n(Wp,qp=bp),Wp.prototype._toFieldTransform=function(t){var e=new Yo(t.R,Po(t.R,this.Uc));return new ts(t.path,e)},Wp.prototype.isEqual=function(t){return this===t},Wp);function Wp(t,e){var n=this;return(n=qp.call(this,t)||this).Uc=e,n}function Yp(t,e){var n=this;return(n=Bp.call(this,t)||this).qc=e,n}function Xp(t,e){var n=this;return(n=jp.call(this,t)||this).qc=e,n}function Jp(){return null!==Kp&&Kp.apply(this,arguments)||this}function $p(t,r,i,e){var o=t.Bc(1,r,i);iy("Data must be an object, but it was:",o,e);var s=[],a=Ri.empty();Wr(e,function(t,e){var n=ay(r,t,i);e=m(e);t=o.kc(n);e instanceof Fp?s.push(n):null!=(t=ey(e,t))&&(s.push(n),a.set(n,t))});e=new ei(s);return new Tp(a,e,o.fieldTransforms)}function Zp(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[oy(e,r,n)],u=[i];if(o.length%2!=0)throw new Ar(Dr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(oy(e,o[c])),u.push(o[c+1]);for(var h,l,f,d=[],p=Ri.empty(),y=a.length-1;0<=y;--y)cy(d,a[y])||(h=a[y],l=m(l=u[y]),f=s.kc(h),l instanceof Fp?d.push(h):null!=(f=ey(l,f))&&(d.push(h),p.set(h,f)));i=new ei(d);return new Tp(p,i,s.fieldTransforms)}function ty(t,e,n,r){return void 0===r&&(r=!1),ey(n,t.Bc(r?4:3,e))}function ey(s,t){if(ry(s=m(s)))return iy("Unsupported field value:",t,s),ny(s,t);if(s instanceof bp)return function(t,e){if(!kp(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");t=t._toFieldTransform(e);t&&e.fieldTransforms.push(t)}(s,t),null;if(void 0===s&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.xc&&4!==t.Dc)throw t.$c("Nested arrays are not supported");return function(t){for(var e=[],n=0,r=0,i=s;r<i.length;r++){var o=ey(i[r],t.Oc(n));null==o&&(o={nullValue:"NULL_VALUE"}),e.push(o),n++}return{arrayValue:{values:e}}}(t)}return function(t,e){if(null===(t=m(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Po(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Kr.fromDate(t);return{timestampValue:oa(e.R,n)}}if(t instanceof Kr)return n=new Kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:oa(e.R,n)};if(t instanceof wp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof vp)return{bytesValue:sa(e.R,t._byteString)};if(t instanceof Hd){var n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ua(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Bd(t))}(s,t)}function ny(t,n){var r={};return Yr(t)?n.path&&0<n.path.length&&n.fieldMask.push(n.path):Wr(t,function(t,e){e=ey(e,n.Nc(t));null!=e&&(r[t]=e)}),{mapValue:{fields:r}}}function ry(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Kr||t instanceof wp||t instanceof vp||t instanceof Hd||t instanceof bp)}function iy(t,e,n){if(!ry(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){n=Bd(n);throw"an object"===n?e.$c(t+" a custom object"):e.$c(t+" "+n)}var r}function oy(t,e,n){if((e=m(e))instanceof mp)return e._internalPath;if("string"==typeof e)return ay(t,e);throw uy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var sy=new RegExp("[~\\*/\\[\\]]");function ay(e,n,r){if(0<=n.search(sy))throw uy("Invalid field path ("+n+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,r);try{return(new(mp.bind.apply(mp,s([void 0],n.split(".")))))._internalPath}catch(t){throw uy("Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,r)}}function uy(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,e="Function "+e+"() called with invalid data";n&&(e+=" (via `toFirestore()`)");n="";return(o||s)&&(n+=" (found",o&&(n+=" in field "+r),s&&(n+=" in document "+i),n+=")"),new Ar(Dr.INVALID_ARGUMENT,(e+=". ")+t+n)}function cy(t,e){return t.some(function(t){return t.isEqual(e)})}var hy,ly=(Object.defineProperty(py.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(py.prototype,"ref",{get:function(){return new Hd(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),py.prototype.exists=function(){return null!==this._document},py.prototype.data=function(){if(this._document){if(this._converter){var t=new fy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},py.prototype.get=function(t){if(this._document){t=this._document.data.field(yy("DocumentSnapshot.get",t));if(null!==t)return this._userDataWriter.convertValue(t)}},py),fy=(n(dy,hy=ly),dy.prototype.data=function(){return hy.prototype.data.call(this)},dy);function dy(){return null!==hy&&hy.apply(this,arguments)||this}function py(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}function yy(t,e){return"string"==typeof e?ay(t,e):(e instanceof mp?e:e._delegate)._internalPath}var gy,my,vy=(Sy.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},Sy),by=(n(_y,my=ly),_y.prototype.exists=function(){return my.prototype.exists.call(this)},_y.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new wy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},_y.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){t=this._document.data.field(yy("DocumentSnapshot.get",t));if(null!==t)return this._userDataWriter.convertValue(t,e.serverTimestamps)}},_y),wy=(n(Ty,gy=by),Ty.prototype.data=function(t){return void 0===t&&(t={}),gy.prototype.data.call(this,t)},Ty),Iy=(Object.defineProperty(Ey.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(Ey.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(Ey.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),Ey.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(t){e.call(n,new wy(r._firestore,r._userDataWriter,t.key,t,new vy(r._snapshot.mutatedKeys.has(t.key),r._snapshot.fromCache),r.query._converter))})},Ey.prototype.docChanges=function(t){t=!!(t=void 0===t?{}:t).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ar(Dr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,e){if(i._snapshot.oldDocs.isEmpty()){var n=0;return i._snapshot.docChanges.map(function(t){var e=new wy(i._firestore,i._userDataWriter,t.doc.key,t.doc,new vy(i._snapshot.mutatedKeys.has(t.doc.key),i._snapshot.fromCache),i.query._converter);return t.doc,{type:"added",doc:e,oldIndex:-1,newIndex:n++}})}var o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(t){var e=new wy(i._firestore,i._userDataWriter,t.doc.key,t.doc,new vy(i._snapshot.mutatedKeys.has(t.doc.key),i._snapshot.fromCache),i.query._converter),n=-1,r=-1;return 0!==t.type&&(n=o.indexOf(t.doc.key),o=o.delete(t.doc.key)),1!==t.type&&(r=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mr()}}(t.type),doc:e,oldIndex:n,newIndex:r}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},Ey);function Ey(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new vy(r.hasPendingWrites,r.fromCache),this.query=n}function Ty(){return null!==gy&&gy.apply(this,arguments)||this}function _y(t,e,n,r,i,o){var s=this;return(s=my.call(this,t,e,n,r,o)||this)._firestore=t,s._firestoreImpl=t,s.metadata=i,s}function Sy(t,e){this.hasPendingWrites=t,this.fromCache=e}function Ny(t,e){return t instanceof by&&e instanceof by?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Iy&&e instanceof Iy&&t._firestore===e._firestore&&ip(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Dy(t){if(Io(t)&&0===t.explicitOrderBy.length)throw new Ar(Dr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}Te=function(){};function Ay(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++)t=i[r]._apply(t);return t}var ky,Cy,Ry,xy,Oy,Ly=(n(Ky,Oy=Te),Ky.prototype._apply=function(t){var e=Lp(t.firestore),e=function(t,e,n,r,i,o){if(r.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){zy(o,i);for(var s=[],a=0,u=o;a<u.length;a++){var c=u[a];s.push(Qy(n,t,c))}h={arrayValue:{values:s}}}else h=Qy(n,t,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||zy(o,i),h=ty(e,"where",o,"in"===i||"not-in"===i);var h=Bi.create(r,i,h);return function(t,e){if(e.g()){var n=To(t);if(null!==n&&!n.isEqual(e.field))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");n=Eo(t);null!==n&&Hy(0,e.field,n)}t=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(0<=e.indexOf(i.op))return i.op}return null}(t,function(){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==t)throw t===e.op?new Ar(Dr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Ar(Dr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+t.toString()+"' filters.")}(t,h),h}(t._query,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Wd(t.firestore,t._converter,(t=t._query,e=t.filters.concat([e]),new mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),e,t.limit,t.limitType,t.startAt,t.endAt)))},Ky),Py=(n(jy,xy=Te),jy.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new po(e,n);return e=r,null!==Eo(n=t)||null!==(t=To(n))&&Hy(0,t,e.field),r}(t._query,this.Qc,this.Wc);return new Wd(t.firestore,t._converter,(t=t._query,e=t.explicitOrderBy.concat([e]),new mo(t.path,t.collectionGroup,e,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},jy),My=(n(By,Ry=Te),By.prototype._apply=function(t){return new Wd(t.firestore,t._converter,Do(t._query,this.Gc,this.zc))},By),Fy=(n(qy,Cy=Te),qy.prototype._apply=function(t){var e=Gy(t,this.type,this.Hc,this.Jc);return new Wd(t.firestore,t._converter,(t=t._query,e=e,new mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)))},qy),Vy=(n(Uy,ky=Te),Uy.prototype._apply=function(t){var e=Gy(t,this.type,this.Hc,this.Jc);return new Wd(t.firestore,t._converter,(t=t._query,e=e,new mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)))},Uy);function Uy(t,e,n){var r=this;return(r=ky.call(this)||this).type=t,r.Hc=e,r.Jc=n,r}function qy(t,e,n){var r=this;return(r=Cy.call(this)||this).type=t,r.Hc=e,r.Jc=n,r}function By(t,e,n){var r=this;return(r=Ry.call(this)||this).type=t,r.Gc=e,r.zc=n,r}function jy(t,e){var n=this;return(n=xy.call(this)||this).Qc=t,n.Wc=e,n.type="orderBy",n}function Ky(t,e,n){var r=this;return(r=Oy.call(this)||this).Qc=t,r.Kc=e,r.jc=n,r.type="where",r}function Gy(t,c,e,n){if(e[0]=m(e[0]),e[0]instanceof ly)return function(t,e,n,r){if(!n)throw new Ar(Dr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var i=[],o=0,s=So(t);o<s.length;o++){var a=s[o];if(a.field.isKeyField())i.push(Si(e,n.key));else{var u=n.data.field(a.field);if(fi(u))throw new Ar(Dr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){a=a.field.canonicalString();throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}i.push(u)}}return new ao(i,r)}(t._query,t.firestore._databaseId,e[0]._document,n);var r=Lp(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Ar(Dr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!_o(t)&&-1!==c.indexOf("/"))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child($r.fromString(c));if(!mi.isDocumentKey(h))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");h=new mi(h);a.push(Si(e,h))}else{c=ty(n,r,c);a.push(c)}}return new ao(a,o)}(t._query,t.firestore._databaseId,r,c,e,n)}function Qy(t,e,n){if("string"==typeof(n=m(n))){if(""===n)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_o(e)&&-1!==n.indexOf("/"))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");e=e.path.child($r.fromString(n));if(!mi.isDocumentKey(e))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Si(t,new mi(e))}if(n instanceof Hd)return Si(t,n._key);throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Bd(n)+".")}function zy(t,e){if(!Array.isArray(t)||0===t.length)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Hy(t,e,n){if(!n.isEqual(e))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}Wy.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),bi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return hi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(li(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Mr()}},Wy.prototype.convertObject=function(t,n){var r=this,i={};return Wr(t.fields||{},function(t,e){i[t]=r.convertValue(e,n)}),i},Wy.prototype.convertGeoPoint=function(t){return new wp(hi(t.latitude),hi(t.longitude))},Wy.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},Wy.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){e=e.mapValue.fields.__previous_value__;return fi(e)?t(e):e}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(di(t));default:return null}},Wy.prototype.convertTimestamp=function(t){t=ci(t);return new Kr(t.seconds,t.nanos)},Wy.prototype.convertDocumentKey=function(t,e){var n=$r.fromString(t);Fr(ka(n));t=new Sd(n.get(1),n.get(3)),n=new mi(n.popFirst(5));return t.isEqual(e)||Or("Document "+n+" contains a document reference within a different database ("+t.projectId+"/"+t.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),n},I=Wy;function Wy(){}function Yy(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Xy,Jy=(n(tg,Xy=I),tg.prototype.convertBytes=function(t){return new vp(t)},tg.prototype.convertReference=function(t){t=this.convertDocumentKey(t,this.firestore._databaseId);return new Hd(this.firestore,null,t)},tg),$y=(Zy.prototype.set=function(t,e,n){this._verifyNotCommitted();t=eg(t,this._firestore),e=Yy(t._converter,e,n),n=Pp(this._dataReader,"WriteBatch.set",t._key,e,null!==t._converter,n);return this._mutations.push(n.toMutation(t._key,es.none())),this},Zy.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();t=eg(t,this._firestore),e="string"==typeof(e=m(e))||e instanceof mp?Zp(this._dataReader,"WriteBatch.update",t._key,e,n,r):$p(this._dataReader,"WriteBatch.update",t._key,e);return this._mutations.push(e.toMutation(t._key,es.exists(!0))),this},Zy.prototype.delete=function(t){this._verifyNotCommitted();t=eg(t,this._firestore);return this._mutations=this._mutations.concat(new ws(t._key,es.none())),this},Zy.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,0<this._mutations.length?this._commitHandler(this._mutations):Promise.resolve()},Zy.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ar(Dr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Zy);function Zy(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Lp(t)}function tg(t){var e=this;return(e=Xy.call(this)||this).firestore=t,e}function eg(t,e){if((t=m(t)).firestore!==e)throw new Ar(Dr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ng,rg=(n(ig,ng=I),ig.prototype.convertBytes=function(t){return new vp(t)},ig.prototype.convertReference=function(t){t=this.convertDocumentKey(t,this.firestore._databaseId);return new Hd(this.firestore,null,t)},ig);function ig(t){var e=this;return(e=ng.call(this)||this).firestore=t,e}function og(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=jd(t,Hd);var o=jd(t.firestore,hp),s=Lp(o);return ag(o,[("string"==typeof(e=m(e))||e instanceof mp?Zp(s,"updateDoc",t._key,e,n,r):$p(s,"updateDoc",t._key,e)).toMutation(t._key,es.exists(!0))])}function sg(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];e=m(e);var r={includeMetadataChanges:!1},i=0;"object"!=typeof n[i]||ap(n[i])||(r=n[i],i++);var o,s,a,u,c,h,l={includeMetadataChanges:r.includeMetadataChanges};return ap(n[i])&&(o=n[i],n[i]=null===(r=o.next)||void 0===r?void 0:r.bind(o),n[i+1]=null===(r=o.error)||void 0===r?void 0:r.bind(o),n[i+2]=null===(r=o.complete)||void 0===r?void 0:r.bind(o)),e instanceof Hd?(a=jd(e.firestore,hp),u=bo(e._key.path),h={next:function(t){n[i]&&n[i](ug(a,e,t))},error:n[i+1],complete:n[i+2]}):(s=jd(e,Wd),a=jd(s.firestore,hp),u=s._query,c=new rg(a),h={next:function(t){n[i]&&n[i](new Iy(a,c,s,t))},error:n[i+1],complete:n[i+2]},Dy(e._query)),function(n,t,e){var r=this,i=new nd(h),o=new af(t,i,e);return n.asyncQueue.enqueueAndForget(function(){return y(r,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=rf,[4,wd(n)];case 1:return[2,e.apply(void 0,[t.sent(),o])]}})})}),function(){i.Wo(),n.asyncQueue.enqueueAndForget(function(){return y(r,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=of,[4,wd(n)];case 1:return[2,e.apply(void 0,[t.sent(),o])]}})})})}}(dp(a),u,l)}function ag(t,e){return function(n,r){var t=this,i=new Za;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=Sf,[4,bd(n)];case 1:return[2,e.apply(void 0,[t.sent(),r,i])]}})})}),i.promise}(dp(t),e)}function ug(t,e,n){var r=n.docs.get(e._key),i=new rg(t);return new by(t,i,e._key,r,new vy(n.hasPendingWrites,n.fromCache),e._converter)}var cg,hg=(fg.prototype.get=function(t){var e=this,n=eg(t,this._firestore),r=new Jy(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Mr();t=t[0];if(t.isFoundDocument())return new ly(e._firestore,r,t.key,t,n._converter);if(t.isNoDocument())return new ly(e._firestore,r,n._key,null,n._converter);throw Mr()})},fg.prototype.set=function(t,e,n){t=eg(t,this._firestore),e=Yy(t._converter,e,n),n=Pp(this._dataReader,"Transaction.set",t._key,e,null!==t._converter,n);return this._transaction.set(t._key,n),this},fg.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=eg(t,this._firestore),e="string"==typeof(e=m(e))||e instanceof mp?Zp(this._dataReader,"Transaction.update",t._key,e,n,r):$p(this._dataReader,"Transaction.update",t._key,e);return this._transaction.update(t._key,e),this},fg.prototype.delete=function(t){t=eg(t,this._firestore);return this._transaction.delete(t._key),this},n(lg,cg=fg),lg.prototype.get=function(t){var e=this,n=eg(t,this._firestore),r=new rg(this._firestore);return cg.prototype.get.call(this,t).then(function(t){return new by(e._firestore,r,n._key,t._document,new vy(!1,!1),n._converter)})},lg);function lg(t,e){var n=this;return(n=cg.call(this,t,e)||this)._firestore=t,n}function fg(t,e){this._firestore=t,this._transaction=e,this._dataReader=Lp(t)}function dg(){if("undefined"==typeof Uint8Array)throw new Ar(Dr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function pg(){if("undefined"==typeof atob)throw new Ar(Dr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var yg,gg=(Tg.fromBase64String=function(t){return pg(),new Tg(vp.fromBase64String(t))},Tg.fromUint8Array=function(t){return dg(),new Tg(vp.fromUint8Array(t))},Tg.prototype.toBase64=function(){return pg(),this._delegate.toBase64()},Tg.prototype.toUint8Array=function(){return dg(),this._delegate.toUint8Array()},Tg.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},Tg.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Tg),mg=(Eg.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){gp(t=jd(t,hp));var n=dp(t),r=t._freezeSettings(),t=new Xf;return yp(n,t,new Wf(t,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},Eg.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){gp(t=jd(t,hp));var e=dp(t),n=t._freezeSettings(),t=new Xf;return yp(e,t,new Yf(t,n.cacheSizeBytes))}(t._delegate)},Eg.prototype.clearIndexedDbPersistence=function(t){return function(n){var t=this;if(n._initialized&&!n._terminated)throw new Ar(Dr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var r=new Za;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return nu.yt()?(e=n+"main",[4,nu.delete(e)]):[2,Promise.resolve()];case 1:return t.sent(),[2]}})})}(Kc(n._databaseId,n._persistenceKey))];case 1:return t.sent(),r.resolve(),[3,3];case 2:return e=t.sent(),r.reject(e),[3,3];case 3:return[2]}})})}),r.promise}(t._delegate)},Eg),vg=(Object.defineProperty(Ig.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),Ig.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},Ig.prototype.useEmulator=function(t,e){var n,r;n=this._delegate,r=t,t=e,"firestore.googleapis.com"!==(e=(n=jd(n,zd))._getSettings()).host&&e.host!==r&&Lr("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},e),{host:r+":"+t,ssl:!1}))},Ig.prototype.enableNetwork=function(){return function(i){var t=this;return i.asyncQueue.enqueue(function(){return y(t,void 0,void 0,function(){var n,r;return g(this,function(t){switch(t.label){case 0:return[4,gd(i)];case 1:return n=t.sent(),[4,vd(i)];case 2:return r=t.sent(),[2,(n.setNetworkEnabled(!0),(e=r).$r.delete(0),Dl(e))]}var e})})})}(dp(jd(this._delegate,hp)))},Ig.prototype.disableNetwork=function(){return function(r){var t=this;return r.asyncQueue.enqueue(function(){return y(t,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return[4,gd(r)];case 1:return e=t.sent(),[4,vd(r)];case 2:return n=t.sent(),[2,(e.setNetworkEnabled(!1),function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return(e=n).$r.add(0),[4,Al(e)];case 1:return t.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(dp(jd(this._delegate,hp)))},Ig.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Vd("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},Ig.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},Ig.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},Ig.prototype.waitForPendingWrites=function(){return function(n){var t=this,r=new Za;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=kf,[4,bd(n)];case 1:return[2,e.apply(void 0,[t.sent(),r])]}})})}),r.promise}(dp(jd(this._delegate,hp)))},Ig.prototype.onSnapshotsInSync=function(t){return e=this._delegate,t=t,function(n,t){var e=this,r=new nd(t);return n.asyncQueue.enqueueAndForget(function(){return y(e,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(t,e){t.Gr.add(e),e.next()},[4,wd(n)];case 1:return[2,e.apply(void 0,[t.sent(),r])]}})})}),function(){r.Wo(),n.asyncQueue.enqueueAndForget(function(){return y(e,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(t,e){t.Gr.delete(e)},[4,wd(n)];case 1:return[2,e.apply(void 0,[t.sent(),r])]}})})})}}(dp(jd(e,hp)),ap(t)?t:{next:t});var e},Object.defineProperty(Ig.prototype,"app",{get:function(){if(!this.Xc)throw new Ar(Dr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),Ig.prototype.collection=function(t){try{return new jg(this,ep(this._delegate,t))}catch(t){throw xg(t,"collection()","Firestore.collection()")}},Ig.prototype.doc=function(t){try{return new Cg(this,np(this._delegate,t))}catch(t){throw xg(t,"doc()","Firestore.doc()")}},Ig.prototype.collectionGroup=function(t){try{return new Ug(this,function(t,e){if(t=jd(t,zd),Md("collectionGroup","collection id",e),0<=e.indexOf("/"))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Wd(t,null,(e=e,new mo($r.emptyPath(),e)))}(this._delegate,t))}catch(t){throw xg(t,"collectionGroup()","Firestore.collectionGroup()")}},Ig.prototype.runTransaction=function(e){var n,r=this;return function(n,r){var t=this,i=new Za;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return[4,yd(n).then(function(t){return t.datastore})];case 1:return e=t.sent(),new od(n.asyncQueue,e,r,i).run(),[2]}})})}),i.promise}(dp(n=this._delegate),function(t){return t=new hg(n,t),e(new _g(r,t))})},Ig.prototype.batch=function(){var e=this;return dp(this._delegate),new Sg(new $y(this._delegate,function(t){return ag(e._delegate,t)}))},Ig.prototype.loadBundle=function(t){throw new Ar(Dr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},Ig.prototype.namedQuery=function(t){throw new Ar(Dr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},Ig),bg=(n(wg,yg=I),wg.prototype.convertBytes=function(t){return new gg(new vp(t))},wg.prototype.convertReference=function(t){t=this.convertDocumentKey(t,this.firestore._databaseId);return Cg.Zc(t,this.firestore,null)},wg);function wg(t){var e=this;return(e=yg.call(this)||this).firestore=t,e}function Ig(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Sd||(this.Xc=t)}function Eg(){}function Tg(t){this._delegate=t}var _g=(kg.prototype.get=function(t){var e=this,n=Yg(t);return this._delegate.get(n).then(function(t){return new Fg(e._firestore,new by(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},kg.prototype.set=function(t,e,n){t=Yg(t);return n?(Fd("Transaction.set",n),this._delegate.set(t,e,n)):this._delegate.set(t,e),this},kg.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Yg(t);return 2===arguments.length?this._delegate.update(o,e):(t=this._delegate).update.apply(t,s([o,e,n],r)),this},kg.prototype.delete=function(t){t=Yg(t);return this._delegate.delete(t),this},kg),Sg=(Ag.prototype.set=function(t,e,n){t=Yg(t);return n?(Fd("WriteBatch.set",n),this._delegate.set(t,e,n)):this._delegate.set(t,e),this},Ag.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Yg(t);return 2===arguments.length?this._delegate.update(o,e):(t=this._delegate).update.apply(t,s([o,e,n],r)),this},Ag.prototype.delete=function(t){t=Yg(t);return this._delegate.delete(t),this},Ag.prototype.commit=function(){return this._delegate.commit()},Ag),Ng=(Dg.prototype.fromFirestore=function(t,e){t=new wy(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Vg(this._firestore,t),null!=e?e:{})},Dg.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},Dg.tu=function(t,e){var n=Dg.eu,r=n.get(t);r||(r=new WeakMap,n.set(t,r));n=r.get(e);return n||(n=new Dg(t,new bg(t),e),r.set(e,n)),n},Dg);function Dg(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}function Ag(t){this._delegate=t}function kg(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new bg(t)}Ng.eu=new WeakMap;var Cg=(Rg.nu=function(t,e,n){if(t.length%2!=0)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new Rg(e,new Hd(e._delegate,n,new mi(t)))},Rg.Zc=function(t,e,n){return new Rg(e,new Hd(e._delegate,n,t))},Object.defineProperty(Rg.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Rg.prototype,"parent",{get:function(){return new jg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(Rg.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Rg.prototype.collection=function(t){try{return new jg(this.firestore,ep(this._delegate,t))}catch(t){throw xg(t,"collection()","DocumentReference.collection()")}},Rg.prototype.isEqual=function(t){return(t=m(t))instanceof Hd&&rp(this._delegate,t)},Rg.prototype.set=function(t,e){e=Fd("DocumentReference.set",e);try{return function(t,e,n){t=jd(t,Hd);var r=jd(t.firestore,hp),e=Yy(t._converter,e,n);return ag(r,[Pp(Lp(r),"setDoc",t._key,e,null!==t._converter,n).toMutation(t._key,es.none())])}(this._delegate,t,e)}catch(t){throw xg(t,"setDoc()","DocumentReference.set()")}},Rg.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?og(this._delegate,t):og.apply(void 0,s([this._delegate,t,e],n))}catch(t){throw xg(t,"updateDoc()","DocumentReference.update()")}},Rg.prototype.delete=function(){return ag(jd((t=this._delegate).firestore,hp),[new ws(t._key,es.none())]);var t},Rg.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Og(t),i=Lg(t,function(t){return new Fg(e.firestore,new by(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))});return sg(this._delegate,r,i)},Rg.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(e){e=jd(e,Hd);var n=jd(e.firestore,hp),t=dp(n),r=new rg(n);return function(n,r){var t=this,i=new Za;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(o,s,a){return y(this,void 0,void 0,function(){var r,i;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(e=s,(n=o).persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)}))];case 1:return(i=t.sent()).isFoundDocument()?a.resolve(i):i.isNoDocument()?a.resolve(null):a.reject(new Ar(Dr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=t.sent(),i=Wl(r,"Failed to get document '"+s+" from cache"),a.reject(i),[3,3];case 3:return[2]}var e,n})})},[4,md(n)];case 1:return[2,e.apply(void 0,[t.sent(),r,i])]}})})}),i.promise}(t,e._key).then(function(t){return new by(n,r,e._key,t,new vy(null!==t&&t.hasLocalMutations,!0),e._converter)})}:"server"===(null==t?void 0:t.source)?function(e){e=jd(e,Hd);var n=jd(e.firestore,hp);return Id(dp(n),e._key,{source:"server"}).then(function(t){return ug(n,e,t)})}:function(e){e=jd(e,Hd);var n=jd(e.firestore,hp);return Id(dp(n),e._key).then(function(t){return ug(n,e,t)})})(this._delegate).then(function(t){return new Fg(e.firestore,new by(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},Rg.prototype.withConverter=function(t){return new Rg(this.firestore,t?this._delegate.withConverter(Ng.tu(this.firestore,t)):this._delegate.withConverter(null))},Rg);function Rg(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new bg(t)}function xg(t,e,n){return t.message=t.message.replace(e,n),t}function Og(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!ap(r))return r}return{}}function Lg(t,e){var n;return{next:function(t){n.next&&n.next(e(t))},error:null===(t=(n=ap(t[0])?t[0]:ap(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===t?void 0:t.bind(n),complete:null===(t=n.complete)||void 0===t?void 0:t.bind(n)}}var Pg,Mg,Fg=(Object.defineProperty(Wg.prototype,"ref",{get:function(){return new Cg(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(Wg.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Wg.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(Wg.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),Wg.prototype.data=function(t){return this._delegate.data(t)},Wg.prototype.get=function(t,e){return this._delegate.get(t,e)},Wg.prototype.isEqual=function(t){return Ny(this._delegate,t._delegate)},Wg),Vg=(n(Hg,Mg=Fg),Hg.prototype.data=function(t){return this._delegate.data(t)},Hg),Ug=(zg.prototype.where=function(t,e,n){try{return new zg(this.firestore,Ay(this._delegate,(r=n,i=e,o=yy("where",t),new Ly(o,i,r))))}catch(t){throw xg(t,/(orderBy|where)\(\)/,"Query.$1()")}var r,i,o},zg.prototype.orderBy=function(t,e){try{return new zg(this.firestore,Ay(this._delegate,(n=void 0===e?"asc":e,r=yy("orderBy",t),new Py(r,n))))}catch(t){throw xg(t,/(orderBy|where)\(\)/,"Query.$1()")}var n,r},zg.prototype.limit=function(t){try{return new zg(this.firestore,Ay(this._delegate,(Kd("limit",e=t),new My("limit",e,"F"))))}catch(t){throw xg(t,"limit()","Query.limit()")}var e},zg.prototype.limitToLast=function(t){try{return new zg(this.firestore,Ay(this._delegate,(Kd("limitToLast",e=t),new My("limitToLast",e,"L"))))}catch(t){throw xg(t,"limitToLast()","Query.limitToLast()")}var e},zg.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new zg(this.firestore,Ay(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fy("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw xg(t,"startAt()","Query.startAt()")}},zg.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new zg(this.firestore,Ay(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fy("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw xg(t,"startAfter()","Query.startAfter()")}},zg.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new zg(this.firestore,Ay(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vy("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw xg(t,"endBefore()","Query.endBefore()")}},zg.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new zg(this.firestore,Ay(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vy("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw xg(t,"endAt()","Query.endAt()")}},zg.prototype.isEqual=function(t){return ip(this._delegate,t._delegate)},zg.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(e){e=jd(e,Wd);var n=jd(e.firestore,hp),t=dp(n),r=new rg(n);return function(n,r){var t=this,i=new Za;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(i,o,s){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,ah(i,o,!0)];case 1:return r=t.sent(),e=new vf(o,r.Bn),n=e._o(r.documents),n=e.applyChanges(n,!1),s.resolve(n.snapshot),[3,3];case 2:return n=t.sent(),r=Wl(n,"Failed to execute query '"+o+" against cache"),s.reject(r),[3,3];case 3:return[2]}})})},[4,md(n)];case 1:return[2,e.apply(void 0,[t.sent(),r,i])]}})})}),i.promise}(t,e._query).then(function(t){return new Iy(n,r,e,t)})}:"server"===(null==t?void 0:t.source)?function(e){e=jd(e,Wd);var n=jd(e.firestore,hp),t=dp(n),r=new rg(n);return Ed(t,e._query,{source:"server"}).then(function(t){return new Iy(n,r,e,t)})}:function(e){e=jd(e,Wd);var n=jd(e.firestore,hp),t=dp(n),r=new rg(n);return Dy(e._query),Ed(t,e._query).then(function(t){return new Iy(n,r,e,t)})})(this._delegate).then(function(t){return new Bg(e.firestore,new Iy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},zg.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Og(t),i=Lg(t,function(t){return new Bg(e.firestore,new Iy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return sg(this._delegate,r,i)},zg.prototype.withConverter=function(t){return new zg(this.firestore,t?this._delegate.withConverter(Ng.tu(this.firestore,t)):this._delegate.withConverter(null))},zg),qg=(Object.defineProperty(Qg.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(Qg.prototype,"doc",{get:function(){return new Vg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(Qg.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(Qg.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),Qg),Bg=(Object.defineProperty(Gg.prototype,"query",{get:function(){return new Ug(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(Gg.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(Gg.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(Gg.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(Gg.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new Vg(e._firestore,t)})},enumerable:!1,configurable:!0}),Gg.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new qg(e._firestore,t)})},Gg.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(t){e.call(n,new Vg(r._firestore,t))})},Gg.prototype.isEqual=function(t){return Ny(this._delegate,t._delegate)},Gg),jg=(n(Kg,Pg=Ug),Object.defineProperty(Kg.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Kg.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(Kg.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Cg(this.firestore,t):null},enumerable:!1,configurable:!0}),Kg.prototype.doc=function(t){try{return new Cg(this.firestore,void 0===t?np(this._delegate):np(this._delegate,t))}catch(t){throw xg(t,"doc()","CollectionReference.doc()")}},Kg.prototype.add=function(t){var e,n,r,i=this;return e=this._delegate,n=t,t=jd(e.firestore,hp),r=np(e),n=Yy(e._converter,n),ag(t,[Pp(Lp(e.firestore),"addDoc",r._key,n,null!==e._converter,{}).toMutation(r._key,es.exists(!1))]).then(function(){return r}).then(function(t){return new Cg(i.firestore,t)})},Kg.prototype.isEqual=function(t){return rp(this._delegate,t._delegate)},Kg.prototype.withConverter=function(t){return new Kg(this.firestore,t?this._delegate.withConverter(Ng.tu(this.firestore,t)):this._delegate.withConverter(null))},Kg);function Kg(t,e){var n=this;return(n=Pg.call(this,t,e)||this).firestore=t,n._delegate=e,n}function Gg(t,e){this._firestore=t,this._delegate=e}function Qg(t,e){this._firestore=t,this._delegate=e}function zg(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new bg(t)}function Hg(){return null!==Mg&&Mg.apply(this,arguments)||this}function Wg(t,e){this._firestore=t,this._delegate=e}function Yg(t){return jd(t,Hd)}Jg.documentId=function(){return new Jg(ti.keyField().canonicalString())},Jg.prototype.isEqual=function(t){return(t=m(t))instanceof mp&&this._delegate._internalPath.isEqual(t._internalPath)},Te=Jg,Xg.serverTimestamp=function(){var t=new Gp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new Xg(t)},Xg.delete=function(){var t=new Fp("deleteField");return t._methodName="FieldValue.delete",new Xg(t)},Xg.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qp("arrayUnion",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayUnion",new Xg(n)},Xg.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zp("arrayRemove",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayRemove",new Xg(n)},Xg.increment=function(t){t=new Hp("increment",t);return t._methodName="FieldValue.increment",new Xg(t)},Xg.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},I=Xg;function Xg(t){this._delegate=t}function Jg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(mp.bind.apply(mp,s([void 0],t)))}function $g(t){return e=this._delegate,s=t,n=dp(e=jd(e,hp)),t=new cp,function(n,t,r){var e,i=this,o=(e=s,t=ll(t),e=function(t){if(t instanceof Uint8Array)return ed(t,void 0);if(t instanceof ArrayBuffer)return ed(new Uint8Array(t),void 0);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),new rd(e,t));n.asyncQueue.enqueueAndForget(function(){return y(i,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=Gf,[4,bd(n)];case 1:return e.apply(void 0,[t.sent(),o,r]),[2]}})})})}(n,e._databaseId,t),t;var e,s,n}function Zg(t){var e=this,n=this._delegate,t=t;return function(n,r){var t=this;return n.asyncQueue.enqueue(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(t,e){var n=t;return n.persistence.runTransaction("Get named query","readonly",function(t){return n.Qe.getNamedQuery(t,e)})},[4,md(n)];case 1:return[2,e.apply(void 0,[t.sent(),r])]}})})})}(dp(n=jd(n,hp)),t).then(function(t){return t?new Wd(n,null,t.query):null}).then(function(t){return t?new Ug(e,t):null})}var tm=(em.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},em.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},em.prototype.setServiceProps=function(t){return this.serviceProps=t,this},em.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},em);function em(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}var nm,rm,im={Firestore:vg,GeoPoint:wp,Timestamp:Kr,Blob:gg,Transaction:_g,WriteBatch:Sg,DocumentReference:Cg,DocumentSnapshot:Fg,Query:Ug,QueryDocumentSnapshot:Vg,QuerySnapshot:Bg,CollectionReference:jg,FieldPath:Te,FieldValue:I,setLogLevel:function(t){kr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(nm=e.default).INTERNAL.registerComponent(new tm("firestore",function(t){var e=t.getProvider("app").getImmediate();return e=e,t=t.getProvider("auth-internal"),new vg(e,new hp(e,t),new mg)},"PUBLIC").setServiceProps(Object.assign({},im))),nm.registerVersion("@firebase/firestore","2.2.5"),(rm=vg).prototype.loadBundle=$g,rm.prototype.namedQuery=Zg}.apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-firestore.js - be sure to load firebase-app.js first.")}});
//# sourceMappingURL=firebase-firestore.js.map


/***/ }),

/***/ "./src/styles/reset.css":
/*!******************************!*\
  !*** ./src/styles/reset.css ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_reset_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./reset.css */ "./node_modules/css-loader/dist/cjs.js!./src/styles/reset.css");

            

var options = {};

options.insert = "head";
options.singleton = false;

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_reset_css__WEBPACK_IMPORTED_MODULE_1__.default, options);



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_reset_css__WEBPACK_IMPORTED_MODULE_1__.default.locals || {});

/***/ }),

/***/ "./src/styles/style.css":
/*!******************************!*\
  !*** ./src/styles/style.css ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./src/styles/style.css");

            

var options = {};

options.insert = "head";
options.singleton = false;

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_1__.default, options);



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_1__.default.locals || {});

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var isOldIE = function isOldIE() {
  var memo;
  return function memorize() {
    if (typeof memo === 'undefined') {
      // Test for IE <= 9 as proposed by Browserhacks
      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
      // Tests for existence of standard globals is to allow style-loader
      // to operate correctly into non-standard environments
      // @see https://github.com/webpack-contrib/style-loader/issues/177
      memo = Boolean(window && document && document.all && !window.atob);
    }

    return memo;
  };
}();

var getTarget = function getTarget() {
  var memo = {};
  return function memorize(target) {
    if (typeof memo[target] === 'undefined') {
      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself

      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
        try {
          // This will throw an exception if access to iframe is blocked
          // due to cross-origin restrictions
          styleTarget = styleTarget.contentDocument.head;
        } catch (e) {
          // istanbul ignore next
          styleTarget = null;
        }
      }

      memo[target] = styleTarget;
    }

    return memo[target];
  };
}();

var stylesInDom = [];

function getIndexByIdentifier(identifier) {
  var result = -1;

  for (var i = 0; i < stylesInDom.length; i++) {
    if (stylesInDom[i].identifier === identifier) {
      result = i;
      break;
    }
  }

  return result;
}

function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];

  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var index = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3]
    };

    if (index !== -1) {
      stylesInDom[index].references++;
      stylesInDom[index].updater(obj);
    } else {
      stylesInDom.push({
        identifier: identifier,
        updater: addStyle(obj, options),
        references: 1
      });
    }

    identifiers.push(identifier);
  }

  return identifiers;
}

function insertStyleElement(options) {
  var style = document.createElement('style');
  var attributes = options.attributes || {};

  if (typeof attributes.nonce === 'undefined') {
    var nonce =  true ? __webpack_require__.nc : 0;

    if (nonce) {
      attributes.nonce = nonce;
    }
  }

  Object.keys(attributes).forEach(function (key) {
    style.setAttribute(key, attributes[key]);
  });

  if (typeof options.insert === 'function') {
    options.insert(style);
  } else {
    var target = getTarget(options.insert || 'head');

    if (!target) {
      throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
    }

    target.appendChild(style);
  }

  return style;
}

function removeStyleElement(style) {
  // istanbul ignore if
  if (style.parentNode === null) {
    return false;
  }

  style.parentNode.removeChild(style);
}
/* istanbul ignore next  */


var replaceText = function replaceText() {
  var textStore = [];
  return function replace(index, replacement) {
    textStore[index] = replacement;
    return textStore.filter(Boolean).join('\n');
  };
}();

function applyToSingletonTag(style, index, remove, obj) {
  var css = remove ? '' : obj.media ? "@media ".concat(obj.media, " {").concat(obj.css, "}") : obj.css; // For old IE

  /* istanbul ignore if  */

  if (style.styleSheet) {
    style.styleSheet.cssText = replaceText(index, css);
  } else {
    var cssNode = document.createTextNode(css);
    var childNodes = style.childNodes;

    if (childNodes[index]) {
      style.removeChild(childNodes[index]);
    }

    if (childNodes.length) {
      style.insertBefore(cssNode, childNodes[index]);
    } else {
      style.appendChild(cssNode);
    }
  }
}

function applyToTag(style, options, obj) {
  var css = obj.css;
  var media = obj.media;
  var sourceMap = obj.sourceMap;

  if (media) {
    style.setAttribute('media', media);
  } else {
    style.removeAttribute('media');
  }

  if (sourceMap && typeof btoa !== 'undefined') {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  } // For old IE

  /* istanbul ignore if  */


  if (style.styleSheet) {
    style.styleSheet.cssText = css;
  } else {
    while (style.firstChild) {
      style.removeChild(style.firstChild);
    }

    style.appendChild(document.createTextNode(css));
  }
}

var singleton = null;
var singletonCounter = 0;

function addStyle(obj, options) {
  var style;
  var update;
  var remove;

  if (options.singleton) {
    var styleIndex = singletonCounter++;
    style = singleton || (singleton = insertStyleElement(options));
    update = applyToSingletonTag.bind(null, style, styleIndex, false);
    remove = applyToSingletonTag.bind(null, style, styleIndex, true);
  } else {
    style = insertStyleElement(options);
    update = applyToTag.bind(null, style, options);

    remove = function remove() {
      removeStyleElement(style);
    };
  }

  update(obj);
  return function updateStyle(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {
        return;
      }

      update(obj = newObj);
    } else {
      remove();
    }
  };
}

module.exports = function (list, options) {
  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
  // tags it will allow on a page

  if (!options.singleton && typeof options.singleton !== 'boolean') {
    options.singleton = isOldIE();
  }

  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];

    if (Object.prototype.toString.call(newList) !== '[object Array]') {
      return;
    }

    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDom[index].references--;
    }

    var newLastIdentifiers = modulesToDom(newList, options);

    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];

      var _index = getIndexByIdentifier(_identifier);

      if (stylesInDom[_index].references === 0) {
        stylesInDom[_index].updater();

        stylesInDom.splice(_index, 1);
      }
    }

    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/tslib/tslib.es6.js":
/*!*****************************************!*\
  !*** ./node_modules/tslib/tslib.es6.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "__extends": () => (/* binding */ __extends),
/* harmony export */   "__assign": () => (/* binding */ __assign),
/* harmony export */   "__rest": () => (/* binding */ __rest),
/* harmony export */   "__decorate": () => (/* binding */ __decorate),
/* harmony export */   "__param": () => (/* binding */ __param),
/* harmony export */   "__metadata": () => (/* binding */ __metadata),
/* harmony export */   "__awaiter": () => (/* binding */ __awaiter),
/* harmony export */   "__generator": () => (/* binding */ __generator),
/* harmony export */   "__createBinding": () => (/* binding */ __createBinding),
/* harmony export */   "__exportStar": () => (/* binding */ __exportStar),
/* harmony export */   "__values": () => (/* binding */ __values),
/* harmony export */   "__read": () => (/* binding */ __read),
/* harmony export */   "__spread": () => (/* binding */ __spread),
/* harmony export */   "__spreadArrays": () => (/* binding */ __spreadArrays),
/* harmony export */   "__spreadArray": () => (/* binding */ __spreadArray),
/* harmony export */   "__await": () => (/* binding */ __await),
/* harmony export */   "__asyncGenerator": () => (/* binding */ __asyncGenerator),
/* harmony export */   "__asyncDelegator": () => (/* binding */ __asyncDelegator),
/* harmony export */   "__asyncValues": () => (/* binding */ __asyncValues),
/* harmony export */   "__makeTemplateObject": () => (/* binding */ __makeTemplateObject),
/* harmony export */   "__importStar": () => (/* binding */ __importStar),
/* harmony export */   "__importDefault": () => (/* binding */ __importDefault),
/* harmony export */   "__classPrivateFieldGet": () => (/* binding */ __classPrivateFieldGet),
/* harmony export */   "__classPrivateFieldSet": () => (/* binding */ __classPrivateFieldSet)
/* harmony export */ });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    if (typeof b !== "function" && b !== null)
        throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

var __createBinding = Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
});

function __exportStar(m, o) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);
}

function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

/** @deprecated */
function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

/** @deprecated */
function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
}

function __spreadArray(to, from) {
    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
        to[j] = from[i];
    return to;
}

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

var __setModuleDefault = Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, state, kind, f) {
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
}

function __classPrivateFieldSet(receiver, state, value, kind, f) {
    if (kind === "m") throw new TypeError("Private method is not writable");
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
}


/***/ }),

/***/ "./src/imgs/x-icon.svg":
/*!*****************************!*\
  !*** ./src/imgs/x-icon.svg ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "15b3c085a3a44605a8b6.svg";

/***/ }),

/***/ "./src/scripts/dom-helpers.js":
/*!************************************!*\
  !*** ./src/scripts/dom-helpers.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "makeSwitch": () => (/* binding */ makeSwitch),
/* harmony export */   "getCloseButton": () => (/* binding */ getCloseButton),
/* harmony export */   "clearChildren": () => (/* binding */ clearChildren)
/* harmony export */ });
function makeSwitch(label, name, isChecked, onChange) {
  const inputElm = document.createElement("label");
  inputElm.classList.add("switch");

  const textElm = document.createElement("span");
  textElm.textContent = label;
  textElm.classList.add("switch-label");
  inputElm.appendChild(textElm);

  const inputCheckbox = document.createElement("input");
  inputCheckbox.type = "checkbox";
  inputCheckbox.name = name;
  inputCheckbox.checked = isChecked;
  inputCheckbox.addEventListener("change", () =>
    onChange(inputCheckbox.checked)
  );

  inputElm.appendChild(inputCheckbox);

  const inputSpanElm = document.createElement("span");
  inputSpanElm.classList.add("switch-span");
  inputElm.appendChild(inputSpanElm);

  return inputElm;
}

// TODO: don't use div as button
// TODO: pass class in as param
// TODO: once above are fixed, give generic name
function getCloseButton(onClick) {
  const closeBtn = document.createElement("div");
  closeBtn.classList.add("close-btn");
  closeBtn.addEventListener("click", onClick);
  return closeBtn;
}

function clearChildren(element) {
  while (element.firstChild) {
    element.removeChild(element.firstChild);
  }
}


/***/ }),

/***/ "./src/scripts/firebase-config.js":
/*!****************************************!*\
  !*** ./src/scripts/firebase-config.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../env */ "./env.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  apiKey: _env__WEBPACK_IMPORTED_MODULE_0__.default.API_KEY,
  authDomain: _env__WEBPACK_IMPORTED_MODULE_0__.default.AUTH_DOMAIN,
  projectId: _env__WEBPACK_IMPORTED_MODULE_0__.default.PROJECT_ID,
  storageBucket: _env__WEBPACK_IMPORTED_MODULE_0__.default.STORAGE_BUCKET,
  messagingSenderId: _env__WEBPACK_IMPORTED_MODULE_0__.default.MESSAGING_SENDER_ID,
  appId: _env__WEBPACK_IMPORTED_MODULE_0__.default.APP_ID,
});


/***/ }),

/***/ "./src/scripts/firebase-init.js":
/*!**************************************!*\
  !*** ./src/scripts/firebase-init.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "authHandler": () => (/* binding */ authHandler),
/* harmony export */   "firestoreHandler": () => (/* binding */ firestoreHandler)
/* harmony export */ });
/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ "./node_modules/firebase/app/dist/index.esm.js");
/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase-config */ "./src/scripts/firebase-config.js");
/* harmony import */ var firebase_firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firebase-firestore */ "./node_modules/firebase/firebase-firestore.js");
/* harmony import */ var firebase_firebase_firestore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(firebase_firebase_firestore__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var firebase_firebase_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firebase-auth */ "./node_modules/firebase/firebase-auth.js");
/* harmony import */ var firebase_firebase_auth__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(firebase_firebase_auth__WEBPACK_IMPORTED_MODULE_3__);





firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.initializeApp(_firebase_config__WEBPACK_IMPORTED_MODULE_1__.default);

function authHandler() {
  const auth = firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.auth();
  const provider = new firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.auth.GoogleAuthProvider();

  auth.onAuthStateChanged = auth.onAuthStateChanged.bind(auth);

  const signedInSection = document.querySelector("#when-signed-out");
  const signedOutSection = document.querySelector("#when-signed-in");
  const signInBtn = document.querySelector("#sign-in-btn");
  const signOutBtn = document.querySelector("#sign-out-btn");

  signInBtn.addEventListener("click", () => {
    auth.signInWithPopup(provider);
  });

  signOutBtn.addEventListener("click", () => {
    auth.signOut();
  });

  const userNameElement = document.querySelector("#user-name");
  const userIdElement = document.querySelector("#user-id");

  auth.onAuthStateChanged((user) => {
    if (user) {
      signedInSection.classList.add("hidden");
      signedOutSection.classList.remove("hidden");
      userNameElement.textContent = user.displayName;
      userIdElement.textContent = user.uid;
    } else {
      signedOutSection.classList.add("hidden");
      signedInSection.classList.remove("hidden");
      userNameElement.textContent = "no signed in user";
      userIdElement.textContent = "N/A";
    }
  });

  return auth.onAuthStateChanged;
}

function firestoreHandler(onAuthStateChanged) {
  const db = firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.firestore();
  const databaseUpdateListeners = [];
  let libraryRef;

  onAuthStateChanged(updateLibraryRef);

  async function updateLibraryRef(user) {
    if (!user) {
      console.log("no user!");
    }

    await db.collection("users").doc(user.uid).set({}, { merge: true });

    libraryRef = db.collection(`users/${user.uid}/books`);

    const librarySnapshot = await libraryRef.get();
    console.log("Document data:", librarySnapshot.docs);

    // so render functions know when to actually be called
    handleDatabaseUpdate();
  }

  function handleDatabaseUpdate() {
    databaseUpdateListeners.forEach((listener) => listener());
  }

  function onDatabaseUpdate(callback) {
    databaseUpdateListeners.push(callback);
  }

  // all of these functions are asynchronous, because I want to make sure
  // I don't try to re-render before the data is updated
  async function addBook(bookData) {
    const { serverTimestamp } = firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.firestore.FieldValue;

    await libraryRef.add({
      addedTimestamp: serverTimestamp(),
      lastChangedTimestamp: serverTimestamp(),
      ...bookData,
    });

    handleDatabaseUpdate();
  }

  async function setBook(bookData) {
    const { serverTimestamp } = firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.firestore.FieldValue;
    await libraryRef.doc(bookData.id).set(
      {
        lastChangedTimestamp: serverTimestamp(),
        ...bookData,
      },
      {
        // b/c at the very least I want to keep addedTimestamp
        merge: true,
      }
    );
  }

  async function removeBook(bookId) {
    if (!libraryRef) {
      console.log("no library reference");
      return;
    }

    const selectedBookRef = await libraryRef.doc(bookId);
    selectedBookRef
      .delete()
      .then(() => {
        console.log(`${bookId} successfully deleted!`);
      })
      .catch(() => {
        console.log(`Error deleting ${bookId}!`);
      });

    handleDatabaseUpdate();
  }

  async function getBooks() {
    if (!libraryRef) {
      return null;
    }

    const librarySnapshot = await libraryRef.get();
    return librarySnapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }));
  }

  return {
    addBook,
    setBook,
    removeBook,
    getBooks,
    onDatabaseUpdate,
  };
}


/***/ }),

/***/ "./src/scripts/form-validation.js":
/*!****************************************!*\
  !*** ./src/scripts/form-validation.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ validateForm)
/* harmony export */ });
// TODO: fix this mess
// - should be passing the event from the form submission,
// which has the data from all the inputs
// - should return some sort of object which contains:
//   - the input that failed to validate
//   - the error message
function validateForm(form, library) {
  const inputs = form.querySelectorAll("input[required]");

  const emptyInput = [...inputs].find((input) => input.value === "");

  if (emptyInput) {
    return {
      valid: false,
      message: "Please fill out this field!",
      input: emptyInput,
    };
  }

  // TODO: WELP. DON'T LIKE THIS.
  for (let i = 0; i < inputs.length; i++) {
    if (
      inputs[i].name === "id" &&
      library.some((book) => book.id === inputs[i].value)
    ) {
      return {
        valid: false,
        input: inputs[i],
        message: "id must be unique!",
      };
    }
    if (inputs[i].type === "number" && inputs[i].value < 1) {
      return {
        valid: false,
        input: inputs[i],
        message: "Page count can't be negative!",
      };
    }
  }

  return true;
}


/***/ }),

/***/ "./src/scripts/modal.js":
/*!******************************!*\
  !*** ./src/scripts/modal.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ modalView)
/* harmony export */ });
/* harmony import */ var _dom_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom-helpers */ "./src/scripts/dom-helpers.js");
/* harmony import */ var _form_validation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./form-validation */ "./src/scripts/form-validation.js");



function modalView(addBook) {
  const modalAddBookCntr = document.querySelector("#modal-container-addbook");

  const inputs = modalAddBookCntr.querySelectorAll("input");

  const submitButton = modalAddBookCntr
    .querySelector("form")
    .querySelector("button");

  const closeModalBtn = (0,_dom_helpers__WEBPACK_IMPORTED_MODULE_0__.getCloseButton)(handleCloseModal);
  modalAddBookCntr.querySelector(".modal").appendChild(closeModalBtn);

  submitButton.addEventListener("click", handleSubmitForm);

  function handleCloseModal() {
    modalAddBookCntr.classList.add("hidden");
    inputs.forEach((input) => {
      input.value = "";
      input.checked = false;
    });
  }

  // TODO: refactor to use event object!!
  function handleSubmitForm() {
    const validationResponse = (0,_form_validation__WEBPACK_IMPORTED_MODULE_1__.default)(modalAddBookCntr);

    // need to use *strict* equality, because if false I return an error obj
    // (sorry)
    if (validationResponse !== true) {
      validationFailDisplay(
        validationResponse.input,
        validationResponse.message
      );
      return;
    }

    const bookArgs = {};
    modalAddBookCntr.querySelectorAll("input").forEach((input) => {
      bookArgs[input.name] =
        input.type === "checkbox" ? input.checked : input.value;
    });

    addBook(bookArgs);

    handleCloseModal();
  }

  function validationFailDisplay(element, msg) {
    const decay = 1; // error message timeout, in seconds

    element.classList.remove("validation-failed");
    window.clearTimeout(timeout);
    element.classList.add("validation-failed");
    element.style.animationDuration = `${decay}s`;

    const popup = document.createElement("div");
    popup.classList.add("card");
    popup.classList.add("form-validation-error");
    popup.textContent = msg;
    element.parentElement.appendChild(popup);
    window.setTimeout(timeout, decay * 1000);

    function timeout() {
      element.classList.remove("validation-failed");
      popup.remove();
    }
  }

  return modalAddBookCntr;
}


/***/ }),

/***/ "./src/scripts/views/book-view.js":
/*!****************************************!*\
  !*** ./src/scripts/views/book-view.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _dom_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom-helpers */ "./src/scripts/dom-helpers.js");


const bookView = (book, onIsReadChange, onDeleteBook) => {
  const getBookPropertyElement = (property) => {
    const bookPropertyElement = document.createElement("div");
    bookPropertyElement.textContent = book[property];
    bookPropertyElement.classList.add("book-prop");
    bookPropertyElement.classList.add(`book-${property}`);

    return bookPropertyElement;
  };

  const updateIsReadStyle = (isRead) => {
    if (isRead) {
      bookElement.classList.add("semi-transparent");
    } else {
      bookElement.classList.remove("semi-transparent");
    }
  };

  //* Container
  const bookElement = document.createElement("div");
  bookElement.classList.add("book", "card");
  updateIsReadStyle(book.isRead);

  //* Property elements
  const title = getBookPropertyElement("title");
  const author = getBookPropertyElement("author");
  const pageCount = getBookPropertyElement("pageCount");
  const isRead = (0,_dom_helpers__WEBPACK_IMPORTED_MODULE_0__.makeSwitch)(
    "is read:",
    "isRead",
    book.isRead,
    (switchValue) => {
      onIsReadChange(book.id, switchValue);
      updateIsReadStyle(switchValue);
    }
  );

  //* Delete button
  const deleteBtn = (0,_dom_helpers__WEBPACK_IMPORTED_MODULE_0__.getCloseButton)(() => {
    onDeleteBook(book.id);
  });

  deleteBtn.classList.add("hidden");
  ["mouseenter", "mouseleave"].forEach((eventType) => {
    bookElement.addEventListener(eventType, () => {
      deleteBtn.classList.toggle("hidden");
    });
  });

  //* Add everything together
  [title, author, pageCount, isRead, deleteBtn].forEach((element) => {
    bookElement.appendChild(element);
  });

  return bookElement;
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (bookView);


/***/ }),

/***/ "./src/scripts/views/library-view.js":
/*!*******************************************!*\
  !*** ./src/scripts/views/library-view.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _book_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./book-view */ "./src/scripts/views/book-view.js");


// TODO: not sure if I should generate or query for the container
const LibraryView = (books, setBook, removeBook) => {
  // * Define html
  const bookHeadingsHtml = `
      <div class='book-prop'>Title</div>
      <div class='book-prop'>Author</div>
      <div class='book-prop'>Page count</div>
      <div class='book-prop'>Read status</div>
  `;
  const bookHeadings = document.createElement("div");
  bookHeadings.classList.add("card", "book", "library-header");
  bookHeadings.innerHTML = bookHeadingsHtml;

  const libraryElement = document.createElement("div");
  libraryElement.classList.add("library");

  libraryElement.appendChild(bookHeadings);

  books.forEach((book) => {
    libraryElement.appendChild((0,_book_view__WEBPACK_IMPORTED_MODULE_0__.default)(book, setBook, removeBook));
  });

  return libraryElement;
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LibraryView);


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!******************************!*\
  !*** ./src/scripts/index.js ***!
  \******************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _styles_reset_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../styles/reset.css */ "./src/styles/reset.css");
/* harmony import */ var _styles_style_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/style.css */ "./src/styles/style.css");
/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modal */ "./src/scripts/modal.js");
/* harmony import */ var _views_library_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./views/library-view */ "./src/scripts/views/library-view.js");
/* harmony import */ var _dom_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dom-helpers */ "./src/scripts/dom-helpers.js");
/* harmony import */ var _firebase_init__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./firebase-init */ "./src/scripts/firebase-init.js");
// TODO: refactor styles into a "preload" js bundle



// import { load, save } from "./handle-local-storage";





const renderListeners = [];

function render() {
  renderListeners.forEach((listener) => listener());
}

// define function for adding render listeners
function addRenderListener(listener) {
  renderListeners.push(listener);
}

function renderView(view, container) {
  (0,_dom_helpers__WEBPACK_IMPORTED_MODULE_4__.clearChildren)(container);
  container.appendChild(view);
}

// pretty sure I actually want to replace Library with Firestore entirely
// firebaseHandler just needs to be passed onAdd/onRemove/onSet
const onAuthStateChange = (0,_firebase_init__WEBPACK_IMPORTED_MODULE_5__.authHandler)();
const db = (0,_firebase_init__WEBPACK_IMPORTED_MODULE_5__.firestoreHandler)(onAuthStateChange);

async function renderLibrary() {
  const books = (await db.getBooks()) ?? [];
  console.log("books", books);
  const libraryContainer = document.querySelector(".library-container");
  const libraryView = (0,_views_library_view__WEBPACK_IMPORTED_MODULE_3__.default)(books, db.setBook, db.removeBook);
  renderView(libraryView, libraryContainer);
  // save(books);
}

addRenderListener(renderLibrary);

// * Initialize modal "Add Book" form
const addBookModal = (0,_modal__WEBPACK_IMPORTED_MODULE_2__.default)(db.addBook);

document.querySelector(".add-book-btn").addEventListener("click", () => {
  addBookModal.classList.toggle("hidden");
});

// library should re-render when the database changes
db.onDatabaseUpdate(render);

//! TEMP "RE-RENDER" BUTTON
const renderBtn = document.createElement("button");
renderBtn.addEventListener("click", render);
renderBtn.textContent = "re-render";
document.querySelector("main").appendChild(renderBtn);

// TODO: init stats renderer

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvLi9lbnYuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9jb21wb25lbnQvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9sb2dnZXIvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL2Rpc3QvaW5kZXguZXNtLmpzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL3NyYy9zdHlsZXMvcmVzZXQuY3NzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL3NyYy9zdHlsZXMvc3R5bGUuY3NzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qcyIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvLi9ub2RlX21vZHVsZXMvZmlyZWJhc2UvYXBwL2Rpc3QvaW5kZXguZXNtLmpzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL25vZGVfbW9kdWxlcy9maXJlYmFzZS9maXJlYmFzZS1hdXRoLmpzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL25vZGVfbW9kdWxlcy9maXJlYmFzZS9maXJlYmFzZS1maXJlc3RvcmUuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vc3JjL3N0eWxlcy9yZXNldC5jc3M/NGNmYiIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvLi9zcmMvc3R5bGVzL3N0eWxlLmNzcz9mZjk0Iiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL3NyYy9zY3JpcHRzL2RvbS1oZWxwZXJzLmpzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL3NyYy9zY3JpcHRzL2ZpcmViYXNlLWNvbmZpZy5qcyIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvLi9zcmMvc2NyaXB0cy9maXJlYmFzZS1pbml0LmpzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL3NyYy9zY3JpcHRzL2Zvcm0tdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvLi9zcmMvc2NyaXB0cy9tb2RhbC5qcyIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvLi9zcmMvc2NyaXB0cy92aWV3cy9ib29rLXZpZXcuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vc3JjL3NjcmlwdHMvdmlld3MvbGlicmFyeS12aWV3LmpzIiwid2VicGFjazovL29kaW4tbGlicmFyeS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vc3JjL3NjcmlwdHMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlFQUFlLEdBQUcsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDVGM7QUFDaUY7QUFDOUM7QUFDTTs7QUFFMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixtREFBbUQsU0FBUztBQUM1RDtBQUNBLGlFQUFpRSxTQUFTO0FBQzFFLG9FQUFvRSxTQUFTO0FBQzdFLGdFQUFnRSxTQUFTO0FBQ3pFLHVFQUF1RSxTQUFTO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3REFBWTs7QUFFcEM7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRWtEO0FBQ25EOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDellBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpREFBaUQsUUFBUTtBQUN6RCx3Q0FBd0MsUUFBUTtBQUNoRCx3REFBd0QsUUFBUTtBQUNoRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRCQUE0QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1QkFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHVCQUF1QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsNENBQTRDLFlBQVksRUFBRTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx5QkFBeUI7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7O0FBRTREO0FBQzVEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDOVJrQzs7QUFFbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixlQUFlO0FBQ25DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdCQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtCQUFrQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0JBQWtCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw4QkFBOEI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkMsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsRUFBRTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxxQkFBTTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1QkFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUJBQWlCLE1BQU0sSUFBSTs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsWUFBWSxFQUFFO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixhQUFhLFdBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDJCQUEyQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFD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LFVBQVUsWUFBWSxhQUFhLFdBQVcsWUFBWSxPQUFPLEtBQUssVUFBVSxZQUFZLFdBQVcsWUFBWSxhQUFhLE9BQU8sS0FBSyxVQUFVLFVBQVUsVUFBVSxZQUFZLE9BQU8sS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksV0FBVyxVQUFVLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsVUFBVSxZQUFZLFdBQVcsVUFBVSxZQUFZLGFBQWEsYUFBYSxhQUFhLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFlBQVksT0FBTyxLQUFLLFVBQVUsTUFBTSxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLHNCQUFzQixPQUFPLEtBQUssVUFBVSxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsT0FBTyxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsVUFBVSxZQUFZLE1BQU0sS0FBSyxVQUFVLEtBQUssS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sVUFBVSxLQUFLLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsWUFBWSxPQUFPLEtBQUssVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLGFBQWEsYUFBYSxhQUFhLFdBQVcsVUFBVSxZQUFZLFlBQVksVUFBVSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssVUFBVSxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLFdBQVcsT0FBTyxLQUFLLFlBQVksV0FBVyxZQUFZLE9BQU8sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLFdB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bnQiOlsiY29uc3QgZW52ID0ge1xuICBBUElfS0VZOiBcIkFJemFTeUF3ZWdWN3hsYlRabElkTGlqUFlrLWN5TWdlenUwX096c1wiLFxuICBBVVRIX0RPTUFJTjogXCJvZGlubGlicmFyeS1mNS5maXJlYmFzZWFwcC5jb21cIixcbiAgUFJPSkVDVF9JRDogXCJvZGlubGlicmFyeS1mNVwiLFxuICBTVE9SQUdFX0JVQ0tFVDogXCJvZGlubGlicmFyeS1mNS5hcHBzcG90LmNvbVwiLFxuICBNRVNTQUdJTkdfU0VOREVSX0lEOiBcIjEwOTI3Mzc0MTM0NDFcIixcbiAgQVBQX0lEOiBcIjE6MTA5MjczNzQxMzQ0MTp3ZWI6YTg3OTcwOWM5ZTdmNWMzZGI2NzFjMFwiLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZW52O1xuIiwiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tICd0c2xpYic7XG5pbXBvcnQgeyBFcnJvckZhY3RvcnksIGRlZXBDb3B5LCBjb250YWlucywgZGVlcEV4dGVuZCwgY3JlYXRlU3Vic2NyaWJlLCBpc0Jyb3dzZXIsIGlzTm9kZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IENvbXBvbmVudENvbnRhaW5lciwgQ29tcG9uZW50IH0gZnJvbSAnQGZpcmViYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBMb2dnZXIsIHNldExvZ0xldmVsLCBzZXRVc2VyTG9nSGFuZGxlciB9IGZyb20gJ0BmaXJlYmFzZS9sb2dnZXInO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgX2E7XHJcbnZhciBFUlJPUlMgPSAoX2EgPSB7fSxcclxuICAgIF9hW1wibm8tYXBwXCIgLyogTk9fQVBQICovXSA9IFwiTm8gRmlyZWJhc2UgQXBwICd7JGFwcE5hbWV9JyBoYXMgYmVlbiBjcmVhdGVkIC0gXCIgK1xyXG4gICAgICAgICdjYWxsIEZpcmViYXNlIEFwcC5pbml0aWFsaXplQXBwKCknLFxyXG4gICAgX2FbXCJiYWQtYXBwLW5hbWVcIiAvKiBCQURfQVBQX05BTUUgKi9dID0gXCJJbGxlZ2FsIEFwcCBuYW1lOiAneyRhcHBOYW1lfVwiLFxyXG4gICAgX2FbXCJkdXBsaWNhdGUtYXBwXCIgLyogRFVQTElDQVRFX0FQUCAqL10gPSBcIkZpcmViYXNlIEFwcCBuYW1lZCAneyRhcHBOYW1lfScgYWxyZWFkeSBleGlzdHNcIixcclxuICAgIF9hW1wiYXBwLWRlbGV0ZWRcIiAvKiBBUFBfREVMRVRFRCAqL10gPSBcIkZpcmViYXNlIEFwcCBuYW1lZCAneyRhcHBOYW1lfScgYWxyZWFkeSBkZWxldGVkXCIsXHJcbiAgICBfYVtcImludmFsaWQtYXBwLWFyZ3VtZW50XCIgLyogSU5WQUxJRF9BUFBfQVJHVU1FTlQgKi9dID0gJ2ZpcmViYXNlLnskYXBwTmFtZX0oKSB0YWtlcyBlaXRoZXIgbm8gYXJndW1lbnQgb3IgYSAnICtcclxuICAgICAgICAnRmlyZWJhc2UgQXBwIGluc3RhbmNlLicsXHJcbiAgICBfYVtcImludmFsaWQtbG9nLWFyZ3VtZW50XCIgLyogSU5WQUxJRF9MT0dfQVJHVU1FTlQgKi9dID0gJ0ZpcnN0IGFyZ3VtZW50IHRvIGBvbkxvZ2AgbXVzdCBiZSBudWxsIG9yIGEgZnVuY3Rpb24uJyxcclxuICAgIF9hKTtcclxudmFyIEVSUk9SX0ZBQ1RPUlkgPSBuZXcgRXJyb3JGYWN0b3J5KCdhcHAnLCAnRmlyZWJhc2UnLCBFUlJPUlMpO1xuXG52YXIgbmFtZSA9IFwiQGZpcmViYXNlL2FwcFwiO1xudmFyIHZlcnNpb24gPSBcIjAuNi4yMFwiO1xuXG52YXIgbmFtZSQxID0gXCJAZmlyZWJhc2UvYW5hbHl0aWNzXCI7XG5cbnZhciBuYW1lJDIgPSBcIkBmaXJlYmFzZS9hdXRoXCI7XG5cbnZhciBuYW1lJDMgPSBcIkBmaXJlYmFzZS9kYXRhYmFzZVwiO1xuXG52YXIgbmFtZSQ0ID0gXCJAZmlyZWJhc2UvZnVuY3Rpb25zXCI7XG5cbnZhciBuYW1lJDUgPSBcIkBmaXJlYmFzZS9pbnN0YWxsYXRpb25zXCI7XG5cbnZhciBuYW1lJDYgPSBcIkBmaXJlYmFzZS9tZXNzYWdpbmdcIjtcblxudmFyIG5hbWUkNyA9IFwiQGZpcmViYXNlL3BlcmZvcm1hbmNlXCI7XG5cbnZhciBuYW1lJDggPSBcIkBmaXJlYmFzZS9yZW1vdGUtY29uZmlnXCI7XG5cbnZhciBuYW1lJDkgPSBcIkBmaXJlYmFzZS9zdG9yYWdlXCI7XG5cbnZhciBuYW1lJGEgPSBcIkBmaXJlYmFzZS9maXJlc3RvcmVcIjtcblxudmFyIG5hbWUkYiA9IFwiZmlyZWJhc2Utd3JhcHBlclwiO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgX2EkMTtcclxudmFyIERFRkFVTFRfRU5UUllfTkFNRSA9ICdbREVGQVVMVF0nO1xyXG52YXIgUExBVEZPUk1fTE9HX1NUUklORyA9IChfYSQxID0ge30sXHJcbiAgICBfYSQxW25hbWVdID0gJ2ZpcmUtY29yZScsXHJcbiAgICBfYSQxW25hbWUkMV0gPSAnZmlyZS1hbmFseXRpY3MnLFxyXG4gICAgX2EkMVtuYW1lJDJdID0gJ2ZpcmUtYXV0aCcsXHJcbiAgICBfYSQxW25hbWUkM10gPSAnZmlyZS1ydGRiJyxcclxuICAgIF9hJDFbbmFtZSQ0XSA9ICdmaXJlLWZuJyxcclxuICAgIF9hJDFbbmFtZSQ1XSA9ICdmaXJlLWlpZCcsXHJcbiAgICBfYSQxW25hbWUkNl0gPSAnZmlyZS1mY20nLFxyXG4gICAgX2EkMVtuYW1lJDddID0gJ2ZpcmUtcGVyZicsXHJcbiAgICBfYSQxW25hbWUkOF0gPSAnZmlyZS1yYycsXHJcbiAgICBfYSQxW25hbWUkOV0gPSAnZmlyZS1nY3MnLFxyXG4gICAgX2EkMVtuYW1lJGFdID0gJ2ZpcmUtZnN0JyxcclxuICAgIF9hJDFbJ2ZpcmUtanMnXSA9ICdmaXJlLWpzJyxcclxuICAgIF9hJDFbbmFtZSRiXSA9ICdmaXJlLWpzLWFsbCcsXHJcbiAgICBfYSQxKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIGxvZ2dlciA9IG5ldyBMb2dnZXIoJ0BmaXJlYmFzZS9hcHAnKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEdsb2JhbCBjb250ZXh0IG9iamVjdCBmb3IgYSBjb2xsZWN0aW9uIG9mIHNlcnZpY2VzIHVzaW5nXHJcbiAqIGEgc2hhcmVkIGF1dGhlbnRpY2F0aW9uIHN0YXRlLlxyXG4gKi9cclxudmFyIEZpcmViYXNlQXBwSW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEZpcmViYXNlQXBwSW1wbChvcHRpb25zLCBjb25maWcsIGZpcmViYXNlXykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5maXJlYmFzZV8gPSBmaXJlYmFzZV87XHJcbiAgICAgICAgdGhpcy5pc0RlbGV0ZWRfID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5uYW1lXyA9IGNvbmZpZy5uYW1lO1xyXG4gICAgICAgIHRoaXMuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkXyA9XHJcbiAgICAgICAgICAgIGNvbmZpZy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zXyA9IGRlZXBDb3B5KG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gbmV3IENvbXBvbmVudENvbnRhaW5lcihjb25maWcubmFtZSk7XHJcbiAgICAgICAgLy8gYWRkIGl0c2VsZiB0byBjb250YWluZXJcclxuICAgICAgICB0aGlzLl9hZGRDb21wb25lbnQobmV3IENvbXBvbmVudCgnYXBwJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXM7IH0sIFwiUFVCTElDXCIgLyogUFVCTElDICovKSk7XHJcbiAgICAgICAgLy8gcG9wdWxhdGUgQ29tcG9uZW50Q29udGFpbmVyIHdpdGggZXhpc3RpbmcgY29tcG9uZW50c1xyXG4gICAgICAgIHRoaXMuZmlyZWJhc2VfLklOVEVSTkFMLmNvbXBvbmVudHMuZm9yRWFjaChmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWRcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkXygpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWRfO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tEZXN0cm95ZWRfKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkXyA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJuYW1lXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZF8oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmFtZV87XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGUsIFwib3B0aW9uc1wiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tEZXN0cm95ZWRfKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNfO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIEZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmNoZWNrRGVzdHJveWVkXygpO1xyXG4gICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5maXJlYmFzZV8uSU5URVJOQUwucmVtb3ZlQXBwKF90aGlzLm5hbWVfKTtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKF90aGlzLmNvbnRhaW5lci5nZXRQcm92aWRlcnMoKS5tYXAoZnVuY3Rpb24gKHByb3ZpZGVyKSB7IHJldHVybiBwcm92aWRlci5kZWxldGUoKTsgfSkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuaXNEZWxldGVkXyA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gYSBzZXJ2aWNlIGluc3RhbmNlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGFwcCAoY3JlYXRpbmcgaXRcclxuICAgICAqIG9uIGRlbWFuZCksIGlkZW50aWZpZWQgYnkgdGhlIHBhc3NlZCBpbnN0YW5jZUlkZW50aWZpZXIuXHJcbiAgICAgKlxyXG4gICAgICogTk9URTogQ3VycmVudGx5IHN0b3JhZ2UgYW5kIGZ1bmN0aW9ucyBhcmUgdGhlIG9ubHkgb25lcyB0aGF0IGFyZSBsZXZlcmFnaW5nIHRoaXNcclxuICAgICAqIGZ1bmN0aW9uYWxpdHkuIFRoZXkgaW52b2tlIGl0IGJ5IGNhbGxpbmc6XHJcbiAgICAgKlxyXG4gICAgICogYGBgamF2YXNjcmlwdFxyXG4gICAgICogZmlyZWJhc2UuYXBwKCkuc3RvcmFnZSgnU1RPUkFHRSBCVUNLRVQgSUQnKVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogVGhlIHNlcnZpY2UgbmFtZSBpcyBwYXNzZWQgdG8gdGhpcyBhbHJlYWR5XHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZS5fZ2V0U2VydmljZSA9IGZ1bmN0aW9uIChuYW1lLCBpbnN0YW5jZUlkZW50aWZpZXIpIHtcclxuICAgICAgICBpZiAoaW5zdGFuY2VJZGVudGlmaWVyID09PSB2b2lkIDApIHsgaW5zdGFuY2VJZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZF8oKTtcclxuICAgICAgICAvLyBnZXRJbW1lZGlhdGUgd2lsbCBhbHdheXMgc3VjY2VlZCBiZWNhdXNlIF9nZXRTZXJ2aWNlIGlzIG9ubHkgY2FsbGVkIGZvciByZWdpc3RlcmVkIGNvbXBvbmVudHMuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFByb3ZpZGVyKG5hbWUpLmdldEltbWVkaWF0ZSh7XHJcbiAgICAgICAgICAgIGlkZW50aWZpZXI6IGluc3RhbmNlSWRlbnRpZmllclxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGEgc2VydmljZSBpbnN0YW5jZSBmcm9tIHRoZSBjYWNoZSwgc28gd2Ugd2lsbCBjcmVhdGUgYSBuZXcgaW5zdGFuY2UgZm9yIHRoaXMgc2VydmljZVxyXG4gICAgICogd2hlbiBwZW9wbGUgdHJ5IHRvIGdldCB0aGlzIHNlcnZpY2UgYWdhaW4uXHJcbiAgICAgKlxyXG4gICAgICogTk9URTogY3VycmVudGx5IG9ubHkgZmlyZXN0b3JlIGlzIHVzaW5nIHRoaXMgZnVuY3Rpb25hbGl0eSB0byBzdXBwb3J0IGZpcmVzdG9yZSBzaHV0ZG93bi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgc2VydmljZSBuYW1lXHJcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2VJZGVudGlmaWVyIGluc3RhbmNlIGlkZW50aWZpZXIgaW4gY2FzZSBtdWx0aXBsZSBpbnN0YW5jZXMgYXJlIGFsbG93ZWRcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLl9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UgPSBmdW5jdGlvbiAobmFtZSwgaW5zdGFuY2VJZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGluc3RhbmNlSWRlbnRpZmllciA9PT0gdm9pZCAwKSB7IGluc3RhbmNlSWRlbnRpZmllciA9IERFRkFVTFRfRU5UUllfTkFNRTsgfVxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0UHJvdmlkZXIobmFtZSkuY2xlYXJJbnN0YW5jZShpbnN0YW5jZUlkZW50aWZpZXIpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCB0aGUgY29tcG9uZW50IGJlaW5nIGFkZGVkIHRvIHRoaXMgYXBwJ3MgY29udGFpbmVyXHJcbiAgICAgKi9cclxuICAgIEZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGUuX2FkZENvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDb21wb25lbnQoY29tcG9uZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKFwiQ29tcG9uZW50IFwiICsgY29tcG9uZW50Lm5hbWUgKyBcIiBmYWlsZWQgdG8gcmVnaXN0ZXIgd2l0aCBGaXJlYmFzZUFwcCBcIiArIHRoaXMubmFtZSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGUuX2FkZE9yT3ZlcndyaXRlQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZE9yT3ZlcndyaXRlQ29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICB9O1xyXG4gICAgRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxyXG4gICAgICAgICAgICBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQ6IHRoaXMuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkLFxyXG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnNcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIHRocm93IGFuIEVycm9yIGlmIHRoZSBBcHAgaGFzIGFscmVhZHkgYmVlbiBkZWxldGVkIC1cclxuICAgICAqIHVzZSBiZWZvcmUgcGVyZm9ybWluZyBBUEkgYWN0aW9ucyBvbiB0aGUgQXBwLlxyXG4gICAgICovXHJcbiAgICBGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLmNoZWNrRGVzdHJveWVkXyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0RlbGV0ZWRfKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiYXBwLWRlbGV0ZWRcIiAvKiBBUFBfREVMRVRFRCAqLywgeyBhcHBOYW1lOiB0aGlzLm5hbWVfIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gRmlyZWJhc2VBcHBJbXBsO1xyXG59KCkpO1xyXG4vLyBQcmV2ZW50IGRlYWQtY29kZSBlbGltaW5hdGlvbiBvZiB0aGVzZSBtZXRob2RzIHcvbyBpbnZhbGlkIHByb3BlcnR5XHJcbi8vIGNvcHlpbmcuXHJcbihGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLm5hbWUgJiYgRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZS5vcHRpb25zKSB8fFxyXG4gICAgRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZS5kZWxldGUgfHxcclxuICAgIGNvbnNvbGUubG9nKCdkYycpO1xuXG52YXIgdmVyc2lvbiQxID0gXCI4LjQuMFwiO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQmVjYXVzZSBhdXRoIGNhbid0IHNoYXJlIGNvZGUgd2l0aCBvdGhlciBjb21wb25lbnRzLCB3ZSBhdHRhY2ggdGhlIHV0aWxpdHkgZnVuY3Rpb25zXHJcbiAqIGluIGFuIGludGVybmFsIG5hbWVzcGFjZSB0byBzaGFyZSBjb2RlLlxyXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHVybiBhIGZpcmViYXNlIG5hbWVzcGFjZSBvYmplY3Qgd2l0aG91dFxyXG4gKiBhbnkgdXRpbGl0eSBmdW5jdGlvbnMsIHNvIGl0IGNhbiBiZSBzaGFyZWQgYmV0d2VlbiB0aGUgcmVndWxhciBmaXJlYmFzZU5hbWVzcGFjZSBhbmRcclxuICogdGhlIGxpdGUgdmVyc2lvbi5cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUZpcmViYXNlTmFtZXNwYWNlQ29yZShmaXJlYmFzZUFwcEltcGwpIHtcclxuICAgIHZhciBhcHBzID0ge307XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgdmFyIGNvbXBvbmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICAvLyBBIG5hbWVzcGFjZSBpcyBhIHBsYWluIEphdmFTY3JpcHQgT2JqZWN0LlxyXG4gICAgdmFyIG5hbWVzcGFjZSA9IHtcclxuICAgICAgICAvLyBIYWNrIHRvIHByZXZlbnQgQmFiZWwgZnJvbSBtb2RpZnlpbmcgdGhlIG9iamVjdCByZXR1cm5lZFxyXG4gICAgICAgIC8vIGFzIHRoZSBmaXJlYmFzZSBuYW1lc3BhY2UuXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIF9fZXNNb2R1bGU6IHRydWUsXHJcbiAgICAgICAgaW5pdGlhbGl6ZUFwcDogaW5pdGlhbGl6ZUFwcCxcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgYXBwOiBhcHAsXHJcbiAgICAgICAgcmVnaXN0ZXJWZXJzaW9uOiByZWdpc3RlclZlcnNpb24sXHJcbiAgICAgICAgc2V0TG9nTGV2ZWw6IHNldExvZ0xldmVsLFxyXG4gICAgICAgIG9uTG9nOiBvbkxvZyxcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgYXBwczogbnVsbCxcclxuICAgICAgICBTREtfVkVSU0lPTjogdmVyc2lvbiQxLFxyXG4gICAgICAgIElOVEVSTkFMOiB7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVyQ29tcG9uZW50OiByZWdpc3RlckNvbXBvbmVudCxcclxuICAgICAgICAgICAgcmVtb3ZlQXBwOiByZW1vdmVBcHAsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudHMsXHJcbiAgICAgICAgICAgIHVzZUFzU2VydmljZTogdXNlQXNTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIEluamVjdCBhIGNpcmN1bGFyIGRlZmF1bHQgZXhwb3J0IHRvIGFsbG93IEJhYmVsIHVzZXJzIHdobyB3ZXJlIHByZXZpb3VzbHlcclxuICAgIC8vIHVzaW5nOlxyXG4gICAgLy9cclxuICAgIC8vICAgaW1wb3J0IGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlJztcclxuICAgIC8vICAgd2hpY2ggYmVjb21lczogdmFyIGZpcmViYXNlID0gcmVxdWlyZSgnZmlyZWJhc2UnKS5kZWZhdWx0O1xyXG4gICAgLy9cclxuICAgIC8vIGluc3RlYWQgb2ZcclxuICAgIC8vXHJcbiAgICAvLyAgIGltcG9ydCAqIGFzIGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlJztcclxuICAgIC8vICAgd2hpY2ggYmVjb21lczogdmFyIGZpcmViYXNlID0gcmVxdWlyZSgnZmlyZWJhc2UnKTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICBuYW1lc3BhY2VbJ2RlZmF1bHQnXSA9IG5hbWVzcGFjZTtcclxuICAgIC8vIGZpcmViYXNlLmFwcHMgaXMgYSByZWFkLW9ubHkgZ2V0dGVyLlxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5hbWVzcGFjZSwgJ2FwcHMnLCB7XHJcbiAgICAgICAgZ2V0OiBnZXRBcHBzXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIGJ5IEFwcC5kZWxldGUoKSAtIGJ1dCBiZWZvcmUgYW55IHNlcnZpY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgQXBwXHJcbiAgICAgKiBhcmUgZGVsZXRlZC5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQXBwKG5hbWUpIHtcclxuICAgICAgICBkZWxldGUgYXBwc1tuYW1lXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBBcHAgb2JqZWN0IGZvciBhIGdpdmVuIG5hbWUgKG9yIERFRkFVTFQpLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBhcHAobmFtZSkge1xyXG4gICAgICAgIG5hbWUgPSBuYW1lIHx8IERFRkFVTFRfRU5UUllfTkFNRTtcclxuICAgICAgICBpZiAoIWNvbnRhaW5zKGFwcHMsIG5hbWUpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwibm8tYXBwXCIgLyogTk9fQVBQICovLCB7IGFwcE5hbWU6IG5hbWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcHBzW25hbWVdO1xyXG4gICAgfVxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgYXBwWydBcHAnXSA9IGZpcmViYXNlQXBwSW1wbDtcclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVBcHAob3B0aW9ucywgcmF3Q29uZmlnKSB7XHJcbiAgICAgICAgaWYgKHJhd0NvbmZpZyA9PT0gdm9pZCAwKSB7IHJhd0NvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiByYXdDb25maWcgIT09ICdvYmplY3QnIHx8IHJhd0NvbmZpZyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB2YXIgbmFtZV8xID0gcmF3Q29uZmlnO1xyXG4gICAgICAgICAgICByYXdDb25maWcgPSB7IG5hbWU6IG5hbWVfMSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY29uZmlnID0gcmF3Q29uZmlnO1xyXG4gICAgICAgIGlmIChjb25maWcubmFtZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZy5uYW1lID0gREVGQVVMVF9FTlRSWV9OQU1FO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbmFtZSA9IGNvbmZpZy5uYW1lO1xyXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgIW5hbWUpIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJiYWQtYXBwLW5hbWVcIiAvKiBCQURfQVBQX05BTUUgKi8sIHtcclxuICAgICAgICAgICAgICAgIGFwcE5hbWU6IFN0cmluZyhuYW1lKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbnRhaW5zKGFwcHMsIG5hbWUpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiZHVwbGljYXRlLWFwcFwiIC8qIERVUExJQ0FURV9BUFAgKi8sIHsgYXBwTmFtZTogbmFtZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGFwcCA9IG5ldyBmaXJlYmFzZUFwcEltcGwob3B0aW9ucywgY29uZmlnLCBuYW1lc3BhY2UpO1xyXG4gICAgICAgIGFwcHNbbmFtZV0gPSBhcHA7XHJcbiAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgIH1cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYW4gYXJyYXkgb2YgYWxsIHRoZSBub24tZGVsZXRlZCBGaXJlYmFzZUFwcHMuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldEFwcHMoKSB7XHJcbiAgICAgICAgLy8gTWFrZSBhIGNvcHkgc28gY2FsbGVyIGNhbm5vdCBtdXRhdGUgdGhlIGFwcHMgbGlzdC5cclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoYXBwcykubWFwKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBhcHBzW25hbWVdOyB9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudCkge1xyXG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gY29tcG9uZW50Lm5hbWU7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudHMuaGFzKGNvbXBvbmVudE5hbWUpKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhcIlRoZXJlIHdlcmUgbXVsdGlwbGUgYXR0ZW1wdHMgdG8gcmVnaXN0ZXIgY29tcG9uZW50IFwiICsgY29tcG9uZW50TmFtZSArIFwiLlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudC50eXBlID09PSBcIlBVQkxJQ1wiIC8qIFBVQkxJQyAqL1xyXG4gICAgICAgICAgICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZVtjb21wb25lbnROYW1lXVxyXG4gICAgICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb21wb25lbnRzLnNldChjb21wb25lbnROYW1lLCBjb21wb25lbnQpO1xyXG4gICAgICAgIC8vIGNyZWF0ZSBzZXJ2aWNlIG5hbWVzcGFjZSBmb3IgcHVibGljIGNvbXBvbmVudHNcclxuICAgICAgICBpZiAoY29tcG9uZW50LnR5cGUgPT09IFwiUFVCTElDXCIgLyogUFVCTElDICovKSB7XHJcbiAgICAgICAgICAgIC8vIFRoZSBTZXJ2aWNlIG5hbWVzcGFjZSBpcyBhbiBhY2Nlc3NvciBmdW5jdGlvbiAuLi5cclxuICAgICAgICAgICAgdmFyIHNlcnZpY2VOYW1lc3BhY2UgPSBmdW5jdGlvbiAoYXBwQXJnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXBwQXJnID09PSB2b2lkIDApIHsgYXBwQXJnID0gYXBwKCk7IH1cclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFwcEFyZ1tjb21wb25lbnROYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEludmFsaWQgYXJndW1lbnQuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBoYXBwZW5zIGluIHRoZSBmb2xsb3dpbmcgY2FzZTogZmlyZWJhc2Uuc3RvcmFnZSgnZ3M6LycpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJpbnZhbGlkLWFwcC1hcmd1bWVudFwiIC8qIElOVkFMSURfQVBQX0FSR1VNRU5UICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcE5hbWU6IGNvbXBvbmVudE5hbWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEZvcndhcmQgc2VydmljZSBpbnN0YW5jZSBsb29rdXAgdG8gdGhlIEZpcmViYXNlQXBwLlxyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcHBBcmdbY29tcG9uZW50TmFtZV0oKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gLi4uIGFuZCBhIGNvbnRhaW5lciBmb3Igc2VydmljZS1sZXZlbCBwcm9wZXJ0aWVzLlxyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50LnNlcnZpY2VQcm9wcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBkZWVwRXh0ZW5kKHNlcnZpY2VOYW1lc3BhY2UsIGNvbXBvbmVudC5zZXJ2aWNlUHJvcHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgIG5hbWVzcGFjZVtjb21wb25lbnROYW1lXSA9IHNlcnZpY2VOYW1lc3BhY2U7XHJcbiAgICAgICAgICAgIC8vIFBhdGNoIHRoZSBGaXJlYmFzZUFwcEltcGwgcHJvdG90eXBlXHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgIGZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGVbY29tcG9uZW50TmFtZV0gPVxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogVGhlIGVzbGludCBkaXNhYmxlIGNhbiBiZSByZW1vdmVkIGFuZCB0aGUgJ2lnbm9yZVJlc3RBcmdzJ1xyXG4gICAgICAgICAgICAgICAgLy8gb3B0aW9uIGFkZGVkIHRvIHRoZSBuby1leHBsaWNpdC1hbnkgcnVsZSB3aGVuIEVTbGludCByZWxlYXNlcyBpdC5cclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlRnhuID0gdGhpcy5fZ2V0U2VydmljZS5iaW5kKHRoaXMsIGNvbXBvbmVudE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlRnhuLmFwcGx5KHRoaXMsIGNvbXBvbmVudC5tdWx0aXBsZUluc3RhbmNlcyA/IGFyZ3MgOiBbXSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhZGQgdGhlIGNvbXBvbmVudCB0byBleGlzdGluZyBhcHAgaW5zdGFuY2VzXHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5rZXlzKGFwcHMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgYXBwTmFtZSA9IF9hW19pXTtcclxuICAgICAgICAgICAgYXBwc1thcHBOYW1lXS5fYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb21wb25lbnQudHlwZSA9PT0gXCJQVUJMSUNcIiAvKiBQVUJMSUMgKi9cclxuICAgICAgICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlW2NvbXBvbmVudE5hbWVdXHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyVmVyc2lvbihsaWJyYXJ5S2V5T3JOYW1lLCB2ZXJzaW9uLCB2YXJpYW50KSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIC8vIFRPRE86IFdlIGNhbiB1c2UgdGhpcyBjaGVjayB0byB3aGl0ZWxpc3Qgc3RyaW5ncyB3aGVuL2lmIHdlIHNldCB1cFxyXG4gICAgICAgIC8vIGEgZ29vZCB3aGl0ZWxpc3Qgc3lzdGVtLlxyXG4gICAgICAgIHZhciBsaWJyYXJ5ID0gKF9hID0gUExBVEZPUk1fTE9HX1NUUklOR1tsaWJyYXJ5S2V5T3JOYW1lXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbGlicmFyeUtleU9yTmFtZTtcclxuICAgICAgICBpZiAodmFyaWFudCkge1xyXG4gICAgICAgICAgICBsaWJyYXJ5ICs9IFwiLVwiICsgdmFyaWFudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGxpYnJhcnlNaXNtYXRjaCA9IGxpYnJhcnkubWF0Y2goL1xcc3xcXC8vKTtcclxuICAgICAgICB2YXIgdmVyc2lvbk1pc21hdGNoID0gdmVyc2lvbi5tYXRjaCgvXFxzfFxcLy8pO1xyXG4gICAgICAgIGlmIChsaWJyYXJ5TWlzbWF0Y2ggfHwgdmVyc2lvbk1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgIHZhciB3YXJuaW5nID0gW1xyXG4gICAgICAgICAgICAgICAgXCJVbmFibGUgdG8gcmVnaXN0ZXIgbGlicmFyeSBcXFwiXCIgKyBsaWJyYXJ5ICsgXCJcXFwiIHdpdGggdmVyc2lvbiBcXFwiXCIgKyB2ZXJzaW9uICsgXCJcXFwiOlwiXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGlmIChsaWJyYXJ5TWlzbWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIHdhcm5pbmcucHVzaChcImxpYnJhcnkgbmFtZSBcXFwiXCIgKyBsaWJyYXJ5ICsgXCJcXFwiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycyAod2hpdGVzcGFjZSBvciBcXFwiL1xcXCIpXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChsaWJyYXJ5TWlzbWF0Y2ggJiYgdmVyc2lvbk1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuaW5nLnB1c2goJ2FuZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2ZXJzaW9uTWlzbWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIHdhcm5pbmcucHVzaChcInZlcnNpb24gbmFtZSBcXFwiXCIgKyB2ZXJzaW9uICsgXCJcXFwiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycyAod2hpdGVzcGFjZSBvciBcXFwiL1xcXCIpXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKHdhcm5pbmcuam9pbignICcpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZWdpc3RlckNvbXBvbmVudChuZXcgQ29tcG9uZW50KGxpYnJhcnkgKyBcIi12ZXJzaW9uXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuICh7IGxpYnJhcnk6IGxpYnJhcnksIHZlcnNpb246IHZlcnNpb24gfSk7IH0sIFwiVkVSU0lPTlwiIC8qIFZFUlNJT04gKi8pKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG9uTG9nKGxvZ0NhbGxiYWNrLCBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKGxvZ0NhbGxiYWNrICE9PSBudWxsICYmIHR5cGVvZiBsb2dDYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImludmFsaWQtbG9nLWFyZ3VtZW50XCIgLyogSU5WQUxJRF9MT0dfQVJHVU1FTlQgKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRVc2VyTG9nSGFuZGxlcihsb2dDYWxsYmFjaywgb3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICAvLyBNYXAgdGhlIHJlcXVlc3RlZCBzZXJ2aWNlIHRvIGEgcmVnaXN0ZXJlZCBzZXJ2aWNlIG5hbWVcclxuICAgIC8vICh1c2VkIHRvIG1hcCBhdXRoIHRvIHNlcnZlckF1dGggc2VydmljZSB3aGVuIG5lZWRlZCkuXHJcbiAgICBmdW5jdGlvbiB1c2VBc1NlcnZpY2UoYXBwLCBuYW1lKSB7XHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICdzZXJ2ZXJBdXRoJykge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVzZVNlcnZpY2UgPSBuYW1lO1xyXG4gICAgICAgIHJldHVybiB1c2VTZXJ2aWNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5hbWVzcGFjZTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUmV0dXJuIGEgZmlyZWJhc2UgbmFtZXNwYWNlIG9iamVjdC5cclxuICpcclxuICogSW4gcHJvZHVjdGlvbiwgdGhpcyB3aWxsIGJlIGNhbGxlZCBleGFjdGx5IG9uY2UgYW5kIHRoZSByZXN1bHRcclxuICogYXNzaWduZWQgdG8gdGhlICdmaXJlYmFzZScgZ2xvYmFsLiAgSXQgbWF5IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lc1xyXG4gKiBpbiB1bml0IHRlc3RzLlxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlRmlyZWJhc2VOYW1lc3BhY2UoKSB7XHJcbiAgICB2YXIgbmFtZXNwYWNlID0gY3JlYXRlRmlyZWJhc2VOYW1lc3BhY2VDb3JlKEZpcmViYXNlQXBwSW1wbCk7XHJcbiAgICBuYW1lc3BhY2UuSU5URVJOQUwgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgbmFtZXNwYWNlLklOVEVSTkFMKSwgeyBjcmVhdGVGaXJlYmFzZU5hbWVzcGFjZTogY3JlYXRlRmlyZWJhc2VOYW1lc3BhY2UsXHJcbiAgICAgICAgZXh0ZW5kTmFtZXNwYWNlOiBleHRlbmROYW1lc3BhY2UsXHJcbiAgICAgICAgY3JlYXRlU3Vic2NyaWJlOiBjcmVhdGVTdWJzY3JpYmUsXHJcbiAgICAgICAgRXJyb3JGYWN0b3J5OiBFcnJvckZhY3RvcnksXHJcbiAgICAgICAgZGVlcEV4dGVuZDogZGVlcEV4dGVuZCB9KTtcclxuICAgIC8qKlxyXG4gICAgICogUGF0Y2ggdGhlIHRvcC1sZXZlbCBmaXJlYmFzZSBuYW1lc3BhY2Ugd2l0aCBhZGRpdGlvbmFsIHByb3BlcnRpZXMuXHJcbiAgICAgKlxyXG4gICAgICogZmlyZWJhc2UuSU5URVJOQUwuZXh0ZW5kTmFtZXNwYWNlKClcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZXh0ZW5kTmFtZXNwYWNlKHByb3BzKSB7XHJcbiAgICAgICAgZGVlcEV4dGVuZChuYW1lc3BhY2UsIHByb3BzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuYW1lc3BhY2U7XHJcbn1cclxudmFyIGZpcmViYXNlID0gY3JlYXRlRmlyZWJhc2VOYW1lc3BhY2UoKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIFBsYXRmb3JtTG9nZ2VyU2VydmljZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFBsYXRmb3JtTG9nZ2VyU2VydmljZShjb250YWluZXIpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgIH1cclxuICAgIC8vIEluIGluaXRpYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd2lsbCBiZSBjYWxsZWQgYnkgaW5zdGFsbGF0aW9ucyBvblxyXG4gICAgLy8gYXV0aCB0b2tlbiByZWZyZXNoLCBhbmQgaW5zdGFsbGF0aW9ucyB3aWxsIHNlbmQgdGhpcyBzdHJpbmcuXHJcbiAgICBQbGF0Zm9ybUxvZ2dlclNlcnZpY2UucHJvdG90eXBlLmdldFBsYXRmb3JtSW5mb1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcHJvdmlkZXJzID0gdGhpcy5jb250YWluZXIuZ2V0UHJvdmlkZXJzKCk7XHJcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHByb3ZpZGVycyBhbmQgZ2V0IGxpYnJhcnkvdmVyc2lvbiBwYWlycyBmcm9tIGFueSB0aGF0IGFyZVxyXG4gICAgICAgIC8vIHZlcnNpb24gY29tcG9uZW50cy5cclxuICAgICAgICByZXR1cm4gcHJvdmlkZXJzXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1ZlcnNpb25TZXJ2aWNlUHJvdmlkZXIocHJvdmlkZXIpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VydmljZSA9IHByb3ZpZGVyLmdldEltbWVkaWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2UubGlicmFyeSArIFwiL1wiICsgc2VydmljZS52ZXJzaW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChsb2dTdHJpbmcpIHsgcmV0dXJuIGxvZ1N0cmluZzsgfSlcclxuICAgICAgICAgICAgLmpvaW4oJyAnKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlO1xyXG59KCkpO1xyXG4vKipcclxuICpcclxuICogQHBhcmFtIHByb3ZpZGVyIGNoZWNrIGlmIHRoaXMgcHJvdmlkZXIgcHJvdmlkZXMgYSBWZXJzaW9uU2VydmljZVxyXG4gKlxyXG4gKiBOT1RFOiBVc2luZyBQcm92aWRlcjwnYXBwLXZlcnNpb24nPiBpcyBhIGhhY2sgdG8gaW5kaWNhdGUgdGhhdCB0aGUgcHJvdmlkZXJcclxuICogcHJvdmlkZXMgVmVyc2lvblNlcnZpY2UuIFRoZSBwcm92aWRlciBpcyBub3QgbmVjZXNzYXJpbHkgYSAnYXBwLXZlcnNpb24nXHJcbiAqIHByb3ZpZGVyLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNWZXJzaW9uU2VydmljZVByb3ZpZGVyKHByb3ZpZGVyKSB7XHJcbiAgICB2YXIgY29tcG9uZW50ID0gcHJvdmlkZXIuZ2V0Q29tcG9uZW50KCk7XHJcbiAgICByZXR1cm4gKGNvbXBvbmVudCA9PT0gbnVsbCB8fCBjb21wb25lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbXBvbmVudC50eXBlKSA9PT0gXCJWRVJTSU9OXCIgLyogVkVSU0lPTiAqLztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiByZWdpc3RlckNvcmVDb21wb25lbnRzKGZpcmViYXNlLCB2YXJpYW50KSB7XHJcbiAgICBmaXJlYmFzZS5JTlRFUk5BTC5yZWdpc3RlckNvbXBvbmVudChuZXcgQ29tcG9uZW50KCdwbGF0Zm9ybS1sb2dnZXInLCBmdW5jdGlvbiAoY29udGFpbmVyKSB7IHJldHVybiBuZXcgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlKGNvbnRhaW5lcik7IH0sIFwiUFJJVkFURVwiIC8qIFBSSVZBVEUgKi8pKTtcclxuICAgIC8vIFJlZ2lzdGVyIGBhcHBgIHBhY2thZ2UuXHJcbiAgICBmaXJlYmFzZS5yZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbiwgdmFyaWFudCk7XHJcbiAgICAvLyBSZWdpc3RlciBwbGF0Zm9ybSBTREsgaWRlbnRpZmllciAobm8gdmVyc2lvbikuXHJcbiAgICBmaXJlYmFzZS5yZWdpc3RlclZlcnNpb24oJ2ZpcmUtanMnLCAnJyk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLy8gRmlyZWJhc2UgTGl0ZSBkZXRlY3Rpb24gdGVzdFxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG5pZiAoaXNCcm93c2VyKCkgJiYgc2VsZi5maXJlYmFzZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBsb2dnZXIud2FybihcIlxcbiAgICBXYXJuaW5nOiBGaXJlYmFzZSBpcyBhbHJlYWR5IGRlZmluZWQgaW4gdGhlIGdsb2JhbCBzY29wZS4gUGxlYXNlIG1ha2Ugc3VyZVxcbiAgICBGaXJlYmFzZSBsaWJyYXJ5IGlzIG9ubHkgbG9hZGVkIG9uY2UuXFxuICBcIik7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgIHZhciBzZGtWZXJzaW9uID0gc2VsZi5maXJlYmFzZS5TREtfVkVSU0lPTjtcclxuICAgIGlmIChzZGtWZXJzaW9uICYmIHNka1ZlcnNpb24uaW5kZXhPZignTElURScpID49IDApIHtcclxuICAgICAgICBsb2dnZXIud2FybihcIlxcbiAgICBXYXJuaW5nOiBZb3UgYXJlIHRyeWluZyB0byBsb2FkIEZpcmViYXNlIHdoaWxlIHVzaW5nIEZpcmViYXNlIFBlcmZvcm1hbmNlIHN0YW5kYWxvbmUgc2NyaXB0LlxcbiAgICBZb3Ugc2hvdWxkIGxvYWQgRmlyZWJhc2UgUGVyZm9ybWFuY2Ugd2l0aCB0aGlzIGluc3RhbmNlIG9mIEZpcmViYXNlIHRvIGF2b2lkIGxvYWRpbmcgZHVwbGljYXRlIGNvZGUuXFxuICAgIFwiKTtcclxuICAgIH1cclxufVxyXG52YXIgaW5pdGlhbGl6ZUFwcCA9IGZpcmViYXNlLmluaXRpYWxpemVBcHA7XHJcbi8vIFRPRE86IFRoaXMgZGlzYWJsZSBjYW4gYmUgcmVtb3ZlZCBhbmQgdGhlICdpZ25vcmVSZXN0QXJncycgb3B0aW9uIGFkZGVkIHRvXHJcbi8vIHRoZSBuby1leHBsaWNpdC1hbnkgcnVsZSB3aGVuIEVTbGludCByZWxlYXNlcyBpdC5cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBhcmdzID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIC8vIEVudmlyb25tZW50IGNoZWNrIGJlZm9yZSBpbml0aWFsaXppbmcgYXBwXHJcbiAgICAvLyBEbyB0aGUgY2hlY2sgaW4gaW5pdGlhbGl6ZUFwcCwgc28gcGVvcGxlIGhhdmUgYSBjaGFuY2UgdG8gZGlzYWJsZSBpdCBieSBzZXR0aW5nIGxvZ0xldmVsXHJcbiAgICAvLyBpbiBAZmlyZWJhc2UvbG9nZ2VyXHJcbiAgICBpZiAoaXNOb2RlKCkpIHtcclxuICAgICAgICBsb2dnZXIud2FybihcIlxcbiAgICAgIFdhcm5pbmc6IFRoaXMgaXMgYSBicm93c2VyLXRhcmdldGVkIEZpcmViYXNlIGJ1bmRsZSBidXQgaXQgYXBwZWFycyBpdCBpcyBiZWluZ1xcbiAgICAgIHJ1biBpbiBhIE5vZGUgZW52aXJvbm1lbnQuICBJZiBydW5uaW5nIGluIGEgTm9kZSBlbnZpcm9ubWVudCwgbWFrZSBzdXJlIHlvdVxcbiAgICAgIGFyZSB1c2luZyB0aGUgYnVuZGxlIHNwZWNpZmllZCBieSB0aGUgXFxcIm1haW5cXFwiIGZpZWxkIGluIHBhY2thZ2UuanNvbi5cXG4gICAgICBcXG4gICAgICBJZiB5b3UgYXJlIHVzaW5nIFdlYnBhY2ssIHlvdSBjYW4gc3BlY2lmeSBcXFwibWFpblxcXCIgYXMgdGhlIGZpcnN0IGl0ZW0gaW5cXG4gICAgICBcXFwicmVzb2x2ZS5tYWluRmllbGRzXFxcIjpcXG4gICAgICBodHRwczovL3dlYnBhY2suanMub3JnL2NvbmZpZ3VyYXRpb24vcmVzb2x2ZS8jcmVzb2x2ZW1haW5maWVsZHNcXG4gICAgICBcXG4gICAgICBJZiB1c2luZyBSb2xsdXAsIHVzZSB0aGUgQHJvbGx1cC9wbHVnaW4tbm9kZS1yZXNvbHZlIHBsdWdpbiBhbmQgc3BlY2lmeSBcXFwibWFpblxcXCJcXG4gICAgICBhcyB0aGUgZmlyc3QgaXRlbSBpbiBcXFwibWFpbkZpZWxkc1xcXCIsIGUuZy4gWydtYWluJywgJ21vZHVsZSddLlxcbiAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9yb2xsdXAvQHJvbGx1cC9wbHVnaW4tbm9kZS1yZXNvbHZlXFxuICAgICAgXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluaXRpYWxpemVBcHAuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcclxufTtcclxudmFyIGZpcmViYXNlJDEgPSBmaXJlYmFzZTtcclxucmVnaXN0ZXJDb3JlQ29tcG9uZW50cyhmaXJlYmFzZSQxKTtcblxuZXhwb3J0IGRlZmF1bHQgZmlyZWJhc2UkMTtcbmV4cG9ydCB7IGZpcmViYXNlJDEgYXMgZmlyZWJhc2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IF9fYXNzaWduLCBfX3ZhbHVlcywgX19yZWFkLCBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yLCBfX3NwcmVhZEFycmF5IH0gZnJvbSAndHNsaWInO1xuaW1wb3J0IHsgRGVmZXJyZWQgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbi8qKlxyXG4gKiBDb21wb25lbnQgZm9yIHNlcnZpY2UgbmFtZSBULCBlLmcuIGBhdXRoYCwgYGF1dGgtaW50ZXJuYWxgXHJcbiAqL1xyXG52YXIgQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgVGhlIHB1YmxpYyBzZXJ2aWNlIG5hbWUsIGUuZy4gYXBwLCBhdXRoLCBmaXJlc3RvcmUsIGRhdGFiYXNlXHJcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2VGYWN0b3J5IFNlcnZpY2UgZmFjdG9yeSByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgdGhlIHB1YmxpYyBpbnRlcmZhY2VcclxuICAgICAqIEBwYXJhbSB0eXBlIHdoZXRoZXIgdGhlIHNlcnZpY2UgcHJvdmlkZWQgYnkgdGhlIGNvbXBvbmVudCBpcyBwdWJsaWMgb3IgcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBDb21wb25lbnQobmFtZSwgaW5zdGFuY2VGYWN0b3J5LCB0eXBlKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlRmFjdG9yeSA9IGluc3RhbmNlRmFjdG9yeTtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGVJbnN0YW5jZXMgPSBmYWxzZTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBQcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIHRoZSBzZXJ2aWNlIG5hbWVzcGFjZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuc2VydmljZVByb3BzID0ge307XHJcbiAgICAgICAgdGhpcy5pbnN0YW50aWF0aW9uTW9kZSA9IFwiTEFaWVwiIC8qIExBWlkgKi87XHJcbiAgICAgICAgdGhpcy5vbkluc3RhbmNlQ3JlYXRlZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnNldEluc3RhbnRpYXRpb25Nb2RlID0gZnVuY3Rpb24gKG1vZGUpIHtcclxuICAgICAgICB0aGlzLmluc3RhbnRpYXRpb25Nb2RlID0gbW9kZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnNldE11bHRpcGxlSW5zdGFuY2VzID0gZnVuY3Rpb24gKG11bHRpcGxlSW5zdGFuY2VzKSB7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBsZUluc3RhbmNlcyA9IG11bHRpcGxlSW5zdGFuY2VzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0U2VydmljZVByb3BzID0gZnVuY3Rpb24gKHByb3BzKSB7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlUHJvcHMgPSBwcm9wcztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnNldEluc3RhbmNlQ3JlYXRlZENhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5vbkluc3RhbmNlQ3JlYXRlZCA9IGNhbGxiYWNrO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDb21wb25lbnQ7XHJcbn0oKSk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBERUZBVUxUX0VOVFJZX05BTUUgPSAnW0RFRkFVTFRdJztcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFByb3ZpZGVyIGZvciBpbnN0YW5jZSBmb3Igc2VydmljZSBuYW1lIFQsIGUuZy4gJ2F1dGgnLCAnYXV0aC1pbnRlcm5hbCdcclxuICogTmFtZVNlcnZpY2VNYXBwaW5nW1RdIGlzIGFuIGFsaWFzIGZvciB0aGUgdHlwZSBvZiB0aGUgaW5zdGFuY2VcclxuICovXHJcbnZhciBQcm92aWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFByb3ZpZGVyKG5hbWUsIGNvbnRhaW5lcikge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBpZGVudGlmaWVyIEEgcHJvdmlkZXIgY2FuIHByb3ZpZGUgbXVsaXRwbGUgaW5zdGFuY2VzIG9mIGEgc2VydmljZVxyXG4gICAgICogaWYgdGhpcy5jb21wb25lbnQubXVsdGlwbGVJbnN0YW5jZXMgaXMgdHJ1ZS5cclxuICAgICAqL1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgLy8gaWYgbXVsdGlwbGVJbnN0YW5jZXMgaXMgbm90IHN1cHBvcnRlZCwgdXNlIHRoZSBkZWZhdWx0IG5hbWVcclxuICAgICAgICB2YXIgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuaGFzKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5zZXQobm9ybWFsaXplZElkZW50aWZpZXIsIGRlZmVycmVkKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZChub3JtYWxpemVkSWRlbnRpZmllcikgfHxcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdWxkQXV0b0luaXRpYWxpemUoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgc2VydmljZSBpZiBpdCBjYW4gYmUgYXV0by1pbml0aWFsaXplZFxyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiB0aGUgaW5zdGFuY2UgZmFjdG9yeSB0aHJvd3MgYW4gZXhjZXB0aW9uIGR1cmluZyBnZXQoKSwgaXQgc2hvdWxkIG5vdCBjYXVzZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgZmF0YWwgZXJyb3IuIFdlIGp1c3QgcmV0dXJuIHRoZSB1bnJlc29sdmVkIHByb21pc2UgaW4gdGhpcyBjYXNlLlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlc0RlZmVycmVkLmdldChub3JtYWxpemVkSWRlbnRpZmllcikucHJvbWlzZTtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuZ2V0SW1tZWRpYXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgX2EgPSBfX2Fzc2lnbih7IGlkZW50aWZpZXI6IERFRkFVTFRfRU5UUllfTkFNRSwgb3B0aW9uYWw6IGZhbHNlIH0sIG9wdGlvbnMpLCBpZGVudGlmaWVyID0gX2EuaWRlbnRpZmllciwgb3B0aW9uYWwgPSBfYS5vcHRpb25hbDtcclxuICAgICAgICAvLyBpZiBtdWx0aXBsZUluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLCB1c2UgdGhlIGRlZmF1bHQgbmFtZVxyXG4gICAgICAgIHZhciBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQobm9ybWFsaXplZElkZW50aWZpZXIpIHx8XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdWxkQXV0b0luaXRpYWxpemUoKSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVkSWRlbnRpZmllclxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSW4gY2FzZSBhIGNvbXBvbmVudCBpcyBub3QgaW5pdGlhbGl6ZWQgYW5kIHNob3VsZC9jYW4gbm90IGJlIGF1dG8taW5pdGlhbGl6ZWQgYXQgdGhlIG1vbWVudCwgcmV0dXJuIG51bGwgaWYgdGhlIG9wdGlvbmFsIGZsYWcgaXMgc2V0LCBvciB0aHJvd1xyXG4gICAgICAgICAgICBpZiAob3B0aW9uYWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJTZXJ2aWNlIFwiICsgdGhpcy5uYW1lICsgXCIgaXMgbm90IGF2YWlsYWJsZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuZ2V0Q29tcG9uZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudDtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuc2V0Q29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgIHZhciBlXzEsIF9hO1xyXG4gICAgICAgIGlmIChjb21wb25lbnQubmFtZSAhPT0gdGhpcy5uYW1lKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiTWlzbWF0Y2hpbmcgQ29tcG9uZW50IFwiICsgY29tcG9uZW50Lm5hbWUgKyBcIiBmb3IgUHJvdmlkZXIgXCIgKyB0aGlzLm5hbWUgKyBcIi5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIkNvbXBvbmVudCBmb3IgXCIgKyB0aGlzLm5hbWUgKyBcIiBoYXMgYWxyZWFkeSBiZWVuIHByb3ZpZGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcclxuICAgICAgICAvLyByZXR1cm4gZWFybHkgd2l0aG91dCBhdHRlbXB0aW5nIHRvIGluaXRpYWxpemUgdGhlIGNvbXBvbmVudCBpZiB0aGUgY29tcG9uZW50IHJlcXVpcmVzIGV4cGxpY2l0IGluaXRpYWxpemF0aW9uIChjYWxsaW5nIGBQcm92aWRlci5pbml0aWFsaXplKClgKVxyXG4gICAgICAgIGlmICghdGhpcy5zaG91bGRBdXRvSW5pdGlhbGl6ZSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgdGhlIHNlcnZpY2UgaXMgZWFnZXIsIGluaXRpYWxpemUgdGhlIGRlZmF1bHQgaW5zdGFuY2VcclxuICAgICAgICBpZiAoaXNDb21wb25lbnRFYWdlcihjb21wb25lbnQpKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2UoeyBpbnN0YW5jZUlkZW50aWZpZXI6IERFRkFVTFRfRU5UUllfTkFNRSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gd2hlbiB0aGUgaW5zdGFuY2UgZmFjdG9yeSBmb3IgYW4gZWFnZXIgQ29tcG9uZW50IHRocm93cyBhbiBleGNlcHRpb24gZHVyaW5nIHRoZSBlYWdlclxyXG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6YXRpb24sIGl0IHNob3VsZCBub3QgY2F1c2UgYSBmYXRhbCBlcnJvci5cclxuICAgICAgICAgICAgICAgIC8vIFRPRE86IEludmVzdGlnYXRlIGlmIHdlIG5lZWQgdG8gbWFrZSBpdCBjb25maWd1cmFibGUsIGJlY2F1c2Ugc29tZSBjb21wb25lbnQgbWF5IHdhbnQgdG8gY2F1c2VcclxuICAgICAgICAgICAgICAgIC8vIGEgZmF0YWwgZXJyb3IgaW4gdGhpcyBjYXNlP1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBzZXJ2aWNlIGluc3RhbmNlcyBmb3IgdGhlIHBlbmRpbmcgcHJvbWlzZXMgYW5kIHJlc29sdmUgdGhlbVxyXG4gICAgICAgICAgICAvLyBOT1RFOiBpZiB0aGlzLm11bHRpcGxlSW5zdGFuY2VzIGlzIGZhbHNlLCBvbmx5IHRoZSBkZWZhdWx0IGluc3RhbmNlIHdpbGwgYmUgY3JlYXRlZFxyXG4gICAgICAgICAgICAvLyBhbmQgYWxsIHByb21pc2VzIHdpdGggcmVzb2x2ZSB3aXRoIGl0IHJlZ2FyZGxlc3Mgb2YgdGhlIGlkZW50aWZpZXIuXHJcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5lbnRyaWVzKCkpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2QgPSBfX3JlYWQoX2MudmFsdWUsIDIpLCBpbnN0YW5jZUlkZW50aWZpZXIgPSBfZFswXSwgaW5zdGFuY2VEZWZlcnJlZCA9IF9kWzFdO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWRJZGVudGlmaWVyID0gdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIoaW5zdGFuY2VJZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYGdldE9ySW5pdGlhbGl6ZVNlcnZpY2UoKWAgc2hvdWxkIGFsd2F5cyByZXR1cm4gYSB2YWxpZCBpbnN0YW5jZSBzaW5jZSBhIGNvbXBvbmVudCBpcyBndWFyYW50ZWVkLiB1c2UgISB0byBtYWtlIHR5cGVzY3JpcHQgaGFwcHkuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVkSWRlbnRpZmllclxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlRGVmZXJyZWQucmVzb2x2ZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIGluc3RhbmNlIGZhY3RvcnkgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgaXQgc2hvdWxkIG5vdCBjYXVzZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgZmF0YWwgZXJyb3IuIFdlIGp1c3QgbGVhdmUgdGhlIHByb21pc2UgdW5yZXNvbHZlZC5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmNsZWFySW5zdGFuY2UgPSBmdW5jdGlvbiAoaWRlbnRpZmllcikge1xyXG4gICAgICAgIGlmIChpZGVudGlmaWVyID09PSB2b2lkIDApIHsgaWRlbnRpZmllciA9IERFRkFVTFRfRU5UUllfTkFNRTsgfVxyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZGVsZXRlKGlkZW50aWZpZXIpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VzLmRlbGV0ZShpZGVudGlmaWVyKTtcclxuICAgIH07XHJcbiAgICAvLyBhcHAuZGVsZXRlKCkgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIG9uIGV2ZXJ5IHByb3ZpZGVyIHRvIGRlbGV0ZSB0aGUgc2VydmljZXNcclxuICAgIC8vIFRPRE86IHNob3VsZCB3ZSBtYXJrIHRoZSBwcm92aWRlciBhcyBkZWxldGVkP1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZXMgPSBBcnJheS5mcm9tKHRoaXMuaW5zdGFuY2VzLnZhbHVlcygpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgUHJvbWlzZS5hbGwoX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoc2VydmljZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChzZXJ2aWNlKSB7IHJldHVybiAnSU5URVJOQUwnIGluIHNlcnZpY2U7IH0pIC8vIGxlZ2FjeSBzZXJ2aWNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoc2VydmljZSkgeyByZXR1cm4gc2VydmljZS5JTlRFUk5BTC5kZWxldGUoKTsgfSkpKSwgX19yZWFkKHNlcnZpY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoc2VydmljZSkgeyByZXR1cm4gJ19kZWxldGUnIGluIHNlcnZpY2U7IH0pIC8vIG1vZHVsYXJpemVkIHNlcnZpY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChzZXJ2aWNlKSB7IHJldHVybiBzZXJ2aWNlLl9kZWxldGUoKTsgfSkpKSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5pc0NvbXBvbmVudFNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQgIT0gbnVsbDtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuaXNJbml0aWFsaXplZCA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzLmhhcyhpZGVudGlmaWVyKTtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChvcHRzKSB7XHJcbiAgICAgICAgdmFyIGVfMiwgX2E7XHJcbiAgICAgICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge307IH1cclxuICAgICAgICB2YXIgX2IgPSBvcHRzLmluc3RhbmNlSWRlbnRpZmllciwgaW5zdGFuY2VJZGVudGlmaWVyID0gX2IgPT09IHZvaWQgMCA/IERFRkFVTFRfRU5UUllfTkFNRSA6IF9iLCBfYyA9IG9wdHMub3B0aW9ucywgb3B0aW9ucyA9IF9jID09PSB2b2lkIDAgPyB7fSA6IF9jO1xyXG4gICAgICAgIHZhciBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGluc3RhbmNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZChub3JtYWxpemVkSWRlbnRpZmllcikpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IodGhpcy5uYW1lICsgXCIoXCIgKyBub3JtYWxpemVkSWRlbnRpZmllciArIFwiKSBoYXMgYWxyZWFkeSBiZWVuIGluaXRpYWxpemVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuaXNDb21wb25lbnRTZXQoKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIkNvbXBvbmVudCBcIiArIHRoaXMubmFtZSArIFwiIGhhcyBub3QgYmVlbiByZWdpc3RlcmVkIHlldFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtcclxuICAgICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVkSWRlbnRpZmllcixcclxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9uc1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIHJlc29sdmUgYW55IHBlbmRpbmcgcHJvbWlzZSB3YWl0aW5nIGZvciB0aGUgc2VydmljZSBpbnN0YW5jZVxyXG4gICAgICAgICAgICBmb3IgKHZhciBfZCA9IF9fdmFsdWVzKHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZW50cmllcygpKSwgX2UgPSBfZC5uZXh0KCk7ICFfZS5kb25lOyBfZSA9IF9kLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9mID0gX19yZWFkKF9lLnZhbHVlLCAyKSwgaW5zdGFuY2VJZGVudGlmaWVyXzEgPSBfZlswXSwgaW5zdGFuY2VEZWZlcnJlZCA9IF9mWzFdO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWREZWZlcnJlZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpbnN0YW5jZUlkZW50aWZpZXJfMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9ybWFsaXplZElkZW50aWZpZXIgPT09IG5vcm1hbGl6ZWREZWZlcnJlZElkZW50aWZpZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZURlZmVycmVkLnJlc29sdmUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX2UgJiYgIV9lLmRvbmUgJiYgKF9hID0gX2QucmV0dXJuKSkgX2EuY2FsbChfZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2UgPSBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICB2YXIgaW5zdGFuY2VJZGVudGlmaWVyID0gX2EuaW5zdGFuY2VJZGVudGlmaWVyLCBfYiA9IF9hLm9wdGlvbnMsIG9wdGlvbnMgPSBfYiA9PT0gdm9pZCAwID8ge30gOiBfYjtcclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlcy5nZXQoaW5zdGFuY2VJZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAoIWluc3RhbmNlICYmIHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlID0gdGhpcy5jb21wb25lbnQuaW5zdGFuY2VGYWN0b3J5KHRoaXMuY29udGFpbmVyLCB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZUlkZW50aWZpZXJGb3JGYWN0b3J5KGluc3RhbmNlSWRlbnRpZmllciksXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlcy5zZXQoaW5zdGFuY2VJZGVudGlmaWVyLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBPcmRlciBpcyBpbXBvcnRhbnRcclxuICAgICAgICAgICAgICogb25JbnN0YW5jZUNyZWF0ZWQoKSBzaG91bGQgYmUgY2FsbGVkIGFmdGVyIHRoaXMuaW5zdGFuY2VzLnNldChpbnN0YW5jZUlkZW50aWZpZXIsIGluc3RhbmNlKTsgd2hpY2hcclxuICAgICAgICAgICAgICogbWFrZXMgYGlzSW5pdGlhbGl6ZWQoKWAgcmV0dXJuIHRydWUuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb21wb25lbnQub25JbnN0YW5jZUNyZWF0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQub25JbnN0YW5jZUNyZWF0ZWQodGhpcy5jb250YWluZXIsIGluc3RhbmNlSWRlbnRpZmllciwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKF9jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIGVycm9ycyBpbiB0aGUgb25JbnN0YW5jZUNyZWF0ZWRDYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbnN0YW5jZSB8fCBudWxsO1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIgPSBmdW5jdGlvbiAoaWRlbnRpZmllcikge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQubXVsdGlwbGVJbnN0YW5jZXMgPyBpZGVudGlmaWVyIDogREVGQVVMVF9FTlRSWV9OQU1FO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlkZW50aWZpZXI7IC8vIGFzc3VtZSBtdWx0aXBsZSBpbnN0YW5jZXMgYXJlIHN1cHBvcnRlZCBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBwcm92aWRlZC5cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLnNob3VsZEF1dG9Jbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAoISF0aGlzLmNvbXBvbmVudCAmJlxyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5pbnN0YW50aWF0aW9uTW9kZSAhPT0gXCJFWFBMSUNJVFwiIC8qIEVYUExJQ0lUICovKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUHJvdmlkZXI7XHJcbn0oKSk7XHJcbi8vIHVuZGVmaW5lZCBzaG91bGQgYmUgcGFzc2VkIHRvIHRoZSBzZXJ2aWNlIGZhY3RvcnkgZm9yIHRoZSBkZWZhdWx0IGluc3RhbmNlXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUlkZW50aWZpZXJGb3JGYWN0b3J5KGlkZW50aWZpZXIpIHtcclxuICAgIHJldHVybiBpZGVudGlmaWVyID09PSBERUZBVUxUX0VOVFJZX05BTUUgPyB1bmRlZmluZWQgOiBpZGVudGlmaWVyO1xyXG59XHJcbmZ1bmN0aW9uIGlzQ29tcG9uZW50RWFnZXIoY29tcG9uZW50KSB7XHJcbiAgICByZXR1cm4gY29tcG9uZW50Lmluc3RhbnRpYXRpb25Nb2RlID09PSBcIkVBR0VSXCIgLyogRUFHRVIgKi87XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIENvbXBvbmVudENvbnRhaW5lciB0aGF0IHByb3ZpZGVzIFByb3ZpZGVycyBmb3Igc2VydmljZSBuYW1lIFQsIGUuZy4gYGF1dGhgLCBgYXV0aC1pbnRlcm5hbGBcclxuICovXHJcbnZhciBDb21wb25lbnRDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb21wb25lbnRDb250YWluZXIobmFtZSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5wcm92aWRlcnMgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IENvbXBvbmVudCBiZWluZyBhZGRlZFxyXG4gICAgICogQHBhcmFtIG92ZXJ3cml0ZSBXaGVuIGEgY29tcG9uZW50IHdpdGggdGhlIHNhbWUgbmFtZSBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQsXHJcbiAgICAgKiBpZiBvdmVyd3JpdGUgaXMgdHJ1ZTogb3ZlcndyaXRlIHRoZSBleGlzdGluZyBjb21wb25lbnQgd2l0aCB0aGUgbmV3IGNvbXBvbmVudCBhbmQgY3JlYXRlIGEgbmV3XHJcbiAgICAgKiBwcm92aWRlciB3aXRoIHRoZSBuZXcgY29tcG9uZW50LiBJdCBjYW4gYmUgdXNlZnVsIGluIHRlc3RzIHdoZXJlIHlvdSB3YW50IHRvIHVzZSBkaWZmZXJlbnQgbW9ja3NcclxuICAgICAqIGZvciBkaWZmZXJlbnQgdGVzdHMuXHJcbiAgICAgKiBpZiBvdmVyd3JpdGUgaXMgZmFsc2U6IHRocm93IGFuIGV4Y2VwdGlvblxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnRDb250YWluZXIucHJvdG90eXBlLmFkZENvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICB2YXIgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKGNvbXBvbmVudC5uYW1lKTtcclxuICAgICAgICBpZiAocHJvdmlkZXIuaXNDb21wb25lbnRTZXQoKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb21wb25lbnQgXCIgKyBjb21wb25lbnQubmFtZSArIFwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCB3aXRoIFwiICsgdGhpcy5uYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJvdmlkZXIuc2V0Q29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50Q29udGFpbmVyLnByb3RvdHlwZS5hZGRPck92ZXJ3cml0ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICB2YXIgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKGNvbXBvbmVudC5uYW1lKTtcclxuICAgICAgICBpZiAocHJvdmlkZXIuaXNDb21wb25lbnRTZXQoKSkge1xyXG4gICAgICAgICAgICAvLyBkZWxldGUgdGhlIGV4aXN0aW5nIHByb3ZpZGVyIGZyb20gdGhlIGNvbnRhaW5lciwgc28gd2UgY2FuIHJlZ2lzdGVyIHRoZSBuZXcgY29tcG9uZW50XHJcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXJzLmRlbGV0ZShjb21wb25lbnQubmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRQcm92aWRlciBwcm92aWRlcyBhIHR5cGUgc2FmZSBpbnRlcmZhY2Ugd2hlcmUgaXQgY2FuIG9ubHkgYmUgY2FsbGVkIHdpdGggYSBmaWVsZCBuYW1lXHJcbiAgICAgKiBwcmVzZW50IGluIE5hbWVTZXJ2aWNlTWFwcGluZyBpbnRlcmZhY2UuXHJcbiAgICAgKlxyXG4gICAgICogRmlyZWJhc2UgU0RLcyBwcm92aWRpbmcgc2VydmljZXMgc2hvdWxkIGV4dGVuZCBOYW1lU2VydmljZU1hcHBpbmcgaW50ZXJmYWNlIHRvIHJlZ2lzdGVyXHJcbiAgICAgKiB0aGVtc2VsdmVzLlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnRDb250YWluZXIucHJvdG90eXBlLmdldFByb3ZpZGVyID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm92aWRlcnMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVycy5nZXQobmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNyZWF0ZSBhIFByb3ZpZGVyIGZvciBhIHNlcnZpY2UgdGhhdCBoYXNuJ3QgcmVnaXN0ZXJlZCB3aXRoIEZpcmViYXNlXHJcbiAgICAgICAgdmFyIHByb3ZpZGVyID0gbmV3IFByb3ZpZGVyKG5hbWUsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucHJvdmlkZXJzLnNldChuYW1lLCBwcm92aWRlcik7XHJcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudENvbnRhaW5lci5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucHJvdmlkZXJzLnZhbHVlcygpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29tcG9uZW50Q29udGFpbmVyO1xyXG59KCkpO1xuXG5leHBvcnQgeyBDb21wb25lbnQsIENvbXBvbmVudENvbnRhaW5lciwgUHJvdmlkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbS5qcy5tYXBcbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG5mdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBfYTtcclxuLyoqXHJcbiAqIEEgY29udGFpbmVyIGZvciBhbGwgb2YgdGhlIExvZ2dlciBpbnN0YW5jZXNcclxuICovXHJcbnZhciBpbnN0YW5jZXMgPSBbXTtcclxuLyoqXHJcbiAqIFRoZSBKUyBTREsgc3VwcG9ydHMgNSBsb2cgbGV2ZWxzIGFuZCBhbHNvIGFsbG93cyBhIHVzZXIgdGhlIGFiaWxpdHkgdG9cclxuICogc2lsZW5jZSB0aGUgbG9ncyBhbHRvZ2V0aGVyLlxyXG4gKlxyXG4gKiBUaGUgb3JkZXIgaXMgYSBmb2xsb3dzOlxyXG4gKiBERUJVRyA8IFZFUkJPU0UgPCBJTkZPIDwgV0FSTiA8IEVSUk9SXHJcbiAqXHJcbiAqIEFsbCBvZiB0aGUgbG9nIHR5cGVzIGFib3ZlIHRoZSBjdXJyZW50IGxvZyBsZXZlbCB3aWxsIGJlIGNhcHR1cmVkIChpLmUuIGlmXHJcbiAqIHlvdSBzZXQgdGhlIGxvZyBsZXZlbCB0byBgSU5GT2AsIGVycm9ycyB3aWxsIHN0aWxsIGJlIGxvZ2dlZCwgYnV0IGBERUJVR2AgYW5kXHJcbiAqIGBWRVJCT1NFYCBsb2dzIHdpbGwgbm90KVxyXG4gKi9cclxudmFyIExvZ0xldmVsO1xyXG4oZnVuY3Rpb24gKExvZ0xldmVsKSB7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkRFQlVHXCJdID0gMF0gPSBcIkRFQlVHXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIlZFUkJPU0VcIl0gPSAxXSA9IFwiVkVSQk9TRVwiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJJTkZPXCJdID0gMl0gPSBcIklORk9cIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiV0FSTlwiXSA9IDNdID0gXCJXQVJOXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkVSUk9SXCJdID0gNF0gPSBcIkVSUk9SXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIlNJTEVOVFwiXSA9IDVdID0gXCJTSUxFTlRcIjtcclxufSkoTG9nTGV2ZWwgfHwgKExvZ0xldmVsID0ge30pKTtcclxudmFyIGxldmVsU3RyaW5nVG9FbnVtID0ge1xyXG4gICAgJ2RlYnVnJzogTG9nTGV2ZWwuREVCVUcsXHJcbiAgICAndmVyYm9zZSc6IExvZ0xldmVsLlZFUkJPU0UsXHJcbiAgICAnaW5mbyc6IExvZ0xldmVsLklORk8sXHJcbiAgICAnd2Fybic6IExvZ0xldmVsLldBUk4sXHJcbiAgICAnZXJyb3InOiBMb2dMZXZlbC5FUlJPUixcclxuICAgICdzaWxlbnQnOiBMb2dMZXZlbC5TSUxFTlRcclxufTtcclxuLyoqXHJcbiAqIFRoZSBkZWZhdWx0IGxvZyBsZXZlbFxyXG4gKi9cclxudmFyIGRlZmF1bHRMb2dMZXZlbCA9IExvZ0xldmVsLklORk87XHJcbi8qKlxyXG4gKiBCeSBkZWZhdWx0LCBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGRpc3BsYXllZCBpbiB0aGUgZGV2ZWxvcGVyIGNvbnNvbGUgKGluXHJcbiAqIGNocm9tZSkuIFRvIGF2b2lkIGZvcmNpbmcgdXNlcnMgdG8gaGF2ZSB0byBvcHQtaW4gdG8gdGhlc2UgbG9ncyB0d2ljZVxyXG4gKiAoaS5lLiBvbmNlIGZvciBmaXJlYmFzZSwgYW5kIG9uY2UgaW4gdGhlIGNvbnNvbGUpLCB3ZSBhcmUgc2VuZGluZyBgREVCVUdgXHJcbiAqIGxvZ3MgdG8gdGhlIGBjb25zb2xlLmxvZ2AgZnVuY3Rpb24uXHJcbiAqL1xyXG52YXIgQ29uc29sZU1ldGhvZCA9IChfYSA9IHt9LFxyXG4gICAgX2FbTG9nTGV2ZWwuREVCVUddID0gJ2xvZycsXHJcbiAgICBfYVtMb2dMZXZlbC5WRVJCT1NFXSA9ICdsb2cnLFxyXG4gICAgX2FbTG9nTGV2ZWwuSU5GT10gPSAnaW5mbycsXHJcbiAgICBfYVtMb2dMZXZlbC5XQVJOXSA9ICd3YXJuJyxcclxuICAgIF9hW0xvZ0xldmVsLkVSUk9SXSA9ICdlcnJvcicsXHJcbiAgICBfYSk7XHJcbi8qKlxyXG4gKiBUaGUgZGVmYXVsdCBsb2cgaGFuZGxlciB3aWxsIGZvcndhcmQgREVCVUcsIFZFUkJPU0UsIElORk8sIFdBUk4sIGFuZCBFUlJPUlxyXG4gKiBtZXNzYWdlcyBvbiB0byB0aGVpciBjb3JyZXNwb25kaW5nIGNvbnNvbGUgY291bnRlcnBhcnRzIChpZiB0aGUgbG9nIG1ldGhvZFxyXG4gKiBpcyBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgbG9nIGxldmVsKVxyXG4gKi9cclxudmFyIGRlZmF1bHRMb2dIYW5kbGVyID0gZnVuY3Rpb24gKGluc3RhbmNlLCBsb2dUeXBlKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgaWYgKGxvZ1R5cGUgPCBpbnN0YW5jZS5sb2dMZXZlbCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICB2YXIgbWV0aG9kID0gQ29uc29sZU1ldGhvZFtsb2dUeXBlXTtcclxuICAgIGlmIChtZXRob2QpIHtcclxuICAgICAgICBjb25zb2xlW21ldGhvZF0uYXBwbHkoY29uc29sZSwgX19zcHJlYWRBcnJheXMoW1wiW1wiICsgbm93ICsgXCJdICBcIiArIGluc3RhbmNlLm5hbWUgKyBcIjpcIl0sIGFyZ3MpKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byBsb2cgYSBtZXNzYWdlIHdpdGggYW4gaW52YWxpZCBsb2dUeXBlICh2YWx1ZTogXCIgKyBsb2dUeXBlICsgXCIpXCIpO1xyXG4gICAgfVxyXG59O1xyXG52YXIgTG9nZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlcyB5b3UgYW4gaW5zdGFuY2Ugb2YgYSBMb2dnZXIgdG8gY2FwdHVyZSBtZXNzYWdlcyBhY2NvcmRpbmcgdG9cclxuICAgICAqIEZpcmViYXNlJ3MgbG9nZ2luZyBzY2hlbWUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgdGhhdCB0aGUgbG9ncyB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBMb2dnZXIobmFtZSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGxvZyBsZXZlbCBvZiB0aGUgZ2l2ZW4gTG9nZ2VyIGluc3RhbmNlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2xvZ0xldmVsID0gZGVmYXVsdExvZ0xldmVsO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBtYWluIChpbnRlcm5hbCkgbG9nIGhhbmRsZXIgZm9yIHRoZSBMb2dnZXIgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQ2FuIGJlIHNldCB0byBhIG5ldyBmdW5jdGlvbiBpbiBpbnRlcm5hbCBwYWNrYWdlIGNvZGUgYnV0IG5vdCBieSB1c2VyLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIgPSBkZWZhdWx0TG9nSGFuZGxlcjtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgb3B0aW9uYWwsIGFkZGl0aW9uYWwsIHVzZXItZGVmaW5lZCBsb2cgaGFuZGxlciBmb3IgdGhlIExvZ2dlciBpbnN0YW5jZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FwdHVyZSB0aGUgY3VycmVudCBpbnN0YW5jZSBmb3IgbGF0ZXIgdXNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaW5zdGFuY2VzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9nZ2VyLnByb3RvdHlwZSwgXCJsb2dMZXZlbFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2dMZXZlbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICBpZiAoISh2YWwgaW4gTG9nTGV2ZWwpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCB2YWx1ZSBcXFwiXCIgKyB2YWwgKyBcIlxcXCIgYXNzaWduZWQgdG8gYGxvZ0xldmVsYFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9sb2dMZXZlbCA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvLyBXb3JrYXJvdW5kIGZvciBzZXR0ZXIvZ2V0dGVyIGhhdmluZyB0byBiZSB0aGUgc2FtZSB0eXBlLlxyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS5zZXRMb2dMZXZlbCA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICB0aGlzLl9sb2dMZXZlbCA9IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnID8gbGV2ZWxTdHJpbmdUb0VudW1bdmFsXSA6IHZhbDtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9nZ2VyLnByb3RvdHlwZSwgXCJsb2dIYW5kbGVyXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvZ0hhbmRsZXI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIGFzc2lnbmVkIHRvIGBsb2dIYW5kbGVyYCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9sb2dIYW5kbGVyID0gdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb2dnZXIucHJvdG90eXBlLCBcInVzZXJMb2dIYW5kbGVyXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJMb2dIYW5kbGVyO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyID0gdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIGZ1bmN0aW9ucyBiZWxvdyBhcmUgYWxsIGJhc2VkIG9uIHRoZSBgY29uc29sZWAgaW50ZXJmYWNlXHJcbiAgICAgKi9cclxuICAgIExvZ2dlci5wcm90b3R5cGUuZGVidWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMsIF9fc3ByZWFkQXJyYXlzKFt0aGlzLCBMb2dMZXZlbC5ERUJVR10sIGFyZ3MpKTtcclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsIF9fc3ByZWFkQXJyYXlzKFt0aGlzLCBMb2dMZXZlbC5ERUJVR10sIGFyZ3MpKTtcclxuICAgIH07XHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiYgdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheXMoW3RoaXMsIExvZ0xldmVsLlZFUkJPU0VdLCBhcmdzKSk7XHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5cyhbdGhpcywgTG9nTGV2ZWwuVkVSQk9TRV0sIGFyZ3MpKTtcclxuICAgIH07XHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMsIF9fc3ByZWFkQXJyYXlzKFt0aGlzLCBMb2dMZXZlbC5JTkZPXSwgYXJncykpO1xyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheXMoW3RoaXMsIExvZ0xldmVsLklORk9dLCBhcmdzKSk7XHJcbiAgICB9O1xyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS53YXJuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5cyhbdGhpcywgTG9nTGV2ZWwuV0FSTl0sIGFyZ3MpKTtcclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsIF9fc3ByZWFkQXJyYXlzKFt0aGlzLCBMb2dMZXZlbC5XQVJOXSwgYXJncykpO1xyXG4gICAgfTtcclxuICAgIExvZ2dlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMsIF9fc3ByZWFkQXJyYXlzKFt0aGlzLCBMb2dMZXZlbC5FUlJPUl0sIGFyZ3MpKTtcclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsIF9fc3ByZWFkQXJyYXlzKFt0aGlzLCBMb2dMZXZlbC5FUlJPUl0sIGFyZ3MpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gTG9nZ2VyO1xyXG59KCkpO1xyXG5mdW5jdGlvbiBzZXRMb2dMZXZlbChsZXZlbCkge1xyXG4gICAgaW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24gKGluc3QpIHtcclxuICAgICAgICBpbnN0LnNldExvZ0xldmVsKGxldmVsKTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHNldFVzZXJMb2dIYW5kbGVyKGxvZ0NhbGxiYWNrLCBvcHRpb25zKSB7XHJcbiAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xyXG4gICAgICAgIHZhciBjdXN0b21Mb2dMZXZlbCA9IG51bGw7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5sZXZlbCkge1xyXG4gICAgICAgICAgICBjdXN0b21Mb2dMZXZlbCA9IGxldmVsU3RyaW5nVG9FbnVtW29wdGlvbnMubGV2ZWxdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobG9nQ2FsbGJhY2sgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UudXNlckxvZ0hhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UudXNlckxvZ0hhbmRsZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIGxldmVsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBhcmdzXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoYXJnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZy50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmcgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGlnbm9yZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIGFyZzsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuam9pbignICcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxldmVsID49IChjdXN0b21Mb2dMZXZlbCAhPT0gbnVsbCAmJiBjdXN0b21Mb2dMZXZlbCAhPT0gdm9pZCAwID8gY3VzdG9tTG9nTGV2ZWwgOiBpbnN0YW5jZS5sb2dMZXZlbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2dDYWxsYmFjayh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsOiBMb2dMZXZlbFtsZXZlbF0udG9Mb3dlckNhc2UoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogYXJncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogaW5zdGFuY2UubmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBmb3IgKHZhciBfaSA9IDAsIGluc3RhbmNlc18xID0gaW5zdGFuY2VzOyBfaSA8IGluc3RhbmNlc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIHZhciBpbnN0YW5jZSA9IGluc3RhbmNlc18xW19pXTtcclxuICAgICAgICBfbG9vcF8xKGluc3RhbmNlKTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBMb2dMZXZlbCwgTG9nZ2VyLCBzZXRMb2dMZXZlbCwgc2V0VXNlckxvZ0hhbmRsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gJ3RzbGliJztcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEBmaWxlb3ZlcnZpZXcgRmlyZWJhc2UgY29uc3RhbnRzLiAgU29tZSBvZiB0aGVzZSAoQGRlZmluZXMpIGNhbiBiZSBvdmVycmlkZGVuIGF0IGNvbXBpbGUtdGltZS5cclxuICovXHJcbnZhciBDT05TVEFOVFMgPSB7XHJcbiAgICAvKipcclxuICAgICAqIEBkZWZpbmUge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBpcyB0aGUgY2xpZW50IE5vZGUuanMgU0RLLlxyXG4gICAgICovXHJcbiAgICBOT0RFX0NMSUVOVDogZmFsc2UsXHJcbiAgICAvKipcclxuICAgICAqIEBkZWZpbmUge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBpcyB0aGUgQWRtaW4gTm9kZS5qcyBTREsuXHJcbiAgICAgKi9cclxuICAgIE5PREVfQURNSU46IGZhbHNlLFxyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlYmFzZSBTREsgVmVyc2lvblxyXG4gICAgICovXHJcbiAgICBTREtfVkVSU0lPTjogJyR7SlNDT1JFX1ZFUlNJT059J1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBwcm92aWRlZCBhc3NlcnRpb24gaXMgZmFsc3lcclxuICovXHJcbnZhciBhc3NlcnQgPSBmdW5jdGlvbiAoYXNzZXJ0aW9uLCBtZXNzYWdlKSB7XHJcbiAgICBpZiAoIWFzc2VydGlvbikge1xyXG4gICAgICAgIHRocm93IGFzc2VydGlvbkVycm9yKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogUmV0dXJucyBhbiBFcnJvciBvYmplY3Qgc3VpdGFibGUgZm9yIHRocm93aW5nLlxyXG4gKi9cclxudmFyIGFzc2VydGlvbkVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgIHJldHVybiBuZXcgRXJyb3IoJ0ZpcmViYXNlIERhdGFiYXNlICgnICtcclxuICAgICAgICBDT05TVEFOVFMuU0RLX1ZFUlNJT04gK1xyXG4gICAgICAgICcpIElOVEVSTkFMIEFTU0VSVCBGQUlMRUQ6ICcgK1xyXG4gICAgICAgIG1lc3NhZ2UpO1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgc3RyaW5nVG9CeXRlQXJyYXkgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAvLyBUT0RPKHVzZXIpOiBVc2UgbmF0aXZlIGltcGxlbWVudGF0aW9ucyBpZi93aGVuIGF2YWlsYWJsZVxyXG4gICAgdmFyIG91dCA9IFtdO1xyXG4gICAgdmFyIHAgPSAwO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIGlmIChjIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gYztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDIwNDgpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiA2KSB8IDE5MjtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoKGMgJiAweGZjMDApID09PSAweGQ4MDAgJiZcclxuICAgICAgICAgICAgaSArIDEgPCBzdHIubGVuZ3RoICYmXHJcbiAgICAgICAgICAgIChzdHIuY2hhckNvZGVBdChpICsgMSkgJiAweGZjMDApID09PSAweGRjMDApIHtcclxuICAgICAgICAgICAgLy8gU3Vycm9nYXRlIFBhaXJcclxuICAgICAgICAgICAgYyA9IDB4MTAwMDAgKyAoKGMgJiAweDAzZmYpIDw8IDEwKSArIChzdHIuY2hhckNvZGVBdCgrK2kpICYgMHgwM2ZmKTtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxOCkgfCAyNDA7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDEyKSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDEyKSB8IDIyNDtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dDtcclxufTtcclxuLyoqXHJcbiAqIFR1cm5zIGFuIGFycmF5IG9mIG51bWJlcnMgaW50byB0aGUgc3RyaW5nIGdpdmVuIGJ5IHRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZVxyXG4gKiBjaGFyYWN0ZXJzIHRvIHdoaWNoIHRoZSBudW1iZXJzIGNvcnJlc3BvbmQuXHJcbiAqIEBwYXJhbSBieXRlcyBBcnJheSBvZiBudW1iZXJzIHJlcHJlc2VudGluZyBjaGFyYWN0ZXJzLlxyXG4gKiBAcmV0dXJuIFN0cmluZ2lmaWNhdGlvbiBvZiB0aGUgYXJyYXkuXHJcbiAqL1xyXG52YXIgYnl0ZUFycmF5VG9TdHJpbmcgPSBmdW5jdGlvbiAoYnl0ZXMpIHtcclxuICAgIC8vIFRPRE8odXNlcik6IFVzZSBuYXRpdmUgaW1wbGVtZW50YXRpb25zIGlmL3doZW4gYXZhaWxhYmxlXHJcbiAgICB2YXIgb3V0ID0gW107XHJcbiAgICB2YXIgcG9zID0gMCwgYyA9IDA7XHJcbiAgICB3aGlsZSAocG9zIDwgYnl0ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIGMxID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgIGlmIChjMSA8IDEyOCkge1xyXG4gICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoYzEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjMSA+IDE5MSAmJiBjMSA8IDIyNCkge1xyXG4gICAgICAgICAgICB2YXIgYzIgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGMxICYgMzEpIDw8IDYpIHwgKGMyICYgNjMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYzEgPiAyMzkgJiYgYzEgPCAzNjUpIHtcclxuICAgICAgICAgICAgLy8gU3Vycm9nYXRlIFBhaXJcclxuICAgICAgICAgICAgdmFyIGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICB2YXIgYzMgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIHZhciBjNCA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgdmFyIHUgPSAoKChjMSAmIDcpIDw8IDE4KSB8ICgoYzIgJiA2MykgPDwgMTIpIHwgKChjMyAmIDYzKSA8PCA2KSB8IChjNCAmIDYzKSkgLVxyXG4gICAgICAgICAgICAgICAgMHgxMDAwMDtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ZDgwMCArICh1ID4+IDEwKSk7XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgweGRjMDAgKyAodSAmIDEwMjMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBjMiA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgdmFyIGMzID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjMSAmIDE1KSA8PCAxMikgfCAoKGMyICYgNjMpIDw8IDYpIHwgKGMzICYgNjMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0LmpvaW4oJycpO1xyXG59O1xyXG4vLyBXZSBkZWZpbmUgaXQgYXMgYW4gb2JqZWN0IGxpdGVyYWwgaW5zdGVhZCBvZiBhIGNsYXNzIGJlY2F1c2UgYSBjbGFzcyBjb21waWxlZCBkb3duIHRvIGVzNSBjYW4ndFxyXG4vLyBiZSB0cmVlc2hha2VkLiBodHRwczovL2dpdGh1Yi5jb20vcm9sbHVwL3JvbGx1cC9pc3N1ZXMvMTY5MVxyXG4vLyBTdGF0aWMgbG9va3VwIG1hcHMsIGxhemlseSBwb3B1bGF0ZWQgYnkgaW5pdF8oKVxyXG52YXIgYmFzZTY0ID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIGJ5dGVzIHRvIGNoYXJhY3RlcnMuXHJcbiAgICAgKi9cclxuICAgIGJ5dGVUb0NoYXJNYXBfOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIGNoYXJhY3RlcnMgdG8gYnl0ZXMuXHJcbiAgICAgKi9cclxuICAgIGNoYXJUb0J5dGVNYXBfOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIGJ5dGVzIHRvIHdlYnNhZmUgY2hhcmFjdGVycy5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGJ5dGVUb0NoYXJNYXBXZWJTYWZlXzogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogTWFwcyB3ZWJzYWZlIGNoYXJhY3RlcnMgdG8gYnl0ZXMuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBjaGFyVG9CeXRlTWFwV2ViU2FmZV86IG51bGwsXHJcbiAgICAvKipcclxuICAgICAqIE91ciBkZWZhdWx0IGFscGhhYmV0LCBzaGFyZWQgYmV0d2VlblxyXG4gICAgICogRU5DT0RFRF9WQUxTIGFuZCBFTkNPREVEX1ZBTFNfV0VCU0FGRVxyXG4gICAgICovXHJcbiAgICBFTkNPREVEX1ZBTFNfQkFTRTogJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJyArICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicgKyAnMDEyMzQ1Njc4OScsXHJcbiAgICAvKipcclxuICAgICAqIE91ciBkZWZhdWx0IGFscGhhYmV0LiBWYWx1ZSA2NCAoPSkgaXMgc3BlY2lhbDsgaXQgbWVhbnMgXCJub3RoaW5nLlwiXHJcbiAgICAgKi9cclxuICAgIGdldCBFTkNPREVEX1ZBTFMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UgKyAnKy89JztcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIE91ciB3ZWJzYWZlIGFscGhhYmV0LlxyXG4gICAgICovXHJcbiAgICBnZXQgRU5DT0RFRF9WQUxTX1dFQlNBRkUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UgKyAnLV8uJztcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhpcyBicm93c2VyIHN1cHBvcnRzIHRoZSBhdG9iIGFuZCBidG9hIGZ1bmN0aW9ucy4gVGhpcyBleHRlbnNpb25cclxuICAgICAqIHN0YXJ0ZWQgYXQgTW96aWxsYSBidXQgaXMgbm93IGltcGxlbWVudGVkIGJ5IG1hbnkgYnJvd3NlcnMuIFdlIHVzZSB0aGVcclxuICAgICAqIEFTU1VNRV8qIHZhcmlhYmxlcyB0byBhdm9pZCBwdWxsaW5nIGluIHRoZSBmdWxsIHVzZXJhZ2VudCBkZXRlY3Rpb24gbGlicmFyeVxyXG4gICAgICogYnV0IHN0aWxsIGFsbG93aW5nIHRoZSBzdGFuZGFyZCBwZXItYnJvd3NlciBjb21waWxhdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBIQVNfTkFUSVZFX1NVUFBPUlQ6IHR5cGVvZiBhdG9iID09PSAnZnVuY3Rpb24nLFxyXG4gICAgLyoqXHJcbiAgICAgKiBCYXNlNjQtZW5jb2RlIGFuIGFycmF5IG9mIGJ5dGVzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbnB1dCBBbiBhcnJheSBvZiBieXRlcyAobnVtYmVycyB3aXRoXHJcbiAgICAgKiAgICAgdmFsdWUgaW4gWzAsIDI1NV0pIHRvIGVuY29kZS5cclxuICAgICAqIEBwYXJhbSB3ZWJTYWZlIEJvb2xlYW4gaW5kaWNhdGluZyB3ZSBzaG91bGQgdXNlIHRoZVxyXG4gICAgICogICAgIGFsdGVybmF0aXZlIGFscGhhYmV0LlxyXG4gICAgICogQHJldHVybiBUaGUgYmFzZTY0IGVuY29kZWQgc3RyaW5nLlxyXG4gICAgICovXHJcbiAgICBlbmNvZGVCeXRlQXJyYXk6IGZ1bmN0aW9uIChpbnB1dCwgd2ViU2FmZSkge1xyXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ2VuY29kZUJ5dGVBcnJheSB0YWtlcyBhbiBhcnJheSBhcyBhIHBhcmFtZXRlcicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmluaXRfKCk7XHJcbiAgICAgICAgdmFyIGJ5dGVUb0NoYXJNYXAgPSB3ZWJTYWZlXHJcbiAgICAgICAgICAgID8gdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV9cclxuICAgICAgICAgICAgOiB0aGlzLmJ5dGVUb0NoYXJNYXBfO1xyXG4gICAgICAgIHZhciBvdXRwdXQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSArPSAzKSB7XHJcbiAgICAgICAgICAgIHZhciBieXRlMSA9IGlucHV0W2ldO1xyXG4gICAgICAgICAgICB2YXIgaGF2ZUJ5dGUyID0gaSArIDEgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBieXRlMiA9IGhhdmVCeXRlMiA/IGlucHV0W2kgKyAxXSA6IDA7XHJcbiAgICAgICAgICAgIHZhciBoYXZlQnl0ZTMgPSBpICsgMiA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIGJ5dGUzID0gaGF2ZUJ5dGUzID8gaW5wdXRbaSArIDJdIDogMDtcclxuICAgICAgICAgICAgdmFyIG91dEJ5dGUxID0gYnl0ZTEgPj4gMjtcclxuICAgICAgICAgICAgdmFyIG91dEJ5dGUyID0gKChieXRlMSAmIDB4MDMpIDw8IDQpIHwgKGJ5dGUyID4+IDQpO1xyXG4gICAgICAgICAgICB2YXIgb3V0Qnl0ZTMgPSAoKGJ5dGUyICYgMHgwZikgPDwgMikgfCAoYnl0ZTMgPj4gNik7XHJcbiAgICAgICAgICAgIHZhciBvdXRCeXRlNCA9IGJ5dGUzICYgMHgzZjtcclxuICAgICAgICAgICAgaWYgKCFoYXZlQnl0ZTMpIHtcclxuICAgICAgICAgICAgICAgIG91dEJ5dGU0ID0gNjQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWhhdmVCeXRlMikge1xyXG4gICAgICAgICAgICAgICAgICAgIG91dEJ5dGUzID0gNjQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3V0cHV0LnB1c2goYnl0ZVRvQ2hhck1hcFtvdXRCeXRlMV0sIGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTJdLCBieXRlVG9DaGFyTWFwW291dEJ5dGUzXSwgYnl0ZVRvQ2hhck1hcFtvdXRCeXRlNF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQmFzZTY0LWVuY29kZSBhIHN0cmluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgQSBzdHJpbmcgdG8gZW5jb2RlLlxyXG4gICAgICogQHBhcmFtIHdlYlNhZmUgSWYgdHJ1ZSwgd2Ugc2hvdWxkIHVzZSB0aGVcclxuICAgICAqICAgICBhbHRlcm5hdGl2ZSBhbHBoYWJldC5cclxuICAgICAqIEByZXR1cm4gVGhlIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cclxuICAgICAqL1xyXG4gICAgZW5jb2RlU3RyaW5nOiBmdW5jdGlvbiAoaW5wdXQsIHdlYlNhZmUpIHtcclxuICAgICAgICAvLyBTaG9ydGN1dCBmb3IgTW96aWxsYSBicm93c2VycyB0aGF0IGltcGxlbWVudFxyXG4gICAgICAgIC8vIGEgbmF0aXZlIGJhc2U2NCBlbmNvZGVyIGluIHRoZSBmb3JtIG9mIFwiYnRvYS9hdG9iXCJcclxuICAgICAgICBpZiAodGhpcy5IQVNfTkFUSVZFX1NVUFBPUlQgJiYgIXdlYlNhZmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJ0b2EoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVCeXRlQXJyYXkoc3RyaW5nVG9CeXRlQXJyYXkoaW5wdXQpLCB3ZWJTYWZlKTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIEJhc2U2NC1kZWNvZGUgYSBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlucHV0IHRvIGRlY29kZS5cclxuICAgICAqIEBwYXJhbSB3ZWJTYWZlIFRydWUgaWYgd2Ugc2hvdWxkIHVzZSB0aGVcclxuICAgICAqICAgICBhbHRlcm5hdGl2ZSBhbHBoYWJldC5cclxuICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZGVjb2RlZCB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgZGVjb2RlU3RyaW5nOiBmdW5jdGlvbiAoaW5wdXQsIHdlYlNhZmUpIHtcclxuICAgICAgICAvLyBTaG9ydGN1dCBmb3IgTW96aWxsYSBicm93c2VycyB0aGF0IGltcGxlbWVudFxyXG4gICAgICAgIC8vIGEgbmF0aXZlIGJhc2U2NCBlbmNvZGVyIGluIHRoZSBmb3JtIG9mIFwiYnRvYS9hdG9iXCJcclxuICAgICAgICBpZiAodGhpcy5IQVNfTkFUSVZFX1NVUFBPUlQgJiYgIXdlYlNhZmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGF0b2IoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnl0ZUFycmF5VG9TdHJpbmcodGhpcy5kZWNvZGVTdHJpbmdUb0J5dGVBcnJheShpbnB1dCwgd2ViU2FmZSkpO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQmFzZTY0LWRlY29kZSBhIHN0cmluZy5cclxuICAgICAqXHJcbiAgICAgKiBJbiBiYXNlLTY0IGRlY29kaW5nLCBncm91cHMgb2YgZm91ciBjaGFyYWN0ZXJzIGFyZSBjb252ZXJ0ZWQgaW50byB0aHJlZVxyXG4gICAgICogYnl0ZXMuICBJZiB0aGUgZW5jb2RlciBkaWQgbm90IGFwcGx5IHBhZGRpbmcsIHRoZSBpbnB1dCBsZW5ndGggbWF5IG5vdFxyXG4gICAgICogYmUgYSBtdWx0aXBsZSBvZiA0LlxyXG4gICAgICpcclxuICAgICAqIEluIHRoaXMgY2FzZSwgdGhlIGxhc3QgZ3JvdXAgd2lsbCBoYXZlIGZld2VyIHRoYW4gNCBjaGFyYWN0ZXJzLCBhbmRcclxuICAgICAqIHBhZGRpbmcgd2lsbCBiZSBpbmZlcnJlZC4gIElmIHRoZSBncm91cCBoYXMgb25lIG9yIHR3byBjaGFyYWN0ZXJzLCBpdCBkZWNvZGVzXHJcbiAgICAgKiB0byBvbmUgYnl0ZS4gIElmIHRoZSBncm91cCBoYXMgdGhyZWUgY2hhcmFjdGVycywgaXQgZGVjb2RlcyB0byB0d28gYnl0ZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlucHV0IElucHV0IHRvIGRlY29kZS5cclxuICAgICAqIEBwYXJhbSB3ZWJTYWZlIFRydWUgaWYgd2Ugc2hvdWxkIHVzZSB0aGUgd2ViLXNhZmUgYWxwaGFiZXQuXHJcbiAgICAgKiBAcmV0dXJuIGJ5dGVzIHJlcHJlc2VudGluZyB0aGUgZGVjb2RlZCB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgZGVjb2RlU3RyaW5nVG9CeXRlQXJyYXk6IGZ1bmN0aW9uIChpbnB1dCwgd2ViU2FmZSkge1xyXG4gICAgICAgIHRoaXMuaW5pdF8oKTtcclxuICAgICAgICB2YXIgY2hhclRvQnl0ZU1hcCA9IHdlYlNhZmVcclxuICAgICAgICAgICAgPyB0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlX1xyXG4gICAgICAgICAgICA6IHRoaXMuY2hhclRvQnl0ZU1hcF87XHJcbiAgICAgICAgdmFyIG91dHB1dCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOykge1xyXG4gICAgICAgICAgICB2YXIgYnl0ZTEgPSBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKyspXTtcclxuICAgICAgICAgICAgdmFyIGhhdmVCeXRlMiA9IGkgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBieXRlMiA9IGhhdmVCeXRlMiA/IGNoYXJUb0J5dGVNYXBbaW5wdXQuY2hhckF0KGkpXSA6IDA7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgdmFyIGhhdmVCeXRlMyA9IGkgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBieXRlMyA9IGhhdmVCeXRlMyA/IGNoYXJUb0J5dGVNYXBbaW5wdXQuY2hhckF0KGkpXSA6IDY0O1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIHZhciBoYXZlQnl0ZTQgPSBpIDwgaW5wdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgYnl0ZTQgPSBoYXZlQnl0ZTQgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiA2NDtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICBpZiAoYnl0ZTEgPT0gbnVsbCB8fCBieXRlMiA9PSBudWxsIHx8IGJ5dGUzID09IG51bGwgfHwgYnl0ZTQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgb3V0Qnl0ZTEgPSAoYnl0ZTEgPDwgMikgfCAoYnl0ZTIgPj4gNCk7XHJcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKG91dEJ5dGUxKTtcclxuICAgICAgICAgICAgaWYgKGJ5dGUzICE9PSA2NCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG91dEJ5dGUyID0gKChieXRlMiA8PCA0KSAmIDB4ZjApIHwgKGJ5dGUzID4+IDIpO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2gob3V0Qnl0ZTIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ5dGU0ICE9PSA2NCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdXRCeXRlMyA9ICgoYnl0ZTMgPDwgNikgJiAweGMwKSB8IGJ5dGU0O1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKG91dEJ5dGUzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogTGF6eSBzdGF0aWMgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uIENhbGxlZCBiZWZvcmVcclxuICAgICAqIGFjY2Vzc2luZyBhbnkgb2YgdGhlIHN0YXRpYyBtYXAgdmFyaWFibGVzLlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgaW5pdF86IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYnl0ZVRvQ2hhck1hcF8pIHtcclxuICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwXyA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBfID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfID0ge307XHJcbiAgICAgICAgICAgIC8vIFdlIHdhbnQgcXVpY2sgbWFwcGluZ3MgYmFjayBhbmQgZm9ydGgsIHNvIHdlIHByZWNvbXB1dGUgdHdvIG1hcHMuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5FTkNPREVEX1ZBTFMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnl0ZVRvQ2hhck1hcF9baV0gPSB0aGlzLkVOQ09ERURfVkFMUy5jaGFyQXQoaSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBfW3RoaXMuYnl0ZVRvQ2hhck1hcF9baV1dID0gaTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfW2ldID0gdGhpcy5FTkNPREVEX1ZBTFNfV0VCU0FGRS5jaGFyQXQoaSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlX1t0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlX1tpXV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgLy8gQmUgZm9yZ2l2aW5nIHdoZW4gZGVjb2RpbmcgYW5kIGNvcnJlY3RseSBkZWNvZGUgYm90aCBlbmNvZGluZ3MuXHJcbiAgICAgICAgICAgICAgICBpZiAoaSA+PSB0aGlzLkVOQ09ERURfVkFMU19CQVNFLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF9bdGhpcy5FTkNPREVEX1ZBTFNfV0VCU0FGRS5jaGFyQXQoaSldID0gaTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlX1t0aGlzLkVOQ09ERURfVkFMUy5jaGFyQXQoaSldID0gaTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIFVSTC1zYWZlIGJhc2U2NCBlbmNvZGluZ1xyXG4gKi9cclxudmFyIGJhc2U2NEVuY29kZSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIHZhciB1dGY4Qnl0ZXMgPSBzdHJpbmdUb0J5dGVBcnJheShzdHIpO1xyXG4gICAgcmV0dXJuIGJhc2U2NC5lbmNvZGVCeXRlQXJyYXkodXRmOEJ5dGVzLCB0cnVlKTtcclxufTtcclxuLyoqXHJcbiAqIFVSTC1zYWZlIGJhc2U2NCBkZWNvZGluZ1xyXG4gKlxyXG4gKiBOT1RFOiBETyBOT1QgdXNlIHRoZSBnbG9iYWwgYXRvYigpIGZ1bmN0aW9uIC0gaXQgZG9lcyBOT1Qgc3VwcG9ydCB0aGVcclxuICogYmFzZTY0VXJsIHZhcmlhbnQgZW5jb2RpbmcuXHJcbiAqXHJcbiAqIEBwYXJhbSBzdHIgVG8gYmUgZGVjb2RlZFxyXG4gKiBAcmV0dXJuIERlY29kZWQgcmVzdWx0LCBpZiBwb3NzaWJsZVxyXG4gKi9cclxudmFyIGJhc2U2NERlY29kZSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2U2NC5kZWNvZGVTdHJpbmcoc3RyLCB0cnVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignYmFzZTY0RGVjb2RlIGZhaWxlZDogJywgZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIERvIGEgZGVlcC1jb3B5IG9mIGJhc2ljIEphdmFTY3JpcHQgT2JqZWN0cyBvciBBcnJheXMuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwQ29weSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGRlZXBFeHRlbmQodW5kZWZpbmVkLCB2YWx1ZSk7XHJcbn1cclxuLyoqXHJcbiAqIENvcHkgcHJvcGVydGllcyBmcm9tIHNvdXJjZSB0byB0YXJnZXQgKHJlY3Vyc2l2ZWx5IGFsbG93cyBleHRlbnNpb25cclxuICogb2YgT2JqZWN0cyBhbmQgQXJyYXlzKS4gIFNjYWxhciB2YWx1ZXMgaW4gdGhlIHRhcmdldCBhcmUgb3Zlci13cml0dGVuLlxyXG4gKiBJZiB0YXJnZXQgaXMgdW5kZWZpbmVkLCBhbiBvYmplY3Qgb2YgdGhlIGFwcHJvcHJpYXRlIHR5cGUgd2lsbCBiZSBjcmVhdGVkXHJcbiAqIChhbmQgcmV0dXJuZWQpLlxyXG4gKlxyXG4gKiBXZSByZWN1cnNpdmVseSBjb3B5IGFsbCBjaGlsZCBwcm9wZXJ0aWVzIG9mIHBsYWluIE9iamVjdHMgaW4gdGhlIHNvdXJjZS0gc29cclxuICogdGhhdCBuYW1lc3BhY2UtIGxpa2UgZGljdGlvbmFyaWVzIGFyZSBtZXJnZWQuXHJcbiAqXHJcbiAqIE5vdGUgdGhhdCB0aGUgdGFyZ2V0IGNhbiBiZSBhIGZ1bmN0aW9uLCBpbiB3aGljaCBjYXNlIHRoZSBwcm9wZXJ0aWVzIGluXHJcbiAqIHRoZSBzb3VyY2UgT2JqZWN0IGFyZSBjb3BpZWQgb250byBpdCBhcyBzdGF0aWMgcHJvcGVydGllcyBvZiB0aGUgRnVuY3Rpb24uXHJcbiAqXHJcbiAqIE5vdGU6IHdlIGRvbid0IG1lcmdlIF9fcHJvdG9fXyB0byBwcmV2ZW50IHByb3RvdHlwZSBwb2xsdXRpb25cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBFeHRlbmQodGFyZ2V0LCBzb3VyY2UpIHtcclxuICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIE9iamVjdCkpIHtcclxuICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoIChzb3VyY2UuY29uc3RydWN0b3IpIHtcclxuICAgICAgICBjYXNlIERhdGU6XHJcbiAgICAgICAgICAgIC8vIFRyZWF0IERhdGVzIGxpa2Ugc2NhbGFyczsgaWYgdGhlIHRhcmdldCBkYXRlIG9iamVjdCBoYWQgYW55IGNoaWxkXHJcbiAgICAgICAgICAgIC8vIHByb3BlcnRpZXMgLSB0aGV5IHdpbGwgYmUgbG9zdCFcclxuICAgICAgICAgICAgdmFyIGRhdGVWYWx1ZSA9IHNvdXJjZTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGVWYWx1ZS5nZXRUaW1lKCkpO1xyXG4gICAgICAgIGNhc2UgT2JqZWN0OlxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldCA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQXJyYXk6XHJcbiAgICAgICAgICAgIC8vIEFsd2F5cyBjb3B5IHRoZSBhcnJheSBzb3VyY2UgYW5kIG92ZXJ3cml0ZSB0aGUgdGFyZ2V0LlxyXG4gICAgICAgICAgICB0YXJnZXQgPSBbXTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgLy8gTm90IGEgcGxhaW4gT2JqZWN0IC0gdHJlYXQgaXQgYXMgYSBzY2FsYXIuXHJcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xyXG4gICAgICAgIC8vIHVzZSBpc1ZhbGlkS2V5IHRvIGd1YXJkIGFnYWluc3QgcHJvdG90eXBlIHBvbGx1dGlvbi4gU2VlIGh0dHBzOi8vc255ay5pby92dWxuL1NOWUstSlMtTE9EQVNILTQ1MDIwMlxyXG4gICAgICAgIGlmICghc291cmNlLmhhc093blByb3BlcnR5KHByb3ApIHx8ICFpc1ZhbGlkS2V5KHByb3ApKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YXJnZXRbcHJvcF0gPSBkZWVwRXh0ZW5kKHRhcmdldFtwcm9wXSwgc291cmNlW3Byb3BdKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn1cclxuZnVuY3Rpb24gaXNWYWxpZEtleShrZXkpIHtcclxuICAgIHJldHVybiBrZXkgIT09ICdfX3Byb3RvX18nO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBEZWZlcnJlZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIERlZmVycmVkKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5yZWplY3QgPSBmdW5jdGlvbiAoKSB7IH07XHJcbiAgICAgICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24gKCkgeyB9O1xyXG4gICAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZSA9IHJlc29sdmU7XHJcbiAgICAgICAgICAgIF90aGlzLnJlamVjdCA9IHJlamVjdDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogT3VyIEFQSSBpbnRlcm5hbHMgYXJlIG5vdCBwcm9taXNlaWZpZWQgYW5kIGNhbm5vdCBiZWNhdXNlIG91ciBjYWxsYmFjayBBUElzIGhhdmUgc3VidGxlIGV4cGVjdGF0aW9ucyBhcm91bmRcclxuICAgICAqIGludm9raW5nIHByb21pc2VzIGlubGluZSwgd2hpY2ggUHJvbWlzZXMgYXJlIGZvcmJpZGRlbiB0byBkby4gVGhpcyBtZXRob2QgYWNjZXB0cyBhbiBvcHRpb25hbCBub2RlLXN0eWxlIGNhbGxiYWNrXHJcbiAgICAgKiBhbmQgcmV0dXJucyBhIG5vZGUtc3R5bGUgY2FsbGJhY2sgd2hpY2ggd2lsbCByZXNvbHZlIG9yIHJlamVjdCB0aGUgRGVmZXJyZWQncyBwcm9taXNlLlxyXG4gICAgICovXHJcbiAgICBEZWZlcnJlZC5wcm90b3R5cGUud3JhcENhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVycm9yLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXNvbHZlKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBdHRhY2hpbmcgbm9vcCBoYW5kbGVyIGp1c3QgaW4gY2FzZSBkZXZlbG9wZXIgd2Fzbid0IGV4cGVjdGluZ1xyXG4gICAgICAgICAgICAgICAgLy8gcHJvbWlzZXNcclxuICAgICAgICAgICAgICAgIF90aGlzLnByb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkgeyB9KTtcclxuICAgICAgICAgICAgICAgIC8vIFNvbWUgb2Ygb3VyIGNhbGxiYWNrcyBkb24ndCBleHBlY3QgYSB2YWx1ZSBhbmQgb3VyIG93biB0ZXN0c1xyXG4gICAgICAgICAgICAgICAgLy8gYXNzZXJ0IHRoYXQgdGhlIHBhcmFtZXRlciBsZW5ndGggaXMgMVxyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBEZWZlcnJlZDtcclxufSgpKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFJldHVybnMgbmF2aWdhdG9yLnVzZXJBZ2VudCBzdHJpbmcgb3IgJycgaWYgaXQncyBub3QgZGVmaW5lZC5cclxuICogQHJldHVybiB1c2VyIGFnZW50IHN0cmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0VUEoKSB7XHJcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICB0eXBlb2YgbmF2aWdhdG9yWyd1c2VyQWdlbnQnXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4gbmF2aWdhdG9yWyd1c2VyQWdlbnQnXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxufVxyXG4vKipcclxuICogRGV0ZWN0IENvcmRvdmEgLyBQaG9uZUdhcCAvIElvbmljIGZyYW1ld29ya3Mgb24gYSBtb2JpbGUgZGV2aWNlLlxyXG4gKlxyXG4gKiBEZWxpYmVyYXRlbHkgZG9lcyBub3QgcmVseSBvbiBjaGVja2luZyBgZmlsZTovL2AgVVJMcyAoYXMgdGhpcyBmYWlscyBQaG9uZUdhcFxyXG4gKiBpbiB0aGUgUmlwcGxlIGVtdWxhdG9yKSBub3IgQ29yZG92YSBgb25EZXZpY2VSZWFkeWAsIHdoaWNoIHdvdWxkIG5vcm1hbGx5XHJcbiAqIHdhaXQgZm9yIGEgY2FsbGJhY2suXHJcbiAqL1xyXG5mdW5jdGlvbiBpc01vYmlsZUNvcmRvdmEoKSB7XHJcbiAgICByZXR1cm4gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBTZXR0aW5nIHVwIGFuIGJyb2FkbHkgYXBwbGljYWJsZSBpbmRleCBzaWduYXR1cmUgZm9yIFdpbmRvd1xyXG4gICAgICAgIC8vIGp1c3QgdG8gZGVhbCB3aXRoIHRoaXMgY2FzZSB3b3VsZCBwcm9iYWJseSBiZSBhIGJhZCBpZGVhLlxyXG4gICAgICAgICEhKHdpbmRvd1snY29yZG92YSddIHx8IHdpbmRvd1sncGhvbmVnYXAnXSB8fCB3aW5kb3dbJ1Bob25lR2FwJ10pICYmXHJcbiAgICAgICAgL2lvc3xpcGhvbmV8aXBvZHxpcGFkfGFuZHJvaWR8YmxhY2tiZXJyeXxpZW1vYmlsZS9pLnRlc3QoZ2V0VUEoKSkpO1xyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3QgTm9kZS5qcy5cclxuICpcclxuICogQHJldHVybiB0cnVlIGlmIE5vZGUuanMgZW52aXJvbm1lbnQgaXMgZGV0ZWN0ZWQuXHJcbiAqL1xyXG4vLyBOb2RlIGRldGVjdGlvbiBsb2dpYyBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vaWxpYWthbi9kZXRlY3Qtbm9kZS9cclxuZnVuY3Rpb24gaXNOb2RlKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJyk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogRGV0ZWN0IEJyb3dzZXIgRW52aXJvbm1lbnRcclxuICovXHJcbmZ1bmN0aW9uIGlzQnJvd3NlcigpIHtcclxuICAgIHJldHVybiB0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcgJiYgc2VsZi5zZWxmID09PSBzZWxmO1xyXG59XHJcbmZ1bmN0aW9uIGlzQnJvd3NlckV4dGVuc2lvbigpIHtcclxuICAgIHZhciBydW50aW1lID0gdHlwZW9mIGNocm9tZSA9PT0gJ29iamVjdCdcclxuICAgICAgICA/IGNocm9tZS5ydW50aW1lXHJcbiAgICAgICAgOiB0eXBlb2YgYnJvd3NlciA9PT0gJ29iamVjdCdcclxuICAgICAgICAgICAgPyBicm93c2VyLnJ1bnRpbWVcclxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICByZXR1cm4gdHlwZW9mIHJ1bnRpbWUgPT09ICdvYmplY3QnICYmIHJ1bnRpbWUuaWQgIT09IHVuZGVmaW5lZDtcclxufVxyXG4vKipcclxuICogRGV0ZWN0IFJlYWN0IE5hdGl2ZS5cclxuICpcclxuICogQHJldHVybiB0cnVlIGlmIFJlYWN0TmF0aXZlIGVudmlyb25tZW50IGlzIGRldGVjdGVkLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNSZWFjdE5hdGl2ZSgpIHtcclxuICAgIHJldHVybiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgJiYgbmF2aWdhdG9yWydwcm9kdWN0J10gPT09ICdSZWFjdE5hdGl2ZScpO1xyXG59XHJcbi8qKiBEZXRlY3RzIEVsZWN0cm9uIGFwcHMuICovXHJcbmZ1bmN0aW9uIGlzRWxlY3Ryb24oKSB7XHJcbiAgICByZXR1cm4gZ2V0VUEoKS5pbmRleE9mKCdFbGVjdHJvbi8nKSA+PSAwO1xyXG59XHJcbi8qKiBEZXRlY3RzIEludGVybmV0IEV4cGxvcmVyLiAqL1xyXG5mdW5jdGlvbiBpc0lFKCkge1xyXG4gICAgdmFyIHVhID0gZ2V0VUEoKTtcclxuICAgIHJldHVybiB1YS5pbmRleE9mKCdNU0lFICcpID49IDAgfHwgdWEuaW5kZXhPZignVHJpZGVudC8nKSA+PSAwO1xyXG59XHJcbi8qKiBEZXRlY3RzIFVuaXZlcnNhbCBXaW5kb3dzIFBsYXRmb3JtIGFwcHMuICovXHJcbmZ1bmN0aW9uIGlzVVdQKCkge1xyXG4gICAgcmV0dXJuIGdldFVBKCkuaW5kZXhPZignTVNBcHBIb3N0LycpID49IDA7XHJcbn1cclxuLyoqXHJcbiAqIERldGVjdCB3aGV0aGVyIHRoZSBjdXJyZW50IFNESyBidWlsZCBpcyB0aGUgTm9kZSB2ZXJzaW9uLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHRydWUgaWYgaXQncyB0aGUgTm9kZSBTREsgYnVpbGQuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc05vZGVTZGsoKSB7XHJcbiAgICByZXR1cm4gQ09OU1RBTlRTLk5PREVfQ0xJRU5UID09PSB0cnVlIHx8IENPTlNUQU5UUy5OT0RFX0FETUlOID09PSB0cnVlO1xyXG59XHJcbi8qKiBSZXR1cm5zIHRydWUgaWYgd2UgYXJlIHJ1bm5pbmcgaW4gU2FmYXJpLiAqL1xyXG5mdW5jdGlvbiBpc1NhZmFyaSgpIHtcclxuICAgIHJldHVybiAoIWlzTm9kZSgpICYmXHJcbiAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygnU2FmYXJpJykgJiZcclxuICAgICAgICAhbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygnQ2hyb21lJykpO1xyXG59XHJcbi8qKlxyXG4gKiBUaGlzIG1ldGhvZCBjaGVja3MgaWYgaW5kZXhlZERCIGlzIHN1cHBvcnRlZCBieSBjdXJyZW50IGJyb3dzZXIvc2VydmljZSB3b3JrZXIgY29udGV4dFxyXG4gKiBAcmV0dXJuIHRydWUgaWYgaW5kZXhlZERCIGlzIHN1cHBvcnRlZCBieSBjdXJyZW50IGJyb3dzZXIvc2VydmljZSB3b3JrZXIgY29udGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gaXNJbmRleGVkREJBdmFpbGFibGUoKSB7XHJcbiAgICByZXR1cm4gJ2luZGV4ZWREQicgaW4gc2VsZiAmJiBpbmRleGVkREIgIT0gbnVsbDtcclxufVxyXG4vKipcclxuICogVGhpcyBtZXRob2QgdmFsaWRhdGVzIGJyb3dzZXIvc3cgY29udGV4dCBmb3IgaW5kZXhlZERCIGJ5IG9wZW5pbmcgYSBkdW1teSBpbmRleGVkREIgZGF0YWJhc2UgYW5kIHJlamVjdFxyXG4gKiBpZiBlcnJvcnMgb2NjdXIgZHVyaW5nIHRoZSBkYXRhYmFzZSBvcGVuIG9wZXJhdGlvbi5cclxuICpcclxuICogQHRocm93cyBleGNlcHRpb24gaWYgY3VycmVudCBicm93c2VyL3N3IGNvbnRleHQgY2FuJ3QgcnVuIGlkYi5vcGVuIChleDogU2FmYXJpIGlmcmFtZSwgRmlyZWZveFxyXG4gKiBwcml2YXRlIGJyb3dzaW5nKVxyXG4gKi9cclxuZnVuY3Rpb24gdmFsaWRhdGVJbmRleGVkREJPcGVuYWJsZSgpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHByZUV4aXN0XzEgPSB0cnVlO1xyXG4gICAgICAgICAgICB2YXIgREJfQ0hFQ0tfTkFNRV8xID0gJ3ZhbGlkYXRlLWJyb3dzZXItY29udGV4dC1mb3ItaW5kZXhlZGRiLWFuYWx5dGljcy1tb2R1bGUnO1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdF8xID0gc2VsZi5pbmRleGVkREIub3BlbihEQl9DSEVDS19OQU1FXzEpO1xyXG4gICAgICAgICAgICByZXF1ZXN0XzEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdF8xLnJlc3VsdC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIGRhdGFiYXNlIG9ubHkgd2hlbiBpdCBkb2Vzbid0IHByZS1leGlzdFxyXG4gICAgICAgICAgICAgICAgaWYgKCFwcmVFeGlzdF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoREJfQ0hFQ0tfTkFNRV8xKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJlcXVlc3RfMS5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVFeGlzdF8xID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJlcXVlc3RfMS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KCgoX2EgPSByZXF1ZXN0XzEuZXJyb3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tZXNzYWdlKSB8fCAnJyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBUaGlzIG1ldGhvZCBjaGVja3Mgd2hldGhlciBjb29raWUgaXMgZW5hYmxlZCB3aXRoaW4gY3VycmVudCBicm93c2VyXHJcbiAqIEByZXR1cm4gdHJ1ZSBpZiBjb29raWUgaXMgZW5hYmxlZCB3aXRoaW4gY3VycmVudCBicm93c2VyXHJcbiAqL1xyXG5mdW5jdGlvbiBhcmVDb29raWVzRW5hYmxlZCgpIHtcclxuICAgIGlmICghbmF2aWdhdG9yIHx8ICFuYXZpZ2F0b3IuY29va2llRW5hYmxlZCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBFUlJPUl9OQU1FID0gJ0ZpcmViYXNlRXJyb3InO1xyXG4vLyBCYXNlZCBvbiBjb2RlIGZyb206XHJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Vycm9yI0N1c3RvbV9FcnJvcl9UeXBlc1xyXG52YXIgRmlyZWJhc2VFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhGaXJlYmFzZUVycm9yLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gRmlyZWJhc2VFcnJvcihjb2RlLCBtZXNzYWdlLCBjdXN0b21EYXRhKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSkgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb2RlID0gY29kZTtcclxuICAgICAgICBfdGhpcy5jdXN0b21EYXRhID0gY3VzdG9tRGF0YTtcclxuICAgICAgICBfdGhpcy5uYW1lID0gRVJST1JfTkFNRTtcclxuICAgICAgICAvLyBGaXggRm9yIEVTNVxyXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC13aWtpL2Jsb2IvbWFzdGVyL0JyZWFraW5nLUNoYW5nZXMubWQjZXh0ZW5kaW5nLWJ1aWx0LWlucy1saWtlLWVycm9yLWFycmF5LWFuZC1tYXAtbWF5LW5vLWxvbmdlci13b3JrXHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBGaXJlYmFzZUVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgLy8gTWFpbnRhaW5zIHByb3BlciBzdGFjayB0cmFjZSBmb3Igd2hlcmUgb3VyIGVycm9yIHdhcyB0aHJvd24uXHJcbiAgICAgICAgLy8gT25seSBhdmFpbGFibGUgb24gVjguXHJcbiAgICAgICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XHJcbiAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKF90aGlzLCBFcnJvckZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBGaXJlYmFzZUVycm9yO1xyXG59KEVycm9yKSk7XHJcbnZhciBFcnJvckZhY3RvcnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBFcnJvckZhY3Rvcnkoc2VydmljZSwgc2VydmljZU5hbWUsIGVycm9ycykge1xyXG4gICAgICAgIHRoaXMuc2VydmljZSA9IHNlcnZpY2U7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlTmFtZSA9IHNlcnZpY2VOYW1lO1xyXG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xyXG4gICAgfVxyXG4gICAgRXJyb3JGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoY29kZSkge1xyXG4gICAgICAgIHZhciBkYXRhID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgZGF0YVtfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGN1c3RvbURhdGEgPSBkYXRhWzBdIHx8IHt9O1xyXG4gICAgICAgIHZhciBmdWxsQ29kZSA9IHRoaXMuc2VydmljZSArIFwiL1wiICsgY29kZTtcclxuICAgICAgICB2YXIgdGVtcGxhdGUgPSB0aGlzLmVycm9yc1tjb2RlXTtcclxuICAgICAgICB2YXIgbWVzc2FnZSA9IHRlbXBsYXRlID8gcmVwbGFjZVRlbXBsYXRlKHRlbXBsYXRlLCBjdXN0b21EYXRhKSA6ICdFcnJvcic7XHJcbiAgICAgICAgLy8gU2VydmljZSBOYW1lOiBFcnJvciBtZXNzYWdlIChzZXJ2aWNlL2NvZGUpLlxyXG4gICAgICAgIHZhciBmdWxsTWVzc2FnZSA9IHRoaXMuc2VydmljZU5hbWUgKyBcIjogXCIgKyBtZXNzYWdlICsgXCIgKFwiICsgZnVsbENvZGUgKyBcIikuXCI7XHJcbiAgICAgICAgdmFyIGVycm9yID0gbmV3IEZpcmViYXNlRXJyb3IoZnVsbENvZGUsIGZ1bGxNZXNzYWdlLCBjdXN0b21EYXRhKTtcclxuICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEVycm9yRmFjdG9yeTtcclxufSgpKTtcclxuZnVuY3Rpb24gcmVwbGFjZVRlbXBsYXRlKHRlbXBsYXRlLCBkYXRhKSB7XHJcbiAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZShQQVRURVJOLCBmdW5jdGlvbiAoXywga2V5KSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZGF0YVtrZXldO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsID8gU3RyaW5nKHZhbHVlKSA6IFwiPFwiICsga2V5ICsgXCI/PlwiO1xyXG4gICAgfSk7XHJcbn1cclxudmFyIFBBVFRFUk4gPSAvXFx7XFwkKFtefV0rKX0vZztcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEV2YWx1YXRlcyBhIEpTT04gc3RyaW5nIGludG8gYSBqYXZhc2NyaXB0IG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBBIHN0cmluZyBjb250YWluaW5nIEpTT04uXHJcbiAqIEByZXR1cm4geyp9IFRoZSBqYXZhc2NyaXB0IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHNwZWNpZmllZCBKU09OLlxyXG4gKi9cclxuZnVuY3Rpb24ganNvbkV2YWwoc3RyKSB7XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIEpTT04gcmVwcmVzZW50aW5nIGEgamF2YXNjcmlwdCBvYmplY3QuXHJcbiAqIEBwYXJhbSB7Kn0gZGF0YSBKYXZhc2NyaXB0IG9iamVjdCB0byBiZSBzdHJpbmdpZmllZC5cclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgSlNPTiBjb250ZW50cyBvZiB0aGUgb2JqZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gc3RyaW5naWZ5KGRhdGEpIHtcclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGludG8gY29uc3RpdHVlbnQgcGFydHMuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gd2l0aCBpbnZhbGlkIC8gaW5jb21wbGV0ZSBjbGFpbXMgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXHJcbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXHJcbiAqL1xyXG52YXIgZGVjb2RlID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICB2YXIgaGVhZGVyID0ge30sIGNsYWltcyA9IHt9LCBkYXRhID0ge30sIHNpZ25hdHVyZSA9ICcnO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgcGFydHMgPSB0b2tlbi5zcGxpdCgnLicpO1xyXG4gICAgICAgIGhlYWRlciA9IGpzb25FdmFsKGJhc2U2NERlY29kZShwYXJ0c1swXSkgfHwgJycpO1xyXG4gICAgICAgIGNsYWltcyA9IGpzb25FdmFsKGJhc2U2NERlY29kZShwYXJ0c1sxXSkgfHwgJycpO1xyXG4gICAgICAgIHNpZ25hdHVyZSA9IHBhcnRzWzJdO1xyXG4gICAgICAgIGRhdGEgPSBjbGFpbXNbJ2QnXSB8fCB7fTtcclxuICAgICAgICBkZWxldGUgY2xhaW1zWydkJ107XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGhlYWRlcjogaGVhZGVyLFxyXG4gICAgICAgIGNsYWltczogY2xhaW1zLFxyXG4gICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgc2lnbmF0dXJlOiBzaWduYXR1cmVcclxuICAgIH07XHJcbn07XHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gYW5kIGNoZWNrcyB0aGUgdmFsaWRpdHkgb2YgaXRzIHRpbWUtYmFzZWQgY2xhaW1zLiBXaWxsIHJldHVybiB0cnVlIGlmIHRoZVxyXG4gKiB0b2tlbiBpcyB3aXRoaW4gdGhlIHRpbWUgd2luZG93IGF1dGhvcml6ZWQgYnkgdGhlICduYmYnIChub3QtYmVmb3JlKSBhbmQgJ2lhdCcgKGlzc3VlZC1hdCkgY2xhaW1zLlxyXG4gKlxyXG4gKiBOb3RlczpcclxuICogLSBNYXkgcmV0dXJuIGEgZmFsc2UgbmVnYXRpdmUgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXHJcbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXHJcbiAqL1xyXG52YXIgaXNWYWxpZFRpbWVzdGFtcCA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgdmFyIGNsYWltcyA9IGRlY29kZSh0b2tlbikuY2xhaW1zO1xyXG4gICAgdmFyIG5vdyA9IE1hdGguZmxvb3IobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKTtcclxuICAgIHZhciB2YWxpZFNpbmNlID0gMCwgdmFsaWRVbnRpbCA9IDA7XHJcbiAgICBpZiAodHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBpZiAoY2xhaW1zLmhhc093blByb3BlcnR5KCduYmYnKSkge1xyXG4gICAgICAgICAgICB2YWxpZFNpbmNlID0gY2xhaW1zWyduYmYnXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY2xhaW1zLmhhc093blByb3BlcnR5KCdpYXQnKSkge1xyXG4gICAgICAgICAgICB2YWxpZFNpbmNlID0gY2xhaW1zWydpYXQnXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnZXhwJykpIHtcclxuICAgICAgICAgICAgdmFsaWRVbnRpbCA9IGNsYWltc1snZXhwJ107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB0b2tlbiB3aWxsIGV4cGlyZSBhZnRlciAyNGggYnkgZGVmYXVsdFxyXG4gICAgICAgICAgICB2YWxpZFVudGlsID0gdmFsaWRTaW5jZSArIDg2NDAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAoISFub3cgJiZcclxuICAgICAgICAhIXZhbGlkU2luY2UgJiZcclxuICAgICAgICAhIXZhbGlkVW50aWwgJiZcclxuICAgICAgICBub3cgPj0gdmFsaWRTaW5jZSAmJlxyXG4gICAgICAgIG5vdyA8PSB2YWxpZFVudGlsKTtcclxufTtcclxuLyoqXHJcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBhbmQgcmV0dXJucyBpdHMgaXNzdWVkIGF0IHRpbWUgaWYgdmFsaWQsIG51bGwgb3RoZXJ3aXNlLlxyXG4gKlxyXG4gKiBOb3RlczpcclxuICogLSBNYXkgcmV0dXJuIG51bGwgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXHJcbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXHJcbiAqL1xyXG52YXIgaXNzdWVkQXRUaW1lID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICB2YXIgY2xhaW1zID0gZGVjb2RlKHRva2VuKS5jbGFpbXM7XHJcbiAgICBpZiAodHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcgJiYgY2xhaW1zLmhhc093blByb3BlcnR5KCdpYXQnKSkge1xyXG4gICAgICAgIHJldHVybiBjbGFpbXNbJ2lhdCddO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn07XHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gYW5kIGNoZWNrcyB0aGUgdmFsaWRpdHkgb2YgaXRzIGZvcm1hdC4gRXhwZWN0cyBhIHZhbGlkIGlzc3VlZC1hdCB0aW1lLlxyXG4gKlxyXG4gKiBOb3RlczpcclxuICogLSBNYXkgcmV0dXJuIGEgZmFsc2UgbmVnYXRpdmUgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXHJcbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXHJcbiAqL1xyXG52YXIgaXNWYWxpZEZvcm1hdCA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgdmFyIGRlY29kZWQgPSBkZWNvZGUodG9rZW4pLCBjbGFpbXMgPSBkZWNvZGVkLmNsYWltcztcclxuICAgIHJldHVybiAhIWNsYWltcyAmJiB0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0JyAmJiBjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2lhdCcpO1xyXG59O1xyXG4vKipcclxuICogQXR0ZW1wdHMgdG8gcGVlciBpbnRvIGFuIGF1dGggdG9rZW4gYW5kIGRldGVybWluZSBpZiBpdCdzIGFuIGFkbWluIGF1dGggdG9rZW4gYnkgbG9va2luZyBhdCB0aGUgY2xhaW1zIHBvcnRpb24uXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbnZhciBpc0FkbWluID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICB2YXIgY2xhaW1zID0gZGVjb2RlKHRva2VuKS5jbGFpbXM7XHJcbiAgICByZXR1cm4gdHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcgJiYgY2xhaW1zWydhZG1pbiddID09PSB0cnVlO1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBjb250YWlucyhvYmosIGtleSkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XHJcbn1cclxuZnVuY3Rpb24gc2FmZUdldChvYmosIGtleSkge1xyXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcclxuICAgICAgICByZXR1cm4gb2JqW2tleV07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzRW1wdHkob2JqKSB7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIG1hcChvYmosIGZuLCBjb250ZXh0T2JqKSB7XHJcbiAgICB2YXIgcmVzID0ge307XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcclxuICAgICAgICAgICAgcmVzW2tleV0gPSBmbi5jYWxsKGNvbnRleHRPYmosIG9ialtrZXldLCBrZXksIG9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUmV0dXJucyBhIHF1ZXJ5c3RyaW5nLWZvcm1hdHRlZCBzdHJpbmcgKGUuZy4gJmFyZz12YWwmYXJnMj12YWwyKSBmcm9tIGFcclxuICogcGFyYW1zIG9iamVjdCAoZS5nLiB7YXJnOiAndmFsJywgYXJnMjogJ3ZhbDInfSlcclxuICogTm90ZTogWW91IG11c3QgcHJlcGVuZCBpdCB3aXRoID8gd2hlbiBhZGRpbmcgaXQgdG8gYSBVUkwuXHJcbiAqL1xyXG5mdW5jdGlvbiBxdWVyeXN0cmluZyhxdWVyeXN0cmluZ1BhcmFtcykge1xyXG4gICAgdmFyIHBhcmFtcyA9IFtdO1xyXG4gICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChhcnJheVZhbCkge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoYXJyYXlWYWwpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXJhbXMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmVudHJpZXMocXVlcnlzdHJpbmdQYXJhbXMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIHZhciBfYiA9IF9hW19pXSwga2V5ID0gX2JbMF0sIHZhbHVlID0gX2JbMV07XHJcbiAgICAgICAgX2xvb3BfMShrZXksIHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwYXJhbXMubGVuZ3RoID8gJyYnICsgcGFyYW1zLmpvaW4oJyYnKSA6ICcnO1xyXG59XHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgcXVlcnlzdHJpbmcgKGUuZy4gP2FyZz12YWwmYXJnMj12YWwyKSBpbnRvIGEgcGFyYW1zIG9iamVjdFxyXG4gKiAoZS5nLiB7YXJnOiAndmFsJywgYXJnMjogJ3ZhbDInfSlcclxuICovXHJcbmZ1bmN0aW9uIHF1ZXJ5c3RyaW5nRGVjb2RlKHF1ZXJ5c3RyaW5nKSB7XHJcbiAgICB2YXIgb2JqID0ge307XHJcbiAgICB2YXIgdG9rZW5zID0gcXVlcnlzdHJpbmcucmVwbGFjZSgvXlxcPy8sICcnKS5zcGxpdCgnJicpO1xyXG4gICAgdG9rZW5zLmZvckVhY2goZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHRva2VuLnNwbGl0KCc9JyksIGtleSA9IF9hWzBdLCB2YWx1ZSA9IF9hWzFdO1xyXG4gICAgICAgICAgICBvYmpbZGVjb2RlVVJJQ29tcG9uZW50KGtleSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBvYmo7XHJcbn1cclxuLyoqXHJcbiAqIEV4dHJhY3QgdGhlIHF1ZXJ5IHN0cmluZyBwYXJ0IG9mIGEgVVJMLCBpbmNsdWRpbmcgdGhlIGxlYWRpbmcgcXVlc3Rpb24gbWFyayAoaWYgcHJlc2VudCkuXHJcbiAqL1xyXG5mdW5jdGlvbiBleHRyYWN0UXVlcnlzdHJpbmcodXJsKSB7XHJcbiAgICB2YXIgcXVlcnlTdGFydCA9IHVybC5pbmRleE9mKCc/Jyk7XHJcbiAgICBpZiAoIXF1ZXJ5U3RhcnQpIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICB2YXIgZnJhZ21lbnRTdGFydCA9IHVybC5pbmRleE9mKCcjJywgcXVlcnlTdGFydCk7XHJcbiAgICByZXR1cm4gdXJsLnN1YnN0cmluZyhxdWVyeVN0YXJ0LCBmcmFnbWVudFN0YXJ0ID4gMCA/IGZyYWdtZW50U3RhcnQgOiB1bmRlZmluZWQpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBAZmlsZW92ZXJ2aWV3IFNIQS0xIGNyeXB0b2dyYXBoaWMgaGFzaC5cclxuICogVmFyaWFibGUgbmFtZXMgZm9sbG93IHRoZSBub3RhdGlvbiBpbiBGSVBTIFBVQiAxODAtMzpcclxuICogaHR0cDovL2NzcmMubmlzdC5nb3YvcHVibGljYXRpb25zL2ZpcHMvZmlwczE4MC0zL2ZpcHMxODAtM19maW5hbC5wZGYuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKiAgIHZhciBzaGExID0gbmV3IHNoYTEoKTtcclxuICogICBzaGExLnVwZGF0ZShieXRlcyk7XHJcbiAqICAgdmFyIGhhc2ggPSBzaGExLmRpZ2VzdCgpO1xyXG4gKlxyXG4gKiBQZXJmb3JtYW5jZTpcclxuICogICBDaHJvbWUgMjM6ICAgfjQwMCBNYml0L3NcclxuICogICBGaXJlZm94IDE2OiAgfjI1MCBNYml0L3NcclxuICpcclxuICovXHJcbi8qKlxyXG4gKiBTSEEtMSBjcnlwdG9ncmFwaGljIGhhc2ggY29uc3RydWN0b3IuXHJcbiAqXHJcbiAqIFRoZSBwcm9wZXJ0aWVzIGRlY2xhcmVkIGhlcmUgYXJlIGRpc2N1c3NlZCBpbiB0aGUgYWJvdmUgYWxnb3JpdGhtIGRvY3VtZW50LlxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGZpbmFsXHJcbiAqIEBzdHJ1Y3RcclxuICovXHJcbnZhciBTaGExID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU2hhMSgpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIb2xkcyB0aGUgcHJldmlvdXMgdmFsdWVzIG9mIGFjY3VtdWxhdGVkIHZhcmlhYmxlcyBhLWUgaW4gdGhlIGNvbXByZXNzX1xyXG4gICAgICAgICAqIGZ1bmN0aW9uLlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5jaGFpbl8gPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIGJ1ZmZlciBob2xkaW5nIHRoZSBwYXJ0aWFsbHkgY29tcHV0ZWQgaGFzaCByZXN1bHQuXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmJ1Zl8gPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbiBhcnJheSBvZiA4MCBieXRlcywgZWFjaCBhIHBhcnQgb2YgdGhlIG1lc3NhZ2UgdG8gYmUgaGFzaGVkLiAgUmVmZXJyZWQgdG9cclxuICAgICAgICAgKiBhcyB0aGUgbWVzc2FnZSBzY2hlZHVsZSBpbiB0aGUgZG9jcy5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuV18gPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb250YWlucyBkYXRhIG5lZWRlZCB0byBwYWQgbWVzc2FnZXMgbGVzcyB0aGFuIDY0IGJ5dGVzLlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5wYWRfID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHByaXZhdGUge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmluYnVmXyA9IDA7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHByaXZhdGUge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnRvdGFsXyA9IDA7XHJcbiAgICAgICAgdGhpcy5ibG9ja1NpemUgPSA1MTIgLyA4O1xyXG4gICAgICAgIHRoaXMucGFkX1swXSA9IDEyODtcclxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMuYmxvY2tTaXplOyArK2kpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWRfW2ldID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgfVxyXG4gICAgU2hhMS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMF0gPSAweDY3NDUyMzAxO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzFdID0gMHhlZmNkYWI4OTtcclxuICAgICAgICB0aGlzLmNoYWluX1syXSA9IDB4OThiYWRjZmU7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bM10gPSAweDEwMzI1NDc2O1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzRdID0gMHhjM2QyZTFmMDtcclxuICAgICAgICB0aGlzLmluYnVmXyA9IDA7XHJcbiAgICAgICAgdGhpcy50b3RhbF8gPSAwO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgY29tcHJlc3MgaGVscGVyIGZ1bmN0aW9uLlxyXG4gICAgICogQHBhcmFtIGJ1ZiBCbG9jayB0byBjb21wcmVzcy5cclxuICAgICAqIEBwYXJhbSBvZmZzZXQgT2Zmc2V0IG9mIHRoZSBibG9jayBpbiB0aGUgYnVmZmVyLlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgU2hhMS5wcm90b3R5cGUuY29tcHJlc3NfID0gZnVuY3Rpb24gKGJ1Ziwgb2Zmc2V0KSB7XHJcbiAgICAgICAgaWYgKCFvZmZzZXQpIHtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIFcgPSB0aGlzLldfO1xyXG4gICAgICAgIC8vIGdldCAxNiBiaWcgZW5kaWFuIHdvcmRzXHJcbiAgICAgICAgaWYgKHR5cGVvZiBidWYgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETyh1c2VyKTogW2J1ZyA4MTQwMTIyXSBSZWNlbnQgdmVyc2lvbnMgb2YgU2FmYXJpIGZvciBNYWMgT1MgYW5kIGlPU1xyXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBhIGJ1ZyB0aGF0IHR1cm5zIHRoZSBwb3N0LWluY3JlbWVudCArKyBvcGVyYXRvciBpbnRvIHByZS1pbmNyZW1lbnRcclxuICAgICAgICAgICAgICAgIC8vIGR1cmluZyBKSVQgY29tcGlsYXRpb24uICBXZSBoYXZlIGNvZGUgdGhhdCBkZXBlbmRzIGhlYXZpbHkgb24gU0hBLTEgZm9yXHJcbiAgICAgICAgICAgICAgICAvLyBjb3JyZWN0bmVzcyBhbmQgd2hpY2ggaXMgYWZmZWN0ZWQgYnkgdGhpcyBidWcsIHNvIEkndmUgcmVtb3ZlZCBhbGwgdXNlc1xyXG4gICAgICAgICAgICAgICAgLy8gb2YgcG9zdC1pbmNyZW1lbnQgKysgaW4gd2hpY2ggdGhlIHJlc3VsdCB2YWx1ZSBpcyB1c2VkLiAgV2UgY2FuIHJldmVydFxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBjaGFuZ2Ugb25jZSB0aGUgU2FmYXJpIGJ1Z1xyXG4gICAgICAgICAgICAgICAgLy8gKGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMDkwMzYpIGhhcyBiZWVuIGZpeGVkIGFuZFxyXG4gICAgICAgICAgICAgICAgLy8gbW9zdCBjbGllbnRzIGhhdmUgYmVlbiB1cGRhdGVkLlxyXG4gICAgICAgICAgICAgICAgV1tpXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCkgPDwgMjQpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCArIDEpIDw8IDE2KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWYuY2hhckNvZGVBdChvZmZzZXQgKyAyKSA8PCA4KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCArIDMpO1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgV1tpXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgKGJ1ZltvZmZzZXRdIDw8IDI0KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWZbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1ZltvZmZzZXQgKyAyXSA8PCA4KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZltvZmZzZXQgKyAzXTtcclxuICAgICAgICAgICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGV4cGFuZCB0byA4MCB3b3Jkc1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAxNjsgaSA8IDgwOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHQgPSBXW2kgLSAzXSBeIFdbaSAtIDhdIF4gV1tpIC0gMTRdIF4gV1tpIC0gMTZdO1xyXG4gICAgICAgICAgICBXW2ldID0gKCh0IDw8IDEpIHwgKHQgPj4+IDMxKSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYSA9IHRoaXMuY2hhaW5fWzBdO1xyXG4gICAgICAgIHZhciBiID0gdGhpcy5jaGFpbl9bMV07XHJcbiAgICAgICAgdmFyIGMgPSB0aGlzLmNoYWluX1syXTtcclxuICAgICAgICB2YXIgZCA9IHRoaXMuY2hhaW5fWzNdO1xyXG4gICAgICAgIHZhciBlID0gdGhpcy5jaGFpbl9bNF07XHJcbiAgICAgICAgdmFyIGYsIGs7XHJcbiAgICAgICAgLy8gVE9ETyh1c2VyKTogVHJ5IHRvIHVucm9sbCB0aGlzIGxvb3AgdG8gc3BlZWQgdXAgdGhlIGNvbXB1dGF0aW9uLlxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODA7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoaSA8IDQwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA8IDIwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IGQgXiAoYiAmIChjIF4gZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSAweDVhODI3OTk5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IGIgXiBjIF4gZDtcclxuICAgICAgICAgICAgICAgICAgICBrID0gMHg2ZWQ5ZWJhMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChpIDwgNjApIHtcclxuICAgICAgICAgICAgICAgICAgICBmID0gKGIgJiBjKSB8IChkICYgKGIgfCBjKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IDB4OGYxYmJjZGM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmID0gYiBeIGMgXiBkO1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSAweGNhNjJjMWQ2O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB0ID0gKCgoYSA8PCA1KSB8IChhID4+PiAyNykpICsgZiArIGUgKyBrICsgV1tpXSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgICAgICBlID0gZDtcclxuICAgICAgICAgICAgZCA9IGM7XHJcbiAgICAgICAgICAgIGMgPSAoKGIgPDwgMzApIHwgKGIgPj4+IDIpKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgICAgIGIgPSBhO1xyXG4gICAgICAgICAgICBhID0gdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMF0gPSAodGhpcy5jaGFpbl9bMF0gKyBhKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMV0gPSAodGhpcy5jaGFpbl9bMV0gKyBiKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMl0gPSAodGhpcy5jaGFpbl9bMl0gKyBjKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bM10gPSAodGhpcy5jaGFpbl9bM10gKyBkKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bNF0gPSAodGhpcy5jaGFpbl9bNF0gKyBlKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICB9O1xyXG4gICAgU2hhMS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGJ5dGVzLCBsZW5ndGgpIHtcclxuICAgICAgICAvLyBUT0RPKGpvaG5sZW56KTogdGlnaHRlbiB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlIGFuZCByZW1vdmUgdGhpcyBjaGVja1xyXG4gICAgICAgIGlmIChieXRlcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGxlbmd0aE1pbnVzQmxvY2sgPSBsZW5ndGggLSB0aGlzLmJsb2NrU2l6ZTtcclxuICAgICAgICB2YXIgbiA9IDA7XHJcbiAgICAgICAgLy8gVXNpbmcgbG9jYWwgaW5zdGVhZCBvZiBtZW1iZXIgdmFyaWFibGVzIGdpdmVzIH41JSBzcGVlZHVwIG9uIEZpcmVmb3ggMTYuXHJcbiAgICAgICAgdmFyIGJ1ZiA9IHRoaXMuYnVmXztcclxuICAgICAgICB2YXIgaW5idWYgPSB0aGlzLmluYnVmXztcclxuICAgICAgICAvLyBUaGUgb3V0ZXIgd2hpbGUgbG9vcCBzaG91bGQgZXhlY3V0ZSBhdCBtb3N0IHR3aWNlLlxyXG4gICAgICAgIHdoaWxlIChuIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgaGF2ZSBubyBkYXRhIGluIHRoZSBibG9jayB0byB0b3AgdXAsIHdlIGNhbiBkaXJlY3RseSBwcm9jZXNzIHRoZVxyXG4gICAgICAgICAgICAvLyBpbnB1dCBidWZmZXIgKGFzc3VtaW5nIGl0IGNvbnRhaW5zIHN1ZmZpY2llbnQgZGF0YSkuIFRoaXMgZ2l2ZXMgfjI1JVxyXG4gICAgICAgICAgICAvLyBzcGVlZHVwIG9uIENocm9tZSAyMyBhbmQgfjE1JSBzcGVlZHVwIG9uIEZpcmVmb3ggMTYsIGJ1dCByZXF1aXJlcyB0aGF0XHJcbiAgICAgICAgICAgIC8vIHRoZSBkYXRhIGlzIHByb3ZpZGVkIGluIGxhcmdlIGNodW5rcyAob3IgaW4gbXVsdGlwbGVzIG9mIDY0IGJ5dGVzKS5cclxuICAgICAgICAgICAgaWYgKGluYnVmID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobiA8PSBsZW5ndGhNaW51c0Jsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wcmVzc18oYnl0ZXMsIG4pO1xyXG4gICAgICAgICAgICAgICAgICAgIG4gKz0gdGhpcy5ibG9ja1NpemU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChuIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmW2luYnVmXSA9IGJ5dGVzLmNoYXJDb2RlQXQobik7XHJcbiAgICAgICAgICAgICAgICAgICAgKytpbmJ1ZjtcclxuICAgICAgICAgICAgICAgICAgICArK247XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluYnVmID09PSB0aGlzLmJsb2NrU2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXByZXNzXyhidWYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmJ1ZiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEp1bXAgdG8gdGhlIG91dGVyIGxvb3Agc28gd2UgdXNlIHRoZSBmdWxsLWJsb2NrIG9wdGltaXphdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG4gPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWZbaW5idWZdID0gYnl0ZXNbbl07XHJcbiAgICAgICAgICAgICAgICAgICAgKytpbmJ1ZjtcclxuICAgICAgICAgICAgICAgICAgICArK247XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluYnVmID09PSB0aGlzLmJsb2NrU2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXByZXNzXyhidWYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmJ1ZiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEp1bXAgdG8gdGhlIG91dGVyIGxvb3Agc28gd2UgdXNlIHRoZSBmdWxsLWJsb2NrIG9wdGltaXphdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5idWZfID0gaW5idWY7XHJcbiAgICAgICAgdGhpcy50b3RhbF8gKz0gbGVuZ3RoO1xyXG4gICAgfTtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIFNoYTEucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZGlnZXN0ID0gW107XHJcbiAgICAgICAgdmFyIHRvdGFsQml0cyA9IHRoaXMudG90YWxfICogODtcclxuICAgICAgICAvLyBBZGQgcGFkIDB4ODAgMHgwMCouXHJcbiAgICAgICAgaWYgKHRoaXMuaW5idWZfIDwgNTYpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUodGhpcy5wYWRfLCA1NiAtIHRoaXMuaW5idWZfKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHRoaXMucGFkXywgdGhpcy5ibG9ja1NpemUgLSAodGhpcy5pbmJ1Zl8gLSA1NikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBZGQgIyBiaXRzLlxyXG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmJsb2NrU2l6ZSAtIDE7IGkgPj0gNTY7IGktLSkge1xyXG4gICAgICAgICAgICB0aGlzLmJ1Zl9baV0gPSB0b3RhbEJpdHMgJiAyNTU7XHJcbiAgICAgICAgICAgIHRvdGFsQml0cyAvPSAyNTY7IC8vIERvbid0IHVzZSBiaXQtc2hpZnRpbmcgaGVyZSFcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb21wcmVzc18odGhpcy5idWZfKTtcclxuICAgICAgICB2YXIgbiA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDI0OyBqID49IDA7IGogLT0gOCkge1xyXG4gICAgICAgICAgICAgICAgZGlnZXN0W25dID0gKHRoaXMuY2hhaW5fW2ldID4+IGopICYgMjU1O1xyXG4gICAgICAgICAgICAgICAgKytuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkaWdlc3Q7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNoYTE7XHJcbn0oKSk7XG5cbi8qKlxyXG4gKiBIZWxwZXIgdG8gbWFrZSBhIFN1YnNjcmliZSBmdW5jdGlvbiAoanVzdCBsaWtlIFByb21pc2UgaGVscHMgbWFrZSBhXHJcbiAqIFRoZW5hYmxlKS5cclxuICpcclxuICogQHBhcmFtIGV4ZWN1dG9yIEZ1bmN0aW9uIHdoaWNoIGNhbiBtYWtlIGNhbGxzIHRvIGEgc2luZ2xlIE9ic2VydmVyXHJcbiAqICAgICBhcyBhIHByb3h5LlxyXG4gKiBAcGFyYW0gb25Ob09ic2VydmVycyBDYWxsYmFjayB3aGVuIGNvdW50IG9mIE9ic2VydmVycyBnb2VzIHRvIHplcm8uXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTdWJzY3JpYmUoZXhlY3V0b3IsIG9uTm9PYnNlcnZlcnMpIHtcclxuICAgIHZhciBwcm94eSA9IG5ldyBPYnNlcnZlclByb3h5KGV4ZWN1dG9yLCBvbk5vT2JzZXJ2ZXJzKTtcclxuICAgIHJldHVybiBwcm94eS5zdWJzY3JpYmUuYmluZChwcm94eSk7XHJcbn1cclxuLyoqXHJcbiAqIEltcGxlbWVudCBmYW4tb3V0IGZvciBhbnkgbnVtYmVyIG9mIE9ic2VydmVycyBhdHRhY2hlZCB2aWEgYSBzdWJzY3JpYmVcclxuICogZnVuY3Rpb24uXHJcbiAqL1xyXG52YXIgT2JzZXJ2ZXJQcm94eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGV4ZWN1dG9yIEZ1bmN0aW9uIHdoaWNoIGNhbiBtYWtlIGNhbGxzIHRvIGEgc2luZ2xlIE9ic2VydmVyXHJcbiAgICAgKiAgICAgYXMgYSBwcm94eS5cclxuICAgICAqIEBwYXJhbSBvbk5vT2JzZXJ2ZXJzIENhbGxiYWNrIHdoZW4gY291bnQgb2YgT2JzZXJ2ZXJzIGdvZXMgdG8gemVyby5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gT2JzZXJ2ZXJQcm94eShleGVjdXRvciwgb25Ob09ic2VydmVycykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcclxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJDb3VudCA9IDA7XHJcbiAgICAgICAgLy8gTWljcm8tdGFzayBzY2hlZHVsaW5nIGJ5IGNhbGxpbmcgdGFzay50aGVuKCkuXHJcbiAgICAgICAgdGhpcy50YXNrID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgdGhpcy5maW5hbGl6ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm9uTm9PYnNlcnZlcnMgPSBvbk5vT2JzZXJ2ZXJzO1xyXG4gICAgICAgIC8vIENhbGwgdGhlIGV4ZWN1dG9yIGFzeW5jaHJvbm91c2x5IHNvIHN1YnNjcmliZXJzIHRoYXQgYXJlIGNhbGxlZFxyXG4gICAgICAgIC8vIHN5bmNocm9ub3VzbHkgYWZ0ZXIgdGhlIGNyZWF0aW9uIG9mIHRoZSBzdWJzY3JpYmUgZnVuY3Rpb25cclxuICAgICAgICAvLyBjYW4gc3RpbGwgcmVjZWl2ZSB0aGUgdmVyeSBmaXJzdCB2YWx1ZSBnZW5lcmF0ZWQgaW4gdGhlIGV4ZWN1dG9yLlxyXG4gICAgICAgIHRoaXMudGFza1xyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGV4ZWN1dG9yKF90aGlzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgX3RoaXMuZXJyb3IoZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBPYnNlcnZlclByb3h5LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoT2JzZXJ2ZXIoZnVuY3Rpb24gKG9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQodmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmVyUHJveHkucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoT2JzZXJ2ZXIoZnVuY3Rpb24gKG9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNsb3NlKGVycm9yKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZlclByb3h5LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2hPYnNlcnZlcihmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJzY3JpYmUgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBhZGQgYW4gT2JzZXJ2ZXIgdG8gdGhlIGZhbi1vdXQgbGlzdC5cclxuICAgICAqXHJcbiAgICAgKiAtIFdlIHJlcXVpcmUgdGhhdCBubyBldmVudCBpcyBzZW50IHRvIGEgc3Vic2NyaWJlciBzeWNocm9ub3VzbHkgdG8gdGhlaXJcclxuICAgICAqICAgY2FsbCB0byBzdWJzY3JpYmUoKS5cclxuICAgICAqL1xyXG4gICAgT2JzZXJ2ZXJQcm94eS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBvYnNlcnZlcjtcclxuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXIgPT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICBlcnJvciA9PT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIGNvbXBsZXRlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIE9ic2VydmVyLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBc3NlbWJsZSBhbiBPYnNlcnZlciBvYmplY3Qgd2hlbiBwYXNzZWQgYXMgY2FsbGJhY2sgZnVuY3Rpb25zLlxyXG4gICAgICAgIGlmIChpbXBsZW1lbnRzQW55TWV0aG9kcyhuZXh0T3JPYnNlcnZlciwgW1xyXG4gICAgICAgICAgICAnbmV4dCcsXHJcbiAgICAgICAgICAgICdlcnJvcicsXHJcbiAgICAgICAgICAgICdjb21wbGV0ZSdcclxuICAgICAgICBdKSkge1xyXG4gICAgICAgICAgICBvYnNlcnZlciA9IG5leHRPck9ic2VydmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0OiBuZXh0T3JPYnNlcnZlcixcclxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcixcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQgPSBub29wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2JzZXJ2ZXIuZXJyb3IgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvciA9IG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYnNlcnZlci5jb21wbGV0ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlID0gbm9vcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVuc3ViID0gdGhpcy51bnN1YnNjcmliZU9uZS5iaW5kKHRoaXMsIHRoaXMub2JzZXJ2ZXJzLmxlbmd0aCk7XHJcbiAgICAgICAgLy8gQXR0ZW1wdCB0byBzdWJzY3JpYmUgdG8gYSB0ZXJtaW5hdGVkIE9ic2VydmFibGUgLSB3ZVxyXG4gICAgICAgIC8vIGp1c3QgcmVzcG9uZCB0byB0aGUgT2JzZXJ2ZXIgd2l0aCB0aGUgZmluYWwgZXJyb3Igb3IgY29tcGxldGVcclxuICAgICAgICAvLyBldmVudC5cclxuICAgICAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xyXG4gICAgICAgICAgICB0aGlzLnRhc2sudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5maW5hbEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKF90aGlzLmZpbmFsRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdGhpbmdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xyXG4gICAgICAgIHJldHVybiB1bnN1YjtcclxuICAgIH07XHJcbiAgICAvLyBVbnN1YnNjcmliZSBpcyBzeW5jaHJvbm91cyAtIHdlIGd1YXJhbnRlZSB0aGF0IG5vIGV2ZW50cyBhcmUgc2VudCB0b1xyXG4gICAgLy8gYW55IHVuc3Vic2NyaWJlZCBPYnNlcnZlci5cclxuICAgIE9ic2VydmVyUHJveHkucHJvdG90eXBlLnVuc3Vic2NyaWJlT25lID0gZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICBpZiAodGhpcy5vYnNlcnZlcnMgPT09IHVuZGVmaW5lZCB8fCB0aGlzLm9ic2VydmVyc1tpXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsZXRlIHRoaXMub2JzZXJ2ZXJzW2ldO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJDb3VudCAtPSAxO1xyXG4gICAgICAgIGlmICh0aGlzLm9ic2VydmVyQ291bnQgPT09IDAgJiYgdGhpcy5vbk5vT2JzZXJ2ZXJzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5vbk5vT2JzZXJ2ZXJzKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYnNlcnZlclByb3h5LnByb3RvdHlwZS5mb3JFYWNoT2JzZXJ2ZXIgPSBmdW5jdGlvbiAoZm4pIHtcclxuICAgICAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcclxuICAgICAgICAgICAgLy8gQWxyZWFkeSBjbG9zZWQgYnkgcHJldmlvdXMgZXZlbnQuLi4uanVzdCBlYXQgdGhlIGFkZGl0aW9uYWwgdmFsdWVzLlxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNpbmNlIHNlbmRPbmUgY2FsbHMgYXN5bmNocm9ub3VzbHkgLSB0aGVyZSBpcyBubyBjaGFuY2UgdGhhdFxyXG4gICAgICAgIC8vIHRoaXMub2JzZXJ2ZXJzIHdpbGwgYmVjb21lIHVuZGVmaW5lZC5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE9uZShpLCBmbik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIENhbGwgdGhlIE9ic2VydmVyIHZpYSBvbmUgb2YgaXQncyBjYWxsYmFjayBmdW5jdGlvbi4gV2UgYXJlIGNhcmVmdWwgdG9cclxuICAgIC8vIGNvbmZpcm0gdGhhdCB0aGUgb2JzZXJ2ZSBoYXMgbm90IGJlZW4gdW5zdWJzY3JpYmVkIHNpbmNlIHRoaXMgYXN5bmNocm9ub3VzXHJcbiAgICAvLyBmdW5jdGlvbiBoYWQgYmVlbiBxdWV1ZWQuXHJcbiAgICBPYnNlcnZlclByb3h5LnByb3RvdHlwZS5zZW5kT25lID0gZnVuY3Rpb24gKGksIGZuKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAvLyBFeGVjdXRlIHRoZSBjYWxsYmFjayBhc3luY2hyb25vdXNseVxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcclxuICAgICAgICB0aGlzLnRhc2sudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5vYnNlcnZlcnMgIT09IHVuZGVmaW5lZCAmJiBfdGhpcy5vYnNlcnZlcnNbaV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBmbihfdGhpcy5vYnNlcnZlcnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZXhjZXB0aW9ucyByYWlzZWQgaW4gT2JzZXJ2ZXJzIG9yIG1pc3NpbmcgbWV0aG9kcyBvZiBhblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9ic2VydmVyLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIExvZyBlcnJvciB0byBjb25zb2xlLiBiLzMxNDA0ODA2XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBjb25zb2xlLmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2ZXJQcm94eS5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZpbmFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgaWYgKGVyciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmluYWxFcnJvciA9IGVycjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUHJveHkgaXMgbm8gbG9uZ2VyIG5lZWRlZCAtIGdhcmJhZ2UgY29sbGVjdCByZWZlcmVuY2VzXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xyXG4gICAgICAgIHRoaXMudGFzay50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMub2JzZXJ2ZXJzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBfdGhpcy5vbk5vT2JzZXJ2ZXJzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBPYnNlcnZlclByb3h5O1xyXG59KCkpO1xyXG4vKiogVHVybiBzeW5jaHJvbm91cyBmdW5jdGlvbiBpbnRvIG9uZSBjYWxsZWQgYXN5bmNocm9ub3VzbHkuICovXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXHJcbmZ1bmN0aW9uIGFzeW5jKGZuLCBvbkVycm9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBQcm9taXNlLnJlc29sdmUodHJ1ZSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmbi5hcHBseSh2b2lkIDAsIGFyZ3MpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgaWYgKG9uRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgb2JqZWN0IHBhc3NlZCBpbiBpbXBsZW1lbnRzIGFueSBvZiB0aGUgbmFtZWQgbWV0aG9kcy5cclxuICovXHJcbmZ1bmN0aW9uIGltcGxlbWVudHNBbnlNZXRob2RzKG9iaiwgbWV0aG9kcykge1xyXG4gICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGZvciAodmFyIF9pID0gMCwgbWV0aG9kc18xID0gbWV0aG9kczsgX2kgPCBtZXRob2RzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgdmFyIG1ldGhvZCA9IG1ldGhvZHNfMVtfaV07XHJcbiAgICAgICAgaWYgKG1ldGhvZCBpbiBvYmogJiYgdHlwZW9mIG9ialttZXRob2RdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBub29wKCkge1xyXG4gICAgLy8gZG8gbm90aGluZ1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBDaGVjayB0byBtYWtlIHN1cmUgdGhlIGFwcHJvcHJpYXRlIG51bWJlciBvZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIGZvciBhIHB1YmxpYyBmdW5jdGlvbi5cclxuICogVGhyb3dzIGFuIGVycm9yIGlmIGl0IGZhaWxzLlxyXG4gKlxyXG4gKiBAcGFyYW0gZm5OYW1lIFRoZSBmdW5jdGlvbiBuYW1lXHJcbiAqIEBwYXJhbSBtaW5Db3VudCBUaGUgbWluaW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGFsbG93IGZvciB0aGUgZnVuY3Rpb24gY2FsbFxyXG4gKiBAcGFyYW0gbWF4Q291bnQgVGhlIG1heGltdW0gbnVtYmVyIG9mIGFyZ3VtZW50IHRvIGFsbG93IGZvciB0aGUgZnVuY3Rpb24gY2FsbFxyXG4gKiBAcGFyYW0gYXJnQ291bnQgVGhlIGFjdHVhbCBudW1iZXIgb2YgYXJndW1lbnRzIHByb3ZpZGVkLlxyXG4gKi9cclxudmFyIHZhbGlkYXRlQXJnQ291bnQgPSBmdW5jdGlvbiAoZm5OYW1lLCBtaW5Db3VudCwgbWF4Q291bnQsIGFyZ0NvdW50KSB7XHJcbiAgICB2YXIgYXJnRXJyb3I7XHJcbiAgICBpZiAoYXJnQ291bnQgPCBtaW5Db3VudCkge1xyXG4gICAgICAgIGFyZ0Vycm9yID0gJ2F0IGxlYXN0ICcgKyBtaW5Db3VudDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGFyZ0NvdW50ID4gbWF4Q291bnQpIHtcclxuICAgICAgICBhcmdFcnJvciA9IG1heENvdW50ID09PSAwID8gJ25vbmUnIDogJ25vIG1vcmUgdGhhbiAnICsgbWF4Q291bnQ7XHJcbiAgICB9XHJcbiAgICBpZiAoYXJnRXJyb3IpIHtcclxuICAgICAgICB2YXIgZXJyb3IgPSBmbk5hbWUgK1xyXG4gICAgICAgICAgICAnIGZhaWxlZDogV2FzIGNhbGxlZCB3aXRoICcgK1xyXG4gICAgICAgICAgICBhcmdDb3VudCArXHJcbiAgICAgICAgICAgIChhcmdDb3VudCA9PT0gMSA/ICcgYXJndW1lbnQuJyA6ICcgYXJndW1lbnRzLicpICtcclxuICAgICAgICAgICAgJyBFeHBlY3RzICcgK1xyXG4gICAgICAgICAgICBhcmdFcnJvciArXHJcbiAgICAgICAgICAgICcuJztcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogR2VuZXJhdGVzIGEgc3RyaW5nIHRvIHByZWZpeCBhbiBlcnJvciBtZXNzYWdlIGFib3V0IGZhaWxlZCBhcmd1bWVudCB2YWxpZGF0aW9uXHJcbiAqXHJcbiAqIEBwYXJhbSBmbk5hbWUgVGhlIGZ1bmN0aW9uIG5hbWVcclxuICogQHBhcmFtIGFyZ05hbWUgVGhlIG5hbWUgb2YgdGhlIGFyZ3VtZW50XHJcbiAqIEByZXR1cm4gVGhlIHByZWZpeCB0byBhZGQgdG8gdGhlIGVycm9yIHRocm93biBmb3IgdmFsaWRhdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIGVycm9yUHJlZml4KGZuTmFtZSwgYXJnTmFtZSkge1xyXG4gICAgcmV0dXJuIGZuTmFtZSArIFwiIGZhaWxlZDogXCIgKyBhcmdOYW1lICsgXCIgYXJndW1lbnQgXCI7XHJcbn1cclxuLyoqXHJcbiAqIEBwYXJhbSBmbk5hbWVcclxuICogQHBhcmFtIGFyZ3VtZW50TnVtYmVyXHJcbiAqIEBwYXJhbSBuYW1lc3BhY2VcclxuICogQHBhcmFtIG9wdGlvbmFsXHJcbiAqL1xyXG5mdW5jdGlvbiB2YWxpZGF0ZU5hbWVzcGFjZShmbk5hbWUsIG5hbWVzcGFjZSwgb3B0aW9uYWwpIHtcclxuICAgIGlmIChvcHRpb25hbCAmJiAhbmFtZXNwYWNlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBuYW1lc3BhY2UgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgLy9UT0RPOiBJIHNob3VsZCBkbyBtb3JlIHZhbGlkYXRpb24gaGVyZS4gV2Ugb25seSBhbGxvdyBjZXJ0YWluIGNoYXJzIGluIG5hbWVzcGFjZXMuXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUHJlZml4KGZuTmFtZSwgJ25hbWVzcGFjZScpICsgJ211c3QgYmUgYSB2YWxpZCBmaXJlYmFzZSBuYW1lc3BhY2UuJyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdmFsaWRhdGVDYWxsYmFjayhmbk5hbWUsIGFyZ3VtZW50TmFtZSwgXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXHJcbmNhbGxiYWNrLCBvcHRpb25hbCkge1xyXG4gICAgaWYgKG9wdGlvbmFsICYmICFjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQcmVmaXgoZm5OYW1lLCBhcmd1bWVudE5hbWUpICsgJ211c3QgYmUgYSB2YWxpZCBmdW5jdGlvbi4nKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB2YWxpZGF0ZUNvbnRleHRPYmplY3QoZm5OYW1lLCBhcmd1bWVudE5hbWUsIGNvbnRleHQsIG9wdGlvbmFsKSB7XHJcbiAgICBpZiAob3B0aW9uYWwgJiYgIWNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGNvbnRleHQgIT09ICdvYmplY3QnIHx8IGNvbnRleHQgPT09IG51bGwpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQcmVmaXgoZm5OYW1lLCBhcmd1bWVudE5hbWUpICsgJ211c3QgYmUgYSB2YWxpZCBjb250ZXh0IG9iamVjdC4nKTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vLyBDb2RlIG9yaWdpbmFsbHkgY2FtZSBmcm9tIGdvb2cuY3J5cHQuc3RyaW5nVG9VdGY4Qnl0ZUFycmF5LCBidXQgZm9yIHNvbWUgcmVhc29uIHRoZXlcclxuLy8gYXV0b21hdGljYWxseSByZXBsYWNlZCAnXFxyXFxuJyB3aXRoICdcXG4nLCBhbmQgdGhleSBkaWRuJ3QgaGFuZGxlIHN1cnJvZ2F0ZSBwYWlycyxcclxuLy8gc28gaXQncyBiZWVuIG1vZGlmaWVkLlxyXG4vLyBOb3RlIHRoYXQgbm90IGFsbCBVbmljb2RlIGNoYXJhY3RlcnMgYXBwZWFyIGFzIHNpbmdsZSBjaGFyYWN0ZXJzIGluIEphdmFTY3JpcHQgc3RyaW5ncy5cclxuLy8gZnJvbUNoYXJDb2RlIHJldHVybnMgdGhlIFVURi0xNiBlbmNvZGluZyBvZiBhIGNoYXJhY3RlciAtIHNvIHNvbWUgVW5pY29kZSBjaGFyYWN0ZXJzXHJcbi8vIHVzZSAyIGNoYXJhY3RlcnMgaW4gSmF2YXNjcmlwdC4gIEFsbCA0LWJ5dGUgVVRGLTggY2hhcmFjdGVycyBiZWdpbiB3aXRoIGEgZmlyc3RcclxuLy8gY2hhcmFjdGVyIGluIHRoZSByYW5nZSAweEQ4MDAgLSAweERCRkYgKHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYSBzby1jYWxsZWQgc3Vycm9nYXRlXHJcbi8vIHBhaXIpLlxyXG4vLyBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTE1LjEuM1xyXG4vKipcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICovXHJcbnZhciBzdHJpbmdUb0J5dGVBcnJheSQxID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgdmFyIG91dCA9IFtdO1xyXG4gICAgdmFyIHAgPSAwO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIC8vIElzIHRoaXMgdGhlIGxlYWQgc3Vycm9nYXRlIGluIGEgc3Vycm9nYXRlIHBhaXI/XHJcbiAgICAgICAgaWYgKGMgPj0gMHhkODAwICYmIGMgPD0gMHhkYmZmKSB7XHJcbiAgICAgICAgICAgIHZhciBoaWdoID0gYyAtIDB4ZDgwMDsgLy8gdGhlIGhpZ2ggMTAgYml0cy5cclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICBhc3NlcnQoaSA8IHN0ci5sZW5ndGgsICdTdXJyb2dhdGUgcGFpciBtaXNzaW5nIHRyYWlsIHN1cnJvZ2F0ZS4nKTtcclxuICAgICAgICAgICAgdmFyIGxvdyA9IHN0ci5jaGFyQ29kZUF0KGkpIC0gMHhkYzAwOyAvLyB0aGUgbG93IDEwIGJpdHMuXHJcbiAgICAgICAgICAgIGMgPSAweDEwMDAwICsgKGhpZ2ggPDwgMTApICsgbG93O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYyA8IDEyOCkge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IGM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMgPCAyMDQ4KSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gNikgfCAxOTI7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMgPCA2NTUzNikge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDEyKSB8IDIyNDtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDE4KSB8IDI0MDtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gMTIpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0O1xyXG59O1xyXG4vKipcclxuICogQ2FsY3VsYXRlIGxlbmd0aCB3aXRob3V0IGFjdHVhbGx5IGNvbnZlcnRpbmc7IHVzZWZ1bCBmb3IgZG9pbmcgY2hlYXBlciB2YWxpZGF0aW9uLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXHJcbiAqIEByZXR1cm4ge251bWJlcn1cclxuICovXHJcbnZhciBzdHJpbmdMZW5ndGggPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICB2YXIgcCA9IDA7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGMgPCAxMjgpIHtcclxuICAgICAgICAgICAgcCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgMjA0OCkge1xyXG4gICAgICAgICAgICBwICs9IDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMgPj0gMHhkODAwICYmIGMgPD0gMHhkYmZmKSB7XHJcbiAgICAgICAgICAgIC8vIExlYWQgc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXIuICBUaGUgcGFpciB0b2dldGhlciB3aWxsIHRha2UgNCBieXRlcyB0byByZXByZXNlbnQuXHJcbiAgICAgICAgICAgIHAgKz0gNDtcclxuICAgICAgICAgICAgaSsrOyAvLyBza2lwIHRyYWlsIHN1cnJvZ2F0ZS5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHAgKz0gMztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcDtcclxufTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRoZSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIHRvIGV4cG9uZW50aWFsbHkgaW5jcmVhc2UuXHJcbiAqL1xyXG52YXIgREVGQVVMVF9JTlRFUlZBTF9NSUxMSVMgPSAxMDAwO1xyXG4vKipcclxuICogVGhlIGZhY3RvciB0byBiYWNrb2ZmIGJ5LlxyXG4gKiBTaG91bGQgYmUgYSBudW1iZXIgZ3JlYXRlciB0aGFuIDEuXHJcbiAqL1xyXG52YXIgREVGQVVMVF9CQUNLT0ZGX0ZBQ1RPUiA9IDI7XHJcbi8qKlxyXG4gKiBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdG8gaW5jcmVhc2UgdG8uXHJcbiAqXHJcbiAqIDxwPlZpc2libGUgZm9yIHRlc3RpbmdcclxuICovXHJcbnZhciBNQVhfVkFMVUVfTUlMTElTID0gNCAqIDYwICogNjAgKiAxMDAwOyAvLyBGb3VyIGhvdXJzLCBsaWtlIGlPUyBhbmQgQW5kcm9pZC5cclxuLyoqXHJcbiAqIFRoZSBwZXJjZW50YWdlIG9mIGJhY2tvZmYgdGltZSB0byByYW5kb21pemUgYnkuXHJcbiAqIFNlZVxyXG4gKiBodHRwOi8vZ28vc2FmZS1jbGllbnQtYmVoYXZpb3Ijc3RlcC0xLWRldGVybWluZS10aGUtYXBwcm9wcmlhdGUtcmV0cnktaW50ZXJ2YWwtdG8taGFuZGxlLXNwaWtlLXRyYWZmaWNcclxuICogZm9yIGNvbnRleHQuXHJcbiAqXHJcbiAqIDxwPlZpc2libGUgZm9yIHRlc3RpbmdcclxuICovXHJcbnZhciBSQU5ET01fRkFDVE9SID0gMC41O1xyXG4vKipcclxuICogQmFzZWQgb24gdGhlIGJhY2tvZmYgbWV0aG9kIGZyb21cclxuICogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWxpYnJhcnkvYmxvYi9tYXN0ZXIvY2xvc3VyZS9nb29nL21hdGgvZXhwb25lbnRpYWxiYWNrb2ZmLmpzLlxyXG4gKiBFeHRyYWN0ZWQgaGVyZSBzbyB3ZSBkb24ndCBuZWVkIHRvIHBhc3MgbWV0YWRhdGEgYW5kIGEgc3RhdGVmdWwgRXhwb25lbnRpYWxCYWNrb2ZmIG9iamVjdCBhcm91bmQuXHJcbiAqL1xyXG5mdW5jdGlvbiBjYWxjdWxhdGVCYWNrb2ZmTWlsbGlzKGJhY2tvZmZDb3VudCwgaW50ZXJ2YWxNaWxsaXMsIGJhY2tvZmZGYWN0b3IpIHtcclxuICAgIGlmIChpbnRlcnZhbE1pbGxpcyA9PT0gdm9pZCAwKSB7IGludGVydmFsTWlsbGlzID0gREVGQVVMVF9JTlRFUlZBTF9NSUxMSVM7IH1cclxuICAgIGlmIChiYWNrb2ZmRmFjdG9yID09PSB2b2lkIDApIHsgYmFja29mZkZhY3RvciA9IERFRkFVTFRfQkFDS09GRl9GQUNUT1I7IH1cclxuICAgIC8vIENhbGN1bGF0ZXMgYW4gZXhwb25lbnRpYWxseSBpbmNyZWFzaW5nIHZhbHVlLlxyXG4gICAgLy8gRGV2aWF0aW9uOiBjYWxjdWxhdGVzIHZhbHVlIGZyb20gY291bnQgYW5kIGEgY29uc3RhbnQgaW50ZXJ2YWwsIHNvIHdlIG9ubHkgbmVlZCB0byBzYXZlIHZhbHVlXHJcbiAgICAvLyBhbmQgY291bnQgdG8gcmVzdG9yZSBzdGF0ZS5cclxuICAgIHZhciBjdXJyQmFzZVZhbHVlID0gaW50ZXJ2YWxNaWxsaXMgKiBNYXRoLnBvdyhiYWNrb2ZmRmFjdG9yLCBiYWNrb2ZmQ291bnQpO1xyXG4gICAgLy8gQSByYW5kb20gXCJmdXp6XCIgdG8gYXZvaWQgd2F2ZXMgb2YgcmV0cmllcy5cclxuICAgIC8vIERldmlhdGlvbjogcmFuZG9tRmFjdG9yIGlzIHJlcXVpcmVkLlxyXG4gICAgdmFyIHJhbmRvbVdhaXQgPSBNYXRoLnJvdW5kKFxyXG4gICAgLy8gQSBmcmFjdGlvbiBvZiB0aGUgYmFja29mZiB2YWx1ZSB0byBhZGQvc3VidHJhY3QuXHJcbiAgICAvLyBEZXZpYXRpb246IGNoYW5nZXMgbXVsdGlwbGljYXRpb24gb3JkZXIgdG8gaW1wcm92ZSByZWFkYWJpbGl0eS5cclxuICAgIFJBTkRPTV9GQUNUT1IgKlxyXG4gICAgICAgIGN1cnJCYXNlVmFsdWUgKlxyXG4gICAgICAgIC8vIEEgcmFuZG9tIGZsb2F0IChyb3VuZGVkIHRvIGludCBieSBNYXRoLnJvdW5kIGFib3ZlKSBpbiB0aGUgcmFuZ2UgWy0xLCAxXS4gRGV0ZXJtaW5lc1xyXG4gICAgICAgIC8vIGlmIHdlIGFkZCBvciBzdWJ0cmFjdC5cclxuICAgICAgICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKlxyXG4gICAgICAgIDIpO1xyXG4gICAgLy8gTGltaXRzIGJhY2tvZmYgdG8gbWF4IHRvIGF2b2lkIGVmZmVjdGl2ZWx5IHBlcm1hbmVudCBiYWNrb2ZmLlxyXG4gICAgcmV0dXJuIE1hdGgubWluKE1BWF9WQUxVRV9NSUxMSVMsIGN1cnJCYXNlVmFsdWUgKyByYW5kb21XYWl0KTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUHJvdmlkZSBFbmdsaXNoIG9yZGluYWwgbGV0dGVycyBhZnRlciBhIG51bWJlclxyXG4gKi9cclxuZnVuY3Rpb24gb3JkaW5hbChpKSB7XHJcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShpKSkge1xyXG4gICAgICAgIHJldHVybiBcIlwiICsgaTtcclxuICAgIH1cclxuICAgIHJldHVybiBpICsgaW5kaWNhdG9yKGkpO1xyXG59XHJcbmZ1bmN0aW9uIGluZGljYXRvcihpKSB7XHJcbiAgICBpID0gTWF0aC5hYnMoaSk7XHJcbiAgICB2YXIgY2VudCA9IGkgJSAxMDA7XHJcbiAgICBpZiAoY2VudCA+PSAxMCAmJiBjZW50IDw9IDIwKSB7XHJcbiAgICAgICAgcmV0dXJuICd0aCc7XHJcbiAgICB9XHJcbiAgICB2YXIgZGVjID0gaSAlIDEwO1xyXG4gICAgaWYgKGRlYyA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiAnc3QnO1xyXG4gICAgfVxyXG4gICAgaWYgKGRlYyA9PT0gMikge1xyXG4gICAgICAgIHJldHVybiAnbmQnO1xyXG4gICAgfVxyXG4gICAgaWYgKGRlYyA9PT0gMykge1xyXG4gICAgICAgIHJldHVybiAncmQnO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICd0aCc7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TW9kdWxhckluc3RhbmNlKHNlcnZpY2UpIHtcclxuICAgIGlmIChzZXJ2aWNlICYmIHNlcnZpY2UuX2RlbGVnYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlcnZpY2UuX2RlbGVnYXRlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgQ09OU1RBTlRTLCBEZWZlcnJlZCwgRXJyb3JGYWN0b3J5LCBGaXJlYmFzZUVycm9yLCBNQVhfVkFMVUVfTUlMTElTLCBSQU5ET01fRkFDVE9SLCBTaGExLCBhcmVDb29raWVzRW5hYmxlZCwgYXNzZXJ0LCBhc3NlcnRpb25FcnJvciwgYXN5bmMsIGJhc2U2NCwgYmFzZTY0RGVjb2RlLCBiYXNlNjRFbmNvZGUsIGNhbGN1bGF0ZUJhY2tvZmZNaWxsaXMsIGNvbnRhaW5zLCBjcmVhdGVTdWJzY3JpYmUsIGRlY29kZSwgZGVlcENvcHksIGRlZXBFeHRlbmQsIGVycm9yUHJlZml4LCBleHRyYWN0UXVlcnlzdHJpbmcsIGdldE1vZHVsYXJJbnN0YW5jZSwgZ2V0VUEsIGlzQWRtaW4sIGlzQnJvd3NlciwgaXNCcm93c2VyRXh0ZW5zaW9uLCBpc0VsZWN0cm9uLCBpc0VtcHR5LCBpc0lFLCBpc0luZGV4ZWREQkF2YWlsYWJsZSwgaXNNb2JpbGVDb3Jkb3ZhLCBpc05vZGUsIGlzTm9kZVNkaywgaXNSZWFjdE5hdGl2ZSwgaXNTYWZhcmksIGlzVVdQLCBpc1ZhbGlkRm9ybWF0LCBpc1ZhbGlkVGltZXN0YW1wLCBpc3N1ZWRBdFRpbWUsIGpzb25FdmFsLCBtYXAsIG9yZGluYWwsIHF1ZXJ5c3RyaW5nLCBxdWVyeXN0cmluZ0RlY29kZSwgc2FmZUdldCwgc3RyaW5nTGVuZ3RoLCBzdHJpbmdUb0J5dGVBcnJheSQxIGFzIHN0cmluZ1RvQnl0ZUFycmF5LCBzdHJpbmdpZnksIHZhbGlkYXRlQXJnQ291bnQsIHZhbGlkYXRlQ2FsbGJhY2ssIHZhbGlkYXRlQ29udGV4dE9iamVjdCwgdmFsaWRhdGVJbmRleGVkREJPcGVuYWJsZSwgdmFsaWRhdGVOYW1lc3BhY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbS5qcy5tYXBcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLyogaHR0cDovL21leWVyd2ViLmNvbS9lcmljL3Rvb2xzL2Nzcy9yZXNldC8gXFxuICAgdjIuMCB8IDIwMTEwMTI2XFxuICAgTGljZW5zZTogbm9uZSAocHVibGljIGRvbWFpbilcXG4qL1xcblxcbmh0bWwsIGJvZHksIGRpdiwgc3BhbiwgYXBwbGV0LCBvYmplY3QsIGlmcmFtZSxcXG5oMSwgaDIsIGgzLCBoNCwgaDUsIGg2LCBwLCBibG9ja3F1b3RlLCBwcmUsXFxuYSwgYWJiciwgYWNyb255bSwgYWRkcmVzcywgYmlnLCBjaXRlLCBjb2RlLFxcbmRlbCwgZGZuLCBlbSwgaW1nLCBpbnMsIGtiZCwgcSwgcywgc2FtcCxcXG5zbWFsbCwgc3RyaWtlLCBzdHJvbmcsIHN1Yiwgc3VwLCB0dCwgdmFyLFxcbmIsIHUsIGksIGNlbnRlcixcXG5kbCwgZHQsIGRkLCBvbCwgdWwsIGxpLFxcbmZpZWxkc2V0LCBmb3JtLCBsYWJlbCwgbGVnZW5kLFxcbnRhYmxlLCBjYXB0aW9uLCB0Ym9keSwgdGZvb3QsIHRoZWFkLCB0ciwgdGgsIHRkLFxcbmFydGljbGUsIGFzaWRlLCBjYW52YXMsIGRldGFpbHMsIGVtYmVkLCBcXG5maWd1cmUsIGZpZ2NhcHRpb24sIGZvb3RlciwgaGVhZGVyLCBoZ3JvdXAsIFxcbm1lbnUsIG5hdiwgb3V0cHV0LCBydWJ5LCBzZWN0aW9uLCBzdW1tYXJ5LFxcbnRpbWUsIG1hcmssIGF1ZGlvLCB2aWRlbyB7XFxuXFx0bWFyZ2luOiAwO1xcblxcdHBhZGRpbmc6IDA7XFxuXFx0Ym9yZGVyOiAwO1xcblxcdGZvbnQtc2l6ZTogMTAwJTtcXG5cXHRmb250OiBpbmhlcml0O1xcblxcdHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcXG59XFxuLyogSFRNTDUgZGlzcGxheS1yb2xlIHJlc2V0IGZvciBvbGRlciBicm93c2VycyAqL1xcbmFydGljbGUsIGFzaWRlLCBkZXRhaWxzLCBmaWdjYXB0aW9uLCBmaWd1cmUsIFxcbmZvb3RlciwgaGVhZGVyLCBoZ3JvdXAsIG1lbnUsIG5hdiwgc2VjdGlvbiB7XFxuXFx0ZGlzcGxheTogYmxvY2s7XFxufVxcbmJvZHkge1xcblxcdGxpbmUtaGVpZ2h0OiAxO1xcbn1cXG5vbCwgdWwge1xcblxcdGxpc3Qtc3R5bGU6IG5vbmU7XFxufVxcbmJsb2NrcXVvdGUsIHEge1xcblxcdHF1b3Rlczogbm9uZTtcXG59XFxuYmxvY2txdW90ZTpiZWZvcmUsIGJsb2NrcXVvdGU6YWZ0ZXIsXFxucTpiZWZvcmUsIHE6YWZ0ZXIge1xcblxcdGNvbnRlbnQ6ICcnO1xcblxcdGNvbnRlbnQ6IG5vbmU7XFxufVxcbnRhYmxlIHtcXG5cXHRib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xcblxcdGJvcmRlci1zcGFjaW5nOiAwO1xcbn1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGVzL3Jlc2V0LmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTs7O0NBR0M7O0FBRUQ7Ozs7Ozs7Ozs7Ozs7Q0FhQyxTQUFTO0NBQ1QsVUFBVTtDQUNWLFNBQVM7Q0FDVCxlQUFlO0NBQ2YsYUFBYTtDQUNiLHdCQUF3QjtBQUN6QjtBQUNBLGdEQUFnRDtBQUNoRDs7Q0FFQyxjQUFjO0FBQ2Y7QUFDQTtDQUNDLGNBQWM7QUFDZjtBQUNBO0NBQ0MsZ0JBQWdCO0FBQ2pCO0FBQ0E7Q0FDQyxZQUFZO0FBQ2I7QUFDQTs7Q0FFQyxXQUFXO0NBQ1gsYUFBYTtBQUNkO0FBQ0E7Q0FDQyx5QkFBeUI7Q0FDekIsaUJBQWlCO0FBQ2xCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi8qIGh0dHA6Ly9tZXllcndlYi5jb20vZXJpYy90b29scy9jc3MvcmVzZXQvIFxcbiAgIHYyLjAgfCAyMDExMDEyNlxcbiAgIExpY2Vuc2U6IG5vbmUgKHB1YmxpYyBkb21haW4pXFxuKi9cXG5cXG5odG1sLCBib2R5LCBkaXYsIHNwYW4sIGFwcGxldCwgb2JqZWN0LCBpZnJhbWUsXFxuaDEsIGgyLCBoMywgaDQsIGg1LCBoNiwgcCwgYmxvY2txdW90ZSwgcHJlLFxcbmEsIGFiYnIsIGFjcm9ueW0sIGFkZHJlc3MsIGJpZywgY2l0ZSwgY29kZSxcXG5kZWwsIGRmbiwgZW0sIGltZywgaW5zLCBrYmQsIHEsIHMsIHNhbXAsXFxuc21hbGwsIHN0cmlrZSwgc3Ryb25nLCBzdWIsIHN1cCwgdHQsIHZhcixcXG5iLCB1LCBpLCBjZW50ZXIsXFxuZGwsIGR0LCBkZCwgb2wsIHVsLCBsaSxcXG5maWVsZHNldCwgZm9ybSwgbGFiZWwsIGxlZ2VuZCxcXG50YWJsZSwgY2FwdGlvbiwgdGJvZHksIHRmb290LCB0aGVhZCwgdHIsIHRoLCB0ZCxcXG5hcnRpY2xlLCBhc2lkZSwgY2FudmFzLCBkZXRhaWxzLCBlbWJlZCwgXFxuZmlndXJlLCBmaWdjYXB0aW9uLCBmb290ZXIsIGhlYWRlciwgaGdyb3VwLCBcXG5tZW51LCBuYXYsIG91dHB1dCwgcnVieSwgc2VjdGlvbiwgc3VtbWFyeSxcXG50aW1lLCBtYXJrLCBhdWRpbywgdmlkZW8ge1xcblxcdG1hcmdpbjogMDtcXG5cXHRwYWRkaW5nOiAwO1xcblxcdGJvcmRlcjogMDtcXG5cXHRmb250LXNpemU6IDEwMCU7XFxuXFx0Zm9udDogaW5oZXJpdDtcXG5cXHR2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XFxufVxcbi8qIEhUTUw1IGRpc3BsYXktcm9sZSByZXNldCBmb3Igb2xkZXIgYnJvd3NlcnMgKi9cXG5hcnRpY2xlLCBhc2lkZSwgZGV0YWlscywgZmlnY2FwdGlvbiwgZmlndXJlLCBcXG5mb290ZXIsIGhlYWRlciwgaGdyb3VwLCBtZW51LCBuYXYsIHNlY3Rpb24ge1xcblxcdGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5ib2R5IHtcXG5cXHRsaW5lLWhlaWdodDogMTtcXG59XFxub2wsIHVsIHtcXG5cXHRsaXN0LXN0eWxlOiBub25lO1xcbn1cXG5ibG9ja3F1b3RlLCBxIHtcXG5cXHRxdW90ZXM6IG5vbmU7XFxufVxcbmJsb2NrcXVvdGU6YmVmb3JlLCBibG9ja3F1b3RlOmFmdGVyLFxcbnE6YmVmb3JlLCBxOmFmdGVyIHtcXG5cXHRjb250ZW50OiAnJztcXG5cXHRjb250ZW50OiBub25lO1xcbn1cXG50YWJsZSB7XFxuXFx0Ym9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG5cXHRib3JkZXItc3BhY2luZzogMDtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyBmcm9tIFwiLi4vaW1ncy94LWljb24uc3ZnXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiOnJvb3Qge1xcbiAgLS1jb2wtYmFzZS1saWdodDogI2M1ZWRmZjtcXG4gIC0tY29sLWJhc2UtbWlkOiAjOTNiZmQzO1xcbiAgLS1jb2wtYmFzZS1taWQyOiAjNzI5ZGIxO1xcbiAgLS1jb2wtYmFzZS1kYXJrOiAjNDI3NTk3O1xcbiAgLS1jb2wtZGFya2VzdDogIzAwMDtcXG4gIC0tY29sLWxpZ2h0OiAjZmZmZmZmO1xcbiAgLS1jb2wtYnRuLWxpZ2h0OiByZ2IoNDYsIDE0OSwgMjA5KTtcXG4gIC0tY29sLWJ0bi1taWQ6IHJnYigzMCwgMTM4LCAyMDEpO1xcbiAgLS1jb2wtYnRuLWRhcms6IHJnYigyMywgODksIDE3NSk7XFxuXFxuICAtLWNhcmQtc2NhbGU6IC4zZW07XFxuXFxuICAtLXRyYW5zaXRpb24tc3BlZWQ6IC4zcztcXG59XFxuaHRtbCB7XFxuICBoZWlnaHQ6MTAwJTtcXG59XFxuYm9keSB7XFxuICBwb3NpdGlvbjpyZWxhdGl2ZTtcXG4gIG1pbi1oZWlnaHQ6MTAwJTtcXG4gIG1heC13aWR0aDo5MDBweDtcXG4gIG1hcmdpbjphdXRvO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sLWJhc2UtZGFyayk7XFxuICBjb2xvcjp2YXIoLS1jb2wtbGlnaHQpO1xcbiAgZGlzcGxheTpmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246Y29sdW1uO1xcbn1cXG5cXG5oMSB7XFxuICBwYWRkaW5nOjEwcHg7XFxuICBmb250LXdlaWdodDogNzAwO1xcbiAgZm9udC1zaXplOiAyZW07XFxuICB0ZXh0LXNoYWRvdzoycHggMnB4IDRweCAgcmdiKDIsIDQ0LCA5OSk7XFxuICB0cmFuc2l0aW9uOnZhcigtLXRyYW5zaXRpb24tc3BlZWQpO1xcbn1cXG5cXG5oMTo6YWZ0ZXIge1xcbiAgZGlzcGxheTpibG9jaztcXG4gIGNvbnRlbnQ6Jyc7XFxuICBtYXJnaW4tdG9wOi4yZW07XFxuICBib3JkZXItYm90dG9tOjFweCBzb2xpZCB3aGl0ZTtcXG59XFxuXFxuaDIge1xcbiAgZm9udC13ZWlnaHQ6Ym9sZDtcXG4gIG1hcmdpbi1ib3R0b206MWVtO1xcbn1cXG5cXG5tYWluLmNhcmQge1xcbiAgbWFyZ2luLWJvdHRvbToyZW07XFxufVxcblxcbmZvb3RlciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206MDtcXG4gIHBhZGRpbmc6LjVlbTtcXG59XFxuXFxuZm9ybSB7XFxuICBtYXJnaW46MCAuNWVtIDAgLjVlbTtcXG59XFxuXFxuYnV0dG9uIHtcXG4gIGFwcGVhcmFuY2U6bm9uZTtcXG4gIGRpc3BsYXk6YmxvY2s7XFxuICBtYXJnaW46LjNlbTtcXG4gIHBhZGRpbmc6LjNlbSAuNmVtO1xcbiAgYm9yZGVyOm5vbmU7XFxuICBmb250LXNpemU6MS4yZW07XFxuICBjb2xvcjp2YXIoLS1jb2wtbGlnaHQpO1xcbiAgYm9yZGVyLWJvdHRvbTogNHB4IHNvbGlkIHZhcigtLWNvbC1idG4tZGFyayk7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICBiYWNrZ3JvdW5kOnZhcigtLWNvbC1idG4tbWlkKTtcXG59XFxuXFxuYnV0dG9uOmhvdmVyIHtcXG4gIGJhY2tncm91bmQ6dmFyKC0tY29sLWJ0bi1saWdodCk7XFxufVxcblxcbmJ1dHRvbjpmb2N1cyB7XFxuICBvdXRsaW5lOm5vbmU7XFxuICBib3JkZXI6bm9uZTtcXG4gIGJvcmRlci10b3A6IDRweCBzb2xpZCB2YXIoLS1jb2wtYnRuLWRhcmspO1xcbiAgYmFja2dyb3VuZDp2YXIoLS1jb2wtYnRuLWRhcmspO1xcbn1cXG5cXG5mb3JtPmJ1dHRvbiB7XFxuICBtYXJnaW4tdG9wOi43ZW07XFxufVxcblxcbmE6dmlzaXRlZCwgYTpsaW5rIHtcXG4gIGNvbG9yOnZhcigtLWNvbC1saWdodCk7XFxufVxcblxcbmIge1xcbiAgZm9udC13ZWlnaHQ6Ym9sZDtcXG59XFxuXFxuLmNlbnRlci1jaGlsZHJlbiB7XFxuICBkaXNwbGF5OmZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG59XFxuXFxuLmhpZGRlbiB7XFxuICBkaXNwbGF5Om5vbmU7XFxufVxcblxcbi5jYXJkIHtcXG4gIHBvc2l0aW9uOnJlbGF0aXZlO1xcbiAgY29sb3I6IHZhcigtLWNvbC1kYXJrZXN0KTtcXG4gIG1hcmdpbjogY2FsYyh2YXIoLS1jYXJkLXNjYWxlKSoyKSB2YXIoLS1jYXJkLXNjYWxlKTtcXG4gIHBhZGRpbmc6IHZhcigtLWNhcmQtc2NhbGUpO1xcbiAgYmFja2dyb3VuZDogdmFyKC0tY29sLWxpZ2h0KTtcXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWNhcmQtc2NhbGUpO1xcbiAgYm94LXNoYWRvdzogMS41cHggMS41cHggY2FsYyh2YXIoLS1jYXJkLXNjYWxlKSAqIC43KSB2YXIoLS1jb2wtYmFzZS1kYXJrKTtcXG59XFxuXFxuLmNhcmQuc2VtaS10cmFuc3BhcmVudCB7XFxuICBiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwyNTUsLjUpO1xcbn1cXG5cXG4uY2FyZC5saWJyYXJ5LWhlYWRlciB7XFxuICBkaXNwbGF5Om5vbmU7IC8qIE9ubHkgdmlzaWJsZSBpZiBzY3JlZW4gd2lkdGggPiBtb2JpbGUgKi9cXG59XFxuXFxuLmJvb2sge1xcbiAgZGlzcGxheTpmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246Y29sdW1uO1xcbn1cXG5cXG4uYm9vay1wcm9wIHtcXG4gIG1hcmdpbi1yaWdodDoyZW07XFxuICBwYWRkaW5nOi4zZW0gMDtcXG59XFxuXFxuLmJvb2stcHJvcC5ib29rLXRpdGxlIHtcXG4gIGZvbnQtd2VpZ2h0OmJvbGQ7XFxufVxcbi5ib29rLXByb3AuYm9vay10aXRsZTo6YWZ0ZXIge1xcbiAgY29udGVudDpcXFwiXFxcIjtcXG4gIGRpc3BsYXk6YmxvY2s7XFxuICBib3JkZXItdG9wOiBzb2xpZCAxcHggdmFyKC0tY29sLWJhc2UtZGFyayk7IFxcbn1cXG4uYm9vay1wcm9wLmJvb2stYXV0aG9yOjpiZWZvcmUge1xcbiAgY29udGVudDonYnkgJztcXG59XFxuLmJvb2stcHJvcC5ib29rLXBhZ2VDb3VudDo6YWZ0ZXIge1xcbiAgY29udGVudDonIHBhZ2VzJztcXG59XFxuXFxuLmNvbnRhaW5lci1mb290IHtcXG4gIG1hcmdpbi1sZWZ0Oi4zZW07XFxufVxcblxcbi8qICogTU9EQUwgKi9cXG4ubW9kYWwtYmcge1xcbiAgcG9zaXRpb246Zml4ZWQ7XFxuICB6LWluZGV4OjEwO1xcbiAgbGVmdDowO1xcbiAgdG9wOjA7XFxuICB3aWR0aDoxMDAlO1xcbiAgaGVpZ2h0OjEwMCU7XFxuICBvdmVyZmxvdzphdXRvO1xcbiAgYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4yKTtcXG59XFxuXFxuLm1vZGFsIHtcXG4gIC8qIGNlbnRlciAqL1xcbiAgei1pbmRleDogMTE7XFxuICBwb3NpdGlvbjpmaXhlZDtcXG4gIHRvcDo1MCU7XFxuICBsZWZ0OjUwJTtcXG4gIHRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTtcXG5cXG4gIGJveC1zaXppbmc6Ym9yZGVyLWJveDtcXG4gIHdpZHRoOmZpdC1jb250ZW50O1xcbiAgbWF4LXdpZHRoOjk1JTtcXG4gIHBhZGRpbmc6IC43ZW07XFxuICBwYWRkaW5nLWJvdHRvbTowO1xcbiAgbWFyZ2luOiAwO1xcblxcbiAgZm9udC1zaXplOiAxNTAlO1xcbn1cXG5cXG4ubW9kYWwgPiBwIHtcXG4gIHBhZGRpbmctcmlnaHQ6MmVtO1xcbn1cXG5cXG4uZm9ybS1pdGVtIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxuICBtYXJnaW46IC41ZW0gLjJlbTtcXG4gIHBvc2l0aW9uOnJlbGF0aXZlO1xcbn1cXG5cXG4uZm9ybS1pdGVtID4gbGFiZWwge1xcbiAgcGFkZGluZy1yaWdodDouNGVtO1xcbn1cXG5cXG4uY2xvc2UtYnRuIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHJpZ2h0OiAwO1xcbiAgdG9wOiAwO1xcbiAgd2lkdGg6IDEuNWVtO1xcbiAgaGVpZ2h0OiAxLjVlbTtcXG4gIG1hcmdpbjouM2VtO1xcbiAgYmFja2dyb3VuZDogcmVkO1xcbiAgYm9yZGVyLXJhZGl1czo1MCU7XFxuICBjb250ZW50OiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fICsgXCIpO1xcbiAgdXNlci1zZWxlY3Q6bm9uZTtcXG59XFxuXFxuLmNsb3NlLWJ0bjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kOnJnYigyNTUsIDkzLCAxNDIpO1xcbiAgdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7XFxuICB0cmFuc2l0aW9uOi4zcztcXG59XFxuXFxuLnN3aXRjaCB7XFxuICBwb3NpdGlvbjpyZWxhdGl2ZTtcXG4gIGRpc3BsYXk6ZmxleDtcXG4gIGFsaWduLWl0ZW1zOmNlbnRlcjtcXG59XFxuXFxuLnN3aXRjaCBpbnB1dCB7XFxuICBkaXNwbGF5Om5vbmU7XFxufVxcblxcbi5zd2l0Y2gtbGFiZWwge1xcbiAgcGFkZGluZy1yaWdodDogMWVtO1xcbn1cXG4uc3dpdGNoLXNwYW4ge1xcbiAgYmFja2dyb3VuZDp2YXIoLS1jb2wtYmFzZS1kYXJrKTtcXG4gIHdpZHRoOjEuN2VtO1xcbiAgaGVpZ2h0OjFlbTtcXG4gIGJvcmRlci1yYWRpdXM6LjVlbTtcXG59XFxuXFxuLnN3aXRjaC1zcGFuOjpiZWZvcmUge1xcbiAgcG9zaXRpb246YWJzb2x1dGU7XFxuICBib3gtc2l6aW5nOmJvcmRlci1ib3g7XFxuICBjb250ZW50OlxcXCJcXFwiO1xcbiAgaGVpZ2h0OiAxZW07XFxuICB3aWR0aDogMWVtO1xcbiAgYm9yZGVyOiAuMTVlbSBzb2xpZCB2YXIoLS1jb2wtYmFzZS1kYXJrKTtcXG4gIGJvcmRlci1yYWRpdXM6NTAlO1xcbiAgYmFja2dyb3VuZDp2YXIoLS1jb2wtYmFzZS1saWdodCk7XFxuICB0cmFuc2l0aW9uOiAuMXM7XFxufVxcblxcbmlucHV0OmNoZWNrZWQgKyAuc3dpdGNoLXNwYW46OmJlZm9yZSB7XFxuICB0cmFuc2Zvcm06dHJhbnNsYXRlWCguN2VtKTtcXG4gIGJhY2tncm91bmQ6bGlnaHRncmVlbjtcXG4gIGJvcmRlci1jb2xvcjogZ3JlZW47XFxufVxcblxcbmlucHV0OmNoZWNrZWQgKyAuc3dpdGNoLXNwYW4ge1xcbiAgYmFja2dyb3VuZDogZ3JlZW47XFxufVxcblxcbmlucHV0W3R5cGU9J3RleHQnXSwgaW5wdXRbdHlwZT0nbnVtYmVyJ10ge1xcbiAgYXBwZWFyYW5jZTpub25lO1xcbiAgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1jb2wtZGFya2VzdCk7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxufVxcblxcbi52YWxpZGF0aW9uLWZhaWxlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOnJlZDtcXG4gIGFuaW1hdGlvbi1uYW1lOiBhbmltLWZhZGU7XFxuICBhbmltYXRpb24tZHVyYXRpb246IDNzO1xcbn1cXG5cXG4uY2FyZC5mb3JtLXZhbGlkYXRpb24tZXJyb3Ige1xcbiAgei1pbmRleDoxNTtcXG4gIGJveC1zaXppbmc6Ym9yZGVyLWJveDtcXG4gIHBvc2l0aW9uOmFic29sdXRlO1xcbiAgdG9wOjEuNmVtO1xcbiAgcmlnaHQ6MDtcXG4gIG1hcmdpbjowO1xcbiAgYmFja2dyb3VuZDpyZ2IoMjQzLCAxNzQsIDE3NCk7XFxuICBmb250LXNpemU6LjdlbTtcXG59XFxuXFxuQGtleWZyYW1lcyBhbmltLWZhZGUge1xcbiAgMCUgeyBiYWNrZ3JvdW5kLWNvbG9yOnJlZDsgfVxcbiAgMTAwJSB7IGJhY2tncm91bmQtY29sb3I6IHdoaXRlOyB9XFxufVxcblxcbkBtZWRpYSAobWluLXdpZHRoOjM1ZW0pIHtcXG4gIGgxIHtcXG4gICAgZm9udC1zaXplOjMuNmVtO1xcbiAgfVxcbiAgLmJvb2sge1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDZmciA1ZnIgM2ZyIDRmcjtcXG4gIH1cXG4gIC5jYXJkLmxpYnJhcnktaGVhZGVyIHtcXG4gICAgZGlzcGxheTpncmlkO1xcbiAgICBmb250LXdlaWdodDogYm9sZDtcXG4gIH1cXG4gIC5jbG9zZS1idG4ge1xcbiAgICB0b3A6IDA7XFxuICB9XFxuXFxuICAuYm9vay1wcm9wLmJvb2stYXV0aG9yOjpiZWZvcmUge1xcbiAgICBjb250ZW50OicnO1xcbiAgfVxcblxcbiAgLmJvb2stcHJvcC5ib29rLXBhZ2VDb3VudDo6YWZ0ZXIge1xcbiAgICBjb250ZW50OicnO1xcbiAgfVxcblxcbiAgLmJvb2stcHJvcC5ib29rLXRpdGxlIHtcXG4gICAgZm9udC13ZWlnaHQ6bm9ybWFsO1xcbiAgfVxcblxcbiAgLmJvb2stcHJvcC5ib29rLXRpdGxlOjphZnRlciB7XFxuICAgIGRpc3BsYXk6bm9uZTsgXFxuICB9XFxufVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZXMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UseUJBQXlCO0VBQ3pCLHVCQUF1QjtFQUN2Qix3QkFBd0I7RUFDeEIsd0JBQXdCO0VBQ3hCLG1CQUFtQjtFQUNuQixvQkFBb0I7RUFDcEIsa0NBQWtDO0VBQ2xDLGdDQUFnQztFQUNoQyxnQ0FBZ0M7O0VBRWhDLGtCQUFrQjs7RUFFbEIsdUJBQXVCO0FBQ3pCO0FBQ0E7RUFDRSxXQUFXO0FBQ2I7QUFDQTtFQUNFLGlCQUFpQjtFQUNqQixlQUFlO0VBQ2YsZUFBZTtFQUNmLFdBQVc7RUFDWCxzQ0FBc0M7RUFDdEMsc0JBQXNCO0VBQ3RCLFlBQVk7RUFDWixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCx1Q0FBdUM7RUFDdkMsa0NBQWtDO0FBQ3BDOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFVBQVU7RUFDVixlQUFlO0VBQ2YsNkJBQTZCO0FBQy9COztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixRQUFRO0VBQ1IsWUFBWTtBQUNkOztBQUVBO0VBQ0Usb0JBQW9C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LEVBQUU7RUFDM0IsT0FBTyx1QkFBdUIsRUFBRTtBQUNsQzs7QUFFQTtFQUNFO0lBQ0UsZUFBZTtFQUNqQjtFQUNBO0lBQ0UsYUFBYTtJQUNiLHNDQUFzQztFQUN4QztFQUNBO0lBQ0UsWUFBWTtJQUNaLGlCQUFpQjtFQUNuQjtFQUNBO0lBQ0UsTUFBTTtFQUNSOztFQUVBO0lBQ0UsVUFBVTtFQUNaOztFQUVBO0lBQ0UsVUFBVTtFQUNaOztFQUVBO0lBQ0Usa0JBQWtCO0VBQ3BCOztFQUVBO0lBQ0UsWUFBWTtFQUNkO0FBQ0ZcIixcInNvdXJjZXNDb250ZW50XCI6W1wiOnJvb3Qge1xcbiAgLS1jb2wtYmFzZS1saWdodDogI2M1ZWRmZjtcXG4gIC0tY29sLWJhc2UtbWlkOiAjOTNiZmQzO1xcbiAgLS1jb2wtYmFzZS1taWQyOiAjNzI5ZGIxO1xcbiAgLS1jb2wtYmFzZS1kYXJrOiAjNDI3NTk3O1xcbiAgLS1jb2wtZGFya2VzdDogIzAwMDtcXG4gIC0tY29sLWxpZ2h0OiAjZmZmZmZmO1xcbiAgLS1jb2wtYnRuLWxpZ2h0OiByZ2IoNDYsIDE0OSwgMjA5KTtcXG4gIC0tY29sLWJ0bi1taWQ6IHJnYigzMCwgMTM4LCAyMDEpO1xcbiAgLS1jb2wtYnRuLWRhcms6IHJnYigyMywgODksIDE3NSk7XFxuXFxuICAtLWNhcmQtc2NhbGU6IC4zZW07XFxuXFxuICAtLXRyYW5zaXRpb24tc3BlZWQ6IC4zcztcXG59XFxuaHRtbCB7XFxuICBoZWlnaHQ6MTAwJTtcXG59XFxuYm9keSB7XFxuICBwb3NpdGlvbjpyZWxhdGl2ZTtcXG4gIG1pbi1oZWlnaHQ6MTAwJTtcXG4gIG1heC13aWR0aDo5MDBweDtcXG4gIG1hcmdpbjphdXRvO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sLWJhc2UtZGFyayk7XFxuICBjb2xvcjp2YXIoLS1jb2wtbGlnaHQpO1xcbiAgZGlzcGxheTpmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246Y29sdW1uO1xcbn1cXG5cXG5oMSB7XFxuICBwYWRkaW5nOjEwcHg7XFxuICBmb250LXdlaWdodDogNzAwO1xcbiAgZm9udC1zaXplOiAyZW07XFxuICB0ZXh0LXNoYWRvdzoycHggMnB4IDRweCAgcmdiKDIsIDQ0LCA5OSk7XFxuICB0cmFuc2l0aW9uOnZhcigtLXRyYW5zaXRpb24tc3BlZWQpO1xcbn1cXG5cXG5oMTo6YWZ0ZXIge1xcbiAgZGlzcGxheTpibG9jaztcXG4gIGNvbnRlbnQ6Jyc7XFxuICBtYXJnaW4tdG9wOi4yZW07XFxuICBib3JkZXItYm90dG9tOjFweCBzb2xpZCB3aGl0ZTtcXG59XFxuXFxuaDIge1xcbiAgZm9udC13ZWlnaHQ6Ym9sZDtcXG4gIG1hcmdpbi1ib3R0b206MWVtO1xcbn1cXG5cXG5tYWluLmNhcmQge1xcbiAgbWFyZ2luLWJvdHRvbToyZW07XFxufVxcblxcbmZvb3RlciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206MDtcXG4gIHBhZGRpbmc6LjVlbTtcXG59XFxuXFxuZm9ybSB7XFxuICBtYXJnaW46MCAuNWVtIDAgLjVlbTtcXG59XFxuXFxuYnV0dG9uIHtcXG4gIGFwcGVhcmFuY2U6bm9uZTtcXG4gIGRpc3BsYXk6YmxvY2s7XFxuICBtYXJnaW46LjNlbTtcXG4gIHBhZGRpbmc6LjNlbSAuNmVtO1xcbiAgYm9yZGVyOm5vbmU7XFxuICBmb250LXNpemU6MS4yZW07XFxuICBjb2xvcjp2YXIoLS1jb2wtbGlnaHQpO1xcbiAgYm9yZGVyLWJvdHRvbTogNHB4IHNvbGlkIHZhcigtLWNvbC1idG4tZGFyayk7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICBiYWNrZ3JvdW5kOnZhcigtLWNvbC1idG4tbWlkKTtcXG59XFxuXFxuYnV0dG9uOmhvdmVyIHtcXG4gIGJhY2tncm91bmQ6dmFyKC0tY29sLWJ0bi1saWdodCk7XFxufVxcblxcbmJ1dHRvbjpmb2N1cyB7XFxuICBvdXRsaW5lOm5vbmU7XFxuICBib3JkZXI6bm9uZTtcXG4gIGJvcmRlci10b3A6IDRweCBzb2xpZCB2YXIoLS1jb2wtYnRuLWRhcmspO1xcbiAgYmFja2dyb3VuZDp2YXIoLS1jb2wtYnRuLWRhcmspO1xcbn1cXG5cXG5mb3JtPmJ1dHRvbiB7XFxuICBtYXJnaW4tdG9wOi43ZW07XFxufVxcblxcbmE6dmlzaXRlZCwgYTpsaW5rIHtcXG4gIGNvbG9yOnZhcigtLWNvbC1saWdodCk7XFxufVxcblxcbmIge1xcbiAgZm9udC13ZWlnaHQ6Ym9sZDtcXG59XFxuXFxuLmNlbnRlci1jaGlsZHJlbiB7XFxuICBkaXNwbGF5OmZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG59XFxuXFxuLmhpZGRlbiB7XFxuICBkaXNwbGF5Om5vbmU7XFxufVxcblxcbi5jYXJkIHtcXG4gIHBvc2l0aW9uOnJlbGF0aXZlO1xcbiAgY29sb3I6IHZhcigtLWNvbC1kYXJrZXN0KTtcXG4gIG1hcmdpbjogY2FsYyh2YXIoLS1jYXJkLXNjYWxlKSoyKSB2YXIoLS1jYXJkLXNjYWxlKTtcXG4gIHBhZGRpbmc6IHZhcigtLWNhcmQtc2NhbGUpO1xcbiAgYmFja2dyb3VuZDogdmFyKC0tY29sLWxpZ2h0KTtcXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWNhcmQtc2NhbGUpO1xcbiAgYm94LXNoYWRvdzogMS41cHggMS41cHggY2FsYyh2YXIoLS1jYXJkLXNjYWxlKSAqIC43KSB2YXIoLS1jb2wtYmFzZS1kYXJrKTtcXG59XFxuXFxuLmNhcmQuc2VtaS10cmFuc3BhcmVudCB7XFxuICBiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwyNTUsLjUpO1xcbn1cXG5cXG4uY2FyZC5saWJyYXJ5LWhlYWRlciB7XFxuICBkaXNwbGF5Om5vbmU7IC8qIE9ubHkgdmlzaWJsZSBpZiBzY3JlZW4gd2lkdGggPiBtb2JpbGUgKi9cXG59XFxuXFxuLmJvb2sge1xcbiAgZGlzcGxheTpmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246Y29sdW1uO1xcbn1cXG5cXG4uYm9vay1wcm9wIHtcXG4gIG1hcmdpbi1yaWdodDoyZW07XFxuICBwYWRkaW5nOi4zZW0gMDtcXG59XFxuXFxuLmJvb2stcHJvcC5ib29rLXRpdGxlIHtcXG4gIGZvbnQtd2VpZ2h0OmJvbGQ7XFxufVxcbi5ib29rLXByb3AuYm9vay10aXRsZTo6YWZ0ZXIge1xcbiAgY29udGVudDpcXFwiXFxcIjtcXG4gIGRpc3BsYXk6YmxvY2s7XFxuICBib3JkZXItdG9wOiBzb2xpZCAxcHggdmFyKC0tY29sLWJhc2UtZGFyayk7IFxcbn1cXG4uYm9vay1wcm9wLmJvb2stYXV0aG9yOjpiZWZvcmUge1xcbiAgY29udGVudDonYnkgJztcXG59XFxuLmJvb2stcHJvcC5ib29rLXBhZ2VDb3VudDo6YWZ0ZXIge1xcbiAgY29udGVudDonIHBhZ2VzJztcXG59XFxuXFxuLmNvbnRhaW5lci1mb290IHtcXG4gIG1hcmdpbi1sZWZ0Oi4zZW07XFxufVxcblxcbi8qICogTU9EQUwgKi9cXG4ubW9kYWwtYmcge1xcbiAgcG9zaXRpb246Zml4ZWQ7XFxuICB6LWluZGV4OjEwO1xcbiAgbGVmdDowO1xcbiAgdG9wOjA7XFxuICB3aWR0aDoxMDAlO1xcbiAgaGVpZ2h0OjEwMCU7XFxuICBvdmVyZmxvdzphdXRvO1xcbiAgYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4yKTtcXG59XFxuXFxuLm1vZGFsIHtcXG4gIC8qIGNlbnRlciAqL1xcbiAgei1pbmRleDogMTE7XFxuICBwb3NpdGlvbjpmaXhlZDtcXG4gIHRvcDo1MCU7XFxuICBsZWZ0OjUwJTtcXG4gIHRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTtcXG5cXG4gIGJveC1zaXppbmc6Ym9yZGVyLWJveDtcXG4gIHdpZHRoOmZpdC1jb250ZW50O1xcbiAgbWF4LXdpZHRoOjk1JTtcXG4gIHBhZGRpbmc6IC43ZW07XFxuICBwYWRkaW5nLWJvdHRvbTowO1xcbiAgbWFyZ2luOiAwO1xcblxcbiAgZm9udC1zaXplOiAxNTAlO1xcbn1cXG5cXG4ubW9kYWwgPiBwIHtcXG4gIHBhZGRpbmctcmlnaHQ6MmVtO1xcbn1cXG5cXG4uZm9ybS1pdGVtIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxuICBtYXJnaW46IC41ZW0gLjJlbTtcXG4gIHBvc2l0aW9uOnJlbGF0aXZlO1xcbn1cXG5cXG4uZm9ybS1pdGVtID4gbGFiZWwge1xcbiAgcGFkZGluZy1yaWdodDouNGVtO1xcbn1cXG5cXG4uY2xvc2UtYnRuIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHJpZ2h0OiAwO1xcbiAgdG9wOiAwO1xcbiAgd2lkdGg6IDEuNWVtO1xcbiAgaGVpZ2h0OiAxLjVlbTtcXG4gIG1hcmdpbjouM2VtO1xcbiAgYmFja2dyb3VuZDogcmVkO1xcbiAgYm9yZGVyLXJhZGl1czo1MCU7XFxuICBjb250ZW50OiB1cmwoLi4vaW1ncy94LWljb24uc3ZnKTtcXG4gIHVzZXItc2VsZWN0Om5vbmU7XFxufVxcblxcbi5jbG9zZS1idG46aG92ZXIge1xcbiAgYmFja2dyb3VuZDpyZ2IoMjU1LCA5MywgMTQyKTtcXG4gIHRyYW5zZm9ybTpyb3RhdGUoOTBkZWcpO1xcbiAgdHJhbnNpdGlvbjouM3M7XFxufVxcblxcbi5zd2l0Y2gge1xcbiAgcG9zaXRpb246cmVsYXRpdmU7XFxuICBkaXNwbGF5OmZsZXg7XFxuICBhbGlnbi1pdGVtczpjZW50ZXI7XFxufVxcblxcbi5zd2l0Y2ggaW5wdXQge1xcbiAgZGlzcGxheTpub25lO1xcbn1cXG5cXG4uc3dpdGNoLWxhYmVsIHtcXG4gIHBhZGRpbmctcmlnaHQ6IDFlbTtcXG59XFxuLnN3aXRjaC1zcGFuIHtcXG4gIGJhY2tncm91bmQ6dmFyKC0tY29sLWJhc2UtZGFyayk7XFxuICB3aWR0aDoxLjdlbTtcXG4gIGhlaWdodDoxZW07XFxuICBib3JkZXItcmFkaXVzOi41ZW07XFxufVxcblxcbi5zd2l0Y2gtc3Bhbjo6YmVmb3JlIHtcXG4gIHBvc2l0aW9uOmFic29sdXRlO1xcbiAgYm94LXNpemluZzpib3JkZXItYm94O1xcbiAgY29udGVudDpcXFwiXFxcIjtcXG4gIGhlaWdodDogMWVtO1xcbiAgd2lkdGg6IDFlbTtcXG4gIGJvcmRlcjogLjE1ZW0gc29saWQgdmFyKC0tY29sLWJhc2UtZGFyayk7XFxuICBib3JkZXItcmFkaXVzOjUwJTtcXG4gIGJhY2tncm91bmQ6dmFyKC0tY29sLWJhc2UtbGlnaHQpO1xcbiAgdHJhbnNpdGlvbjogLjFzO1xcbn1cXG5cXG5pbnB1dDpjaGVja2VkICsgLnN3aXRjaC1zcGFuOjpiZWZvcmUge1xcbiAgdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLjdlbSk7XFxuICBiYWNrZ3JvdW5kOmxpZ2h0Z3JlZW47XFxuICBib3JkZXItY29sb3I6IGdyZWVuO1xcbn1cXG5cXG5pbnB1dDpjaGVja2VkICsgLnN3aXRjaC1zcGFuIHtcXG4gIGJhY2tncm91bmQ6IGdyZWVuO1xcbn1cXG5cXG5pbnB1dFt0eXBlPSd0ZXh0J10sIGlucHV0W3R5cGU9J251bWJlciddIHtcXG4gIGFwcGVhcmFuY2U6bm9uZTtcXG4gIGJvcmRlcjoxcHggc29saWQgdmFyKC0tY29sLWRhcmtlc3QpO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbn1cXG5cXG4udmFsaWRhdGlvbi1mYWlsZWQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjpyZWQ7XFxuICBhbmltYXRpb24tbmFtZTogYW5pbS1mYWRlO1xcbiAgYW5pbWF0aW9uLWR1cmF0aW9uOiAzcztcXG59XFxuXFxuLmNhcmQuZm9ybS12YWxpZGF0aW9uLWVycm9yIHtcXG4gIHotaW5kZXg6MTU7XFxuICBib3gtc2l6aW5nOmJvcmRlci1ib3g7XFxuICBwb3NpdGlvbjphYnNvbHV0ZTtcXG4gIHRvcDoxLjZlbTtcXG4gIHJpZ2h0OjA7XFxuICBtYXJnaW46MDtcXG4gIGJhY2tncm91bmQ6cmdiKDI0MywgMTc0LCAxNzQpO1xcbiAgZm9udC1zaXplOi43ZW07XFxufVxcblxcbkBrZXlmcmFtZXMgYW5pbS1mYWRlIHtcXG4gIDAlIHsgYmFja2dyb3VuZC1jb2xvcjpyZWQ7IH1cXG4gIDEwMCUgeyBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsgfVxcbn1cXG5cXG5AbWVkaWEgKG1pbi13aWR0aDozNWVtKSB7XFxuICBoMSB7XFxuICAgIGZvbnQtc2l6ZTozLjZlbTtcXG4gIH1cXG4gIC5ib29rIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiA2ZnIgNWZyIDNmciA0ZnI7XFxuICB9XFxuICAuY2FyZC5saWJyYXJ5LWhlYWRlciB7XFxuICAgIGRpc3BsYXk6Z3JpZDtcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICB9XFxuICAuY2xvc2UtYnRuIHtcXG4gICAgdG9wOiAwO1xcbiAgfVxcblxcbiAgLmJvb2stcHJvcC5ib29rLWF1dGhvcjo6YmVmb3JlIHtcXG4gICAgY29udGVudDonJztcXG4gIH1cXG5cXG4gIC5ib29rLXByb3AuYm9vay1wYWdlQ291bnQ6OmFmdGVyIHtcXG4gICAgY29udGVudDonJztcXG4gIH1cXG5cXG4gIC5ib29rLXByb3AuYm9vay10aXRsZSB7XFxuICAgIGZvbnQtd2VpZ2h0Om5vcm1hbDtcXG4gIH1cXG5cXG4gIC5ib29rLXByb3AuYm9vay10aXRsZTo6YWZ0ZXIge1xcbiAgICBkaXNwbGF5Om5vbmU7IFxcbiAgfVxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pIHtcbiAgdmFyIF9pdGVtID0gX3NsaWNlZFRvQXJyYXkoaXRlbSwgNCksXG4gICAgICBjb250ZW50ID0gX2l0ZW1bMV0sXG4gICAgICBjc3NNYXBwaW5nID0gX2l0ZW1bM107XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBvcHRpb25zID0ge307XG4gIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVyc2NvcmUtZGFuZ2xlLCBuby1wYXJhbS1yZWFzc2lnblxuXG5cbiAgdXJsID0gdXJsICYmIHVybC5fX2VzTW9kdWxlID8gdXJsLmRlZmF1bHQgOiB1cmw7XG5cbiAgaWYgKHR5cGVvZiB1cmwgIT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9IC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuXG5cbiAgaWYgKC9eWydcIl0uKlsnXCJdJC8udGVzdCh1cmwpKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgdXJsID0gdXJsLnNsaWNlKDEsIC0xKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB1cmwgKz0gb3B0aW9ucy5oYXNoO1xuICB9IC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgLy8gU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI3VybHNcblxuXG4gIGlmICgvW1wiJygpIFxcdFxcbl0vLnRlc3QodXJsKSB8fCBvcHRpb25zLm5lZWRRdW90ZXMpIHtcbiAgICByZXR1cm4gXCJcXFwiXCIuY29uY2F0KHVybC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIiksIFwiXFxcIlwiKTtcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59OyIsImltcG9ydCBmaXJlYmFzZSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcblxudmFyIG5hbWUgPSBcImZpcmViYXNlXCI7XG52YXIgdmVyc2lvbiA9IFwiOC40LjJcIjtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZmlyZWJhc2UucmVnaXN0ZXJWZXJzaW9uKG5hbWUsIHZlcnNpb24sICdhcHAnKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbS5qcy5tYXBcbiIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP2UocmVxdWlyZShcIkBmaXJlYmFzZS9hcHBcIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiQGZpcmViYXNlL2FwcFwiXSxlKTplKCh0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikuZmlyZWJhc2UpfSh0aGlzLGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO3RyeXshZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybiB0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJkZWZhdWx0XCJpbiB0P3Q6e2RlZmF1bHQ6dH19dmFyIHpsPXQoZSk7IWZ1bmN0aW9uKCl7dmFyIHQsbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcz9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24odCxlLG4pe3QhPUFycmF5LnByb3RvdHlwZSYmdCE9T2JqZWN0LnByb3RvdHlwZSYmKHRbZV09bi52YWx1ZSl9O3ZhciB1PWZ1bmN0aW9uKHQpe3Q9W1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyxcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZixcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwsdF07Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDsrK2Upe3ZhciBuPXRbZV07aWYobiYmbi5NYXRoPT1NYXRoKXJldHVybiBufXJldHVybiBnbG9iYWxUaGlzfSh0aGlzKTtmdW5jdGlvbiBjKHQpe3ZhciBlLG4saT1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3ImJnRbU3ltYm9sLml0ZXJhdG9yXTtyZXR1cm4gaT9pLmNhbGwodCk6e25leHQ6KGU9dCxuPTAsZnVuY3Rpb24oKXtyZXR1cm4gbjxlLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTplW24rK119Ontkb25lOiEwfX0pfX0hZnVuY3Rpb24odCxlKXtpZihlKXt2YXIgbj11O3Q9dC5zcGxpdChcIi5cIik7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aC0xO2krKyl7dmFyIHI9dFtpXTtyIGluIG58fChuW3JdPXt9KSxuPW5bcl19KGU9ZShpPW5bdD10W3QubGVuZ3RoLTFdXSkpIT1pJiZudWxsIT1lJiZvKG4sdCx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KX19KFwiUHJvbWlzZVwiLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGEodCl7dGhpcy5iPTAsdGhpcy5jPXZvaWQgMCx0aGlzLmE9W107dmFyIGU9dGhpcy5mKCk7dHJ5e3QoZS5yZXNvbHZlLGUucmVqZWN0KX1jYXRjaCh0KXtlLnJlamVjdCh0KX19ZnVuY3Rpb24gZSgpe3RoaXMuYT1udWxsfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhP2U6bmV3IGEoZnVuY3Rpb24odCl7dChlKX0pfWlmKHQpcmV0dXJuIHQ7ZS5wcm90b3R5cGUuYj1mdW5jdGlvbih0KXt2YXIgZTtudWxsPT10aGlzLmEmJih0aGlzLmE9W10sKGU9dGhpcykuYyhmdW5jdGlvbigpe2UuZygpfSkpLHRoaXMuYS5wdXNoKHQpfTt2YXIgbj11LnNldFRpbWVvdXQ7ZS5wcm90b3R5cGUuYz1mdW5jdGlvbih0KXtuKHQsMCl9LGUucHJvdG90eXBlLmc9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuYSYmdGhpcy5hLmxlbmd0aDspe3ZhciB0PXRoaXMuYTt0aGlzLmE9W107Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDsrK2Upe3ZhciBuPXRbZV07dFtlXT1udWxsO3RyeXtuKCl9Y2F0Y2godCl7dGhpcy5mKHQpfX19dGhpcy5hPW51bGx9LGUucHJvdG90eXBlLmY9ZnVuY3Rpb24odCl7dGhpcy5jKGZ1bmN0aW9uKCl7dGhyb3cgdH0pfSxhLnByb3RvdHlwZS5mPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gZnVuY3Rpb24odCl7aXx8KGk9ITAsZS5jYWxsKG4sdCkpfX12YXIgbj10aGlzLGk9ITE7cmV0dXJue3Jlc29sdmU6dCh0aGlzLm0pLHJlamVjdDp0KHRoaXMuZyl9fSxhLnByb3RvdHlwZS5tPWZ1bmN0aW9uKHQpe2lmKHQ9PT10aGlzKXRoaXMuZyhuZXcgVHlwZUVycm9yKFwiQSBQcm9taXNlIGNhbm5vdCByZXNvbHZlIHRvIGl0c2VsZlwiKSk7ZWxzZSBpZih0IGluc3RhbmNlb2YgYSl0aGlzLnModCk7ZWxzZXt0OnN3aXRjaCh0eXBlb2YgdCl7Y2FzZVwib2JqZWN0XCI6dmFyIGU9bnVsbCE9dDticmVhayB0O2Nhc2VcImZ1bmN0aW9uXCI6ZT0hMDticmVhayB0O2RlZmF1bHQ6ZT0hMX1lP3RoaXMudih0KTp0aGlzLmgodCl9fSxhLnByb3RvdHlwZS52PWZ1bmN0aW9uKHQpe3ZhciBlPXZvaWQgMDt0cnl7ZT10LnRoZW59Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5nKHQpfVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/dGhpcy51KGUsdCk6dGhpcy5oKHQpfSxhLnByb3RvdHlwZS5nPWZ1bmN0aW9uKHQpe3RoaXMuaSgyLHQpfSxhLnByb3RvdHlwZS5oPWZ1bmN0aW9uKHQpe3RoaXMuaSgxLHQpfSxhLnByb3RvdHlwZS5pPWZ1bmN0aW9uKHQsZSl7aWYoMCE9dGhpcy5iKXRocm93IEVycm9yKFwiQ2Fubm90IHNldHRsZShcIit0K1wiLCBcIitlK1wiKTogUHJvbWlzZSBhbHJlYWR5IHNldHRsZWQgaW4gc3RhdGVcIit0aGlzLmIpO3RoaXMuYj10LHRoaXMuYz1lLHRoaXMubCgpfSxhLnByb3RvdHlwZS5sPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5hKXtmb3IodmFyIHQ9MDt0PHRoaXMuYS5sZW5ndGg7Kyt0KXIuYih0aGlzLmFbdF0pO3RoaXMuYT1udWxsfX07dmFyIHI9bmV3IGU7cmV0dXJuIGEucHJvdG90eXBlLnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5mKCk7dC5RYShlLnJlc29sdmUsZS5yZWplY3QpfSxhLnByb3RvdHlwZS51PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5mKCk7dHJ5e3QuY2FsbChlLG4ucmVzb2x2ZSxuLnJlamVjdCl9Y2F0Y2godCl7bi5yZWplY3QodCl9fSxhLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbihlLHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZnVuY3Rpb24odCl7dHJ5e2koZSh0KSl9Y2F0Y2godCl7cih0KX19OnR9dmFyIGkscixvPW5ldyBhKGZ1bmN0aW9uKHQsZSl7aT10LHI9ZX0pO3JldHVybiB0aGlzLlFhKG4odCxpKSxuKGUscikpLG99LGEucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLHQpfSxhLnByb3RvdHlwZS5RYT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXtzd2l0Y2goaS5iKXtjYXNlIDE6dChpLmMpO2JyZWFrO2Nhc2UgMjplKGkuYyk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgc3RhdGU6IFwiK2kuYil9fXZhciBpPXRoaXM7bnVsbD09dGhpcy5hP3IuYihuKTp0aGlzLmEucHVzaChuKX0sYS5yZXNvbHZlPXMsYS5yZWplY3Q9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBhKGZ1bmN0aW9uKHQsZSl7ZShuKX0pfSxhLnJhY2U9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyBhKGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWMociksaT1uLm5leHQoKTshaS5kb25lO2k9bi5uZXh0KCkpcyhpLnZhbHVlKS5RYSh0LGUpfSl9LGEuYWxsPWZ1bmN0aW9uKHQpe3ZhciBlPWModCksbz1lLm5leHQoKTtyZXR1cm4gby5kb25lP3MoW10pOm5ldyBhKGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPVtdLHI9MDtpLnB1c2godm9pZCAwKSxyKysscyhvLnZhbHVlKS5RYShmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aVtlXT10LDA9PS0tciYmbihpKX19KGkubGVuZ3RoLTEpLHQpLG89ZS5uZXh0KCksIW8uZG9uZTspO30pfSxhfSk7dmFyIGg9aHx8e30sbD10aGlzfHxzZWxmLGU9L15bXFx3Ky9fLV0rWz1dezAsMn0kLyxzPW51bGw7ZnVuY3Rpb24gZih0KXtyZXR1cm4odD10LnF1ZXJ5U2VsZWN0b3ImJnQucXVlcnlTZWxlY3RvcihcInNjcmlwdFtub25jZV1cIikpJiYodD10Lm5vbmNlfHx0LmdldEF0dHJpYnV0ZShcIm5vbmNlXCIpKSYmZS50ZXN0KHQpP3Q6XCJcIn1mdW5jdGlvbiBhKCl7fWZ1bmN0aW9uIGQodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuXCJvYmplY3RcIiE9ZT9lOnQ/QXJyYXkuaXNBcnJheSh0KT9cImFycmF5XCI6ZTpcIm51bGxcIn1mdW5jdGlvbiBwKHQpe3ZhciBlPWQodCk7cmV0dXJuXCJhcnJheVwiPT1lfHxcIm9iamVjdFwiPT1lJiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGh9ZnVuY3Rpb24gdih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PWQodCl9ZnVuY3Rpb24gbSh0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm5cIm9iamVjdFwiPT1lJiZudWxsIT10fHxcImZ1bmN0aW9uXCI9PWV9dmFyIG49XCJjbG9zdXJlX3VpZF9cIisoMWU5Kk1hdGgucmFuZG9tKCk+Pj4wKSxpPTA7ZnVuY3Rpb24gcih0LGUsbil7cmV0dXJuIHQuY2FsbC5hcHBseSh0LmJpbmQsYXJndW1lbnRzKX1mdW5jdGlvbiBnKGUsbix0KXtpZighZSl0aHJvdyBFcnJvcigpO2lmKDI8YXJndW1lbnRzLmxlbmd0aCl7dmFyIGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KHQsaSksZS5hcHBseShuLHQpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseShuLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGIodCxlLG4pe3JldHVybihiPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kJiYtMSE9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQudG9TdHJpbmcoKS5pbmRleE9mKFwibmF0aXZlIGNvZGVcIik/cjpnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24geShlKXt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9bi5zbGljZSgpO3JldHVybiB0LnB1c2guYXBwbHkodCxhcmd1bWVudHMpLGUuYXBwbHkodGhpcyx0KX19ZnVuY3Rpb24gdyh0LGUpe2Z1bmN0aW9uIG4oKXt9bi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5hYj1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10fWZ1bmN0aW9uIEkodCl7cmV0dXJuIHR9ZnVuY3Rpb24gVCh0LGUsbil7dGhpcy5jb2RlPWsrdCx0aGlzLm1lc3NhZ2U9ZXx8U1t0XXx8XCJcIix0aGlzLmE9bnx8bnVsbH1mdW5jdGlvbiBFKHQpe3ZhciBlPXQmJnQuY29kZTtyZXR1cm4gZT9uZXcgVChlLnN1YnN0cmluZyhrLmxlbmd0aCksdC5tZXNzYWdlLHQuc2VydmVyUmVzcG9uc2UpOm51bGx9dyhULEVycm9yKSxULnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7dmFyIHQ9e2NvZGU6dGhpcy5jb2RlLG1lc3NhZ2U6dGhpcy5tZXNzYWdlfTtyZXR1cm4gdGhpcy5hJiYodC5zZXJ2ZXJSZXNwb25zZT10aGlzLmEpLHR9LFQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLncoKX07dmFyIEEsaz1cImF1dGgvXCIsUz17XCJhZG1pbi1yZXN0cmljdGVkLW9wZXJhdGlvblwiOlwiVGhpcyBvcGVyYXRpb24gaXMgcmVzdHJpY3RlZCB0byBhZG1pbmlzdHJhdG9ycyBvbmx5LlwiLFwiYXJndW1lbnQtZXJyb3JcIjpcIlwiLFwiYXBwLW5vdC1hdXRob3JpemVkXCI6XCJUaGlzIGFwcCwgaWRlbnRpZmllZCBieSB0aGUgZG9tYWluIHdoZXJlIGl0J3MgaG9zdGVkLCBpcyBub3QgYXV0aG9yaXplZCB0byB1c2UgRmlyZWJhc2UgQXV0aGVudGljYXRpb24gd2l0aCB0aGUgcHJvdmlkZWQgQVBJIGtleS4gUmV2aWV3IHlvdXIga2V5IGNvbmZpZ3VyYXRpb24gaW4gdGhlIEdvb2dsZSBBUEkgY29uc29sZS5cIixcImFwcC1ub3QtaW5zdGFsbGVkXCI6XCJUaGUgcmVxdWVzdGVkIG1vYmlsZSBhcHBsaWNhdGlvbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBpZGVudGlmaWVyIChBbmRyb2lkIHBhY2thZ2UgbmFtZSBvciBpT1MgYnVuZGxlIElEKSBwcm92aWRlZCBpcyBub3QgaW5zdGFsbGVkIG9uIHRoaXMgZGV2aWNlLlwiLFwiY2FwdGNoYS1jaGVjay1mYWlsZWRcIjpcIlRoZSByZUNBUFRDSEEgcmVzcG9uc2UgdG9rZW4gcHJvdmlkZWQgaXMgZWl0aGVyIGludmFsaWQsIGV4cGlyZWQsIGFscmVhZHkgdXNlZCBvciB0aGUgZG9tYWluIGFzc29jaWF0ZWQgd2l0aCBpdCBkb2VzIG5vdCBtYXRjaCB0aGUgbGlzdCBvZiB3aGl0ZWxpc3RlZCBkb21haW5zLlwiLFwiY29kZS1leHBpcmVkXCI6XCJUaGUgU01TIGNvZGUgaGFzIGV4cGlyZWQuIFBsZWFzZSByZS1zZW5kIHRoZSB2ZXJpZmljYXRpb24gY29kZSB0byB0cnkgYWdhaW4uXCIsXCJjb3Jkb3ZhLW5vdC1yZWFkeVwiOlwiQ29yZG92YSBmcmFtZXdvcmsgaXMgbm90IHJlYWR5LlwiLFwiY29ycy11bnN1cHBvcnRlZFwiOlwiVGhpcyBicm93c2VyIGlzIG5vdCBzdXBwb3J0ZWQuXCIsXCJjcmVkZW50aWFsLWFscmVhZHktaW4tdXNlXCI6XCJUaGlzIGNyZWRlbnRpYWwgaXMgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGggYSBkaWZmZXJlbnQgdXNlciBhY2NvdW50LlwiLFwiY3VzdG9tLXRva2VuLW1pc21hdGNoXCI6XCJUaGUgY3VzdG9tIHRva2VuIGNvcnJlc3BvbmRzIHRvIGEgZGlmZmVyZW50IGF1ZGllbmNlLlwiLFwicmVxdWlyZXMtcmVjZW50LWxvZ2luXCI6XCJUaGlzIG9wZXJhdGlvbiBpcyBzZW5zaXRpdmUgYW5kIHJlcXVpcmVzIHJlY2VudCBhdXRoZW50aWNhdGlvbi4gTG9nIGluIGFnYWluIGJlZm9yZSByZXRyeWluZyB0aGlzIHJlcXVlc3QuXCIsXCJkeW5hbWljLWxpbmstbm90LWFjdGl2YXRlZFwiOlwiUGxlYXNlIGFjdGl2YXRlIER5bmFtaWMgTGlua3MgaW4gdGhlIEZpcmViYXNlIENvbnNvbGUgYW5kIGFncmVlIHRvIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucy5cIixcImVtYWlsLWNoYW5nZS1uZWVkcy12ZXJpZmljYXRpb25cIjpcIk11bHRpLWZhY3RvciB1c2VycyBtdXN0IGFsd2F5cyBoYXZlIGEgdmVyaWZpZWQgZW1haWwuXCIsXCJlbWFpbC1hbHJlYWR5LWluLXVzZVwiOlwiVGhlIGVtYWlsIGFkZHJlc3MgaXMgYWxyZWFkeSBpbiB1c2UgYnkgYW5vdGhlciBhY2NvdW50LlwiLFwiZXhwaXJlZC1hY3Rpb24tY29kZVwiOlwiVGhlIGFjdGlvbiBjb2RlIGhhcyBleHBpcmVkLiBcIixcImNhbmNlbGxlZC1wb3B1cC1yZXF1ZXN0XCI6XCJUaGlzIG9wZXJhdGlvbiBoYXMgYmVlbiBjYW5jZWxsZWQgZHVlIHRvIGFub3RoZXIgY29uZmxpY3RpbmcgcG9wdXAgYmVpbmcgb3BlbmVkLlwiLFwiaW50ZXJuYWwtZXJyb3JcIjpcIkFuIGludGVybmFsIGVycm9yIGhhcyBvY2N1cnJlZC5cIixcImludmFsaWQtYXBwLWNyZWRlbnRpYWxcIjpcIlRoZSBwaG9uZSB2ZXJpZmljYXRpb24gcmVxdWVzdCBjb250YWlucyBhbiBpbnZhbGlkIGFwcGxpY2F0aW9uIHZlcmlmaWVyLiBUaGUgcmVDQVBUQ0hBIHRva2VuIHJlc3BvbnNlIGlzIGVpdGhlciBpbnZhbGlkIG9yIGV4cGlyZWQuXCIsXCJpbnZhbGlkLWFwcC1pZFwiOlwiVGhlIG1vYmlsZSBhcHAgaWRlbnRpZmllciBpcyBub3QgcmVnaXN0ZWQgZm9yIHRoZSBjdXJyZW50IHByb2plY3QuXCIsXCJpbnZhbGlkLXVzZXItdG9rZW5cIjpcIlRoaXMgdXNlcidzIGNyZWRlbnRpYWwgaXNuJ3QgdmFsaWQgZm9yIHRoaXMgcHJvamVjdC4gVGhpcyBjYW4gaGFwcGVuIGlmIHRoZSB1c2VyJ3MgdG9rZW4gaGFzIGJlZW4gdGFtcGVyZWQgd2l0aCwgb3IgaWYgdGhlIHVzZXIgaXNuJ3QgZm9yIHRoZSBwcm9qZWN0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIEFQSSBrZXkuXCIsXCJpbnZhbGlkLWF1dGgtZXZlbnRcIjpcIkFuIGludGVybmFsIGVycm9yIGhhcyBvY2N1cnJlZC5cIixcImludmFsaWQtdmVyaWZpY2F0aW9uLWNvZGVcIjpcIlRoZSBTTVMgdmVyaWZpY2F0aW9uIGNvZGUgdXNlZCB0byBjcmVhdGUgdGhlIHBob25lIGF1dGggY3JlZGVudGlhbCBpcyBpbnZhbGlkLiBQbGVhc2UgcmVzZW5kIHRoZSB2ZXJpZmljYXRpb24gY29kZSBzbXMgYW5kIGJlIHN1cmUgdXNlIHRoZSB2ZXJpZmljYXRpb24gY29kZSBwcm92aWRlZCBieSB0aGUgdXNlci5cIixcImludmFsaWQtY29udGludWUtdXJpXCI6XCJUaGUgY29udGludWUgVVJMIHByb3ZpZGVkIGluIHRoZSByZXF1ZXN0IGlzIGludmFsaWQuXCIsXCJpbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvblwiOlwiVGhlIGZvbGxvd2luZyBDb3Jkb3ZhIHBsdWdpbnMgbXVzdCBiZSBpbnN0YWxsZWQgdG8gZW5hYmxlIE9BdXRoIHNpZ24taW46IGNvcmRvdmEtcGx1Z2luLWJ1aWxkaW5mbywgY29yZG92YS11bml2ZXJzYWwtbGlua3MtcGx1Z2luLCBjb3Jkb3ZhLXBsdWdpbi1icm93c2VydGFiLCBjb3Jkb3ZhLXBsdWdpbi1pbmFwcGJyb3dzZXIgYW5kIGNvcmRvdmEtcGx1Z2luLWN1c3RvbXVybHNjaGVtZS5cIixcImludmFsaWQtY3VzdG9tLXRva2VuXCI6XCJUaGUgY3VzdG9tIHRva2VuIGZvcm1hdCBpcyBpbmNvcnJlY3QuIFBsZWFzZSBjaGVjayB0aGUgZG9jdW1lbnRhdGlvbi5cIixcImludmFsaWQtZHluYW1pYy1saW5rLWRvbWFpblwiOlwiVGhlIHByb3ZpZGVkIGR5bmFtaWMgbGluayBkb21haW4gaXMgbm90IGNvbmZpZ3VyZWQgb3IgYXV0aG9yaXplZCBmb3IgdGhlIGN1cnJlbnQgcHJvamVjdC5cIixcImludmFsaWQtZW1haWxcIjpcIlRoZSBlbWFpbCBhZGRyZXNzIGlzIGJhZGx5IGZvcm1hdHRlZC5cIixcImludmFsaWQtYXBpLWtleVwiOlwiWW91ciBBUEkga2V5IGlzIGludmFsaWQsIHBsZWFzZSBjaGVjayB5b3UgaGF2ZSBjb3BpZWQgaXQgY29ycmVjdGx5LlwiLFwiaW52YWxpZC1jZXJ0LWhhc2hcIjpcIlRoZSBTSEEtMSBjZXJ0aWZpY2F0ZSBoYXNoIHByb3ZpZGVkIGlzIGludmFsaWQuXCIsXCJpbnZhbGlkLWNyZWRlbnRpYWxcIjpcIlRoZSBzdXBwbGllZCBhdXRoIGNyZWRlbnRpYWwgaXMgbWFsZm9ybWVkIG9yIGhhcyBleHBpcmVkLlwiLFwiaW52YWxpZC1tZXNzYWdlLXBheWxvYWRcIjpcIlRoZSBlbWFpbCB0ZW1wbGF0ZSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgYWN0aW9uIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyBpbiBpdHMgbWVzc2FnZS4gUGxlYXNlIGZpeCBieSBnb2luZyB0byB0aGUgQXV0aCBlbWFpbCB0ZW1wbGF0ZXMgc2VjdGlvbiBpbiB0aGUgRmlyZWJhc2UgQ29uc29sZS5cIixcImludmFsaWQtbXVsdGktZmFjdG9yLXNlc3Npb25cIjpcIlRoZSByZXF1ZXN0IGRvZXMgbm90IGNvbnRhaW4gYSB2YWxpZCBwcm9vZiBvZiBmaXJzdCBmYWN0b3Igc3VjY2Vzc2Z1bCBzaWduLWluLlwiLFwiaW52YWxpZC1vYXV0aC1wcm92aWRlclwiOlwiRW1haWxBdXRoUHJvdmlkZXIgaXMgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBvcGVyYXRpb24uIFRoaXMgb3BlcmF0aW9uIG9ubHkgc3VwcG9ydHMgT0F1dGggcHJvdmlkZXJzLlwiLFwiaW52YWxpZC1vYXV0aC1jbGllbnQtaWRcIjpcIlRoZSBPQXV0aCBjbGllbnQgSUQgcHJvdmlkZWQgaXMgZWl0aGVyIGludmFsaWQgb3IgZG9lcyBub3QgbWF0Y2ggdGhlIHNwZWNpZmllZCBBUEkga2V5LlwiLFwidW5hdXRob3JpemVkLWRvbWFpblwiOlwiVGhpcyBkb21haW4gaXMgbm90IGF1dGhvcml6ZWQgZm9yIE9BdXRoIG9wZXJhdGlvbnMgZm9yIHlvdXIgRmlyZWJhc2UgcHJvamVjdC4gRWRpdCB0aGUgbGlzdCBvZiBhdXRob3JpemVkIGRvbWFpbnMgZnJvbSB0aGUgRmlyZWJhc2UgY29uc29sZS5cIixcImludmFsaWQtYWN0aW9uLWNvZGVcIjpcIlRoZSBhY3Rpb24gY29kZSBpcyBpbnZhbGlkLiBUaGlzIGNhbiBoYXBwZW4gaWYgdGhlIGNvZGUgaXMgbWFsZm9ybWVkLCBleHBpcmVkLCBvciBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuXCIsXCJ3cm9uZy1wYXNzd29yZFwiOlwiVGhlIHBhc3N3b3JkIGlzIGludmFsaWQgb3IgdGhlIHVzZXIgZG9lcyBub3QgaGF2ZSBhIHBhc3N3b3JkLlwiLFwiaW52YWxpZC1wZXJzaXN0ZW5jZS10eXBlXCI6XCJUaGUgc3BlY2lmaWVkIHBlcnNpc3RlbmNlIHR5cGUgaXMgaW52YWxpZC4gSXQgY2FuIG9ubHkgYmUgbG9jYWwsIHNlc3Npb24gb3Igbm9uZS5cIixcImludmFsaWQtcGhvbmUtbnVtYmVyXCI6XCJUaGUgZm9ybWF0IG9mIHRoZSBwaG9uZSBudW1iZXIgcHJvdmlkZWQgaXMgaW5jb3JyZWN0LiBQbGVhc2UgZW50ZXIgdGhlIHBob25lIG51bWJlciBpbiBhIGZvcm1hdCB0aGF0IGNhbiBiZSBwYXJzZWQgaW50byBFLjE2NCBmb3JtYXQuIEUuMTY0IHBob25lIG51bWJlcnMgYXJlIHdyaXR0ZW4gaW4gdGhlIGZvcm1hdCBbK11bY291bnRyeSBjb2RlXVtzdWJzY3JpYmVyIG51bWJlciBpbmNsdWRpbmcgYXJlYSBjb2RlXS5cIixcImludmFsaWQtcHJvdmlkZXItaWRcIjpcIlRoZSBzcGVjaWZpZWQgcHJvdmlkZXIgSUQgaXMgaW52YWxpZC5cIixcImludmFsaWQtcmVjaXBpZW50LWVtYWlsXCI6XCJUaGUgZW1haWwgY29ycmVzcG9uZGluZyB0byB0aGlzIGFjdGlvbiBmYWlsZWQgdG8gc2VuZCBhcyB0aGUgcHJvdmlkZWQgcmVjaXBpZW50IGVtYWlsIGFkZHJlc3MgaXMgaW52YWxpZC5cIixcImludmFsaWQtc2VuZGVyXCI6XCJUaGUgZW1haWwgdGVtcGxhdGUgY29ycmVzcG9uZGluZyB0byB0aGlzIGFjdGlvbiBjb250YWlucyBhbiBpbnZhbGlkIHNlbmRlciBlbWFpbCBvciBuYW1lLiBQbGVhc2UgZml4IGJ5IGdvaW5nIHRvIHRoZSBBdXRoIGVtYWlsIHRlbXBsYXRlcyBzZWN0aW9uIGluIHRoZSBGaXJlYmFzZSBDb25zb2xlLlwiLFwiaW52YWxpZC12ZXJpZmljYXRpb24taWRcIjpcIlRoZSB2ZXJpZmljYXRpb24gSUQgdXNlZCB0byBjcmVhdGUgdGhlIHBob25lIGF1dGggY3JlZGVudGlhbCBpcyBpbnZhbGlkLlwiLFwiaW52YWxpZC10ZW5hbnQtaWRcIjpcIlRoZSBBdXRoIGluc3RhbmNlJ3MgdGVuYW50IElEIGlzIGludmFsaWQuXCIsXCJtdWx0aS1mYWN0b3ItaW5mby1ub3QtZm91bmRcIjpcIlRoZSB1c2VyIGRvZXMgbm90IGhhdmUgYSBzZWNvbmQgZmFjdG9yIG1hdGNoaW5nIHRoZSBpZGVudGlmaWVyIHByb3ZpZGVkLlwiLFwibXVsdGktZmFjdG9yLWF1dGgtcmVxdWlyZWRcIjpcIlByb29mIG9mIG93bmVyc2hpcCBvZiBhIHNlY29uZCBmYWN0b3IgaXMgcmVxdWlyZWQgdG8gY29tcGxldGUgc2lnbi1pbi5cIixcIm1pc3NpbmctYW5kcm9pZC1wa2ctbmFtZVwiOlwiQW4gQW5kcm9pZCBQYWNrYWdlIE5hbWUgbXVzdCBiZSBwcm92aWRlZCBpZiB0aGUgQW5kcm9pZCBBcHAgaXMgcmVxdWlyZWQgdG8gYmUgaW5zdGFsbGVkLlwiLFwiYXV0aC1kb21haW4tY29uZmlnLXJlcXVpcmVkXCI6XCJCZSBzdXJlIHRvIGluY2x1ZGUgYXV0aERvbWFpbiB3aGVuIGNhbGxpbmcgZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcCgpLCBieSBmb2xsb3dpbmcgdGhlIGluc3RydWN0aW9ucyBpbiB0aGUgRmlyZWJhc2UgY29uc29sZS5cIixcIm1pc3NpbmctYXBwLWNyZWRlbnRpYWxcIjpcIlRoZSBwaG9uZSB2ZXJpZmljYXRpb24gcmVxdWVzdCBpcyBtaXNzaW5nIGFuIGFwcGxpY2F0aW9uIHZlcmlmaWVyIGFzc2VydGlvbi4gQSByZUNBUFRDSEEgcmVzcG9uc2UgdG9rZW4gbmVlZHMgdG8gYmUgcHJvdmlkZWQuXCIsXCJtaXNzaW5nLXZlcmlmaWNhdGlvbi1jb2RlXCI6XCJUaGUgcGhvbmUgYXV0aCBjcmVkZW50aWFsIHdhcyBjcmVhdGVkIHdpdGggYW4gZW1wdHkgU01TIHZlcmlmaWNhdGlvbiBjb2RlLlwiLFwibWlzc2luZy1jb250aW51ZS11cmlcIjpcIkEgY29udGludWUgVVJMIG11c3QgYmUgcHJvdmlkZWQgaW4gdGhlIHJlcXVlc3QuXCIsXCJtaXNzaW5nLWlmcmFtZS1zdGFydFwiOlwiQW4gaW50ZXJuYWwgZXJyb3IgaGFzIG9jY3VycmVkLlwiLFwibWlzc2luZy1pb3MtYnVuZGxlLWlkXCI6XCJBbiBpT1MgQnVuZGxlIElEIG11c3QgYmUgcHJvdmlkZWQgaWYgYW4gQXBwIFN0b3JlIElEIGlzIHByb3ZpZGVkLlwiLFwibWlzc2luZy1tdWx0aS1mYWN0b3ItaW5mb1wiOlwiTm8gc2Vjb25kIGZhY3RvciBpZGVudGlmaWVyIGlzIHByb3ZpZGVkLlwiLFwibWlzc2luZy1tdWx0aS1mYWN0b3Itc2Vzc2lvblwiOlwiVGhlIHJlcXVlc3QgaXMgbWlzc2luZyBwcm9vZiBvZiBmaXJzdCBmYWN0b3Igc3VjY2Vzc2Z1bCBzaWduLWluLlwiLFwibWlzc2luZy1vci1pbnZhbGlkLW5vbmNlXCI6XCJUaGUgcmVxdWVzdCBkb2VzIG5vdCBjb250YWluIGEgdmFsaWQgbm9uY2UuIFRoaXMgY2FuIG9jY3VyIGlmIHRoZSBTSEEtMjU2IGhhc2ggb2YgdGhlIHByb3ZpZGVkIHJhdyBub25jZSBkb2VzIG5vdCBtYXRjaCB0aGUgaGFzaGVkIG5vbmNlIGluIHRoZSBJRCB0b2tlbiBwYXlsb2FkLlwiLFwibWlzc2luZy1waG9uZS1udW1iZXJcIjpcIlRvIHNlbmQgdmVyaWZpY2F0aW9uIGNvZGVzLCBwcm92aWRlIGEgcGhvbmUgbnVtYmVyIGZvciB0aGUgcmVjaXBpZW50LlwiLFwibWlzc2luZy12ZXJpZmljYXRpb24taWRcIjpcIlRoZSBwaG9uZSBhdXRoIGNyZWRlbnRpYWwgd2FzIGNyZWF0ZWQgd2l0aCBhbiBlbXB0eSB2ZXJpZmljYXRpb24gSUQuXCIsXCJhcHAtZGVsZXRlZFwiOlwiVGhpcyBpbnN0YW5jZSBvZiBGaXJlYmFzZUFwcCBoYXMgYmVlbiBkZWxldGVkLlwiLFwiYWNjb3VudC1leGlzdHMtd2l0aC1kaWZmZXJlbnQtY3JlZGVudGlhbFwiOlwiQW4gYWNjb3VudCBhbHJlYWR5IGV4aXN0cyB3aXRoIHRoZSBzYW1lIGVtYWlsIGFkZHJlc3MgYnV0IGRpZmZlcmVudCBzaWduLWluIGNyZWRlbnRpYWxzLiBTaWduIGluIHVzaW5nIGEgcHJvdmlkZXIgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZW1haWwgYWRkcmVzcy5cIixcIm5ldHdvcmstcmVxdWVzdC1mYWlsZWRcIjpcIkEgbmV0d29yayBlcnJvciAoc3VjaCBhcyB0aW1lb3V0LCBpbnRlcnJ1cHRlZCBjb25uZWN0aW9uIG9yIHVucmVhY2hhYmxlIGhvc3QpIGhhcyBvY2N1cnJlZC5cIixcIm5vLWF1dGgtZXZlbnRcIjpcIkFuIGludGVybmFsIGVycm9yIGhhcyBvY2N1cnJlZC5cIixcIm5vLXN1Y2gtcHJvdmlkZXJcIjpcIlVzZXIgd2FzIG5vdCBsaW5rZWQgdG8gYW4gYWNjb3VudCB3aXRoIHRoZSBnaXZlbiBwcm92aWRlci5cIixcIm51bGwtdXNlclwiOlwiQSBudWxsIHVzZXIgb2JqZWN0IHdhcyBwcm92aWRlZCBhcyB0aGUgYXJndW1lbnQgZm9yIGFuIG9wZXJhdGlvbiB3aGljaCByZXF1aXJlcyBhIG5vbi1udWxsIHVzZXIgb2JqZWN0LlwiLFwib3BlcmF0aW9uLW5vdC1hbGxvd2VkXCI6XCJUaGUgZ2l2ZW4gc2lnbi1pbiBwcm92aWRlciBpcyBkaXNhYmxlZCBmb3IgdGhpcyBGaXJlYmFzZSBwcm9qZWN0LiBFbmFibGUgaXQgaW4gdGhlIEZpcmViYXNlIGNvbnNvbGUsIHVuZGVyIHRoZSBzaWduLWluIG1ldGhvZCB0YWIgb2YgdGhlIEF1dGggc2VjdGlvbi5cIixcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIjonVGhpcyBvcGVyYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgZW52aXJvbm1lbnQgdGhpcyBhcHBsaWNhdGlvbiBpcyBydW5uaW5nIG9uLiBcImxvY2F0aW9uLnByb3RvY29sXCIgbXVzdCBiZSBodHRwLCBodHRwcyBvciBjaHJvbWUtZXh0ZW5zaW9uIGFuZCB3ZWIgc3RvcmFnZSBtdXN0IGJlIGVuYWJsZWQuJyxcInBvcHVwLWJsb2NrZWRcIjpcIlVuYWJsZSB0byBlc3RhYmxpc2ggYSBjb25uZWN0aW9uIHdpdGggdGhlIHBvcHVwLiBJdCBtYXkgaGF2ZSBiZWVuIGJsb2NrZWQgYnkgdGhlIGJyb3dzZXIuXCIsXCJwb3B1cC1jbG9zZWQtYnktdXNlclwiOlwiVGhlIHBvcHVwIGhhcyBiZWVuIGNsb3NlZCBieSB0aGUgdXNlciBiZWZvcmUgZmluYWxpemluZyB0aGUgb3BlcmF0aW9uLlwiLFwicHJvdmlkZXItYWxyZWFkeS1saW5rZWRcIjpcIlVzZXIgY2FuIG9ubHkgYmUgbGlua2VkIHRvIG9uZSBpZGVudGl0eSBmb3IgdGhlIGdpdmVuIHByb3ZpZGVyLlwiLFwicXVvdGEtZXhjZWVkZWRcIjpcIlRoZSBwcm9qZWN0J3MgcXVvdGEgZm9yIHRoaXMgb3BlcmF0aW9uIGhhcyBiZWVuIGV4Y2VlZGVkLlwiLFwicmVkaXJlY3QtY2FuY2VsbGVkLWJ5LXVzZXJcIjpcIlRoZSByZWRpcmVjdCBvcGVyYXRpb24gaGFzIGJlZW4gY2FuY2VsbGVkIGJ5IHRoZSB1c2VyIGJlZm9yZSBmaW5hbGl6aW5nLlwiLFwicmVkaXJlY3Qtb3BlcmF0aW9uLXBlbmRpbmdcIjpcIkEgcmVkaXJlY3Qgc2lnbi1pbiBvcGVyYXRpb24gaXMgYWxyZWFkeSBwZW5kaW5nLlwiLFwicmVqZWN0ZWQtY3JlZGVudGlhbFwiOlwiVGhlIHJlcXVlc3QgY29udGFpbnMgbWFsZm9ybWVkIG9yIG1pc21hdGNoaW5nIGNyZWRlbnRpYWxzLlwiLFwic2Vjb25kLWZhY3Rvci1hbHJlYWR5LWluLXVzZVwiOlwiVGhlIHNlY29uZCBmYWN0b3IgaXMgYWxyZWFkeSBlbnJvbGxlZCBvbiB0aGlzIGFjY291bnQuXCIsXCJtYXhpbXVtLXNlY29uZC1mYWN0b3ItY291bnQtZXhjZWVkZWRcIjpcIlRoZSBtYXhpbXVtIGFsbG93ZWQgbnVtYmVyIG9mIHNlY29uZCBmYWN0b3JzIG9uIGEgdXNlciBoYXMgYmVlbiBleGNlZWRlZC5cIixcInRlbmFudC1pZC1taXNtYXRjaFwiOlwiVGhlIHByb3ZpZGVkIHRlbmFudCBJRCBkb2VzIG5vdCBtYXRjaCB0aGUgQXV0aCBpbnN0YW5jZSdzIHRlbmFudCBJRFwiLHRpbWVvdXQ6XCJUaGUgb3BlcmF0aW9uIGhhcyB0aW1lZCBvdXQuXCIsXCJ1c2VyLXRva2VuLWV4cGlyZWRcIjpcIlRoZSB1c2VyJ3MgY3JlZGVudGlhbCBpcyBubyBsb25nZXIgdmFsaWQuIFRoZSB1c2VyIG11c3Qgc2lnbiBpbiBhZ2Fpbi5cIixcInRvby1tYW55LXJlcXVlc3RzXCI6XCJXZSBoYXZlIGJsb2NrZWQgYWxsIHJlcXVlc3RzIGZyb20gdGhpcyBkZXZpY2UgZHVlIHRvIHVudXN1YWwgYWN0aXZpdHkuIFRyeSBhZ2FpbiBsYXRlci5cIixcInVuYXV0aG9yaXplZC1jb250aW51ZS11cmlcIjpcIlRoZSBkb21haW4gb2YgdGhlIGNvbnRpbnVlIFVSTCBpcyBub3Qgd2hpdGVsaXN0ZWQuICBQbGVhc2Ugd2hpdGVsaXN0IHRoZSBkb21haW4gaW4gdGhlIEZpcmViYXNlIGNvbnNvbGUuXCIsXCJ1bnN1cHBvcnRlZC1maXJzdC1mYWN0b3JcIjpcIkVucm9sbGluZyBhIHNlY29uZCBmYWN0b3Igb3Igc2lnbmluZyBpbiB3aXRoIGEgbXVsdGktZmFjdG9yIGFjY291bnQgcmVxdWlyZXMgc2lnbi1pbiB3aXRoIGEgc3VwcG9ydGVkIGZpcnN0IGZhY3Rvci5cIixcInVuc3VwcG9ydGVkLXBlcnNpc3RlbmNlLXR5cGVcIjpcIlRoZSBjdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IHN1cHBvcnQgdGhlIHNwZWNpZmllZCBwZXJzaXN0ZW5jZSB0eXBlLlwiLFwidW5zdXBwb3J0ZWQtdGVuYW50LW9wZXJhdGlvblwiOlwiVGhpcyBvcGVyYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiBhIG11bHRpLXRlbmFudCBjb250ZXh0LlwiLFwidW52ZXJpZmllZC1lbWFpbFwiOlwiVGhlIG9wZXJhdGlvbiByZXF1aXJlcyBhIHZlcmlmaWVkIGVtYWlsLlwiLFwidXNlci1jYW5jZWxsZWRcIjpcIlRoZSB1c2VyIGRpZCBub3QgZ3JhbnQgeW91ciBhcHBsaWNhdGlvbiB0aGUgcGVybWlzc2lvbnMgaXQgcmVxdWVzdGVkLlwiLFwidXNlci1ub3QtZm91bmRcIjpcIlRoZXJlIGlzIG5vIHVzZXIgcmVjb3JkIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBpZGVudGlmaWVyLiBUaGUgdXNlciBtYXkgaGF2ZSBiZWVuIGRlbGV0ZWQuXCIsXCJ1c2VyLWRpc2FibGVkXCI6XCJUaGUgdXNlciBhY2NvdW50IGhhcyBiZWVuIGRpc2FibGVkIGJ5IGFuIGFkbWluaXN0cmF0b3IuXCIsXCJ1c2VyLW1pc21hdGNoXCI6XCJUaGUgc3VwcGxpZWQgY3JlZGVudGlhbHMgZG8gbm90IGNvcnJlc3BvbmQgdG8gdGhlIHByZXZpb3VzbHkgc2lnbmVkIGluIHVzZXIuXCIsXCJ1c2VyLXNpZ25lZC1vdXRcIjpcIlwiLFwid2Vhay1wYXNzd29yZFwiOlwiVGhlIHBhc3N3b3JkIG11c3QgYmUgNiBjaGFyYWN0ZXJzIGxvbmcgb3IgbW9yZS5cIixcIndlYi1zdG9yYWdlLXVuc3VwcG9ydGVkXCI6XCJUaGlzIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZCBvciAzcmQgcGFydHkgY29va2llcyBhbmQgZGF0YSBtYXkgYmUgZGlzYWJsZWQuXCJ9LE49e2xkOntUYTpcImh0dHBzOi8vc3RhZ2luZy1pZGVudGl0eXRvb2xraXQuc2FuZGJveC5nb29nbGVhcGlzLmNvbS9pZGVudGl0eXRvb2xraXQvdjMvcmVseWluZ3BhcnR5L1wiLFphOlwiaHR0cHM6Ly9zdGFnaW5nLXNlY3VyZXRva2VuLnNhbmRib3guZ29vZ2xlYXBpcy5jb20vdjEvdG9rZW5cIixXYTpcImh0dHBzOi8vc3RhZ2luZy1pZGVudGl0eXRvb2xraXQuc2FuZGJveC5nb29nbGVhcGlzLmNvbS92Mi9cIixpZDpcImJcIn0sc2Q6e1RhOlwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vaWRlbnRpdHl0b29sa2l0L3YzL3JlbHlpbmdwYXJ0eS9cIixaYTpcImh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlYXBpcy5jb20vdjEvdG9rZW5cIixXYTpcImh0dHBzOi8vaWRlbnRpdHl0b29sa2l0Lmdvb2dsZWFwaXMuY29tL3YyL1wiLGlkOlwicFwifSx1ZDp7VGE6XCJodHRwczovL3N0YWdpbmctd3d3LnNhbmRib3guZ29vZ2xlYXBpcy5jb20vaWRlbnRpdHl0b29sa2l0L3YzL3JlbHlpbmdwYXJ0eS9cIixaYTpcImh0dHBzOi8vc3RhZ2luZy1zZWN1cmV0b2tlbi5zYW5kYm94Lmdvb2dsZWFwaXMuY29tL3YxL3Rva2VuXCIsV2E6XCJodHRwczovL3N0YWdpbmctaWRlbnRpdHl0b29sa2l0LnNhbmRib3guZ29vZ2xlYXBpcy5jb20vdjIvXCIsaWQ6XCJzXCJ9LHZkOntUYTpcImh0dHBzOi8vd3d3LWdvb2dsZWFwaXMtdGVzdC5zYW5kYm94Lmdvb2dsZS5jb20vaWRlbnRpdHl0b29sa2l0L3YzL3JlbHlpbmdwYXJ0eS9cIixaYTpcImh0dHBzOi8vdGVzdC1zZWN1cmV0b2tlbi5zYW5kYm94Lmdvb2dsZWFwaXMuY29tL3YxL3Rva2VuXCIsV2E6XCJodHRwczovL3Rlc3QtaWRlbnRpdHl0b29sa2l0LnNhbmRib3guZ29vZ2xlYXBpcy5jb20vdjIvXCIsaWQ6XCJ0XCJ9fTtmdW5jdGlvbiBfKHQpe2Zvcih2YXIgZSBpbiBOKWlmKE5bZV0uaWQ9PT10KXJldHVybiB0PU5bZV0se2ZpcmViYXNlRW5kcG9pbnQ6dC5UYSxzZWN1cmVUb2tlbkVuZHBvaW50OnQuWmEsaWRlbnRpdHlQbGF0Zm9ybUVuZHBvaW50OnQuV2F9O3JldHVybiBudWxsfWZ1bmN0aW9uIE8odCl7aWYodCl0cnl7cmV0dXJuIHQuJGdvb2dfVGhlbmFibGV9Y2F0Y2godCl7cmV0dXJufX1mdW5jdGlvbiBDKHQpe3ZhciBlO0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsQyk6KGU9RXJyb3IoKS5zdGFjaykmJih0aGlzLnN0YWNrPWUpLHQmJih0aGlzLm1lc3NhZ2U9U3RyaW5nKHQpKX1mdW5jdGlvbiBSKHQsZSl7Zm9yKHZhciBuPVwiXCIsaT0odD10LnNwbGl0KFwiJXNcIikpLmxlbmd0aC0xLHI9MDtyPGk7cisrKW4rPXRbcl0rKHI8ZS5sZW5ndGg/ZVtyXTpcIiVzXCIpO0MuY2FsbCh0aGlzLG4rdFtpXSl9ZnVuY3Rpb24gRCh0KXt0aHJvdyBuZXcgUihcIkZhaWx1cmVcIisodD9cIjogXCIrdDpcIlwiKSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpfWZ1bmN0aW9uIFAodCxlKXt0aGlzLmM9dCx0aGlzLmY9ZSx0aGlzLmI9MCx0aGlzLmE9bnVsbH1mdW5jdGlvbiBMKHQsZSl7dC5mKGUpLHQuYjwxMDAmJih0LmIrKyxlLm5leHQ9dC5hLHQuYT1lKX1mdW5jdGlvbiB4KCl7dGhpcy5iPXRoaXMuYT1udWxsfUE9XyhcIl9fRUlEX19cIik/XCJfX0VJRF9fXCI6dm9pZCAwLHcoQyxFcnJvciksQy5wcm90b3R5cGUubmFtZT1cIkN1c3RvbUVycm9yXCIsdyhSLEMpLFIucHJvdG90eXBlLm5hbWU9XCJBc3NlcnRpb25FcnJvclwiLFAucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciB0O3JldHVybiAwPHRoaXMuYj8odGhpcy5iLS0sdD10aGlzLmEsdGhpcy5hPXQubmV4dCx0Lm5leHQ9bnVsbCk6dD10aGlzLmMoKSx0fTt2YXIgTT1uZXcgUChmdW5jdGlvbigpe3JldHVybiBuZXcgan0sZnVuY3Rpb24odCl7dC5yZXNldCgpfSk7ZnVuY3Rpb24gaigpe3RoaXMubmV4dD10aGlzLmI9dGhpcy5hPW51bGx9eC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSl7dmFyIG49TS5nZXQoKTtuLnNldCh0LGUpLHRoaXMuYj90aGlzLmIubmV4dD1uOnRoaXMuYT1uLHRoaXMuYj1ufSxqLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmE9dCx0aGlzLmI9ZSx0aGlzLm5leHQ9bnVsbH0sai5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLm5leHQ9dGhpcy5iPXRoaXMuYT1udWxsfTt2YXIgVT1BcnJheS5wcm90b3R5cGUuaW5kZXhPZj9mdW5jdGlvbih0LGUpe3JldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQsZSx2b2lkIDApfTpmdW5jdGlvbih0LGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlfHwxIT1lLmxlbmd0aD8tMTp0LmluZGV4T2YoZSwwKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZihuIGluIHQmJnRbbl09PT1lKXJldHVybiBuO3JldHVybi0xfSxWPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKHQsZSxuKXtBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHQsZSxuKX06ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10Lmxlbmd0aCxyPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Quc3BsaXQoXCJcIik6dCxvPTA7bzxpO28rKylvIGluIHImJmUuY2FsbChuLHJbb10sbyx0KX07dmFyIEY9QXJyYXkucHJvdG90eXBlLmZpbHRlcj9mdW5jdGlvbih0LGUpe3JldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwodCxlLHZvaWQgMCl9OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLGk9dC5sZW5ndGgscj1bXSxvPTAsYT1cInN0cmluZ1wiPT10eXBlb2YgdD90LnNwbGl0KFwiXCIpOnQscz0wO3M8aTtzKyspcyBpbiBhJiYobj1hW3NdLGUuY2FsbCh2b2lkIDAsbixzLHQpJiYocltvKytdPW4pKTtyZXR1cm4gcn0scT1BcnJheS5wcm90b3R5cGUubWFwP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbCh0LGUsdm9pZCAwKX06ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5sZW5ndGgsaT1BcnJheShuKSxyPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Quc3BsaXQoXCJcIik6dCxvPTA7bzxuO28rKylvIGluIHImJihpW29dPWUuY2FsbCh2b2lkIDAscltvXSxvLHQpKTtyZXR1cm4gaX0sSD1BcnJheS5wcm90b3R5cGUuc29tZT9mdW5jdGlvbih0LGUpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKHQsZSx2b2lkIDApfTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aCxpPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Quc3BsaXQoXCJcIik6dCxyPTA7cjxuO3IrKylpZihyIGluIGkmJmUuY2FsbCh2b2lkIDAsaVtyXSxyLHQpKXJldHVybiEwO3JldHVybiExfTtmdW5jdGlvbiBLKHQsZSl7cmV0dXJuIDA8PVUodCxlKX1mdW5jdGlvbiBHKHQsZSl7dmFyIG47cmV0dXJuKG49MDw9KGU9VSh0LGUpKSkmJkFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbCh0LGUsMSksbn1mdW5jdGlvbiBCKG4saSl7IWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Quc3BsaXQoXCJcIik6dCxpPXQubGVuZ3RoLTE7MDw9aTstLWkpaSBpbiBuJiZlLmNhbGwodm9pZCAwLG5baV0saSx0KX0obixmdW5jdGlvbih0LGUpe2kuY2FsbCh2b2lkIDAsdCxlLG4pJiYxPT1BcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwobixlLDEpLmxlbmd0aCYmMH0pfWZ1bmN0aW9uIFcoKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSxhcmd1bWVudHMpfWZ1bmN0aW9uIFgodCl7dmFyIGU9dC5sZW5ndGg7aWYoMDxlKXtmb3IodmFyIG49QXJyYXkoZSksaT0wO2k8ZTtpKyspbltpXT10W2ldO3JldHVybiBufXJldHVybltdfXZhciBKLFk9U3RyaW5nLnByb3RvdHlwZS50cmltP2Z1bmN0aW9uKHQpe3JldHVybiB0LnRyaW0oKX06ZnVuY3Rpb24odCl7cmV0dXJuL15bXFxzXFx4YTBdKihbXFxzXFxTXSo/KVtcXHNcXHhhMF0qJC8uZXhlYyh0KVsxXX0sej0vJi9nLCQ9LzwvZyxaPS8+L2csUT0vXCIvZyx0dD0vJy9nLGV0PS9cXHgwMC9nLG50PS9bXFx4MDAmPD5cIiddLztmdW5jdGlvbiBpdCh0LGUpe3JldHVybi0xIT10LmluZGV4T2YoZSl9ZnVuY3Rpb24gcnQodCxlKXtyZXR1cm4gdDxlPy0xOmU8dD8xOjB9dDp7dmFyIG90PWwubmF2aWdhdG9yO2lmKG90KXtvdD1vdC51c2VyQWdlbnQ7aWYob3Qpe0o9b3Q7YnJlYWsgdH19Sj1cIlwifWZ1bmN0aW9uIGF0KHQpe3JldHVybiBpdChKLHQpfWZ1bmN0aW9uIHN0KHQsZSl7Zm9yKHZhciBuIGluIHQpZS5jYWxsKHZvaWQgMCx0W25dLG4sdCl9ZnVuY3Rpb24gdXQodCl7Zm9yKHZhciBlIGluIHQpcmV0dXJuO3JldHVybiAxfWZ1bmN0aW9uIGN0KHQpe3ZhciBlLG49e307Zm9yKGUgaW4gdCluW2VdPXRbZV07cmV0dXJuIG59dmFyIGh0PVwiY29uc3RydWN0b3IgaGFzT3duUHJvcGVydHkgaXNQcm90b3R5cGVPZiBwcm9wZXJ0eUlzRW51bWVyYWJsZSB0b0xvY2FsZVN0cmluZyB0b1N0cmluZyB2YWx1ZU9mXCIuc3BsaXQoXCIgXCIpO2Z1bmN0aW9uIGx0KHQpe2Zvcih2YXIgZSxuLGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXtmb3IoZSBpbiBuPWFyZ3VtZW50c1tpXSl0W2VdPW5bZV07Zm9yKHZhciByPTA7cjxodC5sZW5ndGg7cisrKWU9aHRbcl0sT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sZSkmJih0W2VdPW5bZV0pfX1mdW5jdGlvbiBmdCh0LGUpe3Q6e3RyeXt2YXIgbj10JiZ0Lm93bmVyRG9jdW1lbnQsbj1uJiYobi5kZWZhdWx0Vmlld3x8bi5wYXJlbnRXaW5kb3cpO2lmKChuPW58fGwpLkVsZW1lbnQmJm4uTG9jYXRpb24pe3ZhciBpPW47YnJlYWsgdH19Y2F0Y2godCl7fWk9bnVsbH1pZihpJiZ2b2lkIDAhPT1pW2VdJiYoIXR8fCEodCBpbnN0YW5jZW9mIGlbZV0pJiYodCBpbnN0YW5jZW9mIGkuTG9jYXRpb258fHQgaW5zdGFuY2VvZiBpLkVsZW1lbnQpKSl7aWYobSh0KSl0cnl7dmFyIHI9dC5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZXx8dC5jb25zdHJ1Y3Rvci5uYW1lfHxPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9Y2F0Y2godCl7cj1cIjxvYmplY3QgY291bGQgbm90IGJlIHN0cmluZ2lmaWVkPlwifWVsc2Ugcj12b2lkIDA9PT10P1widW5kZWZpbmVkXCI6bnVsbD09PXQ/XCJudWxsXCI6dHlwZW9mIHQ7RChcIkFyZ3VtZW50IGlzIG5vdCBhICVzIChvciBhIG5vbi1FbGVtZW50LCBub24tTG9jYXRpb24gbW9jayk7IGdvdDogJXNcIixlLHIpfX1mdW5jdGlvbiBkdCh0LGUpe3RoaXMuYT10PT09Z3QmJmV8fFwiXCIsdGhpcy5iPW10fWZ1bmN0aW9uIHB0KHQpe3JldHVybiB0IGluc3RhbmNlb2YgZHQmJnQuY29uc3RydWN0b3I9PT1kdCYmdC5iPT09bXQ/dC5hOihEKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgQ29uc3QsIGdvdCAnXCIrdCtcIidcIiksXCJ0eXBlX2Vycm9yOkNvbnN0XCIpfWR0LnByb3RvdHlwZS5zYT0hMCxkdC5wcm90b3R5cGUucmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfSxkdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkNvbnN0e1wiK3RoaXMuYStcIn1cIn07dmFyIHZ0LG10PXt9LGd0PXt9O2Z1bmN0aW9uIGJ0KCl7aWYodm9pZCAwPT09dnQpe3ZhciB0PW51bGwsZT1sLnRydXN0ZWRUeXBlcztpZihlJiZlLmNyZWF0ZVBvbGljeSl7dHJ5e3Q9ZS5jcmVhdGVQb2xpY3koXCJnb29nI2h0bWxcIix7Y3JlYXRlSFRNTDpJLGNyZWF0ZVNjcmlwdDpJLGNyZWF0ZVNjcmlwdFVSTDpJfSl9Y2F0Y2godCl7bC5jb25zb2xlJiZsLmNvbnNvbGUuZXJyb3IodC5tZXNzYWdlKX12dD10fWVsc2UgdnQ9dH1yZXR1cm4gdnR9ZnVuY3Rpb24geXQodCxlKXt0aGlzLmE9ZT09PUF0P3Q6XCJcIn1mdW5jdGlvbiB3dCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHl0JiZ0LmNvbnN0cnVjdG9yPT09eXQ/dC5hOihEKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgVHJ1c3RlZFJlc291cmNlVXJsLCBnb3QgJ1wiK3QrXCInIG9mIHR5cGUgXCIrZCh0KSksXCJ0eXBlX2Vycm9yOlRydXN0ZWRSZXNvdXJjZVVybFwiKX1mdW5jdGlvbiBJdCh0LG4pe3ZhciBlLGk9cHQodCk7aWYoIUV0LnRlc3QoaSkpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIFRydXN0ZWRSZXNvdXJjZVVybCBmb3JtYXQ6IFwiK2kpO3JldHVybiB0PWkucmVwbGFjZShUdCxmdW5jdGlvbih0LGUpe2lmKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixlKSl0aHJvdyBFcnJvcignRm91bmQgbWFya2VyLCBcIicrZSsnXCIsIGluIGZvcm1hdCBzdHJpbmcsIFwiJytpKydcIiwgYnV0IG5vIHZhbGlkIGxhYmVsIG1hcHBpbmcgZm91bmQgaW4gYXJnczogJytKU09OLnN0cmluZ2lmeShuKSk7cmV0dXJuKHQ9bltlXSlpbnN0YW5jZW9mIGR0P3B0KHQpOmVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcodCkpfSksZT10LHQ9YnQoKSxuZXcgeXQoZT10P3QuY3JlYXRlU2NyaXB0VVJMKGUpOmUsQXQpfXl0LnByb3RvdHlwZS5zYT0hMCx5dC5wcm90b3R5cGUucmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLnRvU3RyaW5nKCl9LHl0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiVHJ1c3RlZFJlc291cmNlVXJse1wiK3RoaXMuYStcIn1cIn07dmFyIFR0PS8leyhcXHcrKX0vZyxFdD0vXigoaHR0cHM6KT9cXC9cXC9bMC05YS16LjpbXFxdLV0rXFwvfFxcL1teL1xcXFxdfFteOi9cXFxcJV0rXFwvfFteOi9cXFxcJV0qWz8jXXxhYm91dDpibGFuayMpL2ksQXQ9e307ZnVuY3Rpb24ga3QodCxlKXt0aGlzLmE9ZT09PUR0P3Q6XCJcIn1mdW5jdGlvbiBTdCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGt0JiZ0LmNvbnN0cnVjdG9yPT09a3Q/dC5hOihEKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgU2FmZVVybCwgZ290ICdcIit0K1wiJyBvZiB0eXBlIFwiK2QodCkpLFwidHlwZV9lcnJvcjpTYWZlVXJsXCIpfWt0LnByb3RvdHlwZS5zYT0hMCxrdC5wcm90b3R5cGUucmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLnRvU3RyaW5nKCl9LGt0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiU2FmZVVybHtcIit0aGlzLmErXCJ9XCJ9O3ZhciBOdD0vXig/OmF1ZGlvXFwvKD86M2dwcDJ8M2dwcHxhYWN8TDE2fG1pZGl8bXAzfG1wNHxtcGVnfG9nYXxvZ2d8b3B1c3x4LW00YXx4LW1hdHJvc2thfHgtd2F2fHdhdnx3ZWJtKXxmb250XFwvXFx3K3xpbWFnZVxcLyg/OmJtcHxnaWZ8anBlZ3xqcGd8cG5nfHRpZmZ8d2VicHx4LWljb24pfHRleHRcXC9jc3Z8dmlkZW9cXC8oPzptcGVnfG1wNHxvZ2d8d2VibXxxdWlja3RpbWV8eC1tYXRyb3NrYSkpKD86O1xcdys9KD86XFx3K3xcIltcXHc7LD0gXStcIikpKiQvaSxfdD0vXmRhdGE6KC4qKTtiYXNlNjQsW2EtejAtOStcXC9dKz0qJC9pLE90PS9eKD86KD86aHR0cHM/fG1haWx0b3xmdHApOnxbXjovPyNdKig/OlsvPyNdfCQpKS9pO2Z1bmN0aW9uIEN0KHQpe3JldHVybiB0IGluc3RhbmNlb2Yga3Q/dDoodD1cIm9iamVjdFwiPT10eXBlb2YgdCYmdC5zYT90LnJhKCk6U3RyaW5nKHQpLHQ9T3QudGVzdCh0KXx8KGU9KHQ9KHQ9U3RyaW5nKHQpKS5yZXBsYWNlKC8oJTBBfCUwRCkvZyxcIlwiKSkubWF0Y2goX3QpKSYmTnQudGVzdChlWzFdKT9uZXcga3QodCxEdCk6bnVsbCk7dmFyIGV9ZnVuY3Rpb24gUnQodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBrdD90Oih0PVwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0LnNhP3QucmEoKTpTdHJpbmcodCksbmV3IGt0KHQ9IU90LnRlc3QodCk/XCJhYm91dDppbnZhbGlkI3pDbG9zdXJlelwiOnQsRHQpKX12YXIgRHQ9e30sUHQ9bmV3IGt0KFwiYWJvdXQ6aW52YWxpZCN6Q2xvc3VyZXpcIixEdCk7ZnVuY3Rpb24gTHQodCxlLG4pe3RoaXMuYT1uPT09eHQ/dDpcIlwifUx0LnByb3RvdHlwZS5zYT0hMCxMdC5wcm90b3R5cGUucmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLnRvU3RyaW5nKCl9LEx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiU2FmZUh0bWx7XCIrdGhpcy5hK1wifVwifTt2YXIgeHQ9e307ZnVuY3Rpb24gTXQodCxlLG4saSl7cmV0dXJuIHQ9dCBpbnN0YW5jZW9mIGt0P3Q6UnQodCksZT1lfHxsLG49biBpbnN0YW5jZW9mIGR0P3B0KG4pOm58fFwiXCIsZS5vcGVuKFN0KHQpLG4saSx2b2lkIDApfWZ1bmN0aW9uIGp0KHQpe2Zvcih2YXIgZT10LnNwbGl0KFwiJXNcIiksbj1cIlwiLGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2kubGVuZ3RoJiYxPGUubGVuZ3RoOyluKz1lLnNoaWZ0KCkraS5zaGlmdCgpO3JldHVybiBuK2Uuam9pbihcIiVzXCIpfWZ1bmN0aW9uIFV0KHQpe3JldHVybiBudC50ZXN0KHQpJiYoLTEhPSh0PS0xIT0odD0tMSE9KHQ9LTEhPSh0PS0xIT0odD0tMSE9dC5pbmRleE9mKFwiJlwiKT90LnJlcGxhY2UoeixcIiZhbXA7XCIpOnQpLmluZGV4T2YoXCI8XCIpP3QucmVwbGFjZSgkLFwiJmx0O1wiKTp0KS5pbmRleE9mKFwiPlwiKT90LnJlcGxhY2UoWixcIiZndDtcIik6dCkuaW5kZXhPZignXCInKT90LnJlcGxhY2UoUSxcIiZxdW90O1wiKTp0KS5pbmRleE9mKFwiJ1wiKT90LnJlcGxhY2UodHQsXCImIzM5O1wiKTp0KS5pbmRleE9mKFwiXFwwXCIpJiYodD10LnJlcGxhY2UoZXQsXCImIzA7XCIpKSksdH1mdW5jdGlvbiBWdCh0KXtyZXR1cm4gVnRbXCIgXCJdKHQpLHR9VnRbXCIgXCJdPWE7dmFyIEZ0LHF0PWF0KFwiT3BlcmFcIiksSHQ9YXQoXCJUcmlkZW50XCIpfHxhdChcIk1TSUVcIiksS3Q9YXQoXCJFZGdlXCIpLEd0PUt0fHxIdCxCdD1hdChcIkdlY2tvXCIpJiYhKGl0KEoudG9Mb3dlckNhc2UoKSxcIndlYmtpdFwiKSYmIWF0KFwiRWRnZVwiKSkmJiEoYXQoXCJUcmlkZW50XCIpfHxhdChcIk1TSUVcIikpJiYhYXQoXCJFZGdlXCIpLFd0PWl0KEoudG9Mb3dlckNhc2UoKSxcIndlYmtpdFwiKSYmIWF0KFwiRWRnZVwiKTtmdW5jdGlvbiBYdCgpe3ZhciB0PWwuZG9jdW1lbnQ7cmV0dXJuIHQ/dC5kb2N1bWVudE1vZGU6dm9pZCAwfXQ6e3ZhciBKdD1cIlwiLFl0PShZdD1KLEJ0Py9ydjooW15cXCk7XSspKFxcKXw7KS8uZXhlYyhZdCk6S3Q/L0VkZ2VcXC8oW1xcZFxcLl0rKS8uZXhlYyhZdCk6SHQ/L1xcYig/Ok1TSUV8cnYpWzogXShbXlxcKTtdKykoXFwpfDspLy5leGVjKFl0KTpXdD8vV2ViS2l0XFwvKFxcUyspLy5leGVjKFl0KTpxdD8vKD86VmVyc2lvbilbIFxcL10/KFxcUyspLy5leGVjKFl0KTp2b2lkIDApO2lmKFl0JiYoSnQ9WXQ/WXRbMV06XCJcIiksSHQpe1l0PVh0KCk7aWYobnVsbCE9WXQmJll0PnBhcnNlRmxvYXQoSnQpKXtGdD1TdHJpbmcoWXQpO2JyZWFrIHR9fUZ0PUp0fXZhciB6dD17fTtmdW5jdGlvbiAkdChzKXtyZXR1cm4gdD1zLGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPVkoU3RyaW5nKEZ0KSkuc3BsaXQoXCIuXCIpLG49WShTdHJpbmcocykpLnNwbGl0KFwiLlwiKSxpPU1hdGgubWF4KGUubGVuZ3RoLG4ubGVuZ3RoKSxyPTA7MD09dCYmcjxpO3IrKylmb3IodmFyIG89ZVtyXXx8XCJcIixhPW5bcl18fFwiXCI7bz0vKFxcZCopKFxcRCopKC4qKS8uZXhlYyhvKXx8W1wiXCIsXCJcIixcIlwiLFwiXCJdLGE9LyhcXGQqKShcXEQqKSguKikvLmV4ZWMoYSl8fFtcIlwiLFwiXCIsXCJcIixcIlwiXSwoMCE9b1swXS5sZW5ndGh8fDAhPWFbMF0ubGVuZ3RoKSYmKHQ9cnQoMD09b1sxXS5sZW5ndGg/MDpwYXJzZUludChvWzFdLDEwKSwwPT1hWzFdLmxlbmd0aD8wOnBhcnNlSW50KGFbMV0sMTApKXx8cnQoMD09b1syXS5sZW5ndGgsMD09YVsyXS5sZW5ndGgpfHxydChvWzJdLGFbMl0pLG89b1szXSxhPWFbM10sMD09dCk7KTtyZXR1cm4gMDw9dH0sbj16dCxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobix0KT9uW3RdOm5bdF09ZSh0KTt2YXIgdCxlLG59dmFyIFp0PWwuZG9jdW1lbnQmJkh0JiYoWHQoKXx8cGFyc2VJbnQoRnQsMTApKXx8dm9pZCAwO3RyeXtuZXcgc2VsZi5PZmZzY3JlZW5DYW52YXMoMCwwKS5nZXRDb250ZXh0KFwiMmRcIil9Y2F0Y2godCl7fXZhciBRdD0hSHR8fDk8PU51bWJlcihadCk7ZnVuY3Rpb24gdGUodCl7dmFyIGU9ZG9jdW1lbnQ7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/ZS5nZXRFbGVtZW50QnlJZCh0KTp0fWZ1bmN0aW9uIGVlKG4sdCl7c3QodCxmdW5jdGlvbih0LGUpe3QmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0LnNhJiYodD10LnJhKCkpLFwic3R5bGVcIj09ZT9uLnN0eWxlLmNzc1RleHQ9dDpcImNsYXNzXCI9PWU/bi5jbGFzc05hbWU9dDpcImZvclwiPT1lP24uaHRtbEZvcj10OnJlLmhhc093blByb3BlcnR5KGUpP24uc2V0QXR0cmlidXRlKHJlW2VdLHQpOjA9PWUubGFzdEluZGV4T2YoXCJhcmlhLVwiLDApfHwwPT1lLmxhc3RJbmRleE9mKFwiZGF0YS1cIiwwKT9uLnNldEF0dHJpYnV0ZShlLHQpOm5bZV09dH0pfXZhciBuZSxpZSxyZT17Y2VsbHBhZGRpbmc6XCJjZWxsUGFkZGluZ1wiLGNlbGxzcGFjaW5nOlwiY2VsbFNwYWNpbmdcIixjb2xzcGFuOlwiY29sU3BhblwiLGZyYW1lYm9yZGVyOlwiZnJhbWVCb3JkZXJcIixoZWlnaHQ6XCJoZWlnaHRcIixtYXhsZW5ndGg6XCJtYXhMZW5ndGhcIixub25jZTpcIm5vbmNlXCIscm9sZTpcInJvbGVcIixyb3dzcGFuOlwicm93U3BhblwiLHR5cGU6XCJ0eXBlXCIsdXNlbWFwOlwidXNlTWFwXCIsdmFsaWduOlwidkFsaWduXCIsd2lkdGg6XCJ3aWR0aFwifTtmdW5jdGlvbiBvZSgpe3ZhciB0LGU9YXJndW1lbnRzLG49ZG9jdW1lbnQsaT1TdHJpbmcoZVswXSkscj1lWzFdO3JldHVybiFRdCYmciYmKHIubmFtZXx8ci50eXBlKSYmKGk9W1wiPFwiLGldLHIubmFtZSYmaS5wdXNoKCcgbmFtZT1cIicsVXQoci5uYW1lKSwnXCInKSxyLnR5cGUmJihpLnB1c2goJyB0eXBlPVwiJyxVdChyLnR5cGUpLCdcIicpLGx0KHQ9e30sciksZGVsZXRlIHQudHlwZSxyPXQpLGkucHVzaChcIj5cIiksaT1pLmpvaW4oXCJcIikpLGk9YWUobixpKSxyJiYoXCJzdHJpbmdcIj09dHlwZW9mIHI/aS5jbGFzc05hbWU9cjpBcnJheS5pc0FycmF5KHIpP2kuY2xhc3NOYW1lPXIuam9pbihcIiBcIik6ZWUoaSxyKSksMjxlLmxlbmd0aCYmZnVuY3Rpb24oZSxuLHQpe2Z1bmN0aW9uIGkodCl7dCYmbi5hcHBlbmRDaGlsZChcInN0cmluZ1wiPT10eXBlb2YgdD9lLmNyZWF0ZVRleHROb2RlKHQpOnQpfWZvcih2YXIgcj0yO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO2lmKCFwKG8pfHxtKG8pJiYwPG8ubm9kZVR5cGUpaShvKTtlbHNle3Q6e2lmKG8mJlwibnVtYmVyXCI9PXR5cGVvZiBvLmxlbmd0aCl7aWYobShvKSl7dmFyIGE9XCJmdW5jdGlvblwiPT10eXBlb2Ygby5pdGVtfHxcInN0cmluZ1wiPT10eXBlb2Ygby5pdGVtO2JyZWFrIHR9aWYodihvKSl7YT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBvLml0ZW07YnJlYWsgdH19YT0hMX1WKGE/WChvKTpvLGkpfX19KG4saSxlKSxpfWZ1bmN0aW9uIGFlKHQsZSl7cmV0dXJuIGU9U3RyaW5nKGUpLFwiYXBwbGljYXRpb24veGh0bWwreG1sXCI9PT10LmNvbnRlbnRUeXBlJiYoZT1lLnRvTG93ZXJDYXNlKCkpLHQuY3JlYXRlRWxlbWVudChlKX1mdW5jdGlvbiBzZSh0KXtsLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyB0fSwwKX1mdW5jdGlvbiB1ZSh0LGUpe2llfHxmdW5jdGlvbigpe3t2YXIgdDtpZT1sLlByb21pc2UmJmwuUHJvbWlzZS5yZXNvbHZlPyh0PWwuUHJvbWlzZS5yZXNvbHZlKHZvaWQgMCksZnVuY3Rpb24oKXt0LnRoZW4obGUpfSk6ZnVuY3Rpb24oKXt2YXIgdD1sZTshdihsLnNldEltbWVkaWF0ZSl8fGwuV2luZG93JiZsLldpbmRvdy5wcm90b3R5cGUmJiFhdChcIkVkZ2VcIikmJmwuV2luZG93LnByb3RvdHlwZS5zZXRJbW1lZGlhdGU9PWwuc2V0SW1tZWRpYXRlPyhuZT1uZXx8ZnVuY3Rpb24oKXt2YXIgdD1sLk1lc3NhZ2VDaGFubmVsO2lmKHZvaWQgMD09PSh0PXZvaWQgMD09PXQmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5wb3N0TWVzc2FnZSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXImJiFhdChcIlByZXN0b1wiKT9mdW5jdGlvbigpe3ZhciB0PWFlKGRvY3VtZW50LFwiSUZSQU1FXCIpO3Quc3R5bGUuZGlzcGxheT1cIm5vbmVcIixkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodCk7dmFyIGU9dC5jb250ZW50V2luZG93Oyh0PWUuZG9jdW1lbnQpLm9wZW4oKSx0LmNsb3NlKCk7dmFyIG49XCJjYWxsSW1tZWRpYXRlXCIrTWF0aC5yYW5kb20oKSxpPVwiZmlsZTpcIj09ZS5sb2NhdGlvbi5wcm90b2NvbD9cIipcIjplLmxvY2F0aW9uLnByb3RvY29sK1wiLy9cIitlLmxvY2F0aW9uLmhvc3Q7dD1iKGZ1bmN0aW9uKHQpe1wiKlwiIT1pJiZ0Lm9yaWdpbiE9aXx8dC5kYXRhIT1ufHx0aGlzLnBvcnQxLm9ubWVzc2FnZSgpfSx0aGlzKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdCwhMSksdGhpcy5wb3J0MT17fSx0aGlzLnBvcnQyPXtwb3N0TWVzc2FnZTpmdW5jdGlvbigpe2UucG9zdE1lc3NhZ2UobixpKX19fTp0KXx8YXQoXCJUcmlkZW50XCIpfHxhdChcIk1TSUVcIikpcmV0dXJuIGZ1bmN0aW9uKHQpe2wuc2V0VGltZW91dCh0LDApfTt2YXIgZT1uZXcgdCxuPXt9LGk9bjtyZXR1cm4gZS5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXt2YXIgdDt2b2lkIDAhPT1uLm5leHQmJih0PShuPW4ubmV4dCkuR2Isbi5HYj1udWxsLHQoKSl9LGZ1bmN0aW9uKHQpe2kubmV4dD17R2I6dH0saT1pLm5leHQsZS5wb3J0Mi5wb3N0TWVzc2FnZSgwKX19KCkpKHQpOmwuc2V0SW1tZWRpYXRlKHQpfX19KCksY2V8fChpZSgpLGNlPSEwKSxoZS5hZGQodCxlKX12YXIgY2U9ITEsaGU9bmV3IHg7ZnVuY3Rpb24gbGUoKXtmb3IodmFyIHQsZSxuO249ZT12b2lkIDAsbj1udWxsLChlPWhlKS5hJiYobj1lLmEsZS5hPWUuYS5uZXh0LGUuYXx8KGUuYj1udWxsKSxuLm5leHQ9bnVsbCksdD1uOyl7dHJ5e3QuYS5jYWxsKHQuYil9Y2F0Y2godCl7c2UodCl9TChNLHQpfWNlPSExfWZ1bmN0aW9uIGZlKHQsZSl7aWYodGhpcy5hPWRlLHRoaXMuaT12b2lkIDAsdGhpcy5mPXRoaXMuYj10aGlzLmM9bnVsbCx0aGlzLmc9dGhpcy5oPSExLHQhPWEpdHJ5e3ZhciBuPXRoaXM7dC5jYWxsKGUsZnVuY3Rpb24odCl7a2UobixwZSx0KX0sZnVuY3Rpb24odCl7aWYoISh0IGluc3RhbmNlb2YgRGUpKXRyeXtpZih0IGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgdDt0aHJvdyBFcnJvcihcIlByb21pc2UgcmVqZWN0ZWQuXCIpfWNhdGNoKHQpe31rZShuLHZlLHQpfSl9Y2F0Y2godCl7a2UodGhpcyx2ZSx0KX19dmFyIGRlPTAscGU9Mix2ZT0zO2Z1bmN0aW9uIG1lKCl7dGhpcy5uZXh0PXRoaXMuZj10aGlzLmI9dGhpcy5nPXRoaXMuYT1udWxsLHRoaXMuYz0hMX1tZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmY9dGhpcy5iPXRoaXMuZz10aGlzLmE9bnVsbCx0aGlzLmM9ITF9O3ZhciBnZT1uZXcgUChmdW5jdGlvbigpe3JldHVybiBuZXcgbWV9LGZ1bmN0aW9uKHQpe3QucmVzZXQoKX0pO2Z1bmN0aW9uIGJlKHQsZSxuKXt2YXIgaT1nZS5nZXQoKTtyZXR1cm4gaS5nPXQsaS5iPWUsaS5mPW4saX1mdW5jdGlvbiB5ZSh0KXtpZih0IGluc3RhbmNlb2YgZmUpcmV0dXJuIHQ7dmFyIGU9bmV3IGZlKGEpO3JldHVybiBrZShlLHBlLHQpLGV9ZnVuY3Rpb24gd2Uobil7cmV0dXJuIG5ldyBmZShmdW5jdGlvbih0LGUpe2Uobil9KX1mdW5jdGlvbiBJZSh0LGUsbil7U2UodCxlLG4sbnVsbCl8fHVlKHkoZSx0KSl9ZnVuY3Rpb24gVGUobil7cmV0dXJuIG5ldyBmZShmdW5jdGlvbihpKXt2YXIgcj1uLmxlbmd0aCxvPVtdO2lmKHIpZm9yKHZhciB0PWZ1bmN0aW9uKHQsZSxuKXtyLS0sb1t0XT1lP3tQYjohMCx2YWx1ZTpufTp7UGI6ITEscmVhc29uOm59LDA9PXImJmkobyl9LGU9MDtlPG4ubGVuZ3RoO2UrKylJZShuW2VdLHkodCxlLCEwKSx5KHQsZSwhMSkpO2Vsc2UgaShvKX0pfWZ1bmN0aW9uIEVlKHQsZSl7dC5ifHx0LmEhPXBlJiZ0LmEhPXZlfHxOZSh0KSx0LmY/dC5mLm5leHQ9ZTp0LmI9ZSx0LmY9ZX1mdW5jdGlvbiBBZSh0LHIsbyxhKXt2YXIgZT1iZShudWxsLG51bGwsbnVsbCk7cmV0dXJuIGUuYT1uZXcgZmUoZnVuY3Rpb24obixpKXtlLmc9cj9mdW5jdGlvbih0KXt0cnl7dmFyIGU9ci5jYWxsKGEsdCk7bihlKX1jYXRjaCh0KXtpKHQpfX06bixlLmI9bz9mdW5jdGlvbih0KXt0cnl7dmFyIGU9by5jYWxsKGEsdCk7dm9pZCAwPT09ZSYmdCBpbnN0YW5jZW9mIERlP2kodCk6bihlKX1jYXRjaCh0KXtpKHQpfX06aX0pLEVlKGUuYS5jPXQsZSksZS5hfWZ1bmN0aW9uIGtlKHQsZSxuKXt2YXIgaSxyO3QuYT09ZGUmJih0PT09biYmKGU9dmUsbj1uZXcgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW5ub3QgcmVzb2x2ZSB0byBpdHNlbGZcIikpLHQuYT0xLFNlKG4sdC4kYyx0LmFkLHQpfHwodC5pPW4sdC5hPWUsdC5jPW51bGwsTmUodCksZSE9dmV8fG4gaW5zdGFuY2VvZiBEZXx8KHI9biwoaT10KS5nPSEwLHVlKGZ1bmN0aW9uKCl7aS5nJiZSZS5jYWxsKG51bGwscil9KSkpKX1mdW5jdGlvbiBTZSh0LGUsbixpKXtpZih0IGluc3RhbmNlb2YgZmUpcmV0dXJuIEVlKHQsYmUoZXx8YSxufHxudWxsLGkpKSwxO2lmKE8odCkpcmV0dXJuIHQudGhlbihlLG4saSksMTtpZihtKHQpKXRyeXt2YXIgcj10LnRoZW47aWYodihyKSlyZXR1cm4gZnVuY3Rpb24odCxlLG4saSxyKXtmdW5jdGlvbiBvKHQpe2F8fChhPSEwLGkuY2FsbChyLHQpKX12YXIgYT0hMTt0cnl7ZS5jYWxsKHQsZnVuY3Rpb24odCl7YXx8KGE9ITAsbi5jYWxsKHIsdCkpfSxvKX1jYXRjaCh0KXtvKHQpfX0odCxyLGUsbixpKSwxfWNhdGNoKHQpe3JldHVybiBuLmNhbGwoaSx0KSwxfX1mdW5jdGlvbiBOZSh0KXt0Lmh8fCh0Lmg9ITAsdWUodC5nYyx0KSl9ZnVuY3Rpb24gX2UodCl7dmFyIGU9bnVsbDtyZXR1cm4gdC5iJiYoZT10LmIsdC5iPWUubmV4dCxlLm5leHQ9bnVsbCksdC5ifHwodC5mPW51bGwpLGV9ZnVuY3Rpb24gT2UodCxlLG4saSl7aWYobj09dmUmJmUuYiYmIWUuYylmb3IoO3QmJnQuZzt0PXQuYyl0Lmc9ITE7aWYoZS5hKWUuYS5jPW51bGwsQ2UoZSxuLGkpO2Vsc2UgdHJ5e2UuYz9lLmcuY2FsbChlLmYpOkNlKGUsbixpKX1jYXRjaCh0KXtSZS5jYWxsKG51bGwsdCl9TChnZSxlKX1mdW5jdGlvbiBDZSh0LGUsbil7ZT09cGU/dC5nLmNhbGwodC5mLG4pOnQuYiYmdC5iLmNhbGwodC5mLG4pfWZlLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gQWUodGhpcyx2KHQpP3Q6bnVsbCx2KGUpP2U6bnVsbCxuKX0sZmUucHJvdG90eXBlLiRnb29nX1RoZW5hYmxlPSEwLCh0PWZlLnByb3RvdHlwZSkub2E9ZnVuY3Rpb24odCxlKXtyZXR1cm4odD1iZSh0LHQsZSkpLmM9ITAsRWUodGhpcyx0KSx0aGlzfSx0Lm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gQWUodGhpcyxudWxsLHQsZSl9LHQuY2FuY2VsPWZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMuYT09ZGUmJihlPW5ldyBEZSh0KSx1ZShmdW5jdGlvbigpeyFmdW5jdGlvbiB0KGUsbil7aWYoZS5hPT1kZSlpZihlLmMpe3ZhciBpPWUuYztpZihpLmIpe2Zvcih2YXIgcj0wLG89bnVsbCxhPW51bGwscz1pLmI7cyYmKHMuY3x8KHIrKywhKChvPXMuYT09ZT9zOm8pJiYxPHIpKSk7cz1zLm5leHQpb3x8KGE9cyk7byYmKGkuYT09ZGUmJjE9PXI/dChpLG4pOihhPygocj1hKS5uZXh0PT1pLmYmJihpLmY9ciksci5uZXh0PXIubmV4dC5uZXh0KTpfZShpKSxPZShpLG8sdmUsbikpKX1lLmM9bnVsbH1lbHNlIGtlKGUsdmUsbil9KHRoaXMsZSl9LHRoaXMpKX0sdC4kYz1mdW5jdGlvbih0KXt0aGlzLmE9ZGUsa2UodGhpcyxwZSx0KX0sdC5hZD1mdW5jdGlvbih0KXt0aGlzLmE9ZGUsa2UodGhpcyx2ZSx0KX0sdC5nYz1mdW5jdGlvbigpe2Zvcih2YXIgdDt0PV9lKHRoaXMpOylPZSh0aGlzLHQsdGhpcy5hLHRoaXMuaSk7dGhpcy5oPSExfTt2YXIgUmU9c2U7ZnVuY3Rpb24gRGUodCl7Qy5jYWxsKHRoaXMsdCl9ZnVuY3Rpb24gUGUoKXt0aGlzLnhhPXRoaXMueGEsdGhpcy5wYT10aGlzLnBhfXcoRGUsQyk7dmFyIExlPTA7ZnVuY3Rpb24geGUodCl7dC54YXx8KHQueGE9ITAsdC5EYSgpLDA9PUxlKXx8KHQ9dCxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmdFtuXXx8KHRbbl09KytpKSl9UGUucHJvdG90eXBlLnhhPSEoRGUucHJvdG90eXBlLm5hbWU9XCJjYW5jZWxcIiksUGUucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7aWYodGhpcy5wYSlmb3IoO3RoaXMucGEubGVuZ3RoOyl0aGlzLnBhLnNoaWZ0KCkoKX07dmFyIE1lPU9iamVjdC5mcmVlemV8fGZ1bmN0aW9uKHQpe3JldHVybiB0fSxqZT0hSHR8fDk8PU51bWJlcihadCksVWU9SHQmJiEkdChcIjlcIiksVmU9ZnVuY3Rpb24oKXtpZighbC5hZGRFdmVudExpc3RlbmVyfHwhT2JqZWN0LmRlZmluZVByb3BlcnR5KXJldHVybiExO3ZhciB0PSExLGU9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwicGFzc2l2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXt0PSEwfX0pO3RyeXtsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsYSxlKSxsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsYSxlKX1jYXRjaCh0KXt9cmV0dXJuIHR9KCk7ZnVuY3Rpb24gRmUodCxlKXt0aGlzLnR5cGU9dCx0aGlzLmI9dGhpcy50YXJnZXQ9ZSx0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITF9ZnVuY3Rpb24gcWUodCxlKXtpZihGZS5jYWxsKHRoaXMsdD90LnR5cGU6XCJcIiksdGhpcy5yZWxhdGVkVGFyZ2V0PXRoaXMuYj10aGlzLnRhcmdldD1udWxsLHRoaXMuYnV0dG9uPXRoaXMuc2NyZWVuWT10aGlzLnNjcmVlblg9dGhpcy5jbGllbnRZPXRoaXMuY2xpZW50WD0wLHRoaXMua2V5PVwiXCIsdGhpcy5tZXRhS2V5PXRoaXMuc2hpZnRLZXk9dGhpcy5hbHRLZXk9dGhpcy5jdHJsS2V5PSExLHRoaXMucG9pbnRlcklkPTAsdGhpcy5wb2ludGVyVHlwZT1cIlwiLHRoaXMuYT1udWxsLHQpe3ZhciBuPXRoaXMudHlwZT10LnR5cGUsaT10LmNoYW5nZWRUb3VjaGVzJiZ0LmNoYW5nZWRUb3VjaGVzLmxlbmd0aD90LmNoYW5nZWRUb3VjaGVzWzBdOm51bGw7aWYodGhpcy50YXJnZXQ9dC50YXJnZXR8fHQuc3JjRWxlbWVudCx0aGlzLmI9ZSxlPXQucmVsYXRlZFRhcmdldCl7aWYoQnQpe3Q6e3RyeXtWdChlLm5vZGVOYW1lKTt2YXIgcj0hMDticmVhayB0fWNhdGNoKHQpe31yPSExfXJ8fChlPW51bGwpfX1lbHNlXCJtb3VzZW92ZXJcIj09bj9lPXQuZnJvbUVsZW1lbnQ6XCJtb3VzZW91dFwiPT1uJiYoZT10LnRvRWxlbWVudCk7dGhpcy5yZWxhdGVkVGFyZ2V0PWUsaT8odGhpcy5jbGllbnRYPXZvaWQgMCE9PWkuY2xpZW50WD9pLmNsaWVudFg6aS5wYWdlWCx0aGlzLmNsaWVudFk9dm9pZCAwIT09aS5jbGllbnRZP2kuY2xpZW50WTppLnBhZ2VZLHRoaXMuc2NyZWVuWD1pLnNjcmVlblh8fDAsdGhpcy5zY3JlZW5ZPWkuc2NyZWVuWXx8MCk6KHRoaXMuY2xpZW50WD12b2lkIDAhPT10LmNsaWVudFg/dC5jbGllbnRYOnQucGFnZVgsdGhpcy5jbGllbnRZPXZvaWQgMCE9PXQuY2xpZW50WT90LmNsaWVudFk6dC5wYWdlWSx0aGlzLnNjcmVlblg9dC5zY3JlZW5YfHwwLHRoaXMuc2NyZWVuWT10LnNjcmVlbll8fDApLHRoaXMuYnV0dG9uPXQuYnV0dG9uLHRoaXMua2V5PXQua2V5fHxcIlwiLHRoaXMuY3RybEtleT10LmN0cmxLZXksdGhpcy5hbHRLZXk9dC5hbHRLZXksdGhpcy5zaGlmdEtleT10LnNoaWZ0S2V5LHRoaXMubWV0YUtleT10Lm1ldGFLZXksdGhpcy5wb2ludGVySWQ9dC5wb2ludGVySWR8fDAsdGhpcy5wb2ludGVyVHlwZT1cInN0cmluZ1wiPT10eXBlb2YgdC5wb2ludGVyVHlwZT90LnBvaW50ZXJUeXBlOkhlW3QucG9pbnRlclR5cGVdfHxcIlwiLCh0aGlzLmE9dCkuZGVmYXVsdFByZXZlbnRlZCYmdGhpcy5wcmV2ZW50RGVmYXVsdCgpfX1GZS5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LHcocWUsRmUpO3ZhciBIZT1NZSh7MjpcInRvdWNoXCIsMzpcInBlblwiLDQ6XCJtb3VzZVwifSk7cWUucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7cWUuYWIucHJldmVudERlZmF1bHQuY2FsbCh0aGlzKTt2YXIgdD10aGlzLmE7aWYodC5wcmV2ZW50RGVmYXVsdCl0LnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZih0LnJldHVyblZhbHVlPSExLFVlKXRyeXsodC5jdHJsS2V5fHwxMTI8PXQua2V5Q29kZSYmdC5rZXlDb2RlPD0xMjMpJiYodC5rZXlDb2RlPS0xKX1jYXRjaCh0KXt9fSxxZS5wcm90b3R5cGUuZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O3ZhciBLZT1cImNsb3N1cmVfbGlzdGVuYWJsZV9cIisoMWU2Kk1hdGgucmFuZG9tKCl8MCksR2U9MDtmdW5jdGlvbiBCZSh0LGUsbixpLHIpe3RoaXMubGlzdGVuZXI9dCx0aGlzLnByb3h5PW51bGwsdGhpcy5zcmM9ZSx0aGlzLnR5cGU9bix0aGlzLmNhcHR1cmU9ISFpLHRoaXMuVmE9cix0aGlzLmtleT0rK0dlLHRoaXMudmE9dGhpcy5QYT0hMX1mdW5jdGlvbiBXZSh0KXt0LnZhPSEwLHQubGlzdGVuZXI9bnVsbCx0LnByb3h5PW51bGwsdC5zcmM9bnVsbCx0LlZhPW51bGx9ZnVuY3Rpb24gWGUodCl7dGhpcy5zcmM9dCx0aGlzLmE9e30sdGhpcy5iPTB9ZnVuY3Rpb24gSmUodCxlKXt2YXIgbj1lLnR5cGU7biBpbiB0LmEmJkcodC5hW25dLGUpJiYoV2UoZSksMD09dC5hW25dLmxlbmd0aCYmKGRlbGV0ZSB0LmFbbl0sdC5iLS0pKX1mdW5jdGlvbiBZZSh0LGUsbixpKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoOysrcil7dmFyIG89dFtyXTtpZighby52YSYmby5saXN0ZW5lcj09ZSYmby5jYXB0dXJlPT0hIW4mJm8uVmE9PWkpcmV0dXJuIHJ9cmV0dXJuLTF9WGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPXQudG9TdHJpbmcoKTsodD10aGlzLmFbb10pfHwodD10aGlzLmFbb109W10sdGhpcy5iKyspO3ZhciBhPVllKHQsZSxpLHIpO3JldHVybi0xPGE/KGU9dFthXSxufHwoZS5QYT0hMSkpOigoZT1uZXcgQmUoZSx0aGlzLnNyYyxvLCEhaSxyKSkuUGE9bix0LnB1c2goZSkpLGV9O3ZhciB6ZT1cImNsb3N1cmVfbG1fXCIrKDFlNipNYXRoLnJhbmRvbSgpfDApLCRlPXt9O2Z1bmN0aW9uIFplKHQsZSxuLGkscil7aWYoaSYmaS5vbmNlKXRuKHQsZSxuLGkscik7ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKVplKHQsZVtvXSxuLGkscik7ZWxzZSBuPWhuKG4pLHQmJnRbS2VdP2ZuKHQsZSxuLG0oaSk/ISFpLmNhcHR1cmU6ISFpLHIpOlFlKHQsZSxuLCExLGkscil9ZnVuY3Rpb24gUWUodCxlLG4saSxyLG8pe2lmKCFlKXRocm93IEVycm9yKFwiSW52YWxpZCBldmVudCB0eXBlXCIpO3ZhciBhLHMsdT1tKHIpPyEhci5jYXB0dXJlOiEhcixjPXVuKHQpO2lmKGN8fCh0W3plXT1jPW5ldyBYZSh0KSksIShuPWMuYWRkKGUsbixpLHUsbykpLnByb3h5KWlmKGE9c24saT1zPWplP2Z1bmN0aW9uKHQpe3JldHVybiBhLmNhbGwocy5zcmMscy5saXN0ZW5lcix0KX06ZnVuY3Rpb24odCl7aWYoISh0PWEuY2FsbChzLnNyYyxzLmxpc3RlbmVyLHQpKSlyZXR1cm4gdH0sKG4ucHJveHk9aSkuc3JjPXQsaS5saXN0ZW5lcj1uLHQuYWRkRXZlbnRMaXN0ZW5lcil2b2lkIDA9PT0ocj0hVmU/dTpyKSYmKHI9ITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihlLnRvU3RyaW5nKCksaSxyKTtlbHNlIGlmKHQuYXR0YWNoRXZlbnQpdC5hdHRhY2hFdmVudChybihlLnRvU3RyaW5nKCkpLGkpO2Vsc2V7aWYoIXQuYWRkTGlzdGVuZXJ8fCF0LnJlbW92ZUxpc3RlbmVyKXRocm93IEVycm9yKFwiYWRkRXZlbnRMaXN0ZW5lciBhbmQgYXR0YWNoRXZlbnQgYXJlIHVuYXZhaWxhYmxlLlwiKTt0LmFkZExpc3RlbmVyKGkpfX1mdW5jdGlvbiB0bih0LGUsbixpLHIpe2lmKEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspdG4odCxlW29dLG4saSxyKTtlbHNlIG49aG4obiksdCYmdFtLZV0/ZG4odCxlLG4sbShpKT8hIWkuY2FwdHVyZTohIWkscik6UWUodCxlLG4sITAsaSxyKX1mdW5jdGlvbiBlbih0LGUsbixpLHIpe2lmKEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspZW4odCxlW29dLG4saSxyKTtlbHNlIGk9bShpKT8hIWkuY2FwdHVyZTohIWksbj1obihuKSx0JiZ0W0tlXT8odD10LnYsKGU9U3RyaW5nKGUpLnRvU3RyaW5nKCkpaW4gdC5hJiYoLTE8KG49WWUobz10LmFbZV0sbixpLHIpKSYmKFdlKG9bbl0pLEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChvLG4sMSksMD09by5sZW5ndGgmJihkZWxldGUgdC5hW2VdLHQuYi0tKSkpKToodD10JiZ1bih0KSkmJihlPXQuYVtlLnRvU3RyaW5nKCldLChuPSh0PS0xKTwodD1lP1llKGUsbixpLHIpOnQpP2VbdF06bnVsbCkmJm5uKG4pKX1mdW5jdGlvbiBubih0KXt2YXIgZSxuLGk7XCJudW1iZXJcIiE9dHlwZW9mIHQmJnQmJiF0LnZhJiYoKGU9dC5zcmMpJiZlW0tlXT9KZShlLnYsdCk6KG49dC50eXBlLGk9dC5wcm94eSxlLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZS5yZW1vdmVFdmVudExpc3RlbmVyKG4saSx0LmNhcHR1cmUpOmUuZGV0YWNoRXZlbnQ/ZS5kZXRhY2hFdmVudChybihuKSxpKTplLmFkZExpc3RlbmVyJiZlLnJlbW92ZUxpc3RlbmVyJiZlLnJlbW92ZUxpc3RlbmVyKGkpLChuPXVuKGUpKT8oSmUobix0KSwwPT1uLmImJihuLnNyYz1udWxsLGVbemVdPW51bGwpKTpXZSh0KSkpfWZ1bmN0aW9uIHJuKHQpe3JldHVybiB0IGluICRlPyRlW3RdOiRlW3RdPVwib25cIit0fWZ1bmN0aW9uIG9uKHQsZSxuLGkpe3ZhciByPSEwO2lmKCh0PXVuKHQpKSYmKGU9dC5hW2UudG9TdHJpbmcoKV0pKWZvcihlPWUuY29uY2F0KCksdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbz1lW3RdO28mJm8uY2FwdHVyZT09biYmIW8udmEmJihvPWFuKG8saSkscj1yJiYhMSE9PW8pfXJldHVybiByfWZ1bmN0aW9uIGFuKHQsZSl7dmFyIG49dC5saXN0ZW5lcixpPXQuVmF8fHQuc3JjO3JldHVybiB0LlBhJiZubih0KSxuLmNhbGwoaSxlKX1mdW5jdGlvbiBzbih0LGUpe2lmKHQudmEpcmV0dXJuITA7aWYoamUpcmV0dXJuIGFuKHQsbmV3IHFlKGUsdGhpcykpO2lmKCFlKXQ6e2U9W1wid2luZG93XCIsXCJldmVudFwiXTtmb3IodmFyIG49bCxpPTA7aTxlLmxlbmd0aDtpKyspaWYobnVsbD09KG49bltlW2ldXSkpe2U9bnVsbDticmVhayB0fWU9bn1pZihlPW5ldyBxZShpPWUsdGhpcyksbj0hMCwhKGkua2V5Q29kZTwwfHxudWxsIT1pLnJldHVyblZhbHVlKSl7dDp7dmFyIHI9ITE7aWYoMD09aS5rZXlDb2RlKXRyeXtpLmtleUNvZGU9LTE7YnJlYWsgdH1jYXRjaCh0KXtyPSEwfSFyJiZudWxsIT1pLnJldHVyblZhbHVlfHwoaS5yZXR1cm5WYWx1ZT0hMCl9Zm9yKGk9W10scj1lLmI7cjtyPXIucGFyZW50Tm9kZSlpLnB1c2gocik7Zm9yKHQ9dC50eXBlLHI9aS5sZW5ndGgtMTswPD1yO3ItLSl7ZS5iPWlbcl07dmFyIG89b24oaVtyXSx0LCEwLGUpLG49biYmb31mb3Iocj0wO3I8aS5sZW5ndGg7cisrKWUuYj1pW3JdLG89b24oaVtyXSx0LCExLGUpLG49biYmb31yZXR1cm4gbn1mdW5jdGlvbiB1bih0KXtyZXR1cm4odD10W3plXSlpbnN0YW5jZW9mIFhlP3Q6bnVsbH12YXIgY249XCJfX2Nsb3N1cmVfZXZlbnRzX2ZuX1wiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApO2Z1bmN0aW9uIGhuKGUpe3JldHVybiB2KGUpP2U6KGVbY25dfHwoZVtjbl09ZnVuY3Rpb24odCl7cmV0dXJuIGUuaGFuZGxlRXZlbnQodCl9KSxlW2NuXSl9ZnVuY3Rpb24gbG4oKXtQZS5jYWxsKHRoaXMpLHRoaXMudj1uZXcgWGUodGhpcyksKHRoaXMuYWM9dGhpcykuZ2I9bnVsbH1mdW5jdGlvbiBmbih0LGUsbixpLHIpe3Qudi5hZGQoU3RyaW5nKGUpLG4sITEsaSxyKX1mdW5jdGlvbiBkbih0LGUsbixpLHIpe3Qudi5hZGQoU3RyaW5nKGUpLG4sITAsaSxyKX1mdW5jdGlvbiBwbih0LGUsbixpKXtpZighKGU9dC52LmFbU3RyaW5nKGUpXSkpcmV0dXJuITA7ZT1lLmNvbmNhdCgpO2Zvcih2YXIgcj0hMCxvPTA7bzxlLmxlbmd0aDsrK28pe3ZhciBhLHMsdT1lW29dO3UmJiF1LnZhJiZ1LmNhcHR1cmU9PW4mJihhPXUubGlzdGVuZXIscz11LlZhfHx1LnNyYyx1LlBhJiZKZSh0LnYsdSkscj0hMSE9PWEuY2FsbChzLGkpJiZyKX1yZXR1cm4gciYmIWkuZGVmYXVsdFByZXZlbnRlZH1mdW5jdGlvbiB2bih0LGUsbil7aWYodih0KSluJiYodD1iKHQsbikpO2Vsc2V7aWYoIXR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuaGFuZGxlRXZlbnQpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGxpc3RlbmVyIGFyZ3VtZW50XCIpO3Q9Yih0LmhhbmRsZUV2ZW50LHQpfXJldHVybiAyMTQ3NDgzNjQ3PE51bWJlcihlKT8tMTpsLnNldFRpbWVvdXQodCxlfHwwKX1mdW5jdGlvbiBtbihuKXt2YXIgaT1udWxsO3JldHVybiBuZXcgZmUoZnVuY3Rpb24odCxlKXstMT09KGk9dm4oZnVuY3Rpb24oKXt0KHZvaWQgMCl9LG4pKSYmZShFcnJvcihcIkZhaWxlZCB0byBzY2hlZHVsZSB0aW1lci5cIikpfSkubyhmdW5jdGlvbih0KXt0aHJvdyBsLmNsZWFyVGltZW91dChpKSx0fSl9ZnVuY3Rpb24gZ24odCl7aWYodC5XJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LlcpcmV0dXJuIHQuVygpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiB0LnNwbGl0KFwiXCIpO2lmKHAodCkpe2Zvcih2YXIgZT1bXSxuPXQubGVuZ3RoLGk9MDtpPG47aSsrKWUucHVzaCh0W2ldKTtyZXR1cm4gZX1mb3IoaSBpbiBlPVtdLG49MCx0KWVbbisrXT10W2ldO3JldHVybiBlfWZ1bmN0aW9uIGJuKHQpe2lmKHQuWSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5ZKXJldHVybiB0LlkoKTtpZighdC5XfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0Llcpe2lmKHAodCl8fFwic3RyaW5nXCI9PXR5cGVvZiB0KXt2YXIgZT1bXTt0PXQubGVuZ3RoO2Zvcih2YXIgbj0wO248dDtuKyspZS5wdXNoKG4pO3JldHVybiBlfWZvcih2YXIgaSBpbiBlPVtdLG49MCx0KWVbbisrXT1pO3JldHVybiBlfX1mdW5jdGlvbiB5bih0LGUpe3RoaXMuYj17fSx0aGlzLmE9W10sdGhpcy5jPTA7dmFyIG49YXJndW1lbnRzLmxlbmd0aDtpZigxPG4pe2lmKG4lMil0aHJvdyBFcnJvcihcIlVuZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzXCIpO2Zvcih2YXIgaT0wO2k8bjtpKz0yKXRoaXMuc2V0KGFyZ3VtZW50c1tpXSxhcmd1bWVudHNbaSsxXSl9ZWxzZSBpZih0KWlmKHQgaW5zdGFuY2VvZiB5bilmb3Iobj10LlkoKSxpPTA7aTxuLmxlbmd0aDtpKyspdGhpcy5zZXQobltpXSx0LmdldChuW2ldKSk7ZWxzZSBmb3IoaSBpbiB0KXRoaXMuc2V0KGksdFtpXSl9ZnVuY3Rpb24gd24odCl7aWYodC5jIT10LmEubGVuZ3RoKXtmb3IodmFyIGU9MCxuPTA7ZTx0LmEubGVuZ3RoOyl7dmFyIGk9dC5hW2VdO0luKHQuYixpKSYmKHQuYVtuKytdPWkpLGUrK310LmEubGVuZ3RoPW59aWYodC5jIT10LmEubGVuZ3RoKXtmb3IodmFyIHI9e30sbj1lPTA7ZTx0LmEubGVuZ3RoOylJbihyLGk9dC5hW2VdKXx8KHJbdC5hW24rK109aV09MSksZSsrO3QuYS5sZW5ndGg9bn19ZnVuY3Rpb24gSW4odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9dyhsbixQZSksbG4ucHJvdG90eXBlW0tlXT0hMCxsbi5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUsbixpKXtaZSh0aGlzLHQsZSxuLGkpfSxsbi5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUsbixpKXtlbih0aGlzLHQsZSxuLGkpfSxsbi5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbih0KXt2YXIgZTtpZihuPXRoaXMuZ2IpZm9yKGU9W107bjtuPW4uZ2IpZS5wdXNoKG4pO3ZhciBuPXRoaXMuYWMsaT10LnR5cGV8fHQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQ/dD1uZXcgRmUodCxuKTp0IGluc3RhbmNlb2YgRmU/dC50YXJnZXQ9dC50YXJnZXR8fG46KGE9dCxsdCh0PW5ldyBGZShpLG4pLGEpKSxhPSEwLGUpZm9yKHZhciByPWUubGVuZ3RoLTE7MDw9cjtyLS0pdmFyIG89dC5iPWVbcl0sYT1wbihvLGksITAsdCkmJmE7aWYoYT1wbihvPXQuYj1uLGksITAsdCkmJmEsYT1wbihvLGksITEsdCkmJmEsZSlmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKWE9cG4obz10LmI9ZVtyXSxpLCExLHQpJiZhO3JldHVybiBhfSxsbi5wcm90b3R5cGUuRGE9ZnVuY3Rpb24oKXtpZihsbi5hYi5EYS5jYWxsKHRoaXMpLHRoaXMudil7dmFyIHQsZT10aGlzLnY7Zm9yKHQgaW4gZS5hKXtmb3IodmFyIG49ZS5hW3RdLGk9MDtpPG4ubGVuZ3RoO2krKylXZShuW2ldKTtkZWxldGUgZS5hW3RdLGUuYi0tfX10aGlzLmdiPW51bGx9LCh0PXluLnByb3RvdHlwZSkuVz1mdW5jdGlvbigpe3duKHRoaXMpO2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLmEubGVuZ3RoO2UrKyl0LnB1c2godGhpcy5iW3RoaXMuYVtlXV0pO3JldHVybiB0fSx0Llk9ZnVuY3Rpb24oKXtyZXR1cm4gd24odGhpcyksdGhpcy5hLmNvbmNhdCgpfSx0LmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5iPXt9LHRoaXMuYz10aGlzLmEubGVuZ3RoPTB9LHQuZ2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEluKHRoaXMuYix0KT90aGlzLmJbdF06ZX0sdC5zZXQ9ZnVuY3Rpb24odCxlKXtJbih0aGlzLmIsdCl8fCh0aGlzLmMrKyx0aGlzLmEucHVzaCh0KSksdGhpcy5iW3RdPWV9LHQuZm9yRWFjaD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLlkoKSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV0sbz10aGlzLmdldChyKTt0LmNhbGwoZSxvLHIsdGhpcyl9fTt2YXIgVG49L14oPzooW146Lz8jLl0rKTopPyg/OlxcL1xcLyg/OihbXlxcXFwvPyNdKilAKT8oW15cXFxcLz8jXSo/KSg/OjooWzAtOV0rKSk/KD89W1xcXFwvPyNdfCQpKT8oW14/I10rKT8oPzpcXD8oW14jXSopKT8oPzojKFtcXHNcXFNdKikpPyQvO2Z1bmN0aW9uIEVuKHQsZSl7dmFyIG47dGhpcy5hPXRoaXMubD10aGlzLmM9XCJcIix0aGlzLmc9bnVsbCx0aGlzLmg9dGhpcy5mPVwiXCIsdGhpcy5pPSExLHQgaW5zdGFuY2VvZiBFbj8odGhpcy5pPXZvaWQgMCE9PWU/ZTp0LmksQW4odGhpcyx0LmMpLHRoaXMubD10LmwsdGhpcy5hPXQuYSxrbih0aGlzLHQuZyksdGhpcy5mPXQuZixTbih0aGlzLEJuKHQuYikpLHRoaXMuaD10LmgpOnQmJihuPVN0cmluZyh0KS5tYXRjaChUbikpPyh0aGlzLmk9ISFlLEFuKHRoaXMsblsxXXx8XCJcIiwhMCksdGhpcy5sPVJuKG5bMl18fFwiXCIpLHRoaXMuYT1SbihuWzNdfHxcIlwiLCEwKSxrbih0aGlzLG5bNF0pLHRoaXMuZj1SbihuWzVdfHxcIlwiLCEwKSxTbih0aGlzLG5bNl18fFwiXCIsITApLHRoaXMuaD1SbihuWzddfHxcIlwiKSk6KHRoaXMuaT0hIWUsdGhpcy5iPW5ldyBWbihudWxsLHRoaXMuaSkpfWZ1bmN0aW9uIEFuKHQsZSxuKXt0LmM9bj9SbihlLCEwKTplLHQuYyYmKHQuYz10LmMucmVwbGFjZSgvOiQvLFwiXCIpKX1mdW5jdGlvbiBrbih0LGUpe2lmKGUpe2lmKGU9TnVtYmVyKGUpLGlzTmFOKGUpfHxlPDApdGhyb3cgRXJyb3IoXCJCYWQgcG9ydCBudW1iZXIgXCIrZSk7dC5nPWV9ZWxzZSB0Lmc9bnVsbH1mdW5jdGlvbiBTbih0LGUsbil7dmFyIGkscjtlIGluc3RhbmNlb2YgVm4/KHQuYj1lLGk9dC5iLChyPXQuaSkmJiFpLmYmJihGbihpKSxpLmM9bnVsbCxpLmEuZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciBuPWUudG9Mb3dlckNhc2UoKTtlIT1uJiYoSG4odGhpcyxlKSxHbih0aGlzLG4sdCkpfSxpKSksaS5mPXIpOihufHwoZT1EbihlLGpuKSksdC5iPW5ldyBWbihlLHQuaSkpfWZ1bmN0aW9uIE5uKHQsZSxuKXt0LmIuc2V0KGUsbil9ZnVuY3Rpb24gX24odCxlKXtyZXR1cm4gdC5iLmdldChlKX1mdW5jdGlvbiBPbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEVuP25ldyBFbih0KTpuZXcgRW4odCx2b2lkIDApfWZ1bmN0aW9uIENuKHQsZSxuLGkpe3ZhciByPW5ldyBFbihudWxsLHZvaWQgMCk7cmV0dXJuIHQmJkFuKHIsdCksZSYmKHIuYT1lKSxuJiZrbihyLG4pLGkmJihyLmY9aSkscn1mdW5jdGlvbiBSbih0LGUpe3JldHVybiB0P2U/ZGVjb2RlVVJJKHQucmVwbGFjZSgvJTI1L2csXCIlMjUyNVwiKSk6ZGVjb2RlVVJJQ29tcG9uZW50KHQpOlwiXCJ9ZnVuY3Rpb24gRG4odCxlLG4pe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0Pyh0PWVuY29kZVVSSSh0KS5yZXBsYWNlKGUsUG4pLHQ9bj90LnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZyxcIiUkMVwiKTp0KTpudWxsfWZ1bmN0aW9uIFBuKHQpe3JldHVyblwiJVwiKygodD10LmNoYXJDb2RlQXQoMCkpPj40JjE1KS50b1N0cmluZygxNikrKDE1JnQpLnRvU3RyaW5nKDE2KX1Fbi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD1bXSxlPXRoaXMuYztlJiZ0LnB1c2goRG4oZSxMbiwhMCksXCI6XCIpO3ZhciBuPXRoaXMuYTtyZXR1cm4hbiYmXCJmaWxlXCIhPWV8fCh0LnB1c2goXCIvL1wiKSwoZT10aGlzLmwpJiZ0LnB1c2goRG4oZSxMbiwhMCksXCJAXCIpLHQucHVzaChlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKG4pKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csXCIlJDFcIikpLG51bGwhPShuPXRoaXMuZykmJnQucHVzaChcIjpcIixTdHJpbmcobikpKSwobj10aGlzLmYpJiYodGhpcy5hJiZcIi9cIiE9bi5jaGFyQXQoMCkmJnQucHVzaChcIi9cIiksdC5wdXNoKERuKG4sXCIvXCI9PW4uY2hhckF0KDApP01uOnhuLCEwKSkpLChuPXRoaXMuYi50b1N0cmluZygpKSYmdC5wdXNoKFwiP1wiLG4pLChuPXRoaXMuaCkmJnQucHVzaChcIiNcIixEbihuLFVuKSksdC5qb2luKFwiXCIpfSxFbi5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgRW4odGhpcyksbj0hIXQuYztuP0FuKGUsdC5jKTpuPSEhdC5sLG4/ZS5sPXQubDpuPSEhdC5hLG4/ZS5hPXQuYTpuPW51bGwhPXQuZzt2YXIgaT10LmY7aWYobilrbihlLHQuZyk7ZWxzZSBpZihuPSEhdC5mKWlmKFwiL1wiIT1pLmNoYXJBdCgwKSYmKHRoaXMuYSYmIXRoaXMuZj9pPVwiL1wiK2k6LTEhPShyPWUuZi5sYXN0SW5kZXhPZihcIi9cIikpJiYoaT1lLmYuc3Vic3RyKDAscisxKStpKSksXCIuLlwiPT0ocj1pKXx8XCIuXCI9PXIpaT1cIlwiO2Vsc2UgaWYoaXQocixcIi4vXCIpfHxpdChyLFwiLy5cIikpe2Zvcih2YXIgaT0wPT1yLmxhc3RJbmRleE9mKFwiL1wiLDApLHI9ci5zcGxpdChcIi9cIiksbz1bXSxhPTA7YTxyLmxlbmd0aDspe3ZhciBzPXJbYSsrXTtcIi5cIj09cz9pJiZhPT1yLmxlbmd0aCYmby5wdXNoKFwiXCIpOlwiLi5cIj09cz8oKDE8by5sZW5ndGh8fDE9PW8ubGVuZ3RoJiZcIlwiIT1vWzBdKSYmby5wb3AoKSxpJiZhPT1yLmxlbmd0aCYmby5wdXNoKFwiXCIpKTooby5wdXNoKHMpLGk9ITApfWk9by5qb2luKFwiL1wiKX1lbHNlIGk9cjtyZXR1cm4gbj9lLmY9aTpuPVwiXCIhPT10LmIudG9TdHJpbmcoKSxuP1NuKGUsQm4odC5iKSk6bj0hIXQuaCxuJiYoZS5oPXQuaCksZX07dmFyIExuPS9bI1xcL1xcP0BdL2cseG49L1sjXFw/Ol0vZyxNbj0vWyNcXD9dL2csam49L1sjXFw/QF0vZyxVbj0vIy9nO2Z1bmN0aW9uIFZuKHQsZSl7dGhpcy5iPXRoaXMuYT1udWxsLHRoaXMuYz10fHxudWxsLHRoaXMuZj0hIWV9ZnVuY3Rpb24gRm4obil7bi5hfHwobi5hPW5ldyB5bixuLmI9MCxuLmMmJmZ1bmN0aW9uKHQsZSl7aWYodCl7dD10LnNwbGl0KFwiJlwiKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGkscj10W25dLmluZGV4T2YoXCI9XCIpLG89bnVsbDswPD1yPyhpPXRbbl0uc3Vic3RyaW5nKDAsciksbz10W25dLnN1YnN0cmluZyhyKzEpKTppPXRbbl0sZShpLG8/ZGVjb2RlVVJJQ29tcG9uZW50KG8ucmVwbGFjZSgvXFwrL2csXCIgXCIpKTpcIlwiKX19fShuLmMsZnVuY3Rpb24odCxlKXtuLmFkZChkZWNvZGVVUklDb21wb25lbnQodC5yZXBsYWNlKC9cXCsvZyxcIiBcIikpLGUpfSkpfWZ1bmN0aW9uIHFuKHQpe3ZhciBlPWJuKHQpO2lmKHZvaWQgMD09PWUpdGhyb3cgRXJyb3IoXCJLZXlzIGFyZSB1bmRlZmluZWRcIik7dmFyIG49bmV3IFZuKG51bGwsdm9pZCAwKTt0PWduKHQpO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcj1lW2ldLG89dFtpXTtBcnJheS5pc0FycmF5KG8pP0duKG4scixvKTpuLmFkZChyLG8pfXJldHVybiBufWZ1bmN0aW9uIEhuKHQsZSl7Rm4odCksZT1Xbih0LGUpLEluKHQuYS5iLGUpJiYodC5jPW51bGwsdC5iLT10LmEuZ2V0KGUpLmxlbmd0aCxJbigodD10LmEpLmIsZSkmJihkZWxldGUgdC5iW2VdLHQuYy0tLHQuYS5sZW5ndGg+Mip0LmMmJnduKHQpKSl9ZnVuY3Rpb24gS24odCxlKXtyZXR1cm4gRm4odCksZT1Xbih0LGUpLEluKHQuYS5iLGUpfWZ1bmN0aW9uIEduKHQsZSxuKXtIbih0LGUpLDA8bi5sZW5ndGgmJih0LmM9bnVsbCx0LmEuc2V0KFduKHQsZSksWChuKSksdC5iKz1uLmxlbmd0aCl9ZnVuY3Rpb24gQm4odCl7dmFyIGU9bmV3IFZuO3JldHVybiBlLmM9dC5jLHQuYSYmKGUuYT1uZXcgeW4odC5hKSxlLmI9dC5iKSxlfWZ1bmN0aW9uIFduKHQsZSl7cmV0dXJuIGU9U3RyaW5nKGUpLGU9dC5mP2UudG9Mb3dlckNhc2UoKTplfWZ1bmN0aW9uIFhuKHQpe3ZhciBlPVtdO3JldHVybiBmdW5jdGlvbiB0KGUsbixpKXtpZihudWxsPT1uKWkucHVzaChcIm51bGxcIik7ZWxzZXtpZihcIm9iamVjdFwiPT10eXBlb2Ygbil7aWYoQXJyYXkuaXNBcnJheShuKSl7dmFyIHI9bjtuPXIubGVuZ3RoLGkucHVzaChcIltcIik7Zm9yKHZhciBvPVwiXCIsYT0wO2E8bjthKyspaS5wdXNoKG8pLHQoZSxyW2FdLGkpLG89XCIsXCI7cmV0dXJuIHZvaWQgaS5wdXNoKFwiXVwiKX1pZighKG4gaW5zdGFuY2VvZiBTdHJpbmd8fG4gaW5zdGFuY2VvZiBOdW1iZXJ8fG4gaW5zdGFuY2VvZiBCb29sZWFuKSl7Zm9yKHIgaW4gaS5wdXNoKFwie1wiKSxvPVwiXCIsbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGE9bltyXSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhJiYoaS5wdXNoKG8pLCRuKHIsaSksaS5wdXNoKFwiOlwiKSx0KGUsYSxpKSxvPVwiLFwiKSk7cmV0dXJuIHZvaWQgaS5wdXNoKFwifVwiKX1uPW4udmFsdWVPZigpfXN3aXRjaCh0eXBlb2Ygbil7Y2FzZVwic3RyaW5nXCI6JG4obixpKTticmVhaztjYXNlXCJudW1iZXJcIjppLnB1c2goaXNGaW5pdGUobikmJiFpc05hTihuKT9TdHJpbmcobik6XCJudWxsXCIpO2JyZWFrO2Nhc2VcImJvb2xlYW5cIjppLnB1c2goU3RyaW5nKG4pKTticmVhaztjYXNlXCJmdW5jdGlvblwiOmkucHVzaChcIm51bGxcIik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZTogXCIrdHlwZW9mIG4pfX19KG5ldyBKbix0LGUpLGUuam9pbihcIlwiKX1mdW5jdGlvbiBKbigpe30odD1Wbi5wcm90b3R5cGUpLmFkZD1mdW5jdGlvbih0LGUpe0ZuKHRoaXMpLHRoaXMuYz1udWxsLHQ9V24odGhpcyx0KTt2YXIgbj10aGlzLmEuZ2V0KHQpO3JldHVybiBufHx0aGlzLmEuc2V0KHQsbj1bXSksbi5wdXNoKGUpLHRoaXMuYis9MSx0aGlzfSx0LmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5hPXRoaXMuYz1udWxsLHRoaXMuYj0wfSx0LmZvckVhY2g9ZnVuY3Rpb24obixpKXtGbih0aGlzKSx0aGlzLmEuZm9yRWFjaChmdW5jdGlvbih0LGUpe1YodCxmdW5jdGlvbih0KXtuLmNhbGwoaSx0LGUsdGhpcyl9LHRoaXMpfSx0aGlzKX0sdC5ZPWZ1bmN0aW9uKCl7Rm4odGhpcyk7Zm9yKHZhciB0PXRoaXMuYS5XKCksZT10aGlzLmEuWSgpLG49W10saT0wO2k8ZS5sZW5ndGg7aSsrKWZvcih2YXIgcj10W2ldLG89MDtvPHIubGVuZ3RoO28rKyluLnB1c2goZVtpXSk7cmV0dXJuIG59LHQuVz1mdW5jdGlvbih0KXtGbih0aGlzKTt2YXIgZT1bXTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClLbih0aGlzLHQpJiYoZT1XKGUsdGhpcy5hLmdldChXbih0aGlzLHQpKSkpO2Vsc2V7dD10aGlzLmEuVygpO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWU9VyhlLHRbbl0pfXJldHVybiBlfSx0LnNldD1mdW5jdGlvbih0LGUpe3JldHVybiBGbih0aGlzKSx0aGlzLmM9bnVsbCxLbih0aGlzLHQ9V24odGhpcyx0KSkmJih0aGlzLmItPXRoaXMuYS5nZXQodCkubGVuZ3RoKSx0aGlzLmEuc2V0KHQsW2VdKSx0aGlzLmIrPTEsdGhpc30sdC5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmMDwodD10aGlzLlcodCkpLmxlbmd0aD9TdHJpbmcodFswXSk6ZX0sdC50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuYylyZXR1cm4gdGhpcy5jO2lmKCF0aGlzLmEpcmV0dXJuXCJcIjtmb3IodmFyIHQ9W10sZT10aGlzLmEuWSgpLG49MDtuPGUubGVuZ3RoO24rKylmb3IodmFyIGk9ZVtuXSxyPWVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaSkpLGk9dGhpcy5XKGkpLG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIGE9cjtcIlwiIT09aVtvXSYmKGErPVwiPVwiK2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaVtvXSkpKSx0LnB1c2goYSl9cmV0dXJuIHRoaXMuYz10LmpvaW4oXCImXCIpfTt2YXIgWW49eydcIic6J1xcXFxcIicsXCJcXFxcXCI6XCJcXFxcXFxcXFwiLFwiL1wiOlwiXFxcXC9cIixcIlxcYlwiOlwiXFxcXGJcIixcIlxcZlwiOlwiXFxcXGZcIixcIlxcblwiOlwiXFxcXG5cIixcIlxcclwiOlwiXFxcXHJcIixcIlxcdFwiOlwiXFxcXHRcIixcIlxcdlwiOlwiXFxcXHUwMDBiXCJ9LHpuPS9cXHVmZmZmLy50ZXN0KFwiXFx1ZmZmZlwiKT8vW1xcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx1ZmZmZl0vZzovW1xcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx4ZmZdL2c7ZnVuY3Rpb24gJG4odCxlKXtlLnB1c2goJ1wiJyx0LnJlcGxhY2Uoem4sZnVuY3Rpb24odCl7dmFyIGU9WW5bdF07cmV0dXJuIGV8fChlPVwiXFxcXHVcIisoNjU1MzZ8dC5jaGFyQ29kZUF0KDApKS50b1N0cmluZygxNikuc3Vic3RyKDEpLFluW3RdPWUpLGV9KSwnXCInKX1mdW5jdGlvbiBabigpe3ZhciB0PWdpKCk7cmV0dXJuIEh0JiZadCYmMTE9PVp0fHwvRWRnZVxcL1xcZCsvLnRlc3QodCl9ZnVuY3Rpb24gUW4oKXtyZXR1cm4gbC53aW5kb3cmJmwud2luZG93LmxvY2F0aW9uLmhyZWZ8fHNlbGYmJnNlbGYubG9jYXRpb24mJnNlbGYubG9jYXRpb24uaHJlZnx8XCJcIn1mdW5jdGlvbiB0aSh0LGUpe2U9ZXx8bC53aW5kb3c7dmFyIG49XCJhYm91dDpibGFua1wiO3QmJihuPVN0KEN0KHQpfHxQdCkpLGUubG9jYXRpb24uaHJlZj1ufWZ1bmN0aW9uIGVpKHQpe3JldHVybiEhKCh0PSh0fHxnaSgpKS50b0xvd2VyQ2FzZSgpKS5tYXRjaCgvYW5kcm9pZC8pfHx0Lm1hdGNoKC93ZWJvcy8pfHx0Lm1hdGNoKC9pcGhvbmV8aXBhZHxpcG9kLyl8fHQubWF0Y2goL2JsYWNrYmVycnkvKXx8dC5tYXRjaCgvd2luZG93cyBwaG9uZS8pfHx0Lm1hdGNoKC9pZW1vYmlsZS8pKX1mdW5jdGlvbiBuaSh0KXt0PXR8fGwud2luZG93O3RyeXt0LmNsb3NlKCl9Y2F0Y2godCl7fX1mdW5jdGlvbiBpaSh0LGUsbil7dmFyIGk9TWF0aC5mbG9vcigxZTkqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoKTtlPWV8fDUwMCxuPW58fDYwMDt2YXIgcj0od2luZG93LnNjcmVlbi5hdmFpbEhlaWdodC1uKS8yLG89KHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aC1lKS8yO2ZvcihhIGluIGU9e3dpZHRoOmUsaGVpZ2h0Om4sdG9wOjA8cj9yOjAsbGVmdDowPG8/bzowLGxvY2F0aW9uOiEwLHJlc2l6YWJsZTohMCxzdGF0dXNiYXI6ITAsdG9vbGJhcjohMX0sbj1naSgpLnRvTG93ZXJDYXNlKCksaSYmKGUudGFyZ2V0PWksaXQobixcImNyaW9zL1wiKSYmKGUudGFyZ2V0PVwiX2JsYW5rXCIpKSxwaShnaSgpKT09ZmkmJih0PXR8fFwiaHR0cDovL2xvY2FsaG9zdFwiLGUuc2Nyb2xsYmFycz0hMCksbj10fHxcIlwiLCh0PWUpfHwodD17fSksaT13aW5kb3csZT1uIGluc3RhbmNlb2Yga3Q/bjpDdCh2b2lkIDAhPT1uLmhyZWY/bi5ocmVmOlN0cmluZyhuKSl8fFB0LG49dC50YXJnZXR8fG4udGFyZ2V0LHI9W10sdClzd2l0Y2goYSl7Y2FzZVwid2lkdGhcIjpjYXNlXCJoZWlnaHRcIjpjYXNlXCJ0b3BcIjpjYXNlXCJsZWZ0XCI6ci5wdXNoKGErXCI9XCIrdFthXSk7YnJlYWs7Y2FzZVwidGFyZ2V0XCI6Y2FzZVwibm9vcGVuZXJcIjpjYXNlXCJub3JlZmVycmVyXCI6YnJlYWs7ZGVmYXVsdDpyLnB1c2goYStcIj1cIisodFthXT8xOjApKX12YXIgYT1yLmpvaW4oXCIsXCIpO2lmKChhdChcImlQaG9uZVwiKSYmIWF0KFwiaVBvZFwiKSYmIWF0KFwiaVBhZFwiKXx8YXQoXCJpUGFkXCIpfHxhdChcImlQb2RcIikpJiZpLm5hdmlnYXRvciYmaS5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSYmbiYmXCJfc2VsZlwiIT1uPyhmdChhPWFlKGRvY3VtZW50LFwiQVwiKSxcIkhUTUxBbmNob3JFbGVtZW50XCIpLGU9ZSBpbnN0YW5jZW9mIGt0P2U6UnQoZSksYS5ocmVmPVN0KGUpLGEuc2V0QXR0cmlidXRlKFwidGFyZ2V0XCIsbiksdC5ub3JlZmVycmVyJiZhLnNldEF0dHJpYnV0ZShcInJlbFwiLFwibm9yZWZlcnJlclwiKSwodD1kb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRcIikpLmluaXRNb3VzZUV2ZW50KFwiY2xpY2tcIiwhMCwhMCxpLDEpLGEuZGlzcGF0Y2hFdmVudCh0KSxhPXt9KTp0Lm5vcmVmZXJyZXI/KGE9TXQoXCJcIixpLG4sYSksdD1TdChlKSxhJiYoR3QmJml0KHQsXCI7XCIpJiYodD1cIidcIit0LnJlcGxhY2UoLycvZyxcIiUyN1wiKStcIidcIiksYS5vcGVuZXI9bnVsbCx0PSc8bWV0YSBuYW1lPVwicmVmZXJyZXJcIiBjb250ZW50PVwibm8tcmVmZXJyZXJcIj48bWV0YSBodHRwLWVxdWl2PVwicmVmcmVzaFwiIGNvbnRlbnQ9XCIwOyB1cmw9JytVdCh0KSsnXCI+Jyx0PW5ldyBMdCh0PShpPWJ0KCkpP2kuY3JlYXRlSFRNTCh0KTp0LDAseHQpLGk9YS5kb2N1bWVudCkmJihpLndyaXRlKChvPXQpaW5zdGFuY2VvZiBMdCYmby5jb25zdHJ1Y3Rvcj09PUx0P28uYTooRChcImV4cGVjdGVkIG9iamVjdCBvZiB0eXBlIFNhZmVIdG1sLCBnb3QgJ1wiK28rXCInIG9mIHR5cGUgXCIrZChvKSksXCJ0eXBlX2Vycm9yOlNhZmVIdG1sXCIpKSxpLmNsb3NlKCkpKTooYT1NdChlLGksbixhKSkmJnQubm9vcGVuZXImJihhLm9wZW5lcj1udWxsKSxhKXRyeXthLmZvY3VzKCl9Y2F0Y2godCl7fXJldHVybiBhfXZhciByaT0vXlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9JC8sb2k9L15bXkBdK0BbXkBdKyQvO2Z1bmN0aW9uIGFpKCl7dmFyIGU9bnVsbDtyZXR1cm4gbmV3IGZlKGZ1bmN0aW9uKHQpe1wiY29tcGxldGVcIj09bC5kb2N1bWVudC5yZWFkeVN0YXRlP3QoKTooZT1mdW5jdGlvbigpe3QoKX0sdG4od2luZG93LFwibG9hZFwiLGUpKX0pLm8oZnVuY3Rpb24odCl7dGhyb3cgZW4od2luZG93LFwibG9hZFwiLGUpLHR9KX1mdW5jdGlvbiBzaSh0KXtyZXR1cm4gdD10fHxnaSgpLCEoXCJmaWxlOlwiIT09VGkoKSYmXCJpb25pYzpcIiE9PVRpKCl8fCF0LnRvTG93ZXJDYXNlKCkubWF0Y2goL2lwaG9uZXxpcGFkfGlwb2R8YW5kcm9pZC8pKX1mdW5jdGlvbiB1aSgpe3ZhciB0PWwud2luZG93O3RyeXtyZXR1cm4gdCYmdCE9dC50b3B9Y2F0Y2godCl7cmV0dXJufX1mdW5jdGlvbiBjaSgpe3JldHVybiB2b2lkIDAhPT1sLldvcmtlckdsb2JhbFNjb3BlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBsLmltcG9ydFNjcmlwdHN9ZnVuY3Rpb24gaGkoKXtyZXR1cm4gemwuZGVmYXVsdC5JTlRFUk5BTC5oYXNPd25Qcm9wZXJ0eShcInJlYWN0TmF0aXZlXCIpP1wiUmVhY3ROYXRpdmVcIjp6bC5kZWZhdWx0LklOVEVSTkFMLmhhc093blByb3BlcnR5KFwibm9kZVwiKT9cIk5vZGVcIjpjaSgpP1wiV29ya2VyXCI6XCJCcm93c2VyXCJ9ZnVuY3Rpb24gbGkoKXt2YXIgdD1oaSgpO3JldHVyblwiUmVhY3ROYXRpdmVcIj09PXR8fFwiTm9kZVwiPT09dH12YXIgZmk9XCJGaXJlZm94XCIsZGk9XCJDaHJvbWVcIjtmdW5jdGlvbiBwaSh0KXt2YXIgZT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIGl0KGUsXCJvcGVyYS9cIil8fGl0KGUsXCJvcHIvXCIpfHxpdChlLFwib3Bpb3MvXCIpP1wiT3BlcmFcIjppdChlLFwiaWVtb2JpbGVcIik/XCJJRU1vYmlsZVwiOml0KGUsXCJtc2llXCIpfHxpdChlLFwidHJpZGVudC9cIik/XCJJRVwiOml0KGUsXCJlZGdlL1wiKT9cIkVkZ2VcIjppdChlLFwiZmlyZWZveC9cIik/Zmk6aXQoZSxcInNpbGsvXCIpP1wiU2lsa1wiOml0KGUsXCJibGFja2JlcnJ5XCIpP1wiQmxhY2tiZXJyeVwiOml0KGUsXCJ3ZWJvc1wiKT9cIldlYm9zXCI6IWl0KGUsXCJzYWZhcmkvXCIpfHxpdChlLFwiY2hyb21lL1wiKXx8aXQoZSxcImNyaW9zL1wiKXx8aXQoZSxcImFuZHJvaWRcIik/IWl0KGUsXCJjaHJvbWUvXCIpJiYhaXQoZSxcImNyaW9zL1wiKXx8aXQoZSxcImVkZ2UvXCIpP2l0KGUsXCJhbmRyb2lkXCIpP1wiQW5kcm9pZFwiOih0PXQubWF0Y2goLyhbYS16QS1aXFxkXFwuXSspXFwvW2EtekEtWlxcZFxcLl0qJC8pKSYmMj09dC5sZW5ndGg/dFsxXTpcIk90aGVyXCI6ZGk6XCJTYWZhcmlcIn12YXIgdmk9e21kOlwiRmlyZWJhc2VDb3JlLXdlYlwiLG9kOlwiRmlyZWJhc2VVSS13ZWJcIn07ZnVuY3Rpb24gbWkodCxlKXtlPWV8fFtdO3ZhciBuLGk9W10scj17fTtmb3IobiBpbiB2aSlyW3ZpW25dXT0hMDtmb3Iobj0wO248ZS5sZW5ndGg7bisrKXZvaWQgMCE9PXJbZVtuXV0mJihkZWxldGUgcltlW25dXSxpLnB1c2goZVtuXSkpO3JldHVybiBpLnNvcnQoKSwoZT1pKS5sZW5ndGh8fChlPVtcIkZpcmViYXNlQ29yZS13ZWJcIl0pLFwiQnJvd3NlclwiPT09KGk9aGkoKSk/aT1waShyPWdpKCkpOlwiV29ya2VyXCI9PT1pJiYoaT1waShyPWdpKCkpK1wiLVwiK2kpLGkrXCIvSnNDb3JlL1wiK3QrXCIvXCIrZS5qb2luKFwiLFwiKX1mdW5jdGlvbiBnaSgpe3JldHVybiBsLm5hdmlnYXRvciYmbC5uYXZpZ2F0b3IudXNlckFnZW50fHxcIlwifWZ1bmN0aW9uIGJpKHQsZSl7dD10LnNwbGl0KFwiLlwiKSxlPWV8fGw7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPWU7bisrKWU9ZVt0W25dXTtyZXR1cm4gZT1uIT10Lmxlbmd0aD92b2lkIDA6ZX1mdW5jdGlvbiB5aSgpe3RyeXt2YXIgdD1sLmxvY2FsU3RvcmFnZSxlPU5pKCk7aWYodClyZXR1cm4gdC5zZXRJdGVtKGUsXCIxXCIpLHQucmVtb3ZlSXRlbShlKSwhWm4oKXx8ISFsLmluZGV4ZWREQn1jYXRjaCh0KXtyZXR1cm4gY2koKSYmISFsLmluZGV4ZWREQn1yZXR1cm4hMX1mdW5jdGlvbiB3aSgpe3JldHVybihJaSgpfHxcImNocm9tZS1leHRlbnNpb246XCI9PT1UaSgpfHxzaSgpKSYmIWxpKCkmJnlpKCkmJiFjaSgpfWZ1bmN0aW9uIElpKCl7cmV0dXJuXCJodHRwOlwiPT09VGkoKXx8XCJodHRwczpcIj09PVRpKCl9ZnVuY3Rpb24gVGkoKXtyZXR1cm4gbC5sb2NhdGlvbiYmbC5sb2NhdGlvbi5wcm90b2NvbHx8bnVsbH1mdW5jdGlvbiBFaSh0KXtyZXR1cm4hZWkodD10fHxnaSgpKSYmcGkodCkhPWZpfWZ1bmN0aW9uIEFpKHQpe3JldHVybiB2b2lkIDA9PT10P251bGw6WG4odCl9ZnVuY3Rpb24ga2kodCl7dmFyIGUsbj17fTtmb3IoZSBpbiB0KXQuaGFzT3duUHJvcGVydHkoZSkmJm51bGwhPT10W2VdJiZ2b2lkIDAhPT10W2VdJiYobltlXT10W2VdKTtyZXR1cm4gbn1mdW5jdGlvbiBTaSh0KXtpZihudWxsIT09dClyZXR1cm4gSlNPTi5wYXJzZSh0KX1mdW5jdGlvbiBOaSh0KXtyZXR1cm4gdHx8TWF0aC5mbG9vcigxZTkqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoKX1mdW5jdGlvbiBfaSh0KXtyZXR1cm5cIlNhZmFyaVwiIT1waSh0PXR8fGdpKCkpJiYhdC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9pcGhvbmV8aXBhZHxpcG9kLyl9ZnVuY3Rpb24gT2koKXt2YXIgdD1sLl9fX2pzbDtpZih0JiZ0LkgpZm9yKHZhciBlIGluIHQuSClpZih0LkhbZV0ucj10LkhbZV0ucnx8W10sdC5IW2VdLkw9dC5IW2VdLkx8fFtdLHQuSFtlXS5yPXQuSFtlXS5MLmNvbmNhdCgpLHQuQ1ApZm9yKHZhciBuPTA7bjx0LkNQLmxlbmd0aDtuKyspdC5DUFtuXT1udWxsfWZ1bmN0aW9uIENpKHQsZSl7aWYoZTx0KXRocm93IEVycm9yKFwiU2hvcnQgZGVsYXkgc2hvdWxkIGJlIGxlc3MgdGhhbiBsb25nIGRlbGF5IVwiKTt0aGlzLmE9dCx0aGlzLmM9ZSx0PWdpKCksZT1oaSgpLHRoaXMuYj1laSh0KXx8XCJSZWFjdE5hdGl2ZVwiPT09ZX1mdW5jdGlvbiBSaSgpe3ZhciB0PWwuZG9jdW1lbnQ7cmV0dXJuIXR8fHZvaWQgMD09PXQudmlzaWJpbGl0eVN0YXRlfHxcInZpc2libGVcIj09dC52aXNpYmlsaXR5U3RhdGV9ZnVuY3Rpb24gRGkoKXt2YXIgZT1sLmRvY3VtZW50LG49bnVsbDtyZXR1cm4gUmkoKXx8IWU/eWUoKTpuZXcgZmUoZnVuY3Rpb24odCl7bj1mdW5jdGlvbigpe1JpKCkmJihlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsbiwhMSksdCgpKX0sZS5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLG4sITEpfSkubyhmdW5jdGlvbih0KXt0aHJvdyBlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsbiwhMSksdH0pfWZ1bmN0aW9uIFBpKHQpe3RyeXt2YXIgZT1uZXcgRGF0ZShwYXJzZUludCh0LDEwKSk7aWYoIWlzTmFOKGUuZ2V0VGltZSgpKSYmIS9bXjAtOV0vLnRlc3QodCkpcmV0dXJuIGUudG9VVENTdHJpbmcoKX1jYXRjaCh0KXt9cmV0dXJuIG51bGx9ZnVuY3Rpb24gTGkoKXtyZXR1cm4gYmkoXCJmaXJlYXV0aC5vYXV0aGhlbHBlclwiLGwpfHxiaShcImZpcmVhdXRoLmlmcmFtZVwiLGwpfUNpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt2YXIgdD1sLm5hdmlnYXRvcjtyZXR1cm4hdHx8XCJib29sZWFuXCIhPXR5cGVvZiB0Lm9uTGluZXx8IUlpKCkmJlwiY2hyb21lLWV4dGVuc2lvbjpcIiE9PVRpKCkmJnZvaWQgMD09PXQuY29ubmVjdGlvbnx8dC5vbkxpbmU/dGhpcy5iP3RoaXMuYzp0aGlzLmE6TWF0aC5taW4oNWUzLHRoaXMuYSl9O3ZhciB4aSxNaT17fTtmdW5jdGlvbiBqaSh0KXtNaVt0XXx8KE1pW3RdPSEwLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLndhcm4mJmNvbnNvbGUud2Fybih0KSl9dHJ5e3ZhciBVaT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVWksXCJhYmNkXCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOjF9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVWksXCJhYmNkXCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOjJ9KSx4aT0yPT1VaS5hYmNkfWNhdGNoKHQpe3hpPSExfWZ1bmN0aW9uIFZpKHQsZSxuKXt4aT9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpufSk6dFtlXT1ufWZ1bmN0aW9uIEZpKHQsZSl7aWYoZSlmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiZWaSh0LG4sZVtuXSl9ZnVuY3Rpb24gcWkodCl7dmFyIGU9e307cmV0dXJuIEZpKGUsdCksZX1mdW5jdGlvbiBIaSh0KXt2YXIgZT10O2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT10KWZvcih2YXIgbiBpbiBlPVwibGVuZ3RoXCJpbiB0P1tdOnt9LHQpVmkoZSxuLEhpKHRbbl0pKTtyZXR1cm4gZX1mdW5jdGlvbiBLaSh0KXt2YXIgZT10JiYodFtKaV0/XCJwaG9uZVwiOm51bGwpO2lmKCEoZSYmdCYmdFtYaV0pKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIixcIkludGVybmFsIGFzc2VydDogaW52YWxpZCBNdWx0aUZhY3RvckluZm8gb2JqZWN0XCIpO1ZpKHRoaXMsXCJ1aWRcIix0W1hpXSksVmkodGhpcyxcImRpc3BsYXlOYW1lXCIsdFtCaV18fG51bGwpO3ZhciBuPW51bGw7VmkodGhpcyxcImVucm9sbG1lbnRUaW1lXCIsbj10W1dpXT9uZXcgRGF0ZSh0W1dpXSkudG9VVENTdHJpbmcoKTpuKSxWaSh0aGlzLFwiZmFjdG9ySWRcIixlKX1mdW5jdGlvbiBHaSh0KXt0cnl7dmFyIGU9bmV3IFlpKHQpfWNhdGNoKHQpe2U9bnVsbH1yZXR1cm4gZX1LaS5wcm90b3R5cGUudz1mdW5jdGlvbigpe3JldHVybnt1aWQ6dGhpcy51aWQsZGlzcGxheU5hbWU6dGhpcy5kaXNwbGF5TmFtZSxmYWN0b3JJZDp0aGlzLmZhY3RvcklkLGVucm9sbG1lbnRUaW1lOnRoaXMuZW5yb2xsbWVudFRpbWV9fTt2YXIgQmk9XCJkaXNwbGF5TmFtZVwiLFdpPVwiZW5yb2xsZWRBdFwiLFhpPVwibWZhRW5yb2xsbWVudElkXCIsSmk9XCJwaG9uZUluZm9cIjtmdW5jdGlvbiBZaSh0KXtLaS5jYWxsKHRoaXMsdCksVmkodGhpcyxcInBob25lTnVtYmVyXCIsdFtKaV0pfWZ1bmN0aW9uIHppKHQpe3ZhciBlPXt9LG49dFt0cl0saT10W25yXSxyPXRbaXJdO2lmKHQ9R2kodFtlcl0pLCFyfHxyIT1aaSYmciE9UWkmJiFufHxyPT1RaSYmIWl8fHI9PSRpJiYhdCl0aHJvdyBFcnJvcihcIkludmFsaWQgY2hlY2tBY3Rpb25Db2RlIHJlc3BvbnNlIVwiKTtyPT1RaT8oZVtvcl09bnx8bnVsbCxlW3NyXT1ufHxudWxsLGVbcnJdPWkpOihlW29yXT1pfHxudWxsLGVbc3JdPWl8fG51bGwsZVtycl09bnx8bnVsbCksZVthcl09dHx8bnVsbCxWaSh0aGlzLGNyLHIpLFZpKHRoaXMsdXIsSGkoZSkpfXcoWWksS2kpLFlpLnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7dmFyIHQ9WWkuYWIudy5jYWxsKHRoaXMpO3JldHVybiB0LnBob25lTnVtYmVyPXRoaXMucGhvbmVOdW1iZXIsdH07dmFyICRpPVwiUkVWRVJUX1NFQ09ORF9GQUNUT1JfQURESVRJT05cIixaaT1cIkVNQUlMX1NJR05JTlwiLFFpPVwiVkVSSUZZX0FORF9DSEFOR0VfRU1BSUxcIix0cj1cImVtYWlsXCIsZXI9XCJtZmFJbmZvXCIsbnI9XCJuZXdFbWFpbFwiLGlyPVwicmVxdWVzdFR5cGVcIixycj1cImVtYWlsXCIsb3I9XCJmcm9tRW1haWxcIixhcj1cIm11bHRpRmFjdG9ySW5mb1wiLHNyPVwicHJldmlvdXNFbWFpbFwiLHVyPVwiZGF0YVwiLGNyPVwib3BlcmF0aW9uXCI7ZnVuY3Rpb24gaHIodCl7dmFyIGU9X24odD1Pbih0KSxscil8fG51bGwsbj1fbih0LGZyKXx8bnVsbCxpPShpPV9uKHQsdnIpfHxudWxsKSYmZ3JbaV18fG51bGw7aWYoIWV8fCFufHwhaSl0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsbHIrXCIsIFwiK2ZyK1wiYW5kIFwiK3ZyK1wiIGFyZSByZXF1aXJlZCBpbiBhIHZhbGlkIGFjdGlvbiBjb2RlIFVSTC5cIik7RmkodGhpcyx7YXBpS2V5OmUsb3BlcmF0aW9uOmksY29kZTpuLGNvbnRpbnVlVXJsOl9uKHQsZHIpfHxudWxsLGxhbmd1YWdlQ29kZTpfbih0LHByKXx8bnVsbCx0ZW5hbnRJZDpfbih0LG1yKXx8bnVsbH0pfXZhciBscj1cImFwaUtleVwiLGZyPVwib29iQ29kZVwiLGRyPVwiY29udGludWVVcmxcIixwcj1cImxhbmd1YWdlQ29kZVwiLHZyPVwibW9kZVwiLG1yPVwidGVuYW50SWRcIixncj17cmVjb3ZlckVtYWlsOlwiUkVDT1ZFUl9FTUFJTFwiLHJlc2V0UGFzc3dvcmQ6XCJQQVNTV09SRF9SRVNFVFwiLHJldmVydFNlY29uZEZhY3RvckFkZGl0aW9uOiRpLHNpZ25JbjpaaSx2ZXJpZnlBbmRDaGFuZ2VFbWFpbDpRaSx2ZXJpZnlFbWFpbDpcIlZFUklGWV9FTUFJTFwifTtmdW5jdGlvbiBicih0KXt0cnl7cmV0dXJuIG5ldyBocih0KX1jYXRjaCh0KXtyZXR1cm4gbnVsbH19ZnVuY3Rpb24geXIodCl7aWYodm9pZCAwPT09KGU9dFtBcl0pKXRocm93IG5ldyBUKFwibWlzc2luZy1jb250aW51ZS11cmlcIik7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGV8fFwic3RyaW5nXCI9PXR5cGVvZiBlJiYhZS5sZW5ndGgpdGhyb3cgbmV3IFQoXCJpbnZhbGlkLWNvbnRpbnVlLXVyaVwiKTtpZih0aGlzLmg9ZSx0aGlzLmI9dGhpcy5hPW51bGwsdGhpcy5nPSExLChpPXRbd3JdKSYmXCJvYmplY3RcIj09dHlwZW9mIGkpe3ZhciBlPWlbTnJdLG49aVtrcl0saT1pW1NyXTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5sZW5ndGgpe2lmKHRoaXMuYT1lLHZvaWQgMCE9PW4mJlwiYm9vbGVhblwiIT10eXBlb2Ygbil0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsa3IrXCIgcHJvcGVydHkgbXVzdCBiZSBhIGJvb2xlYW4gd2hlbiBzcGVjaWZpZWQuXCIpO2lmKHRoaXMuZz0hIW4sdm9pZCAwIT09aSYmKFwic3RyaW5nXCIhPXR5cGVvZiBpfHxcInN0cmluZ1wiPT10eXBlb2YgaSYmIWkubGVuZ3RoKSl0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsU3IrXCIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbiBlbXB0eSBzdHJpbmcgd2hlbiBzcGVjaWZpZWQuXCIpO3RoaXMuYj1pfHxudWxsfWVsc2V7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsTnIrXCIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbiBlbXB0eSBzdHJpbmcgd2hlbiBzcGVjaWZpZWQuXCIpO2lmKHZvaWQgMCE9PW58fHZvaWQgMCE9PWkpdGhyb3cgbmV3IFQoXCJtaXNzaW5nLWFuZHJvaWQtcGtnLW5hbWVcIil9fWVsc2UgaWYodm9pZCAwIT09aSl0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsd3IrXCIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbiBudWxsIG9iamVjdCB3aGVuIHNwZWNpZmllZC5cIik7aWYodGhpcy5mPW51bGwsKGU9dFtFcl0pJiZcIm9iamVjdFwiPT10eXBlb2YgZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mKGU9ZVtfcl0pJiZlLmxlbmd0aCl0aGlzLmY9ZTtlbHNlIGlmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLF9yK1wiIHByb3BlcnR5IG11c3QgYmUgYSBub24gZW1wdHkgc3RyaW5nIHdoZW4gc3BlY2lmaWVkLlwiKX1lbHNlIGlmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLEVyK1wiIHByb3BlcnR5IG11c3QgYmUgYSBub24gbnVsbCBvYmplY3Qgd2hlbiBzcGVjaWZpZWQuXCIpO2lmKHZvaWQgMCE9PShlPXRbVHJdKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIixUcitcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgYm9vbGVhbiB3aGVuIHNwZWNpZmllZC5cIik7aWYodGhpcy5jPSEhZSx2b2lkIDAhPT0odD10W0lyXSkmJihcInN0cmluZ1wiIT10eXBlb2YgdHx8XCJzdHJpbmdcIj09dHlwZW9mIHQmJiF0Lmxlbmd0aCkpdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLElyK1wiIHByb3BlcnR5IG11c3QgYmUgYSBub24gZW1wdHkgc3RyaW5nIHdoZW4gc3BlY2lmaWVkLlwiKTt0aGlzLmk9dHx8bnVsbH12YXIgd3I9XCJhbmRyb2lkXCIsSXI9XCJkeW5hbWljTGlua0RvbWFpblwiLFRyPVwiaGFuZGxlQ29kZUluQXBwXCIsRXI9XCJpT1NcIixBcj1cInVybFwiLGtyPVwiaW5zdGFsbEFwcFwiLFNyPVwibWluaW11bVZlcnNpb25cIixOcj1cInBhY2thZ2VOYW1lXCIsX3I9XCJidW5kbGVJZFwiO2Z1bmN0aW9uIE9yKHQpe3ZhciBlLG49e307Zm9yKGUgaW4gbi5jb250aW51ZVVybD10Lmgsbi5jYW5IYW5kbGVDb2RlSW5BcHA9dC5jLChuLmFuZHJvaWRQYWNrYWdlTmFtZT10LmEpJiYobi5hbmRyb2lkTWluaW11bVZlcnNpb249dC5iLG4uYW5kcm9pZEluc3RhbGxBcHA9dC5nKSxuLmlPU0J1bmRsZUlkPXQuZixuLmR5bmFtaWNMaW5rRG9tYWluPXQuaSxuKW51bGw9PT1uW2VdJiZkZWxldGUgbltlXTtyZXR1cm4gbn12YXIgQ3I9bnVsbDtmdW5jdGlvbiBScih0KXt2YXIgZT1bXTtyZXR1cm4gZnVuY3Rpb24oaSx0KXtmdW5jdGlvbiBlKHQpe2Zvcig7cjxpLmxlbmd0aDspe3ZhciBlPWkuY2hhckF0KHIrKyksbj1DcltlXTtpZihudWxsIT1uKXJldHVybiBuO2lmKCEvXltcXHNcXHhhMF0qJC8udGVzdChlKSl0aHJvdyBFcnJvcihcIlVua25vd24gYmFzZTY0IGVuY29kaW5nIGF0IGNoYXI6IFwiK2UpfXJldHVybiB0fSFmdW5jdGlvbigpe2lmKCFDcil7Q3I9e307Zm9yKHZhciB0PVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIi5zcGxpdChcIlwiKSxlPVtcIisvPVwiLFwiKy9cIixcIi1fPVwiLFwiLV8uXCIsXCItX1wiXSxuPTA7bjw1O24rKylmb3IodmFyIGk9dC5jb25jYXQoZVtuXS5zcGxpdChcIlwiKSkscj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO3ZvaWQgMD09PUNyW29dJiYoQ3Jbb109cil9fX0oKTtmb3IodmFyIHI9MDs7KXt2YXIgbj1lKC0xKSxvPWUoMCksYT1lKDY0KSxzPWUoNjQpO2lmKDY0PT09cyYmLTE9PT1uKWJyZWFrO3Qobjw8MnxvPj40KSw2NCE9YSYmKHQobzw8NCYyNDB8YT4+MiksNjQhPXMmJnQoYTw8NiYxOTJ8cykpfX0odCxmdW5jdGlvbih0KXtlLnB1c2godCl9KSxlfWZ1bmN0aW9uIERyKHQpe3ZhciBlPUxyKHQpO2lmKCEoZSYmZS5zdWImJmUuaXNzJiZlLmF1ZCYmZS5leHApKXRocm93IEVycm9yKFwiSW52YWxpZCBKV1RcIik7dGhpcy5oPXQsdGhpcy5hPWUuZXhwLHRoaXMuaT1lLnN1Yix0PURhdGUubm93KCkvMWUzLHRoaXMuZz1lLmlhdHx8KHQ+dGhpcy5hP3RoaXMuYTp0KSx0aGlzLmI9ZS5wcm92aWRlcl9pZHx8ZS5maXJlYmFzZSYmZS5maXJlYmFzZS5zaWduX2luX3Byb3ZpZGVyfHxudWxsLHRoaXMuZj1lLmZpcmViYXNlJiZlLmZpcmViYXNlLnRlbmFudHx8bnVsbCx0aGlzLmM9ISFlLmlzX2Fub255bW91c3x8XCJhbm9ueW1vdXNcIj09dGhpcy5ifWZ1bmN0aW9uIFByKHQpe3RyeXtyZXR1cm4gbmV3IERyKHQpfWNhdGNoKHQpe3JldHVybiBudWxsfX1mdW5jdGlvbiBMcih0KXtpZighdClyZXR1cm4gbnVsbDtpZigzIT0odD10LnNwbGl0KFwiLlwiKSkubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgZT0oNC0odD10WzFdKS5sZW5ndGglNCklNCxuPTA7bjxlO24rKyl0Kz1cIi5cIjt0cnl7dmFyIGk9UnIodCk7Zm9yKHQ9W10sbj1lPTA7ZTxpLmxlbmd0aDspe3ZhciByLG8sYSxzPWlbZSsrXTtzPDEyOD90W24rK109U3RyaW5nLmZyb21DaGFyQ29kZShzKToxOTE8cyYmczwyMjQ/KHI9aVtlKytdLHRbbisrXT1TdHJpbmcuZnJvbUNoYXJDb2RlKCgzMSZzKTw8Nnw2MyZyKSk6MjM5PHMmJnM8MzY1PyhhPSgoNyZzKTw8MTh8KDYzJihyPWlbZSsrXSkpPDwxMnwoNjMmKG89aVtlKytdKSk8PDZ8NjMmaVtlKytdKS02NTUzNix0W24rK109U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NisoYT4+MTApKSx0W24rK109U3RyaW5nLmZyb21DaGFyQ29kZSg1NjMyMCsoMTAyMyZhKSkpOihyPWlbZSsrXSxvPWlbZSsrXSx0W24rK109U3RyaW5nLmZyb21DaGFyQ29kZSgoMTUmcyk8PDEyfCg2MyZyKTw8Nnw2MyZvKSl9cmV0dXJuIEpTT04ucGFyc2UodC5qb2luKFwiXCIpKX1jYXRjaCh0KXt9cmV0dXJuIG51bGx9RHIucHJvdG90eXBlLlQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfSxEci5wcm90b3R5cGUubD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9LERyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmh9O3ZhciB4cj1cIm9hdXRoX2NvbnN1bWVyX2tleSBvYXV0aF9ub25jZSBvYXV0aF9zaWduYXR1cmUgb2F1dGhfc2lnbmF0dXJlX21ldGhvZCBvYXV0aF90aW1lc3RhbXAgb2F1dGhfdG9rZW4gb2F1dGhfdmVyc2lvblwiLnNwbGl0KFwiIFwiKSxNcj1bXCJjbGllbnRfaWRcIixcInJlc3BvbnNlX3R5cGVcIixcInNjb3BlXCIsXCJyZWRpcmVjdF91cmlcIixcInN0YXRlXCJdLGpyPXtuZDp7SmE6XCJsb2NhbGVcIix1YTo3MDAsdGE6NjAwLGZhOlwiZmFjZWJvb2suY29tXCIsWGE6TXJ9LHBkOntKYTpudWxsLHVhOjUwMCx0YTo3NTAsZmE6XCJnaXRodWIuY29tXCIsWGE6TXJ9LHFkOntKYTpcImhsXCIsdWE6NTE1LHRhOjY4MCxmYTpcImdvb2dsZS5jb21cIixYYTpNcn0sd2Q6e0phOlwibGFuZ1wiLHVhOjQ4NSx0YTo3MDUsZmE6XCJ0d2l0dGVyLmNvbVwiLFhhOnhyfSxrZDp7SmE6XCJsb2NhbGVcIix1YTo2NDAsdGE6NjAwLGZhOlwiYXBwbGUuY29tXCIsWGE6W119fTtmdW5jdGlvbiBVcih0KXtmb3IodmFyIGUgaW4ganIpaWYoanJbZV0uZmE9PXQpcmV0dXJuIGpyW2VdO3JldHVybiBudWxsfWZ1bmN0aW9uIFZyKHQpe3ZhciBlPXt9O2VbXCJmYWNlYm9vay5jb21cIl09R3IsZVtcImdvb2dsZS5jb21cIl09V3IsZVtcImdpdGh1Yi5jb21cIl09QnIsZVtcInR3aXR0ZXIuY29tXCJdPVhyO3ZhciBuPXQmJnRbcXJdO3RyeXtpZihuKXJldHVybiBuZXcoZVtuXXx8S3IpKHQpO2lmKHZvaWQgMCE9PXRbRnJdKXJldHVybiBuZXcgSHIodCl9Y2F0Y2godCl7fXJldHVybiBudWxsfXZhciBGcj1cImlkVG9rZW5cIixxcj1cInByb3ZpZGVySWRcIjtmdW5jdGlvbiBIcih0KXt2YXIgZSxuPXRbcXJdO2lmKG58fCF0W0ZyXXx8KGU9UHIodFtGcl0pKSYmZS5iJiYobj1lLmIpLCFuKXRocm93IEVycm9yKFwiSW52YWxpZCBhZGRpdGlvbmFsIHVzZXIgaW5mbyFcIik7XCJhbm9ueW1vdXNcIiE9biYmXCJjdXN0b21cIiE9bnx8KG49bnVsbCksZT0hMSx2b2lkIDAhPT10LmlzTmV3VXNlcj9lPSEhdC5pc05ld1VzZXI6XCJpZGVudGl0eXRvb2xraXQjU2lnbnVwTmV3VXNlclJlc3BvbnNlXCI9PT10LmtpbmQmJihlPSEwKSxWaSh0aGlzLFwicHJvdmlkZXJJZFwiLG4pLFZpKHRoaXMsXCJpc05ld1VzZXJcIixlKX1mdW5jdGlvbiBLcih0KXtIci5jYWxsKHRoaXMsdCksVmkodGhpcyxcInByb2ZpbGVcIixIaSgodD1TaSh0LnJhd1VzZXJJbmZvfHxcInt9XCIpKXx8e30pKX1mdW5jdGlvbiBHcih0KXtpZihLci5jYWxsKHRoaXMsdCksXCJmYWNlYm9vay5jb21cIiE9dGhpcy5wcm92aWRlcklkKXRocm93IEVycm9yKFwiSW52YWxpZCBwcm92aWRlciBJRCFcIil9ZnVuY3Rpb24gQnIodCl7aWYoS3IuY2FsbCh0aGlzLHQpLFwiZ2l0aHViLmNvbVwiIT10aGlzLnByb3ZpZGVySWQpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIHByb3ZpZGVyIElEIVwiKTtWaSh0aGlzLFwidXNlcm5hbWVcIix0aGlzLnByb2ZpbGUmJnRoaXMucHJvZmlsZS5sb2dpbnx8bnVsbCl9ZnVuY3Rpb24gV3IodCl7aWYoS3IuY2FsbCh0aGlzLHQpLFwiZ29vZ2xlLmNvbVwiIT10aGlzLnByb3ZpZGVySWQpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIHByb3ZpZGVyIElEIVwiKX1mdW5jdGlvbiBYcih0KXtpZihLci5jYWxsKHRoaXMsdCksXCJ0d2l0dGVyLmNvbVwiIT10aGlzLnByb3ZpZGVySWQpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIHByb3ZpZGVyIElEIVwiKTtWaSh0aGlzLFwidXNlcm5hbWVcIix0LnNjcmVlbk5hbWV8fG51bGwpfWZ1bmN0aW9uIEpyKHQpe3ZhciBlPV9uKGk9T24odCksXCJsaW5rXCIpLG49X24oT24oZSksXCJsaW5rXCIpLGk9X24oaSxcImRlZXBfbGlua19pZFwiKTtyZXR1cm4gX24oT24oaSksXCJsaW5rXCIpfHxpfHxufHxlfHx0fWZ1bmN0aW9uIFlyKHQsZSl7aWYoIXQmJiFlKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIixcIkludGVybmFsIGFzc2VydDogbm8gcmF3IHNlc3Npb24gc3RyaW5nIGF2YWlsYWJsZVwiKTtpZih0JiZlKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIixcIkludGVybmFsIGFzc2VydDogdW5hYmxlIHRvIGRldGVybWluZSB0aGUgc2Vzc2lvbiB0eXBlXCIpO3RoaXMuYT10fHxudWxsLHRoaXMuYj1lfHxudWxsLHRoaXMudHlwZT10aGlzLmE/enI6JHJ9dyhLcixIciksdyhHcixLciksdyhCcixLciksdyhXcixLciksdyhYcixLcik7dmFyIHpyPVwiZW5yb2xsXCIsJHI9XCJzaWduaW5cIjtmdW5jdGlvbiBacigpe31mdW5jdGlvbiBRcih0LG4pe3JldHVybiB0LnRoZW4oZnVuY3Rpb24odCl7aWYodFtIYV0pe3ZhciBlPVByKHRbSGFdKTtpZighZXx8biE9ZS5pKXRocm93IG5ldyBUKFwidXNlci1taXNtYXRjaFwiKTtyZXR1cm4gdH10aHJvdyBuZXcgVChcInVzZXItbWlzbWF0Y2hcIil9KS5vKGZ1bmN0aW9uKHQpe3Rocm93IHQmJnQuY29kZSYmdC5jb2RlPT1rK1widXNlci1ub3QtZm91bmRcIj9uZXcgVChcInVzZXItbWlzbWF0Y2hcIik6dH0pfWZ1bmN0aW9uIHRvKHQsZSl7aWYoIWUpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiLFwiZmFpbGVkIHRvIGNvbnN0cnVjdCBhIGNyZWRlbnRpYWxcIik7dGhpcy5hPWUsVmkodGhpcyxcInByb3ZpZGVySWRcIix0KSxWaSh0aGlzLFwic2lnbkluTWV0aG9kXCIsdCl9ZnVuY3Rpb24gZW8odCl7cmV0dXJue3BlbmRpbmdUb2tlbjp0LmEscmVxdWVzdFVyaTpcImh0dHA6Ly9sb2NhbGhvc3RcIn19ZnVuY3Rpb24gbm8odCl7aWYodCYmdC5wcm92aWRlcklkJiZ0LnNpZ25Jbk1ldGhvZCYmMD09dC5wcm92aWRlcklkLmluZGV4T2YoXCJzYW1sLlwiKSYmdC5wZW5kaW5nVG9rZW4pdHJ5e3JldHVybiBuZXcgdG8odC5wcm92aWRlcklkLHQucGVuZGluZ1Rva2VuKX1jYXRjaCh0KXt9cmV0dXJuIG51bGx9ZnVuY3Rpb24gaW8odCxlLG4pe2lmKHRoaXMuYT1udWxsLGUuaWRUb2tlbnx8ZS5hY2Nlc3NUb2tlbillLmlkVG9rZW4mJlZpKHRoaXMsXCJpZFRva2VuXCIsZS5pZFRva2VuKSxlLmFjY2Vzc1Rva2VuJiZWaSh0aGlzLFwiYWNjZXNzVG9rZW5cIixlLmFjY2Vzc1Rva2VuKSxlLm5vbmNlJiYhZS5wZW5kaW5nVG9rZW4mJlZpKHRoaXMsXCJub25jZVwiLGUubm9uY2UpLGUucGVuZGluZ1Rva2VuJiYodGhpcy5hPWUucGVuZGluZ1Rva2VuKTtlbHNle2lmKCFlLm9hdXRoVG9rZW58fCFlLm9hdXRoVG9rZW5TZWNyZXQpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiLFwiZmFpbGVkIHRvIGNvbnN0cnVjdCBhIGNyZWRlbnRpYWxcIik7VmkodGhpcyxcImFjY2Vzc1Rva2VuXCIsZS5vYXV0aFRva2VuKSxWaSh0aGlzLFwic2VjcmV0XCIsZS5vYXV0aFRva2VuU2VjcmV0KX1WaSh0aGlzLFwicHJvdmlkZXJJZFwiLHQpLFZpKHRoaXMsXCJzaWduSW5NZXRob2RcIixuKX1mdW5jdGlvbiBybyh0KXt2YXIgZT17fTtyZXR1cm4gdC5pZFRva2VuJiYoZS5pZF90b2tlbj10LmlkVG9rZW4pLHQuYWNjZXNzVG9rZW4mJihlLmFjY2Vzc190b2tlbj10LmFjY2Vzc1Rva2VuKSx0LnNlY3JldCYmKGUub2F1dGhfdG9rZW5fc2VjcmV0PXQuc2VjcmV0KSxlLnByb3ZpZGVySWQ9dC5wcm92aWRlcklkLHQubm9uY2UmJiF0LmEmJihlLm5vbmNlPXQubm9uY2UpLGU9e3Bvc3RCb2R5OnFuKGUpLnRvU3RyaW5nKCkscmVxdWVzdFVyaTpcImh0dHA6Ly9sb2NhbGhvc3RcIn0sdC5hJiYoZGVsZXRlIGUucG9zdEJvZHksZS5wZW5kaW5nVG9rZW49dC5hKSxlfWZ1bmN0aW9uIG9vKHQpe2lmKHQmJnQucHJvdmlkZXJJZCYmdC5zaWduSW5NZXRob2Qpe3ZhciBlPXtpZFRva2VuOnQub2F1dGhJZFRva2VuLGFjY2Vzc1Rva2VuOnQub2F1dGhUb2tlblNlY3JldD9udWxsOnQub2F1dGhBY2Nlc3NUb2tlbixvYXV0aFRva2VuU2VjcmV0OnQub2F1dGhUb2tlblNlY3JldCxvYXV0aFRva2VuOnQub2F1dGhUb2tlblNlY3JldCYmdC5vYXV0aEFjY2Vzc1Rva2VuLG5vbmNlOnQubm9uY2UscGVuZGluZ1Rva2VuOnQucGVuZGluZ1Rva2VufTt0cnl7cmV0dXJuIG5ldyBpbyh0LnByb3ZpZGVySWQsZSx0LnNpZ25Jbk1ldGhvZCl9Y2F0Y2godCl7fX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBhbyh0LGUpe3RoaXMuUWM9ZXx8W10sRmkodGhpcyx7cHJvdmlkZXJJZDp0LGlzT0F1dGhQcm92aWRlcjohMH0pLHRoaXMuSWI9e30sdGhpcy5wYj0oVXIodCl8fHt9KS5KYXx8bnVsbCx0aGlzLm9iPW51bGx9ZnVuY3Rpb24gc28odCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHR8fDAhPXQuaW5kZXhPZihcInNhbWwuXCIpKXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIiwnU0FNTCBwcm92aWRlciBJRHMgbXVzdCBiZSBwcmVmaXhlZCB3aXRoIFwic2FtbC5cIicpO2FvLmNhbGwodGhpcyx0LFtdKX1mdW5jdGlvbiB1byh0KXthby5jYWxsKHRoaXMsdCxNciksdGhpcy5hPVtdfWZ1bmN0aW9uIGNvKCl7dW8uY2FsbCh0aGlzLFwiZmFjZWJvb2suY29tXCIpfWZ1bmN0aW9uIGhvKHQpe2lmKCF0KXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIixcImNyZWRlbnRpYWwgZmFpbGVkOiBleHBlY3RlZCAxIGFyZ3VtZW50ICh0aGUgT0F1dGggYWNjZXNzIHRva2VuKS5cIik7dmFyIGU9dDtyZXR1cm4gbSh0KSYmKGU9dC5hY2Nlc3NUb2tlbiksKG5ldyBjbykuY3JlZGVudGlhbCh7YWNjZXNzVG9rZW46ZX0pfWZ1bmN0aW9uIGxvKCl7dW8uY2FsbCh0aGlzLFwiZ2l0aHViLmNvbVwiKX1mdW5jdGlvbiBmbyh0KXtpZighdCl0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsXCJjcmVkZW50aWFsIGZhaWxlZDogZXhwZWN0ZWQgMSBhcmd1bWVudCAodGhlIE9BdXRoIGFjY2VzcyB0b2tlbikuXCIpO3ZhciBlPXQ7cmV0dXJuIG0odCkmJihlPXQuYWNjZXNzVG9rZW4pLChuZXcgbG8pLmNyZWRlbnRpYWwoe2FjY2Vzc1Rva2VuOmV9KX1mdW5jdGlvbiBwbygpe3VvLmNhbGwodGhpcyxcImdvb2dsZS5jb21cIiksdGhpcy5DYShcInByb2ZpbGVcIil9ZnVuY3Rpb24gdm8odCxlKXt2YXIgbj10O3JldHVybiBtKHQpJiYobj10LmlkVG9rZW4sZT10LmFjY2Vzc1Rva2VuKSwobmV3IHBvKS5jcmVkZW50aWFsKHtpZFRva2VuOm4sYWNjZXNzVG9rZW46ZX0pfWZ1bmN0aW9uIG1vKCl7YW8uY2FsbCh0aGlzLFwidHdpdHRlci5jb21cIix4cil9ZnVuY3Rpb24gZ28odCxlKXt2YXIgbj10O2lmKCEobj0hbShuKT97b2F1dGhUb2tlbjp0LG9hdXRoVG9rZW5TZWNyZXQ6ZX06bikub2F1dGhUb2tlbnx8IW4ub2F1dGhUb2tlblNlY3JldCl0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsXCJjcmVkZW50aWFsIGZhaWxlZDogZXhwZWN0ZWQgMiBhcmd1bWVudHMgKHRoZSBPQXV0aCBhY2Nlc3MgdG9rZW4gYW5kIHNlY3JldCkuXCIpO3JldHVybiBuZXcgaW8oXCJ0d2l0dGVyLmNvbVwiLG4sXCJ0d2l0dGVyLmNvbVwiKX1mdW5jdGlvbiBibyh0LGUsbil7dGhpcy5hPXQsdGhpcy5mPWUsVmkodGhpcyxcInByb3ZpZGVySWRcIixcInBhc3N3b3JkXCIpLFZpKHRoaXMsXCJzaWduSW5NZXRob2RcIixuPT09d28uRU1BSUxfTElOS19TSUdOX0lOX01FVEhPRD93by5FTUFJTF9MSU5LX1NJR05fSU5fTUVUSE9EOndvLkVNQUlMX1BBU1NXT1JEX1NJR05fSU5fTUVUSE9EKX1mdW5jdGlvbiB5byh0KXtyZXR1cm4gdCYmdC5lbWFpbCYmdC5wYXNzd29yZD9uZXcgYm8odC5lbWFpbCx0LnBhc3N3b3JkLHQuc2lnbkluTWV0aG9kKTpudWxsfWZ1bmN0aW9uIHdvKCl7RmkodGhpcyx7cHJvdmlkZXJJZDpcInBhc3N3b3JkXCIsaXNPQXV0aFByb3ZpZGVyOiExfSl9ZnVuY3Rpb24gSW8odCxlKXtpZighKGU9VG8oZSkpKXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIixcIkludmFsaWQgZW1haWwgbGluayFcIik7cmV0dXJuIG5ldyBibyh0LGUuY29kZSx3by5FTUFJTF9MSU5LX1NJR05fSU5fTUVUSE9EKX1mdW5jdGlvbiBUbyh0KXtyZXR1cm4odD1icih0PUpyKHQpKSkmJnQub3BlcmF0aW9uPT09Wmk/dDpudWxsfWZ1bmN0aW9uIEVvKHQpe2lmKCEodC5lYiYmdC5jYnx8dC5MYSYmdC5lYSkpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKTt0aGlzLmE9dCxWaSh0aGlzLFwicHJvdmlkZXJJZFwiLFwicGhvbmVcIiksdGhpcy5mYT1cInBob25lXCIsVmkodGhpcyxcInNpZ25Jbk1ldGhvZFwiLFwicGhvbmVcIil9ZnVuY3Rpb24gQW8oZSl7aWYoZSYmXCJwaG9uZVwiPT09ZS5wcm92aWRlcklkJiYoZS52ZXJpZmljYXRpb25JZCYmZS52ZXJpZmljYXRpb25Db2RlfHxlLnRlbXBvcmFyeVByb29mJiZlLnBob25lTnVtYmVyKSl7dmFyIG49e307cmV0dXJuIFYoW1widmVyaWZpY2F0aW9uSWRcIixcInZlcmlmaWNhdGlvbkNvZGVcIixcInRlbXBvcmFyeVByb29mXCIsXCJwaG9uZU51bWJlclwiXSxmdW5jdGlvbih0KXtlW3RdJiYoblt0XT1lW3RdKX0pLG5ldyBFbyhuKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBrbyh0KXtyZXR1cm4gdC5hLkxhJiZ0LmEuZWE/e3RlbXBvcmFyeVByb29mOnQuYS5MYSxwaG9uZU51bWJlcjp0LmEuZWF9OntzZXNzaW9uSW5mbzp0LmEuZWIsY29kZTp0LmEuY2J9fWZ1bmN0aW9uIFNvKHQpe3RyeXt0aGlzLmE9dHx8emwuZGVmYXVsdC5hdXRoKCl9Y2F0Y2godCl7dGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLFwiRWl0aGVyIGFuIGluc3RhbmNlIG9mIGZpcmViYXNlLmF1dGguQXV0aCBtdXN0IGJlIHBhc3NlZCBhcyBhbiBhcmd1bWVudCB0byB0aGUgZmlyZWJhc2UuYXV0aC5QaG9uZUF1dGhQcm92aWRlciBjb25zdHJ1Y3Rvciwgb3IgdGhlIGRlZmF1bHQgZmlyZWJhc2UgQXBwIGluc3RhbmNlIG11c3QgYmUgaW5pdGlhbGl6ZWQgdmlhIGZpcmViYXNlLmluaXRpYWxpemVBcHAoKS5cIil9RmkodGhpcyx7cHJvdmlkZXJJZDpcInBob25lXCIsaXNPQXV0aFByb3ZpZGVyOiExfSl9ZnVuY3Rpb24gTm8odCxlKXtpZighdCl0aHJvdyBuZXcgVChcIm1pc3NpbmctdmVyaWZpY2F0aW9uLWlkXCIpO2lmKCFlKXRocm93IG5ldyBUKFwibWlzc2luZy12ZXJpZmljYXRpb24tY29kZVwiKTtyZXR1cm4gbmV3IEVvKHtlYjp0LGNiOmV9KX1mdW5jdGlvbiBfbyh0KXtpZih0LnRlbXBvcmFyeVByb29mJiZ0LnBob25lTnVtYmVyKXJldHVybiBuZXcgRW8oe0xhOnQudGVtcG9yYXJ5UHJvb2YsZWE6dC5waG9uZU51bWJlcn0pO3ZhciBlPXQmJnQucHJvdmlkZXJJZDtpZighZXx8XCJwYXNzd29yZFwiPT09ZSlyZXR1cm4gbnVsbDt2YXIgbj10JiZ0Lm9hdXRoQWNjZXNzVG9rZW4saT10JiZ0Lm9hdXRoVG9rZW5TZWNyZXQscj10JiZ0Lm5vbmNlLG89dCYmdC5vYXV0aElkVG9rZW4sYT10JiZ0LnBlbmRpbmdUb2tlbjt0cnl7c3dpdGNoKGUpe2Nhc2VcImdvb2dsZS5jb21cIjpyZXR1cm4gdm8obyxuKTtjYXNlXCJmYWNlYm9vay5jb21cIjpyZXR1cm4gaG8obik7Y2FzZVwiZ2l0aHViLmNvbVwiOnJldHVybiBmbyhuKTtjYXNlXCJ0d2l0dGVyLmNvbVwiOnJldHVybiBnbyhuLGkpO2RlZmF1bHQ6cmV0dXJuIG58fGl8fG98fGE/YT8wPT1lLmluZGV4T2YoXCJzYW1sLlwiKT9uZXcgdG8oZSxhKTpuZXcgaW8oZSx7cGVuZGluZ1Rva2VuOmEsaWRUb2tlbjp0Lm9hdXRoSWRUb2tlbixhY2Nlc3NUb2tlbjp0Lm9hdXRoQWNjZXNzVG9rZW59LGUpOm5ldyB1byhlKS5jcmVkZW50aWFsKHtpZFRva2VuOm8sYWNjZXNzVG9rZW46bixyYXdOb25jZTpyfSk6bnVsbH19Y2F0Y2godCl7cmV0dXJuIG51bGx9fWZ1bmN0aW9uIE9vKHQpe2lmKCF0LmlzT0F1dGhQcm92aWRlcil0aHJvdyBuZXcgVChcImludmFsaWQtb2F1dGgtcHJvdmlkZXJcIil9ZnVuY3Rpb24gQ28odCxlLG4saSxyLG8sYSl7aWYodGhpcy5jPXQsdGhpcy5iPWV8fG51bGwsdGhpcy5nPW58fG51bGwsdGhpcy5mPWl8fG51bGwsdGhpcy5pPW98fG51bGwsdGhpcy5oPWF8fG51bGwsdGhpcy5hPXJ8fG51bGwsIXRoaXMuZyYmIXRoaXMuYSl0aHJvdyBuZXcgVChcImludmFsaWQtYXV0aC1ldmVudFwiKTtpZih0aGlzLmcmJnRoaXMuYSl0aHJvdyBuZXcgVChcImludmFsaWQtYXV0aC1ldmVudFwiKTtpZih0aGlzLmcmJiF0aGlzLmYpdGhyb3cgbmV3IFQoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIil9ZnVuY3Rpb24gUm8odCl7cmV0dXJuKHQ9dHx8e30pLnR5cGU/bmV3IENvKHQudHlwZSx0LmV2ZW50SWQsdC51cmxSZXNwb25zZSx0LnNlc3Npb25JZCx0LmVycm9yJiZFKHQuZXJyb3IpLHQucG9zdEJvZHksdC50ZW5hbnRJZCk6bnVsbH1mdW5jdGlvbiBEbygpe3RoaXMuYj1udWxsLHRoaXMuYT1bXX1Zci5wcm90b3R5cGUuSGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3llKHRoaXMuYSk6eWUodGhpcy5iKX0sWXIucHJvdG90eXBlLnc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlPT16cj97bXVsdGlGYWN0b3JTZXNzaW9uOntpZFRva2VuOnRoaXMuYX19OnttdWx0aUZhY3RvclNlc3Npb246e3BlbmRpbmdDcmVkZW50aWFsOnRoaXMuYn19fSxaci5wcm90b3R5cGUua2E9ZnVuY3Rpb24oKXt9LFpyLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7fSxaci5wcm90b3R5cGUuYz1mdW5jdGlvbigpe30sWnIucHJvdG90eXBlLnc9ZnVuY3Rpb24oKXt9LHRvLnByb3RvdHlwZS5rYT1mdW5jdGlvbih0KXtyZXR1cm4gaHModCxlbyh0aGlzKSl9LHRvLnByb3RvdHlwZS5iPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZW8odGhpcyk7cmV0dXJuIG4uaWRUb2tlbj1lLGxzKHQsbil9LHRvLnByb3RvdHlwZS5jPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFFyKGZzKHQsZW8odGhpcykpLGUpfSx0by5wcm90b3R5cGUudz1mdW5jdGlvbigpe3JldHVybntwcm92aWRlcklkOnRoaXMucHJvdmlkZXJJZCxzaWduSW5NZXRob2Q6dGhpcy5zaWduSW5NZXRob2QscGVuZGluZ1Rva2VuOnRoaXMuYX19LGlvLnByb3RvdHlwZS5rYT1mdW5jdGlvbih0KXtyZXR1cm4gaHModCxybyh0aGlzKSl9LGlvLnByb3RvdHlwZS5iPWZ1bmN0aW9uKHQsZSl7dmFyIG49cm8odGhpcyk7cmV0dXJuIG4uaWRUb2tlbj1lLGxzKHQsbil9LGlvLnByb3RvdHlwZS5jPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFFyKGZzKHQscm8odGhpcykpLGUpfSxpby5wcm90b3R5cGUudz1mdW5jdGlvbigpe3ZhciB0PXtwcm92aWRlcklkOnRoaXMucHJvdmlkZXJJZCxzaWduSW5NZXRob2Q6dGhpcy5zaWduSW5NZXRob2R9O3JldHVybiB0aGlzLmlkVG9rZW4mJih0Lm9hdXRoSWRUb2tlbj10aGlzLmlkVG9rZW4pLHRoaXMuYWNjZXNzVG9rZW4mJih0Lm9hdXRoQWNjZXNzVG9rZW49dGhpcy5hY2Nlc3NUb2tlbiksdGhpcy5zZWNyZXQmJih0Lm9hdXRoVG9rZW5TZWNyZXQ9dGhpcy5zZWNyZXQpLHRoaXMubm9uY2UmJih0Lm5vbmNlPXRoaXMubm9uY2UpLHRoaXMuYSYmKHQucGVuZGluZ1Rva2VuPXRoaXMuYSksdH0sYW8ucHJvdG90eXBlLkthPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkliPWN0KHQpLHRoaXN9LHcoc28sYW8pLHcodW8sYW8pLHVvLnByb3RvdHlwZS5DYT1mdW5jdGlvbih0KXtyZXR1cm4gSyh0aGlzLmEsdCl8fHRoaXMuYS5wdXNoKHQpLHRoaXN9LHVvLnByb3RvdHlwZS5RYj1mdW5jdGlvbigpe3JldHVybiBYKHRoaXMuYSl9LHVvLnByb3RvdHlwZS5jcmVkZW50aWFsPWZ1bmN0aW9uKHQsZSl7ZT1tKHQpP3tpZFRva2VuOnQuaWRUb2tlbnx8bnVsbCxhY2Nlc3NUb2tlbjp0LmFjY2Vzc1Rva2VufHxudWxsLG5vbmNlOnQucmF3Tm9uY2V8fG51bGx9OntpZFRva2VuOnR8fG51bGwsYWNjZXNzVG9rZW46ZXx8bnVsbH07aWYoIWUuaWRUb2tlbiYmIWUuYWNjZXNzVG9rZW4pdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLFwiY3JlZGVudGlhbCBmYWlsZWQ6IG11c3QgcHJvdmlkZSB0aGUgSUQgdG9rZW4gYW5kL29yIHRoZSBhY2Nlc3MgdG9rZW4uXCIpO3JldHVybiBuZXcgaW8odGhpcy5wcm92aWRlcklkLGUsdGhpcy5wcm92aWRlcklkKX0sdyhjbyx1byksVmkoY28sXCJQUk9WSURFUl9JRFwiLFwiZmFjZWJvb2suY29tXCIpLFZpKGNvLFwiRkFDRUJPT0tfU0lHTl9JTl9NRVRIT0RcIixcImZhY2Vib29rLmNvbVwiKSx3KGxvLHVvKSxWaShsbyxcIlBST1ZJREVSX0lEXCIsXCJnaXRodWIuY29tXCIpLFZpKGxvLFwiR0lUSFVCX1NJR05fSU5fTUVUSE9EXCIsXCJnaXRodWIuY29tXCIpLHcocG8sdW8pLFZpKHBvLFwiUFJPVklERVJfSURcIixcImdvb2dsZS5jb21cIiksVmkocG8sXCJHT09HTEVfU0lHTl9JTl9NRVRIT0RcIixcImdvb2dsZS5jb21cIiksdyhtbyxhbyksVmkobW8sXCJQUk9WSURFUl9JRFwiLFwidHdpdHRlci5jb21cIiksVmkobW8sXCJUV0lUVEVSX1NJR05fSU5fTUVUSE9EXCIsXCJ0d2l0dGVyLmNvbVwiKSxiby5wcm90b3R5cGUua2E9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2lnbkluTWV0aG9kPT13by5FTUFJTF9MSU5LX1NJR05fSU5fTUVUSE9EP1hzKHQsd3Mse2VtYWlsOnRoaXMuYSxvb2JDb2RlOnRoaXMuZn0pOlhzKHQsSHMse2VtYWlsOnRoaXMuYSxwYXNzd29yZDp0aGlzLmZ9KX0sYm8ucHJvdG90eXBlLmI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zaWduSW5NZXRob2Q9PXdvLkVNQUlMX0xJTktfU0lHTl9JTl9NRVRIT0Q/WHModCxJcyx7aWRUb2tlbjplLGVtYWlsOnRoaXMuYSxvb2JDb2RlOnRoaXMuZn0pOlhzKHQsTHMse2lkVG9rZW46ZSxlbWFpbDp0aGlzLmEscGFzc3dvcmQ6dGhpcy5mfSl9LGJvLnByb3RvdHlwZS5jPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFFyKHRoaXMua2EodCksZSl9LGJvLnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7cmV0dXJue2VtYWlsOnRoaXMuYSxwYXNzd29yZDp0aGlzLmYsc2lnbkluTWV0aG9kOnRoaXMuc2lnbkluTWV0aG9kfX0sRmkod28se1BST1ZJREVSX0lEOlwicGFzc3dvcmRcIn0pLEZpKHdvLHtFTUFJTF9MSU5LX1NJR05fSU5fTUVUSE9EOlwiZW1haWxMaW5rXCJ9KSxGaSh3byx7RU1BSUxfUEFTU1dPUkRfU0lHTl9JTl9NRVRIT0Q6XCJwYXNzd29yZFwifSksRW8ucHJvdG90eXBlLmthPWZ1bmN0aW9uKHQpe3JldHVybiB0LmZiKGtvKHRoaXMpKX0sRW8ucHJvdG90eXBlLmI9ZnVuY3Rpb24odCxlKXt2YXIgbj1rbyh0aGlzKTtyZXR1cm4gbi5pZFRva2VuPWUsWHModCxHcyxuKX0sRW8ucHJvdG90eXBlLmM9ZnVuY3Rpb24odCxlKXt2YXIgbj1rbyh0aGlzKTtyZXR1cm4gbi5vcGVyYXRpb249XCJSRUFVVEhcIixRcih0PVhzKHQsQnMsbiksZSl9LEVvLnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7dmFyIHQ9e3Byb3ZpZGVySWQ6XCJwaG9uZVwifTtyZXR1cm4gdGhpcy5hLmViJiYodC52ZXJpZmljYXRpb25JZD10aGlzLmEuZWIpLHRoaXMuYS5jYiYmKHQudmVyaWZpY2F0aW9uQ29kZT10aGlzLmEuY2IpLHRoaXMuYS5MYSYmKHQudGVtcG9yYXJ5UHJvb2Y9dGhpcy5hLkxhKSx0aGlzLmEuZWEmJih0LnBob25lTnVtYmVyPXRoaXMuYS5lYSksdH0sU28ucHJvdG90eXBlLmZiPWZ1bmN0aW9uKGkscil7dmFyIG89dGhpcy5hLmE7cmV0dXJuIHllKHIudmVyaWZ5KCkpLnRoZW4oZnVuY3Rpb24obil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG4pdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLFwiQW4gaW1wbGVtZW50YXRpb24gb2YgZmlyZWJhc2UuYXV0aC5BcHBsaWNhdGlvblZlcmlmaWVyLnByb3RvdHlwZS52ZXJpZnkoKSBtdXN0IHJldHVybiBhIGZpcmViYXNlLlByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGEgc3RyaW5nLlwiKTtpZihcInJlY2FwdGNoYVwiIT09ci50eXBlKXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIiwnT25seSBmaXJlYmFzZS5hdXRoLkFwcGxpY2F0aW9uVmVyaWZpZXJzIHdpdGggdHlwZT1cInJlY2FwdGNoYVwiIGFyZSBjdXJyZW50bHkgc3VwcG9ydGVkLicpO3ZhciB0PW0oaSk/aS5zZXNzaW9uOm51bGwsZT1tKGkpP2kucGhvbmVOdW1iZXI6aSx0PXQmJnQudHlwZT09enI/dC5IYSgpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIFhzKG8sTXMse2lkVG9rZW46dCxwaG9uZUVucm9sbG1lbnRJbmZvOntwaG9uZU51bWJlcjplLHJlY2FwdGNoYVRva2VuOm59fSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5waG9uZVNlc3Npb25JbmZvLnNlc3Npb25JbmZvfSl9KTp0JiZ0LnR5cGU9PSRyP3QuSGEoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlPW8sdD17bWZhUGVuZGluZ0NyZWRlbnRpYWw6dCxtZmFFbnJvbGxtZW50SWQ6aS5tdWx0aUZhY3RvckhpbnQmJmkubXVsdGlGYWN0b3JIaW50LnVpZHx8aS5tdWx0aUZhY3RvclVpZCxwaG9uZVNpZ25JbkluZm86e3JlY2FwdGNoYVRva2VuOm59fSxYcyhlLGpzLHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQucGhvbmVSZXNwb25zZUluZm8uc2Vzc2lvbkluZm99KTt2YXIgZX0pOlhzKG8sRHMse3Bob25lTnVtYmVyOmUscmVjYXB0Y2hhVG9rZW46bn0pO3JldHVybiB0LnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygci5yZXNldCYmci5yZXNldCgpLHR9LGZ1bmN0aW9uKHQpe3Rocm93XCJmdW5jdGlvblwiPT10eXBlb2Ygci5yZXNldCYmci5yZXNldCgpLHR9KX0pfSxGaShTbyx7UFJPVklERVJfSUQ6XCJwaG9uZVwifSksRmkoU28se1BIT05FX1NJR05fSU5fTUVUSE9EOlwicGhvbmVcIn0pLENvLnByb3RvdHlwZS5nZXRVaWQ9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdC5wdXNoKHRoaXMuYyksdGhpcy5iJiZ0LnB1c2godGhpcy5iKSx0aGlzLmYmJnQucHVzaCh0aGlzLmYpLHRoaXMuaCYmdC5wdXNoKHRoaXMuaCksdC5qb2luKFwiLVwiKX0sQ28ucHJvdG90eXBlLlQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ofSxDby5wcm90b3R5cGUudz1mdW5jdGlvbigpe3JldHVybnt0eXBlOnRoaXMuYyxldmVudElkOnRoaXMuYix1cmxSZXNwb25zZTp0aGlzLmcsc2Vzc2lvbklkOnRoaXMuZixwb3N0Qm9keTp0aGlzLmksdGVuYW50SWQ6dGhpcy5oLGVycm9yOnRoaXMuYSYmdGhpcy5hLncoKX19O3ZhciBQbyxMbz1udWxsO2Z1bmN0aW9uIHhvKHQpe3ZhciBlPVwidW5hdXRob3JpemVkLWRvbWFpblwiLG49dm9pZCAwLGk9T24odCk7dD1pLmEsXCJjaHJvbWUtZXh0ZW5zaW9uXCI9PShpPWkuYyk/bj1qdChcIlRoaXMgY2hyb21lIGV4dGVuc2lvbiBJRCAoY2hyb21lLWV4dGVuc2lvbjovLyVzKSBpcyBub3QgYXV0aG9yaXplZCB0byBydW4gdGhpcyBvcGVyYXRpb24uIEFkZCBpdCB0byB0aGUgT0F1dGggcmVkaXJlY3QgZG9tYWlucyBsaXN0IGluIHRoZSBGaXJlYmFzZSBjb25zb2xlIC0+IEF1dGggc2VjdGlvbiAtPiBTaWduIGluIG1ldGhvZCB0YWIuXCIsdCk6XCJodHRwXCI9PWl8fFwiaHR0cHNcIj09aT9uPWp0KFwiVGhpcyBkb21haW4gKCVzKSBpcyBub3QgYXV0aG9yaXplZCB0byBydW4gdGhpcyBvcGVyYXRpb24uIEFkZCBpdCB0byB0aGUgT0F1dGggcmVkaXJlY3QgZG9tYWlucyBsaXN0IGluIHRoZSBGaXJlYmFzZSBjb25zb2xlIC0+IEF1dGggc2VjdGlvbiAtPiBTaWduIGluIG1ldGhvZCB0YWIuXCIsdCk6ZT1cIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIixULmNhbGwodGhpcyxlLG4pfWZ1bmN0aW9uIE1vKHQsZSxuKXtULmNhbGwodGhpcyx0LG4pLCh0PWV8fHt9KS5KYiYmVmkodGhpcyxcImVtYWlsXCIsdC5KYiksdC5lYSYmVmkodGhpcyxcInBob25lTnVtYmVyXCIsdC5lYSksdC5jcmVkZW50aWFsJiZWaSh0aGlzLFwiY3JlZGVudGlhbFwiLHQuY3JlZGVudGlhbCksdC5aYiYmVmkodGhpcyxcInRlbmFudElkXCIsdC5aYil9ZnVuY3Rpb24gam8odCl7aWYodC5jb2RlKXt2YXIgZT10LmNvZGV8fFwiXCI7MD09ZS5pbmRleE9mKGspJiYoZT1lLnN1YnN0cmluZyhrLmxlbmd0aCkpO3ZhciBuPXtjcmVkZW50aWFsOl9vKHQpLFpiOnQudGVuYW50SWR9O2lmKHQuZW1haWwpbi5KYj10LmVtYWlsO2Vsc2UgaWYodC5waG9uZU51bWJlciluLmVhPXQucGhvbmVOdW1iZXI7ZWxzZSBpZighbi5jcmVkZW50aWFsKXJldHVybiBuZXcgVChlLHQubWVzc2FnZXx8dm9pZCAwKTtyZXR1cm4gbmV3IE1vKGUsbix0Lm1lc3NhZ2UpfXJldHVybiBudWxsfWZ1bmN0aW9uIFVvKCl7fWZ1bmN0aW9uIFZvKHQpe3JldHVybiB0LmN8fCh0LmM9dC5iKCkpfWZ1bmN0aW9uIEZvKCl7fWZ1bmN0aW9uIHFvKHQpe2lmKHQuZnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhNTEh0dHBSZXF1ZXN0fHxcInVuZGVmaW5lZFwiPT10eXBlb2YgQWN0aXZlWE9iamVjdClyZXR1cm4gdC5mO2Zvcih2YXIgZT1bXCJNU1hNTDIuWE1MSFRUUC42LjBcIixcIk1TWE1MMi5YTUxIVFRQLjMuMFwiLFwiTVNYTUwyLlhNTEhUVFBcIixcIk1pY3Jvc29mdC5YTUxIVFRQXCJdLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTt0cnl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KGkpLHQuZj1pfWNhdGNoKHQpe319dGhyb3cgRXJyb3IoXCJDb3VsZCBub3QgY3JlYXRlIEFjdGl2ZVhPYmplY3QuIEFjdGl2ZVggbWlnaHQgYmUgZGlzYWJsZWQsIG9yIE1TWE1MIG1pZ2h0IG5vdCBiZSBpbnN0YWxsZWRcIil9ZnVuY3Rpb24gSG8oKXt9ZnVuY3Rpb24gS28oKXt0aGlzLmE9bmV3IFhEb21haW5SZXF1ZXN0LHRoaXMucmVhZHlTdGF0ZT0wLHRoaXMub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdGhpcy5yZXNwb25zZVR5cGU9dGhpcy5yZXNwb25zZVRleHQ9dGhpcy5yZXNwb25zZT1cIlwiLHRoaXMuc3RhdHVzPS0xLHRoaXMuc3RhdHVzVGV4dD1cIlwiLHRoaXMuYS5vbmxvYWQ9Yih0aGlzLnFjLHRoaXMpLHRoaXMuYS5vbmVycm9yPWIodGhpcy5TYix0aGlzKSx0aGlzLmEub25wcm9ncmVzcz1iKHRoaXMucmMsdGhpcyksdGhpcy5hLm9udGltZW91dD1iKHRoaXMudmMsdGhpcyl9ZnVuY3Rpb24gR28odCxlKXt0LnJlYWR5U3RhdGU9ZSx0Lm9ucmVhZHlzdGF0ZWNoYW5nZSYmdC5vbnJlYWR5c3RhdGVjaGFuZ2UoKX1mdW5jdGlvbiBCbyh0LGUsbil7dGhpcy5yZXNldCh0LGUsbix2b2lkIDAsdm9pZCAwKX1mdW5jdGlvbiBXbyh0KXt0aGlzLmY9dCx0aGlzLmI9dGhpcy5jPXRoaXMuYT1udWxsfWZ1bmN0aW9uIFhvKHQsZSl7dGhpcy5uYW1lPXQsdGhpcy52YWx1ZT1lfXcoeG8sVCksdyhNbyxUKSxNby5wcm90b3R5cGUudz1mdW5jdGlvbigpe3ZhciB0PXtjb2RlOnRoaXMuY29kZSxtZXNzYWdlOnRoaXMubWVzc2FnZX07dGhpcy5lbWFpbCYmKHQuZW1haWw9dGhpcy5lbWFpbCksdGhpcy5waG9uZU51bWJlciYmKHQucGhvbmVOdW1iZXI9dGhpcy5waG9uZU51bWJlciksdGhpcy50ZW5hbnRJZCYmKHQudGVuYW50SWQ9dGhpcy50ZW5hbnRJZCk7dmFyIGU9dGhpcy5jcmVkZW50aWFsJiZ0aGlzLmNyZWRlbnRpYWwudygpO3JldHVybiBlJiZsdCh0LGUpLHR9LE1vLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53KCl9LFVvLnByb3RvdHlwZS5jPW51bGwsdyhGbyxVbyksRm8ucHJvdG90eXBlLmE9ZnVuY3Rpb24oKXt2YXIgdD1xbyh0aGlzKTtyZXR1cm4gdD9uZXcgQWN0aXZlWE9iamVjdCh0KTpuZXcgWE1MSHR0cFJlcXVlc3R9LEZvLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHFvKHRoaXMpJiYodFswXT0hMCx0WzFdPSEwKSx0fSxQbz1uZXcgRm8sdyhIbyxVbyksSG8ucHJvdG90eXBlLmE9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoXCJ3aXRoQ3JlZGVudGlhbHNcImluIHQpcmV0dXJuIHQ7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhEb21haW5SZXF1ZXN0KXJldHVybiBuZXcgS287dGhyb3cgRXJyb3IoXCJVbnN1cHBvcnRlZCBicm93c2VyXCIpfSxIby5wcm90b3R5cGUuYj1mdW5jdGlvbigpe3JldHVybnt9fSwodD1Lby5wcm90b3R5cGUpLm9wZW49ZnVuY3Rpb24odCxlLG4pe2lmKG51bGwhPW4mJiFuKXRocm93IEVycm9yKFwiT25seSBhc3luYyByZXF1ZXN0cyBhcmUgc3VwcG9ydGVkLlwiKTt0aGlzLmEub3Blbih0LGUpfSx0LnNlbmQ9ZnVuY3Rpb24odCl7aWYodCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgRXJyb3IoXCJPbmx5IHN0cmluZyBkYXRhIGlzIHN1cHBvcnRlZFwiKTt0aGlzLmEuc2VuZCh0KX1lbHNlIHRoaXMuYS5zZW5kKCl9LHQuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLmEuYWJvcnQoKX0sdC5zZXRSZXF1ZXN0SGVhZGVyPWZ1bmN0aW9uKCl7fSx0LmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKHQpe3JldHVyblwiY29udGVudC10eXBlXCI9PXQudG9Mb3dlckNhc2UoKT90aGlzLmEuY29udGVudFR5cGU6XCJcIn0sdC5xYz1mdW5jdGlvbigpe3RoaXMuc3RhdHVzPTIwMCx0aGlzLnJlc3BvbnNlPXRoaXMucmVzcG9uc2VUZXh0PXRoaXMuYS5yZXNwb25zZVRleHQsR28odGhpcyw0KX0sdC5TYj1mdW5jdGlvbigpe3RoaXMuc3RhdHVzPTUwMCx0aGlzLnJlc3BvbnNlPXRoaXMucmVzcG9uc2VUZXh0PVwiXCIsR28odGhpcyw0KX0sdC52Yz1mdW5jdGlvbigpe3RoaXMuU2IoKX0sdC5yYz1mdW5jdGlvbigpe3RoaXMuc3RhdHVzPTIwMCxHbyh0aGlzLDEpfSx0LmdldEFsbFJlc3BvbnNlSGVhZGVycz1mdW5jdGlvbigpe3JldHVyblwiY29udGVudC10eXBlOiBcIit0aGlzLmEuY29udGVudFR5cGV9LEJvLnByb3RvdHlwZS5hPW51bGwsQm8ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQsZSxuLGkscil7ZGVsZXRlIHRoaXMuYX0sWG8ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX07dmFyIEpvPW5ldyBYbyhcIlNFVkVSRVwiLDFlMyksWW89bmV3IFhvKFwiV0FSTklOR1wiLDkwMCksem89bmV3IFhvKFwiQ09ORklHXCIsNzAwKSwkbz1uZXcgWG8oXCJGSU5FXCIsNTAwKTtXby5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKHQsZSxuKXtpZih0LnZhbHVlPj1mdW5jdGlvbiB0KGUpe3JldHVybiBlLmN8fChlLmE/dChlLmEpOihEKFwiUm9vdCBsb2dnZXIgaGFzIG5vIGxldmVsIHNldC5cIiksbnVsbCkpfSh0aGlzKS52YWx1ZSlmb3IodihlKSYmKGU9ZSgpKSx0PW5ldyBCbyh0LFN0cmluZyhlKSx0aGlzLmYpLG4mJih0LmE9biksbj10aGlzO247KW49bi5hfTt2YXIgWm8sUW89e30sdGE9bnVsbDtmdW5jdGlvbiBlYSh0KXt2YXIgZSxuLGk7cmV0dXJuIHRhfHwodGE9bmV3IFdvKFwiXCIpLChRb1tcIlwiXT10YSkuYz16byksKGU9UW9bdF0pfHwoZT1uZXcgV28odCksaT10Lmxhc3RJbmRleE9mKFwiLlwiKSxuPXQuc3Vic3RyKGkrMSksKGk9ZWEodC5zdWJzdHIoMCxpKSkpLmJ8fChpLmI9e30pLChpLmJbbl09ZSkuYT1pLFFvW3RdPWUpLGV9ZnVuY3Rpb24gbmEodCxlKXt0JiZ0LmxvZygkbyxlLHZvaWQgMCl9ZnVuY3Rpb24gaWEodCl7dGhpcy5mPXR9ZnVuY3Rpb24gcmEodCl7bG4uY2FsbCh0aGlzKSx0aGlzLnU9dCx0aGlzLmg9dm9pZCAwLHRoaXMucmVhZHlTdGF0ZT1vYSx0aGlzLnN0YXR1cz0wLHRoaXMucmVzcG9uc2VUeXBlPXRoaXMucmVzcG9uc2VUZXh0PXRoaXMucmVzcG9uc2U9dGhpcy5zdGF0dXNUZXh0PVwiXCIsdGhpcy5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCx0aGlzLmw9bmV3IEhlYWRlcnMsdGhpcy5iPW51bGwsdGhpcy5zPVwiR0VUXCIsdGhpcy5mPVwiXCIsdGhpcy5hPSExLHRoaXMuaT1lYShcImdvb2cubmV0LkZldGNoWG1sSHR0cFwiKSx0aGlzLm09dGhpcy5jPXRoaXMuZz1udWxsfXcoaWEsVW8pLGlhLnByb3RvdHlwZS5hPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByYSh0aGlzLmYpfSxpYS5wcm90b3R5cGUuYj0oWm89e30sZnVuY3Rpb24oKXtyZXR1cm4gWm99KSx3KHJhLGxuKTt2YXIgb2E9MDtmdW5jdGlvbiBhYSh0KXt0LmMucmVhZCgpLnRoZW4odC5wYy5iaW5kKHQpKS5jYXRjaCh0LlVhLmJpbmQodCkpfWZ1bmN0aW9uIHNhKHQpe3QucmVhZHlTdGF0ZT00LHQuZz1udWxsLHQuYz1udWxsLHQubT1udWxsLHVhKHQpfWZ1bmN0aW9uIHVhKHQpe3Qub25yZWFkeXN0YXRlY2hhbmdlJiZ0Lm9ucmVhZHlzdGF0ZWNoYW5nZS5jYWxsKHQpfWZ1bmN0aW9uIGNhKHQpe2xuLmNhbGwodGhpcyksdGhpcy5oZWFkZXJzPW5ldyB5bix0aGlzLkQ9dHx8bnVsbCx0aGlzLmM9ITEsdGhpcy5DPXRoaXMuYT1udWxsLHRoaXMuaD10aGlzLlI9dGhpcy5sPVwiXCIsdGhpcy5mPXRoaXMuTz10aGlzLmk9dGhpcy5KPSExLHRoaXMuZz0wLHRoaXMucz1udWxsLHRoaXMubT1oYSx0aGlzLnU9dGhpcy5TPSExfSh0PXJhLnByb3RvdHlwZSkub3Blbj1mdW5jdGlvbih0LGUpe2lmKHRoaXMucmVhZHlTdGF0ZSE9b2EpdGhyb3cgdGhpcy5hYm9ydCgpLEVycm9yKFwiRXJyb3IgcmVvcGVuaW5nIGEgY29ubmVjdGlvblwiKTt0aGlzLnM9dCx0aGlzLmY9ZSx0aGlzLnJlYWR5U3RhdGU9MSx1YSh0aGlzKX0sdC5zZW5kPWZ1bmN0aW9uKHQpe2lmKDEhPXRoaXMucmVhZHlTdGF0ZSl0aHJvdyB0aGlzLmFib3J0KCksRXJyb3IoXCJuZWVkIHRvIGNhbGwgb3BlbigpIGZpcnN0LiBcIik7dGhpcy5hPSEwO3ZhciBlPXtoZWFkZXJzOnRoaXMubCxtZXRob2Q6dGhpcy5zLGNyZWRlbnRpYWxzOnRoaXMuaCxjYWNoZTp2b2lkIDB9O3QmJihlLmJvZHk9dCksdGhpcy51LmZldGNoKG5ldyBSZXF1ZXN0KHRoaXMuZixlKSkudGhlbih0aGlzLnVjLmJpbmQodGhpcyksdGhpcy5VYS5iaW5kKHRoaXMpKX0sdC5hYm9ydD1mdW5jdGlvbigpe3RoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQ9XCJcIix0aGlzLmw9bmV3IEhlYWRlcnMsdGhpcy5zdGF0dXM9MCx0aGlzLmMmJnRoaXMuYy5jYW5jZWwoXCJSZXF1ZXN0IHdhcyBhYm9ydGVkLlwiKSwxPD10aGlzLnJlYWR5U3RhdGUmJnRoaXMuYSYmNCE9dGhpcy5yZWFkeVN0YXRlJiYodGhpcy5hPSExLHNhKHRoaXMpKSx0aGlzLnJlYWR5U3RhdGU9b2F9LHQudWM9ZnVuY3Rpb24odCl7dGhpcy5hJiYodGhpcy5nPXQsdGhpcy5ifHwodGhpcy5zdGF0dXM9dGhpcy5nLnN0YXR1cyx0aGlzLnN0YXR1c1RleHQ9dGhpcy5nLnN0YXR1c1RleHQsdGhpcy5iPXQuaGVhZGVycyx0aGlzLnJlYWR5U3RhdGU9Mix1YSh0aGlzKSksdGhpcy5hJiYodGhpcy5yZWFkeVN0YXRlPTMsdWEodGhpcyksdGhpcy5hJiYoXCJhcnJheWJ1ZmZlclwiPT09dGhpcy5yZXNwb25zZVR5cGU/dC5hcnJheUJ1ZmZlcigpLnRoZW4odGhpcy5zYy5iaW5kKHRoaXMpLHRoaXMuVWEuYmluZCh0aGlzKSk6dm9pZCAwIT09bC5SZWFkYWJsZVN0cmVhbSYmXCJib2R5XCJpbiB0Pyh0aGlzLnJlc3BvbnNlPXRoaXMucmVzcG9uc2VUZXh0PVwiXCIsdGhpcy5jPXQuYm9keS5nZXRSZWFkZXIoKSx0aGlzLm09bmV3IFRleHREZWNvZGVyLGFhKHRoaXMpKTp0LnRleHQoKS50aGVuKHRoaXMudGMuYmluZCh0aGlzKSx0aGlzLlVhLmJpbmQodGhpcykpKSkpfSx0LnBjPWZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMuYSYmKChlPXRoaXMubS5kZWNvZGUodC52YWx1ZXx8bmV3IFVpbnQ4QXJyYXkoMCkse3N0cmVhbTohdC5kb25lfSkpJiYodGhpcy5yZXNwb25zZT10aGlzLnJlc3BvbnNlVGV4dCs9ZSksKHQuZG9uZT9zYTp1YSkodGhpcyksMz09dGhpcy5yZWFkeVN0YXRlJiZhYSh0aGlzKSl9LHQudGM9ZnVuY3Rpb24odCl7dGhpcy5hJiYodGhpcy5yZXNwb25zZT10aGlzLnJlc3BvbnNlVGV4dD10LHNhKHRoaXMpKX0sdC5zYz1mdW5jdGlvbih0KXt0aGlzLmEmJih0aGlzLnJlc3BvbnNlPXQsc2EodGhpcykpfSx0LlVhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaTtlJiZlLmxvZyhZbyxcIkZhaWxlZCB0byBmZXRjaCB1cmwgXCIrdGhpcy5mLHQgaW5zdGFuY2VvZiBFcnJvcj90OkVycm9yKHQpKSx0aGlzLmEmJnNhKHRoaXMpfSx0LnNldFJlcXVlc3RIZWFkZXI9ZnVuY3Rpb24odCxlKXt0aGlzLmwuYXBwZW5kKHQsZSl9LHQuZ2V0UmVzcG9uc2VIZWFkZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuZ2V0KHQudG9Mb3dlckNhc2UoKSl8fFwiXCI6KCh0PXRoaXMuaSkmJnQubG9nKFlvLFwiQXR0ZW1wdGluZyB0byBnZXQgcmVzcG9uc2UgaGVhZGVyIGJ1dCBubyBoZWFkZXJzIGhhdmUgYmVlbiByZWNlaXZlZCBmb3IgdXJsOiBcIit0aGlzLmYsdm9pZCAwKSxcIlwiKX0sdC5nZXRBbGxSZXNwb25zZUhlYWRlcnM9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXt2YXIgdD10aGlzLmk7cmV0dXJuIHQmJnQubG9nKFlvLFwiQXR0ZW1wdGluZyB0byBnZXQgYWxsIHJlc3BvbnNlIGhlYWRlcnMgYnV0IG5vIGhlYWRlcnMgaGF2ZSBiZWVuIHJlY2VpdmVkIGZvciB1cmw6IFwiK3RoaXMuZix2b2lkIDApLFwiXCJ9Zm9yKHZhciB0PVtdLGU9dGhpcy5iLmVudHJpZXMoKSxuPWUubmV4dCgpOyFuLmRvbmU7KW49bi52YWx1ZSx0LnB1c2goblswXStcIjogXCIrblsxXSksbj1lLm5leHQoKTtyZXR1cm4gdC5qb2luKFwiXFxyXFxuXCIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocmEucHJvdG90eXBlLFwid2l0aENyZWRlbnRpYWxzXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwiaW5jbHVkZVwiPT09dGhpcy5ofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5oPXQ/XCJpbmNsdWRlXCI6XCJzYW1lLW9yaWdpblwifX0pLHcoY2EsbG4pO3ZhciBoYT1cIlwiO2NhLnByb3RvdHlwZS5iPWVhKFwiZ29vZy5uZXQuWGhySW9cIik7dmFyIGxhPS9eaHR0cHM/JC9pLGZhPVtcIlBPU1RcIixcIlBVVFwiXTtmdW5jdGlvbiBkYShlLHQsbixpLHIpe2lmKGUuYSl0aHJvdyBFcnJvcihcIltnb29nLm5ldC5YaHJJb10gT2JqZWN0IGlzIGFjdGl2ZSB3aXRoIGFub3RoZXIgcmVxdWVzdD1cIitlLmwrXCI7IG5ld1VyaT1cIit0KTtuPW4/bi50b1VwcGVyQ2FzZSgpOlwiR0VUXCIsZS5sPXQsZS5oPVwiXCIsZS5SPW4sZS5KPSExLGUuYz0hMCxlLmE9KGUuRHx8UG8pLmEoKSxlLkM9ZS5EP1ZvKGUuRCk6Vm8oUG8pLGUuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9YihlLlZiLGUpO3RyeXtuYShlLmIsVGEoZSxcIk9wZW5pbmcgWGhyXCIpKSxlLk89ITAsZS5hLm9wZW4obixTdHJpbmcodCksITApLGUuTz0hMX1jYXRjaCh0KXtyZXR1cm4gbmEoZS5iLFRhKGUsXCJFcnJvciBvcGVuaW5nIFhocjogXCIrdC5tZXNzYWdlKSksdm9pZCB2YShlLHQpfXQ9aXx8XCJcIjt2YXIgbyxhPW5ldyB5bihlLmhlYWRlcnMpO3ImJmZ1bmN0aW9uKHQsZSl7aWYodC5mb3JFYWNoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmZvckVhY2gpdC5mb3JFYWNoKGUsdm9pZCAwKTtlbHNlIGlmKHAodCl8fFwic3RyaW5nXCI9PXR5cGVvZiB0KVYodCxlLHZvaWQgMCk7ZWxzZSBmb3IodmFyIG49Ym4odCksaT1nbih0KSxyPWkubGVuZ3RoLG89MDtvPHI7bysrKWUuY2FsbCh2b2lkIDAsaVtvXSxuJiZuW29dLHQpfShyLGZ1bmN0aW9uKHQsZSl7YS5zZXQoZSx0KX0pLHI9ZnVuY3Rpb24odCl7dDp7Zm9yKHZhciBlPXBhLG49dC5sZW5ndGgsaT1cInN0cmluZ1wiPT10eXBlb2YgdD90LnNwbGl0KFwiXCIpOnQscj0wO3I8bjtyKyspaWYociBpbiBpJiZlLmNhbGwodm9pZCAwLGlbcl0scix0KSl7ZT1yO2JyZWFrIHR9ZT0tMX1yZXR1cm4gZTwwP251bGw6XCJzdHJpbmdcIj09dHlwZW9mIHQ/dC5jaGFyQXQoZSk6dFtlXX0oYS5ZKCkpLGk9bC5Gb3JtRGF0YSYmdCBpbnN0YW5jZW9mIGwuRm9ybURhdGEsIUsoZmEsbil8fHJ8fGl8fGEuc2V0KFwiQ29udGVudC1UeXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOFwiKSxhLmZvckVhY2goZnVuY3Rpb24odCxlKXt0aGlzLmEuc2V0UmVxdWVzdEhlYWRlcihlLHQpfSxlKSxlLm0mJihlLmEucmVzcG9uc2VUeXBlPWUubSksXCJ3aXRoQ3JlZGVudGlhbHNcImluIGUuYSYmZS5hLndpdGhDcmVkZW50aWFscyE9PWUuUyYmKGUuYS53aXRoQ3JlZGVudGlhbHM9ZS5TKTt0cnl7eWEoZSksMDxlLmcmJihlLnU9KG89ZS5hLEh0JiYkdCg5KSYmXCJudW1iZXJcIj09dHlwZW9mIG8udGltZW91dCYmdm9pZCAwIT09by5vbnRpbWVvdXQpLG5hKGUuYixUYShlLFwiV2lsbCBhYm9ydCBhZnRlciBcIitlLmcrXCJtcyBpZiBpbmNvbXBsZXRlLCB4aHIyIFwiK2UudSkpLGUudT8oZS5hLnRpbWVvdXQ9ZS5nLGUuYS5vbnRpbWVvdXQ9YihlLk1hLGUpKTplLnM9dm4oZS5NYSxlLmcsZSkpLG5hKGUuYixUYShlLFwiU2VuZGluZyByZXF1ZXN0XCIpKSxlLmk9ITAsZS5hLnNlbmQodCksZS5pPSExfWNhdGNoKHQpe25hKGUuYixUYShlLFwiU2VuZCBlcnJvcjogXCIrdC5tZXNzYWdlKSksdmEoZSx0KX19ZnVuY3Rpb24gcGEodCl7cmV0dXJuXCJjb250ZW50LXR5cGVcIj09dC50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHZhKHQsZSl7dC5jPSExLHQuYSYmKHQuZj0hMCx0LmEuYWJvcnQoKSx0LmY9ITEpLHQuaD1lLG1hKHQpLGJhKHQpfWZ1bmN0aW9uIG1hKHQpe3QuSnx8KHQuSj0hMCx0LmRpc3BhdGNoRXZlbnQoXCJjb21wbGV0ZVwiKSx0LmRpc3BhdGNoRXZlbnQoXCJlcnJvclwiKSl9ZnVuY3Rpb24gZ2EoZSl7aWYoZS5jJiZ2b2lkIDAhPT1oKWlmKGUuQ1sxXSYmND09d2EoZSkmJjI9PUlhKGUpKW5hKGUuYixUYShlLFwiTG9jYWwgcmVxdWVzdCBlcnJvciBkZXRlY3RlZCBhbmQgaWdub3JlZFwiKSk7ZWxzZSBpZihlLmkmJjQ9PXdhKGUpKXZuKGUuVmIsMCxlKTtlbHNlIGlmKGUuZGlzcGF0Y2hFdmVudChcInJlYWR5c3RhdGVjaGFuZ2VcIiksND09d2EoZSkpe25hKGUuYixUYShlLFwiUmVxdWVzdCBjb21wbGV0ZVwiKSksZS5jPSExO3RyeXt2YXIgdCxuLGkscixvPUlhKGUpO3Q6c3dpdGNoKG8pe2Nhc2UgMjAwOmNhc2UgMjAxOmNhc2UgMjAyOmNhc2UgMjA0OmNhc2UgMjA2OmNhc2UgMzA0OmNhc2UgMTIyMzp2YXIgYT0hMDticmVhayB0O2RlZmF1bHQ6YT0hMX1pZigodD1hKXx8KChuPTA9PT1vKSYmKCEocj1TdHJpbmcoZS5sKS5tYXRjaChUbilbMV18fG51bGwpJiZsLnNlbGYmJmwuc2VsZi5sb2NhdGlvbiYmKHI9KGk9bC5zZWxmLmxvY2F0aW9uLnByb3RvY29sKS5zdWJzdHIoMCxpLmxlbmd0aC0xKSksbj0hbGEudGVzdChyP3IudG9Mb3dlckNhc2UoKTpcIlwiKSksdD1uKSx0KWUuZGlzcGF0Y2hFdmVudChcImNvbXBsZXRlXCIpLGUuZGlzcGF0Y2hFdmVudChcInN1Y2Nlc3NcIik7ZWxzZXt0cnl7dmFyIHM9Mjx3YShlKT9lLmEuc3RhdHVzVGV4dDpcIlwifWNhdGNoKHQpe25hKGUuYixcIkNhbiBub3QgZ2V0IHN0YXR1czogXCIrdC5tZXNzYWdlKSxzPVwiXCJ9ZS5oPXMrXCIgW1wiK0lhKGUpK1wiXVwiLG1hKGUpfX1maW5hbGx5e2JhKGUpfX19ZnVuY3Rpb24gYmEoZSx0KXtpZihlLmEpe3lhKGUpO3ZhciBuPWUuYSxpPWUuQ1swXT9hOm51bGw7ZS5hPW51bGwsZS5DPW51bGwsdHx8ZS5kaXNwYXRjaEV2ZW50KFwicmVhZHlcIik7dHJ5e24ub25yZWFkeXN0YXRlY2hhbmdlPWl9Y2F0Y2godCl7KGU9ZS5iKSYmZS5sb2coSm8sXCJQcm9ibGVtIGVuY291bnRlcmVkIHJlc2V0dGluZyBvbnJlYWR5c3RhdGVjaGFuZ2U6IFwiK3QubWVzc2FnZSx2b2lkIDApfX19ZnVuY3Rpb24geWEodCl7dC5hJiZ0LnUmJih0LmEub250aW1lb3V0PW51bGwpLHQucyYmKGwuY2xlYXJUaW1lb3V0KHQucyksdC5zPW51bGwpfWZ1bmN0aW9uIHdhKHQpe3JldHVybiB0LmE/dC5hLnJlYWR5U3RhdGU6MH1mdW5jdGlvbiBJYSh0KXt0cnl7cmV0dXJuIDI8d2EodCk/dC5hLnN0YXR1czotMX1jYXRjaCh0KXtyZXR1cm4tMX19ZnVuY3Rpb24gVGEodCxlKXtyZXR1cm4gZStcIiBbXCIrdC5SK1wiIFwiK3QubCtcIiBcIitJYSh0KStcIl1cIn1mdW5jdGlvbiBFYSh0KXt2YXIgZT1MYTt0aGlzLmc9W10sdGhpcy51PWUsdGhpcy5zPXR8fG51bGwsdGhpcy5mPXRoaXMuYT0hMSx0aGlzLmM9dm9pZCAwLHRoaXMudj10aGlzLkM9dGhpcy5pPSExLHRoaXMuaD0wLHRoaXMuYj1udWxsLHRoaXMubD0wfWZ1bmN0aW9uIEFhKHQsZSxuKXt0LmE9ITAsdC5jPW4sdC5mPSFlLF9hKHQpfWZ1bmN0aW9uIGthKHQpe2lmKHQuYSl7aWYoIXQudil0aHJvdyBuZXcgT2E7dC52PSExfX1mdW5jdGlvbiBTYSh0LGUsbixpKXt0LmcucHVzaChbZSxuLGldKSx0LmEmJl9hKHQpfWZ1bmN0aW9uIE5hKHQpe3JldHVybiBIKHQuZyxmdW5jdGlvbih0KXtyZXR1cm4gdih0WzFdKX0pfWZ1bmN0aW9uIF9hKGUpe3ZhciBuO2UuaCYmZS5hJiZOYShlKSYmKGk9ZS5oLChuPURhW2ldKSYmKGwuY2xlYXJUaW1lb3V0KG4uYSksZGVsZXRlIERhW2ldKSxlLmg9MCksZS5iJiYoZS5iLmwtLSxkZWxldGUgZS5iKTtmb3IodmFyIGk9ZS5jLHQ9bj0hMTtlLmcubGVuZ3RoJiYhZS5pOyl7dmFyIHI9KGE9ZS5nLnNoaWZ0KCkpWzBdLG89YVsxXSxhPWFbMl07aWYocj1lLmY/bzpyKXRyeXt2YXIgcz1yLmNhbGwoYXx8ZS5zLGkpO3ZvaWQgMCE9PXMmJihlLmY9ZS5mJiYocz09aXx8cyBpbnN0YW5jZW9mIEVycm9yKSxlLmM9aT1zKSwoTyhpKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgbC5Qcm9taXNlJiZpIGluc3RhbmNlb2YgbC5Qcm9taXNlKSYmKHQ9ITAsZS5pPSEwKX1jYXRjaCh0KXtpPXQsZS5mPSEwLE5hKGUpfHwobj0hMCl9fWUuYz1pLHQmJihzPWIoZS5tLGUsITApLHQ9YihlLm0sZSwhMSksaSBpbnN0YW5jZW9mIEVhPyhTYShpLHMsdCksaS5DPSEwKTppLnRoZW4ocyx0KSksbiYmKGk9bmV3IFJhKGkpLERhW2kuYV09aSxlLmg9aS5hKX1mdW5jdGlvbiBPYSgpe0MuY2FsbCh0aGlzKX1mdW5jdGlvbiBDYSgpe0MuY2FsbCh0aGlzKX1mdW5jdGlvbiBSYSh0KXt0aGlzLmE9bC5zZXRUaW1lb3V0KGIodGhpcy5jLHRoaXMpLDApLHRoaXMuYj10fSh0PWNhLnByb3RvdHlwZSkuTWE9ZnVuY3Rpb24oKXt2b2lkIDAhPT1oJiZ0aGlzLmEmJih0aGlzLmg9XCJUaW1lZCBvdXQgYWZ0ZXIgXCIrdGhpcy5nK1wibXMsIGFib3J0aW5nXCIsbmEodGhpcy5iLFRhKHRoaXMsdGhpcy5oKSksdGhpcy5kaXNwYXRjaEV2ZW50KFwidGltZW91dFwiKSx0aGlzLmFib3J0KDgpKX0sdC5hYm9ydD1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5jJiYobmEodGhpcy5iLFRhKHRoaXMsXCJBYm9ydGluZ1wiKSksdGhpcy5jPSExLHRoaXMuZj0hMCx0aGlzLmEuYWJvcnQoKSx0aGlzLmY9ITEsdGhpcy5kaXNwYXRjaEV2ZW50KFwiY29tcGxldGVcIiksdGhpcy5kaXNwYXRjaEV2ZW50KFwiYWJvcnRcIiksYmEodGhpcykpfSx0LkRhPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5jJiYodGhpcy5jPSExLHRoaXMuZj0hMCx0aGlzLmEuYWJvcnQoKSx0aGlzLmY9ITEpLGJhKHRoaXMsITApKSxjYS5hYi5EYS5jYWxsKHRoaXMpfSx0LlZiPWZ1bmN0aW9uKCl7dGhpcy54YXx8KHRoaXMuT3x8dGhpcy5pfHx0aGlzLmY/Z2EodGhpcyk6dGhpcy5KYygpKX0sdC5KYz1mdW5jdGlvbigpe2dhKHRoaXMpfSx0LmdldFJlc3BvbnNlPWZ1bmN0aW9uKCl7dHJ5e2lmKCF0aGlzLmEpcmV0dXJuIG51bGw7aWYoXCJyZXNwb25zZVwiaW4gdGhpcy5hKXJldHVybiB0aGlzLmEucmVzcG9uc2U7c3dpdGNoKHRoaXMubSl7Y2FzZSBoYTpjYXNlXCJ0ZXh0XCI6cmV0dXJuIHRoaXMuYS5yZXNwb25zZVRleHQ7Y2FzZVwiYXJyYXlidWZmZXJcIjppZihcIm1velJlc3BvbnNlQXJyYXlCdWZmZXJcImluIHRoaXMuYSlyZXR1cm4gdGhpcy5hLm1velJlc3BvbnNlQXJyYXlCdWZmZXJ9dmFyIHQ9dGhpcy5iO3JldHVybiB0JiZ0LmxvZyhKbyxcIlJlc3BvbnNlIHR5cGUgXCIrdGhpcy5tK1wiIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyXCIsdm9pZCAwKSxudWxsfWNhdGNoKHQpe3JldHVybiBuYSh0aGlzLmIsXCJDYW4gbm90IGdldCByZXNwb25zZTogXCIrdC5tZXNzYWdlKSxudWxsfX0sRWEucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbih0KXt2YXIgZTt0aGlzLmE/dGhpcy5jIGluc3RhbmNlb2YgRWEmJnRoaXMuYy5jYW5jZWwoKToodGhpcy5iJiYoZT10aGlzLmIsZGVsZXRlIHRoaXMuYix0P2UuY2FuY2VsKHQpOihlLmwtLSxlLmw8PTAmJmUuY2FuY2VsKCkpKSx0aGlzLnU/dGhpcy51LmNhbGwodGhpcy5zLHRoaXMpOnRoaXMudj0hMCx0aGlzLmF8fCh0PW5ldyBDYSxrYSh0aGlzKSxBYSh0aGlzLCExLHQpKSl9LEVhLnByb3RvdHlwZS5tPWZ1bmN0aW9uKHQsZSl7dGhpcy5pPSExLEFhKHRoaXMsdCxlKX0sRWEucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIsbz1uZXcgZmUoZnVuY3Rpb24odCxlKXtpPXQscj1lfSk7cmV0dXJuIFNhKHRoaXMsaSxmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgQ2E/by5jYW5jZWwoKTpyKHQpfSksby50aGVuKHQsZSxuKX0sRWEucHJvdG90eXBlLiRnb29nX1RoZW5hYmxlPSEwLHcoT2EsQyksT2EucHJvdG90eXBlLm1lc3NhZ2U9XCJEZWZlcnJlZCBoYXMgYWxyZWFkeSBmaXJlZFwiLE9hLnByb3RvdHlwZS5uYW1lPVwiQWxyZWFkeUNhbGxlZEVycm9yXCIsdyhDYSxDKSxDYS5wcm90b3R5cGUubWVzc2FnZT1cIkRlZmVycmVkIHdhcyBjYW5jZWxlZFwiLENhLnByb3RvdHlwZS5uYW1lPVwiQ2FuY2VsZWRFcnJvclwiLFJhLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7dGhyb3cgZGVsZXRlIERhW3RoaXMuYV0sdGhpcy5ifTt2YXIgRGE9e307ZnVuY3Rpb24gUGEodCl7dmFyIGU9ZG9jdW1lbnQsbj13dCh0KS50b1N0cmluZygpLGk9YWUoZG9jdW1lbnQsXCJTQ1JJUFRcIikscj17V2I6aSxNYTp2b2lkIDB9LG89bmV3IEVhKHIpLGE9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt4YShpLCEwKTt2YXIgdD1uZXcgVWEoamEsXCJUaW1lb3V0IHJlYWNoZWQgZm9yIGxvYWRpbmcgc2NyaXB0IFwiK24pO2thKG8pLEFhKG8sITEsdCl9LDVlMyk7cmV0dXJuIHIuTWE9YSxpLm9ubG9hZD1pLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2kucmVhZHlTdGF0ZSYmXCJsb2FkZWRcIiE9aS5yZWFkeVN0YXRlJiZcImNvbXBsZXRlXCIhPWkucmVhZHlTdGF0ZXx8KHhhKGksITEsYSksa2EobyksQWEobywhMCxudWxsKSl9LGkub25lcnJvcj1mdW5jdGlvbigpe3hhKGksITAsYSk7dmFyIHQ9bmV3IFVhKE1hLFwiRXJyb3Igd2hpbGUgbG9hZGluZyBzY3JpcHQgXCIrbik7a2EobyksQWEobywhMSx0KX0sbHQocj17fSx7dHlwZTpcInRleHQvamF2YXNjcmlwdFwiLGNoYXJzZXQ6XCJVVEYtOFwifSksZWUoaSxyKSxyPXQsZnQodD1pLFwiSFRNTFNjcmlwdEVsZW1lbnRcIiksdC5zcmM9d3QociksKHI9KHI9dC5vd25lckRvY3VtZW50JiZ0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpJiZyIT1sP2Yoci5kb2N1bWVudCk6cz1udWxsPT09cz9mKGwuZG9jdW1lbnQpOnMpJiZ0LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsciksKChlPSgocj1lKXx8ZG9jdW1lbnQpLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiSEVBRFwiKSkmJjAhPWUubGVuZ3RoP2VbMF06ci5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKGkpLG99ZnVuY3Rpb24gTGEoKXt2YXIgdDt0aGlzJiZ0aGlzLldiJiYoKHQ9dGhpcy5XYikmJlwiU0NSSVBUXCI9PXQudGFnTmFtZSYmeGEodCwhMCx0aGlzLk1hKSl9ZnVuY3Rpb24geGEodCxlLG4pe251bGwhPW4mJmwuY2xlYXJUaW1lb3V0KG4pLHQub25sb2FkPWEsdC5vbmVycm9yPWEsdC5vbnJlYWR5c3RhdGVjaGFuZ2U9YSxlJiZ3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3QmJnQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpfSwwKX12YXIgTWE9MCxqYT0xO2Z1bmN0aW9uIFVhKHQsZSl7dmFyIG49XCJKc2xvYWRlciBlcnJvciAoY29kZSAjXCIrdCtcIilcIjtlJiYobis9XCI6IFwiK2UpLEMuY2FsbCh0aGlzLG4pLHRoaXMuY29kZT10fWZ1bmN0aW9uIFZhKHQpe3RoaXMuZj10fWZ1bmN0aW9uIEZhKHQsZSxuKXtpZih0aGlzLmM9dCx0PWV8fHt9LHRoaXMubD10LnNlY3VyZVRva2VuRW5kcG9pbnR8fFwiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGVhcGlzLmNvbS92MS90b2tlblwiLHRoaXMubT10LnNlY3VyZVRva2VuVGltZW91dHx8S2EsdGhpcy5nPWN0KHQuc2VjdXJlVG9rZW5IZWFkZXJzfHxHYSksdGhpcy5oPXQuZmlyZWJhc2VFbmRwb2ludHx8XCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9pZGVudGl0eXRvb2xraXQvdjMvcmVseWluZ3BhcnR5L1wiLHRoaXMuaT10LmlkZW50aXR5UGxhdGZvcm1FbmRwb2ludHx8XCJodHRwczovL2lkZW50aXR5dG9vbGtpdC5nb29nbGVhcGlzLmNvbS92Mi9cIix0aGlzLnY9dC5maXJlYmFzZVRpbWVvdXR8fEJhLHRoaXMuYT1jdCh0LmZpcmViYXNlSGVhZGVyc3x8V2EpLG4mJih0aGlzLmFbXCJYLUNsaWVudC1WZXJzaW9uXCJdPW4sdGhpcy5nW1wiWC1DbGllbnQtVmVyc2lvblwiXT1uKSxuPVwiTm9kZVwiPT1oaSgpLCEobj1sLlhNTEh0dHBSZXF1ZXN0fHxuJiZ6bC5kZWZhdWx0LklOVEVSTkFMLm5vZGUmJnpsLmRlZmF1bHQuSU5URVJOQUwubm9kZS5YTUxIdHRwUmVxdWVzdCkmJiFjaSgpKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIixcIlRoZSBYTUxIdHRwUmVxdWVzdCBjb21wYXRpYmlsaXR5IGxpYnJhcnkgd2FzIG5vdCBmb3VuZC5cIik7dGhpcy5mPXZvaWQgMCxjaSgpP3RoaXMuZj1uZXcgaWEoc2VsZik6bGkoKT90aGlzLmY9bmV3IFZhKG4pOnRoaXMuZj1uZXcgSG8sdGhpcy5iPW51bGx9dyhVYSxDKSx3KFZhLFVvKSxWYS5wcm90b3R5cGUuYT1mdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5mfSxWYS5wcm90b3R5cGUuYj1mdW5jdGlvbigpe3JldHVybnt9fTt2YXIgcWEsSGE9XCJpZFRva2VuXCIsS2E9bmV3IENpKDNlNCw2ZTQpLEdhPXtcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9LEJhPW5ldyBDaSgzZTQsNmU0KSxXYT17XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn07ZnVuY3Rpb24gWGEodCxlKXtlP3QuYVtcIlgtRmlyZWJhc2UtTG9jYWxlXCJdPWU6ZGVsZXRlIHQuYVtcIlgtRmlyZWJhc2UtTG9jYWxlXCJdfWZ1bmN0aW9uIEphKHQsZSl7ZSYmKHQubD1ZYShcImh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlYXBpcy5jb20vdjEvdG9rZW5cIixlKSx0Lmg9WWEoXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9pZGVudGl0eXRvb2xraXQvdjMvcmVseWluZ3BhcnR5L1wiLGUpLHQuaT1ZYShcImh0dHBzOi8vaWRlbnRpdHl0b29sa2l0Lmdvb2dsZWFwaXMuY29tL3YyL1wiLGUpKX1mdW5jdGlvbiBZYSh0LGUpe3JldHVybiB0PU9uKHQpLGU9T24oZS51cmwpLHQuZj10LmErdC5mLEFuKHQsZS5jKSx0LmE9ZS5hLGtuKHQsZS5nKSx0LnRvU3RyaW5nKCl9ZnVuY3Rpb24gemEodCxlKXtlPyh0LmFbXCJYLUNsaWVudC1WZXJzaW9uXCJdPWUsdC5nW1wiWC1DbGllbnQtVmVyc2lvblwiXT1lKTooZGVsZXRlIHQuYVtcIlgtQ2xpZW50LVZlcnNpb25cIl0sZGVsZXRlIHQuZ1tcIlgtQ2xpZW50LVZlcnNpb25cIl0pfWZ1bmN0aW9uICRhKHQsZSxuLGkscixvLGEpe3ZhciBzOyh0PSgocz1waShzPWdpKCkpPT1kaSYmKHM9cy5tYXRjaCgvXFxzQ2hyb21lXFwvKFxcZCspL2kpKSYmMj09cy5sZW5ndGg/cGFyc2VJbnQoc1sxXSwxMCk6bnVsbCkmJnM8MzB8fEh0JiZadCYmISg5PFp0KSkmJiFjaSgpPyhxYT1xYXx8bmV3IGZlKGZ1bmN0aW9uKHQsZSl7dmFyIG4saTtuPXQsaT1lLCgod2luZG93LmdhcGl8fHt9KS5jbGllbnR8fHt9KS5yZXF1ZXN0P24oKToobFtRYV09ZnVuY3Rpb24oKXsoKHdpbmRvdy5nYXBpfHx7fSkuY2xpZW50fHx7fSkucmVxdWVzdD9uKCk6aShFcnJvcihcIkNPUlNfVU5TVVBQT1JURURcIikpfSxmdW5jdGlvbih0LGUpe1NhKHQsbnVsbCxlLHZvaWQgMCl9KFBhKEl0KFphLHtvbmxvYWQ6UWF9KSksZnVuY3Rpb24oKXtpKEVycm9yKFwiQ09SU19VTlNVUFBPUlRFRFwiKSl9KSl9KSxiKHQucyx0KSk6Yih0LnUsdCkpKGUsbixpLHIsbyxhKX1GYS5wcm90b3R5cGUuVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9LEZhLnByb3RvdHlwZS51PWZ1bmN0aW9uKHQsbixlLGkscixvKXtpZihjaSgpJiYodm9pZCAwPT09bC5mZXRjaHx8dm9pZCAwPT09bC5IZWFkZXJzfHx2b2lkIDA9PT1sLlJlcXVlc3QpKXRocm93IG5ldyBUKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiLFwiZmV0Y2gsIEhlYWRlcnMgYW5kIFJlcXVlc3QgbmF0aXZlIEFQSXMgb3IgZXF1aXZhbGVudCBQb2x5ZmlsbHMgbXVzdCBiZSBhdmFpbGFibGUgdG8gc3VwcG9ydCBIVFRQIHJlcXVlc3RzIGZyb20gYSBXb3JrZXIgZW52aXJvbm1lbnQuXCIpO3ZhciBhLHM9bmV3IGNhKHRoaXMuZik7byYmKHMuZz1NYXRoLm1heCgwLG8pLGE9c2V0VGltZW91dChmdW5jdGlvbigpe3MuZGlzcGF0Y2hFdmVudChcInRpbWVvdXRcIil9LG8pKSxmbihzLFwiY29tcGxldGVcIixmdW5jdGlvbigpe2EmJmNsZWFyVGltZW91dChhKTt2YXIgZT1udWxsO3RyeXtlPUpTT04ucGFyc2UoZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBlLmE/ZS5hLnJlc3BvbnNlVGV4dDpcIlwifWNhdGNoKHQpe3JldHVybiBuYShlLmIsXCJDYW4gbm90IGdldCByZXNwb25zZVRleHQ6IFwiK3QubWVzc2FnZSksXCJcIn19KHRoaXMpKXx8bnVsbH1jYXRjaCh0KXtlPW51bGx9biYmbihlKX0pLGRuKHMsXCJyZWFkeVwiLGZ1bmN0aW9uKCl7YSYmY2xlYXJUaW1lb3V0KGEpLHhlKHRoaXMpfSksZG4ocyxcInRpbWVvdXRcIixmdW5jdGlvbigpe2EmJmNsZWFyVGltZW91dChhKSx4ZSh0aGlzKSxuJiZuKG51bGwpfSksZGEocyx0LGUsaSxyKX07dmFyIFphPW5ldyBkdChndCxcImh0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2NsaWVudC5qcz9vbmxvYWQ9JXtvbmxvYWR9XCIpLFFhPVwiX19mY2JcIitNYXRoLmZsb29yKDFlNipNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpO2Z1bmN0aW9uIHRzKHQsZSxuLGkscixvLGEpe3ZhciBzPU9uKGUrbik7Tm4ocyxcImtleVwiLHQuYyksYSYmTm4ocyxcImNiXCIsRGF0ZS5ub3coKS50b1N0cmluZygpKTt2YXIgdT1cIkdFVFwiPT1pO2lmKHUpZm9yKHZhciBjIGluIHIpci5oYXNPd25Qcm9wZXJ0eShjKSYmTm4ocyxjLHJbY10pO3JldHVybiBuZXcgZmUoZnVuY3Rpb24oZSxuKXskYSh0LHMudG9TdHJpbmcoKSxmdW5jdGlvbih0KXt0P3QuZXJyb3I/bihZcyh0LG98fHt9KSk6ZSh0KTpuKG5ldyBUKFwibmV0d29yay1yZXF1ZXN0LWZhaWxlZFwiKSl9LGksdT92b2lkIDA6WG4oa2kocikpLHQuYSx0LnYuZ2V0KCkpfSl9ZnVuY3Rpb24gZXModCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mKHQ9dC5lbWFpbCl8fCFvaS50ZXN0KHQpKXRocm93IG5ldyBUKFwiaW52YWxpZC1lbWFpbFwiKX1mdW5jdGlvbiBucyh0KXtcImVtYWlsXCJpbiB0JiZlcyh0KX1mdW5jdGlvbiBpcyh0KXtpZighdFtIYV0pe2lmKHQubWZhUGVuZGluZ0NyZWRlbnRpYWwpdGhyb3cgbmV3IFQoXCJtdWx0aS1mYWN0b3ItYXV0aC1yZXF1aXJlZFwiLG51bGwsY3QodCkpO3Rocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIil9fWZ1bmN0aW9uIHJzKHQpe2lmKHQucGhvbmVOdW1iZXJ8fHQudGVtcG9yYXJ5UHJvb2Ype2lmKCF0LnBob25lTnVtYmVyfHwhdC50ZW1wb3JhcnlQcm9vZil0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpfWVsc2V7aWYoIXQuc2Vzc2lvbkluZm8pdGhyb3cgbmV3IFQoXCJtaXNzaW5nLXZlcmlmaWNhdGlvbi1pZFwiKTtpZighdC5jb2RlKXRocm93IG5ldyBUKFwibWlzc2luZy12ZXJpZmljYXRpb24tY29kZVwiKX19RmEucHJvdG90eXBlLnM9ZnVuY3Rpb24odCxuLGkscixvKXt2YXIgYT10aGlzO3FhLnRoZW4oZnVuY3Rpb24oKXt3aW5kb3cuZ2FwaS5jbGllbnQuc2V0QXBpS2V5KGEuYyk7dmFyIGU9d2luZG93LmdhcGkuYXV0aC5nZXRUb2tlbigpO3dpbmRvdy5nYXBpLmF1dGguc2V0VG9rZW4obnVsbCksd2luZG93LmdhcGkuY2xpZW50LnJlcXVlc3Qoe3BhdGg6dCxtZXRob2Q6aSxib2R5OnIsaGVhZGVyczpvLGF1dGhUeXBlOlwibm9uZVwiLGNhbGxiYWNrOmZ1bmN0aW9uKHQpe3dpbmRvdy5nYXBpLmF1dGguc2V0VG9rZW4oZSksbiYmbih0KX19KX0pLm8oZnVuY3Rpb24odCl7biYmbih7ZXJyb3I6e21lc3NhZ2U6dCYmdC5tZXNzYWdlfHxcIkNPUlNfVU5TVVBQT1JURURcIn19KX0pfSxGYS5wcm90b3R5cGUuemI9ZnVuY3Rpb24oKXtyZXR1cm4gWHModGhpcyx4cyx7fSl9LEZhLnByb3RvdHlwZS5CYj1mdW5jdGlvbih0LGUpe3JldHVybiBYcyh0aGlzLFBzLHtpZFRva2VuOnQsZW1haWw6ZX0pfSxGYS5wcm90b3R5cGUuQ2I9ZnVuY3Rpb24odCxlKXtyZXR1cm4gWHModGhpcyxMcyx7aWRUb2tlbjp0LHBhc3N3b3JkOmV9KX07dmFyIG9zPXtkaXNwbGF5TmFtZTpcIkRJU1BMQVlfTkFNRVwiLHBob3RvVXJsOlwiUEhPVE9fVVJMXCJ9O2Z1bmN0aW9uIGFzKHQpe2lmKCF0LnBob25lVmVyaWZpY2F0aW9uSW5mbyl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpO2lmKCF0LnBob25lVmVyaWZpY2F0aW9uSW5mby5zZXNzaW9uSW5mbyl0aHJvdyBuZXcgVChcIm1pc3NpbmctdmVyaWZpY2F0aW9uLWlkXCIpO2lmKCF0LnBob25lVmVyaWZpY2F0aW9uSW5mby5jb2RlKXRocm93IG5ldyBUKFwibWlzc2luZy12ZXJpZmljYXRpb24tY29kZVwiKX1mdW5jdGlvbiBzcyh0KXtpZighdC5yZXF1ZXN0VXJpfHwhdC5zZXNzaW9uSWQmJiF0LnBvc3RCb2R5JiYhdC5wZW5kaW5nVG9rZW4pdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKX1mdW5jdGlvbiB1cyh0LGUpe3JldHVybiBlLm9hdXRoSWRUb2tlbiYmZS5wcm92aWRlcklkJiYwPT1lLnByb3ZpZGVySWQuaW5kZXhPZihcIm9pZGMuXCIpJiYhZS5wZW5kaW5nVG9rZW4mJih0LnNlc3Npb25JZD9lLm5vbmNlPXQuc2Vzc2lvbklkOnQucG9zdEJvZHkmJihLbih0PW5ldyBWbih0LnBvc3RCb2R5KSxcIm5vbmNlXCIpJiYoZS5ub25jZT10LmdldChcIm5vbmNlXCIpKSkpLGV9ZnVuY3Rpb24gY3ModCl7dmFyIGU9bnVsbDtpZih0Lm5lZWRDb25maXJtYXRpb24/KHQuY29kZT1cImFjY291bnQtZXhpc3RzLXdpdGgtZGlmZmVyZW50LWNyZWRlbnRpYWxcIixlPWpvKHQpKTpcIkZFREVSQVRFRF9VU0VSX0lEX0FMUkVBRFlfTElOS0VEXCI9PXQuZXJyb3JNZXNzYWdlPyh0LmNvZGU9XCJjcmVkZW50aWFsLWFscmVhZHktaW4tdXNlXCIsZT1qbyh0KSk6XCJFTUFJTF9FWElTVFNcIj09dC5lcnJvck1lc3NhZ2U/KHQuY29kZT1cImVtYWlsLWFscmVhZHktaW4tdXNlXCIsZT1qbyh0KSk6dC5lcnJvck1lc3NhZ2UmJihlPUpzKHQuZXJyb3JNZXNzYWdlKSksZSl0aHJvdyBlO2lzKHQpfWZ1bmN0aW9uIGhzKHQsZSl7cmV0dXJuIGUucmV0dXJuSWRwQ3JlZGVudGlhbD0hMCxYcyh0LFVzLGUpfWZ1bmN0aW9uIGxzKHQsZSl7cmV0dXJuIGUucmV0dXJuSWRwQ3JlZGVudGlhbD0hMCxYcyh0LEZzLGUpfWZ1bmN0aW9uIGZzKHQsZSl7cmV0dXJuIGUucmV0dXJuSWRwQ3JlZGVudGlhbD0hMCxlLmF1dG9DcmVhdGU9ITEsWHModCxWcyxlKX1mdW5jdGlvbiBkcyh0KXtpZighdC5vb2JDb2RlKXRocm93IG5ldyBUKFwiaW52YWxpZC1hY3Rpb24tY29kZVwiKX0odD1GYS5wcm90b3R5cGUpLkRiPWZ1bmN0aW9uKHQsaSl7dmFyIHI9e2lkVG9rZW46dH0sbz1bXTtyZXR1cm4gc3Qob3MsZnVuY3Rpb24odCxlKXt2YXIgbj1pW2VdO251bGw9PT1uP28ucHVzaCh0KTplIGluIGkmJihyW2VdPW4pfSksby5sZW5ndGgmJihyLmRlbGV0ZUF0dHJpYnV0ZT1vKSxYcyh0aGlzLFBzLHIpfSx0LnZiPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGx0KHQ9e3JlcXVlc3RUeXBlOlwiUEFTU1dPUkRfUkVTRVRcIixlbWFpbDp0fSxlKSxYcyh0aGlzLF9zLHQpfSx0LndiPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGx0KHQ9e3JlcXVlc3RUeXBlOlwiRU1BSUxfU0lHTklOXCIsZW1haWw6dH0sZSksWHModGhpcyxrcyx0KX0sdC51Yj1mdW5jdGlvbih0LGUpe3JldHVybiBsdCh0PXtyZXF1ZXN0VHlwZTpcIlZFUklGWV9FTUFJTFwiLGlkVG9rZW46dH0sZSksWHModGhpcyxTcyx0KX0sdC5FYj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGx0KHQ9e3JlcXVlc3RUeXBlOlwiVkVSSUZZX0FORF9DSEFOR0VfRU1BSUxcIixpZFRva2VuOnQsbmV3RW1haWw6ZX0sbiksWHModGhpcyxOcyx0KX0sdC5mYj1mdW5jdGlvbih0KXtyZXR1cm4gWHModGhpcyxLcyx0KX0sdC5uYj1mdW5jdGlvbih0LGUpe3JldHVybiBYcyh0aGlzLFJzLHtvb2JDb2RlOnQsbmV3UGFzc3dvcmQ6ZX0pfSx0LlJhPWZ1bmN0aW9uKHQpe3JldHVybiBYcyh0aGlzLHZzLHtvb2JDb2RlOnR9KX0sdC5qYj1mdW5jdGlvbih0KXtyZXR1cm4gWHModGhpcyxwcyx7b29iQ29kZTp0fSl9O3ZhciBwcz17ZW5kcG9pbnQ6XCJzZXRBY2NvdW50SW5mb1wiLEE6ZHMsWjpcImVtYWlsXCIsQjohMH0sdnM9e2VuZHBvaW50OlwicmVzZXRQYXNzd29yZFwiLEE6ZHMsRzpmdW5jdGlvbih0KXt2YXIgZT10LnJlcXVlc3RUeXBlO2lmKCFlfHwhdC5lbWFpbCYmXCJFTUFJTF9TSUdOSU5cIiE9ZSYmXCJWRVJJRllfQU5EX0NIQU5HRV9FTUFJTFwiIT1lKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIil9LEI6ITB9LG1zPXtlbmRwb2ludDpcInNpZ251cE5ld1VzZXJcIixBOmZ1bmN0aW9uKHQpe2lmKGVzKHQpLCF0LnBhc3N3b3JkKXRocm93IG5ldyBUKFwid2Vhay1wYXNzd29yZFwiKX0sRzppcyxWOiEwLEI6ITB9LGdzPXtlbmRwb2ludDpcImNyZWF0ZUF1dGhVcmlcIixCOiEwfSxicz17ZW5kcG9pbnQ6XCJkZWxldGVBY2NvdW50XCIsTjpbXCJpZFRva2VuXCJdfSx5cz17ZW5kcG9pbnQ6XCJzZXRBY2NvdW50SW5mb1wiLE46W1wiaWRUb2tlblwiLFwiZGVsZXRlUHJvdmlkZXJcIl0sQTpmdW5jdGlvbih0KXtpZighQXJyYXkuaXNBcnJheSh0LmRlbGV0ZVByb3ZpZGVyKSl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpfX0sd3M9e2VuZHBvaW50OlwiZW1haWxMaW5rU2lnbmluXCIsTjpbXCJlbWFpbFwiLFwib29iQ29kZVwiXSxBOmVzLEc6aXMsVjohMCxCOiEwfSxJcz17ZW5kcG9pbnQ6XCJlbWFpbExpbmtTaWduaW5cIixOOltcImlkVG9rZW5cIixcImVtYWlsXCIsXCJvb2JDb2RlXCJdLEE6ZXMsRzppcyxWOiEwfSxUcz17ZW5kcG9pbnQ6XCJhY2NvdW50cy9tZmFFbnJvbGxtZW50OmZpbmFsaXplXCIsTjpbXCJpZFRva2VuXCIsXCJwaG9uZVZlcmlmaWNhdGlvbkluZm9cIl0sQTphcyxHOmlzLEI6ITAsTmE6ITB9LEVzPXtlbmRwb2ludDpcImFjY291bnRzL21mYVNpZ25JbjpmaW5hbGl6ZVwiLE46W1wibWZhUGVuZGluZ0NyZWRlbnRpYWxcIixcInBob25lVmVyaWZpY2F0aW9uSW5mb1wiXSxBOmFzLEc6aXMsQjohMCxOYTohMH0sQXM9e2VuZHBvaW50OlwiZ2V0QWNjb3VudEluZm9cIn0sa3M9e2VuZHBvaW50OlwiZ2V0T29iQ29uZmlybWF0aW9uQ29kZVwiLE46W1wicmVxdWVzdFR5cGVcIl0sQTpmdW5jdGlvbih0KXtpZihcIkVNQUlMX1NJR05JTlwiIT10LnJlcXVlc3RUeXBlKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIik7ZXModCl9LFo6XCJlbWFpbFwiLEI6ITB9LFNzPXtlbmRwb2ludDpcImdldE9vYkNvbmZpcm1hdGlvbkNvZGVcIixOOltcImlkVG9rZW5cIixcInJlcXVlc3RUeXBlXCJdLEE6ZnVuY3Rpb24odCl7aWYoXCJWRVJJRllfRU1BSUxcIiE9dC5yZXF1ZXN0VHlwZSl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpfSxaOlwiZW1haWxcIixCOiEwfSxOcz17ZW5kcG9pbnQ6XCJnZXRPb2JDb25maXJtYXRpb25Db2RlXCIsTjpbXCJpZFRva2VuXCIsXCJuZXdFbWFpbFwiLFwicmVxdWVzdFR5cGVcIl0sQTpmdW5jdGlvbih0KXtpZihcIlZFUklGWV9BTkRfQ0hBTkdFX0VNQUlMXCIhPXQucmVxdWVzdFR5cGUpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKX0sWjpcImVtYWlsXCIsQjohMH0sX3M9e2VuZHBvaW50OlwiZ2V0T29iQ29uZmlybWF0aW9uQ29kZVwiLE46W1wicmVxdWVzdFR5cGVcIl0sQTpmdW5jdGlvbih0KXtpZihcIlBBU1NXT1JEX1JFU0VUXCIhPXQucmVxdWVzdFR5cGUpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKTtlcyh0KX0sWjpcImVtYWlsXCIsQjohMH0sT3M9e2xiOiEwLGVuZHBvaW50OlwiZ2V0UHJvamVjdENvbmZpZ1wiLFViOlwiR0VUXCJ9LENzPXtsYjohMCxlbmRwb2ludDpcImdldFJlY2FwdGNoYVBhcmFtXCIsVWI6XCJHRVRcIixHOmZ1bmN0aW9uKHQpe2lmKCF0LnJlY2FwdGNoYVNpdGVLZXkpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKX19LFJzPXtlbmRwb2ludDpcInJlc2V0UGFzc3dvcmRcIixBOmRzLFo6XCJlbWFpbFwiLEI6ITB9LERzPXtlbmRwb2ludDpcInNlbmRWZXJpZmljYXRpb25Db2RlXCIsTjpbXCJwaG9uZU51bWJlclwiLFwicmVjYXB0Y2hhVG9rZW5cIl0sWjpcInNlc3Npb25JbmZvXCIsQjohMH0sUHM9e2VuZHBvaW50Olwic2V0QWNjb3VudEluZm9cIixOOltcImlkVG9rZW5cIl0sQTpucyxWOiEwfSxMcz17ZW5kcG9pbnQ6XCJzZXRBY2NvdW50SW5mb1wiLE46W1wiaWRUb2tlblwiXSxBOmZ1bmN0aW9uKHQpe2lmKG5zKHQpLCF0LnBhc3N3b3JkKXRocm93IG5ldyBUKFwid2Vhay1wYXNzd29yZFwiKX0sRzppcyxWOiEwfSx4cz17ZW5kcG9pbnQ6XCJzaWdudXBOZXdVc2VyXCIsRzppcyxWOiEwLEI6ITB9LE1zPXtlbmRwb2ludDpcImFjY291bnRzL21mYUVucm9sbG1lbnQ6c3RhcnRcIixOOltcImlkVG9rZW5cIixcInBob25lRW5yb2xsbWVudEluZm9cIl0sQTpmdW5jdGlvbih0KXtpZighdC5waG9uZUVucm9sbG1lbnRJbmZvKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIik7aWYoIXQucGhvbmVFbnJvbGxtZW50SW5mby5waG9uZU51bWJlcil0aHJvdyBuZXcgVChcIm1pc3NpbmctcGhvbmUtbnVtYmVyXCIpO2lmKCF0LnBob25lRW5yb2xsbWVudEluZm8ucmVjYXB0Y2hhVG9rZW4pdGhyb3cgbmV3IFQoXCJtaXNzaW5nLWFwcC1jcmVkZW50aWFsXCIpfSxHOmZ1bmN0aW9uKHQpe2lmKCF0LnBob25lU2Vzc2lvbkluZm98fCF0LnBob25lU2Vzc2lvbkluZm8uc2Vzc2lvbkluZm8pdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKX0sQjohMCxOYTohMH0sanM9e2VuZHBvaW50OlwiYWNjb3VudHMvbWZhU2lnbkluOnN0YXJ0XCIsTjpbXCJtZmFQZW5kaW5nQ3JlZGVudGlhbFwiLFwibWZhRW5yb2xsbWVudElkXCIsXCJwaG9uZVNpZ25JbkluZm9cIl0sQTpmdW5jdGlvbih0KXtpZighdC5waG9uZVNpZ25JbkluZm98fCF0LnBob25lU2lnbkluSW5mby5yZWNhcHRjaGFUb2tlbil0aHJvdyBuZXcgVChcIm1pc3NpbmctYXBwLWNyZWRlbnRpYWxcIil9LEc6ZnVuY3Rpb24odCl7aWYoIXQucGhvbmVSZXNwb25zZUluZm98fCF0LnBob25lUmVzcG9uc2VJbmZvLnNlc3Npb25JbmZvKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIil9LEI6ITAsTmE6ITB9LFVzPXtlbmRwb2ludDpcInZlcmlmeUFzc2VydGlvblwiLEE6c3MsWWE6dXMsRzpjcyxWOiEwLEI6ITB9LFZzPXtlbmRwb2ludDpcInZlcmlmeUFzc2VydGlvblwiLEE6c3MsWWE6dXMsRzpmdW5jdGlvbih0KXtpZih0LmVycm9yTWVzc2FnZSYmXCJVU0VSX05PVF9GT1VORFwiPT10LmVycm9yTWVzc2FnZSl0aHJvdyBuZXcgVChcInVzZXItbm90LWZvdW5kXCIpO2lmKHQuZXJyb3JNZXNzYWdlKXRocm93IEpzKHQuZXJyb3JNZXNzYWdlKTtpcyh0KX0sVjohMCxCOiEwfSxGcz17ZW5kcG9pbnQ6XCJ2ZXJpZnlBc3NlcnRpb25cIixBOmZ1bmN0aW9uKHQpe2lmKHNzKHQpLCF0LmlkVG9rZW4pdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKX0sWWE6dXMsRzpjcyxWOiEwfSxxcz17ZW5kcG9pbnQ6XCJ2ZXJpZnlDdXN0b21Ub2tlblwiLEE6ZnVuY3Rpb24odCl7aWYoIXQudG9rZW4pdGhyb3cgbmV3IFQoXCJpbnZhbGlkLWN1c3RvbS10b2tlblwiKX0sRzppcyxWOiEwLEI6ITB9LEhzPXtlbmRwb2ludDpcInZlcmlmeVBhc3N3b3JkXCIsQTpmdW5jdGlvbih0KXtpZihlcyh0KSwhdC5wYXNzd29yZCl0aHJvdyBuZXcgVChcIndyb25nLXBhc3N3b3JkXCIpfSxHOmlzLFY6ITAsQjohMH0sS3M9e2VuZHBvaW50OlwidmVyaWZ5UGhvbmVOdW1iZXJcIixBOnJzLEc6aXMsQjohMH0sR3M9e2VuZHBvaW50OlwidmVyaWZ5UGhvbmVOdW1iZXJcIixBOmZ1bmN0aW9uKHQpe2lmKCF0LmlkVG9rZW4pdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKTtycyh0KX0sRzpmdW5jdGlvbih0KXtpZih0LnRlbXBvcmFyeVByb29mKXRocm93IHQuY29kZT1cImNyZWRlbnRpYWwtYWxyZWFkeS1pbi11c2VcIixqbyh0KTtpcyh0KX19LEJzPXtIYjp7VVNFUl9OT1RfRk9VTkQ6XCJ1c2VyLW5vdC1mb3VuZFwifSxlbmRwb2ludDpcInZlcmlmeVBob25lTnVtYmVyXCIsQTpycyxHOmlzLEI6ITB9LFdzPXtlbmRwb2ludDpcImFjY291bnRzL21mYUVucm9sbG1lbnQ6d2l0aGRyYXdcIixOOltcImlkVG9rZW5cIixcIm1mYUVucm9sbG1lbnRJZFwiXSxHOmZ1bmN0aW9uKHQpe2lmKCEhdFtIYV1eISF0LnJlZnJlc2hUb2tlbil0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpfSxCOiEwLE5hOiEwfTtmdW5jdGlvbiBYcyh0LGUsbil7aWYoIWZ1bmN0aW9uKHQsZSl7aWYoIWV8fCFlLmxlbmd0aClyZXR1cm4gMTtpZih0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9dFtlW25dXTtpZihudWxsPT1pfHxcIlwiPT09aSlyZXR1cm59cmV0dXJuIDF9fShuLGUuTikpcmV0dXJuIHdlKG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIikpO3ZhciBpLHI9ISFlLk5hLG89ZS5VYnx8XCJQT1NUXCI7cmV0dXJuIHllKG4pLnRoZW4oZS5BKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuViYmKG4ucmV0dXJuU2VjdXJlVG9rZW49ITApLGUuQiYmdC5iJiZ2b2lkIDA9PT1uLnRlbmFudElkJiYobi50ZW5hbnRJZD10LmIpLHRzKHQscj90Lmk6dC5oLGUuZW5kcG9pbnQsbyxuLGUuSGIsZS5sYnx8ITEpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaT10LGUuWWE/ZS5ZYShuLGkpOml9KS50aGVuKGUuRykudGhlbihmdW5jdGlvbigpe2lmKCFlLlopcmV0dXJuIGk7aWYoIShlLlogaW4gaSkpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKTtyZXR1cm4gaVtlLlpdfSl9ZnVuY3Rpb24gSnModCl7cmV0dXJuIFlzKHtlcnJvcjp7ZXJyb3JzOlt7bWVzc2FnZTp0fV0sY29kZTo0MDAsbWVzc2FnZTp0fX0pfWZ1bmN0aW9uIFlzKHQsZSl7dmFyIG4saT0odC5lcnJvciYmdC5lcnJvci5lcnJvcnMmJnQuZXJyb3IuZXJyb3JzWzBdfHx7fSkucmVhc29ufHxcIlwiLHI9e2tleUludmFsaWQ6XCJpbnZhbGlkLWFwaS1rZXlcIixpcFJlZmVyZXJCbG9ja2VkOlwiYXBwLW5vdC1hdXRob3JpemVkXCJ9O2lmKGk9cltpXT9uZXcgVChyW2ldKTpudWxsKXJldHVybiBpO2ZvcihuIGluIGk9dC5lcnJvciYmdC5lcnJvci5tZXNzYWdlfHxcIlwiLGx0KHI9e0lOVkFMSURfQ1VTVE9NX1RPS0VOOlwiaW52YWxpZC1jdXN0b20tdG9rZW5cIixDUkVERU5USUFMX01JU01BVENIOlwiY3VzdG9tLXRva2VuLW1pc21hdGNoXCIsTUlTU0lOR19DVVNUT01fVE9LRU46XCJpbnRlcm5hbC1lcnJvclwiLElOVkFMSURfSURFTlRJRklFUjpcImludmFsaWQtZW1haWxcIixNSVNTSU5HX0NPTlRJTlVFX1VSSTpcImludGVybmFsLWVycm9yXCIsSU5WQUxJRF9FTUFJTDpcImludmFsaWQtZW1haWxcIixJTlZBTElEX1BBU1NXT1JEOlwid3JvbmctcGFzc3dvcmRcIixVU0VSX0RJU0FCTEVEOlwidXNlci1kaXNhYmxlZFwiLE1JU1NJTkdfUEFTU1dPUkQ6XCJpbnRlcm5hbC1lcnJvclwiLEVNQUlMX0VYSVNUUzpcImVtYWlsLWFscmVhZHktaW4tdXNlXCIsUEFTU1dPUkRfTE9HSU5fRElTQUJMRUQ6XCJvcGVyYXRpb24tbm90LWFsbG93ZWRcIixJTlZBTElEX0lEUF9SRVNQT05TRTpcImludmFsaWQtY3JlZGVudGlhbFwiLElOVkFMSURfUEVORElOR19UT0tFTjpcImludmFsaWQtY3JlZGVudGlhbFwiLEZFREVSQVRFRF9VU0VSX0lEX0FMUkVBRFlfTElOS0VEOlwiY3JlZGVudGlhbC1hbHJlYWR5LWluLXVzZVwiLE1JU1NJTkdfT1JfSU5WQUxJRF9OT05DRTpcIm1pc3Npbmctb3ItaW52YWxpZC1ub25jZVwiLElOVkFMSURfTUVTU0FHRV9QQVlMT0FEOlwiaW52YWxpZC1tZXNzYWdlLXBheWxvYWRcIixJTlZBTElEX1JFQ0lQSUVOVF9FTUFJTDpcImludmFsaWQtcmVjaXBpZW50LWVtYWlsXCIsSU5WQUxJRF9TRU5ERVI6XCJpbnZhbGlkLXNlbmRlclwiLEVNQUlMX05PVF9GT1VORDpcInVzZXItbm90LWZvdW5kXCIsUkVTRVRfUEFTU1dPUkRfRVhDRUVEX0xJTUlUOlwidG9vLW1hbnktcmVxdWVzdHNcIixFWFBJUkVEX09PQl9DT0RFOlwiZXhwaXJlZC1hY3Rpb24tY29kZVwiLElOVkFMSURfT09CX0NPREU6XCJpbnZhbGlkLWFjdGlvbi1jb2RlXCIsTUlTU0lOR19PT0JfQ09ERTpcImludGVybmFsLWVycm9yXCIsSU5WQUxJRF9QUk9WSURFUl9JRDpcImludmFsaWQtcHJvdmlkZXItaWRcIixDUkVERU5USUFMX1RPT19PTERfTE9HSU5fQUdBSU46XCJyZXF1aXJlcy1yZWNlbnQtbG9naW5cIixJTlZBTElEX0lEX1RPS0VOOlwiaW52YWxpZC11c2VyLXRva2VuXCIsVE9LRU5fRVhQSVJFRDpcInVzZXItdG9rZW4tZXhwaXJlZFwiLFVTRVJfTk9UX0ZPVU5EOlwidXNlci10b2tlbi1leHBpcmVkXCIsQ09SU19VTlNVUFBPUlRFRDpcImNvcnMtdW5zdXBwb3J0ZWRcIixEWU5BTUlDX0xJTktfTk9UX0FDVElWQVRFRDpcImR5bmFtaWMtbGluay1ub3QtYWN0aXZhdGVkXCIsSU5WQUxJRF9BUFBfSUQ6XCJpbnZhbGlkLWFwcC1pZFwiLFRPT19NQU5ZX0FUVEVNUFRTX1RSWV9MQVRFUjpcInRvby1tYW55LXJlcXVlc3RzXCIsV0VBS19QQVNTV09SRDpcIndlYWstcGFzc3dvcmRcIixPUEVSQVRJT05fTk9UX0FMTE9XRUQ6XCJvcGVyYXRpb24tbm90LWFsbG93ZWRcIixVU0VSX0NBTkNFTExFRDpcInVzZXItY2FuY2VsbGVkXCIsQ0FQVENIQV9DSEVDS19GQUlMRUQ6XCJjYXB0Y2hhLWNoZWNrLWZhaWxlZFwiLElOVkFMSURfQVBQX0NSRURFTlRJQUw6XCJpbnZhbGlkLWFwcC1jcmVkZW50aWFsXCIsSU5WQUxJRF9DT0RFOlwiaW52YWxpZC12ZXJpZmljYXRpb24tY29kZVwiLElOVkFMSURfUEhPTkVfTlVNQkVSOlwiaW52YWxpZC1waG9uZS1udW1iZXJcIixJTlZBTElEX1NFU1NJT05fSU5GTzpcImludmFsaWQtdmVyaWZpY2F0aW9uLWlkXCIsSU5WQUxJRF9URU1QT1JBUllfUFJPT0Y6XCJpbnZhbGlkLWNyZWRlbnRpYWxcIixNSVNTSU5HX0FQUF9DUkVERU5USUFMOlwibWlzc2luZy1hcHAtY3JlZGVudGlhbFwiLE1JU1NJTkdfQ09ERTpcIm1pc3NpbmctdmVyaWZpY2F0aW9uLWNvZGVcIixNSVNTSU5HX1BIT05FX05VTUJFUjpcIm1pc3NpbmctcGhvbmUtbnVtYmVyXCIsTUlTU0lOR19TRVNTSU9OX0lORk86XCJtaXNzaW5nLXZlcmlmaWNhdGlvbi1pZFwiLFFVT1RBX0VYQ0VFREVEOlwicXVvdGEtZXhjZWVkZWRcIixTRVNTSU9OX0VYUElSRUQ6XCJjb2RlLWV4cGlyZWRcIixSRUpFQ1RFRF9DUkVERU5USUFMOlwicmVqZWN0ZWQtY3JlZGVudGlhbFwiLElOVkFMSURfQ09OVElOVUVfVVJJOlwiaW52YWxpZC1jb250aW51ZS11cmlcIixNSVNTSU5HX0FORFJPSURfUEFDS0FHRV9OQU1FOlwibWlzc2luZy1hbmRyb2lkLXBrZy1uYW1lXCIsTUlTU0lOR19JT1NfQlVORExFX0lEOlwibWlzc2luZy1pb3MtYnVuZGxlLWlkXCIsVU5BVVRIT1JJWkVEX0RPTUFJTjpcInVuYXV0aG9yaXplZC1jb250aW51ZS11cmlcIixJTlZBTElEX0RZTkFNSUNfTElOS19ET01BSU46XCJpbnZhbGlkLWR5bmFtaWMtbGluay1kb21haW5cIixJTlZBTElEX09BVVRIX0NMSUVOVF9JRDpcImludmFsaWQtb2F1dGgtY2xpZW50LWlkXCIsSU5WQUxJRF9DRVJUX0hBU0g6XCJpbnZhbGlkLWNlcnQtaGFzaFwiLFVOU1VQUE9SVEVEX1RFTkFOVF9PUEVSQVRJT046XCJ1bnN1cHBvcnRlZC10ZW5hbnQtb3BlcmF0aW9uXCIsSU5WQUxJRF9URU5BTlRfSUQ6XCJpbnZhbGlkLXRlbmFudC1pZFwiLFRFTkFOVF9JRF9NSVNNQVRDSDpcInRlbmFudC1pZC1taXNtYXRjaFwiLEFETUlOX09OTFlfT1BFUkFUSU9OOlwiYWRtaW4tcmVzdHJpY3RlZC1vcGVyYXRpb25cIixJTlZBTElEX01GQV9QRU5ESU5HX0NSRURFTlRJQUw6XCJpbnZhbGlkLW11bHRpLWZhY3Rvci1zZXNzaW9uXCIsTUZBX0VOUk9MTE1FTlRfTk9UX0ZPVU5EOlwibXVsdGktZmFjdG9yLWluZm8tbm90LWZvdW5kXCIsTUlTU0lOR19NRkFfUEVORElOR19DUkVERU5USUFMOlwibWlzc2luZy1tdWx0aS1mYWN0b3Itc2Vzc2lvblwiLE1JU1NJTkdfTUZBX0VOUk9MTE1FTlRfSUQ6XCJtaXNzaW5nLW11bHRpLWZhY3Rvci1pbmZvXCIsRU1BSUxfQ0hBTkdFX05FRURTX1ZFUklGSUNBVElPTjpcImVtYWlsLWNoYW5nZS1uZWVkcy12ZXJpZmljYXRpb25cIixTRUNPTkRfRkFDVE9SX0VYSVNUUzpcInNlY29uZC1mYWN0b3ItYWxyZWFkeS1pbi11c2VcIixTRUNPTkRfRkFDVE9SX0xJTUlUX0VYQ0VFREVEOlwibWF4aW11bS1zZWNvbmQtZmFjdG9yLWNvdW50LWV4Y2VlZGVkXCIsVU5TVVBQT1JURURfRklSU1RfRkFDVE9SOlwidW5zdXBwb3J0ZWQtZmlyc3QtZmFjdG9yXCIsVU5WRVJJRklFRF9FTUFJTDpcInVudmVyaWZpZWQtZW1haWxcIn0sZXx8e30pLGU9KGU9aS5tYXRjaCgvXlteXFxzXStcXHMqOlxccyooW1xcc1xcU10qKSQvKSkmJjE8ZS5sZW5ndGg/ZVsxXTp2b2lkIDAscilpZigwPT09aS5pbmRleE9mKG4pKXJldHVybiBuZXcgVChyW25dLGUpO3JldHVybiBuZXcgVChcImludGVybmFsLWVycm9yXCIsZT0hZSYmdD9BaSh0KTplKX1mdW5jdGlvbiB6cyh0KXt2YXIgbzt0aGlzLmI9dCx0aGlzLmE9bnVsbCx0aGlzLnJiPShvPXRoaXMsKHR1PXR1fHxuZXcgZmUoZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7T2koKSxiaShcImdhcGkubG9hZFwiKShcImdhcGkuaWZyYW1lc1wiLHtjYWxsYmFjazp0LG9udGltZW91dDpmdW5jdGlvbigpe09pKCksZShFcnJvcihcIk5ldHdvcmsgRXJyb3JcIikpfSx0aW1lb3V0OlpzLmdldCgpfSl9dmFyIGk7YmkoXCJnYXBpLmlmcmFtZXMuSWZyYW1lXCIpP3QoKTpiaShcImdhcGkubG9hZFwiKT9uKCk6KGk9XCJfX2lmcmFtZWZjYlwiK01hdGguZmxvb3IoMWU2Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCksbFtpXT1mdW5jdGlvbigpe2JpKFwiZ2FwaS5sb2FkXCIpP24oKTplKEVycm9yKFwiTmV0d29yayBFcnJvclwiKSl9LHllKFBhKGk9SXQoJHMse29ubG9hZDppfSkpKS5vKGZ1bmN0aW9uKCl7ZShFcnJvcihcIk5ldHdvcmsgRXJyb3JcIikpfSkpfSkubyhmdW5jdGlvbih0KXt0aHJvdyB0dT1udWxsLHR9KSkudGhlbihmdW5jdGlvbigpe3JldHVybiBuZXcgZmUoZnVuY3Rpb24oaSxyKXtiaShcImdhcGkuaWZyYW1lcy5nZXRDb250ZXh0XCIpKCkub3Blbih7d2hlcmU6ZG9jdW1lbnQuYm9keSx1cmw6by5iLG1lc3NhZ2VIYW5kbGVyc0ZpbHRlcjpiaShcImdhcGkuaWZyYW1lcy5DUk9TU19PUklHSU5fSUZSQU1FU19GSUxURVJcIiksYXR0cmlidXRlczp7c3R5bGU6e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6XCItMTAwcHhcIix3aWR0aDpcIjFweFwiLGhlaWdodDpcIjFweFwifX0sZG9udGNsZWFyOiEwfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7Y2xlYXJUaW1lb3V0KG4pLGkoKX1vLmE9dCxvLmEucmVzdHlsZSh7c2V0SGlkZU9uTGVhdmU6ITF9KTt2YXIgbj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cihFcnJvcihcIk5ldHdvcmsgRXJyb3JcIikpfSxRcy5nZXQoKSk7dC5waW5nKGUpLnRoZW4oZSxmdW5jdGlvbigpe3IoRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKX0pfSl9KX0pKX12YXIgJHM9bmV3IGR0KGd0LFwiaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvYXBpLmpzP29ubG9hZD0le29ubG9hZH1cIiksWnM9bmV3IENpKDNlNCw2ZTQpLFFzPW5ldyBDaSg1ZTMsMTVlMyksdHU9bnVsbDtmdW5jdGlvbiBldSh0LGUsbixpKXt0aGlzLmw9dCx0aGlzLmg9ZSx0aGlzLmk9bix0aGlzLmc9aSx0aGlzLmY9bnVsbCx0PXRoaXMuZz9DbigodD1Pbih0aGlzLmcudXJsKSkuYyx0LmEsdC5nLFwiL2VtdWxhdG9yL2F1dGgvaWZyYW1lXCIpOkNuKFwiaHR0cHNcIix0aGlzLmwsbnVsbCxcIi9fXy9hdXRoL2lmcmFtZVwiKSx0aGlzLmE9dCxObih0aGlzLmEsXCJhcGlLZXlcIix0aGlzLmgpLE5uKHRoaXMuYSxcImFwcE5hbWVcIix0aGlzLmkpLHRoaXMuYj1udWxsLHRoaXMuYz1bXX1mdW5jdGlvbiBudSh0LGUsbixpLHIsbyl7dGhpcy51PXQsdGhpcy5zPWUsdGhpcy5jPW4sdGhpcy5tPWksdGhpcy52PW8sdGhpcy5pPXRoaXMuZz10aGlzLmw9bnVsbCx0aGlzLmE9cix0aGlzLmg9dGhpcy5mPW51bGx9ZnVuY3Rpb24gaXUodCl7dHJ5e3JldHVybiB6bC5kZWZhdWx0LmFwcCh0KS5hdXRoKCkuR2EoKX1jYXRjaCh0KXtyZXR1cm5bXX19ZnVuY3Rpb24gcnUodCxlLG4saSxyLG8pe3RoaXMucz10LHRoaXMuZz1lLHRoaXMuYj1uLHRoaXMuZj1vLHRoaXMuYz1pfHxudWxsLHRoaXMuaT1yfHxudWxsLHRoaXMubD10aGlzLnU9dGhpcy5DPW51bGwsdGhpcy5oPVtdLHRoaXMubT10aGlzLmE9bnVsbH1mdW5jdGlvbiBvdSh0KXt2YXIgcz1RbigpO3JldHVybiBYcyh0LE9zLHt9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LmF1dGhvcml6ZWREb21haW5zfHxbXX0pLnRoZW4oZnVuY3Rpb24odCl7dDp7Zm9yKHZhciBlPShuPU9uKHMpKS5jLG49bi5hLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIHI9dFtpXSxvPW4sYT1lO2lmKG89MD09ci5pbmRleE9mKFwiY2hyb21lLWV4dGVuc2lvbjovL1wiKT9PbihyKS5hPT1vJiZcImNocm9tZS1leHRlbnNpb25cIj09YTooXCJodHRwXCI9PWF8fFwiaHR0cHNcIj09YSkmJihyaS50ZXN0KHIpP289PXI6KHI9ci5zcGxpdChcIi5cIikuam9pbihcIlxcXFwuXCIpLG5ldyBSZWdFeHAoXCJeKC4rXFxcXC5cIityK1wifFwiK3IrXCIpJFwiLFwiaVwiKS50ZXN0KG8pKSkpe3Q9ITA7YnJlYWsgdH19dD0hMX1pZighdCl0aHJvdyBuZXcgeG8oUW4oKSl9KX1mdW5jdGlvbiBhdShyKXtyZXR1cm4gci5tfHwoci5tPWFpKCkudGhlbihmdW5jdGlvbigpe3ZhciB0LGUsbixpO3IudXx8KHQ9ci5jLGU9ci5pLG49aXUoci5iKSwoaT1uZXcgZXUoci5zLHIuZyxyLmIsci5mKSkuZj10LGkuYj1lLGkuYz1YKG58fFtdKSxyLnU9aS50b1N0cmluZygpKSxyLnY9bmV3IHpzKHIudSksZnVuY3Rpb24oaSl7aWYoIWkudil0aHJvdyBFcnJvcihcIklmY0hhbmRsZXIgbXVzdCBiZSBpbml0aWFsaXplZCFcIik7IWZ1bmN0aW9uKHQsZSl7dC5yYi50aGVuKGZ1bmN0aW9uKCl7dC5hLnJlZ2lzdGVyKFwiYXV0aEV2ZW50XCIsZSxiaShcImdhcGkuaWZyYW1lcy5DUk9TU19PUklHSU5fSUZSQU1FU19GSUxURVJcIikpfSl9KGkudixmdW5jdGlvbih0KXt2YXIgZT17fTtpZih0JiZ0LmF1dGhFdmVudCl7dmFyIG49ITE7Zm9yKHQ9Um8odC5hdXRoRXZlbnQpLGU9MDtlPGkuaC5sZW5ndGg7ZSsrKW49aS5oW2VdKHQpfHxuO3JldHVybihlPXt9KS5zdGF0dXM9bj9cIkFDS1wiOlwiRVJST1JcIix5ZShlKX1yZXR1cm4gZS5zdGF0dXM9XCJFUlJPUlwiLHllKGUpfSl9KHIpfSksci5tKX1mdW5jdGlvbiBzdSh0KXtyZXR1cm4gdC5sfHwodC5DPXQuYz9taSh0LmMsaXUodC5iKSk6bnVsbCx0Lmw9bmV3IEZhKHQuZyxfKHQuaSksdC5DKSx0LmYmJkphKHQubCx0LmYpKSx0Lmx9ZnVuY3Rpb24gdXUodCxlLG4saSxyLG8sYSxzLHUsYyxoLGwpe3JldHVybih0PW5ldyBudSh0LGUsbixpLHIsbCkpLmw9byx0Lmc9YSx0Lmk9cyx0LmI9Y3QodXx8bnVsbCksdC5mPWMsdC55YihoKS50b1N0cmluZygpfWZ1bmN0aW9uIGN1KHQpe2lmKHRoaXMuYT10fHx6bC5kZWZhdWx0LklOVEVSTkFMLnJlYWN0TmF0aXZlJiZ6bC5kZWZhdWx0LklOVEVSTkFMLnJlYWN0TmF0aXZlLkFzeW5jU3RvcmFnZSwhdGhpcy5hKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIixcIlRoZSBSZWFjdCBOYXRpdmUgY29tcGF0aWJpbGl0eSBsaWJyYXJ5IHdhcyBub3QgZm91bmQuXCIpO3RoaXMudHlwZT1cImFzeW5jU3RvcmFnZVwifWZ1bmN0aW9uIGh1KHQpe3RoaXMuYj10LHRoaXMuYT17fSx0aGlzLmY9Yih0aGlzLmMsdGhpcyl9ZXUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj9Obih0aGlzLmEsXCJ2XCIsdGhpcy5mKTpIbih0aGlzLmEuYixcInZcIiksdGhpcy5iP05uKHRoaXMuYSxcImVpZFwiLHRoaXMuYik6SG4odGhpcy5hLmIsXCJlaWRcIiksdGhpcy5jLmxlbmd0aD9Obih0aGlzLmEsXCJmd1wiLHRoaXMuYy5qb2luKFwiLFwiKSk6SG4odGhpcy5hLmIsXCJmd1wiKSx0aGlzLmEudG9TdHJpbmcoKX0sbnUucHJvdG90eXBlLnliPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmg9dCx0aGlzfSxudS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdDtpZihObih0PXRoaXMudj9DbigodD1Pbih0aGlzLnYudXJsKSkuYyx0LmEsdC5nLFwiL2VtdWxhdG9yL2F1dGgvaGFuZGxlclwiKTpDbihcImh0dHBzXCIsdGhpcy51LG51bGwsXCIvX18vYXV0aC9oYW5kbGVyXCIpLFwiYXBpS2V5XCIsdGhpcy5zKSxObih0LFwiYXBwTmFtZVwiLHRoaXMuYyksTm4odCxcImF1dGhUeXBlXCIsdGhpcy5tKSx0aGlzLmEuaXNPQXV0aFByb3ZpZGVyKXt2YXIgZT10aGlzLmE7dHJ5e3ZhciBuPXpsLmRlZmF1bHQuYXBwKHRoaXMuYykuYXV0aCgpLmxhKCl9Y2F0Y2godCl7bj1udWxsfWZvcihpIGluIGUub2I9bixObih0LFwicHJvdmlkZXJJZFwiLHRoaXMuYS5wcm92aWRlcklkKSxlPWtpKChuPXRoaXMuYSkuSWIpKWVbaV09ZVtpXS50b1N0cmluZygpO2Zvcih2YXIgaT1uLlFjLGU9Y3QoZSkscj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO28gaW4gZSYmZGVsZXRlIGVbb119bi5wYiYmbi5vYiYmIWVbbi5wYl0mJihlW24ucGJdPW4ub2IpLHV0KGUpfHxObih0LFwiY3VzdG9tUGFyYW1ldGVyc1wiLEFpKGUpKX1pZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmEuUWImJigobj10aGlzLmEuUWIoKSkubGVuZ3RoJiZObih0LFwic2NvcGVzXCIsbi5qb2luKFwiLFwiKSkpLHRoaXMubD9Obih0LFwicmVkaXJlY3RVcmxcIix0aGlzLmwpOkhuKHQuYixcInJlZGlyZWN0VXJsXCIpLHRoaXMuZz9Obih0LFwiZXZlbnRJZFwiLHRoaXMuZyk6SG4odC5iLFwiZXZlbnRJZFwiKSx0aGlzLmk/Tm4odCxcInZcIix0aGlzLmkpOkhuKHQuYixcInZcIiksdGhpcy5iKWZvcih2YXIgYSBpbiB0aGlzLmIpdGhpcy5iLmhhc093blByb3BlcnR5KGEpJiYhX24odCxhKSYmTm4odCxhLHRoaXMuYlthXSk7cmV0dXJuIHRoaXMuaD9Obih0LFwidGlkXCIsdGhpcy5oKTpIbih0LmIsXCJ0aWRcIiksdGhpcy5mP05uKHQsXCJlaWRcIix0aGlzLmYpOkhuKHQuYixcImVpZFwiKSwoYT1pdSh0aGlzLmMpKS5sZW5ndGgmJk5uKHQsXCJmd1wiLGEuam9pbihcIixcIikpLHQudG9TdHJpbmcoKX0sKHQ9cnUucHJvdG90eXBlKS5PYj1mdW5jdGlvbihlLG4sdCl7dmFyIGk9bmV3IFQoXCJwb3B1cC1jbG9zZWQtYnktdXNlclwiKSxyPW5ldyBUKFwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWRcIiksbz10aGlzLGE9ITE7cmV0dXJuIHRoaXMubWEoKS50aGVuKGZ1bmN0aW9uKCl7dmFyIHQsaTtpPXt0eXBlOlwid2ViU3RvcmFnZVN1cHBvcnRcIn0sYXUodD1vKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGU9dC52LG49aSxlLnJiLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGZlKGZ1bmN0aW9uKHQpe2UuYS5zZW5kKG4udHlwZSxuLHQsYmkoXCJnYXBpLmlmcmFtZXMuQ1JPU1NfT1JJR0lOX0lGUkFNRVNfRklMVEVSXCIpKX0pfSk7dmFyIGUsbn0pLnRoZW4oZnVuY3Rpb24odCl7aWYodCYmdC5sZW5ndGgmJnZvaWQgMCE9PXRbMF0ud2ViU3RvcmFnZVN1cHBvcnQpcmV0dXJuIHRbMF0ud2ViU3RvcmFnZVN1cHBvcnQ7dGhyb3cgRXJyb3IoKX0pLnRoZW4oZnVuY3Rpb24odCl7dHx8KGUmJm5pKGUpLG4ociksYT0hMCl9KX0pLm8oZnVuY3Rpb24oKXt9KS50aGVuKGZ1bmN0aW9uKCl7aWYoIWEpcmV0dXJuIG49ZSxuZXcgZmUoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uIHQoKXttbigyZTMpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbiYmIW4uY2xvc2VkP3QoKTp2b2lkIGUoKX0pfSgpfSk7dmFyIG59KS50aGVuKGZ1bmN0aW9uKCl7aWYoIWEpcmV0dXJuIG1uKHQpLnRoZW4oZnVuY3Rpb24oKXtuKGkpfSl9KX0sdC5YYj1mdW5jdGlvbigpe3ZhciB0PWdpKCk7cmV0dXJuIUVpKHQpJiYhX2kodCl9LHQuVGI9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdC5NYj1mdW5jdGlvbihlLHQsbixpLHIsbyxhLHMpe2lmKCFlKXJldHVybiB3ZShuZXcgVChcInBvcHVwLWJsb2NrZWRcIikpO2lmKGEmJiFFaSgpKXJldHVybiB0aGlzLm1hKCkubyhmdW5jdGlvbih0KXtuaShlKSxyKHQpfSksaSgpLHllKCk7dGhpcy5hfHwodGhpcy5hPW91KHN1KHRoaXMpKSk7dmFyIHU9dGhpcztyZXR1cm4gdGhpcy5hLnRoZW4oZnVuY3Rpb24oKXt2YXIgdD11Lm1hKCkubyhmdW5jdGlvbih0KXt0aHJvdyBuaShlKSxyKHQpLHR9KTtyZXR1cm4gaSgpLHR9KS50aGVuKGZ1bmN0aW9uKCl7T28obiksYXx8dGkodXUodS5zLHUuZyx1LmIsdCxuLG51bGwsbyx1LmMsdm9pZCAwLHUuaSxzLHUuZiksZSl9KS5vKGZ1bmN0aW9uKHQpe3Rocm93XCJhdXRoL25ldHdvcmstcmVxdWVzdC1mYWlsZWRcIj09dC5jb2RlJiYodS5hPW51bGwpLHR9KX0sdC5OYj1mdW5jdGlvbih0LGUsbixpKXt0aGlzLmF8fCh0aGlzLmE9b3Uoc3UodGhpcykpKTt2YXIgcj10aGlzO3JldHVybiB0aGlzLmEudGhlbihmdW5jdGlvbigpe09vKGUpLHRpKHV1KHIucyxyLmcsci5iLHQsZSxRbigpLG4sci5jLHZvaWQgMCxyLmksaSxyLmYpKX0pLm8oZnVuY3Rpb24odCl7dGhyb3dcImF1dGgvbmV0d29yay1yZXF1ZXN0LWZhaWxlZFwiPT10LmNvZGUmJihyLmE9bnVsbCksdH0pfSx0Lm1hPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gYXUodGhpcykudGhlbihmdW5jdGlvbigpe3JldHVybiB0LnYucmJ9KS5vKGZ1bmN0aW9uKCl7dGhyb3cgdC5hPW51bGwsbmV3IFQoXCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIpfSl9LHQuJGI9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5FYT1mdW5jdGlvbih0KXt0aGlzLmgucHVzaCh0KX0sdC5TYT1mdW5jdGlvbihlKXtCKHRoaXMuaCxmdW5jdGlvbih0KXtyZXR1cm4gdD09ZX0pfSwodD1jdS5wcm90b3R5cGUpLmdldD1mdW5jdGlvbih0KXtyZXR1cm4geWUodGhpcy5hLmdldEl0ZW0odCkpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQmJlNpKHQpfSl9LHQuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHllKHRoaXMuYS5zZXRJdGVtKHQsQWkoZSkpKX0sdC5VPWZ1bmN0aW9uKHQpe3JldHVybiB5ZSh0aGlzLmEucmVtb3ZlSXRlbSh0KSl9LHQuY2E9ZnVuY3Rpb24oKXt9LHQuaWE9ZnVuY3Rpb24oKXt9O3ZhciBsdSxmdT1bXTtmdW5jdGlvbiBkdSh0LGUsbil7dXQodC5hKSYmdC5iLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdC5mKSx2b2lkIDA9PT10LmFbZV0mJih0LmFbZV09W10pLHQuYVtlXS5wdXNoKG4pfWZ1bmN0aW9uIHB1KHQpe3RoaXMuYT10fWZ1bmN0aW9uIHZ1KHQpe3RoaXMuYz10LHRoaXMuYj0hMSx0aGlzLmE9W119ZnVuY3Rpb24gbXUoaSx0LGUsbil7dmFyIHIsbyxhLHMsdT1lfHx7fSxjPW51bGw7aWYoaS5iKXJldHVybiB3ZShFcnJvcihcImNvbm5lY3Rpb25fdW5hdmFpbGFibGVcIikpO3ZhciBoPW4/ODAwOjUwLGw9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1lc3NhZ2VDaGFubmVsP25ldyBNZXNzYWdlQ2hhbm5lbDpudWxsO3JldHVybiBuZXcgZmUoZnVuY3Rpb24oZSxuKXtsPyhyPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpNYXRoLnBvdygxMCwyMCkpLnRvU3RyaW5nKCksbC5wb3J0MS5zdGFydCgpLGE9c2V0VGltZW91dChmdW5jdGlvbigpe24oRXJyb3IoXCJ1bnN1cHBvcnRlZF9ldmVudFwiKSl9LGgpLGM9e21lc3NhZ2VDaGFubmVsOmwsb25NZXNzYWdlOm89ZnVuY3Rpb24odCl7dC5kYXRhLmV2ZW50SWQ9PT1yJiYoXCJhY2tcIj09PXQuZGF0YS5zdGF0dXM/KGNsZWFyVGltZW91dChhKSxzPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtuKEVycm9yKFwidGltZW91dFwiKSl9LDNlMykpOlwiZG9uZVwiPT09dC5kYXRhLnN0YXR1cz8oY2xlYXJUaW1lb3V0KHMpLHZvaWQgMCE9PXQuZGF0YS5yZXNwb25zZT9lKHQuZGF0YS5yZXNwb25zZSk6bihFcnJvcihcInVua25vd25fZXJyb3JcIikpKTooY2xlYXJUaW1lb3V0KGEpLGNsZWFyVGltZW91dChzKSxuKEVycm9yKFwiaW52YWxpZF9yZXNwb25zZVwiKSkpKX19LGkuYS5wdXNoKGMpLGwucG9ydDEuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixvKSxpLmMucG9zdE1lc3NhZ2Uoe2V2ZW50VHlwZTp0LGV2ZW50SWQ6cixkYXRhOnV9LFtsLnBvcnQyXSkpOm4oRXJyb3IoXCJjb25uZWN0aW9uX3VuYXZhaWxhYmxlXCIpKX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGd1KGksYyksdH0pLm8oZnVuY3Rpb24odCl7dGhyb3cgZ3UoaSxjKSx0fSl9ZnVuY3Rpb24gZ3UodCxlKXt2YXIgbixpO2UmJihuPWUubWVzc2FnZUNoYW5uZWwsaT1lLm9uTWVzc2FnZSxuJiYobi5wb3J0MS5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGkpLG4ucG9ydDEuY2xvc2UoKSksQih0LmEsZnVuY3Rpb24odCl7cmV0dXJuIHQ9PWV9KSl9ZnVuY3Rpb24gYnUoKXtpZighVHUoKSl0aHJvdyBuZXcgVChcIndlYi1zdG9yYWdlLXVuc3VwcG9ydGVkXCIpO3RoaXMuYz17fSx0aGlzLmE9W10sdGhpcy5iPTAsdGhpcy5tPWwuaW5kZXhlZERCLHRoaXMudHlwZT1cImluZGV4ZWREQlwiLHRoaXMuZz10aGlzLnY9dGhpcy5mPXRoaXMubD1udWxsLHRoaXMucz0hMSx0aGlzLmg9bnVsbDt2YXIgdCxlLG4saT10aGlzO2NpKCkmJnNlbGY/KHRoaXMudj0obj1jaSgpP3NlbGY6bnVsbCxWKGZ1LGZ1bmN0aW9uKHQpe3QuYj09biYmKGU9dCl9KSxlfHwoZT1uZXcgaHUobiksZnUucHVzaChlKSksZSksZHUodGhpcy52LFwia2V5Q2hhbmdlZFwiLGZ1bmN0aW9uKHQsbil7cmV0dXJuIE51KGkpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZS5sZW5ndGgmJlYoaS5hLGZ1bmN0aW9uKHQpe3QoZSl9KSx7a2V5UHJvY2Vzc2VkOksoZSxuLmtleSl9fSl9KSxkdSh0aGlzLnYsXCJwaW5nXCIsZnVuY3Rpb24oKXtyZXR1cm4geWUoW1wia2V5Q2hhbmdlZFwiXSl9KSk6KCh0PWwubmF2aWdhdG9yKSYmdC5zZXJ2aWNlV29ya2VyP3llKCkudGhlbihmdW5jdGlvbigpe3JldHVybiB0LnNlcnZpY2VXb3JrZXIucmVhZHl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFjdGl2ZXx8bnVsbH0pLm8oZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0pOnllKG51bGwpKS50aGVuKGZ1bmN0aW9uKHQpeyhpLmg9dCkmJihpLmc9bmV3IHZ1KG5ldyBwdSh0KSksbXUoaS5nLFwicGluZ1wiLG51bGwsITApLnRoZW4oZnVuY3Rpb24odCl7dFswXS5mdWxmaWxsZWQmJksodFswXS52YWx1ZSxcImtleUNoYW5nZWRcIikmJihpLnM9ITApfSkubyhmdW5jdGlvbigpe30pKX0pfWZ1bmN0aW9uIHl1KHIpe3JldHVybiBuZXcgZmUoZnVuY3Rpb24oZSxuKXt2YXIgdD1yLm0ub3BlbihcImZpcmViYXNlTG9jYWxTdG9yYWdlRGJcIiwxKTt0Lm9uZXJyb3I9ZnVuY3Rpb24odCl7dHJ5e3QucHJldmVudERlZmF1bHQoKX1jYXRjaCh0KXt9bihFcnJvcih0LnRhcmdldC5lcnJvcikpfSx0Lm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbih0KXt0PXQudGFyZ2V0LnJlc3VsdDt0cnl7dC5jcmVhdGVPYmplY3RTdG9yZShcImZpcmViYXNlTG9jYWxTdG9yYWdlXCIse2tleVBhdGg6XCJmYmFzZV9rZXlcIn0pfWNhdGNoKHQpe24odCl9fSx0Lm9uc3VjY2Vzcz1mdW5jdGlvbih0KXt2YXIgaTsodD10LnRhcmdldC5yZXN1bHQpLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoXCJmaXJlYmFzZUxvY2FsU3RvcmFnZVwiKT9lKHQpOihpPXIsbmV3IGZlKGZ1bmN0aW9uKHQsZSl7dmFyIG49aS5tLmRlbGV0ZURhdGFiYXNlKFwiZmlyZWJhc2VMb2NhbFN0b3JhZ2VEYlwiKTtuLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3QoKX0sbi5vbmVycm9yPWZ1bmN0aW9uKHQpe2UoRXJyb3IodC50YXJnZXQuZXJyb3IpKX19KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHl1KHIpfSkudGhlbihmdW5jdGlvbih0KXtlKHQpfSkubyhmdW5jdGlvbih0KXtuKHQpfSkpfX0pfWZ1bmN0aW9uIHd1KHQpe3JldHVybiB0Lml8fCh0Lmk9eXUodCkpLHQuaX1mdW5jdGlvbiBJdShyLHQpe3ZhciBvPTA7cmV0dXJuIG5ldyBmZShmdW5jdGlvbiBlKG4saSl7d3UocikudGhlbih0KS50aGVuKG4pLm8oZnVuY3Rpb24odCl7cmV0dXJuIDM8KytvP3ZvaWQgaSh0KTp3dShyKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNsb3NlKCksci5pPXZvaWQgMCxlKG4saSl9KS5vKGZ1bmN0aW9uKHQpe2kodCl9KX0pfSl9ZnVuY3Rpb24gVHUoKXt0cnl7cmV0dXJuIGwuaW5kZXhlZERCfWNhdGNoKHQpe3JldHVybn19ZnVuY3Rpb24gRXUodCl7cmV0dXJuIHQub2JqZWN0U3RvcmUoXCJmaXJlYmFzZUxvY2FsU3RvcmFnZVwiKX1mdW5jdGlvbiBBdSh0LGUpe3JldHVybiB0LnRyYW5zYWN0aW9uKFtcImZpcmViYXNlTG9jYWxTdG9yYWdlXCJdLGU/XCJyZWFkd3JpdGVcIjpcInJlYWRvbmx5XCIpfWZ1bmN0aW9uIGt1KHQpe3JldHVybiBuZXcgZmUoZnVuY3Rpb24oZSxuKXt0Lm9uc3VjY2Vzcz1mdW5jdGlvbih0KXt0JiZ0LnRhcmdldD9lKHQudGFyZ2V0LnJlc3VsdCk6ZSgpfSx0Lm9uZXJyb3I9ZnVuY3Rpb24odCl7bih0LnRhcmdldC5lcnJvcil9fSl9ZnVuY3Rpb24gU3UodCxlKXtyZXR1cm4gdC5nJiZ0LmgmJigobj1sLm5hdmlnYXRvcikmJm4uc2VydmljZVdvcmtlciYmbi5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXJ8fG51bGwpPT09dC5oP211KHQuZyxcImtleUNoYW5nZWRcIix7a2V5OmV9LHQucykudGhlbihmdW5jdGlvbigpe30pLm8oZnVuY3Rpb24oKXt9KTp5ZSgpO3ZhciBufWZ1bmN0aW9uIE51KGkpe3JldHVybiB3dShpKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciByPUV1KEF1KHQsITEpKTtyZXR1cm4gci5nZXRBbGw/a3Uoci5nZXRBbGwoKSk6bmV3IGZlKGZ1bmN0aW9uKGUsbil7dmFyIGk9W10sdD1yLm9wZW5DdXJzb3IoKTt0Lm9uc3VjY2Vzcz1mdW5jdGlvbih0KXsodD10LnRhcmdldC5yZXN1bHQpPyhpLnB1c2godC52YWx1ZSksdC5jb250aW51ZSgpKTplKGkpfSx0Lm9uZXJyb3I9ZnVuY3Rpb24odCl7bih0LnRhcmdldC5lcnJvcil9fSl9KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49W107aWYoMD09aS5iKXtmb3Iobj0wO248dC5sZW5ndGg7bisrKWVbdFtuXS5mYmFzZV9rZXldPXRbbl0udmFsdWU7bj1mdW5jdGlvbiB0KGUsbil7dmFyIGkscj1bXTtmb3IoaSBpbiBlKWkgaW4gbiYmdHlwZW9mIGVbaV09PXR5cGVvZiBuW2ldP1wib2JqZWN0XCI9PXR5cGVvZiBlW2ldJiZudWxsIT1lW2ldJiZudWxsIT1uW2ldPzA8dChlW2ldLG5baV0pLmxlbmd0aCYmci5wdXNoKGkpOmVbaV0hPT1uW2ldJiZyLnB1c2goaSk6ci5wdXNoKGkpO2ZvcihpIGluIG4paSBpbiBlfHxyLnB1c2goaSk7cmV0dXJuIHJ9KGkuYyxlKSxpLmM9ZX1yZXR1cm4gbn0pfWZ1bmN0aW9uIF91KHQpe3QubCYmdC5sLmNhbmNlbChcIlNUT1BfRVZFTlRcIiksdC5mJiYoY2xlYXJUaW1lb3V0KHQuZiksdC5mPW51bGwpfWZ1bmN0aW9uIE91KHQpe3ZhciBpPXRoaXMscj1udWxsO3RoaXMuYT1bXSx0aGlzLnR5cGU9XCJpbmRleGVkREJcIix0aGlzLmM9dCx0aGlzLmI9eWUoKS50aGVuKGZ1bmN0aW9uKCl7aWYoVHUoKSl7dmFyIGU9TmkoKSxuPVwiX19zYWtcIitlO3JldHVybiBsdT1sdXx8bmV3IGJ1LChyPWx1KS5zZXQobixlKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHIuZ2V0KG4pfSkudGhlbihmdW5jdGlvbih0KXtpZih0IT09ZSl0aHJvdyBFcnJvcihcImluZGV4ZWREQiBub3Qgc3VwcG9ydGVkIVwiKTtyZXR1cm4gci5VKG4pfSkudGhlbihmdW5jdGlvbigpe3JldHVybiByfSkubyhmdW5jdGlvbigpe3JldHVybiBpLmN9KX1yZXR1cm4gaS5jfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaS50eXBlPXQudHlwZSx0LmNhKGZ1bmN0aW9uKGUpe1YoaS5hLGZ1bmN0aW9uKHQpe3QoZSl9KX0pLHR9KX1mdW5jdGlvbiBDdSgpe3RoaXMuYT17fSx0aGlzLnR5cGU9XCJpbk1lbW9yeVwifWZ1bmN0aW9uIFJ1KCl7aWYoIWZ1bmN0aW9uKCl7dmFyIHQ9XCJOb2RlXCI9PWhpKCk7aWYoISh0PUR1KCl8fHQmJnpsLmRlZmF1bHQuSU5URVJOQUwubm9kZSYmemwuZGVmYXVsdC5JTlRFUk5BTC5ub2RlLmxvY2FsU3RvcmFnZSkpcmV0dXJuITE7dHJ5e3JldHVybiB0LnNldEl0ZW0oXCJfX3Nha1wiLFwiMVwiKSx0LnJlbW92ZUl0ZW0oXCJfX3Nha1wiKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCkpe2lmKFwiTm9kZVwiPT1oaSgpKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIixcIlRoZSBMb2NhbFN0b3JhZ2UgY29tcGF0aWJpbGl0eSBsaWJyYXJ5IHdhcyBub3QgZm91bmQuXCIpO3Rocm93IG5ldyBUKFwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWRcIil9dGhpcy5hPUR1KCl8fHpsLmRlZmF1bHQuSU5URVJOQUwubm9kZS5sb2NhbFN0b3JhZ2UsdGhpcy50eXBlPVwibG9jYWxTdG9yYWdlXCJ9ZnVuY3Rpb24gRHUoKXt0cnl7dmFyIHQ9bC5sb2NhbFN0b3JhZ2UsZT1OaSgpO3JldHVybiB0JiYodC5zZXRJdGVtKGUsXCIxXCIpLHQucmVtb3ZlSXRlbShlKSksdH1jYXRjaCh0KXtyZXR1cm4gbnVsbH19ZnVuY3Rpb24gUHUoKXt0aGlzLnR5cGU9XCJudWxsU3RvcmFnZVwifWZ1bmN0aW9uIEx1KCl7aWYoIWZ1bmN0aW9uKCl7dmFyIHQ9XCJOb2RlXCI9PWhpKCk7aWYoISh0PXh1KCl8fHQmJnpsLmRlZmF1bHQuSU5URVJOQUwubm9kZSYmemwuZGVmYXVsdC5JTlRFUk5BTC5ub2RlLnNlc3Npb25TdG9yYWdlKSlyZXR1cm4hMTt0cnl7cmV0dXJuIHQuc2V0SXRlbShcIl9fc2FrXCIsXCIxXCIpLHQucmVtb3ZlSXRlbShcIl9fc2FrXCIpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSl7aWYoXCJOb2RlXCI9PWhpKCkpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiLFwiVGhlIFNlc3Npb25TdG9yYWdlIGNvbXBhdGliaWxpdHkgbGlicmFyeSB3YXMgbm90IGZvdW5kLlwiKTt0aHJvdyBuZXcgVChcIndlYi1zdG9yYWdlLXVuc3VwcG9ydGVkXCIpfXRoaXMuYT14dSgpfHx6bC5kZWZhdWx0LklOVEVSTkFMLm5vZGUuc2Vzc2lvblN0b3JhZ2UsdGhpcy50eXBlPVwic2Vzc2lvblN0b3JhZ2VcIn1mdW5jdGlvbiB4dSgpe3RyeXt2YXIgdD1sLnNlc3Npb25TdG9yYWdlLGU9TmkoKTtyZXR1cm4gdCYmKHQuc2V0SXRlbShlLFwiMVwiKSx0LnJlbW92ZUl0ZW0oZSkpLHR9Y2F0Y2godCl7cmV0dXJuIG51bGx9fWZ1bmN0aW9uIE11KCl7dmFyIHQ9e307dC5Ccm93c2VyPVZ1LHQuTm9kZT1GdSx0LlJlYWN0TmF0aXZlPXF1LHQuV29ya2VyPUh1LHRoaXMuYT10W2hpKCldfWh1LnByb3RvdHlwZS5jPWZ1bmN0aW9uKG4pe3ZhciBlLGk9bi5kYXRhLmV2ZW50VHlwZSxyPW4uZGF0YS5ldmVudElkLHQ9dGhpcy5hW2ldO3QmJjA8dC5sZW5ndGgmJihuLnBvcnRzWzBdLnBvc3RNZXNzYWdlKHtzdGF0dXM6XCJhY2tcIixldmVudElkOnIsZXZlbnRUeXBlOmkscmVzcG9uc2U6bnVsbH0pLGU9W10sVih0LGZ1bmN0aW9uKHQpe2UucHVzaCh5ZSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdChuLm9yaWdpbixuLmRhdGEuZGF0YSl9KSl9KSxUZShlKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBlPVtdO1YodCxmdW5jdGlvbih0KXtlLnB1c2goe2Z1bGZpbGxlZDp0LlBiLHZhbHVlOnQudmFsdWUscmVhc29uOnQucmVhc29uP3QucmVhc29uLm1lc3NhZ2U6dm9pZCAwfSl9KSxWKGUsZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpdm9pZCAwPT09dFtlXSYmZGVsZXRlIHRbZV19KSxuLnBvcnRzWzBdLnBvc3RNZXNzYWdlKHtzdGF0dXM6XCJkb25lXCIsZXZlbnRJZDpyLGV2ZW50VHlwZTppLHJlc3BvbnNlOmV9KX0pKX0scHUucHJvdG90eXBlLnBvc3RNZXNzYWdlPWZ1bmN0aW9uKHQsZSl7dGhpcy5hLnBvc3RNZXNzYWdlKHQsZSl9LHZ1LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe2Zvcig7MDx0aGlzLmEubGVuZ3RoOylndSh0aGlzLHRoaXMuYVswXSk7dGhpcy5iPSEwfSwodD1idS5wcm90b3R5cGUpLnNldD1mdW5jdGlvbihpLHIpe3ZhciBvPXRoaXMsYT0hMTtyZXR1cm4gSXUodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4ga3UoKHQ9RXUoQXUodCwhMCkpKS5nZXQoaSkpfSkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gSXUobyxmdW5jdGlvbih0KXtpZih0PUV1KEF1KHQsITApKSxuKXJldHVybiBuLnZhbHVlPXIsa3UodC5wdXQobikpO28uYisrLGE9ITA7dmFyIGU9e307cmV0dXJuIGUuZmJhc2Vfa2V5PWksZS52YWx1ZT1yLGt1KHQuYWRkKGUpKX0pfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBvLmNbaV09cixTdShvLGkpfSkub2EoZnVuY3Rpb24oKXthJiZvLmItLX0pfSx0LmdldD1mdW5jdGlvbihlKXtyZXR1cm4gSXUodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4ga3UoRXUoQXUodCwhMSkpLmdldChlKSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LnZhbHVlfSl9LHQuVT1mdW5jdGlvbihlKXt2YXIgbj10aGlzLGk9ITE7cmV0dXJuIEl1KHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIGk9ITAsbi5iKyssa3UoRXUoQXUodCwhMCkpLmRlbGV0ZShlKSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGRlbGV0ZSBuLmNbZV0sU3UobixlKX0pLm9hKGZ1bmN0aW9uKCl7aSYmbi5iLS19KX0sdC5jYT1mdW5jdGlvbih0KXt2YXIgbjswPT10aGlzLmEubGVuZ3RoJiYoX3Uobj10aGlzKSxmdW5jdGlvbiBlKCl7bi5mPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmw9TnUobikudGhlbihmdW5jdGlvbihlKXswPGUubGVuZ3RoJiZWKG4uYSxmdW5jdGlvbih0KXt0KGUpfSl9KS50aGVuKGZ1bmN0aW9uKCl7ZSgpfSkubyhmdW5jdGlvbih0KXtcIlNUT1BfRVZFTlRcIiE9dC5tZXNzYWdlJiZlKCl9KX0sODAwKX0oKSksdGhpcy5hLnB1c2godCl9LHQuaWE9ZnVuY3Rpb24oZSl7Qih0aGlzLmEsZnVuY3Rpb24odCl7cmV0dXJuIHQ9PWV9KSwwPT10aGlzLmEubGVuZ3RoJiZfdSh0aGlzKX0sKHQ9T3UucHJvdG90eXBlKS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYi50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldChlKX0pfSx0LnNldD1mdW5jdGlvbihlLG4pe3JldHVybiB0aGlzLmIudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5zZXQoZSxuKX0pfSx0LlU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYi50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LlUoZSl9KX0sdC5jYT1mdW5jdGlvbih0KXt0aGlzLmEucHVzaCh0KX0sdC5pYT1mdW5jdGlvbihlKXtCKHRoaXMuYSxmdW5jdGlvbih0KXtyZXR1cm4gdD09ZX0pfSwodD1DdS5wcm90b3R5cGUpLmdldD1mdW5jdGlvbih0KXtyZXR1cm4geWUodGhpcy5hW3RdKX0sdC5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hW3RdPWUseWUoKX0sdC5VPWZ1bmN0aW9uKHQpe3JldHVybiBkZWxldGUgdGhpcy5hW3RdLHllKCl9LHQuY2E9ZnVuY3Rpb24oKXt9LHQuaWE9ZnVuY3Rpb24oKXt9LCh0PVJ1LnByb3RvdHlwZSkuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHllKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBTaShlLmEuZ2V0SXRlbSh0KSl9KX0sdC5zZXQ9ZnVuY3Rpb24oZSxuKXt2YXIgaT10aGlzO3JldHVybiB5ZSgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgdD1BaShuKTtudWxsPT09dD9pLlUoZSk6aS5hLnNldEl0ZW0oZSx0KX0pfSx0LlU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4geWUoKS50aGVuKGZ1bmN0aW9uKCl7ZS5hLnJlbW92ZUl0ZW0odCl9KX0sdC5jYT1mdW5jdGlvbih0KXtsLndpbmRvdyYmWmUobC53aW5kb3csXCJzdG9yYWdlXCIsdCl9LHQuaWE9ZnVuY3Rpb24odCl7bC53aW5kb3cmJmVuKGwud2luZG93LFwic3RvcmFnZVwiLHQpfSwodD1QdS5wcm90b3R5cGUpLmdldD1mdW5jdGlvbigpe3JldHVybiB5ZShudWxsKX0sdC5zZXQ9ZnVuY3Rpb24oKXtyZXR1cm4geWUoKX0sdC5VPWZ1bmN0aW9uKCl7cmV0dXJuIHllKCl9LHQuY2E9ZnVuY3Rpb24oKXt9LHQuaWE9ZnVuY3Rpb24oKXt9LCh0PUx1LnByb3RvdHlwZSkuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHllKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBTaShlLmEuZ2V0SXRlbSh0KSl9KX0sdC5zZXQ9ZnVuY3Rpb24oZSxuKXt2YXIgaT10aGlzO3JldHVybiB5ZSgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgdD1BaShuKTtudWxsPT09dD9pLlUoZSk6aS5hLnNldEl0ZW0oZSx0KX0pfSx0LlU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4geWUoKS50aGVuKGZ1bmN0aW9uKCl7ZS5hLnJlbW92ZUl0ZW0odCl9KX0sdC5jYT1mdW5jdGlvbigpe30sdC5pYT1mdW5jdGlvbigpe307dmFyIGp1LFV1LFZ1PXtGOlJ1LGJiOkx1fSxGdT17RjpSdSxiYjpMdX0scXU9e0Y6Y3UsYmI6UHV9LEh1PXtGOlJ1LGJiOlB1fSxLdT17cmQ6XCJsb2NhbFwiLE5PTkU6XCJub25lXCIsdGQ6XCJzZXNzaW9uXCJ9O2Z1bmN0aW9uIEd1KCl7dmFyIHQ9IShfaShnaSgpKXx8IXVpKCkpLGU9RWkoKSxuPXlpKCk7dGhpcy5tPXQsdGhpcy5oPWUsdGhpcy5sPW4sdGhpcy5hPXt9LHQ9anU9anV8fG5ldyBNdTt0cnl7dGhpcy5nPSFabigpJiZMaSgpfHwhbC5pbmRleGVkREI/bmV3IHQuYS5GOm5ldyBPdShuZXcoY2koKT9DdTp0LmEuRikpfWNhdGNoKHQpe3RoaXMuZz1uZXcgQ3UsdGhpcy5oPSEwfXRyeXt0aGlzLmk9bmV3IHQuYS5iYn1jYXRjaCh0KXt0aGlzLmk9bmV3IEN1fXRoaXMudj1uZXcgQ3UsdGhpcy5mPWIodGhpcy5ZYix0aGlzKSx0aGlzLmI9e319ZnVuY3Rpb24gQnUoKXtyZXR1cm4gVXU9VXV8fG5ldyBHdX1mdW5jdGlvbiBXdSh0LGUpe3N3aXRjaChlKXtjYXNlXCJzZXNzaW9uXCI6cmV0dXJuIHQuaTtjYXNlXCJub25lXCI6cmV0dXJuIHQudjtkZWZhdWx0OnJldHVybiB0Lmd9fWZ1bmN0aW9uIFh1KHQsZSl7cmV0dXJuXCJmaXJlYmFzZTpcIit0Lm5hbWUrKGU/XCI6XCIrZTpcIlwiKX1mdW5jdGlvbiBKdSh0LGUsbil7cmV0dXJuIG49WHUoZSxuKSxcImxvY2FsXCI9PWUuRiYmKHQuYltuXT1udWxsKSxXdSh0LGUuRikuVShuKX1mdW5jdGlvbiBZdSh0KXt0LmMmJihjbGVhckludGVydmFsKHQuYyksdC5jPW51bGwpfWZ1bmN0aW9uIHp1KHQpe3RoaXMuYT10LHRoaXMuYj1CdSgpfSh0PUd1LnByb3RvdHlwZSkuZ2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFd1KHRoaXMsdC5GKS5nZXQoWHUodCxlKSl9LHQuc2V0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1YdShlLG4pLHI9dGhpcyxvPVd1KHRoaXMsZS5GKTtyZXR1cm4gby5zZXQoaSx0KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG8uZ2V0KGkpfSkudGhlbihmdW5jdGlvbih0KXtcImxvY2FsXCI9PWUuRiYmKHIuYltpXT10KX0pfSx0LmFkZExpc3RlbmVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaTt0PVh1KHQsZSksdGhpcy5sJiYodGhpcy5iW3RdPWwubG9jYWxTdG9yYWdlLmdldEl0ZW0odCkpLHV0KHRoaXMuYSkmJihXdSh0aGlzLFwibG9jYWxcIikuY2EodGhpcy5mKSx0aGlzLmh8fChabigpfHwhTGkoKSkmJmwuaW5kZXhlZERCfHwhdGhpcy5sfHwoWXUoaT10aGlzKSxpLmM9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gaS5hKXt2YXIgZT1sLmxvY2FsU3RvcmFnZS5nZXRJdGVtKHQpLG49aS5iW3RdO2UhPW4mJihpLmJbdF09ZSxlPW5ldyBxZSh7dHlwZTpcInN0b3JhZ2VcIixrZXk6dCx0YXJnZXQ6d2luZG93LG9sZFZhbHVlOm4sbmV3VmFsdWU6ZSxhOiEwfSksaS5ZYihlKSl9fSwxZTMpKSksdGhpcy5hW3RdfHwodGhpcy5hW3RdPVtdKSx0aGlzLmFbdF0ucHVzaChuKX0sdC5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0LGUsbil7dD1YdSh0LGUpLHRoaXMuYVt0XSYmKEIodGhpcy5hW3RdLGZ1bmN0aW9uKHQpe3JldHVybiB0PT1ufSksMD09dGhpcy5hW3RdLmxlbmd0aCYmZGVsZXRlIHRoaXMuYVt0XSksdXQodGhpcy5hKSYmKFd1KHRoaXMsXCJsb2NhbFwiKS5pYSh0aGlzLmYpLFl1KHRoaXMpKX0sdC5ZYj1mdW5jdGlvbih0KXtpZih0JiZ0Lmcpe3ZhciBlPXQuYS5rZXk7aWYobnVsbD09ZSlmb3IodmFyIG4gaW4gdGhpcy5hKXt2YXIgaT10aGlzLmJbbl07dm9pZCAwPT09aSYmKGk9bnVsbCk7dmFyIHI9bC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShuKTtyIT09aSYmKHRoaXMuYltuXT1yLHRoaXMubWIobikpfWVsc2UgaWYoMD09ZS5pbmRleE9mKFwiZmlyZWJhc2U6XCIpJiZ0aGlzLmFbZV0pe2lmKHZvaWQgMCE9PXQuYS5hP1d1KHRoaXMsXCJsb2NhbFwiKS5pYSh0aGlzLmYpOll1KHRoaXMpLHRoaXMubSlpZihuPWwubG9jYWxTdG9yYWdlLmdldEl0ZW0oZSksKGk9dC5hLm5ld1ZhbHVlKSE9PW4pbnVsbCE9PWk/bC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShlLGkpOmwubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSk7ZWxzZSBpZih0aGlzLmJbZV09PT1pJiZ2b2lkIDA9PT10LmEuYSlyZXR1cm47dmFyIG89dGhpcyxuPWZ1bmN0aW9uKCl7dm9pZCAwPT09dC5hLmEmJm8uYltlXT09PWwubG9jYWxTdG9yYWdlLmdldEl0ZW0oZSl8fChvLmJbZV09bC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKSxvLm1iKGUpKX07SHQmJlp0JiYxMD09WnQmJmwubG9jYWxTdG9yYWdlLmdldEl0ZW0oZSkhPT10LmEubmV3VmFsdWUmJnQuYS5uZXdWYWx1ZSE9PXQuYS5vbGRWYWx1ZT9zZXRUaW1lb3V0KG4sMTApOm4oKX19ZWxzZSBWKHQsYih0aGlzLm1iLHRoaXMpKX0sdC5tYj1mdW5jdGlvbih0KXt0aGlzLmFbdF0mJlYodGhpcy5hW3RdLGZ1bmN0aW9uKHQpe3QoKX0pfTt2YXIgJHUsWnU9e25hbWU6XCJhdXRoRXZlbnRcIixGOlwibG9jYWxcIn07ZnVuY3Rpb24gUXUoKXt0aGlzLmE9QnUoKX1mdW5jdGlvbiB0Yyh0LGUpe3RoaXMuYj1lYyx0aGlzLmY9bC5VaW50OEFycmF5P25ldyBVaW50OEFycmF5KHRoaXMuYik6QXJyYXkodGhpcy5iKSx0aGlzLmc9dGhpcy5jPTAsdGhpcy5hPVtdLHRoaXMuaT10LHRoaXMuaD1lLHRoaXMubD1sLkludDMyQXJyYXk/bmV3IEludDMyQXJyYXkoNjQpOkFycmF5KDY0KSx2b2lkIDA9PT0kdSYmKCR1PWwuSW50MzJBcnJheT9uZXcgSW50MzJBcnJheSh1Yyk6dWMpLHRoaXMucmVzZXQoKX13KHRjLGZ1bmN0aW9uKCl7dGhpcy5iPS0xfSk7Zm9yKHZhciBlYz02NCxuYz1lYy0xLGljPVtdLHJjPTA7cmM8bmM7cmMrKylpY1tyY109MDt2YXIgb2M9VygxMjgsaWMpO2Z1bmN0aW9uIGFjKHQpe2Zvcih2YXIgZT10LmYsbj10LmwsaT0wLHI9MDtyPGUubGVuZ3RoOyluW2krK109ZVtyXTw8MjR8ZVtyKzFdPDwxNnxlW3IrMl08PDh8ZVtyKzNdLHI9NCppO2ZvcihlPTE2O2U8NjQ7ZSsrKXt2YXIgcj0wfG5bZS0xNV0saT0wfG5bZS0yXSxvPSgwfG5bZS0xNl0pKygocj4+Pjd8cjw8MjUpXihyPj4+MTh8cjw8MTQpXnI+Pj4zKXwwLGE9KDB8bltlLTddKSsoKGk+Pj4xN3xpPDwxNSleKGk+Pj4xOXxpPDwxMyleaT4+PjEwKXwwO25bZV09bythfDB9aT0wfHQuYVswXSxyPTB8dC5hWzFdO3ZhciBzPTB8dC5hWzJdLHU9MHx0LmFbM10sYz0wfHQuYVs0XSxoPTB8dC5hWzVdLGw9MHx0LmFbNl07Zm9yKG89MHx0LmFbN10sZT0wO2U8NjQ7ZSsrKXt2YXIgZj0oKGk+Pj4yfGk8PDMwKV4oaT4+PjEzfGk8PDE5KV4oaT4+PjIyfGk8PDEwKSkrKGkmcl5pJnNeciZzKXwwO2E9KG89bysoKGM+Pj42fGM8PDI2KV4oYz4+PjExfGM8PDIxKV4oYz4+PjI1fGM8PDcpKXwwKSsoKGE9KGE9YyZoXn5jJmwpKygwfCR1W2VdKXwwKSsoMHxuW2VdKXwwKXwwLG89bCxsPWgsaD1jLGM9dSthfDAsdT1zLHM9cixyPWksaT1hK2Z8MH10LmFbMF09dC5hWzBdK2l8MCx0LmFbMV09dC5hWzFdK3J8MCx0LmFbMl09dC5hWzJdK3N8MCx0LmFbM109dC5hWzNdK3V8MCx0LmFbNF09dC5hWzRdK2N8MCx0LmFbNV09dC5hWzVdK2h8MCx0LmFbNl09dC5hWzZdK2x8MCx0LmFbN109dC5hWzddK298MH1mdW5jdGlvbiBzYyh0LGUsbil7dm9pZCAwPT09biYmKG49ZS5sZW5ndGgpO3ZhciBpPTAscj10LmM7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpZm9yKDtpPG47KXQuZltyKytdPWUuY2hhckNvZGVBdChpKyspLHI9PXQuYiYmKGFjKHQpLHI9MCk7ZWxzZXtpZighcChlKSl0aHJvdyBFcnJvcihcIm1lc3NhZ2UgbXVzdCBiZSBzdHJpbmcgb3IgYXJyYXlcIik7Zm9yKDtpPG47KXt2YXIgbz1lW2krK107aWYoIShcIm51bWJlclwiPT10eXBlb2YgbyYmMDw9byYmbzw9MjU1JiZvPT0oMHxvKSkpdGhyb3cgRXJyb3IoXCJtZXNzYWdlIG11c3QgYmUgYSBieXRlIGFycmF5XCIpO3QuZltyKytdPW8scj09dC5iJiYoYWModCkscj0wKX19dC5jPXIsdC5nKz1ufXRjLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmM9MCx0aGlzLmE9bC5JbnQzMkFycmF5P25ldyBJbnQzMkFycmF5KHRoaXMuaCk6WCh0aGlzLmgpfTt2YXIgdWM9WzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF07ZnVuY3Rpb24gY2MoKXt0Yy5jYWxsKHRoaXMsOCxoYyl9dyhjYyx0Yyk7dmFyIGhjPVsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV07ZnVuY3Rpb24gbGModCxlLG4saSxyLG8pe3RoaXMudj10LHRoaXMuaT1lLHRoaXMubD1uLHRoaXMubT1pfHxudWxsLHRoaXMudT1yfHxudWxsLHRoaXMucz1vLHRoaXMuaD1lK1wiOlwiK24sdGhpcy5DPW5ldyBRdSx0aGlzLmc9bmV3IHp1KHRoaXMuaCksdGhpcy5mPW51bGwsdGhpcy5iPVtdLHRoaXMuYT10aGlzLmM9bnVsbH1mdW5jdGlvbiBmYyh0KXtyZXR1cm4gbmV3IFQoXCJpbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvblwiLHQpfWZ1bmN0aW9uIGRjKHQpe3ZhciBlPW5ldyBjYztzYyhlLHQpLHQ9W107dmFyIG49OCplLmc7ZS5jPDU2P3NjKGUsb2MsNTYtZS5jKTpzYyhlLG9jLGUuYi0oZS5jLTU2KSk7Zm9yKHZhciBpPTYzOzU2PD1pO2ktLSllLmZbaV09MjU1Jm4sbi89MjU2O2ZvcihhYyhlKSxpPW49MDtpPGUuaTtpKyspZm9yKHZhciByPTI0OzA8PXI7ci09OCl0W24rK109ZS5hW2ldPj5yJjI1NTtyZXR1cm4gcSh0LGZ1bmN0aW9uKHQpe3JldHVybiAxPCh0PXQudG9TdHJpbmcoMTYpKS5sZW5ndGg/dDpcIjBcIit0fSkuam9pbihcIlwiKX1mdW5jdGlvbiBwYyh0LGUpe2Zvcih2YXIgbj0wO248dC5iLmxlbmd0aDtuKyspdHJ5e3QuYltuXShlKX1jYXRjaCh0KXt9fWZ1bmN0aW9uIHZjKHMpe3JldHVybiBzLmZ8fChzLmY9cy5tYSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGZlKGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoaSl7dD0hMCxhJiZhLmNhbmNlbCgpLG1jKHIpLnRoZW4oZnVuY3Rpb24odCl7dmFyIGUsbj1vO3QmJmkmJmkudXJsJiYoZT1udWxsLG49KGU9LTEhPShuPUpyKGkudXJsKSkuaW5kZXhPZihcIi9fXy9hdXRoL2NhbGxiYWNrXCIpPyhlPVwib2JqZWN0XCI9PXR5cGVvZihlPVNpKF9uKGU9T24obiksXCJmaXJlYmFzZUVycm9yXCIpfHxudWxsKSk/RShlKTpudWxsKT9uZXcgQ28odC5jLHQuYixudWxsLG51bGwsZSxudWxsLHQuVCgpKTpuZXcgQ28odC5jLHQuYixuLHQuZixudWxsLG51bGwsdC5UKCkpOmUpfHxvKSxwYyhyLG4pfSl9dmFyIHIsbyx0LGEsaTtzLkVhKGZ1bmN0aW9uIHQoZSl7cmV0dXJuIG4oZSkscy5TYSh0KSwhMX0pLHI9cyxvPW5ldyBDbyhcInVua25vd25cIixudWxsLG51bGwsbnVsbCxuZXcgVChcIm5vLWF1dGgtZXZlbnRcIikpLHQ9ITEsYT1tbig1MDApLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbWMocikudGhlbihmdW5jdGlvbigpe3R8fHBjKHIsbyl9KX0pLGk9bC5oYW5kbGVPcGVuVVJMLGwuaGFuZGxlT3BlblVSTD1mdW5jdGlvbih0KXtpZigwPT10LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihiaShcIkJ1aWxkSW5mby5wYWNrYWdlTmFtZVwiLGwpLnRvTG93ZXJDYXNlKCkrXCI6Ly9cIikmJmUoe3VybDp0fSksXCJmdW5jdGlvblwiPT10eXBlb2YgaSl0cnl7aSh0KX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKHQpfX0sTG89TG98fG5ldyBEbyxmdW5jdGlvbih0KXt2YXIgbj1MbztuLmEucHVzaCh0KSxuLmJ8fChuLmI9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxuLmEubGVuZ3RoO2UrKyluLmFbZV0odCl9LFwiZnVuY3Rpb25cIj09dHlwZW9mKHQ9YmkoXCJ1bml2ZXJzYWxMaW5rcy5zdWJzY3JpYmVcIixsKSkmJnQobnVsbCxuLmIpKX0oZSl9KX0pKSxzLmZ9ZnVuY3Rpb24gbWMoZSl7dmFyIHQsbj1udWxsO3JldHVybih0PWUuZykuYi5nZXQoWnUsdC5hKS50aGVuKFJvKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuPXQsSnUoKHQ9ZS5nKS5iLFp1LHQuYSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG59KX1mdW5jdGlvbiBnYyh0KXt0aGlzLmE9dCx0aGlzLmI9QnUoKX0odD1sYy5wcm90b3R5cGUpLm1hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSWF8fCh0aGlzLklhPShzaSh2b2lkIDApP2FpKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBuZXcgZmUoZnVuY3Rpb24odCxlKXt2YXIgbj1sLmRvY3VtZW50LGk9c2V0VGltZW91dChmdW5jdGlvbigpe2UoRXJyb3IoXCJDb3Jkb3ZhIGZyYW1ld29yayBpcyBub3QgcmVhZHkuXCIpKX0sMWUzKTtuLmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2VyZWFkeVwiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGkpLHQoKX0sITEpfSl9KTp3ZShFcnJvcihcIkNvcmRvdmEgbXVzdCBydW4gaW4gYW4gQW5kcm9pZCBvciBpT1MgZmlsZSBzY2hlbWUuXCIpKSkudGhlbihmdW5jdGlvbigpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGJpKFwidW5pdmVyc2FsTGlua3Muc3Vic2NyaWJlXCIsbCkpdGhyb3cgZmMoXCJjb3Jkb3ZhLXVuaXZlcnNhbC1saW5rcy1wbHVnaW4tZml4IGlzIG5vdCBpbnN0YWxsZWRcIik7aWYodm9pZCAwPT09YmkoXCJCdWlsZEluZm8ucGFja2FnZU5hbWVcIixsKSl0aHJvdyBmYyhcImNvcmRvdmEtcGx1Z2luLWJ1aWxkaW5mbyBpcyBub3QgaW5zdGFsbGVkXCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGJpKFwiY29yZG92YS5wbHVnaW5zLmJyb3dzZXJ0YWIub3BlblVybFwiLGwpKXRocm93IGZjKFwiY29yZG92YS1wbHVnaW4tYnJvd3NlcnRhYiBpcyBub3QgaW5zdGFsbGVkXCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGJpKFwiY29yZG92YS5JbkFwcEJyb3dzZXIub3BlblwiLGwpKXRocm93IGZjKFwiY29yZG92YS1wbHVnaW4taW5hcHBicm93c2VyIGlzIG5vdCBpbnN0YWxsZWRcIil9LGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFQoXCJjb3Jkb3ZhLW5vdC1yZWFkeVwiKX0pKX0sdC5PYj1mdW5jdGlvbih0LGUpe3JldHVybiBlKG5ldyBUKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSkseWUoKX0sdC5NYj1mdW5jdGlvbigpe3JldHVybiB3ZShuZXcgVChcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpfSx0LiRiPWZ1bmN0aW9uKCl7cmV0dXJuITF9LHQuWGI9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5UYj1mdW5jdGlvbigpe3JldHVybiEwfSx0Lk5iPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKHRoaXMuYylyZXR1cm4gd2UobmV3IFQoXCJyZWRpcmVjdC1vcGVyYXRpb24tcGVuZGluZ1wiKSk7dmFyIHI9dGhpcyxvPWwuZG9jdW1lbnQsYT1udWxsLHM9bnVsbCx1PW51bGwsYz1udWxsO3JldHVybiB0aGlzLmM9eWUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIE9vKGUpLHZjKHIpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuLHQsZSxpLHIpe3ZhciBvPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTIwLGU9W107MDx0OyllLnB1c2goXCIxMjM0NTY3ODkwYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiLmNoYXJBdChNYXRoLmZsb29yKDYyKk1hdGgucmFuZG9tKCkpKSksdC0tO3JldHVybiBlLmpvaW4oXCJcIil9KCksYT1uZXcgQ28odCxpLG51bGwsbyxuZXcgVChcIm5vLWF1dGgtZXZlbnRcIiksbnVsbCxyKSxzPWJpKFwiQnVpbGRJbmZvLnBhY2thZ2VOYW1lXCIsbCk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHMpdGhyb3cgbmV3IFQoXCJpbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvblwiKTt2YXIgdT1iaShcIkJ1aWxkSW5mby5kaXNwbGF5TmFtZVwiLGwpLGM9e307aWYoZ2koKS50b0xvd2VyQ2FzZSgpLm1hdGNoKC9pcGhvbmV8aXBhZHxpcG9kLykpYy5pYmk9cztlbHNle2lmKCFnaSgpLnRvTG93ZXJDYXNlKCkubWF0Y2goL2FuZHJvaWQvKSlyZXR1cm4gd2UobmV3IFQoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKTtjLmFwbj1zfXUmJihjLmFwcERpc3BsYXlOYW1lPXUpLG89ZGMobyksYy5zZXNzaW9uSWQ9bzt2YXIgaD11dShuLnYsbi5pLG4ubCx0LGUsbnVsbCxpLG4ubSxjLG4udSxyLG4ucyk7cmV0dXJuIG4ubWEoKS50aGVuKGZ1bmN0aW9uKCl7dmFyIHQ9bi5oO3JldHVybiBuLkMuYS5zZXQoWnUsYS53KCksdCl9KS50aGVuKGZ1bmN0aW9uKCl7dmFyIHQ9YmkoXCJjb3Jkb3ZhLnBsdWdpbnMuYnJvd3NlcnRhYi5pc0F2YWlsYWJsZVwiLGwpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFQoXCJpbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvblwiKTt2YXIgZT1udWxsO3QoZnVuY3Rpb24odCl7aWYodCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YoZT1iaShcImNvcmRvdmEucGx1Z2lucy5icm93c2VydGFiLm9wZW5VcmxcIixsKSkpdGhyb3cgbmV3IFQoXCJpbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvblwiKTtlKGgpfWVsc2V7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YoZT1iaShcImNvcmRvdmEuSW5BcHBCcm93c2VyLm9wZW5cIixsKSkpdGhyb3cgbmV3IFQoXCJpbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvblwiKTt0PWdpKCksbi5hPWUoaCx0Lm1hdGNoKC8oaVBhZHxpUGhvbmV8aVBvZCkuKk9TIDdfXFxkL2kpfHx0Lm1hdGNoKC8oaVBhZHxpUGhvbmV8aVBvZCkuKk9TIDhfXFxkL2kpP1wiX2JsYW5rXCI6XCJfc3lzdGVtXCIsXCJsb2NhdGlvbj15ZXNcIil9fSl9KX0ocix0LGUsbixpKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGZlKGZ1bmN0aW9uKGUsdCl7cz1mdW5jdGlvbigpe3ZhciB0PWJpKFwiY29yZG92YS5wbHVnaW5zLmJyb3dzZXJ0YWIuY2xvc2VcIixsKTtyZXR1cm4gZSgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQoKSxyLmEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIuYS5jbG9zZSYmKHIuYS5jbG9zZSgpLHIuYT1udWxsKSwhMX0sci5FYShzKSx1PWZ1bmN0aW9uKCl7YT1hfHxtbigyZTMpLnRoZW4oZnVuY3Rpb24oKXt0KG5ldyBUKFwicmVkaXJlY3QtY2FuY2VsbGVkLWJ5LXVzZXJcIikpfSl9LGM9ZnVuY3Rpb24oKXtSaSgpJiZ1KCl9LG8uYWRkRXZlbnRMaXN0ZW5lcihcInJlc3VtZVwiLHUsITEpLGdpKCkudG9Mb3dlckNhc2UoKS5tYXRjaCgvYW5kcm9pZC8pfHxvLmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsYywhMSl9KS5vKGZ1bmN0aW9uKHQpe3JldHVybiBtYyhyKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgdH0pfSl9KS5vYShmdW5jdGlvbigpe3UmJm8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc3VtZVwiLHUsITEpLGMmJm8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIixjLCExKSxhJiZhLmNhbmNlbCgpLHMmJnIuU2Eocyksci5jPW51bGx9KX0sdC5FYT1mdW5jdGlvbihlKXt0aGlzLmIucHVzaChlKSx2Yyh0aGlzKS5vKGZ1bmN0aW9uKHQpe1wiYXV0aC9pbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvblwiPT09dC5jb2RlJiYodD1uZXcgQ28oXCJ1bmtub3duXCIsbnVsbCxudWxsLG51bGwsbmV3IFQoXCJuby1hdXRoLWV2ZW50XCIpKSxlKHQpKX0pfSx0LlNhPWZ1bmN0aW9uKGUpe0IodGhpcy5iLGZ1bmN0aW9uKHQpe3JldHVybiB0PT1lfSl9O3ZhciBiYz17bmFtZTpcInBlbmRpbmdSZWRpcmVjdFwiLEY6XCJzZXNzaW9uXCJ9O2Z1bmN0aW9uIHljKHQpe3JldHVybiBKdSh0LmIsYmMsdC5hKX1mdW5jdGlvbiB3Yyh0LGUsbixpKXt0aGlzLmk9e30sdGhpcy51PTAsdGhpcy5EPXQsdGhpcy52PWUsdGhpcy5tPW4sdGhpcy5KPWksdGhpcy5oPVtdLHRoaXMuZj0hMSx0aGlzLmw9Yih0aGlzLnMsdGhpcyksdGhpcy5iPW5ldyB4Yyx0aGlzLkM9bmV3IEZjLHRoaXMuZz1uZXcgZ2MoUGModGhpcy52LHRoaXMubSkpLHRoaXMuYz17fSx0aGlzLmMudW5rbm93bj10aGlzLmIsdGhpcy5jLnNpZ25JblZpYVJlZGlyZWN0PXRoaXMuYix0aGlzLmMubGlua1ZpYVJlZGlyZWN0PXRoaXMuYix0aGlzLmMucmVhdXRoVmlhUmVkaXJlY3Q9dGhpcy5iLHRoaXMuYy5zaWduSW5WaWFQb3B1cD10aGlzLkMsdGhpcy5jLmxpbmtWaWFQb3B1cD10aGlzLkMsdGhpcy5jLnJlYXV0aFZpYVBvcHVwPXRoaXMuQyx0aGlzLmE9SWModGhpcy5ELHRoaXMudix0aGlzLm0sQSx0aGlzLkopfWZ1bmN0aW9uIEljKHQsZSxuLGkscil7dmFyIG89emwuZGVmYXVsdC5TREtfVkVSU0lPTnx8bnVsbDtyZXR1cm4gbmV3KHNpKCk/bGM6cnUpKHQsZSxuLG8saSxyKX1mdW5jdGlvbiBUYyhlKXtlLmZ8fChlLmY9ITAsZS5hLkVhKGUubCkpO3ZhciBuPWUuYTtyZXR1cm4gZS5hLm1hKCkubyhmdW5jdGlvbih0KXt0aHJvdyBlLmE9PW4mJmUucmVzZXQoKSx0fSl9ZnVuY3Rpb24gRWMobil7bi5hLlhiKCkmJlRjKG4pLm8oZnVuY3Rpb24odCl7dmFyIGU9bmV3IENvKFwidW5rbm93blwiLG51bGwsbnVsbCxudWxsLG5ldyBUKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7T2ModCkmJm4ucyhlKX0pLG4uYS5UYigpfHxNYyhuLmIpfWZ1bmN0aW9uIEFjKG4sdCl7SyhuLmgsdCl8fG4uaC5wdXNoKHQpLG4uZnx8KHQ9bi5nKS5iLmdldChiYyx0LmEpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuXCJwZW5kaW5nXCI9PXR9KS50aGVuKGZ1bmN0aW9uKHQpe3Q/eWMobi5nKS50aGVuKGZ1bmN0aW9uKCl7VGMobikubyhmdW5jdGlvbih0KXt2YXIgZT1uZXcgQ28oXCJ1bmtub3duXCIsbnVsbCxudWxsLG51bGwsbmV3IFQoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKTtPYyh0KSYmbi5zKGUpfSl9KTpFYyhuKX0pLm8oZnVuY3Rpb24oKXtFYyhuKX0pfWZ1bmN0aW9uIGtjKHQsZSl7Qih0LmgsZnVuY3Rpb24odCl7cmV0dXJuIHQ9PWV9KX13Yy5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmY9ITEsdGhpcy5hLlNhKHRoaXMubCksdGhpcy5hPUljKHRoaXMuRCx0aGlzLnYsdGhpcy5tLG51bGwsdGhpcy5KKSx0aGlzLmk9e319LHdjLnByb3RvdHlwZS5zPWZ1bmN0aW9uKHQpe2lmKCF0KXRocm93IG5ldyBUKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpO2lmKDZlNTw9RGF0ZS5ub3coKS10aGlzLnUmJih0aGlzLmk9e30sdGhpcy51PTApLHQmJnQuZ2V0VWlkKCkmJnRoaXMuaS5oYXNPd25Qcm9wZXJ0eSh0LmdldFVpZCgpKSlyZXR1cm4hMTtmb3IodmFyIGU9ITEsbj0wO248dGhpcy5oLmxlbmd0aDtuKyspe3ZhciBpPXRoaXMuaFtuXTtpZihpLkZiKHQuYyx0LmIpKXsoZT10aGlzLmNbdC5jXSkmJihlLmgodCxpKSx0JiYodC5mfHx0LmIpJiYodGhpcy5pW3QuZ2V0VWlkKCldPSEwLHRoaXMudT1EYXRlLm5vdygpKSksZT0hMDticmVha319cmV0dXJuIE1jKHRoaXMuYiksZX07dmFyIFNjPW5ldyBDaSgyZTMsMWU0KSxOYz1uZXcgQ2koM2U0LDZlNCk7ZnVuY3Rpb24gX2ModCxlLG4saSxyLG8sYSl7cmV0dXJuIHQuYS5NYihlLG4saSxmdW5jdGlvbigpe3QuZnx8KHQuZj0hMCx0LmEuRWEodC5sKSl9LGZ1bmN0aW9uKCl7dC5yZXNldCgpfSxyLG8sYSl9ZnVuY3Rpb24gT2ModCl7cmV0dXJuISghdHx8XCJhdXRoL2NvcmRvdmEtbm90LXJlYWR5XCIhPXQuY29kZSl9ZnVuY3Rpb24gQ2MoZSx0LG4saSxyKXt2YXIgbyxhO3JldHVybihhPWUuZykuYi5zZXQoYmMsXCJwZW5kaW5nXCIsYS5hKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuYS5OYih0LG4saSxyKS5vKGZ1bmN0aW9uKHQpe2lmKE9jKHQpKXRocm93IG5ldyBUKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKTtyZXR1cm4gbz10LHljKGUuZykudGhlbihmdW5jdGlvbigpe3Rocm93IG99KX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5hLiRiKCk/bmV3IGZlKGZ1bmN0aW9uKCl7fSk6eWMoZS5nKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUucWEoKX0pLnRoZW4oZnVuY3Rpb24oKXt9KS5vKGZ1bmN0aW9uKCl7fSl9KX0pfWZ1bmN0aW9uIFJjKHQsZSxuLGkscil7cmV0dXJuIHQuYS5PYihpLGZ1bmN0aW9uKHQpe2UubmEobixudWxsLHQscil9LFNjLmdldCgpKX13Yy5wcm90b3R5cGUucWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLnFhKCl9O3ZhciBEYz17fTtmdW5jdGlvbiBQYyh0LGUsbil7cmV0dXJuIHQ9dCtcIjpcIitlLHQ9bj90K1wiOlwiK24udXJsOnR9ZnVuY3Rpb24gTGModCxlLG4saSl7dmFyIHI9UGMoZSxuLGkpO3JldHVybiBEY1tyXXx8KERjW3JdPW5ldyB3Yyh0LGUsbixpKSksRGNbcl19ZnVuY3Rpb24geGMoKXt0aGlzLmI9bnVsbCx0aGlzLmY9W10sdGhpcy5jPVtdLHRoaXMuYT1udWxsLHRoaXMuaT10aGlzLmc9ITF9ZnVuY3Rpb24gTWModCl7dC5nfHwodC5nPSEwLFZjKHQsITEsbnVsbCxudWxsKSl9ZnVuY3Rpb24gamModCl7dC5nJiYhdC5pJiZWYyh0LCExLG51bGwsbnVsbCl9ZnVuY3Rpb24gVWModCxlKXtpZih0LmI9ZnVuY3Rpb24oKXtyZXR1cm4geWUoZSl9LHQuZi5sZW5ndGgpZm9yKHZhciBuPTA7bjx0LmYubGVuZ3RoO24rKyl0LmZbbl0oZSl9ZnVuY3Rpb24gVmModCxlLG4saSl7ZT9pP2Z1bmN0aW9uKHQsZSl7aWYodC5iPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKGUpfSx0LmMubGVuZ3RoKWZvcih2YXIgbj0wO248dC5jLmxlbmd0aDtuKyspdC5jW25dKGUpfSh0LGkpOlVjKHQsbik6VWModCx7dXNlcjpudWxsfSksdC5mPVtdLHQuYz1bXX1mdW5jdGlvbiBGYygpe31mdW5jdGlvbiBxYygpe3RoaXMuaWI9ITEsT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJhcHBWZXJpZmljYXRpb25EaXNhYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pYn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuaWI9dH0sZW51bWVyYWJsZTohMX0pfWZ1bmN0aW9uIEhjKHQsZSl7dGhpcy5hPWUsVmkodGhpcyxcInZlcmlmaWNhdGlvbklkXCIsdCl9ZnVuY3Rpb24gS2ModCxlLG4saSl7cmV0dXJuIG5ldyBTbyh0KS5mYihlLG4pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBIYyh0LGkpfSl9ZnVuY3Rpb24gR2ModCl7dmFyIGU9THIodCk7aWYoIShlJiZlLmV4cCYmZS5hdXRoX3RpbWUmJmUuaWF0KSl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIsXCJBbiBpbnRlcm5hbCBlcnJvciBvY2N1cnJlZC4gVGhlIHRva2VuIG9idGFpbmVkIGJ5IEZpcmViYXNlIGFwcGVhcnMgdG8gYmUgbWFsZm9ybWVkLiBQbGVhc2UgcmV0cnkgdGhlIG9wZXJhdGlvbi5cIik7RmkodGhpcyx7dG9rZW46dCxleHBpcmF0aW9uVGltZTpQaSgxZTMqZS5leHApLGF1dGhUaW1lOlBpKDFlMyplLmF1dGhfdGltZSksaXNzdWVkQXRUaW1lOlBpKDFlMyplLmlhdCksc2lnbkluUHJvdmlkZXI6ZS5maXJlYmFzZSYmZS5maXJlYmFzZS5zaWduX2luX3Byb3ZpZGVyP2UuZmlyZWJhc2Uuc2lnbl9pbl9wcm92aWRlcjpudWxsLHNpZ25JblNlY29uZEZhY3RvcjplLmZpcmViYXNlJiZlLmZpcmViYXNlLnNpZ25faW5fc2Vjb25kX2ZhY3Rvcj9lLmZpcmViYXNlLnNpZ25faW5fc2Vjb25kX2ZhY3RvcjpudWxsLGNsYWltczplfSl9ZnVuY3Rpb24gQmModCxlLG4pe3ZhciBpPWUmJmVbWGNdO2lmKCFpKXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIixcIkludGVybmFsIGFzc2VydDogSW52YWxpZCBNdWx0aUZhY3RvclJlc29sdmVyXCIpO3RoaXMuYT10LHRoaXMuZj1jdChlKSx0aGlzLmc9bix0aGlzLmM9bmV3IFlyKG51bGwsaSksdGhpcy5iPVtdO3ZhciByPXRoaXM7VihlW1djXXx8W10sZnVuY3Rpb24odCl7KHQ9R2kodCkpJiZyLmIucHVzaCh0KX0pLFZpKHRoaXMsXCJhdXRoXCIsdGhpcy5hKSxWaSh0aGlzLFwic2Vzc2lvblwiLHRoaXMuYyksVmkodGhpcyxcImhpbnRzXCIsdGhpcy5iKX14Yy5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmI9bnVsbCx0aGlzLmEmJih0aGlzLmEuY2FuY2VsKCksdGhpcy5hPW51bGwpfSx4Yy5wcm90b3R5cGUuaD1mdW5jdGlvbih0LGUpe3ZhciBuLGkscixvO3Q/KHRoaXMucmVzZXQoKSx0aGlzLmc9ITAsbj10LmMsaT10LmIscj10LmEmJlwiYXV0aC93ZWItc3RvcmFnZS11bnN1cHBvcnRlZFwiPT10LmEuY29kZSxvPXQuYSYmXCJhdXRoL29wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIj09dC5hLmNvZGUsdGhpcy5pPSEoIXImJiFvKSxcInVua25vd25cIiE9bnx8cnx8bz90LmE/KFZjKHRoaXMsITAsbnVsbCx0LmEpLHllKCkpOmUuRmEobixpKT9mdW5jdGlvbihlLHQsbil7bj1uLkZhKHQuYyx0LmIpO3ZhciBpPXQuZyxyPXQuZixvPXQuaSxhPXQuVCgpLHM9ISF0LmMubWF0Y2goL1JlZGlyZWN0JC8pO24oaSxyLGEsbykudGhlbihmdW5jdGlvbih0KXtWYyhlLHMsdCxudWxsKX0pLm8oZnVuY3Rpb24odCl7VmMoZSxzLG51bGwsdCl9KX0odGhpcyx0LGUpOndlKG5ldyBUKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpKTooVmModGhpcywhMSxudWxsLG51bGwpLHllKCkpKTp3ZShuZXcgVChcImludmFsaWQtYXV0aC1ldmVudFwiKSl9LHhjLnByb3RvdHlwZS5xYT1mdW5jdGlvbigpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBmZShmdW5jdGlvbih0LGUpe3ZhciBuLGk7ci5iP3IuYigpLnRoZW4odCxlKTooci5mLnB1c2godCksci5jLnB1c2goZSksbj1yLGk9bmV3IFQoXCJ0aW1lb3V0XCIpLG4uYSYmbi5hLmNhbmNlbCgpLG4uYT1tbihOYy5nZXQoKSkudGhlbihmdW5jdGlvbigpe24uYnx8KG4uZz0hMCxWYyhuLCEwLG51bGwsaSkpfSkpfSl9LEZjLnByb3RvdHlwZS5oPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyLG8sYTt0PyhuPXQuYyxpPXQuYix0LmE/KGUubmEodC5jLG51bGwsdC5hLHQuYikseWUoKSk6ZS5GYShuLGkpPyhyPWUsbz0odD10KS5iLGE9dC5jLHIuRmEoYSxvKSh0LmcsdC5mLHQuVCgpLHQuaSkudGhlbihmdW5jdGlvbih0KXtyLm5hKGEsdCxudWxsLG8pfSkubyhmdW5jdGlvbih0KXtyLm5hKGEsbnVsbCx0LG8pfSkpOndlKG5ldyBUKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpKSk6d2UobmV3IFQoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIikpfSxIYy5wcm90b3R5cGUuY29uZmlybT1mdW5jdGlvbih0KXtyZXR1cm4gdD1Obyh0aGlzLnZlcmlmaWNhdGlvbklkLHQpLHRoaXMuYSh0KX07dmFyIFdjPVwibWZhSW5mb1wiLFhjPVwibWZhUGVuZGluZ0NyZWRlbnRpYWxcIjtmdW5jdGlvbiBKYyh0LGUsbixpKXtULmNhbGwodGhpcyxcIm11bHRpLWZhY3Rvci1hdXRoLXJlcXVpcmVkXCIsaSxlKSx0aGlzLmI9bmV3IEJjKHQsZSxuKSxWaSh0aGlzLFwicmVzb2x2ZXJcIix0aGlzLmIpfWZ1bmN0aW9uIFljKHQsZSxuKXtpZih0JiZtKHQuc2VydmVyUmVzcG9uc2UpJiZcImF1dGgvbXVsdGktZmFjdG9yLWF1dGgtcmVxdWlyZWRcIj09PXQuY29kZSl0cnl7cmV0dXJuIG5ldyBKYyhlLHQuc2VydmVyUmVzcG9uc2Usbix0Lm1lc3NhZ2UpfWNhdGNoKHQpe31yZXR1cm4gbnVsbH1mdW5jdGlvbiB6Yygpe31mdW5jdGlvbiAkYyh0KXtWaSh0aGlzLFwiZmFjdG9ySWRcIix0LmZhKSx0aGlzLmE9dH1mdW5jdGlvbiBaYyh0KXtpZigkYy5jYWxsKHRoaXMsdCksdGhpcy5hLmZhIT1Tby5QUk9WSURFUl9JRCl0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsXCJmaXJlYmFzZS5hdXRoLlBob25lTXVsdGlGYWN0b3JBc3NlcnRpb24gcmVxdWlyZXMgYSB2YWxpZCBmaXJlYmFzZS5hdXRoLlBob25lQXV0aENyZWRlbnRpYWxcIil9ZnVuY3Rpb24gUWModCxlKXtmb3IodmFyIG4gaW4gRmUuY2FsbCh0aGlzLHQpLGUpdGhpc1tuXT1lW25dfWZ1bmN0aW9uIHRoKHQsZSl7dGhpcy5hPXQsdGhpcy5iPVtdLHRoaXMuYz1iKHRoaXMueWMsdGhpcyksWmUodGhpcy5hLFwidXNlclJlbG9hZGVkXCIsdGhpcy5jKTt2YXIgaT1bXTtlJiZlLm11bHRpRmFjdG9yJiZlLm11bHRpRmFjdG9yLmVucm9sbGVkRmFjdG9ycyYmVihlLm11bHRpRmFjdG9yLmVucm9sbGVkRmFjdG9ycyxmdW5jdGlvbih0KXt2YXIgZT1udWxsLG49e307aWYodCl7dC51aWQmJihuW1hpXT10LnVpZCksdC5kaXNwbGF5TmFtZSYmKG5bQmldPXQuZGlzcGxheU5hbWUpLHQuZW5yb2xsbWVudFRpbWUmJihuW1dpXT1uZXcgRGF0ZSh0LmVucm9sbG1lbnRUaW1lKS50b0lTT1N0cmluZygpKSx0LnBob25lTnVtYmVyJiYobltKaV09dC5waG9uZU51bWJlcik7dHJ5e2U9bmV3IFlpKG4pfWNhdGNoKHQpe310PWV9ZWxzZSB0PW51bGw7dCYmaS5wdXNoKHQpfSksZWgodGhpcyxpKX1mdW5jdGlvbiBlaCh0LGUpe3QuYj1lLFZpKHQsXCJlbnJvbGxlZEZhY3RvcnNcIixlKX1mdW5jdGlvbiBuaCh0LGUsbil7aWYodGhpcy5oPXQsdGhpcy5pPWUsdGhpcy5nPW4sdGhpcy5jPTNlNCx0aGlzLmY9OTZlNCx0aGlzLmI9bnVsbCx0aGlzLmE9dGhpcy5jLHRoaXMuZjx0aGlzLmMpdGhyb3cgRXJyb3IoXCJQcm9hY3RpdmUgcmVmcmVzaCBsb3dlciBib3VuZCBncmVhdGVyIHRoYW4gdXBwZXIgYm91bmQhXCIpfWZ1bmN0aW9uIGloKHQsZSl7cmV0dXJuIGU/KHQuYT10LmMsdC5nKCkpOihlPXQuYSx0LmEqPTIsdC5hPnQuZiYmKHQuYT10LmYpLGUpfWZ1bmN0aW9uIHJoKHQpe3RoaXMuZj10LHRoaXMuYj10aGlzLmE9bnVsbCx0aGlzLmM9RGF0ZS5ub3coKX1mdW5jdGlvbiBvaCh0LGUpe3ZvaWQgMD09PWUmJihlPXQuYj8oZT10LmIpLmEtZS5nOjApLHQuYz1EYXRlLm5vdygpKzFlMyplfWZ1bmN0aW9uIGFoKHQsZSl7dC5iPVByKGVbSGFdfHxcIlwiKSx0LmE9ZS5yZWZyZXNoVG9rZW4sb2godCx2b2lkIDAhPT0oZT1lLmV4cGlyZXNJbik/TnVtYmVyKGUpOnZvaWQgMCl9ZnVuY3Rpb24gc2goZSx0KXtyZXR1cm4gaT1lLmYscj10LG5ldyBmZShmdW5jdGlvbihlLG4pe1wicmVmcmVzaF90b2tlblwiPT1yLmdyYW50X3R5cGUmJnIucmVmcmVzaF90b2tlbnx8XCJhdXRob3JpemF0aW9uX2NvZGVcIj09ci5ncmFudF90eXBlJiZyLmNvZGU/JGEoaSxpLmwrXCI/a2V5PVwiK2VuY29kZVVSSUNvbXBvbmVudChpLmMpLGZ1bmN0aW9uKHQpe3Q/dC5lcnJvcj9uKFlzKHQpKTp0LmFjY2Vzc190b2tlbiYmdC5yZWZyZXNoX3Rva2VuP2UodCk6bihuZXcgVChcImludGVybmFsLWVycm9yXCIpKTpuKG5ldyBUKFwibmV0d29yay1yZXF1ZXN0LWZhaWxlZFwiKSl9LFwiUE9TVFwiLHFuKHIpLnRvU3RyaW5nKCksaS5nLGkubS5nZXQoKSk6bihuZXcgVChcImludGVybmFsLWVycm9yXCIpKX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuYj1Qcih0LmFjY2Vzc190b2tlbiksZS5hPXQucmVmcmVzaF90b2tlbixvaChlLHQuZXhwaXJlc19pbikse2FjY2Vzc1Rva2VuOmUuYi50b1N0cmluZygpLHJlZnJlc2hUb2tlbjplLmF9fSkubyhmdW5jdGlvbih0KXt0aHJvd1wiYXV0aC91c2VyLXRva2VuLWV4cGlyZWRcIj09dC5jb2RlJiYoZS5hPW51bGwpLHR9KTt2YXIgaSxyfWZ1bmN0aW9uIHVoKHQsZSl7dGhpcy5hPXR8fG51bGwsdGhpcy5iPWV8fG51bGwsRmkodGhpcyx7bGFzdFNpZ25JblRpbWU6UGkoZXx8bnVsbCksY3JlYXRpb25UaW1lOlBpKHR8fG51bGwpfSl9ZnVuY3Rpb24gY2godCxlLG4saSxyLG8pe0ZpKHRoaXMse3VpZDp0LGRpc3BsYXlOYW1lOml8fG51bGwscGhvdG9VUkw6cnx8bnVsbCxlbWFpbDpufHxudWxsLHBob25lTnVtYmVyOm98fG51bGwscHJvdmlkZXJJZDplfSl9ZnVuY3Rpb24gaGgodCxlLG4pe3RoaXMuSj1bXSx0aGlzLmw9dC5hcGlLZXksdGhpcy5tPXQuYXBwTmFtZSx0aGlzLnM9dC5hdXRoRG9tYWlufHxudWxsO3ZhciBpLHI9emwuZGVmYXVsdC5TREtfVkVSU0lPTj9taSh6bC5kZWZhdWx0LlNES19WRVJTSU9OKTpudWxsO3RoaXMuYT1uZXcgRmEodGhpcy5sLF8oQSksciksdC5lbXVsYXRvckNvbmZpZyYmSmEodGhpcy5hLHQuZW11bGF0b3JDb25maWcpLHRoaXMuYj1uZXcgcmgodGhpcy5hKSxiaCh0aGlzLGVbSGFdKSxhaCh0aGlzLmIsZSksVmkodGhpcyxcInJlZnJlc2hUb2tlblwiLHRoaXMuYi5hKSxJaCh0aGlzLG58fHt9KSxsbi5jYWxsKHRoaXMpLHRoaXMuUj0hMSx0aGlzLnMmJndpKCkmJih0aGlzLmk9TGModGhpcy5zLHRoaXMubCx0aGlzLm0pKSx0aGlzLlM9W10sdGhpcy5oPW51bGwsdGhpcy51PShpPXRoaXMsbmV3IG5oKGZ1bmN0aW9uKCl7cmV0dXJuIGkuSSghMCl9LGZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fFwiYXV0aC9uZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIhPXQuY29kZSl9LGZ1bmN0aW9uKCl7dmFyIHQ9aS5iLmMtRGF0ZS5ub3coKS0zZTU7cmV0dXJuIDA8dD90OjB9KSksdGhpcy5hYT1iKHRoaXMuaGIsdGhpcyk7dmFyIG89dGhpczt0aGlzLnlhPW51bGwsdGhpcy5PYT1mdW5jdGlvbih0KXtvLndhKHQuaCl9LHRoaXMuamE9bnVsbCx0aGlzLkFhPWZ1bmN0aW9uKHQpe0phKG8uYSx0LmMpfSx0aGlzLlg9bnVsbCx0aGlzLiQ9W10sdGhpcy5CYT1mdW5jdGlvbih0KXtkaChvLHQuZil9LHRoaXMuYmE9bnVsbCx0aGlzLk89bmV3IHRoKHRoaXMsbiksVmkodGhpcyxcIm11bHRpRmFjdG9yXCIsdGhpcy5PKX1mdW5jdGlvbiBsaCh0LGUpe3QuamEmJmVuKHQuamEsXCJsYW5ndWFnZUNvZGVDaGFuZ2VkXCIsdC5PYSksKHQuamE9ZSkmJlplKGUsXCJsYW5ndWFnZUNvZGVDaGFuZ2VkXCIsdC5PYSl9ZnVuY3Rpb24gZmgodCxlKXt0LlgmJmVuKHQuWCxcImVtdWxhdG9yQ29uZmlnQ2hhbmdlZFwiLHQuQWEpLCh0Llg9ZSkmJlplKGUsXCJlbXVsYXRvckNvbmZpZ0NoYW5nZWRcIix0LkFhKX1mdW5jdGlvbiBkaCh0LGUpe3QuJD1lLHphKHQuYSx6bC5kZWZhdWx0LlNES19WRVJTSU9OP21pKHpsLmRlZmF1bHQuU0RLX1ZFUlNJT04sdC4kKTpudWxsKX1mdW5jdGlvbiBwaCh0LGUpe3QuYmEmJmVuKHQuYmEsXCJmcmFtZXdvcmtDaGFuZ2VkXCIsdC5CYSksKHQuYmE9ZSkmJlplKGUsXCJmcmFtZXdvcmtDaGFuZ2VkXCIsdC5CYSl9ZnVuY3Rpb24gdmgoZSl7dHJ5e3JldHVybiB6bC5kZWZhdWx0LmFwcChlLm0pLmF1dGgoKX1jYXRjaCh0KXt0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIsXCJObyBmaXJlYmFzZS5hdXRoLkF1dGggaW5zdGFuY2UgaXMgYXZhaWxhYmxlIGZvciB0aGUgRmlyZWJhc2UgQXBwICdcIitlLm0rXCInIVwiKX19ZnVuY3Rpb24gbWgodCl7dC5EfHx0LnUuYnx8KHQudS5zdGFydCgpLGVuKHQsXCJ0b2tlbkNoYW5nZWRcIix0LmFhKSxaZSh0LFwidG9rZW5DaGFuZ2VkXCIsdC5hYSkpfWZ1bmN0aW9uIGdoKHQpe2VuKHQsXCJ0b2tlbkNoYW5nZWRcIix0LmFhKSx0LnUuc3RvcCgpfWZ1bmN0aW9uIGJoKHQsZSl7dC56YT1lLFZpKHQsXCJfbGF0XCIsZSl9ZnVuY3Rpb24geWgodCl7Zm9yKHZhciBlPVtdLG49MDtuPHQuUy5sZW5ndGg7bisrKWUucHVzaCh0LlNbbl0odCkpO3JldHVybiBUZShlKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX1mdW5jdGlvbiB3aCh0KXt0LmkmJiF0LlImJih0LlI9ITAsQWModC5pLHQpKX1mdW5jdGlvbiBJaCh0LGUpe0ZpKHQse3VpZDplLnVpZCxkaXNwbGF5TmFtZTplLmRpc3BsYXlOYW1lfHxudWxsLHBob3RvVVJMOmUucGhvdG9VUkx8fG51bGwsZW1haWw6ZS5lbWFpbHx8bnVsbCxlbWFpbFZlcmlmaWVkOmUuZW1haWxWZXJpZmllZHx8ITEscGhvbmVOdW1iZXI6ZS5waG9uZU51bWJlcnx8bnVsbCxpc0Fub255bW91czplLmlzQW5vbnltb3VzfHwhMSx0ZW5hbnRJZDplLnRlbmFudElkfHxudWxsLG1ldGFkYXRhOm5ldyB1aChlLmNyZWF0ZWRBdCxlLmxhc3RMb2dpbkF0KSxwcm92aWRlckRhdGE6W119KSx0LmEuYj10LnRlbmFudElkfWZ1bmN0aW9uIFRoKCl7fWZ1bmN0aW9uIEVoKHQpe3JldHVybiB5ZSgpLnRoZW4oZnVuY3Rpb24oKXtpZih0LkQpdGhyb3cgbmV3IFQoXCJhcHAtZGVsZXRlZFwiKX0pfWZ1bmN0aW9uIEFoKHQpe3JldHVybiBxKHQucHJvdmlkZXJEYXRhLGZ1bmN0aW9uKHQpe3JldHVybiB0LnByb3ZpZGVySWR9KX1mdW5jdGlvbiBraCh0LGUpe2UmJihTaCh0LGUucHJvdmlkZXJJZCksdC5wcm92aWRlckRhdGEucHVzaChlKSl9ZnVuY3Rpb24gU2godCxlKXtCKHQucHJvdmlkZXJEYXRhLGZ1bmN0aW9uKHQpe3JldHVybiB0LnByb3ZpZGVySWQ9PWV9KX1mdW5jdGlvbiBOaCh0LGUsbil7KFwidWlkXCIhPWV8fG4pJiZ0Lmhhc093blByb3BlcnR5KGUpJiZWaSh0LGUsbil9ZnVuY3Rpb24gX2goZSx0KXt2YXIgbixpO2UhPXQmJihGaShlLHt1aWQ6dC51aWQsZGlzcGxheU5hbWU6dC5kaXNwbGF5TmFtZSxwaG90b1VSTDp0LnBob3RvVVJMLGVtYWlsOnQuZW1haWwsZW1haWxWZXJpZmllZDp0LmVtYWlsVmVyaWZpZWQscGhvbmVOdW1iZXI6dC5waG9uZU51bWJlcixpc0Fub255bW91czp0LmlzQW5vbnltb3VzLHRlbmFudElkOnQudGVuYW50SWQscHJvdmlkZXJEYXRhOltdfSksdC5tZXRhZGF0YT9WaShlLFwibWV0YWRhdGFcIixuZXcgdWgoKGk9dC5tZXRhZGF0YSkuYSxpLmIpKTpWaShlLFwibWV0YWRhdGFcIixuZXcgdWgpLFYodC5wcm92aWRlckRhdGEsZnVuY3Rpb24odCl7a2goZSx0KX0pLG49ZS5iLGk9dC5iLG4uYj1pLmIsbi5hPWkuYSxuLmM9aS5jLFZpKGUsXCJyZWZyZXNoVG9rZW5cIixlLmIuYSksZWgoZS5PLHQuTy5iKSl9ZnVuY3Rpb24gT2gocil7cmV0dXJuIHIuSSgpLnRoZW4oZnVuY3Rpb24odCl7dmFyIGUsbixpPXIuaXNBbm9ueW1vdXM7cmV0dXJuIG49dCxYcygoZT1yKS5hLEFzLHtpZFRva2VuOm59KS50aGVuKGIoZS5LYyxlKSkudGhlbihmdW5jdGlvbigpe3JldHVybiBpfHxOaChyLFwiaXNBbm9ueW1vdXNcIiwhMSksdH0pfSl9ZnVuY3Rpb24gQ2godCxlKXtlW0hhXSYmdC56YSE9ZVtIYV0mJihhaCh0LmIsZSksdC5kaXNwYXRjaEV2ZW50KG5ldyBRYyhcInRva2VuQ2hhbmdlZFwiKSksYmgodCxlW0hhXSksTmgodCxcInJlZnJlc2hUb2tlblwiLHQuYi5hKSl9ZnVuY3Rpb24gUmgodCxlKXtyZXR1cm4gT2godCkudGhlbihmdW5jdGlvbigpe2lmKEsoQWgodCksZSkpcmV0dXJuIHloKHQpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyBuZXcgVChcInByb3ZpZGVyLWFscmVhZHktbGlua2VkXCIpfSl9KX1mdW5jdGlvbiBEaCh0LGUsbil7cmV0dXJuIHFpKHt1c2VyOnQsY3JlZGVudGlhbDpfbyhlKSxhZGRpdGlvbmFsVXNlckluZm86ZT1WcihlKSxvcGVyYXRpb25UeXBlOm59KX1mdW5jdGlvbiBQaCh0LGUpe3JldHVybiBDaCh0LGUpLHQucmVsb2FkKCkudGhlbihmdW5jdGlvbigpe3JldHVybiB0fSl9ZnVuY3Rpb24gTGgobixpLHQsZSxyKXtpZighd2koKSlyZXR1cm4gd2UobmV3IFQoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKTtpZihuLmgmJiFyKXJldHVybiB3ZShuLmgpO3ZhciBvPVVyKHQucHJvdmlkZXJJZCksYT1OaShuLnVpZCtcIjo6OlwiKSxzPW51bGwsdT1paShzPSghRWkoKXx8dWkoKSkmJm4ucyYmdC5pc09BdXRoUHJvdmlkZXI/dXUobi5zLG4ubCxuLm0saSx0LG51bGwsYSx6bC5kZWZhdWx0LlNES19WRVJTSU9OfHxudWxsLG51bGwsbnVsbCxuLnRlbmFudElkKTpzLG8mJm8udWEsbyYmby50YSk7cmV0dXJuIGU9ZSgpLnRoZW4oZnVuY3Rpb24oKXtpZihNaChuKSwhcilyZXR1cm4gbi5JKCkudGhlbihmdW5jdGlvbigpe30pfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBfYyhuLmksdSxpLHQsYSwhIXMsbi50ZW5hbnRJZCl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBmZShmdW5jdGlvbih0LGUpe24ubmEoaSxudWxsLG5ldyBUKFwiY2FuY2VsbGVkLXBvcHVwLXJlcXVlc3RcIiksbi5nfHxudWxsKSxuLmY9dCxuLkM9ZSxuLmc9YSxuLmM9UmMobi5pLG4saSx1LGEpfSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB1JiZuaSh1KSx0P3FpKHQpOm51bGx9KS5vKGZ1bmN0aW9uKHQpe3Rocm93IHUmJm5pKHUpLHR9KSxqaChuLGUscil9ZnVuY3Rpb24geGgoZSx0LG4saSxyKXtpZighd2koKSlyZXR1cm4gd2UobmV3IFQoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKTtpZihlLmgmJiFyKXJldHVybiB3ZShlLmgpO3ZhciBvPW51bGwsYT1OaShlLnVpZCtcIjo6OlwiKTtyZXR1cm4gaT1pKCkudGhlbihmdW5jdGlvbigpe2lmKE1oKGUpLCFyKXJldHVybiBlLkkoKS50aGVuKGZ1bmN0aW9uKCl7fSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZ2E9YSx5aChlKX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQ9ZS5oYT8odD1lLmhhKS5iLnNldChGaCxlLncoKSx0LmEpOnR9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIENjKGUuaSx0LG4sYSxlLnRlbmFudElkKX0pLm8oZnVuY3Rpb24odCl7aWYobz10LGUuaGEpcmV0dXJuIHFoKGUuaGEpO3Rocm93IG99KS50aGVuKGZ1bmN0aW9uKCl7aWYobyl0aHJvdyBvfSksamgoZSxpLHIpfWZ1bmN0aW9uIE1oKHQpe2lmKCF0Lml8fCF0LlIpe2lmKHQuaSYmIXQuUil0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpO3Rocm93IG5ldyBUKFwiYXV0aC1kb21haW4tY29uZmlnLXJlcXVpcmVkXCIpfX1mdW5jdGlvbiBqaChuLHQsZSl7dmFyIGkscj0odD10LGU9ZSwoaT1uKS5oJiYhZT8odC5jYW5jZWwoKSx3ZShpLmgpKTp0Lm8oZnVuY3Rpb24odCl7dGhyb3chdHx8XCJhdXRoL3VzZXItZGlzYWJsZWRcIiE9dC5jb2RlJiZcImF1dGgvdXNlci10b2tlbi1leHBpcmVkXCIhPXQuY29kZXx8KGkuaHx8aS5kaXNwYXRjaEV2ZW50KG5ldyBRYyhcInVzZXJJbnZhbGlkYXRlZFwiKSksaS5oPXQpLHR9KSk7cmV0dXJuIG4uSi5wdXNoKHIpLHIub2EoZnVuY3Rpb24oKXtHKG4uSixyKX0pLHIubyhmdW5jdGlvbih0KXt2YXIgZT1udWxsO3Rocm93KGU9dCYmXCJhdXRoL211bHRpLWZhY3Rvci1hdXRoLXJlcXVpcmVkXCI9PT10LmNvZGU/WWModC53KCksdmgobiksYihuLmpjLG4pKTplKXx8dH0pfWZ1bmN0aW9uIFVoKHQpe2lmKCF0LmFwaUtleSlyZXR1cm4gbnVsbDt2YXIgZT17YXBpS2V5OnQuYXBpS2V5LGF1dGhEb21haW46dC5hdXRoRG9tYWluLGFwcE5hbWU6dC5hcHBOYW1lLGVtdWxhdG9yQ29uZmlnOnQuZW11bGF0b3JDb25maWd9LG49e307aWYoIXQuc3RzVG9rZW5NYW5hZ2VyfHwhdC5zdHNUb2tlbk1hbmFnZXIuYWNjZXNzVG9rZW4pcmV0dXJuIG51bGw7bltIYV09dC5zdHNUb2tlbk1hbmFnZXIuYWNjZXNzVG9rZW4sbi5yZWZyZXNoVG9rZW49dC5zdHNUb2tlbk1hbmFnZXIucmVmcmVzaFRva2VufHxudWxsO3ZhciBpPXQuc3RzVG9rZW5NYW5hZ2VyLmV4cGlyYXRpb25UaW1lO2kmJihuLmV4cGlyZXNJbj0oaS1EYXRlLm5vdygpKS8xZTMpO3ZhciByPW5ldyBoaChlLG4sdCk7cmV0dXJuIHQucHJvdmlkZXJEYXRhJiZWKHQucHJvdmlkZXJEYXRhLGZ1bmN0aW9uKHQpe3QmJmtoKHIscWkodCkpfSksdC5yZWRpcmVjdEV2ZW50SWQmJihyLmdhPXQucmVkaXJlY3RFdmVudElkKSxyfWZ1bmN0aW9uIFZoKHQpe3RoaXMuYT10LHRoaXMuYj1CdSgpfUJjLnByb3RvdHlwZS5SYz1mdW5jdGlvbih0KXt2YXIgbj10aGlzO3JldHVybiB0LnNiKHRoaXMuYS5hLHRoaXMuYykudGhlbihmdW5jdGlvbih0KXt2YXIgZT1jdChuLmYpO3JldHVybiBkZWxldGUgZVtXY10sZGVsZXRlIGVbWGNdLGx0KGUsdCksbi5nKGUpfSl9LHcoSmMsVCksemMucHJvdG90eXBlLnNiPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZS50eXBlPT16cj8obz10aGlzLGE9dCxzPW4sZS5IYSgpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQ9e2lkVG9rZW46dH0sdm9pZCAwIT09cyYmKHQuZGlzcGxheU5hbWU9cyksbHQodCx7cGhvbmVWZXJpZmljYXRpb25JbmZvOmtvKG8uYSl9KSxYcyhhLFRzLHQpfSkpOihpPXRoaXMscj10LGUuSGEoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBsdCh0PXttZmFQZW5kaW5nQ3JlZGVudGlhbDp0fSx7cGhvbmVWZXJpZmljYXRpb25JbmZvOmtvKGkuYSl9KSxYcyhyLEVzLHQpfSkpO3ZhciBpLHIsbyxhLHN9LHcoJGMsemMpLHcoWmMsJGMpLHcoUWMsRmUpLCh0PXRoLnByb3RvdHlwZSkueWM9ZnVuY3Rpb24odCl7dmFyIGU7ZWgodGhpcywodD10LmhkLGU9W10sVih0Lm1mYUluZm98fFtdLGZ1bmN0aW9uKHQpeyh0PUdpKHQpKSYmZS5wdXNoKHQpfSksZSkpfSx0LlJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5JKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFlyKHQsbnVsbCl9KX0sdC5mYz1mdW5jdGlvbihlLG4pe3ZhciBpPXRoaXMscj10aGlzLmEuYTtyZXR1cm4gdGhpcy5SYigpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuc2Iocix0LG4pfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gQ2goaS5hLHQpLGkuYS5yZWxvYWQoKX0pfSx0LmJkPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMsaT1cInN0cmluZ1wiPT10eXBlb2YgdD90OnQudWlkLGU9dGhpcy5hLmE7cmV0dXJuIHRoaXMuYS5JKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gWHMoZSxXcyx7aWRUb2tlbjp0LG1mYUVucm9sbG1lbnRJZDppfSl9KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBlPUYobi5iLGZ1bmN0aW9uKHQpe3JldHVybiB0LnVpZCE9aX0pO3JldHVybiBlaChuLGUpLENoKG4uYSx0KSxuLmEucmVsb2FkKCkubyhmdW5jdGlvbih0KXtpZihcImF1dGgvdXNlci10b2tlbi1leHBpcmVkXCIhPXQuY29kZSl0aHJvdyB0fSl9KX0sdC53PWZ1bmN0aW9uKCl7cmV0dXJue211bHRpRmFjdG9yOntlbnJvbGxlZEZhY3RvcnM6cSh0aGlzLmIsZnVuY3Rpb24odCl7cmV0dXJuIHQudygpfSl9fX0sbmgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5hPXRoaXMuYyxmdW5jdGlvbiBlKG4sdCl7bi5zdG9wKCk7bi5iPW1uKGloKG4sdCkpLnRoZW4oRGkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbi5oKCl9KS50aGVuKGZ1bmN0aW9uKCl7ZShuLCEwKX0pLm8oZnVuY3Rpb24odCl7bi5pKHQpJiZlKG4sITEpfSl9KHRoaXMsITApfSxuaC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuYiYmKHRoaXMuYi5jYW5jZWwoKSx0aGlzLmI9bnVsbCl9LHJoLnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7cmV0dXJue2FwaUtleTp0aGlzLmYuYyxyZWZyZXNoVG9rZW46dGhpcy5hLGFjY2Vzc1Rva2VuOnRoaXMuYiYmdGhpcy5iLnRvU3RyaW5nKCksZXhwaXJhdGlvblRpbWU6dGhpcy5jfX0scmgucHJvdG90eXBlLmdldFRva2VuPWZ1bmN0aW9uKHQpe3JldHVybiB0PSEhdCx0aGlzLmImJiF0aGlzLmE/d2UobmV3IFQoXCJ1c2VyLXRva2VuLWV4cGlyZWRcIikpOnR8fCF0aGlzLmJ8fERhdGUubm93KCk+dGhpcy5jLTNlND90aGlzLmE/c2godGhpcyx7Z3JhbnRfdHlwZTpcInJlZnJlc2hfdG9rZW5cIixyZWZyZXNoX3Rva2VuOnRoaXMuYX0pOnllKG51bGwpOnllKHthY2Nlc3NUb2tlbjp0aGlzLmIudG9TdHJpbmcoKSxyZWZyZXNoVG9rZW46dGhpcy5hfSl9LHVoLnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7cmV0dXJue2xhc3RMb2dpbkF0OnRoaXMuYixjcmVhdGVkQXQ6dGhpcy5hfX0sdyhoaCxsbiksaGgucHJvdG90eXBlLndhPWZ1bmN0aW9uKHQpe3RoaXMueWE9dCxYYSh0aGlzLmEsdCl9LGhoLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnlhfSxoaC5wcm90b3R5cGUuR2E9ZnVuY3Rpb24oKXtyZXR1cm4gWCh0aGlzLiQpfSxoaC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oKXt0aGlzLnUuYiYmKHRoaXMudS5zdG9wKCksdGhpcy51LnN0YXJ0KCkpfSxWaShoaC5wcm90b3R5cGUsXCJwcm92aWRlcklkXCIsXCJmaXJlYmFzZVwiKSwodD1oaC5wcm90b3R5cGUpLnJlbG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIGpoKHRoaXMsRWgodGhpcykudGhlbihmdW5jdGlvbigpe3JldHVybiBPaCh0KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHloKHQpfSkudGhlbihUaCl9KSl9LHQub2M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuSSh0KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgR2ModCl9KX0sdC5JPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGpoKHRoaXMsRWgodGhpcykudGhlbihmdW5jdGlvbigpe3JldHVybiBlLmIuZ2V0VG9rZW4odCl9KS50aGVuKGZ1bmN0aW9uKHQpe2lmKCF0KXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIik7cmV0dXJuIHQuYWNjZXNzVG9rZW4hPWUuemEmJihiaChlLHQuYWNjZXNzVG9rZW4pLGUuZGlzcGF0Y2hFdmVudChuZXcgUWMoXCJ0b2tlbkNoYW5nZWRcIikpKSxOaChlLFwicmVmcmVzaFRva2VuXCIsdC5yZWZyZXNoVG9rZW4pLHQuYWNjZXNzVG9rZW59KSl9LHQuS2M9ZnVuY3Rpb24odCl7aWYoISh0PXQudXNlcnMpfHwhdC5sZW5ndGgpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKTtJaCh0aGlzLHt1aWQ6KHQ9dFswXSkubG9jYWxJZCxkaXNwbGF5TmFtZTp0LmRpc3BsYXlOYW1lLHBob3RvVVJMOnQucGhvdG9VcmwsZW1haWw6dC5lbWFpbCxlbWFpbFZlcmlmaWVkOiEhdC5lbWFpbFZlcmlmaWVkLHBob25lTnVtYmVyOnQucGhvbmVOdW1iZXIsbGFzdExvZ2luQXQ6dC5sYXN0TG9naW5BdCxjcmVhdGVkQXQ6dC5jcmVhdGVkQXQsdGVuYW50SWQ6dC50ZW5hbnRJZH0pO2Zvcih2YXIgZSxuPShlPShlPXQpLnByb3ZpZGVyVXNlckluZm8pJiZlLmxlbmd0aD9xKGUsZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBjaCh0LnJhd0lkLHQucHJvdmlkZXJJZCx0LmVtYWlsLHQuZGlzcGxheU5hbWUsdC5waG90b1VybCx0LnBob25lTnVtYmVyKX0pOltdLGk9MDtpPG4ubGVuZ3RoO2krKylraCh0aGlzLG5baV0pO05oKHRoaXMsXCJpc0Fub255bW91c1wiLCEodGhpcy5lbWFpbCYmdC5wYXNzd29yZEhhc2h8fHRoaXMucHJvdmlkZXJEYXRhJiZ0aGlzLnByb3ZpZGVyRGF0YS5sZW5ndGgpKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFFjKFwidXNlclJlbG9hZGVkXCIse2hkOnR9KSl9LHQuTGM9ZnVuY3Rpb24odCl7cmV0dXJuIGppKFwiZmlyZWJhc2UuVXNlci5wcm90b3R5cGUucmVhdXRoZW50aWNhdGVBbmRSZXRyaWV2ZURhdGFXaXRoQ3JlZGVudGlhbCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGZpcmViYXNlLlVzZXIucHJvdG90eXBlLnJlYXV0aGVudGljYXRlV2l0aENyZWRlbnRpYWwgaW5zdGVhZC5cIiksdGhpcy50Yih0KX0sdC50Yj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49bnVsbDtyZXR1cm4gamgodGhpcyx0LmModGhpcy5hLHRoaXMudWlkKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBDaChlLHQpLG49RGgoZSx0LFwicmVhdXRoZW50aWNhdGVcIiksZS5oPW51bGwsZS5yZWxvYWQoKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbn0pLCEwKX0sdC5DYz1mdW5jdGlvbih0KXtyZXR1cm4gamkoXCJmaXJlYmFzZS5Vc2VyLnByb3RvdHlwZS5saW5rQW5kUmV0cmlldmVEYXRhV2l0aENyZWRlbnRpYWwgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBmaXJlYmFzZS5Vc2VyLnByb3RvdHlwZS5saW5rV2l0aENyZWRlbnRpYWwgaW5zdGVhZC5cIiksdGhpcy5xYih0KX0sdC5xYj1mdW5jdGlvbihlKXt2YXIgbj10aGlzLGk9bnVsbDtyZXR1cm4gamgodGhpcyxSaCh0aGlzLGUucHJvdmlkZXJJZCkudGhlbihmdW5jdGlvbigpe3JldHVybiBuLkkoKX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuYihuLmEsdCl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpPURoKG4sdCxcImxpbmtcIiksUGgobix0KX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaX0pKX0sdC5EYz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGpoKHRoaXMsUmgodGhpcyxcInBob25lXCIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gS2ModmgobiksdCxlLGIobi5xYixuKSl9KSl9LHQuTWM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBqaCh0aGlzLHllKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBLYyh2aChuKSx0LGUsYihuLnRiLG4pKX0pLCEwKX0sdC5CYj1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3JldHVybiBqaCh0aGlzLHRoaXMuSSgpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG4uYS5CYih0LGUpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gQ2gobix0KSxuLnJlbG9hZCgpfSkpfSx0LmVkPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7cmV0dXJuIGpoKHRoaXMsdGhpcy5JKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5iKG4uYSx0KX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIENoKG4sdCksbi5yZWxvYWQoKX0pKX0sdC5DYj1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3JldHVybiBqaCh0aGlzLHRoaXMuSSgpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG4uYS5DYih0LGUpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gQ2gobix0KSxuLnJlbG9hZCgpfSkpfSx0LkRiPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUuZGlzcGxheU5hbWUmJnZvaWQgMD09PWUucGhvdG9VUkwpcmV0dXJuIEVoKHRoaXMpO3ZhciBuPXRoaXM7cmV0dXJuIGpoKHRoaXMsdGhpcy5JKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbi5hLkRiKHQse2Rpc3BsYXlOYW1lOmUuZGlzcGxheU5hbWUscGhvdG9Vcmw6ZS5waG90b1VSTH0pfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gQ2gobix0KSxOaChuLFwiZGlzcGxheU5hbWVcIix0LmRpc3BsYXlOYW1lfHxudWxsKSxOaChuLFwicGhvdG9VUkxcIix0LnBob3RvVXJsfHxudWxsKSxWKG4ucHJvdmlkZXJEYXRhLGZ1bmN0aW9uKHQpe1wicGFzc3dvcmRcIj09PXQucHJvdmlkZXJJZCYmKFZpKHQsXCJkaXNwbGF5TmFtZVwiLG4uZGlzcGxheU5hbWUpLFZpKHQsXCJwaG90b1VSTFwiLG4ucGhvdG9VUkwpKX0pLHloKG4pfSkudGhlbihUaCkpfSx0LmNkPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7cmV0dXJuIGpoKHRoaXMsT2godGhpcykudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gSyhBaChuKSxlKT9YcyhuLmEseXMse2lkVG9rZW46dCxkZWxldGVQcm92aWRlcjpbZV19KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBlPXt9O3JldHVybiBWKHQucHJvdmlkZXJVc2VySW5mb3x8W10sZnVuY3Rpb24odCl7ZVt0LnByb3ZpZGVySWRdPSEwfSksVihBaChuKSxmdW5jdGlvbih0KXtlW3RdfHxTaChuLHQpfSksZVtTby5QUk9WSURFUl9JRF18fFZpKG4sXCJwaG9uZU51bWJlclwiLG51bGwpLHloKG4pfSk6eWgobikudGhlbihmdW5jdGlvbigpe3Rocm93IG5ldyBUKFwibm8tc3VjaC1wcm92aWRlclwiKX0pfSkpfSx0LmRlbGV0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGpoKHRoaXMsdGhpcy5JKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gWHMoZS5hLGJzLHtpZFRva2VuOnR9KX0pLnRoZW4oZnVuY3Rpb24oKXtlLmRpc3BhdGNoRXZlbnQobmV3IFFjKFwidXNlckRlbGV0ZWRcIikpfSkpLnRoZW4oZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PGUuSi5sZW5ndGg7dCsrKWUuSlt0XS5jYW5jZWwoXCJhcHAtZGVsZXRlZFwiKTtsaChlLG51bGwpLGZoKGUsbnVsbCkscGgoZSxudWxsKSxlLko9W10sZS5EPSEwLGdoKGUpLFZpKGUsXCJyZWZyZXNoVG9rZW5cIixudWxsKSxlLmkmJmtjKGUuaSxlKX0pfSx0LkZiPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISEoXCJsaW5rVmlhUG9wdXBcIj09dCYmKHRoaXMuZ3x8bnVsbCk9PWUmJnRoaXMuZnx8XCJyZWF1dGhWaWFQb3B1cFwiPT10JiYodGhpcy5nfHxudWxsKT09ZSYmdGhpcy5mfHxcImxpbmtWaWFSZWRpcmVjdFwiPT10JiYodGhpcy5nYXx8bnVsbCk9PWV8fFwicmVhdXRoVmlhUmVkaXJlY3RcIj09dCYmKHRoaXMuZ2F8fG51bGwpPT1lKX0sdC5uYT1mdW5jdGlvbih0LGUsbixpKXtcImxpbmtWaWFQb3B1cFwiIT10JiZcInJlYXV0aFZpYVBvcHVwXCIhPXR8fGkhPSh0aGlzLmd8fG51bGwpfHwobiYmdGhpcy5DP3RoaXMuQyhuKTplJiYhbiYmdGhpcy5mJiZ0aGlzLmYoZSksdGhpcy5jJiYodGhpcy5jLmNhbmNlbCgpLHRoaXMuYz1udWxsKSxkZWxldGUgdGhpcy5mLGRlbGV0ZSB0aGlzLkMpfSx0LkZhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJsaW5rVmlhUG9wdXBcIj09dCYmZT09KHRoaXMuZ3x8bnVsbCk/Yih0aGlzLktiLHRoaXMpOlwicmVhdXRoVmlhUG9wdXBcIj09dCYmZT09KHRoaXMuZ3x8bnVsbCk/Yih0aGlzLkxiLHRoaXMpOlwibGlua1ZpYVJlZGlyZWN0XCI9PXQmJih0aGlzLmdhfHxudWxsKT09ZT9iKHRoaXMuS2IsdGhpcyk6XCJyZWF1dGhWaWFSZWRpcmVjdFwiPT10JiYodGhpcy5nYXx8bnVsbCk9PWU/Yih0aGlzLkxiLHRoaXMpOm51bGx9LHQuRWM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gTGgodGhpcyxcImxpbmtWaWFQb3B1cFwiLHQsZnVuY3Rpb24oKXtyZXR1cm4gUmgoZSx0LnByb3ZpZGVySWQpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4geWgoZSl9KX0sITEpfSx0Lk5jPWZ1bmN0aW9uKHQpe3JldHVybiBMaCh0aGlzLFwicmVhdXRoVmlhUG9wdXBcIix0LGZ1bmN0aW9uKCl7cmV0dXJuIHllKCl9LCEwKX0sdC5GYz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB4aCh0aGlzLFwibGlua1ZpYVJlZGlyZWN0XCIsdCxmdW5jdGlvbigpe3JldHVybiBSaChlLHQucHJvdmlkZXJJZCl9LCExKX0sdC5PYz1mdW5jdGlvbih0KXtyZXR1cm4geGgodGhpcyxcInJlYXV0aFZpYVJlZGlyZWN0XCIsdCxmdW5jdGlvbigpe3JldHVybiB5ZSgpfSwhMCl9LHQuS2I9ZnVuY3Rpb24oZSxuLHQsaSl7dmFyIHI9dGhpczt0aGlzLmMmJih0aGlzLmMuY2FuY2VsKCksdGhpcy5jPW51bGwpO3ZhciBvPW51bGw7cmV0dXJuIHQ9dGhpcy5JKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbHMoci5hLHtyZXF1ZXN0VXJpOmUscG9zdEJvZHk6aSxzZXNzaW9uSWQ6bixpZFRva2VuOnR9KX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG89RGgocix0LFwibGlua1wiKSxQaChyLHQpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBvfSksamgodGhpcyx0KX0sdC5MYj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzO3RoaXMuYyYmKHRoaXMuYy5jYW5jZWwoKSx0aGlzLmM9bnVsbCk7dmFyIG89bnVsbDtyZXR1cm4gamgodGhpcyx5ZSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUXIoZnMoci5hLHtyZXF1ZXN0VXJpOnQsc2Vzc2lvbklkOmUscG9zdEJvZHk6aSx0ZW5hbnRJZDpufSksci51aWQpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbz1EaChyLHQsXCJyZWF1dGhlbnRpY2F0ZVwiKSxDaChyLHQpLHIuaD1udWxsLHIucmVsb2FkKCl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSwhMCl9LHQudWI9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcyxpPW51bGw7cmV0dXJuIGpoKHRoaXMsdGhpcy5JKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaT10LHZvaWQgMD09PWV8fHV0KGUpP3t9Ok9yKG5ldyB5cihlKSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuLmEudWIoaSx0KX0pLnRoZW4oZnVuY3Rpb24odCl7aWYobi5lbWFpbCE9dClyZXR1cm4gbi5yZWxvYWQoKX0pLnRoZW4oZnVuY3Rpb24oKXt9KSl9LHQuRWI9ZnVuY3Rpb24oZSxuKXt2YXIgaT10aGlzLHI9bnVsbDtyZXR1cm4gamgodGhpcyx0aGlzLkkoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiByPXQsdm9pZCAwPT09bnx8dXQobik/e306T3IobmV3IHlyKG4pKX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGkuYS5FYihyLGUsdCl9KS50aGVuKGZ1bmN0aW9uKHQpe2lmKGkuZW1haWwhPXQpcmV0dXJuIGkucmVsb2FkKCl9KS50aGVuKGZ1bmN0aW9uKCl7fSkpfSx0LmpjPWZ1bmN0aW9uKHQpe3ZhciBlPW51bGwsbj10aGlzO3JldHVybiBqaCh0aGlzLHQ9UXIoeWUodCksbi51aWQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGU9RGgobix0LFwicmVhdXRoZW50aWNhdGVcIiksQ2gobix0KSxuLmg9bnVsbCxuLnJlbG9hZCgpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBlfSksITApfSx0LnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLncoKX0sdC53PWZ1bmN0aW9uKCl7dmFyIGU9e3VpZDp0aGlzLnVpZCxkaXNwbGF5TmFtZTp0aGlzLmRpc3BsYXlOYW1lLHBob3RvVVJMOnRoaXMucGhvdG9VUkwsZW1haWw6dGhpcy5lbWFpbCxlbWFpbFZlcmlmaWVkOnRoaXMuZW1haWxWZXJpZmllZCxwaG9uZU51bWJlcjp0aGlzLnBob25lTnVtYmVyLGlzQW5vbnltb3VzOnRoaXMuaXNBbm9ueW1vdXMsdGVuYW50SWQ6dGhpcy50ZW5hbnRJZCxwcm92aWRlckRhdGE6W10sYXBpS2V5OnRoaXMubCxhcHBOYW1lOnRoaXMubSxhdXRoRG9tYWluOnRoaXMucyxzdHNUb2tlbk1hbmFnZXI6dGhpcy5iLncoKSxyZWRpcmVjdEV2ZW50SWQ6dGhpcy5nYXx8bnVsbH07cmV0dXJuIHRoaXMubWV0YWRhdGEmJmx0KGUsdGhpcy5tZXRhZGF0YS53KCkpLFYodGhpcy5wcm92aWRlckRhdGEsZnVuY3Rpb24odCl7ZS5wcm92aWRlckRhdGEucHVzaChmdW5jdGlvbih0KXt2YXIgZSxuPXt9O2ZvcihlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmKG5bZV09dFtlXSk7cmV0dXJuIG59KHQpKX0pLGx0KGUsdGhpcy5PLncoKSksZX07dmFyIEZoPXtuYW1lOlwicmVkaXJlY3RVc2VyXCIsRjpcInNlc3Npb25cIn07ZnVuY3Rpb24gcWgodCl7cmV0dXJuIEp1KHQuYixGaCx0LmEpfWZ1bmN0aW9uIEhoKHQpe3ZhciBlLG4saSxyO3RoaXMuYT10LHRoaXMuYj1CdSgpLHRoaXMuYz1udWxsLHRoaXMuZj0obj1CaChcImxvY2FsXCIpLGk9QmgoXCJzZXNzaW9uXCIpLHI9QmgoXCJub25lXCIpLGZ1bmN0aW9uKG4saSxyKXt2YXIgbz1YdShpLHIpLGE9V3UobixpLkYpO3JldHVybiBuLmdldChpLHIpLnRoZW4oZnVuY3Rpb24odCl7dmFyIGU9bnVsbDt0cnl7ZT1TaShsLmxvY2FsU3RvcmFnZS5nZXRJdGVtKG8pKX1jYXRjaCh0KXt9aWYoZSYmIXQpcmV0dXJuIGwubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obyksbi5zZXQoaSxlLHIpO2UmJnQmJlwibG9jYWxTdG9yYWdlXCIhPWEudHlwZSYmbC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShvKX0pfSgoZT10aGlzKS5iLG4sZS5hKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuYi5nZXQoaSxlLmEpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdD9pOmUuYi5nZXQocixlLmEpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQ/cjplLmIuZ2V0KG4sZS5hKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0P246ZS5iLmdldChHaCxlLmEpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQ/QmgodCk6bn0pfSl9KX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuYz10LEtoKGUsdC5GKX0pLm8oZnVuY3Rpb24oKXtlLmN8fChlLmM9bil9KSksdGhpcy5iLmFkZExpc3RlbmVyKEJoKFwibG9jYWxcIiksdGhpcy5hLGIodGhpcy5nLHRoaXMpKX1mdW5jdGlvbiBLaCh0LGUpe3ZhciBuLHMsaT1bXTtmb3IobiBpbiBLdSlLdVtuXSE9PWUmJmkucHVzaChKdSh0LmIsQmgoS3Vbbl0pLHQuYSkpO3JldHVybiBpLnB1c2goSnUodC5iLEdoLHQuYSkpLHM9aSxuZXcgZmUoZnVuY3Rpb24obixlKXt2YXIgaT1zLmxlbmd0aCxyPVtdO2lmKGkpZm9yKHZhciB0PWZ1bmN0aW9uKHQsZSl7aS0tLHJbdF09ZSwwPT1pJiZuKHIpfSxvPWZ1bmN0aW9uKHQpe2UodCl9LGE9MDthPHMubGVuZ3RoO2ErKylJZShzW2FdLHkodCxhKSxvKTtlbHNlIG4ocil9KX1IaC5wcm90b3R5cGUuZz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsbj1CaChcImxvY2FsXCIpO1loKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4geWUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuYyYmXCJsb2NhbFwiIT1lLmMuRj9lLmIuZ2V0KG4sZS5hKTpudWxsfSkudGhlbihmdW5jdGlvbih0KXtpZih0KXJldHVybiBLaChlLFwibG9jYWxcIikudGhlbihmdW5jdGlvbigpe2UuYz1ufSl9KX0pfTt2YXIgR2g9e25hbWU6XCJwZXJzaXN0ZW5jZVwiLEY6XCJzZXNzaW9uXCJ9O2Z1bmN0aW9uIEJoKHQpe3JldHVybntuYW1lOlwiYXV0aFVzZXJcIixGOnR9fWZ1bmN0aW9uIFdoKHQsZSl7cmV0dXJuIFloKHQsZnVuY3Rpb24oKXtyZXR1cm4gdC5iLnNldCh0LmMsZS53KCksdC5hKX0pfWZ1bmN0aW9uIFhoKHQpe3JldHVybiBZaCh0LGZ1bmN0aW9uKCl7cmV0dXJuIEp1KHQuYix0LmMsdC5hKX0pfWZ1bmN0aW9uIEpoKHQsZSxuKXtyZXR1cm4gWWgodCxmdW5jdGlvbigpe3JldHVybiB0LmIuZ2V0KHQuYyx0LmEpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQmJmUmJih0LmF1dGhEb21haW49ZSksdCYmbiYmKHQuZW11bGF0b3JDb25maWc9biksVWgodHx8e30pfSl9KX1mdW5jdGlvbiBZaCh0LGUpe3JldHVybiB0LmY9dC5mLnRoZW4oZSxlKSx0LmZ9ZnVuY3Rpb24gemgodCl7aWYodGhpcy5sPSExLFZpKHRoaXMsXCJzZXR0aW5nc1wiLG5ldyBxYyksVmkodGhpcyxcImFwcFwiLHQpLCF0aGlzLmFwcC5vcHRpb25zfHwhdGhpcy5hcHAub3B0aW9ucy5hcGlLZXkpdGhyb3cgbmV3IFQoXCJpbnZhbGlkLWFwaS1rZXlcIik7dmFyIG4sZSxpLHIsbyxhO3Q9emwuZGVmYXVsdC5TREtfVkVSU0lPTj9taSh6bC5kZWZhdWx0LlNES19WRVJTSU9OKTpudWxsLHRoaXMuYT1uZXcgRmEodGhpcy5hcHAub3B0aW9ucyYmdGhpcy5hcHAub3B0aW9ucy5hcGlLZXksXyhBKSx0KSx0aGlzLlI9W10sdGhpcy5zPVtdLHRoaXMuTz1bXSx0aGlzLmhiPXpsLmRlZmF1bHQuSU5URVJOQUwuY3JlYXRlU3Vic2NyaWJlKGIodGhpcy56Yyx0aGlzKSksdGhpcy5YPXZvaWQgMCx0aGlzLmJjPXpsLmRlZmF1bHQuSU5URVJOQUwuY3JlYXRlU3Vic2NyaWJlKGIodGhpcy5BYyx0aGlzKSksaWwodGhpcyxudWxsKSx0aGlzLmk9bmV3IEhoKHRoaXMuYXBwLm9wdGlvbnMuYXBpS2V5K1wiOlwiK3RoaXMuYXBwLm5hbWUpLHRoaXMuRD1uZXcgVmgodGhpcy5hcHAub3B0aW9ucy5hcGlLZXkrXCI6XCIrdGhpcy5hcHAubmFtZSksdGhpcy4kPXVsKHRoaXMsKGU9KG49dGhpcykuYXBwLm9wdGlvbnMuYXV0aERvbWFpbix0PWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuYi5nZXQoRmgsdC5hKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZlJiYodC5hdXRoRG9tYWluPWUpLFVoKHR8fHt9KX0pfShlLkQsZS5hcHAub3B0aW9ucy5hdXRoRG9tYWluKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybihlLm09dCkmJih0LmhhPWUuRCkscWgoZS5EKX0pO3JldHVybiB1bChlLHQpfShuKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIEpoKG4uaSxlLG4uUCl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlPyhlLmhhPW4uRCxuLm0mJihuLm0uZ2F8fG51bGwpPT0oZS5nYXx8bnVsbCk/ZTplLnJlbG9hZCgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gV2gobi5pLGUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZX0pfSkubyhmdW5jdGlvbih0KXtyZXR1cm5cImF1dGgvbmV0d29yay1yZXF1ZXN0LWZhaWxlZFwiPT10LmNvZGU/ZTpYaChuLmkpfSkpOm51bGx9KS50aGVuKGZ1bmN0aW9uKHQpe2lsKG4sdHx8bnVsbCl9KSx1bChuLHQpKSksdGhpcy5oPXVsKHRoaXMsKGk9dGhpcykuJC50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGVsKGkpfSkubyhmdW5jdGlvbigpe30pLnRoZW4oZnVuY3Rpb24oKXtpZighaS5sKXJldHVybiBpLmphKCl9KS5vKGZ1bmN0aW9uKCl7fSkudGhlbihmdW5jdGlvbigpe3ZhciB0O2kubHx8KGkuYmE9ITAsKHQ9aS5pKS5iLmFkZExpc3RlbmVyKEJoKFwibG9jYWxcIiksdC5hLGkuamEpKX0pKSx0aGlzLmJhPSExLHRoaXMuamE9Yih0aGlzLlpjLHRoaXMpLHRoaXMuQmE9Yih0aGlzLmRhLHRoaXMpLHRoaXMueWE9Yih0aGlzLm1jLHRoaXMpLHRoaXMuemE9Yih0aGlzLndjLHRoaXMpLHRoaXMuQWE9Yih0aGlzLnhjLHRoaXMpLHRoaXMuYj1udWxsLG89KHI9dGhpcykuYXBwLm9wdGlvbnMuYXV0aERvbWFpbixhPXIuYXBwLm9wdGlvbnMuYXBpS2V5LG8mJndpKCkmJihyLk9hPXIuJC50aGVuKGZ1bmN0aW9uKCl7dmFyIHQ7aWYoIXIubClyZXR1cm4gci5iPUxjKG8sYSxyLmFwcC5uYW1lLHIuUCksQWMoci5iLHIpLG9sKHIpJiZ3aChvbChyKSksci5tJiYod2goci5tKSwodD1yLm0pLndhKHIubGEoKSksbGgodCxyKSxkaCh0PXIubSxyLkopLHBoKHQsciksSmEoKHQ9ci5tKS5hLHIuUCksZmgodCxyKSxyLm09bnVsbCksci5ifSkpLHRoaXMuSU5URVJOQUw9e30sdGhpcy5JTlRFUk5BTC5kZWxldGU9Yih0aGlzLmRlbGV0ZSx0aGlzKSx0aGlzLklOVEVSTkFMLmxvZ0ZyYW1ld29yaz1iKHRoaXMuR2MsdGhpcyksdGhpcy51PTAsbG4uY2FsbCh0aGlzKSx0PXRoaXMsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJsY1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYSgpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy53YSh0KX0sZW51bWVyYWJsZTohMX0pLHQuYWE9bnVsbCxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInRpXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLlQoKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMueWIodCl9LGVudW1lcmFibGU6ITF9KSx0LlM9bnVsbCxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImVtdWxhdG9yQ29uZmlnXCIse2dldDpmdW5jdGlvbigpe3ZhciB0O3JldHVybiB0PXRoaXMuUD9xaSh7cHJvdG9jb2w6KHQ9T24odGhpcy5QLnVybCkpLmMsaG9zdDp0LmEscG9ydDp0Lmcsb3B0aW9uczpxaSh7ZGlzYWJsZVdhcm5pbmdzOnRoaXMuUC5lY30pfSk6bnVsbH0sZW51bWVyYWJsZTohMX0pLHRoaXMuSj1bXSx0aGlzLlA9bnVsbH1mdW5jdGlvbiAkaCh0KXtGZS5jYWxsKHRoaXMsXCJsYW5ndWFnZUNvZGVDaGFuZ2VkXCIpLHRoaXMuaD10fWZ1bmN0aW9uIFpoKHQpe0ZlLmNhbGwodGhpcyxcImVtdWxhdG9yQ29uZmlnQ2hhbmdlZFwiKSx0aGlzLmM9dH1mdW5jdGlvbiBRaCh0KXtGZS5jYWxsKHRoaXMsXCJmcmFtZXdvcmtDaGFuZ2VkXCIpLHRoaXMuZj10fWZ1bmN0aW9uIHRsKHQpe3JldHVybiB0Lk9hfHx3ZShuZXcgVChcImF1dGgtZG9tYWluLWNvbmZpZy1yZXF1aXJlZFwiKSl9ZnVuY3Rpb24gZWwodCl7aWYoIXdpKCkpcmV0dXJuIHdlKG5ldyBUKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7dmFyIGU9dGwodCkudGhlbihmdW5jdGlvbigpe3JldHVybiB0LmIucWEoKX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQ/cWkodCk6bnVsbH0pO3JldHVybiB1bCh0LGUpfWZ1bmN0aW9uIG5sKG8sYSl7dmFyIHM9e307cmV0dXJuIHMuYXBpS2V5PW8uYXBwLm9wdGlvbnMuYXBpS2V5LHMuYXV0aERvbWFpbj1vLmFwcC5vcHRpb25zLmF1dGhEb21haW4scy5hcHBOYW1lPW8uYXBwLm5hbWUsby5QJiYocy5lbXVsYXRvckNvbmZpZz1vLlApLG8uJC50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQ9cyxlPWEsbj1vLkQsaT1vLkdhKCkscj1uZXcgaGgodCxlKSxuJiYoci5oYT1uKSxpJiZkaChyLGkpLHIucmVsb2FkKCkudGhlbihmdW5jdGlvbigpe3JldHVybiByfSk7dmFyIHQsZSxuLGkscn0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG9sKG8pJiZ0LnVpZD09b2wobykudWlkP19oKG9sKG8pLHQpOihpbChvLHQpLHdoKHQpKSxvLmRhKHQpfSkudGhlbihmdW5jdGlvbigpe3NsKG8pfSl9ZnVuY3Rpb24gaWwodCxlKXt2YXIgbixpO29sKHQpJiYobj1vbCh0KSxpPXQuQmEsQihuLlMsZnVuY3Rpb24odCl7cmV0dXJuIHQ9PWl9KSxlbihvbCh0KSxcInRva2VuQ2hhbmdlZFwiLHQueWEpLGVuKG9sKHQpLFwidXNlckRlbGV0ZWRcIix0LnphKSxlbihvbCh0KSxcInVzZXJJbnZhbGlkYXRlZFwiLHQuQWEpLGdoKG9sKHQpKSksZSYmKGUuUy5wdXNoKHQuQmEpLFplKGUsXCJ0b2tlbkNoYW5nZWRcIix0LnlhKSxaZShlLFwidXNlckRlbGV0ZWRcIix0LnphKSxaZShlLFwidXNlckludmFsaWRhdGVkXCIsdC5BYSksMDx0LnUmJm1oKGUpKSxWaSh0LFwiY3VycmVudFVzZXJcIixlKSxlJiYoZS53YSh0LmxhKCkpLGxoKGUsdCksZGgoZSx0LkopLHBoKGUsdCksSmEoZS5hLHQuUCksZmgoZSx0KSl9ZnVuY3Rpb24gcmwobix0KXt2YXIgZT1udWxsLGk9bnVsbDtyZXR1cm4gdWwobix0LnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGU9X28odCksaT1Wcih0KSxubChuLHQpfSxmdW5jdGlvbih0KXt2YXIgZT1udWxsO3Rocm93KGU9dCYmXCJhdXRoL211bHRpLWZhY3Rvci1hdXRoLXJlcXVpcmVkXCI9PT10LmNvZGU/WWModC53KCksbixiKG4ua2MsbikpOmUpfHx0fSkudGhlbihmdW5jdGlvbigpe3JldHVybiBxaSh7dXNlcjpvbChuKSxjcmVkZW50aWFsOmUsYWRkaXRpb25hbFVzZXJJbmZvOmksb3BlcmF0aW9uVHlwZTpcInNpZ25JblwifSl9KSl9ZnVuY3Rpb24gb2wodCl7cmV0dXJuIHQuY3VycmVudFVzZXJ9ZnVuY3Rpb24gYWwodCl7cmV0dXJuIG9sKHQpJiZvbCh0KS5fbGF0fHxudWxsfWZ1bmN0aW9uIHNsKHQpe2lmKHQuYmEpe2Zvcih2YXIgZT0wO2U8dC5zLmxlbmd0aDtlKyspdC5zW2VdJiZ0LnNbZV0oYWwodCkpO2lmKHQuWCE9PXQuZ2V0VWlkKCkmJnQuTy5sZW5ndGgpZm9yKHQuWD10LmdldFVpZCgpLGU9MDtlPHQuTy5sZW5ndGg7ZSsrKXQuT1tlXSYmdC5PW2VdKGFsKHQpKX19ZnVuY3Rpb24gdWwodCxlKXtyZXR1cm4gdC5SLnB1c2goZSksZS5vYShmdW5jdGlvbigpe0codC5SLGUpfSksZX1mdW5jdGlvbiBjbCgpe31mdW5jdGlvbiBobCgpe3RoaXMuYT17fSx0aGlzLmI9MWUxMn1IaC5wcm90b3R5cGUueGI9ZnVuY3Rpb24oZSl7dmFyIG49bnVsbCxpPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBUKFwiaW52YWxpZC1wZXJzaXN0ZW5jZS10eXBlXCIpLG49bmV3IFQoXCJ1bnN1cHBvcnRlZC1wZXJzaXN0ZW5jZS10eXBlXCIpO3Q6e2ZvcihpIGluIEt1KWlmKEt1W2ldPT10KXt2YXIgaT0hMDticmVhayB0fWk9ITF9aWYoIWl8fFwic3RyaW5nXCIhPXR5cGVvZiB0KXRocm93IGU7c3dpdGNoKGhpKCkpe2Nhc2VcIlJlYWN0TmF0aXZlXCI6aWYoXCJzZXNzaW9uXCI9PT10KXRocm93IG47YnJlYWs7Y2FzZVwiTm9kZVwiOmlmKFwibm9uZVwiIT09dCl0aHJvdyBuO2JyZWFrO2Nhc2VcIldvcmtlclwiOmlmKFwic2Vzc2lvblwiPT09dHx8IVR1KCkmJlwibm9uZVwiIT09dCl0aHJvdyBuO2JyZWFrO2RlZmF1bHQ6aWYoIXlpKCkmJlwibm9uZVwiIT09dCl0aHJvdyBufX0oZSksWWgodGhpcyxmdW5jdGlvbigpe3JldHVybiBlIT1pLmMuRj9pLmIuZ2V0KGkuYyxpLmEpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG49dCxLaChpLGUpfSkudGhlbihmdW5jdGlvbigpe2lmKGkuYz1CaChlKSxuKXJldHVybiBpLmIuc2V0KGkuYyxuLGkuYSl9KTp5ZSgpfSl9LHcoemgsbG4pLHcoJGgsRmUpLHcoWmgsRmUpLHcoUWgsRmUpLCh0PXpoLnByb3RvdHlwZSkueGI9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5pLnhiKHQpLHVsKHRoaXMsdCl9LHQud2E9ZnVuY3Rpb24odCl7dGhpcy5hYT09PXR8fHRoaXMubHx8KHRoaXMuYWE9dCxYYSh0aGlzLmEsdGhpcy5hYSksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyAkaCh0aGlzLmxhKCkpKSl9LHQubGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hYX0sdC5mZD1mdW5jdGlvbigpe3ZhciB0PWwubmF2aWdhdG9yO3RoaXMud2EodCYmKHQubGFuZ3VhZ2VzJiZ0Lmxhbmd1YWdlc1swXXx8dC5sYW5ndWFnZXx8dC51c2VyTGFuZ3VhZ2UpfHxudWxsKX0sdC5nZD1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLlApe2lmKCEvXmh0dHBzPzpcXC9cXC8vLnRlc3QodCkpdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLFwiRW11bGF0b3IgVVJMIG11c3Qgc3RhcnQgd2l0aCBhIHZhbGlkIHNjaGVtZSAoaHR0cDovLyBvciBodHRwczovLykuXCIpO2U9ISFlJiYhIWUuZGlzYWJsZVdhcm5pbmdzLG49ZSxcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgY29uc29sZS5pbmZvJiZjb25zb2xlLmluZm8oXCJXQVJOSU5HOiBZb3UgYXJlIHVzaW5nIHRoZSBBdXRoIEVtdWxhdG9yLCB3aGljaCBpcyBpbnRlbmRlZCBmb3IgbG9jYWwgdGVzdGluZyBvbmx5LiAgRG8gbm90IHVzZSB3aXRoIHByb2R1Y3Rpb24gY3JlZGVudGlhbHMuXCIpLGwuZG9jdW1lbnQmJiFuJiZhaSgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgdD1sLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5pbm5lclRleHQ9XCJSdW5uaW5nIGluIGVtdWxhdG9yIG1vZGUuIERvIG5vdCB1c2Ugd2l0aCBwcm9kdWN0aW9uIGNyZWRlbnRpYWxzLlwiLHQuc3R5bGUucG9zaXRpb249XCJmaXhlZFwiLHQuc3R5bGUud2lkdGg9XCIxMDAlXCIsdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCIjZmZmZmZmXCIsdC5zdHlsZS5ib3JkZXI9XCIuMWVtIHNvbGlkICMwMDAwMDBcIix0LnN0eWxlLmNvbG9yPVwiI2ZmMDAwMFwiLHQuc3R5bGUuYm90dG9tPVwiMHB4XCIsdC5zdHlsZS5sZWZ0PVwiMHB4XCIsdC5zdHlsZS5tYXJnaW49XCIwcHhcIix0LnN0eWxlLnpJbmRleD0xZTQsdC5zdHlsZS50ZXh0QWxpZ249XCJjZW50ZXJcIix0LmNsYXNzTGlzdC5hZGQoXCJmaXJlYmFzZS1lbXVsYXRvci13YXJuaW5nXCIpLGwuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KX0pLHRoaXMuUD17dXJsOnQsZWM6ZX0sdGhpcy5zZXR0aW5ncy5pYj0hMCxKYSh0aGlzLmEsdGhpcy5QKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFpoKHRoaXMuUCkpfXZhciBufSx0LkdjPWZ1bmN0aW9uKHQpe3RoaXMuSi5wdXNoKHQpLHphKHRoaXMuYSx6bC5kZWZhdWx0LlNES19WRVJTSU9OP21pKHpsLmRlZmF1bHQuU0RLX1ZFUlNJT04sdGhpcy5KKTpudWxsKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFFoKHRoaXMuSikpfSx0LkdhPWZ1bmN0aW9uKCl7cmV0dXJuIFgodGhpcy5KKX0sdC55Yj1mdW5jdGlvbih0KXt0aGlzLlM9PT10fHx0aGlzLmx8fCh0aGlzLlM9dCx0aGlzLmEuYj10aGlzLlMpfSx0LlQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5TfSx0LnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnthcGlLZXk6dGhpcy5hcHAub3B0aW9ucy5hcGlLZXksYXV0aERvbWFpbjp0aGlzLmFwcC5vcHRpb25zLmF1dGhEb21haW4sYXBwTmFtZTp0aGlzLmFwcC5uYW1lLGN1cnJlbnRVc2VyOm9sKHRoaXMpJiZvbCh0aGlzKS53KCl9fSx0LkZiPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQpe2Nhc2VcInVua25vd25cIjpjYXNlXCJzaWduSW5WaWFSZWRpcmVjdFwiOnJldHVybiEwO2Nhc2VcInNpZ25JblZpYVBvcHVwXCI6cmV0dXJuIHRoaXMuZz09ZSYmISF0aGlzLmY7ZGVmYXVsdDpyZXR1cm4hMX19LHQubmE9ZnVuY3Rpb24odCxlLG4saSl7XCJzaWduSW5WaWFQb3B1cFwiPT10JiZ0aGlzLmc9PWkmJihuJiZ0aGlzLkM/dGhpcy5DKG4pOmUmJiFuJiZ0aGlzLmYmJnRoaXMuZihlKSx0aGlzLmMmJih0aGlzLmMuY2FuY2VsKCksdGhpcy5jPW51bGwpLGRlbGV0ZSB0aGlzLmYsZGVsZXRlIHRoaXMuQyl9LHQuRmE9ZnVuY3Rpb24odCxlKXtyZXR1cm5cInNpZ25JblZpYVJlZGlyZWN0XCI9PXR8fFwic2lnbkluVmlhUG9wdXBcIj09dCYmdGhpcy5nPT1lJiZ0aGlzLmY/Yih0aGlzLmljLHRoaXMpOm51bGx9LHQuaWM9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcyxvPXtyZXF1ZXN0VXJpOnQscG9zdEJvZHk6aSxzZXNzaW9uSWQ6ZSx0ZW5hbnRJZDpufTtyZXR1cm4gdGhpcy5jJiYodGhpcy5jLmNhbmNlbCgpLHRoaXMuYz1udWxsKSxyLiQudGhlbihmdW5jdGlvbigpe3JldHVybiBybChyLGhzKHIuYSxvKSl9KX0sdC5YYz1mdW5jdGlvbihlKXtpZighd2koKSlyZXR1cm4gd2UobmV3IFQoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKTt2YXIgbj10aGlzLHQ9VXIoZS5wcm92aWRlcklkKSxpPU5pKCkscj1udWxsLG89aWkocj0oIUVpKCl8fHVpKCkpJiZ0aGlzLmFwcC5vcHRpb25zLmF1dGhEb21haW4mJmUuaXNPQXV0aFByb3ZpZGVyP3V1KHRoaXMuYXBwLm9wdGlvbnMuYXV0aERvbWFpbix0aGlzLmFwcC5vcHRpb25zLmFwaUtleSx0aGlzLmFwcC5uYW1lLFwic2lnbkluVmlhUG9wdXBcIixlLG51bGwsaSx6bC5kZWZhdWx0LlNES19WRVJTSU9OfHxudWxsLG51bGwsbnVsbCx0aGlzLlQoKSx0aGlzLlApOnIsdCYmdC51YSx0JiZ0LnRhKTtyZXR1cm4gdWwodGhpcyx0PXRsKHRoaXMpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIF9jKHQsbyxcInNpZ25JblZpYVBvcHVwXCIsZSxpLCEhcixuLlQoKSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBmZShmdW5jdGlvbih0LGUpe24ubmEoXCJzaWduSW5WaWFQb3B1cFwiLG51bGwsbmV3IFQoXCJjYW5jZWxsZWQtcG9wdXAtcmVxdWVzdFwiKSxuLmcpLG4uZj10LG4uQz1lLG4uZz1pLG4uYz1SYyhuLmIsbixcInNpZ25JblZpYVBvcHVwXCIsbyxpKX0pfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbyYmbmkobyksdD9xaSh0KTpudWxsfSkubyhmdW5jdGlvbih0KXt0aHJvdyBvJiZuaShvKSx0fSkpfSx0LlljPWZ1bmN0aW9uKHQpe2lmKCF3aSgpKXJldHVybiB3ZShuZXcgVChcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO3ZhciBlPXRoaXM7cmV0dXJuIHVsKHRoaXMsdGwodGhpcykudGhlbihmdW5jdGlvbigpe3JldHVybiBZaCh0PWUuaSxmdW5jdGlvbigpe3JldHVybiB0LmIuc2V0KEdoLHQuYy5GLHQuYSl9KTt2YXIgdH0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gQ2MoZS5iLFwic2lnbkluVmlhUmVkaXJlY3RcIix0LHZvaWQgMCxlLlQoKSl9KSl9LHQucWE9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBlbCh0aGlzKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLmImJmpjKGUuYi5iKSx0fSkubyhmdW5jdGlvbih0KXt0aHJvdyBlLmImJmpjKGUuYi5iKSx0fSl9LHQuZGQ9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIHdlKG5ldyBUKFwibnVsbC11c2VyXCIpKTtpZih0aGlzLlMhPXQudGVuYW50SWQpcmV0dXJuIHdlKG5ldyBUKFwidGVuYW50LWlkLW1pc21hdGNoXCIpKTt2YXIgZT10aGlzLG49e307bi5hcGlLZXk9dGhpcy5hcHAub3B0aW9ucy5hcGlLZXksbi5hdXRoRG9tYWluPXRoaXMuYXBwLm9wdGlvbnMuYXV0aERvbWFpbixuLmFwcE5hbWU9dGhpcy5hcHAubmFtZTt2YXIgaSxyLG8sYSxzLHU9KGk9dCxyPW4sbz1lLkQsYT1lLkdhKCkscz1pLmIsKG49e30pW0hhXT1zLmImJnMuYi50b1N0cmluZygpLG4ucmVmcmVzaFRva2VuPXMuYSxyPW5ldyBoaChyfHx7YXBpS2V5OmkubCxhdXRoRG9tYWluOmkucyxhcHBOYW1lOmkubX0sbiksbyYmKHIuaGE9byksYSYmZGgocixhKSxfaChyLGkpLHIpO3JldHVybiB1bCh0aGlzLHRoaXMuaC50aGVuKGZ1bmN0aW9uKCl7aWYoZS5hcHAub3B0aW9ucy5hcGlLZXkhPXQubClyZXR1cm4gdS5yZWxvYWQoKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gb2woZSkmJnQudWlkPT1vbChlKS51aWQ/KF9oKG9sKGUpLHQpLGUuZGEodCkpOihpbChlLHUpLHdoKHUpLGUuZGEodSkpfSkudGhlbihmdW5jdGlvbigpe3NsKGUpfSkpfSx0LkFiPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuaC50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYiYmamModC5iLmIpLG9sKHQpPyhpbCh0LG51bGwpLFhoKHQuaSkudGhlbihmdW5jdGlvbigpe3NsKHQpfSkpOnllKCl9KTtyZXR1cm4gdWwodGhpcyxlKX0sdC5aYz1mdW5jdGlvbigpe3ZhciBpPXRoaXM7cmV0dXJuIEpoKHRoaXMuaSx0aGlzLmFwcC5vcHRpb25zLmF1dGhEb21haW4pLnRoZW4oZnVuY3Rpb24odCl7aWYoIWkubCl7dmFyIGUsbjtpZigoZT1vbChpKSYmdCkmJihlPW9sKGkpLnVpZCxuPXQudWlkLGU9bnVsbCE9ZSYmXCJcIiE9PWUmJm51bGwhPW4mJlwiXCIhPT1uJiZlPT1uKSxlKXJldHVybiBfaChvbChpKSx0KSxvbChpKS5JKCk7KG9sKGkpfHx0KSYmKGlsKGksdCksdCYmKHdoKHQpLHQuaGE9aS5EKSxpLmImJkFjKGkuYixpKSxzbChpKSl9fSl9LHQuZGE9ZnVuY3Rpb24odCl7cmV0dXJuIFdoKHRoaXMuaSx0KX0sdC5tYz1mdW5jdGlvbigpe3NsKHRoaXMpLHRoaXMuZGEob2wodGhpcykpfSx0LndjPWZ1bmN0aW9uKCl7dGhpcy5BYigpfSx0LnhjPWZ1bmN0aW9uKCl7dGhpcy5BYigpfSx0LmtjPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuaC50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHJsKGUseWUodCkpfSl9LHQuemM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLmFkZEF1dGhUb2tlbkxpc3RlbmVyKGZ1bmN0aW9uKCl7dC5uZXh0KG9sKGUpKX0pfSx0LkFjPWZ1bmN0aW9uKHQpe3ZhciBlLG4saT10aGlzO249ZnVuY3Rpb24oKXt0Lm5leHQob2woaSkpfSwoZT10aGlzKS5PLnB1c2gobiksdWwoZSxlLmgudGhlbihmdW5jdGlvbigpeyFlLmwmJksoZS5PLG4pJiZlLlghPT1lLmdldFVpZCgpJiYoZS5YPWUuZ2V0VWlkKCksbihhbChlKSkpfSkpfSx0LkljPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLmJhJiZQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdD90KG9sKGkpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm5leHQmJnQubmV4dChvbChpKSl9KSx0aGlzLmhiKHQsZSxuKX0sdC5IYz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy5iYSYmUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe2kuWD1pLmdldFVpZCgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dChvbChpKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgdC5uZXh0JiZ0Lm5leHQob2woaSkpfSksdGhpcy5iYyh0LGUsbil9LHQubmM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuaC50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG9sKGUpP29sKGUpLkkodCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm57YWNjZXNzVG9rZW46dH19KTpudWxsfSk7cmV0dXJuIHVsKHRoaXMsbil9LHQuVGM9ZnVuY3Rpb24odCl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5oLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcmwobixYcyhuLmEscXMse3Rva2VuOnR9KSl9KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBlPXQudXNlcjtyZXR1cm4gTmgoZSxcImlzQW5vbnltb3VzXCIsITEpLG4uZGEoZSksdH0pfSx0LlVjPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5oLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcmwobixYcyhuLmEsSHMse2VtYWlsOnQscGFzc3dvcmQ6ZX0pKX0pfSx0LmRjPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5oLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcmwobixYcyhuLmEsbXMse2VtYWlsOnQscGFzc3dvcmQ6ZX0pKX0pfSx0LiRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuaC50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHJsKGUsdC5rYShlLmEpKX0pfSx0LlNjPWZ1bmN0aW9uKHQpe3JldHVybiBqaShcImZpcmViYXNlLmF1dGguQXV0aC5wcm90b3R5cGUuc2lnbkluQW5kUmV0cmlldmVEYXRhV2l0aENyZWRlbnRpYWwgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBmaXJlYmFzZS5hdXRoLkF1dGgucHJvdG90eXBlLnNpZ25JbldpdGhDcmVkZW50aWFsIGluc3RlYWQuXCIpLHRoaXMuJGEodCl9LHQuemI9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLmgudGhlbihmdW5jdGlvbigpe3ZhciB0PW9sKG4pO2lmKHQmJnQuaXNBbm9ueW1vdXMpe3ZhciBlPXFpKHtwcm92aWRlcklkOm51bGwsaXNOZXdVc2VyOiExfSk7cmV0dXJuIHFpKHt1c2VyOnQsY3JlZGVudGlhbDpudWxsLGFkZGl0aW9uYWxVc2VySW5mbzplLG9wZXJhdGlvblR5cGU6XCJzaWduSW5cIn0pfXJldHVybiBybChuLG4uYS56YigpKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBlPXQudXNlcjtyZXR1cm4gTmgoZSxcImlzQW5vbnltb3VzXCIsITApLG4uZGEoZSksdH0pfSl9LHQuZ2V0VWlkPWZ1bmN0aW9uKCl7cmV0dXJuIG9sKHRoaXMpJiZvbCh0aGlzKS51aWR8fG51bGx9LHQuY2M9ZnVuY3Rpb24odCl7dGhpcy5hZGRBdXRoVG9rZW5MaXN0ZW5lcih0KSx0aGlzLnUrKywwPHRoaXMudSYmb2wodGhpcykmJm1oKG9sKHRoaXMpKX0sdC5QYz1mdW5jdGlvbihlKXt2YXIgbj10aGlzO1YodGhpcy5zLGZ1bmN0aW9uKHQpe3Q9PWUmJm4udS0tfSksdGhpcy51PDAmJih0aGlzLnU9MCksMD09dGhpcy51JiZvbCh0aGlzKSYmZ2gob2wodGhpcykpLHRoaXMucmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIoZSl9LHQuYWRkQXV0aFRva2VuTGlzdGVuZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLnMucHVzaCh0KSx1bCh0aGlzLHRoaXMuaC50aGVuKGZ1bmN0aW9uKCl7ZS5sfHxLKGUucyx0KSYmdChhbChlKSl9KSl9LHQucmVtb3ZlQXV0aFRva2VuTGlzdGVuZXI9ZnVuY3Rpb24oZSl7Qih0aGlzLnMsZnVuY3Rpb24odCl7cmV0dXJuIHQ9PWV9KX0sdC5kZWxldGU9ZnVuY3Rpb24oKXt0aGlzLmw9ITA7Zm9yKHZhciB0PTA7dDx0aGlzLlIubGVuZ3RoO3QrKyl0aGlzLlJbdF0uY2FuY2VsKFwiYXBwLWRlbGV0ZWRcIik7cmV0dXJuIHRoaXMuUj1bXSx0aGlzLmkmJih0PXRoaXMuaSkuYi5yZW1vdmVMaXN0ZW5lcihCaChcImxvY2FsXCIpLHQuYSx0aGlzLmphKSx0aGlzLmImJihrYyh0aGlzLmIsdGhpcyksamModGhpcy5iLmIpKSxQcm9taXNlLnJlc29sdmUoKX0sdC5oYz1mdW5jdGlvbih0KXtyZXR1cm4gdWwodGhpcyxYcyh0aGlzLmEsZ3Mse2lkZW50aWZpZXI6dCxjb250aW51ZVVyaTpJaSgpP1FuKCk6XCJodHRwOi8vbG9jYWxob3N0XCJ9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNpZ25pbk1ldGhvZHN8fFtdfSkpfSx0LkJjPWZ1bmN0aW9uKHQpe3JldHVybiEhVG8odCl9LHQud2I9ZnVuY3Rpb24oZSxuKXt2YXIgaT10aGlzO3JldHVybiB1bCh0aGlzLHllKCkudGhlbihmdW5jdGlvbigpe3ZhciB0PW5ldyB5cihuKTtpZighdC5jKXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIixUcitcIiBtdXN0IGJlIHRydWUgd2hlbiBzZW5kaW5nIHNpZ24gaW4gbGluayB0byBlbWFpbFwiKTtyZXR1cm4gT3IodCl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLmEud2IoZSx0KX0pLnRoZW4oZnVuY3Rpb24oKXt9KSl9LHQuamQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuUmEodCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhLmVtYWlsfSl9LHQubmI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdWwodGhpcyx0aGlzLmEubmIodCxlKS50aGVuKGZ1bmN0aW9uKCl7fSkpfSx0LlJhPWZ1bmN0aW9uKHQpe3JldHVybiB1bCh0aGlzLHRoaXMuYS5SYSh0KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgemkodCl9KSl9LHQuamI9ZnVuY3Rpb24odCl7cmV0dXJuIHVsKHRoaXMsdGhpcy5hLmpiKHQpLnRoZW4oZnVuY3Rpb24oKXt9KSl9LHQudmI9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB1bCh0aGlzLHllKCkudGhlbihmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10fHx1dCh0KT97fTpPcihuZXcgeXIodCkpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbi5hLnZiKGUsdCl9KS50aGVuKGZ1bmN0aW9uKCl7fSkpfSx0LldjPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHVsKHRoaXMsS2ModGhpcyx0LGUsYih0aGlzLiRhLHRoaXMpKSl9LHQuVmM9ZnVuY3Rpb24obixpKXt2YXIgcj10aGlzO3JldHVybiB1bCh0aGlzLHllKCkudGhlbihmdW5jdGlvbigpe3ZhciB0PWl8fFFuKCksZT1JbyhuLHQpO2lmKCEodD1Ubyh0KSkpdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLFwiSW52YWxpZCBlbWFpbCBsaW5rIVwiKTtpZih0LnRlbmFudElkIT09ci5UKCkpdGhyb3cgbmV3IFQoXCJ0ZW5hbnQtaWQtbWlzbWF0Y2hcIik7cmV0dXJuIHIuJGEoZSl9KSl9LGNsLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt9LGNsLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe30sY2wucHJvdG90eXBlLmdldFJlc3BvbnNlPWZ1bmN0aW9uKCl7fSxjbC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe307dmFyIGxsPW51bGw7ZnVuY3Rpb24gZmwodCxlKXtyZXR1cm4oZT1kbChlKSkmJnQuYVtlXXx8bnVsbH1mdW5jdGlvbiBkbCh0KXtyZXR1cm4odD12b2lkIDA9PT10PzFlMTI6dCk/dC50b1N0cmluZygpOm51bGx9ZnVuY3Rpb24gcGwodCxlKXt0aGlzLmc9ITEsdGhpcy5jPWUsdGhpcy5hPXRoaXMuYj1udWxsLHRoaXMuaD1cImludmlzaWJsZVwiIT09dGhpcy5jLnNpemUsdGhpcy5mPXRlKHQpO3ZhciBuPXRoaXM7dGhpcy5pPWZ1bmN0aW9uKCl7bi5leGVjdXRlKCl9LHRoaXMuaD90aGlzLmV4ZWN1dGUoKTpaZSh0aGlzLmYsXCJjbGlja1wiLHRoaXMuaSl9ZnVuY3Rpb24gdmwodCl7aWYodC5nKXRocm93IEVycm9yKFwicmVDQVBUQ0hBIG1vY2sgd2FzIGFscmVhZHkgZGVsZXRlZCFcIil9ZnVuY3Rpb24gbWwoKXt9ZnVuY3Rpb24gZ2woKXt9aGwucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFbdGhpcy5iLnRvU3RyaW5nKCldPW5ldyBwbCh0LGUpLHRoaXMuYisrfSxobC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCl7dmFyIGU9ZmwodGhpcyx0KTt0PWRsKHQpLGUmJnQmJihlLmRlbGV0ZSgpLGRlbGV0ZSB0aGlzLmFbdF0pfSxobC5wcm90b3R5cGUuZ2V0UmVzcG9uc2U9ZnVuY3Rpb24odCl7cmV0dXJuKHQ9ZmwodGhpcyx0KSk/dC5nZXRSZXNwb25zZSgpOm51bGx9LGhsLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKHQpeyh0PWZsKHRoaXMsdCkpJiZ0LmV4ZWN1dGUoKX0scGwucHJvdG90eXBlLmdldFJlc3BvbnNlPWZ1bmN0aW9uKCl7cmV0dXJuIHZsKHRoaXMpLHRoaXMuYn0scGwucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt2bCh0aGlzKTt2YXIgbj10aGlzO3RoaXMuYXx8KHRoaXMuYT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5iPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTUwLGU9W107MDx0OyllLnB1c2goXCIxMjM0NTY3ODkwYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiLmNoYXJBdChNYXRoLmZsb29yKDYyKk1hdGgucmFuZG9tKCkpKSksdC0tO3JldHVybiBlLmpvaW4oXCJcIil9KCk7dmFyIHQ9bi5jLmNhbGxiYWNrLGU9bi5jW1wiZXhwaXJlZC1jYWxsYmFja1wiXTtpZih0KXRyeXt0KG4uYil9Y2F0Y2godCl7fW4uYT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYobi5hPW51bGwsbi5iPW51bGwsZSl0cnl7ZSgpfWNhdGNoKHQpe31uLmgmJm4uZXhlY3V0ZSgpfSw2ZTQpfSw1MDApKX0scGwucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbigpe3ZsKHRoaXMpLHRoaXMuZz0hMCxjbGVhclRpbWVvdXQodGhpcy5hKSx0aGlzLmE9bnVsbCxlbih0aGlzLmYsXCJjbGlja1wiLHRoaXMuaSl9LFZpKG1sLFwiRkFDVE9SX0lEXCIsXCJwaG9uZVwiKSxnbC5wcm90b3R5cGUuZz1mdW5jdGlvbigpe3JldHVybiB5ZShsbD1sbHx8bmV3IGhsKX0sZ2wucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXt9O3ZhciBibD1udWxsO2Z1bmN0aW9uIHlsKCl7dGhpcy5iPWwuZ3JlY2FwdGNoYT8xLzA6MCx0aGlzLmY9bnVsbCx0aGlzLmE9XCJfX3JjYlwiK01hdGguZmxvb3IoMWU2Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCl9dmFyIHdsPW5ldyBkdChndCxcImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2FwaS5qcz9vbmxvYWQ9JXtvbmxvYWR9JnJlbmRlcj1leHBsaWNpdCZobD0le2hsfVwiKSxJbD1uZXcgQ2koM2U0LDZlNCk7eWwucHJvdG90eXBlLmc9ZnVuY3Rpb24ocil7dmFyIG89dGhpcztyZXR1cm4gbmV3IGZlKGZ1bmN0aW9uKHQsZSl7dmFyIGk9c2V0VGltZW91dChmdW5jdGlvbigpe2UobmV3IFQoXCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIpKX0sSWwuZ2V0KCkpOyFsLmdyZWNhcHRjaGF8fHIhPT1vLmYmJiFvLmI/KGxbby5hXT1mdW5jdGlvbigpe3ZhciBuO2wuZ3JlY2FwdGNoYT8oby5mPXIsbj1sLmdyZWNhcHRjaGEucmVuZGVyLGwuZ3JlY2FwdGNoYS5yZW5kZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1uKHQsZSksby5iKyssdH0sY2xlYXJUaW1lb3V0KGkpLHQobC5ncmVjYXB0Y2hhKSk6KGNsZWFyVGltZW91dChpKSxlKG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIikpKSxkZWxldGUgbFtvLmFdfSx5ZShQYShJdCh3bCx7b25sb2FkOm8uYSxobDpyfHxcIlwifSkpKS5vKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGkpLGUobmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiLFwiVW5hYmxlIHRvIGxvYWQgZXh0ZXJuYWwgcmVDQVBUQ0hBIGRlcGVuZGVuY2llcyFcIikpfSkpOihjbGVhclRpbWVvdXQoaSksdChsLmdyZWNhcHRjaGEpKX0pfSx5bC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3RoaXMuYi0tfTt2YXIgVGw9bnVsbDtmdW5jdGlvbiBFbCh0LGUsbixpLHIsbyxhKXtpZihWaSh0aGlzLFwidHlwZVwiLFwicmVjYXB0Y2hhXCIpLHRoaXMuYz10aGlzLmY9bnVsbCx0aGlzLkQ9ITEsdGhpcy52PWUsdGhpcy5nPW51bGwsYT1hP2JsPWJsfHxuZXcgZ2w6VGw9VGx8fG5ldyB5bCx0aGlzLm09YSx0aGlzLmE9bnx8e3RoZW1lOlwibGlnaHRcIix0eXBlOlwiaW1hZ2VcIn0sdGhpcy5oPVtdLHRoaXMuYVtTbF0pdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLFwic2l0ZWtleSBzaG91bGQgbm90IGJlIHByb3ZpZGVkIGZvciByZUNBUFRDSEEgYXMgb25lIGlzIGF1dG9tYXRpY2FsbHkgcHJvdmlzaW9uZWQgZm9yIHRoZSBjdXJyZW50IHByb2plY3QuXCIpO2lmKHRoaXMuaT1cImludmlzaWJsZVwiPT09dGhpcy5hW05sXSwhbC5kb2N1bWVudCl0aHJvdyBuZXcgVChcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIixcIlJlY2FwdGNoYVZlcmlmaWVyIGlzIG9ubHkgc3VwcG9ydGVkIGluIGEgYnJvd3NlciBIVFRQL0hUVFBTIGVudmlyb25tZW50IHdpdGggRE9NIHN1cHBvcnQuXCIpO2lmKCF0ZShlKXx8IXRoaXMuaSYmdGUoZSkuaGFzQ2hpbGROb2RlcygpKXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIixcInJlQ0FQVENIQSBjb250YWluZXIgaXMgZWl0aGVyIG5vdCBmb3VuZCBvciBhbHJlYWR5IGNvbnRhaW5zIGlubmVyIGVsZW1lbnRzIVwiKTt0aGlzLnM9bmV3IEZhKHQsb3x8bnVsbCxyfHxudWxsKSx0aGlzLnU9aXx8ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07dmFyIHM9dGhpczt0aGlzLmw9W107dmFyIHU9dGhpcy5hW0FsXTt0aGlzLmFbQWxdPWZ1bmN0aW9uKHQpe3ZhciBlO19sKHMsdCksXCJmdW5jdGlvblwiPT10eXBlb2YgdT91KHQpOlwic3RyaW5nXCIhPXR5cGVvZiB1fHxcImZ1bmN0aW9uXCI9PXR5cGVvZihlPWJpKHUsbCkpJiZlKHQpfTt2YXIgYz10aGlzLmFba2xdO3RoaXMuYVtrbF09ZnVuY3Rpb24oKXt2YXIgdDtfbChzLG51bGwpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGM/YygpOlwic3RyaW5nXCIhPXR5cGVvZiBjfHxcImZ1bmN0aW9uXCI9PXR5cGVvZih0PWJpKGMsbCkpJiZ0KCl9fXZhciBBbD1cImNhbGxiYWNrXCIsa2w9XCJleHBpcmVkLWNhbGxiYWNrXCIsU2w9XCJzaXRla2V5XCIsTmw9XCJzaXplXCI7ZnVuY3Rpb24gX2wodCxlKXtmb3IodmFyIG49MDtuPHQubC5sZW5ndGg7bisrKXRyeXt0Lmxbbl0oZSl9Y2F0Y2godCl7fX1mdW5jdGlvbiBPbCh0LGUpe3JldHVybiB0LmgucHVzaChlKSxlLm9hKGZ1bmN0aW9uKCl7Ryh0LmgsZSl9KSxlfWZ1bmN0aW9uIENsKHQpe2lmKHQuRCl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIsXCJSZWNhcHRjaGFWZXJpZmllciBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWQuXCIpfWZ1bmN0aW9uIFJsKHQsZSxuKXt2YXIgaT0hMTt0cnl7dGhpcy5iPW58fHpsLmRlZmF1bHQuYXBwKCl9Y2F0Y2godCl7dGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLFwiTm8gZmlyZWJhc2UuYXBwLkFwcCBpbnN0YW5jZSBpcyBjdXJyZW50bHkgaW5pdGlhbGl6ZWQuXCIpfWlmKCF0aGlzLmIub3B0aW9uc3x8IXRoaXMuYi5vcHRpb25zLmFwaUtleSl0aHJvdyBuZXcgVChcImludmFsaWQtYXBpLWtleVwiKTtuPXRoaXMuYi5vcHRpb25zLmFwaUtleTt2YXIgcj10aGlzLG89bnVsbDt0cnl7bz10aGlzLmIuYXV0aCgpLkdhKCl9Y2F0Y2godCl7fXRyeXtpPXRoaXMuYi5hdXRoKCkuc2V0dGluZ3MuYXBwVmVyaWZpY2F0aW9uRGlzYWJsZWRGb3JUZXN0aW5nfWNhdGNoKHQpe31vPXpsLmRlZmF1bHQuU0RLX1ZFUlNJT04/bWkoemwuZGVmYXVsdC5TREtfVkVSU0lPTixvKTpudWxsLEVsLmNhbGwodGhpcyxuLHQsZSxmdW5jdGlvbigpe3RyeXt2YXIgZT1yLmIuYXV0aCgpLmxhKCl9Y2F0Y2godCl7ZT1udWxsfXJldHVybiBlfSxvLF8oQSksaSl9ZnVuY3Rpb24gRGwodCxlLG4saSl7dDp7bj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuKTtmb3IodmFyIHI9MCxvPSExLGE9MDthPGUubGVuZ3RoO2ErKylpZihlW2FdLm9wdGlvbmFsKW89ITA7ZWxzZXtpZihvKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIixcIkFyZ3VtZW50IHZhbGlkYXRvciBlbmNvdW50ZXJlZCBhIHJlcXVpcmVkIGFyZ3VtZW50IGFmdGVyIGFuIG9wdGlvbmFsIGFyZ3VtZW50LlwiKTtyKyt9aWYobz1lLmxlbmd0aCxuLmxlbmd0aDxyfHxvPG4ubGVuZ3RoKWk9XCJFeHBlY3RlZCBcIisocj09bz8xPT1yP1wiMSBhcmd1bWVudFwiOnIrXCIgYXJndW1lbnRzXCI6citcIi1cIitvK1wiIGFyZ3VtZW50c1wiKStcIiBidXQgZ290IFwiK24ubGVuZ3RoK1wiLlwiO2Vsc2V7Zm9yKHI9MDtyPG4ubGVuZ3RoO3IrKylpZihvPWVbcl0ub3B0aW9uYWwmJnZvaWQgMD09PW5bcl0sIWVbcl0uTShuW3JdKSYmIW8pe2lmKGU9ZVtyXSxyPDB8fHI+PVBsLmxlbmd0aCl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIsXCJBcmd1bWVudCB2YWxpZGF0b3IgcmVjZWl2ZWQgYW4gdW5zdXBwb3J0ZWQgbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7bj1QbFtyXSxpPShpP1wiXCI6bitcIiBhcmd1bWVudCBcIikrKGUubmFtZT8nXCInK2UubmFtZSsnXCIgJzpcIlwiKStcIm11c3QgYmUgXCIrZS5LK1wiLlwiO2JyZWFrIHR9aT1udWxsfX1pZihpKXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIix0K1wiIGZhaWxlZDogXCIraSl9KHQ9RWwucHJvdG90eXBlKS5JYT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuZnx8KHRoaXMuZj1PbCh0aGlzLHllKCkudGhlbihmdW5jdGlvbigpe2lmKElpKCkmJiFjaSgpKXJldHVybiBhaSgpO3Rocm93IG5ldyBUKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiLFwiUmVjYXB0Y2hhVmVyaWZpZXIgaXMgb25seSBzdXBwb3J0ZWQgaW4gYSBicm93c2VyIEhUVFAvSFRUUFMgZW52aXJvbm1lbnQuXCIpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBlLm0uZyhlLnUoKSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLmc9dCxYcyhlLnMsQ3Mse30pfSkudGhlbihmdW5jdGlvbih0KXtlLmFbU2xdPXQucmVjYXB0Y2hhU2l0ZUtleX0pLm8oZnVuY3Rpb24odCl7dGhyb3cgZS5mPW51bGwsdH0pKSl9LHQucmVuZGVyPWZ1bmN0aW9uKCl7Q2wodGhpcyk7dmFyIG49dGhpcztyZXR1cm4gT2wodGhpcyx0aGlzLklhKCkudGhlbihmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIG51bGw9PT1uLmMmJihlPW4udixuLml8fCh0PXRlKGUpLGU9b2UoXCJESVZcIiksdC5hcHBlbmRDaGlsZChlKSksbi5jPW4uZy5yZW5kZXIoZSxuLmEpKSxuLmN9KSl9LHQudmVyaWZ5PWZ1bmN0aW9uKCl7Q2wodGhpcyk7dmFyIHI9dGhpcztyZXR1cm4gT2wodGhpcyx0aGlzLnJlbmRlcigpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBmZShmdW5jdGlvbihuKXt2YXIgaSx0PXIuZy5nZXRSZXNwb25zZShlKTt0P24odCk6KGk9ZnVuY3Rpb24odCl7dmFyIGU7dCYmKGU9aSxCKHIubCxmdW5jdGlvbih0KXtyZXR1cm4gdD09ZX0pLG4odCkpfSxyLmwucHVzaChpKSxyLmkmJnIuZy5leGVjdXRlKHIuYykpfSl9KSl9LHQucmVzZXQ9ZnVuY3Rpb24oKXtDbCh0aGlzKSxudWxsIT09dGhpcy5jJiZ0aGlzLmcucmVzZXQodGhpcy5jKX0sdC5jbGVhcj1mdW5jdGlvbigpe0NsKHRoaXMpLHRoaXMuRD0hMCx0aGlzLm0uYygpO2Zvcih2YXIgdCxlPTA7ZTx0aGlzLmgubGVuZ3RoO2UrKyl0aGlzLmhbZV0uY2FuY2VsKFwiUmVjYXB0Y2hhVmVyaWZpZXIgaW5zdGFuY2UgaGFzIGJlZW4gZGVzdHJveWVkLlwiKTtpZighdGhpcy5pKXtlPXRlKHRoaXMudik7Zm9yKDt0PWUuZmlyc3RDaGlsZDspZS5yZW1vdmVDaGlsZCh0KX19LHcoUmwsRWwpO3ZhciBQbD1cIkZpcnN0IFNlY29uZCBUaGlyZCBGb3VydGggRmlmdGggU2l4dGggU2V2ZW50aCBFaWdodGggTmludGhcIi5zcGxpdChcIiBcIik7ZnVuY3Rpb24gTGwodCxlKXtyZXR1cm57bmFtZTp0fHxcIlwiLEs6XCJhIHZhbGlkIHN0cmluZ1wiLG9wdGlvbmFsOiEhZSxNOmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fX19ZnVuY3Rpb24geGwodCxlKXtyZXR1cm57bmFtZTp0fHxcIlwiLEs6XCJhIGJvb2xlYW5cIixvcHRpb25hbDohIWUsTTpmdW5jdGlvbih0KXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIHR9fX1mdW5jdGlvbiBNbCh0LGUpe3JldHVybntuYW1lOnR8fFwiXCIsSzpcImEgdmFsaWQgb2JqZWN0XCIsb3B0aW9uYWw6ISFlLE06bX19ZnVuY3Rpb24gamwodCxlKXtyZXR1cm57bmFtZTp0fHxcIlwiLEs6XCJhIGZ1bmN0aW9uXCIsb3B0aW9uYWw6ISFlLE06ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdH19fWZ1bmN0aW9uIFVsKHQsZSl7cmV0dXJue25hbWU6dHx8XCJcIixLOlwibnVsbFwiLG9wdGlvbmFsOiEhZSxNOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT09dH19fWZ1bmN0aW9uIFZsKG4pe3JldHVybntuYW1lOm4/bitcIkNyZWRlbnRpYWxcIjpcImNyZWRlbnRpYWxcIixLOm4/XCJhIHZhbGlkIFwiK24rXCIgY3JlZGVudGlhbFwiOlwiYSB2YWxpZCBjcmVkZW50aWFsXCIsb3B0aW9uYWw6ITEsTTpmdW5jdGlvbih0KXtpZighdClyZXR1cm4hMTt2YXIgZT0hbnx8dC5wcm92aWRlcklkPT09bjtyZXR1cm4hKCF0LmthfHwhZSl9fX1mdW5jdGlvbiBGbCgpe3JldHVybntuYW1lOlwibXVsdGlGYWN0b3JBc3NlcnRpb25cIixLOlwiYSB2YWxpZCBtdWx0aUZhY3RvckFzc2VydGlvblwiLG9wdGlvbmFsOiExLE06ZnVuY3Rpb24odCl7cmV0dXJuISF0JiYhIXQuc2J9fX1mdW5jdGlvbiBxbCgpe3JldHVybntuYW1lOlwiYXV0aFByb3ZpZGVyXCIsSzpcImEgdmFsaWQgQXV0aCBwcm92aWRlclwiLG9wdGlvbmFsOiExLE06ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmdC5wcm92aWRlcklkJiZ0Lmhhc093blByb3BlcnR5JiZ0Lmhhc093blByb3BlcnR5KFwiaXNPQXV0aFByb3ZpZGVyXCIpKX19fWZ1bmN0aW9uIEhsKHQsZSl7cmV0dXJuIG0odCkmJlwic3RyaW5nXCI9PXR5cGVvZiB0LnR5cGUmJnQudHlwZT09PWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuSGF9ZnVuY3Rpb24gS2wodCl7cmV0dXJuIG0odCkmJlwic3RyaW5nXCI9PXR5cGVvZiB0LnVpZH1mdW5jdGlvbiBHbCgpe3JldHVybntuYW1lOlwiYXBwbGljYXRpb25WZXJpZmllclwiLEs6XCJhbiBpbXBsZW1lbnRhdGlvbiBvZiBmaXJlYmFzZS5hdXRoLkFwcGxpY2F0aW9uVmVyaWZpZXJcIixvcHRpb25hbDohMSxNOmZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fFwic3RyaW5nXCIhPXR5cGVvZiB0LnR5cGV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQudmVyaWZ5KX19fWZ1bmN0aW9uIEJsKGUsbix0LGkpe3JldHVybntuYW1lOnR8fFwiXCIsSzplLksrXCIgb3IgXCIrbi5LLG9wdGlvbmFsOiEhaSxNOmZ1bmN0aW9uKHQpe3JldHVybiBlLk0odCl8fG4uTSh0KX19fWZ1bmN0aW9uIFdsKHQsZSl7Zm9yKHZhciBuIGluIGUpe3ZhciBpPWVbbl0ubmFtZTt0W2ldPVlsKGksdFtuXSxlW25dLmopfX1mdW5jdGlvbiBYbCh0LGUpe2Zvcih2YXIgbiBpbiBlKXt2YXIgaT1lW25dLm5hbWU7aSE9PW4mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGkse2dldDp5KGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzW3RdfSxuKSxzZXQ6eShmdW5jdGlvbih0LGUsbixpKXtEbCh0LFtuXSxbaV0sITApLHRoaXNbZV09aX0saSxuLGVbbl0ua2IpLGVudW1lcmFibGU6ITB9KX19ZnVuY3Rpb24gSmwodCxlLG4saSl7dFtlXT1ZbChlLG4saSl9ZnVuY3Rpb24gWWwodCxlLG4pe2Z1bmN0aW9uIGkoKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBEbChvLG4sdCksZS5hcHBseSh0aGlzLHQpfWlmKCFuKXJldHVybiBlO3ZhciByLG89KHQ9KHQ9dCkuc3BsaXQoXCIuXCIpKVt0Lmxlbmd0aC0xXTtmb3IociBpbiBlKWlbcl09ZVtyXTtmb3IociBpbiBlLnByb3RvdHlwZSlpLnByb3RvdHlwZVtyXT1lLnByb3RvdHlwZVtyXTtyZXR1cm4gaX1XbCh6aC5wcm90b3R5cGUse2piOntuYW1lOlwiYXBwbHlBY3Rpb25Db2RlXCIsajpbTGwoXCJjb2RlXCIpXX0sUmE6e25hbWU6XCJjaGVja0FjdGlvbkNvZGVcIixqOltMbChcImNvZGVcIildfSxuYjp7bmFtZTpcImNvbmZpcm1QYXNzd29yZFJlc2V0XCIsajpbTGwoXCJjb2RlXCIpLExsKFwibmV3UGFzc3dvcmRcIildfSxkYzp7bmFtZTpcImNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZFwiLGo6W0xsKFwiZW1haWxcIiksTGwoXCJwYXNzd29yZFwiKV19LGhjOntuYW1lOlwiZmV0Y2hTaWduSW5NZXRob2RzRm9yRW1haWxcIixqOltMbChcImVtYWlsXCIpXX0scWE6e25hbWU6XCJnZXRSZWRpcmVjdFJlc3VsdFwiLGo6W119LEJjOntuYW1lOlwiaXNTaWduSW5XaXRoRW1haWxMaW5rXCIsajpbTGwoXCJlbWFpbExpbmtcIildfSxIYzp7bmFtZTpcIm9uQXV0aFN0YXRlQ2hhbmdlZFwiLGo6W0JsKE1sKCksamwoKSxcIm5leHRPck9ic2VydmVyXCIpLGpsKFwib3B0X2Vycm9yXCIsITApLGpsKFwib3B0X2NvbXBsZXRlZFwiLCEwKV19LEljOntuYW1lOlwib25JZFRva2VuQ2hhbmdlZFwiLGo6W0JsKE1sKCksamwoKSxcIm5leHRPck9ic2VydmVyXCIpLGpsKFwib3B0X2Vycm9yXCIsITApLGpsKFwib3B0X2NvbXBsZXRlZFwiLCEwKV19LHZiOntuYW1lOlwic2VuZFBhc3N3b3JkUmVzZXRFbWFpbFwiLGo6W0xsKFwiZW1haWxcIiksQmwoTWwoXCJvcHRfYWN0aW9uQ29kZVNldHRpbmdzXCIsITApLFVsKG51bGwsITApLFwib3B0X2FjdGlvbkNvZGVTZXR0aW5nc1wiLCEwKV19LHdiOntuYW1lOlwic2VuZFNpZ25JbkxpbmtUb0VtYWlsXCIsajpbTGwoXCJlbWFpbFwiKSxNbChcImFjdGlvbkNvZGVTZXR0aW5nc1wiKV19LHhiOntuYW1lOlwic2V0UGVyc2lzdGVuY2VcIixqOltMbChcInBlcnNpc3RlbmNlXCIpXX0sU2M6e25hbWU6XCJzaWduSW5BbmRSZXRyaWV2ZURhdGFXaXRoQ3JlZGVudGlhbFwiLGo6W1ZsKCldfSx6Yjp7bmFtZTpcInNpZ25JbkFub255bW91c2x5XCIsajpbXX0sJGE6e25hbWU6XCJzaWduSW5XaXRoQ3JlZGVudGlhbFwiLGo6W1ZsKCldfSxUYzp7bmFtZTpcInNpZ25JbldpdGhDdXN0b21Ub2tlblwiLGo6W0xsKFwidG9rZW5cIildfSxVYzp7bmFtZTpcInNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkXCIsajpbTGwoXCJlbWFpbFwiKSxMbChcInBhc3N3b3JkXCIpXX0sVmM6e25hbWU6XCJzaWduSW5XaXRoRW1haWxMaW5rXCIsajpbTGwoXCJlbWFpbFwiKSxMbChcImVtYWlsTGlua1wiLCEwKV19LFdjOntuYW1lOlwic2lnbkluV2l0aFBob25lTnVtYmVyXCIsajpbTGwoXCJwaG9uZU51bWJlclwiKSxHbCgpXX0sWGM6e25hbWU6XCJzaWduSW5XaXRoUG9wdXBcIixqOltxbCgpXX0sWWM6e25hbWU6XCJzaWduSW5XaXRoUmVkaXJlY3RcIixqOltxbCgpXX0sZGQ6e25hbWU6XCJ1cGRhdGVDdXJyZW50VXNlclwiLGo6W0JsKHtuYW1lOlwidXNlclwiLEs6XCJhbiBpbnN0YW5jZSBvZiBGaXJlYmFzZSBVc2VyXCIsb3B0aW9uYWw6ITEsTTpmdW5jdGlvbih0KXtyZXR1cm4hISh0JiZ0IGluc3RhbmNlb2YgaGgpfX0sVWwoKSxcInVzZXJcIildfSxBYjp7bmFtZTpcInNpZ25PdXRcIixqOltdfSx0b0pTT046e25hbWU6XCJ0b0pTT05cIixqOltMbChudWxsLCEwKV19LGZkOntuYW1lOlwidXNlRGV2aWNlTGFuZ3VhZ2VcIixqOltdfSxnZDp7bmFtZTpcInVzZUVtdWxhdG9yXCIsajpbTGwoXCJ1cmxcIiksTWwoXCJvcHRpb25zXCIsITApXX0samQ6e25hbWU6XCJ2ZXJpZnlQYXNzd29yZFJlc2V0Q29kZVwiLGo6W0xsKFwiY29kZVwiKV19fSksWGwoemgucHJvdG90eXBlLHtsYzp7bmFtZTpcImxhbmd1YWdlQ29kZVwiLGtiOkJsKExsKCksVWwoKSxcImxhbmd1YWdlQ29kZVwiKX0sdGk6e25hbWU6XCJ0ZW5hbnRJZFwiLGtiOkJsKExsKCksVWwoKSxcInRlbmFudElkXCIpfX0pLCh6aC5QZXJzaXN0ZW5jZT1LdSkuTE9DQUw9XCJsb2NhbFwiLHpoLlBlcnNpc3RlbmNlLlNFU1NJT049XCJzZXNzaW9uXCIsemguUGVyc2lzdGVuY2UuTk9ORT1cIm5vbmVcIixXbChoaC5wcm90b3R5cGUse2RlbGV0ZTp7bmFtZTpcImRlbGV0ZVwiLGo6W119LG9jOntuYW1lOlwiZ2V0SWRUb2tlblJlc3VsdFwiLGo6W3hsKFwib3B0X2ZvcmNlUmVmcmVzaFwiLCEwKV19LEk6e25hbWU6XCJnZXRJZFRva2VuXCIsajpbeGwoXCJvcHRfZm9yY2VSZWZyZXNoXCIsITApXX0sQ2M6e25hbWU6XCJsaW5rQW5kUmV0cmlldmVEYXRhV2l0aENyZWRlbnRpYWxcIixqOltWbCgpXX0scWI6e25hbWU6XCJsaW5rV2l0aENyZWRlbnRpYWxcIixqOltWbCgpXX0sRGM6e25hbWU6XCJsaW5rV2l0aFBob25lTnVtYmVyXCIsajpbTGwoXCJwaG9uZU51bWJlclwiKSxHbCgpXX0sRWM6e25hbWU6XCJsaW5rV2l0aFBvcHVwXCIsajpbcWwoKV19LEZjOntuYW1lOlwibGlua1dpdGhSZWRpcmVjdFwiLGo6W3FsKCldfSxMYzp7bmFtZTpcInJlYXV0aGVudGljYXRlQW5kUmV0cmlldmVEYXRhV2l0aENyZWRlbnRpYWxcIixqOltWbCgpXX0sdGI6e25hbWU6XCJyZWF1dGhlbnRpY2F0ZVdpdGhDcmVkZW50aWFsXCIsajpbVmwoKV19LE1jOntuYW1lOlwicmVhdXRoZW50aWNhdGVXaXRoUGhvbmVOdW1iZXJcIixqOltMbChcInBob25lTnVtYmVyXCIpLEdsKCldfSxOYzp7bmFtZTpcInJlYXV0aGVudGljYXRlV2l0aFBvcHVwXCIsajpbcWwoKV19LE9jOntuYW1lOlwicmVhdXRoZW50aWNhdGVXaXRoUmVkaXJlY3RcIixqOltxbCgpXX0scmVsb2FkOntuYW1lOlwicmVsb2FkXCIsajpbXX0sdWI6e25hbWU6XCJzZW5kRW1haWxWZXJpZmljYXRpb25cIixqOltCbChNbChcIm9wdF9hY3Rpb25Db2RlU2V0dGluZ3NcIiwhMCksVWwobnVsbCwhMCksXCJvcHRfYWN0aW9uQ29kZVNldHRpbmdzXCIsITApXX0sdG9KU09OOntuYW1lOlwidG9KU09OXCIsajpbTGwobnVsbCwhMCldfSxjZDp7bmFtZTpcInVubGlua1wiLGo6W0xsKFwicHJvdmlkZXJcIildfSxCYjp7bmFtZTpcInVwZGF0ZUVtYWlsXCIsajpbTGwoXCJlbWFpbFwiKV19LENiOntuYW1lOlwidXBkYXRlUGFzc3dvcmRcIixqOltMbChcInBhc3N3b3JkXCIpXX0sZWQ6e25hbWU6XCJ1cGRhdGVQaG9uZU51bWJlclwiLGo6W1ZsKFwicGhvbmVcIildfSxEYjp7bmFtZTpcInVwZGF0ZVByb2ZpbGVcIixqOltNbChcInByb2ZpbGVcIildfSxFYjp7bmFtZTpcInZlcmlmeUJlZm9yZVVwZGF0ZUVtYWlsXCIsajpbTGwoXCJlbWFpbFwiKSxCbChNbChcIm9wdF9hY3Rpb25Db2RlU2V0dGluZ3NcIiwhMCksVWwobnVsbCwhMCksXCJvcHRfYWN0aW9uQ29kZVNldHRpbmdzXCIsITApXX19KSxXbChobC5wcm90b3R5cGUse2V4ZWN1dGU6e25hbWU6XCJleGVjdXRlXCJ9LHJlbmRlcjp7bmFtZTpcInJlbmRlclwifSxyZXNldDp7bmFtZTpcInJlc2V0XCJ9LGdldFJlc3BvbnNlOntuYW1lOlwiZ2V0UmVzcG9uc2VcIn19KSxXbChjbC5wcm90b3R5cGUse2V4ZWN1dGU6e25hbWU6XCJleGVjdXRlXCJ9LHJlbmRlcjp7bmFtZTpcInJlbmRlclwifSxyZXNldDp7bmFtZTpcInJlc2V0XCJ9LGdldFJlc3BvbnNlOntuYW1lOlwiZ2V0UmVzcG9uc2VcIn19KSxXbChmZS5wcm90b3R5cGUse29hOntuYW1lOlwiZmluYWxseVwifSxvOntuYW1lOlwiY2F0Y2hcIn0sdGhlbjp7bmFtZTpcInRoZW5cIn19KSxYbChxYy5wcm90b3R5cGUse2FwcFZlcmlmaWNhdGlvbkRpc2FibGVkOntuYW1lOlwiYXBwVmVyaWZpY2F0aW9uRGlzYWJsZWRGb3JUZXN0aW5nXCIsa2I6eGwoXCJhcHBWZXJpZmljYXRpb25EaXNhYmxlZEZvclRlc3RpbmdcIil9fSksV2woSGMucHJvdG90eXBlLHtjb25maXJtOntuYW1lOlwiY29uZmlybVwiLGo6W0xsKFwidmVyaWZpY2F0aW9uQ29kZVwiKV19fSksSmwoWnIsXCJmcm9tSlNPTlwiLGZ1bmN0aW9uKHQpe3Q9XCJzdHJpbmdcIj09dHlwZW9mIHQ/SlNPTi5wYXJzZSh0KTp0O2Zvcih2YXIgZSxuPVtvbyx5byxBbyxub10saT0wO2k8bi5sZW5ndGg7aSsrKWlmKGU9bltpXSh0KSlyZXR1cm4gZTtyZXR1cm4gbnVsbH0sW0JsKExsKCksTWwoKSxcImpzb25cIildKSxKbCh3byxcImNyZWRlbnRpYWxcIixmdW5jdGlvbih0LGUpe3JldHVybiBuZXcgYm8odCxlKX0sW0xsKFwiZW1haWxcIiksTGwoXCJwYXNzd29yZFwiKV0pLFdsKGJvLnByb3RvdHlwZSx7dzp7bmFtZTpcInRvSlNPTlwiLGo6W0xsKG51bGwsITApXX19KSxXbChjby5wcm90b3R5cGUse0NhOntuYW1lOlwiYWRkU2NvcGVcIixqOltMbChcInNjb3BlXCIpXX0sS2E6e25hbWU6XCJzZXRDdXN0b21QYXJhbWV0ZXJzXCIsajpbTWwoXCJjdXN0b21PQXV0aFBhcmFtZXRlcnNcIildfX0pLEpsKGNvLFwiY3JlZGVudGlhbFwiLGhvLFtCbChMbCgpLE1sKCksXCJ0b2tlblwiKV0pLEpsKHdvLFwiY3JlZGVudGlhbFdpdGhMaW5rXCIsSW8sW0xsKFwiZW1haWxcIiksTGwoXCJlbWFpbExpbmtcIildKSxXbChsby5wcm90b3R5cGUse0NhOntuYW1lOlwiYWRkU2NvcGVcIixqOltMbChcInNjb3BlXCIpXX0sS2E6e25hbWU6XCJzZXRDdXN0b21QYXJhbWV0ZXJzXCIsajpbTWwoXCJjdXN0b21PQXV0aFBhcmFtZXRlcnNcIildfX0pLEpsKGxvLFwiY3JlZGVudGlhbFwiLGZvLFtCbChMbCgpLE1sKCksXCJ0b2tlblwiKV0pLFdsKHBvLnByb3RvdHlwZSx7Q2E6e25hbWU6XCJhZGRTY29wZVwiLGo6W0xsKFwic2NvcGVcIildfSxLYTp7bmFtZTpcInNldEN1c3RvbVBhcmFtZXRlcnNcIixqOltNbChcImN1c3RvbU9BdXRoUGFyYW1ldGVyc1wiKV19fSksSmwocG8sXCJjcmVkZW50aWFsXCIsdm8sW0JsKExsKCksQmwoTWwoKSxVbCgpKSxcImlkVG9rZW5cIiksQmwoTGwoKSxVbCgpLFwiYWNjZXNzVG9rZW5cIiwhMCldKSxXbChtby5wcm90b3R5cGUse0thOntuYW1lOlwic2V0Q3VzdG9tUGFyYW1ldGVyc1wiLGo6W01sKFwiY3VzdG9tT0F1dGhQYXJhbWV0ZXJzXCIpXX19KSxKbChtbyxcImNyZWRlbnRpYWxcIixnbyxbQmwoTGwoKSxNbCgpLFwidG9rZW5cIiksTGwoXCJzZWNyZXRcIiwhMCldKSxXbCh1by5wcm90b3R5cGUse0NhOntuYW1lOlwiYWRkU2NvcGVcIixqOltMbChcInNjb3BlXCIpXX0sY3JlZGVudGlhbDp7bmFtZTpcImNyZWRlbnRpYWxcIixqOltCbChMbCgpLEJsKE1sKCksVWwoKSksXCJvcHRpb25zT3JJZFRva2VuXCIpLEJsKExsKCksVWwoKSxcImFjY2Vzc1Rva2VuXCIsITApXX0sS2E6e25hbWU6XCJzZXRDdXN0b21QYXJhbWV0ZXJzXCIsajpbTWwoXCJjdXN0b21PQXV0aFBhcmFtZXRlcnNcIildfX0pLFdsKGlvLnByb3RvdHlwZSx7dzp7bmFtZTpcInRvSlNPTlwiLGo6W0xsKG51bGwsITApXX19KSxXbCh0by5wcm90b3R5cGUse3c6e25hbWU6XCJ0b0pTT05cIixqOltMbChudWxsLCEwKV19fSksSmwoU28sXCJjcmVkZW50aWFsXCIsTm8sW0xsKFwidmVyaWZpY2F0aW9uSWRcIiksTGwoXCJ2ZXJpZmljYXRpb25Db2RlXCIpXSksV2woU28ucHJvdG90eXBlLHtmYjp7bmFtZTpcInZlcmlmeVBob25lTnVtYmVyXCIsajpbQmwoTGwoKSx7bmFtZTpcInBob25lSW5mb09wdGlvbnNcIixLOlwidmFsaWQgcGhvbmUgaW5mbyBvcHRpb25zXCIsb3B0aW9uYWw6ITEsTTpmdW5jdGlvbih0KXtyZXR1cm4hIXQmJih0LnNlc3Npb24mJnQucGhvbmVOdW1iZXI/SGwodC5zZXNzaW9uLHpyKSYmXCJzdHJpbmdcIj09dHlwZW9mIHQucGhvbmVOdW1iZXI6dC5zZXNzaW9uJiZ0Lm11bHRpRmFjdG9ySGludD9IbCh0LnNlc3Npb24sJHIpJiZLbCh0Lm11bHRpRmFjdG9ySGludCk6dC5zZXNzaW9uJiZ0Lm11bHRpRmFjdG9yVWlkP0hsKHQuc2Vzc2lvbiwkcikmJlwic3RyaW5nXCI9PXR5cGVvZiB0Lm11bHRpRmFjdG9yVWlkOiEhdC5waG9uZU51bWJlciYmXCJzdHJpbmdcIj09dHlwZW9mIHQucGhvbmVOdW1iZXIpfX0sXCJwaG9uZUluZm9PcHRpb25zXCIpLEdsKCldfX0pLFdsKEVvLnByb3RvdHlwZSx7dzp7bmFtZTpcInRvSlNPTlwiLGo6W0xsKG51bGwsITApXX19KSxXbChULnByb3RvdHlwZSx7dG9KU09OOntuYW1lOlwidG9KU09OXCIsajpbTGwobnVsbCwhMCldfX0pLFdsKE1vLnByb3RvdHlwZSx7dG9KU09OOntuYW1lOlwidG9KU09OXCIsajpbTGwobnVsbCwhMCldfX0pLFdsKHhvLnByb3RvdHlwZSx7dG9KU09OOntuYW1lOlwidG9KU09OXCIsajpbTGwobnVsbCwhMCldfX0pLFdsKEpjLnByb3RvdHlwZSx7dG9KU09OOntuYW1lOlwidG9KU09OXCIsajpbTGwobnVsbCwhMCldfX0pLFdsKEJjLnByb3RvdHlwZSx7UmM6e25hbWU6XCJyZXNvbHZlU2lnbkluXCIsajpbRmwoKV19fSksV2wodGgucHJvdG90eXBlLHtSYjp7bmFtZTpcImdldFNlc3Npb25cIixqOltdfSxmYzp7bmFtZTpcImVucm9sbFwiLGo6W0ZsKCksTGwoXCJkaXNwbGF5TmFtZVwiLCEwKV19LGJkOntuYW1lOlwidW5lbnJvbGxcIixqOltCbCh7bmFtZTpcIm11bHRpRmFjdG9ySW5mb1wiLEs6XCJhIHZhbGlkIG11bHRpRmFjdG9ySW5mb1wiLG9wdGlvbmFsOiExLE06S2x9LExsKCksXCJtdWx0aUZhY3RvckluZm9JZGVudGlmaWVyXCIpXX19KSxXbChSbC5wcm90b3R5cGUse2NsZWFyOntuYW1lOlwiY2xlYXJcIixqOltdfSxyZW5kZXI6e25hbWU6XCJyZW5kZXJcIixqOltdfSx2ZXJpZnk6e25hbWU6XCJ2ZXJpZnlcIixqOltdfX0pLEpsKGhyLFwicGFyc2VMaW5rXCIsYnIsW0xsKFwibGlua1wiKV0pLEpsKG1sLFwiYXNzZXJ0aW9uXCIsZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBaYyh0KX0sW1ZsKFwicGhvbmVcIildKSxmdW5jdGlvbigpe2lmKHZvaWQgMD09PXpsLmRlZmF1bHR8fCF6bC5kZWZhdWx0LklOVEVSTkFMfHwhemwuZGVmYXVsdC5JTlRFUk5BTC5yZWdpc3RlckNvbXBvbmVudCl0aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIHRoZSBmaXJlYmFzZSBuYW1lc3BhY2U7IGJlIHN1cmUgdG8gaW5jbHVkZSBmaXJlYmFzZS1hcHAuanMgYmVmb3JlIHRoaXMgbGlicmFyeS5cIik7dmFyIHQ9e0FjdGlvbkNvZGVJbmZvOntPcGVyYXRpb246e0VNQUlMX1NJR05JTjpaaSxQQVNTV09SRF9SRVNFVDpcIlBBU1NXT1JEX1JFU0VUXCIsUkVDT1ZFUl9FTUFJTDpcIlJFQ09WRVJfRU1BSUxcIixSRVZFUlRfU0VDT05EX0ZBQ1RPUl9BRERJVElPTjokaSxWRVJJRllfQU5EX0NIQU5HRV9FTUFJTDpRaSxWRVJJRllfRU1BSUw6XCJWRVJJRllfRU1BSUxcIn19LEF1dGg6emgsQXV0aENyZWRlbnRpYWw6WnIsRXJyb3I6VH07SmwodCxcIkVtYWlsQXV0aFByb3ZpZGVyXCIsd28sW10pLEpsKHQsXCJGYWNlYm9va0F1dGhQcm92aWRlclwiLGNvLFtdKSxKbCh0LFwiR2l0aHViQXV0aFByb3ZpZGVyXCIsbG8sW10pLEpsKHQsXCJHb29nbGVBdXRoUHJvdmlkZXJcIixwbyxbXSksSmwodCxcIlR3aXR0ZXJBdXRoUHJvdmlkZXJcIixtbyxbXSksSmwodCxcIk9BdXRoUHJvdmlkZXJcIix1byxbTGwoXCJwcm92aWRlcklkXCIpXSksSmwodCxcIlNBTUxBdXRoUHJvdmlkZXJcIixzbyxbTGwoXCJwcm92aWRlcklkXCIpXSksSmwodCxcIlBob25lQXV0aFByb3ZpZGVyXCIsU28sW3tuYW1lOlwiYXV0aFwiLEs6XCJhbiBpbnN0YW5jZSBvZiBGaXJlYmFzZSBBdXRoXCIsb3B0aW9uYWw6ITAsTTpmdW5jdGlvbih0KXtyZXR1cm4hISh0JiZ0IGluc3RhbmNlb2YgemgpfX1dKSxKbCh0LFwiUmVjYXB0Y2hhVmVyaWZpZXJcIixSbCxbQmwoTGwoKSx7bmFtZTpcIlwiLEs6XCJhbiBIVE1MIGVsZW1lbnRcIixvcHRpb25hbDohMSxNOmZ1bmN0aW9uKHQpe3JldHVybiEhKHQmJnQgaW5zdGFuY2VvZiBFbGVtZW50KX19LFwicmVjYXB0Y2hhQ29udGFpbmVyXCIpLE1sKFwicmVjYXB0Y2hhUGFyYW1ldGVyc1wiLCEwKSx7bmFtZTpcImFwcFwiLEs6XCJhbiBpbnN0YW5jZSBvZiBGaXJlYmFzZSBBcHBcIixvcHRpb25hbDohMCxNOmZ1bmN0aW9uKHQpe3JldHVybiEhKHQmJnQgaW5zdGFuY2VvZiB6bC5kZWZhdWx0LmFwcC5BcHApfX1dKSxKbCh0LFwiQWN0aW9uQ29kZVVSTFwiLGhyLFtdKSxKbCh0LFwiUGhvbmVNdWx0aUZhY3RvckdlbmVyYXRvclwiLG1sLFtdKSx6bC5kZWZhdWx0LklOVEVSTkFMLnJlZ2lzdGVyQ29tcG9uZW50KHtuYW1lOlwiYXV0aFwiLGluc3RhbmNlRmFjdG9yeTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHpoKHQ9dC5nZXRQcm92aWRlcihcImFwcFwiKS5nZXRJbW1lZGlhdGUoKSl9LG11bHRpcGxlSW5zdGFuY2VzOiExLHNlcnZpY2VQcm9wczp0LGluc3RhbnRpYXRpb25Nb2RlOlwiTEFaWVwiLHR5cGU6XCJQVUJMSUNcIn0pLHpsLmRlZmF1bHQuSU5URVJOQUwucmVnaXN0ZXJDb21wb25lbnQoe25hbWU6XCJhdXRoLWludGVybmFsXCIsaW5zdGFuY2VGYWN0b3J5OmZ1bmN0aW9uKHQpe3JldHVybntnZXRVaWQ6YigodD10LmdldFByb3ZpZGVyKFwiYXV0aFwiKS5nZXRJbW1lZGlhdGUoKSkuZ2V0VWlkLHQpLGdldFRva2VuOmIodC5uYyx0KSxhZGRBdXRoVG9rZW5MaXN0ZW5lcjpiKHQuY2MsdCkscmVtb3ZlQXV0aFRva2VuTGlzdGVuZXI6Yih0LlBjLHQpfX0sbXVsdGlwbGVJbnN0YW5jZXM6ITEsaW5zdGFudGlhdGlvbk1vZGU6XCJMQVpZXCIsdHlwZTpcIlBSSVZBVEVcIn0pLHpsLmRlZmF1bHQucmVnaXN0ZXJWZXJzaW9uKFwiQGZpcmViYXNlL2F1dGhcIixcIjAuMTYuNVwiKSx6bC5kZWZhdWx0LklOVEVSTkFMLmV4dGVuZE5hbWVzcGFjZSh7VXNlcjpoaH0pfSgpfS5hcHBseShcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0uYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKHQpe3Rocm93IGNvbnNvbGUuZXJyb3IodCksbmV3IEVycm9yKFwiQ2Fubm90IGluc3RhbnRpYXRlIGZpcmViYXNlLWF1dGguanMgLSBiZSBzdXJlIHRvIGxvYWQgZmlyZWJhc2UtYXBwLmpzIGZpcnN0LlwiKX19KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpcmViYXNlLWF1dGguanMubWFwXG4iLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9lKHJlcXVpcmUoXCJAZmlyZWJhc2UvYXBwXCIpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcIkBmaXJlYmFzZS9hcHBcIl0sZSk6ZSgodD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnR8fHNlbGYpLmZpcmViYXNlKX0odGhpcyxmdW5jdGlvbihvbSl7XCJ1c2Ugc3RyaWN0XCI7dHJ5eyFmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcImRlZmF1bHRcImluIHQ/dDp7ZGVmYXVsdDp0fX12YXIgZT10KG9tKSxyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pfSkodCxlKX07ZnVuY3Rpb24gbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyhlKStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9cih0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX1mdW5jdGlvbiB5KHQscyxhLHUpe3JldHVybiBuZXcoYT1hfHxQcm9taXNlKShmdW5jdGlvbihuLGUpe2Z1bmN0aW9uIHIodCl7dHJ5e28odS5uZXh0KHQpKX1jYXRjaCh0KXtlKHQpfX1mdW5jdGlvbiBpKHQpe3RyeXtvKHUudGhyb3codCkpfWNhdGNoKHQpe2UodCl9fWZ1bmN0aW9uIG8odCl7dmFyIGU7dC5kb25lP24odC52YWx1ZSk6KChlPXQudmFsdWUpaW5zdGFuY2VvZiBhP2U6bmV3IGEoZnVuY3Rpb24odCl7dChlKX0pKS50aGVuKHIsaSl9bygodT11LmFwcGx5KHQsc3x8W10pKS5uZXh0KCkpfSl9ZnVuY3Rpb24gZyhuLHIpe3ZhciBpLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnNbMF0pdGhyb3cgc1sxXTtyZXR1cm4gc1sxXX0sdHJ5czpbXSxvcHM6W119LHQ9e25leHQ6ZSgwKSx0aHJvdzplKDEpLHJldHVybjplKDIpfTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJih0W1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQ7ZnVuY3Rpb24gZShlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDthOyl0cnl7aWYoaT0xLG8mJihzPTImZVswXT9vLnJldHVybjplWzBdP28udGhyb3d8fCgocz1vLnJldHVybikmJnMuY2FsbChvKSwwKTpvLm5leHQpJiYhKHM9cy5jYWxsKG8sZVsxXSkpLmRvbmUpcmV0dXJuIHM7c3dpdGNoKG89MCwoZT1zP1syJmVbMF0scy52YWx1ZV06ZSlbMF0pe2Nhc2UgMDpjYXNlIDE6cz1lO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYS5sYWJlbCsrLHt2YWx1ZTplWzFdLGRvbmU6ITF9O2Nhc2UgNTphLmxhYmVsKyssbz1lWzFdLGU9WzBdO2NvbnRpbnVlO2Nhc2UgNzplPWEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEocz0wPChzPWEudHJ5cykubGVuZ3RoJiZzW3MubGVuZ3RoLTFdKSYmKDY9PT1lWzBdfHwyPT09ZVswXSkpe2E9MDtjb250aW51ZX1pZigzPT09ZVswXSYmKCFzfHxlWzFdPnNbMF0mJmVbMV08c1szXSkpe2EubGFiZWw9ZVsxXTticmVha31pZig2PT09ZVswXSYmYS5sYWJlbDxzWzFdKXthLmxhYmVsPXNbMV0scz1lO2JyZWFrfWlmKHMmJmEubGFiZWw8c1syXSl7YS5sYWJlbD1zWzJdLGEub3BzLnB1c2goZSk7YnJlYWt9c1syXSYmYS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlfWU9ci5jYWxsKG4sYSl9Y2F0Y2godCl7ZT1bNix0XSxvPTB9ZmluYWxseXtpPXM9MH1pZig1JmVbMF0pdGhyb3cgZVsxXTtyZXR1cm57dmFsdWU6ZVswXT9lWzFdOnZvaWQgMCxkb25lOiEwfX0oW2UsdF0pfX19ZnVuY3Rpb24gcyh0LGUpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGgsaT10Lmxlbmd0aDtuPHI7bisrLGkrKyl0W2ldPWVbbl07cmV0dXJuIHR9ZnVuY3Rpb24gaCgpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJlwic3RyaW5nXCI9PXR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50P25hdmlnYXRvci51c2VyQWdlbnQ6XCJcIn12YXIgaSxvPVwiRmlyZWJhc2VFcnJvclwiLGE9KG4odSxpPUVycm9yKSx1KTtmdW5jdGlvbiB1KHQsZSxuKXtlPWkuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiBlLmNvZGU9dCxlLmN1c3RvbURhdGE9bixlLm5hbWU9byxPYmplY3Quc2V0UHJvdG90eXBlT2YoZSx1LnByb3RvdHlwZSksRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGUsYy5wcm90b3R5cGUuY3JlYXRlKSxlfXZhciBjPShsLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07dmFyIHIsaT1lWzBdfHx7fSxvPXRoaXMuc2VydmljZStcIi9cIit0LHQ9dGhpcy5lcnJvcnNbdF0sdD10PyhyPWksdC5yZXBsYWNlKGQsZnVuY3Rpb24odCxlKXt2YXIgbj1yW2VdO3JldHVybiBudWxsIT1uP1N0cmluZyhuKTpcIjxcIitlK1wiPz5cIn0pKTpcIkVycm9yXCIsdD10aGlzLnNlcnZpY2VOYW1lK1wiOiBcIit0K1wiIChcIitvK1wiKS5cIjtyZXR1cm4gbmV3IGEobyx0LGkpfSxsKTtmdW5jdGlvbiBsKHQsZSxuKXt0aGlzLnNlcnZpY2U9dCx0aGlzLnNlcnZpY2VOYW1lPWUsdGhpcy5lcnJvcnM9bn12YXIgZixkPS9cXHtcXCQoW159XSspfS9nO2Z1bmN0aW9uIG0odCl7cmV0dXJuIHQmJnQuX2RlbGVnYXRlP3QuX2RlbGVnYXRlOnR9KEVlPWY9Znx8e30pW0VlLkRFQlVHPTBdPVwiREVCVUdcIixFZVtFZS5WRVJCT1NFPTFdPVwiVkVSQk9TRVwiLEVlW0VlLklORk89Ml09XCJJTkZPXCIsRWVbRWUuV0FSTj0zXT1cIldBUk5cIixFZVtFZS5FUlJPUj00XT1cIkVSUk9SXCIsRWVbRWUuU0lMRU5UPTVdPVwiU0lMRU5UXCI7ZnVuY3Rpb24gcCh0LGUpe2Zvcih2YXIgbj1bXSxyPTI7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyluW3ItMl09YXJndW1lbnRzW3JdO2lmKCEoZTx0LmxvZ0xldmVsKSl7dmFyIGk9KG5ldyBEYXRlKS50b0lTT1N0cmluZygpLG89d1tlXTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gbG9nIGEgbWVzc2FnZSB3aXRoIGFuIGludmFsaWQgbG9nVHlwZSAodmFsdWU6IFwiK2UrXCIpXCIpO2NvbnNvbGVbb10uYXBwbHkoY29uc29sZSxzKFtcIltcIitpK1wiXSAgXCIrdC5uYW1lK1wiOlwiXSxuKSl9fXZhciB2PXtkZWJ1ZzpmLkRFQlVHLHZlcmJvc2U6Zi5WRVJCT1NFLGluZm86Zi5JTkZPLHdhcm46Zi5XQVJOLGVycm9yOmYuRVJST1Isc2lsZW50OmYuU0lMRU5UfSxiPWYuSU5GTyx3PSgoVGU9e30pW2YuREVCVUddPVwibG9nXCIsVGVbZi5WRVJCT1NFXT1cImxvZ1wiLFRlW2YuSU5GT109XCJpbmZvXCIsVGVbZi5XQVJOXT1cIndhcm5cIixUZVtmLkVSUk9SXT1cImVycm9yXCIsVGUpLEk9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFLnByb3RvdHlwZSxcImxvZ0xldmVsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2dMZXZlbH0sc2V0OmZ1bmN0aW9uKHQpe2lmKCEodCBpbiBmKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHZhbHVlIFwiJyt0KydcIiBhc3NpZ25lZCB0byBgbG9nTGV2ZWxgJyk7dGhpcy5fbG9nTGV2ZWw9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxFLnByb3RvdHlwZS5zZXRMb2dMZXZlbD1mdW5jdGlvbih0KXt0aGlzLl9sb2dMZXZlbD1cInN0cmluZ1wiPT10eXBlb2YgdD92W3RdOnR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFLnByb3RvdHlwZSxcImxvZ0hhbmRsZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvZ0hhbmRsZXJ9LHNldDpmdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJWYWx1ZSBhc3NpZ25lZCB0byBgbG9nSGFuZGxlcmAgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3RoaXMuX2xvZ0hhbmRsZXI9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRS5wcm90b3R5cGUsXCJ1c2VyTG9nSGFuZGxlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlckxvZ0hhbmRsZXJ9LHNldDpmdW5jdGlvbih0KXt0aGlzLl91c2VyTG9nSGFuZGxlcj10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLEUucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX3VzZXJMb2dIYW5kbGVyJiZ0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLHMoW3RoaXMsZi5ERUJVR10sdCkpLHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcyxzKFt0aGlzLGYuREVCVUddLHQpKX0sRS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX3VzZXJMb2dIYW5kbGVyJiZ0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLHMoW3RoaXMsZi5WRVJCT1NFXSx0KSksdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLHMoW3RoaXMsZi5WRVJCT1NFXSx0KSl9LEUucHJvdG90eXBlLmluZm89ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fdXNlckxvZ0hhbmRsZXImJnRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMscyhbdGhpcyxmLklORk9dLHQpKSx0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMscyhbdGhpcyxmLklORk9dLHQpKX0sRS5wcm90b3R5cGUud2Fybj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0aGlzLl91c2VyTG9nSGFuZGxlciYmdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcyxzKFt0aGlzLGYuV0FSTl0sdCkpLHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcyxzKFt0aGlzLGYuV0FSTl0sdCkpfSxFLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0aGlzLl91c2VyTG9nSGFuZGxlciYmdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcyxzKFt0aGlzLGYuRVJST1JdLHQpKSx0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMscyhbdGhpcyxmLkVSUk9SXSx0KSl9LEUpO2Z1bmN0aW9uIEUodCl7dGhpcy5uYW1lPXQsdGhpcy5fbG9nTGV2ZWw9Yix0aGlzLl9sb2dIYW5kbGVyPXAsdGhpcy5fdXNlckxvZ0hhbmRsZXI9bnVsbH12YXIgVD1mdW5jdGlvbih0LGUpe3JldHVybihUPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKX0pKHQsZSl9O2Z1bmN0aW9uIF8odCl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Isbj1lJiZ0W2VdLHI9MDtpZihuKXJldHVybiBuLmNhbGwodCk7aWYodCYmXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue3ZhbHVlOih0PXQmJnI+PXQubGVuZ3RoP3ZvaWQgMDp0KSYmdFtyKytdLGRvbmU6IXR9fX07dGhyb3cgbmV3IFR5cGVFcnJvcihlP1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9dmFyIFMsTj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6e30sRD17fSxBPU58fHNlbGY7ZnVuY3Rpb24gaygpe31mdW5jdGlvbiBDKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVyblwiYXJyYXlcIj09KGU9XCJvYmplY3RcIiE9ZT9lOnQ/QXJyYXkuaXNBcnJheSh0KT9cImFycmF5XCI6ZTpcIm51bGxcIil8fFwib2JqZWN0XCI9PWUmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aH1mdW5jdGlvbiBSKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVyblwib2JqZWN0XCI9PWUmJm51bGwhPXR8fFwiZnVuY3Rpb25cIj09ZX12YXIgeD1cImNsb3N1cmVfdWlkX1wiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApLE89MDtmdW5jdGlvbiBMKHQsZSxuKXtyZXR1cm4gdC5jYWxsLmFwcGx5KHQuYmluZCxhcmd1bWVudHMpfWZ1bmN0aW9uIFAoZSxuLHQpe2lmKCFlKXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkodCxyKSxlLmFwcGx5KG4sdCl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KG4sYXJndW1lbnRzKX19ZnVuY3Rpb24gTSh0LGUsbil7cmV0dXJuKE09RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJi0xIT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoXCJuYXRpdmUgY29kZVwiKT9MOlApLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBGKGUpe3ZhciBuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1uLnNsaWNlKCk7cmV0dXJuIHQucHVzaC5hcHBseSh0LGFyZ3VtZW50cyksZS5hcHBseSh0aGlzLHQpfX1mdW5jdGlvbiBWKCl7cmV0dXJuIERhdGUubm93KCl9ZnVuY3Rpb24gVSh0LG8pe2Z1bmN0aW9uIGUoKXt9ZS5wcm90b3R5cGU9by5wcm90b3R5cGUsdC5YPW8ucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBlLCh0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10KS5LYj1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksaT0yO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspcltpLTJdPWFyZ3VtZW50c1tpXTtyZXR1cm4gby5wcm90b3R5cGVbZV0uYXBwbHkodCxyKX19ZnVuY3Rpb24gcSgpe3RoaXMuaj10aGlzLmosdGhpcy5pPXRoaXMuaX1xLnByb3RvdHlwZS5qPSExLHEucHJvdG90eXBlLmphPWZ1bmN0aW9uKCl7dmFyIHQ7IXRoaXMuaiYmKHRoaXMuaj0hMCx0aGlzLkcoKSwwKSYmKHQ9dGhpcyxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCx4KSYmdFt4XXx8KHRbeF09KytPKSl9LHEucHJvdG90eXBlLkc9ZnVuY3Rpb24oKXtpZih0aGlzLmkpZm9yKDt0aGlzLmkubGVuZ3RoOyl0aGlzLmkuc2hpZnQoKSgpfTt2YXIgQj1BcnJheS5wcm90b3R5cGUuaW5kZXhPZj9mdW5jdGlvbih0LGUpe3JldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQsZSx2b2lkIDApfTpmdW5jdGlvbih0LGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlfHwxIT1lLmxlbmd0aD8tMTp0LmluZGV4T2YoZSwwKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZihuIGluIHQmJnRbbl09PT1lKXJldHVybiBuO3JldHVybi0xfSxqPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKHQsZSxuKXtBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHQsZSxuKX06ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj10Lmxlbmd0aCxpPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Quc3BsaXQoXCJcIik6dCxvPTA7bzxyO28rKylvIGluIGkmJmUuY2FsbChuLGlbb10sbyx0KX07ZnVuY3Rpb24gSygpe3JldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLGFyZ3VtZW50cyl9ZnVuY3Rpb24gRyh0KXt2YXIgZT10Lmxlbmd0aDtpZigwPGUpe2Zvcih2YXIgbj1BcnJheShlKSxyPTA7cjxlO3IrKyluW3JdPXRbcl07cmV0dXJuIG59cmV0dXJuW119ZnVuY3Rpb24gUSh0KXtyZXR1cm4vXltcXHNcXHhhMF0qJC8udGVzdCh0KX12YXIgeixIPVN0cmluZy5wcm90b3R5cGUudHJpbT9mdW5jdGlvbih0KXtyZXR1cm4gdC50cmltKCl9OmZ1bmN0aW9uKHQpe3JldHVybi9eW1xcc1xceGEwXSooW1xcc1xcU10qPylbXFxzXFx4YTBdKiQvLmV4ZWModClbMV19O2Z1bmN0aW9uIFcodCxlKXtyZXR1cm4tMSE9dC5pbmRleE9mKGUpfWZ1bmN0aW9uIFkodCxlKXtyZXR1cm4gdDxlPy0xOmU8dD8xOjB9dDp7dmFyIFg9QS5uYXZpZ2F0b3I7aWYoWCl7WD1YLnVzZXJBZ2VudDtpZihYKXt6PVg7YnJlYWsgdH19ej1cIlwifWZ1bmN0aW9uIEoodCxlLG4pe2Zvcih2YXIgciBpbiB0KWUuY2FsbChuLHRbcl0scix0KX1mdW5jdGlvbiAkKHQpe3ZhciBlLG49e307Zm9yKGUgaW4gdCluW2VdPXRbZV07cmV0dXJuIG59dmFyIFo9XCJjb25zdHJ1Y3RvciBoYXNPd25Qcm9wZXJ0eSBpc1Byb3RvdHlwZU9mIHByb3BlcnR5SXNFbnVtZXJhYmxlIHRvTG9jYWxlU3RyaW5nIHRvU3RyaW5nIHZhbHVlT2ZcIi5zcGxpdChcIiBcIik7ZnVuY3Rpb24gdHQodCl7Zm9yKHZhciBlLG4scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe2ZvcihlIGluIG49YXJndW1lbnRzW3JdKXRbZV09bltlXTtmb3IodmFyIGk9MDtpPFoubGVuZ3RoO2krKyllPVpbaV0sT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sZSkmJih0W2VdPW5bZV0pfX1mdW5jdGlvbiBldCh0KXtyZXR1cm4gZXRbXCIgXCJdKHQpLHR9ZXRbXCIgXCJdPWs7dmFyIG50LHJ0PVcoeixcIk9wZXJhXCIpLGl0PVcoeixcIlRyaWRlbnRcIil8fFcoeixcIk1TSUVcIiksb3Q9Vyh6LFwiRWRnZVwiKSxzdD1vdHx8aXQsYXQ9Vyh6LFwiR2Vja29cIikmJiEoVyh6LnRvTG93ZXJDYXNlKCksXCJ3ZWJraXRcIikmJiFXKHosXCJFZGdlXCIpKSYmIShXKHosXCJUcmlkZW50XCIpfHxXKHosXCJNU0lFXCIpKSYmIVcoeixcIkVkZ2VcIiksdXQ9Vyh6LnRvTG93ZXJDYXNlKCksXCJ3ZWJraXRcIikmJiFXKHosXCJFZGdlXCIpO2Z1bmN0aW9uIGN0KCl7dmFyIHQ9QS5kb2N1bWVudDtyZXR1cm4gdD90LmRvY3VtZW50TW9kZTp2b2lkIDB9dDp7dmFyIGh0PVwiXCIsbHQ9KGx0PXosYXQ/L3J2OihbXlxcKTtdKykoXFwpfDspLy5leGVjKGx0KTpvdD8vRWRnZVxcLyhbXFxkXFwuXSspLy5leGVjKGx0KTppdD8vXFxiKD86TVNJRXxydilbOiBdKFteXFwpO10rKShcXCl8OykvLmV4ZWMobHQpOnV0Py9XZWJLaXRcXC8oXFxTKykvLmV4ZWMobHQpOnJ0Py8oPzpWZXJzaW9uKVsgXFwvXT8oXFxTKykvLmV4ZWMobHQpOnZvaWQgMCk7aWYobHQmJihodD1sdD9sdFsxXTpcIlwiKSxpdCl7bHQ9Y3QoKTtpZihudWxsIT1sdCYmbHQ+cGFyc2VGbG9hdChodCkpe250PVN0cmluZyhsdCk7YnJlYWsgdH19bnQ9aHR9dmFyIGZ0PXt9O2Z1bmN0aW9uIGR0KGEpe3JldHVybiB0PWEsZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9SChTdHJpbmcobnQpKS5zcGxpdChcIi5cIiksbj1IKFN0cmluZyhhKSkuc3BsaXQoXCIuXCIpLHI9TWF0aC5tYXgoZS5sZW5ndGgsbi5sZW5ndGgpLGk9MDswPT10JiZpPHI7aSsrKWZvcih2YXIgbz1lW2ldfHxcIlwiLHM9bltpXXx8XCJcIjtvPS8oXFxkKikoXFxEKikoLiopLy5leGVjKG8pfHxbXCJcIixcIlwiLFwiXCIsXCJcIl0scz0vKFxcZCopKFxcRCopKC4qKS8uZXhlYyhzKXx8W1wiXCIsXCJcIixcIlwiLFwiXCJdLCgwIT1vWzBdLmxlbmd0aHx8MCE9c1swXS5sZW5ndGgpJiYodD1ZKDA9PW9bMV0ubGVuZ3RoPzA6cGFyc2VJbnQob1sxXSwxMCksMD09c1sxXS5sZW5ndGg/MDpwYXJzZUludChzWzFdLDEwKSl8fFkoMD09b1syXS5sZW5ndGgsMD09c1syXS5sZW5ndGgpfHxZKG9bMl0sc1syXSksbz1vWzNdLHM9c1szXSwwPT10KTspO3JldHVybiAwPD10fSxuPWZ0LE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHQpP25bdF06blt0XT1lKHQpO3ZhciB0LGUsbn12YXIgcHQ9QS5kb2N1bWVudCYmaXQmJihjdCgpfHxwYXJzZUludChudCwxMCkpfHx2b2lkIDAseXQ9IWl0fHw5PD1OdW1iZXIocHQpLGd0PWl0JiYhZHQoXCI5XCIpLG10PWZ1bmN0aW9uKCl7aWYoIUEuYWRkRXZlbnRMaXN0ZW5lcnx8IU9iamVjdC5kZWZpbmVQcm9wZXJ0eSlyZXR1cm4hMTt2YXIgdD0hMSxlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcInBhc3NpdmVcIix7Z2V0OmZ1bmN0aW9uKCl7dD0hMH19KTt0cnl7QS5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLGssZSksQS5yZW1vdmVFdmVudExpc3RlbmVyKFwidGVzdFwiLGssZSl9Y2F0Y2godCl7fXJldHVybiB0fSgpO2Z1bmN0aW9uIHZ0KHQsZSl7dGhpcy50eXBlPXQsdGhpcy5hPXRoaXMudGFyZ2V0PWUsdGhpcy5kZWZhdWx0UHJldmVudGVkPSExfWZ1bmN0aW9uIGJ0KHQsZSl7aWYodnQuY2FsbCh0aGlzLHQ/dC50eXBlOlwiXCIpLHRoaXMucmVsYXRlZFRhcmdldD10aGlzLmE9dGhpcy50YXJnZXQ9bnVsbCx0aGlzLmJ1dHRvbj10aGlzLnNjcmVlblk9dGhpcy5zY3JlZW5YPXRoaXMuY2xpZW50WT10aGlzLmNsaWVudFg9MCx0aGlzLmtleT1cIlwiLHRoaXMubWV0YUtleT10aGlzLnNoaWZ0S2V5PXRoaXMuYWx0S2V5PXRoaXMuY3RybEtleT0hMSx0aGlzLnBvaW50ZXJJZD0wLHRoaXMucG9pbnRlclR5cGU9XCJcIix0aGlzLmM9bnVsbCx0KXt2YXIgbj10aGlzLnR5cGU9dC50eXBlLHI9dC5jaGFuZ2VkVG91Y2hlcyYmdC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg/dC5jaGFuZ2VkVG91Y2hlc1swXTpudWxsO2lmKHRoaXMudGFyZ2V0PXQudGFyZ2V0fHx0LnNyY0VsZW1lbnQsdGhpcy5hPWUsZT10LnJlbGF0ZWRUYXJnZXQpe2lmKGF0KXt0Ont0cnl7ZXQoZS5ub2RlTmFtZSk7dmFyIGk9ITA7YnJlYWsgdH1jYXRjaCh0KXt9aT0hMX1pfHwoZT1udWxsKX19ZWxzZVwibW91c2VvdmVyXCI9PW4/ZT10LmZyb21FbGVtZW50OlwibW91c2VvdXRcIj09biYmKGU9dC50b0VsZW1lbnQpO3RoaXMucmVsYXRlZFRhcmdldD1lLHI/KHRoaXMuY2xpZW50WD12b2lkIDAhPT1yLmNsaWVudFg/ci5jbGllbnRYOnIucGFnZVgsdGhpcy5jbGllbnRZPXZvaWQgMCE9PXIuY2xpZW50WT9yLmNsaWVudFk6ci5wYWdlWSx0aGlzLnNjcmVlblg9ci5zY3JlZW5YfHwwLHRoaXMuc2NyZWVuWT1yLnNjcmVlbll8fDApOih0aGlzLmNsaWVudFg9dm9pZCAwIT09dC5jbGllbnRYP3QuY2xpZW50WDp0LnBhZ2VYLHRoaXMuY2xpZW50WT12b2lkIDAhPT10LmNsaWVudFk/dC5jbGllbnRZOnQucGFnZVksdGhpcy5zY3JlZW5YPXQuc2NyZWVuWHx8MCx0aGlzLnNjcmVlblk9dC5zY3JlZW5ZfHwwKSx0aGlzLmJ1dHRvbj10LmJ1dHRvbix0aGlzLmtleT10LmtleXx8XCJcIix0aGlzLmN0cmxLZXk9dC5jdHJsS2V5LHRoaXMuYWx0S2V5PXQuYWx0S2V5LHRoaXMuc2hpZnRLZXk9dC5zaGlmdEtleSx0aGlzLm1ldGFLZXk9dC5tZXRhS2V5LHRoaXMucG9pbnRlcklkPXQucG9pbnRlcklkfHwwLHRoaXMucG9pbnRlclR5cGU9XCJzdHJpbmdcIj09dHlwZW9mIHQucG9pbnRlclR5cGU/dC5wb2ludGVyVHlwZTp3dFt0LnBvaW50ZXJUeXBlXXx8XCJcIiwodGhpcy5jPXQpLmRlZmF1bHRQcmV2ZW50ZWQmJnRoaXMuYigpfX12dC5wcm90b3R5cGUuYj1mdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMH0sVShidCx2dCk7dmFyIHd0PXsyOlwidG91Y2hcIiwzOlwicGVuXCIsNDpcIm1vdXNlXCJ9O2J0LnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7YnQuWC5iLmNhbGwodGhpcyk7dmFyIHQ9dGhpcy5jO2lmKHQucHJldmVudERlZmF1bHQpdC5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgaWYodC5yZXR1cm5WYWx1ZT0hMSxndCl0cnl7KHQuY3RybEtleXx8MTEyPD10LmtleUNvZGUmJnQua2V5Q29kZTw9MTIzKSYmKHQua2V5Q29kZT0tMSl9Y2F0Y2godCl7fX07dmFyIEl0PVwiY2xvc3VyZV9saXN0ZW5hYmxlX1wiKygxZTYqTWF0aC5yYW5kb20oKXwwKSxFdD0wO2Z1bmN0aW9uIFR0KHQsZSxuLHIsaSl7dGhpcy5saXN0ZW5lcj10LHRoaXMucHJveHk9bnVsbCx0aGlzLnNyYz1lLHRoaXMudHlwZT1uLHRoaXMuY2FwdHVyZT0hIXIsdGhpcy5jYT1pLHRoaXMua2V5PSsrRXQsdGhpcy5ZPXRoaXMuWj0hMX1mdW5jdGlvbiBfdCh0KXt0Llk9ITAsdC5saXN0ZW5lcj1udWxsLHQucHJveHk9bnVsbCx0LnNyYz1udWxsLHQuY2E9bnVsbH1mdW5jdGlvbiBTdCh0KXt0aGlzLnNyYz10LHRoaXMuYT17fSx0aGlzLmI9MH1mdW5jdGlvbiBOdCh0LGUpe3ZhciBuLHIsaSxvPWUudHlwZTtvIGluIHQuYSYmKG49dC5hW29dLChpPTA8PShyPUIobixlKSkpJiZBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwobixyLDEpLGkmJihfdChlKSwwPT10LmFbb10ubGVuZ3RoJiYoZGVsZXRlIHQuYVtvXSx0LmItLSkpKX1mdW5jdGlvbiBEdCh0LGUsbixyKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoOysraSl7dmFyIG89dFtpXTtpZighby5ZJiZvLmxpc3RlbmVyPT1lJiZvLmNhcHR1cmU9PSEhbiYmby5jYT09cilyZXR1cm4gaX1yZXR1cm4tMX1TdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89dC50b1N0cmluZygpOyh0PXRoaXMuYVtvXSl8fCh0PXRoaXMuYVtvXT1bXSx0aGlzLmIrKyk7dmFyIHM9RHQodCxlLHIsaSk7cmV0dXJuLTE8cz8oZT10W3NdLG58fChlLlo9ITEpKTooKGU9bmV3IFR0KGUsdGhpcy5zcmMsbywhIXIsaSkpLlo9bix0LnB1c2goZSkpLGV9O3ZhciBBdD1cImNsb3N1cmVfbG1fXCIrKDFlNipNYXRoLnJhbmRvbSgpfDApLGt0PXt9O2Z1bmN0aW9uIEN0KHQsZSxuLHIsaSl7aWYociYmci5vbmNlKXJldHVybiBmdW5jdGlvbiB0KGUsbixyLGksbyl7aWYoQXJyYXkuaXNBcnJheShuKSl7Zm9yKHZhciBzPTA7czxuLmxlbmd0aDtzKyspdChlLG5bc10scixpLG8pO3JldHVybiBudWxsfXI9VnQocik7cmV0dXJuIGUmJmVbSXRdP2Uud2EobixyLFIoaSk/ISFpLmNhcHR1cmU6ISFpLG8pOlJ0KGUsbixyLCEwLGksbyl9KHQsZSxuLHIsaSk7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspQ3QodCxlW29dLG4scixpKTtyZXR1cm4gbnVsbH1yZXR1cm4gbj1WdChuKSx0JiZ0W0l0XT90LnZhKGUsbixSKHIpPyEhci5jYXB0dXJlOiEhcixpKTpSdCh0LGUsbiwhMSxyLGkpfWZ1bmN0aW9uIFJ0KHQsZSxuLHIsaSxvKXtpZighZSl0aHJvdyBFcnJvcihcIkludmFsaWQgZXZlbnQgdHlwZVwiKTt2YXIgcz1SKGkpPyEhaS5jYXB0dXJlOiEhaTtpZihzJiYheXQpcmV0dXJuIG51bGw7dmFyIGEsdSxjPU10KHQpO2lmKGN8fCh0W0F0XT1jPW5ldyBTdCh0KSksKG49Yy5hZGQoZSxuLHIscyxvKSkucHJveHkpcmV0dXJuIG47aWYoYT1QdCxyPXU9eXQ/ZnVuY3Rpb24odCl7cmV0dXJuIGEuY2FsbCh1LnNyYyx1Lmxpc3RlbmVyLHQpfTpmdW5jdGlvbih0KXtpZighKHQ9YS5jYWxsKHUuc3JjLHUubGlzdGVuZXIsdCkpKXJldHVybiB0fSwobi5wcm94eT1yKS5zcmM9dCxyLmxpc3RlbmVyPW4sdC5hZGRFdmVudExpc3RlbmVyKXZvaWQgMD09PShpPSFtdD9zOmkpJiYoaT0hMSksdC5hZGRFdmVudExpc3RlbmVyKGUudG9TdHJpbmcoKSxyLGkpO2Vsc2UgaWYodC5hdHRhY2hFdmVudCl0LmF0dGFjaEV2ZW50KE90KGUudG9TdHJpbmcoKSkscik7ZWxzZXtpZighdC5hZGRMaXN0ZW5lcnx8IXQucmVtb3ZlTGlzdGVuZXIpdGhyb3cgRXJyb3IoXCJhZGRFdmVudExpc3RlbmVyIGFuZCBhdHRhY2hFdmVudCBhcmUgdW5hdmFpbGFibGUuXCIpO3QuYWRkTGlzdGVuZXIocil9cmV0dXJuIG59ZnVuY3Rpb24geHQodCl7dmFyIGUsbixyO1wibnVtYmVyXCIhPXR5cGVvZiB0JiZ0JiYhdC5ZJiYoKGU9dC5zcmMpJiZlW0l0XT9OdChlLmMsdCk6KG49dC50eXBlLHI9dC5wcm94eSxlLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZS5yZW1vdmVFdmVudExpc3RlbmVyKG4scix0LmNhcHR1cmUpOmUuZGV0YWNoRXZlbnQ/ZS5kZXRhY2hFdmVudChPdChuKSxyKTplLmFkZExpc3RlbmVyJiZlLnJlbW92ZUxpc3RlbmVyJiZlLnJlbW92ZUxpc3RlbmVyKHIpLChuPU10KGUpKT8oTnQobix0KSwwPT1uLmImJihuLnNyYz1udWxsLGVbQXRdPW51bGwpKTpfdCh0KSkpfWZ1bmN0aW9uIE90KHQpe3JldHVybiB0IGluIGt0P2t0W3RdOmt0W3RdPVwib25cIit0fWZ1bmN0aW9uIEx0KHQsZSl7dmFyIG49dC5saXN0ZW5lcixyPXQuY2F8fHQuc3JjO3JldHVybiB0LlomJnh0KHQpLG4uY2FsbChyLGUpfWZ1bmN0aW9uIFB0KHQsZSl7aWYodC5ZKXJldHVybiEwO2lmKHl0KXJldHVybiBMdCh0LG5ldyBidChlLHRoaXMpKTtpZighZSl0OntlPVtcIndpbmRvd1wiLFwiZXZlbnRcIl07Zm9yKHZhciBuPUEscj0wO3I8ZS5sZW5ndGg7cisrKWlmKG51bGw9PShuPW5bZVtyXV0pKXtlPW51bGw7YnJlYWsgdH1lPW59cmV0dXJuIEx0KHQsZT1uZXcgYnQoZSx0aGlzKSl9ZnVuY3Rpb24gTXQodCl7cmV0dXJuKHQ9dFtBdF0paW5zdGFuY2VvZiBTdD90Om51bGx9dmFyIEZ0PVwiX19jbG9zdXJlX2V2ZW50c19mbl9cIisoMWU5Kk1hdGgucmFuZG9tKCk+Pj4wKTtmdW5jdGlvbiBWdChlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6KGVbRnRdfHwoZVtGdF09ZnVuY3Rpb24odCl7cmV0dXJuIGUuaGFuZGxlRXZlbnQodCl9KSxlW0Z0XSl9ZnVuY3Rpb24gVXQoKXtxLmNhbGwodGhpcyksdGhpcy5jPW5ldyBTdCh0aGlzKSwodGhpcy5KPXRoaXMpLkM9bnVsbH1mdW5jdGlvbiBxdCh0LGUpe3ZhciBuLHI9dC5DO2lmKHIpZm9yKG49W107cjtyPXIuQyluLnB1c2gocik7aWYodD10Lkoscj1lLnR5cGV8fGUsXCJzdHJpbmdcIj09dHlwZW9mIGU/ZT1uZXcgdnQoZSx0KTplIGluc3RhbmNlb2YgdnQ/ZS50YXJnZXQ9ZS50YXJnZXR8fHQ6KHM9ZSx0dChlPW5ldyB2dChyLHQpLHMpKSxzPSEwLG4pZm9yKHZhciBpPW4ubGVuZ3RoLTE7MDw9aTtpLS0pdmFyIG89ZS5hPW5baV0scz1CdChvLHIsITAsZSkmJnM7aWYocz1CdChvPWUuYT10LHIsITAsZSkmJnMscz1CdChvLHIsITEsZSkmJnMsbilmb3IoaT0wO2k8bi5sZW5ndGg7aSsrKXM9QnQobz1lLmE9bltpXSxyLCExLGUpJiZzfWZ1bmN0aW9uIEJ0KHQsZSxuLHIpe2lmKCEoZT10LmMuYVtTdHJpbmcoZSldKSlyZXR1cm4hMDtlPWUuY29uY2F0KCk7Zm9yKHZhciBpPSEwLG89MDtvPGUubGVuZ3RoOysrbyl7dmFyIHMsYSx1PWVbb107dSYmIXUuWSYmdS5jYXB0dXJlPT1uJiYocz11Lmxpc3RlbmVyLGE9dS5jYXx8dS5zcmMsdS5aJiZOdCh0LmMsdSksaT0hMSE9PXMuY2FsbChhLHIpJiZpKX1yZXR1cm4gaSYmIXIuZGVmYXVsdFByZXZlbnRlZH1VKFV0LHEpLFV0LnByb3RvdHlwZVtJdF09ITAsKFM9VXQucHJvdG90eXBlKS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSxuLHIpe0N0KHRoaXMsdCxlLG4scil9LFMucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUsbixyKXshZnVuY3Rpb24gdChlLG4scixpLG8pe2lmKEFycmF5LmlzQXJyYXkobikpZm9yKHZhciBzPTA7czxuLmxlbmd0aDtzKyspdChlLG5bc10scixpLG8pO2Vsc2UgaT1SKGkpPyEhaS5jYXB0dXJlOiEhaSxyPVZ0KHIpLGUmJmVbSXRdPyhlPWUuYywobj1TdHJpbmcobikudG9TdHJpbmcoKSlpbiBlLmEmJi0xPChyPUR0KHM9ZS5hW25dLHIsaSxvKSkmJihfdChzW3JdKSxBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwocyxyLDEpLDA9PXMubGVuZ3RoJiYoZGVsZXRlIGUuYVtuXSxlLmItLSkpKTooZT1lJiZNdChlKSkmJihuPWUuYVtuLnRvU3RyaW5nKCldLChyPShlPS0xKTwoZT1uP0R0KG4scixpLG8pOmUpP25bZV06bnVsbCkmJnh0KHIpKX0odGhpcyx0LGUsbixyKX0sUy5HPWZ1bmN0aW9uKCl7aWYoVXQuWC5HLmNhbGwodGhpcyksdGhpcy5jKXt2YXIgdCxlPXRoaXMuYztmb3IodCBpbiBlLmEpe2Zvcih2YXIgbj1lLmFbdF0scj0wO3I8bi5sZW5ndGg7cisrKV90KG5bcl0pO2RlbGV0ZSBlLmFbdF0sZS5iLS19fXRoaXMuQz1udWxsfSxTLnZhPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0aGlzLmMuYWRkKFN0cmluZyh0KSxlLCExLG4scil9LFMud2E9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRoaXMuYy5hZGQoU3RyaW5nKHQpLGUsITAsbixyKX07dmFyIGp0PUEuSlNPTi5zdHJpbmdpZnk7ZnVuY3Rpb24gS3QoKXt0aGlzLmI9dGhpcy5hPW51bGx9dmFyIEd0LFF0PSh6dC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIDA8dGhpcy5iPyh0aGlzLmItLSx0PXRoaXMuYSx0aGlzLmE9dC5uZXh0LHQubmV4dD1udWxsKTp0PXRoaXMuYygpLHR9LG5ldyB6dChmdW5jdGlvbigpe3JldHVybiBuZXcgSHR9LGZ1bmN0aW9uKHQpe3QucmVzZXQoKX0pKTtmdW5jdGlvbiB6dCh0LGUpe3RoaXMuYz10LHRoaXMuZj1lLHRoaXMuYj0wLHRoaXMuYT1udWxsfWZ1bmN0aW9uIEh0KCl7dGhpcy5uZXh0PXRoaXMuYj10aGlzLmE9bnVsbH1mdW5jdGlvbiBXdCh0LGUpe3ZhciBuO0d0fHwobj1BLlByb21pc2UucmVzb2x2ZSh2b2lkIDApLEd0PWZ1bmN0aW9uKCl7bi50aGVuKEp0KX0pLFl0fHwoR3QoKSxZdD0hMCksWHQuYWRkKHQsZSl9S3QucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUpe3ZhciBuPVF0LmdldCgpO24uc2V0KHQsZSksdGhpcy5iP3RoaXMuYi5uZXh0PW46dGhpcy5hPW4sdGhpcy5iPW59LEh0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmE9dCx0aGlzLmI9ZSx0aGlzLm5leHQ9bnVsbH07dmFyIFl0PSEoSHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuYj10aGlzLmE9bnVsbH0pLFh0PW5ldyBLdDtmdW5jdGlvbiBKdCgpe2Zvcih2YXIgdCxlO249ZT12b2lkIDAsbj1udWxsLChlPVh0KS5hJiYobj1lLmEsZS5hPWUuYS5uZXh0LGUuYXx8KGUuYj1udWxsKSxuLm5leHQ9bnVsbCksdD1uOyl7dHJ5e3QuYS5jYWxsKHQuYil9Y2F0Y2godCl7IWZ1bmN0aW9uKHQpe0Euc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IHR9LDApfSh0KX12YXIgbj1RdDtuLmYodCksbi5iPDEwMCYmKG4uYisrLHQubmV4dD1uLmEsbi5hPXQpfVl0PSExfWZ1bmN0aW9uICR0KHQsZSl7VXQuY2FsbCh0aGlzKSx0aGlzLmI9dHx8MSx0aGlzLmE9ZXx8QSx0aGlzLmY9TSh0aGlzLlphLHRoaXMpLHRoaXMuZz1WKCl9ZnVuY3Rpb24gWnQodCl7dC5hYT0hMSx0Lk0mJih0LmEuY2xlYXJUaW1lb3V0KHQuTSksdC5NPW51bGwpfWZ1bmN0aW9uIHRlKHQsZSxuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KW4mJih0PU0odCxuKSk7ZWxzZXtpZighdHx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5oYW5kbGVFdmVudCl0aHJvdyBFcnJvcihcIkludmFsaWQgbGlzdGVuZXIgYXJndW1lbnRcIik7dD1NKHQuaGFuZGxlRXZlbnQsdCl9cmV0dXJuIDIxNDc0ODM2NDc8TnVtYmVyKGUpPy0xOkEuc2V0VGltZW91dCh0LGV8fDApfVUoJHQsVXQpLChTPSR0LnByb3RvdHlwZSkuYWE9ITEsUy5NPW51bGwsUy5aYT1mdW5jdGlvbigpe3ZhciB0O3RoaXMuYWEmJigwPCh0PVYoKS10aGlzLmcpJiZ0PC44KnRoaXMuYj90aGlzLk09dGhpcy5hLnNldFRpbWVvdXQodGhpcy5mLHRoaXMuYi10KToodGhpcy5NJiYodGhpcy5hLmNsZWFyVGltZW91dCh0aGlzLk0pLHRoaXMuTT1udWxsKSxxdCh0aGlzLFwidGlja1wiKSx0aGlzLmFhJiYoWnQodGhpcyksdGhpcy5zdGFydCgpKSkpfSxTLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5hYT0hMCx0aGlzLk18fCh0aGlzLk09dGhpcy5hLnNldFRpbWVvdXQodGhpcy5mLHRoaXMuYiksdGhpcy5nPVYoKSl9LFMuRz1mdW5jdGlvbigpeyR0LlguRy5jYWxsKHRoaXMpLFp0KHRoaXMpLGRlbGV0ZSB0aGlzLmF9O3ZhciBlZSxuZSxyZSxpZT0oVChuZT1zZSxyZT1lZT1xKSxuZS5wcm90b3R5cGU9bnVsbD09PXJlP09iamVjdC5jcmVhdGUocmUpOihvZS5wcm90b3R5cGU9cmUucHJvdG90eXBlLG5ldyBvZSksc2UucHJvdG90eXBlLmY9ZnVuY3Rpb24odCl7dGhpcy5iPWFyZ3VtZW50cyx0aGlzLmE/dGhpcy5jPSEwOmZ1bmN0aW9uIHQoZSl7ZS5hPXRlKGZ1bmN0aW9uKCl7ZS5hPW51bGwsZS5jJiYoZS5jPSExLHQoZSkpfSxlLmgpO3ZhciBuPWUuYjtlLmI9bnVsbCxlLmcuYXBwbHkobnVsbCxuKX0odGhpcyl9LHNlLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7ZWUucHJvdG90eXBlLkcuY2FsbCh0aGlzKSx0aGlzLmEmJihBLmNsZWFyVGltZW91dCh0aGlzLmEpLHRoaXMuYT1udWxsLHRoaXMuYz0hMSx0aGlzLmI9bnVsbCl9LHNlKTtmdW5jdGlvbiBvZSgpe3RoaXMuY29uc3RydWN0b3I9bmV9ZnVuY3Rpb24gc2UodCxlKXt2YXIgbj1lZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmc9dCxuLmg9ZSxuLmI9bnVsbCxuLmM9ITEsbi5hPW51bGwsbn1mdW5jdGlvbiBhZSh0KXtxLmNhbGwodGhpcyksdGhpcy5iPXQsdGhpcy5hPXt9fVUoYWUscSk7dmFyIHVlPVtdO2Z1bmN0aW9uIGNlKHQsZSxuLHIpe0FycmF5LmlzQXJyYXkobil8fChuJiYodWVbMF09bi50b1N0cmluZygpKSxuPXVlKTtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIG89Q3QoZSxuW2ldLHJ8fHQuaGFuZGxlRXZlbnQsITEsdC5ifHx0KTtpZighbylicmVhazt0LmFbby5rZXldPW99fWZ1bmN0aW9uIGhlKHQpe0oodC5hLGZ1bmN0aW9uKHQsZSl7dGhpcy5hLmhhc093blByb3BlcnR5KGUpJiZ4dCh0KX0sdCksdC5hPXt9fWZ1bmN0aW9uIGxlKCl7dGhpcy5hPSEwfWZ1bmN0aW9uIGZlKHQsZSxuLHIpe3QuaW5mbyhmdW5jdGlvbigpe3JldHVyblwiWE1MSFRUUCBURVhUIChcIitlK1wiKTogXCIrZnVuY3Rpb24odCxlKXtpZighdC5hKXJldHVybiBlO2lmKCFlKXJldHVybiBudWxsO3RyeXt2YXIgbj1KU09OLnBhcnNlKGUpO2lmKG4pZm9yKHQ9MDt0PG4ubGVuZ3RoO3QrKylpZihBcnJheS5pc0FycmF5KG5bdF0pKXt2YXIgcj1uW3RdO2lmKCEoci5sZW5ndGg8Mikpe3ZhciBpPXJbMV07aWYoQXJyYXkuaXNBcnJheShpKSYmIShpLmxlbmd0aDwxKSl7cj1pWzBdO2lmKFwibm9vcFwiIT1yJiZcInN0b3BcIiE9ciYmXCJjbG9zZVwiIT1yKWZvcih2YXIgbz0xO288aS5sZW5ndGg7bysrKWlbb109XCJcIn19fXJldHVybiBqdChuKX1jYXRjaCh0KXtyZXR1cm4gZX19KHQsbikrKHI/XCIgXCIrcjpcIlwiKX0pfWFlLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7YWUuWC5HLmNhbGwodGhpcyksaGUodGhpcyl9LGFlLnByb3RvdHlwZS5oYW5kbGVFdmVudD1mdW5jdGlvbigpe3Rocm93IEVycm9yKFwiRXZlbnRIYW5kbGVyLmhhbmRsZUV2ZW50IG5vdCBpbXBsZW1lbnRlZFwiKX0sbGUucHJvdG90eXBlLmluZm89ZnVuY3Rpb24oKXt9O3ZhciBkZT17fSxwZT1udWxsO2Z1bmN0aW9uIHllKCl7cmV0dXJuIHBlPXBlfHxuZXcgVXR9ZnVuY3Rpb24gZ2UodCl7dnQuY2FsbCh0aGlzLGRlLkZhLHQpfWZ1bmN0aW9uIG1lKHQpe3ZhciBlPXllKCk7cXQoZSxuZXcgZ2UoZSkpfWZ1bmN0aW9uIHZlKHQsZSl7dnQuY2FsbCh0aGlzLGRlLlNUQVRfRVZFTlQsdCksdGhpcy5zdGF0PWV9ZnVuY3Rpb24gYmUodCl7dmFyIGU9eWUoKTtxdChlLG5ldyB2ZShlLHQpKX1mdW5jdGlvbiB3ZSh0KXt2dC5jYWxsKHRoaXMsZGUuR2EsdCl9ZnVuY3Rpb24gSWUodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IEVycm9yKFwiRm4gbXVzdCBub3QgYmUgbnVsbCBhbmQgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiBBLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0KCl9LGUpfWRlLkZhPVwic2VydmVycmVhY2hhYmlsaXR5XCIsVShnZSx2dCksZGUuU1RBVF9FVkVOVD1cInN0YXRldmVudFwiLFUodmUsdnQpLGRlLkdhPVwidGltaW5nZXZlbnRcIixVKHdlLHZ0KTt2YXIgRWU9e05PX0VSUk9SOjAsJGE6MSxuYjoyLG1iOjMsaGI6NCxsYjo1LG9iOjYsRGE6NyxUSU1FT1VUOjgscmI6OX0sVGU9e2ZiOlwiY29tcGxldGVcIixCYjpcInN1Y2Nlc3NcIixFYTpcImVycm9yXCIsRGE6XCJhYm9ydFwiLHRiOlwicmVhZHlcIix1YjpcInJlYWR5c3RhdGVjaGFuZ2VcIixUSU1FT1VUOlwidGltZW91dFwiLHBiOlwiaW5jcmVtZW50YWxkYXRhXCIsc2I6XCJwcm9ncmVzc1wiLGliOlwiZG93bmxvYWRwcm9ncmVzc1wiLEpiOlwidXBsb2FkcHJvZ3Jlc3NcIn07ZnVuY3Rpb24gX2UoKXt9ZnVuY3Rpb24gU2UodCl7dmFyIGU7cmV0dXJuIGU9IShlPXQuYSk/dC5hPXt9OmV9ZnVuY3Rpb24gTmUoKXt9X2UucHJvdG90eXBlLmE9bnVsbDtOPXtPUEVOOlwiYVwiLGViOlwiYlwiLEVhOlwiY1wiLHFiOlwiZFwifTtmdW5jdGlvbiBEZSgpe3Z0LmNhbGwodGhpcyxcImRcIil9ZnVuY3Rpb24gQWUoKXt2dC5jYWxsKHRoaXMsXCJjXCIpfWZ1bmN0aW9uIGtlKCl7fWZ1bmN0aW9uIENlKHQsZSxuLHIpe3RoaXMuZz10LHRoaXMuYz1lLHRoaXMuZj1uLHRoaXMuUz1yfHwxLHRoaXMuSj1uZXcgYWUodGhpcyksdGhpcy5QPXhlLHQ9c3Q/MTI1OnZvaWQgMCx0aGlzLlI9bmV3ICR0KHQpLHRoaXMuQj1udWxsLHRoaXMuYj0hMSx0aGlzLmo9dGhpcy5sPXRoaXMuaT10aGlzLkg9dGhpcy51PXRoaXMuVD10aGlzLm89bnVsbCx0aGlzLnM9W10sdGhpcy5hPW51bGwsdGhpcy5EPTAsdGhpcy5oPXRoaXMubT1udWxsLHRoaXMuTj0tMSx0aGlzLkE9ITEsdGhpcy5PPTAsdGhpcy5GPW51bGwsdGhpcy5WPXRoaXMuQz10aGlzLlU9dGhpcy5JPSExfVUoRGUsdnQpLFUoQWUsdnQpLFUoa2UsX2UpO3ZhciBSZT1uZXcga2UseGU9NDVlMyxPZT17fSxMZT17fTtmdW5jdGlvbiBQZSh0LGUsbil7dC5IPTEsdC5pPW5uKFhlKGUpKSx0Lmo9bix0Lkk9ITAsTWUodCxudWxsKX1mdW5jdGlvbiBNZSh0LGUpe3QudT1WKCksVmUodCksdC5sPVhlKHQuaSk7dmFyIHMsYSx1LGMsaCxsLG49dC5sLHI9dC5TO0FycmF5LmlzQXJyYXkocil8fChyPVtTdHJpbmcocildKSxnbihuLmIsXCJ0XCIsciksdC5EPTAsdC5hPWNyKHQuZyx0LmcuQz9lOm51bGwpLDA8dC5PJiYodC5GPW5ldyBpZShNKHQuQ2EsdCx0LmEpLHQuTykpLGNlKHQuSix0LmEsXCJyZWFkeXN0YXRlY2hhbmdlXCIsdC5YYSksZT10LkI/JCh0LkIpOnt9LHQuaj8odC5tfHwodC5tPVwiUE9TVFwiKSxlW1wiQ29udGVudC1UeXBlXCJdPVwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsdC5hLmJhKHQubCx0Lm0sdC5qLGUpKToodC5tPVwiR0VUXCIsdC5hLmJhKHQubCx0Lm0sbnVsbCxlKSksbWUoMSkscz10LmMsYT10Lm0sdT10LmwsYz10LmYsaD10LlMsbD10Lmoscy5pbmZvKGZ1bmN0aW9uKCl7aWYocy5hKWlmKGwpZm9yKHZhciB0PVwiXCIsZT1sLnNwbGl0KFwiJlwiKSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByLGksbz1lW25dLnNwbGl0KFwiPVwiKTsxPG8ubGVuZ3RoJiYocj1vWzBdLG89b1sxXSx0PTI8PShpPXIuc3BsaXQoXCJfXCIpKS5sZW5ndGgmJlwidHlwZVwiPT1pWzFdP3QrKHIrXCI9XCIpK28rXCImXCI6dCsocitcIj1yZWRhY3RlZCZcIikpfWVsc2UgdD1udWxsO2Vsc2UgdD1sO3JldHVyblwiWE1MSFRUUCBSRVEgKFwiK2MrXCIpIFthdHRlbXB0IFwiK2grXCJdOiBcIithK1wiXFxuXCIrdStcIlxcblwiK3R9KX1mdW5jdGlvbiBGZSh0LGUsbil7Zm9yKHZhciByLGksbyxzPSEwOyF0LkEmJnQuRDxuLmxlbmd0aDspe3ZhciBhPShhPW4sbz1pPXZvaWQgMCxpPShyPXQpLkQsLTE9PShvPWEuaW5kZXhPZihcIlxcblwiLGkpKT9MZTooaT1OdW1iZXIoYS5zdWJzdHJpbmcoaSxvKSksaXNOYU4oaSk/T2U6KG8rPTEpK2k+YS5sZW5ndGg/TGU6KGE9YS5zdWJzdHIobyxpKSxyLkQ9bytpLGEpKSk7aWYoYT09TGUpezQ9PWUmJih0Lmg9NCxiZSgxNCkscz0hMSksZmUodC5jLHQuZixudWxsLFwiW0luY29tcGxldGUgUmVzcG9uc2VdXCIpO2JyZWFrfWlmKGE9PU9lKXt0Lmg9NCxiZSgxNSksZmUodC5jLHQuZixuLFwiW0ludmFsaWQgQ2h1bmtdXCIpLHM9ITE7YnJlYWt9ZmUodC5jLHQuZixhLG51bGwpLEtlKHQsYSl9ND09ZSYmMD09bi5sZW5ndGgmJih0Lmg9MSxiZSgxNikscz0hMSksdC5iPXQuYiYmcyxzPzA8bi5sZW5ndGgmJiF0LlYmJih0LlY9ITAsKGU9dC5nKS5hPT10JiZlLlUmJiFlLkYmJihlLmMuaW5mbyhcIkdyZWF0LCBubyBidWZmZXJpbmcgcHJveHkgZGV0ZWN0ZWQuIEJ5dGVzIHJlY2VpdmVkOiBcIituLmxlbmd0aCksZXIoZSksZS5GPSEwLGJlKDExKSkpOihmZSh0LmMsdC5mLG4sXCJbSW52YWxpZCBDaHVua2VkIFJlc3BvbnNlXVwiKSxqZSh0KSxCZSh0KSl9ZnVuY3Rpb24gVmUodCl7dC5UPVYoKSt0LlAsVWUodCx0LlApfWZ1bmN0aW9uIFVlKHQsZSl7aWYobnVsbCE9dC5vKXRocm93IEVycm9yKFwiV2F0Y2hEb2cgdGltZXIgbm90IG51bGxcIik7dC5vPUllKE0odC5WYSx0KSxlKX1mdW5jdGlvbiBxZSh0KXt0Lm8mJihBLmNsZWFyVGltZW91dCh0Lm8pLHQubz1udWxsKX1mdW5jdGlvbiBCZSh0KXswPT10Lmcudnx8dC5BfHxpcih0LmcsdCl9ZnVuY3Rpb24gamUodCl7cWUodCk7dmFyIGU9dC5GO2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuamEmJmUuamEoKSx0LkY9bnVsbCxadCh0LlIpLGhlKHQuSiksdC5hJiYoZT10LmEsdC5hPW51bGwsZS5hYm9ydCgpLGUuamEoKSl9ZnVuY3Rpb24gS2UodCxlKXt0cnl7dmFyIG4scixpLG8scyxhPXQuZztpZigwIT1hLnYmJihhLmE9PXR8fFRuKGEuYix0KSkpaWYoYS5JPXQuTiwhdC5DJiZUbihhLmIsdCkmJjM9PWEudil7dHJ5e3ZhciB1PWEua2EuYS5wYXJzZShlKX1jYXRjaCh0KXt1PW51bGx9aWYoQXJyYXkuaXNBcnJheSh1KSYmMz09dS5sZW5ndGgpe3ZhciBjPXU7aWYoMD09Y1swXSl7dDppZighYS5qKXtpZihhLmEpe2lmKCEoYS5hLnUrM2UzPHQudSkpYnJlYWsgdDtycihhKSx6bihhKX10cihhKSxiZSgxOCl9fWVsc2UgYS5vYT1jWzFdLDA8YS5vYS1hLlAmJmNbMl08Mzc1MDAmJmEuSCYmMD09YS5vJiYhYS5tJiYoYS5tPUllKE0oYS5TYSxhKSw2ZTMpKTtpZihFbihhLmIpPD0xJiZhLmVhKXt0cnl7YS5lYSgpfWNhdGNoKHQpe31hLmVhPXZvaWQgMH19ZWxzZSBzcihhLDExKX1lbHNlIGlmKCF0LkMmJmEuYSE9dHx8cnIoYSksIVEoZSkpZm9yKGU9dT1hLmthLmEucGFyc2UoZSksdT0wO3U8ZS5sZW5ndGg7dSsrKWM9ZVt1XSxhLlA9Y1swXSxjPWNbMV0sMj09YS52P1wiY1wiPT1jWzBdPyhhLko9Y1sxXSxhLmdhPWNbMl0sbnVsbCE9KHI9Y1szXSkmJihhLmhhPXIsYS5jLmluZm8oXCJWRVI9XCIrYS5oYSkpLG51bGwhPShvPWNbNF0pJiYoYS5wYT1vLGEuYy5pbmZvKFwiU1ZFUj1cIithLnBhKSksbnVsbCE9KHI9Y1s1XSkmJlwibnVtYmVyXCI9PXR5cGVvZiByJiYwPHImJihuPTEuNSpyLGEuRD1uLGEuYy5pbmZvKFwiYmFja0NoYW5uZWxSZXF1ZXN0VGltZW91dE1zXz1cIituKSksbj1hLChvPXQuYSkmJighKHI9by5hP28uYS5nZXRSZXNwb25zZUhlYWRlcihcIlgtQ2xpZW50LVdpcmUtUHJvdG9jb2xcIik6bnVsbCl8fCEoaT1uLmIpLmEmJihXKHIsXCJzcGR5XCIpfHxXKHIsXCJxdWljXCIpfHxXKHIsXCJoMlwiKSkmJihpLmY9aS5nLGkuYT1uZXcgU2V0LGkuYiYmKF9uKGksaS5iKSxpLmI9bnVsbCkpLCFuLkF8fChzPW8uYT9vLmEuZ2V0UmVzcG9uc2VIZWFkZXIoXCJYLUhUVFAtU2Vzc2lvbi1JZFwiKTpudWxsKSYmKG4ubmE9cyxlbihuLkIsbi5BLHMpKSksYS52PTMsYS5mJiZhLmYudGEoKSxhLlUmJihhLk49VigpLXQudSxhLmMuaW5mbyhcIkhhbmRzaGFrZSBSVFQ6IFwiK2EuTitcIm1zXCIpKSxpPXQsKG49YSkubGE9dXIobixuLkM/bi5nYTpudWxsLG4uZmEpLGkuQz8oU24obi5iLGkpLG89aSwocz1uLkQpJiZvLnNldFRpbWVvdXQocyksby5vJiYocWUobyksVmUobykpLG4uYT1pKTpabihuKSwwPGEuZy5sZW5ndGgmJlluKGEpKTpcInN0b3BcIiE9Y1swXSYmXCJjbG9zZVwiIT1jWzBdfHxzcihhLDcpOjM9PWEudiYmKFwic3RvcFwiPT1jWzBdfHxcImNsb3NlXCI9PWNbMF0/XCJzdG9wXCI9PWNbMF0/c3IoYSw3KTpRbihhKTpcIm5vb3BcIiE9Y1swXSYmYS5mJiZhLmYuc2EoYyksYS5vPTApO21lKDQpfWNhdGNoKHQpe319ZnVuY3Rpb24gR2UodCxlKXtpZih0LmZvckVhY2gmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZm9yRWFjaCl0LmZvckVhY2goZSx2b2lkIDApO2Vsc2UgaWYoQyh0KXx8XCJzdHJpbmdcIj09dHlwZW9mIHQpaih0LGUsdm9pZCAwKTtlbHNle2lmKHQuTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5MKXZhciBuPXQuTCgpO2Vsc2UgaWYodC5LJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lkspbj12b2lkIDA7ZWxzZSBpZihDKHQpfHxcInN0cmluZ1wiPT10eXBlb2YgdClmb3IodmFyIG49W10scj10Lmxlbmd0aCxpPTA7aTxyO2krKyluLnB1c2goaSk7ZWxzZSBmb3IoaSBpbiBuPVtdLHI9MCx0KW5bcisrXT1pO2Zvcih2YXIgaT0ocj1mdW5jdGlvbih0KXtpZih0LksmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuSylyZXR1cm4gdC5LKCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHQuc3BsaXQoXCJcIik7aWYoQyh0KSl7Zm9yKHZhciBlPVtdLG49dC5sZW5ndGgscj0wO3I8bjtyKyspZS5wdXNoKHRbcl0pO3JldHVybiBlfWZvcihyIGluIGU9W10sbj0wLHQpZVtuKytdPXRbcl07cmV0dXJuIGV9KHQpKS5sZW5ndGgsbz0wO288aTtvKyspZS5jYWxsKHZvaWQgMCxyW29dLG4mJm5bb10sdCl9fWZ1bmN0aW9uIFFlKHQsZSl7dGhpcy5iPXt9LHRoaXMuYT1bXSx0aGlzLmM9MDt2YXIgbj1hcmd1bWVudHMubGVuZ3RoO2lmKDE8bil7aWYobiUyKXRocm93IEVycm9yKFwiVW5ldmVuIG51bWJlciBvZiBhcmd1bWVudHNcIik7Zm9yKHZhciByPTA7cjxuO3IrPTIpdGhpcy5zZXQoYXJndW1lbnRzW3JdLGFyZ3VtZW50c1tyKzFdKX1lbHNlIGlmKHQpaWYodCBpbnN0YW5jZW9mIFFlKWZvcihuPXQuTCgpLHI9MDtyPG4ubGVuZ3RoO3IrKyl0aGlzLnNldChuW3JdLHQuZ2V0KG5bcl0pKTtlbHNlIGZvcihyIGluIHQpdGhpcy5zZXQocix0W3JdKX1mdW5jdGlvbiB6ZSh0KXtpZih0LmMhPXQuYS5sZW5ndGgpe2Zvcih2YXIgZT0wLG49MDtlPHQuYS5sZW5ndGg7KXt2YXIgcj10LmFbZV07SGUodC5iLHIpJiYodC5hW24rK109ciksZSsrfXQuYS5sZW5ndGg9bn1pZih0LmMhPXQuYS5sZW5ndGgpe2Zvcih2YXIgaT17fSxuPWU9MDtlPHQuYS5sZW5ndGg7KUhlKGkscj10LmFbZV0pfHwoaVt0LmFbbisrXT1yXT0xKSxlKys7dC5hLmxlbmd0aD1ufX1mdW5jdGlvbiBIZSh0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0oUz1DZS5wcm90b3R5cGUpLnNldFRpbWVvdXQ9ZnVuY3Rpb24odCl7dGhpcy5QPXR9LFMuWGE9ZnVuY3Rpb24odCl7dD10LnRhcmdldDt2YXIgZT10aGlzLkY7ZSYmMz09Qm4odCk/ZS5mKCk6dGhpcy5DYSh0KX0sUy5DYT1mdW5jdGlvbih0KXt0cnl7aWYodD09dGhpcy5hKXQ6e3ZhciBlPUJuKHRoaXMuYSksbj10aGlzLmEudWEoKSxyPXRoaXMuYS5XKCk7aWYoIShlPDN8fDM9PWUmJiFzdCYmIXRoaXMuYS4kKCkpKXt0aGlzLkF8fDQhPWV8fDc9PW58fG1lKDg9PW58fHI8PTA/MzoyKSxxZSh0aGlzKTt2YXIgaT10aGlzLmEuVygpO3RoaXMuTj1pO3ZhciBvPXRoaXMuYS4kKCk7aWYodGhpcy5iPTIwMD09aSxyPXRoaXMuYyx1PXRoaXMubSxjPXRoaXMubCxoPXRoaXMuZixsPXRoaXMuUyxmPWUsZD1pLHIuaW5mbyhmdW5jdGlvbigpe3JldHVyblwiWE1MSFRUUCBSRVNQIChcIitoK1wiKSBbIGF0dGVtcHQgXCIrbCtcIl06IFwiK3UrXCJcXG5cIitjK1wiXFxuXCIrZitcIiBcIitkfSksdGhpcy5iKXtpZih0aGlzLlUmJiF0aGlzLkMpe2U6e2lmKHRoaXMuYSl7dmFyIHM9dGhpcy5hO2lmKChzPXMuYT9zLmEuZ2V0UmVzcG9uc2VIZWFkZXIoXCJYLUhUVFAtSW5pdGlhbC1SZXNwb25zZVwiKTpudWxsKSYmIVEocykpe3ZhciBhPXM7YnJlYWsgZX19YT1udWxsfWlmKCFhKXt0aGlzLmI9ITEsdGhpcy5oPTMsYmUoMTIpLGplKHRoaXMpLEJlKHRoaXMpO2JyZWFrIHR9ZmUodGhpcy5jLHRoaXMuZixhLFwiSW5pdGlhbCBoYW5kc2hha2UgcmVzcG9uc2UgdmlhIFgtSFRUUC1Jbml0aWFsLVJlc3BvbnNlXCIpLHRoaXMuQz0hMCxLZSh0aGlzLGEpfXRoaXMuST8oRmUodGhpcyxlLG8pLHN0JiZ0aGlzLmImJjM9PWUmJihjZSh0aGlzLkosdGhpcy5SLFwidGlja1wiLHRoaXMuV2EpLHRoaXMuUi5zdGFydCgpKSk6KGZlKHRoaXMuYyx0aGlzLmYsbyxudWxsKSxLZSh0aGlzLG8pKSw0PT1lJiZqZSh0aGlzKSx0aGlzLmImJiF0aGlzLkEmJig0PT1lP2lyKHRoaXMuZyx0aGlzKToodGhpcy5iPSExLFZlKHRoaXMpKSl9ZWxzZSA0MDA9PWkmJjA8by5pbmRleE9mKFwiVW5rbm93biBTSURcIik/KHRoaXMuaD0zLGJlKDEyKSk6KHRoaXMuaD0wLGJlKDEzKSksamUodGhpcyksQmUodGhpcyl9fX1jYXRjaCh0KXt9dmFyIHUsYyxoLGwsZixkfSxTLldhPWZ1bmN0aW9uKCl7dmFyIHQsZTt0aGlzLmEmJih0PUJuKHRoaXMuYSksZT10aGlzLmEuJCgpLHRoaXMuRDxlLmxlbmd0aCYmKHFlKHRoaXMpLEZlKHRoaXMsdCxlKSx0aGlzLmImJjQhPXQmJlZlKHRoaXMpKSl9LFMuY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5BPSEwLGplKHRoaXMpfSxTLlZhPWZ1bmN0aW9uKCl7dGhpcy5vPW51bGw7dmFyIHQsZSxuPVYoKTswPD1uLXRoaXMuVD8odD10aGlzLmMsZT10aGlzLmwsdC5pbmZvKGZ1bmN0aW9uKCl7cmV0dXJuXCJUSU1FT1VUOiBcIitlfSksMiE9dGhpcy5IJiYobWUoMyksYmUoMTcpKSxqZSh0aGlzKSx0aGlzLmg9MixCZSh0aGlzKSk6VWUodGhpcyx0aGlzLlQtbil9LChTPVFlLnByb3RvdHlwZSkuSz1mdW5jdGlvbigpe3plKHRoaXMpO2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLmEubGVuZ3RoO2UrKyl0LnB1c2godGhpcy5iW3RoaXMuYVtlXV0pO3JldHVybiB0fSxTLkw9ZnVuY3Rpb24oKXtyZXR1cm4gemUodGhpcyksdGhpcy5hLmNvbmNhdCgpfSxTLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiBIZSh0aGlzLmIsdCk/dGhpcy5iW3RdOmV9LFMuc2V0PWZ1bmN0aW9uKHQsZSl7SGUodGhpcy5iLHQpfHwodGhpcy5jKyssdGhpcy5hLnB1c2godCkpLHRoaXMuYlt0XT1lfSxTLmZvckVhY2g9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5MKCkscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgaT1uW3JdLG89dGhpcy5nZXQoaSk7dC5jYWxsKGUsbyxpLHRoaXMpfX07dmFyIFdlPS9eKD86KFteOi8/Iy5dKyk6KT8oPzpcXC9cXC8oPzooW15cXFxcLz8jXSopQCk/KFteXFxcXC8/I10qPykoPzo6KFswLTldKykpPyg/PVtcXFxcLz8jXXwkKSk/KFtePyNdKyk/KD86XFw/KFteI10qKSk/KD86IyhbXFxzXFxTXSopKT8kLztmdW5jdGlvbiBZZSh0LGUpe3ZhciBuO3RoaXMuYz10aGlzLmo9dGhpcy5mPVwiXCIsdGhpcy5oPW51bGwsdGhpcy5pPXRoaXMuZz1cIlwiLHRoaXMuYT0hMSx0IGluc3RhbmNlb2YgWWU/KHRoaXMuYT12b2lkIDAhPT1lP2U6dC5hLEplKHRoaXMsdC5mKSx0aGlzLmo9dC5qLCRlKHRoaXMsdC5jKSxaZSh0aGlzLHQuaCksdGhpcy5nPXQuZyxlPXQuYiwobj1uZXcgZm4pLmM9ZS5jLGUuYSYmKG4uYT1uZXcgUWUoZS5hKSxuLmI9ZS5iKSx0bih0aGlzLG4pLHRoaXMuaT10LmkpOnQmJihuPVN0cmluZyh0KS5tYXRjaChXZSkpPyh0aGlzLmE9ISFlLEplKHRoaXMsblsxXXx8XCJcIiwhMCksdGhpcy5qPXJuKG5bMl18fFwiXCIpLCRlKHRoaXMsblszXXx8XCJcIiwhMCksWmUodGhpcyxuWzRdKSx0aGlzLmc9cm4obls1XXx8XCJcIiwhMCksdG4odGhpcyxuWzZdfHxcIlwiLCEwKSx0aGlzLmk9cm4obls3XXx8XCJcIikpOih0aGlzLmE9ISFlLHRoaXMuYj1uZXcgZm4obnVsbCx0aGlzLmEpKX1mdW5jdGlvbiBYZSh0KXtyZXR1cm4gbmV3IFllKHQpfWZ1bmN0aW9uIEplKHQsZSxuKXt0LmY9bj9ybihlLCEwKTplLHQuZiYmKHQuZj10LmYucmVwbGFjZSgvOiQvLFwiXCIpKX1mdW5jdGlvbiAkZSh0LGUsbil7dC5jPW4/cm4oZSwhMCk6ZX1mdW5jdGlvbiBaZSh0LGUpe2lmKGUpe2lmKGU9TnVtYmVyKGUpLGlzTmFOKGUpfHxlPDApdGhyb3cgRXJyb3IoXCJCYWQgcG9ydCBudW1iZXIgXCIrZSk7dC5oPWV9ZWxzZSB0Lmg9bnVsbH1mdW5jdGlvbiB0bih0LGUsbil7dmFyIHIsaTtlIGluc3RhbmNlb2YgZm4/KHQuYj1lLHI9dC5iLChpPXQuYSkmJiFyLmYmJihkbihyKSxyLmM9bnVsbCxyLmEuZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciBuPWUudG9Mb3dlckNhc2UoKTtlIT1uJiYocG4odGhpcyxlKSxnbih0aGlzLG4sdCkpfSxyKSksci5mPWkpOihufHwoZT1vbihlLGhuKSksdC5iPW5ldyBmbihlLHQuYSkpfWZ1bmN0aW9uIGVuKHQsZSxuKXt0LmIuc2V0KGUsbil9ZnVuY3Rpb24gbm4odCl7cmV0dXJuIGVuKHQsXCJ6eFwiLE1hdGguZmxvb3IoMjE0NzQ4MzY0OCpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygzNikrTWF0aC5hYnMoTWF0aC5mbG9vcigyMTQ3NDgzNjQ4Kk1hdGgucmFuZG9tKCkpXlYoKSkudG9TdHJpbmcoMzYpKSx0fWZ1bmN0aW9uIHJuKHQsZSl7cmV0dXJuIHQ/ZT9kZWNvZGVVUkkodC5yZXBsYWNlKC8lMjUvZyxcIiUyNTI1XCIpKTpkZWNvZGVVUklDb21wb25lbnQodCk6XCJcIn1mdW5jdGlvbiBvbih0LGUsbil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/KHQ9ZW5jb2RlVVJJKHQpLnJlcGxhY2UoZSxzbiksdD1uP3QucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLFwiJSQxXCIpOnQpOm51bGx9ZnVuY3Rpb24gc24odCl7cmV0dXJuXCIlXCIrKCh0PXQuY2hhckNvZGVBdCgwKSk+PjQmMTUpLnRvU3RyaW5nKDE2KSsoMTUmdCkudG9TdHJpbmcoMTYpfVllLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PVtdLGU9dGhpcy5mO2UmJnQucHVzaChvbihlLGFuLCEwKSxcIjpcIik7dmFyIG49dGhpcy5jO3JldHVybiFuJiZcImZpbGVcIiE9ZXx8KHQucHVzaChcIi8vXCIpLChlPXRoaXMuaikmJnQucHVzaChvbihlLGFuLCEwKSxcIkBcIiksdC5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcobikpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZyxcIiUkMVwiKSksbnVsbCE9KG49dGhpcy5oKSYmdC5wdXNoKFwiOlwiLFN0cmluZyhuKSkpLChuPXRoaXMuZykmJih0aGlzLmMmJlwiL1wiIT1uLmNoYXJBdCgwKSYmdC5wdXNoKFwiL1wiKSx0LnB1c2gob24obixcIi9cIj09bi5jaGFyQXQoMCk/Y246dW4sITApKSksKG49dGhpcy5iLnRvU3RyaW5nKCkpJiZ0LnB1c2goXCI/XCIsbiksKG49dGhpcy5pKSYmdC5wdXNoKFwiI1wiLG9uKG4sbG4pKSx0LmpvaW4oXCJcIil9O3ZhciBhbj0vWyNcXC9cXD9AXS9nLHVuPS9bI1xcPzpdL2csY249L1sjXFw/XS9nLGhuPS9bI1xcP0BdL2csbG49LyMvZztmdW5jdGlvbiBmbih0LGUpe3RoaXMuYj10aGlzLmE9bnVsbCx0aGlzLmM9dHx8bnVsbCx0aGlzLmY9ISFlfWZ1bmN0aW9uIGRuKG4pe24uYXx8KG4uYT1uZXcgUWUsbi5iPTAsbi5jJiZmdW5jdGlvbih0LGUpe2lmKHQpe3Q9dC5zcGxpdChcIiZcIik7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByLGk9dFtuXS5pbmRleE9mKFwiPVwiKSxvPW51bGw7MDw9aT8ocj10W25dLnN1YnN0cmluZygwLGkpLG89dFtuXS5zdWJzdHJpbmcoaSsxKSk6cj10W25dLGUocixvP2RlY29kZVVSSUNvbXBvbmVudChvLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSk6XCJcIil9fX0obi5jLGZ1bmN0aW9uKHQsZSl7bi5hZGQoZGVjb2RlVVJJQ29tcG9uZW50KHQucmVwbGFjZSgvXFwrL2csXCIgXCIpKSxlKX0pKX1mdW5jdGlvbiBwbih0LGUpe2RuKHQpLGU9bW4odCxlKSxIZSh0LmEuYixlKSYmKHQuYz1udWxsLHQuYi09dC5hLmdldChlKS5sZW5ndGgsSGUoKHQ9dC5hKS5iLGUpJiYoZGVsZXRlIHQuYltlXSx0LmMtLSx0LmEubGVuZ3RoPjIqdC5jJiZ6ZSh0KSkpfWZ1bmN0aW9uIHluKHQsZSl7cmV0dXJuIGRuKHQpLGU9bW4odCxlKSxIZSh0LmEuYixlKX1mdW5jdGlvbiBnbih0LGUsbil7cG4odCxlKSwwPG4ubGVuZ3RoJiYodC5jPW51bGwsdC5hLnNldChtbih0LGUpLEcobikpLHQuYis9bi5sZW5ndGgpfWZ1bmN0aW9uIG1uKHQsZSl7cmV0dXJuIGU9U3RyaW5nKGUpLGU9dC5mP2UudG9Mb3dlckNhc2UoKTplfShTPWZuLnByb3RvdHlwZSkuYWRkPWZ1bmN0aW9uKHQsZSl7ZG4odGhpcyksdGhpcy5jPW51bGwsdD1tbih0aGlzLHQpO3ZhciBuPXRoaXMuYS5nZXQodCk7cmV0dXJuIG58fHRoaXMuYS5zZXQodCxuPVtdKSxuLnB1c2goZSksdGhpcy5iKz0xLHRoaXN9LFMuZm9yRWFjaD1mdW5jdGlvbihuLHIpe2RuKHRoaXMpLHRoaXMuYS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7aih0LGZ1bmN0aW9uKHQpe24uY2FsbChyLHQsZSx0aGlzKX0sdGhpcyl9LHRoaXMpfSxTLkw9ZnVuY3Rpb24oKXtkbih0aGlzKTtmb3IodmFyIHQ9dGhpcy5hLksoKSxlPXRoaXMuYS5MKCksbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspZm9yKHZhciBpPXRbcl0sbz0wO288aS5sZW5ndGg7bysrKW4ucHVzaChlW3JdKTtyZXR1cm4gbn0sUy5LPWZ1bmN0aW9uKHQpe2RuKHRoaXMpO3ZhciBlPVtdO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXluKHRoaXMsdCkmJihlPUsoZSx0aGlzLmEuZ2V0KG1uKHRoaXMsdCkpKSk7ZWxzZXt0PXRoaXMuYS5LKCk7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZT1LKGUsdFtuXSl9cmV0dXJuIGV9LFMuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGRuKHRoaXMpLHRoaXMuYz1udWxsLHluKHRoaXMsdD1tbih0aGlzLHQpKSYmKHRoaXMuYi09dGhpcy5hLmdldCh0KS5sZW5ndGgpLHRoaXMuYS5zZXQodCxbZV0pLHRoaXMuYis9MSx0aGlzfSxTLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiB0JiYwPCh0PXRoaXMuSyh0KSkubGVuZ3RoP1N0cmluZyh0WzBdKTplfSxTLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5jKXJldHVybiB0aGlzLmM7aWYoIXRoaXMuYSlyZXR1cm5cIlwiO2Zvcih2YXIgdD1bXSxlPXRoaXMuYS5MKCksbj0wO248ZS5sZW5ndGg7bisrKWZvcih2YXIgcj1lW25dLGk9ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhyKSkscj10aGlzLksociksbz0wO288ci5sZW5ndGg7bysrKXt2YXIgcz1pO1wiXCIhPT1yW29dJiYocys9XCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhyW29dKSkpLHQucHVzaChzKX1yZXR1cm4gdGhpcy5jPXQuam9pbihcIiZcIil9O3ZhciB2bj1mdW5jdGlvbih0LGUpe3RoaXMuYj10LHRoaXMuYT1lfTtmdW5jdGlvbiBibih0KXt0aGlzLmc9dHx8d24sdD1BLlBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZz8wPCh0PUEucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm5hdmlnYXRpb25cIikpLmxlbmd0aCYmKFwiaHFcIj09dFswXS5uZXh0SG9wUHJvdG9jb2x8fFwiaDJcIj09dFswXS5uZXh0SG9wUHJvdG9jb2wpOiEhKEEuaWEmJkEuaWEueWEmJkEuaWEueWEoKSYmQS5pYS55YSgpLkxiKSx0aGlzLmY9dD90aGlzLmc6MSx0aGlzLmE9bnVsbCwxPHRoaXMuZiYmKHRoaXMuYT1uZXcgU2V0KSx0aGlzLmI9bnVsbCx0aGlzLmM9W119dmFyIHduPTEwO2Z1bmN0aW9uIEluKHQpe3JldHVybiB0LmJ8fHQuYSYmdC5hLnNpemU+PXQuZn1mdW5jdGlvbiBFbih0KXtyZXR1cm4gdC5iPzE6dC5hP3QuYS5zaXplOjB9ZnVuY3Rpb24gVG4odCxlKXtyZXR1cm4gdC5iP3QuYj09ZTp0LmEmJnQuYS5oYXMoZSl9ZnVuY3Rpb24gX24odCxlKXt0LmE/dC5hLmFkZChlKTp0LmI9ZX1mdW5jdGlvbiBTbih0LGUpe3QuYiYmdC5iPT1lP3QuYj1udWxsOnQuYSYmdC5hLmhhcyhlKSYmdC5hLmRlbGV0ZShlKX1mdW5jdGlvbiBObih0KXt2YXIgZSxuO2lmKG51bGwhPXQuYilyZXR1cm4gdC5jLmNvbmNhdCh0LmIucyk7aWYobnVsbD09dC5hfHwwPT09dC5hLnNpemUpcmV0dXJuIEcodC5jKTt2YXIgcj10LmM7dHJ5e2Zvcih2YXIgaT1fKHQuYS52YWx1ZXMoKSksbz1pLm5leHQoKTshby5kb25lO289aS5uZXh0KCkpdmFyIHM9by52YWx1ZSxyPXIuY29uY2F0KHMucyl9Y2F0Y2godCl7ZT17ZXJyb3I6dH19ZmluYWxseXt0cnl7byYmIW8uZG9uZSYmKG49aS5yZXR1cm4pJiZuLmNhbGwoaSl9ZmluYWxseXtpZihlKXRocm93IGUuZXJyb3J9fXJldHVybiByfWZ1bmN0aW9uIERuKCl7fWZ1bmN0aW9uIEFuKCl7dGhpcy5hPW5ldyBEbn1mdW5jdGlvbiBrbih0LGUsbixyLGkpe3RyeXtlLm9ubG9hZD1udWxsLGUub25lcnJvcj1udWxsLGUub25hYm9ydD1udWxsLGUub250aW1lb3V0PW51bGwsaShyKX1jYXRjaCh0KXt9fWJuLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt2YXIgZSx0O2lmKHRoaXMuYz1Obih0aGlzKSx0aGlzLmIpdGhpcy5iLmNhbmNlbCgpLHRoaXMuYj1udWxsO2Vsc2UgaWYodGhpcy5hJiYwIT09dGhpcy5hLnNpemUpe3RyeXtmb3IodmFyIG49Xyh0aGlzLmEudmFsdWVzKCkpLHI9bi5uZXh0KCk7IXIuZG9uZTtyPW4ubmV4dCgpKXIudmFsdWUuY2FuY2VsKCl9Y2F0Y2godCl7ZT17ZXJyb3I6dH19ZmluYWxseXt0cnl7ciYmIXIuZG9uZSYmKHQ9bi5yZXR1cm4pJiZ0LmNhbGwobil9ZmluYWxseXtpZihlKXRocm93IGUuZXJyb3J9fXRoaXMuYS5jbGVhcigpfX0sRG4ucHJvdG90eXBlLnN0cmluZ2lmeT1mdW5jdGlvbih0KXtyZXR1cm4gQS5KU09OLnN0cmluZ2lmeSh0LHZvaWQgMCl9LERuLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXtyZXR1cm4gQS5KU09OLnBhcnNlKHQsdm9pZCAwKX07dmFyIENuPUEuSlNPTi5wYXJzZTtmdW5jdGlvbiBSbih0KXtVdC5jYWxsKHRoaXMpLHRoaXMuaGVhZGVycz1uZXcgUWUsdGhpcy5IPXR8fG51bGwsdGhpcy5iPSExLHRoaXMucz10aGlzLmE9bnVsbCx0aGlzLkI9XCJcIix0aGlzLmg9MCx0aGlzLmY9XCJcIix0aGlzLmc9dGhpcy5BPXRoaXMubD10aGlzLnU9ITEsdGhpcy5vPTAsdGhpcy5tPW51bGwsdGhpcy5JPXhuLHRoaXMuRD10aGlzLkY9ITF9VShSbixVdCk7dmFyIHhuPVwiXCIsT249L15odHRwcz8kL2ksTG49W1wiUE9TVFwiLFwiUFVUXCJdO2Z1bmN0aW9uIFBuKHQpe3JldHVyblwiY29udGVudC10eXBlXCI9PXQudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBNbih0LGUpe3QuYj0hMSx0LmEmJih0Lmc9ITAsdC5hLmFib3J0KCksdC5nPSExKSx0LmY9ZSx0Lmg9NSxGbih0KSxVbih0KX1mdW5jdGlvbiBGbih0KXt0LnV8fCh0LnU9ITAscXQodCxcImNvbXBsZXRlXCIpLHF0KHQsXCJlcnJvclwiKSl9ZnVuY3Rpb24gVm4odCl7aWYodC5iJiZ2b2lkIDAhPT1EJiYoIXQuc1sxXXx8NCE9Qm4odCl8fDIhPXQuVygpKSlpZih0LmwmJjQ9PUJuKHQpKXRlKHQuemEsMCx0KTtlbHNlIGlmKHF0KHQsXCJyZWFkeXN0YXRlY2hhbmdlXCIpLDQ9PUJuKHQpKXt0LmI9ITE7dHJ5e3ZhciBlLG4scixpLG89dC5XKCk7dDpzd2l0Y2gobyl7Y2FzZSAyMDA6Y2FzZSAyMDE6Y2FzZSAyMDI6Y2FzZSAyMDQ6Y2FzZSAyMDY6Y2FzZSAzMDQ6Y2FzZSAxMjIzOnZhciBzPSEwO2JyZWFrIHQ7ZGVmYXVsdDpzPSExfShlPXMpfHwoKG49MD09PW8pJiYoIShpPVN0cmluZyh0LkIpLm1hdGNoKFdlKVsxXXx8bnVsbCkmJkEuc2VsZiYmQS5zZWxmLmxvY2F0aW9uJiYoaT0ocj1BLnNlbGYubG9jYXRpb24ucHJvdG9jb2wpLnN1YnN0cigwLHIubGVuZ3RoLTEpKSxuPSFPbi50ZXN0KGk/aS50b0xvd2VyQ2FzZSgpOlwiXCIpKSxlPW4pO2lmKGUpcXQodCxcImNvbXBsZXRlXCIpLHF0KHQsXCJzdWNjZXNzXCIpO2Vsc2V7dC5oPTY7dHJ5e3ZhciBhPTI8Qm4odCk/dC5hLnN0YXR1c1RleHQ6XCJcIn1jYXRjaChvKXthPVwiXCJ9dC5mPWErXCIgW1wiK3QuVygpK1wiXVwiLEZuKHQpfX1maW5hbGx5e1VuKHQpfX19ZnVuY3Rpb24gVW4odCxlKXtpZih0LmEpe3FuKHQpO3ZhciBuPXQuYSxyPXQuc1swXT9rOm51bGw7dC5hPW51bGwsdC5zPW51bGwsZXx8cXQodCxcInJlYWR5XCIpO3RyeXtuLm9ucmVhZHlzdGF0ZWNoYW5nZT1yfWNhdGNoKHQpe319fWZ1bmN0aW9uIHFuKHQpe3QuYSYmdC5EJiYodC5hLm9udGltZW91dD1udWxsKSx0Lm0mJihBLmNsZWFyVGltZW91dCh0Lm0pLHQubT1udWxsKX1mdW5jdGlvbiBCbih0KXtyZXR1cm4gdC5hP3QuYS5yZWFkeVN0YXRlOjB9ZnVuY3Rpb24gam4odCxlLG4pe3Q6e2ZvcihyIGluIG4pe3ZhciByPSExO2JyZWFrIHR9cj0hMH12YXIgaTtyfHwoaT1cIlwiLEoobixmdW5jdGlvbih0LGUpe2krPWUsaSs9XCI6XCIsaSs9dCxpKz1cIlxcclxcblwifSksbj1pLFwic3RyaW5nXCI9PXR5cGVvZiB0P251bGwhPW4mJmVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcobikpOmVuKHQsZSxuKSl9ZnVuY3Rpb24gS24odCxlLG4pe3JldHVybiBuJiZuLmludGVybmFsQ2hhbm5lbFBhcmFtcyYmbi5pbnRlcm5hbENoYW5uZWxQYXJhbXNbdF18fGV9ZnVuY3Rpb24gR24odCl7dGhpcy5wYT0wLHRoaXMuZz1bXSx0aGlzLmM9bmV3IGxlLHRoaXMuZ2E9dGhpcy5sYT10aGlzLkI9dGhpcy5mYT10aGlzLmE9dGhpcy5uYT10aGlzLkE9dGhpcy5WPXRoaXMuaT10aGlzLk89dGhpcy5sPW51bGwsdGhpcy5PYT10aGlzLlI9MCx0aGlzLkxhPUtuKFwiZmFpbEZhc3RcIiwhMSx0KSx0aGlzLkg9dGhpcy5tPXRoaXMuaj10aGlzLmg9dGhpcy5mPW51bGwsdGhpcy5TPSEwLHRoaXMuST10aGlzLm9hPXRoaXMuUD0tMSx0aGlzLlQ9dGhpcy5vPXRoaXMudT0wLHRoaXMuSGE9S24oXCJiYXNlUmV0cnlEZWxheU1zXCIsNWUzLHQpLHRoaXMuUmE9S24oXCJyZXRyeURlbGF5U2VlZE1zXCIsMWU0LHQpLHRoaXMuTWE9S24oXCJmb3J3YXJkQ2hhbm5lbE1heFJldHJpZXNcIiwyLHQpLHRoaXMubWE9S24oXCJmb3J3YXJkQ2hhbm5lbFJlcXVlc3RUaW1lb3V0TXNcIiwyZTQsdCksdGhpcy5OYT10JiZ0Lmd8fHZvaWQgMCx0aGlzLkQ9dm9pZCAwLHRoaXMuQz10JiZ0LnN1cHBvcnRzQ3Jvc3NEb21haW5YaHJ8fCExLHRoaXMuSj1cIlwiLHRoaXMuYj1uZXcgYm4odCYmdC5jb25jdXJyZW50UmVxdWVzdExpbWl0KSx0aGlzLmthPW5ldyBBbix0aGlzLmRhPXQmJnQuZmFzdEhhbmRzaGFrZXx8ITEsdGhpcy5JYT10JiZ0LmJ8fCExLHQmJnQuZiYmKHRoaXMuYy5hPSExKSx0JiZ0LmZvcmNlTG9uZ1BvbGxpbmcmJih0aGlzLlM9ITEpLHRoaXMuVT0hdGhpcy5kYSYmdGhpcy5TJiZ0JiZ0LmRldGVjdEJ1ZmZlcmluZ1Byb3h5fHwhMSx0aGlzLmVhPXZvaWQgMCx0aGlzLk49MCx0aGlzLkY9ITEsdGhpcy5zPW51bGwsKHRoaXMuS2E9dCYmdC5jfHwhMSkmJnRoaXMuYy5pbmZvKFwiT3B0LWluIHRvIGVuYWJsZSBDaHJvbWUgT3JpZ2luIFRyaWFscy5cIil9ZnVuY3Rpb24gUW4odCl7dmFyIGUsbjtIbih0KSwzPT10LnYmJihlPXQuUisrLGVuKG49WGUodC5CKSxcIlNJRFwiLHQuSiksZW4obixcIlJJRFwiLGUpLGVuKG4sXCJUWVBFXCIsXCJ0ZXJtaW5hdGVcIiksSm4odCxuKSwoZT1uZXcgQ2UodCx0LmMsZSx2b2lkIDApKS5IPTIsZS5pPW5uKFhlKG4pKSxuPSExLCEobj1BLm5hdmlnYXRvciYmQS5uYXZpZ2F0b3Iuc2VuZEJlYWNvbj9BLm5hdmlnYXRvci5zZW5kQmVhY29uKGUuaS50b1N0cmluZygpLFwiXCIpOm4pJiZBLkltYWdlJiYoKG5ldyBJbWFnZSkuc3JjPWUuaSxuPSEwKSxufHwoZS5hPWNyKGUuZyxudWxsKSxlLmEuYmEoZS5pKSksZS51PVYoKSxWZShlKSksYXIodCl9ZnVuY3Rpb24gem4odCl7dC5hJiYoZXIodCksdC5hLmNhbmNlbCgpLHQuYT1udWxsKX1mdW5jdGlvbiBIbih0KXt6bih0KSx0LmomJihBLmNsZWFyVGltZW91dCh0LmopLHQuaj1udWxsKSxycih0KSx0LmIuY2FuY2VsKCksdC5oJiYoXCJudW1iZXJcIj09dHlwZW9mIHQuaCYmQS5jbGVhclRpbWVvdXQodC5oKSx0Lmg9bnVsbCl9ZnVuY3Rpb24gV24odCxlKXt0LmcucHVzaChuZXcgdm4odC5PYSsrLGUpKSwzPT10LnYmJlluKHQpfWZ1bmN0aW9uIFluKHQpe0luKHQuYil8fHQuaHx8KHQuaD0hMCxXdCh0LkJhLHQpLHQudT0wKX1mdW5jdGlvbiBYbih0LGUpe3ZhciBuPWU/ZS5mOnQuUisrLHI9WGUodC5CKTtlbihyLFwiU0lEXCIsdC5KKSxlbihyLFwiUklEXCIsbiksZW4ocixcIkFJRFwiLHQuUCksSm4odCxyKSx0LmkmJnQubCYmam4ocix0LmksdC5sKSxuPW5ldyBDZSh0LHQuYyxuLHQudSsxKSxudWxsPT09dC5pJiYobi5CPXQubCksZSYmKHQuZz1lLnMuY29uY2F0KHQuZykpLGU9JG4odCxuLDFlMyksbi5zZXRUaW1lb3V0KE1hdGgucm91bmQoLjUqdC5tYSkrTWF0aC5yb3VuZCguNSp0Lm1hKk1hdGgucmFuZG9tKCkpKSxfbih0LmIsbiksUGUobixyLGUpfWZ1bmN0aW9uIEpuKHQsbil7dC5mJiZHZSh7fSxmdW5jdGlvbih0LGUpe2VuKG4sZSx0KX0pfWZ1bmN0aW9uICRuKHQsZSxuKXtuPU1hdGgubWluKHQuZy5sZW5ndGgsbik7dmFyIHI9dC5mP00odC5mLkphLHQuZix0KTpudWxsO3Q6Zm9yKHZhciBpPXQuZyxvPS0xOzspe3ZhciBzPVtcImNvdW50PVwiK25dOy0xPT1vPzA8bj8obz1pWzBdLmIscy5wdXNoKFwib2ZzPVwiK28pKTpvPTA6cy5wdXNoKFwib2ZzPVwiK28pO2Zvcih2YXIgYT0hMCx1PTA7dTxuO3UrKyl7dmFyIGM9aVt1XS5iLGg9aVt1XS5hO2lmKChjLT1vKTwwKW89TWF0aC5tYXgoMCxpW3VdLmItMTAwKSxhPSExO2Vsc2UgdHJ5eyFmdW5jdGlvbih0LHIsZSl7dmFyIGk9ZXx8XCJcIjt0cnl7R2UodCxmdW5jdGlvbih0LGUpe3ZhciBuPXQ7Uih0KSYmKG49anQodCkpLHIucHVzaChpK2UrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKX0pfWNhdGNoKHQpe3Rocm93IHIucHVzaChpK1widHlwZT1cIitlbmNvZGVVUklDb21wb25lbnQoXCJfYmFkbWFwXCIpKSx0fX0oaCxzLFwicmVxXCIrYytcIl9cIil9Y2F0Y2godCl7ciYmcihoKX19aWYoYSl7cj1zLmpvaW4oXCImXCIpO2JyZWFrIHR9fXJldHVybiB0PXQuZy5zcGxpY2UoMCxuKSxlLnM9dCxyfWZ1bmN0aW9uIFpuKHQpe3QuYXx8dC5qfHwodC5UPTEsV3QodC5BYSx0KSx0Lm89MCl9ZnVuY3Rpb24gdHIodCl7cmV0dXJuISh0LmF8fHQuanx8Mzw9dC5vKSYmKHQuVCsrLHQuaj1JZShNKHQuQWEsdCksb3IodCx0Lm8pKSx0Lm8rKywxKX1mdW5jdGlvbiBlcih0KXtudWxsIT10LnMmJihBLmNsZWFyVGltZW91dCh0LnMpLHQucz1udWxsKX1mdW5jdGlvbiBucih0KXt0LmE9bmV3IENlKHQsdC5jLFwicnBjXCIsdC5UKSxudWxsPT09dC5pJiYodC5hLkI9dC5sKSx0LmEuTz0wO3ZhciBlPVhlKHQubGEpO2VuKGUsXCJSSURcIixcInJwY1wiKSxlbihlLFwiU0lEXCIsdC5KKSxlbihlLFwiQ0lcIix0Lkg/XCIwXCI6XCIxXCIpLGVuKGUsXCJBSURcIix0LlApLEpuKHQsZSksZW4oZSxcIlRZUEVcIixcInhtbGh0dHBcIiksdC5pJiZ0LmwmJmpuKGUsdC5pLHQubCksdC5EJiZ0LmEuc2V0VGltZW91dCh0LkQpO3ZhciBuPXQuYTt0PXQuZ2Esbi5IPTEsbi5pPW5uKFhlKGUpKSxuLmo9bnVsbCxuLkk9ITAsTWUobix0KX1mdW5jdGlvbiBycih0KXtudWxsIT10Lm0mJihBLmNsZWFyVGltZW91dCh0Lm0pLHQubT1udWxsKX1mdW5jdGlvbiBpcih0LGUpe3ZhciBuLHIsaSxvPW51bGw7aWYodC5hPT1lKXtycih0KSxlcih0KSx0LmE9bnVsbDt2YXIgcz0yfWVsc2V7aWYoIVRuKHQuYixlKSlyZXR1cm47bz1lLnMsU24odC5iLGUpLHM9MX1pZih0Lkk9ZS5OLDAhPXQudilpZihlLmIpMT09cz8obz1lLmo/ZS5qLmxlbmd0aDowLGU9VigpLWUudSxuPXQudSxxdChzPXllKCksbmV3IHdlKHMpKSxZbih0KSk6Wm4odCk7ZWxzZSBpZigzPT0obj1lLmgpfHwwPT1uJiYwPHQuSXx8KDEhPXN8fChpPWUsRW4oKHI9dCkuYik+PXIuYi5mLShyLmg/MTowKXx8KHIuaD8oci5nPWkucy5jb25jYXQoci5nKSwwKToxPT1yLnZ8fDI9PXIudnx8ci51Pj0oci5MYT8wOnIuTWEpfHwoci5oPUllKE0oci5CYSxyLGkpLG9yKHIsci51KSksci51KyssMCkpKSkmJigyIT1zfHwhdHIodCkpKXN3aXRjaChvJiYwPG8ubGVuZ3RoJiYoZT10LmIsZS5jPWUuYy5jb25jYXQobykpLG4pe2Nhc2UgMTpzcih0LDUpO2JyZWFrO2Nhc2UgNDpzcih0LDEwKTticmVhaztjYXNlIDM6c3IodCw2KTticmVhaztkZWZhdWx0OnNyKHQsMil9fWZ1bmN0aW9uIG9yKHQsZSl7dmFyIG49dC5IYStNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdC5SYSk7cmV0dXJuIHQuZnx8KG4qPTIpLG4qZX1mdW5jdGlvbiBzcih0LGUpe3ZhciBuLHIsaSxvO3QuYy5pbmZvKFwiRXJyb3IgY29kZSBcIitlKSwyPT1lPyhyPW51bGwsdC5mJiYocj1udWxsKSxvPU0odC5ZYSx0KSxyfHwocj1uZXcgWWUoXCIvL3d3dy5nb29nbGUuY29tL2ltYWdlcy9jbGVhcmRvdC5naWZcIiksQS5sb2NhdGlvbiYmXCJodHRwXCI9PUEubG9jYXRpb24ucHJvdG9jb2x8fEplKHIsXCJodHRwc1wiKSxubihyKSksbj1yLnRvU3RyaW5nKCkscj1vLG89bmV3IGxlLEEuSW1hZ2U/KChpPW5ldyBJbWFnZSkub25sb2FkPUYoa24sbyxpLFwiVGVzdExvYWRJbWFnZTogbG9hZGVkXCIsITAsciksaS5vbmVycm9yPUYoa24sbyxpLFwiVGVzdExvYWRJbWFnZTogZXJyb3JcIiwhMSxyKSxpLm9uYWJvcnQ9RihrbixvLGksXCJUZXN0TG9hZEltYWdlOiBhYm9ydFwiLCExLHIpLGkub250aW1lb3V0PUYoa24sbyxpLFwiVGVzdExvYWRJbWFnZTogdGltZW91dFwiLCExLHIpLEEuc2V0VGltZW91dChmdW5jdGlvbigpe2kub250aW1lb3V0JiZpLm9udGltZW91dCgpfSwxZTQpLGkuc3JjPW4pOnIoITEpKTpiZSgyKSx0LnY9MCx0LmYmJnQuZi5yYShlKSxhcih0KSxIbih0KX1mdW5jdGlvbiBhcih0KXt0LnY9MCx0Lkk9LTEsdC5mJiYoMD09Tm4odC5iKS5sZW5ndGgmJjA9PXQuZy5sZW5ndGh8fCh0LmIuYy5sZW5ndGg9MCxHKHQuZyksdC5nLmxlbmd0aD0wKSx0LmYucWEoKSl9ZnVuY3Rpb24gdXIodCxlLG4pe3ZhciByLGksbyxzLGEsdT0ocz1uKWluc3RhbmNlb2YgWWU/WGUocyk6bmV3IFllKHMsdm9pZCAwKTtyZXR1cm5cIlwiIT11LmM/KGUmJiRlKHUsZStcIi5cIit1LmMpLFplKHUsdS5oKSk6KGE9QS5sb2NhdGlvbixyPWEucHJvdG9jb2wsaT1lP2UrXCIuXCIrYS5ob3N0bmFtZTphLmhvc3RuYW1lLG89K2EucG9ydCxzPW4sYT1uZXcgWWUobnVsbCx2b2lkIDApLHImJkplKGEsciksaSYmJGUoYSxpKSxvJiZaZShhLG8pLHMmJihhLmc9cyksdT1hKSx0LlYmJkoodC5WLGZ1bmN0aW9uKHQsZSl7ZW4odSxlLHQpfSksZT10LkEsbj10Lm5hLGUmJm4mJmVuKHUsZSxuKSxlbih1LFwiVkVSXCIsdC5oYSksSm4odCx1KSx1fWZ1bmN0aW9uIGNyKHQsZSl7aWYoZSYmIXQuQyl0aHJvdyBFcnJvcihcIkNhbid0IGNyZWF0ZSBzZWNvbmRhcnkgZG9tYWluIGNhcGFibGUgWGhySW8gb2JqZWN0LlwiKTtyZXR1cm4oZT1uZXcgUm4odC5OYSkpLkY9dC5DLGV9ZnVuY3Rpb24gaHIoKXt9ZnVuY3Rpb24gbHIoKXtpZihpdCYmISgxMDw9TnVtYmVyKHB0KSkpdGhyb3cgRXJyb3IoXCJFbnZpcm9ubWVudGFsIGVycm9yOiBubyBhdmFpbGFibGUgdHJhbnNwb3J0LlwiKX1mdW5jdGlvbiBmcih0LGUpe1V0LmNhbGwodGhpcyksdGhpcy5hPW5ldyBHbihlKSx0aGlzLm89dCx0aGlzLmI9ZSYmZS5tZXNzYWdlVXJsUGFyYW1zfHxudWxsLHQ9ZSYmZS5tZXNzYWdlSGVhZGVyc3x8bnVsbCxlJiZlLmNsaWVudFByb3RvY29sSGVhZGVyUmVxdWlyZWQmJih0P3RbXCJYLUNsaWVudC1Qcm90b2NvbFwiXT1cIndlYmNoYW5uZWxcIjp0PXtcIlgtQ2xpZW50LVByb3RvY29sXCI6XCJ3ZWJjaGFubmVsXCJ9KSx0aGlzLmEubD10LHQ9ZSYmZS5pbml0TWVzc2FnZUhlYWRlcnN8fG51bGwsZSYmZS5tZXNzYWdlQ29udGVudFR5cGUmJih0P3RbXCJYLVdlYkNoYW5uZWwtQ29udGVudC1UeXBlXCJdPWUubWVzc2FnZUNvbnRlbnRUeXBlOnQ9e1wiWC1XZWJDaGFubmVsLUNvbnRlbnQtVHlwZVwiOmUubWVzc2FnZUNvbnRlbnRUeXBlfSksZSYmZS5hJiYodD90W1wiWC1XZWJDaGFubmVsLUNsaWVudC1Qcm9maWxlXCJdPWUuYTp0PXtcIlgtV2ViQ2hhbm5lbC1DbGllbnQtUHJvZmlsZVwiOmUuYX0pLHRoaXMuYS5PPXQsKHQ9ZSYmZS5odHRwSGVhZGVyc092ZXJ3cml0ZVBhcmFtKSYmIVEodCkmJih0aGlzLmEuaT10KSx0aGlzLm09ZSYmZS5zdXBwb3J0c0Nyb3NzRG9tYWluWGhyfHwhMSx0aGlzLmw9ZSYmZS5zZW5kUmF3SnNvbnx8ITEsKGU9ZSYmZS5odHRwU2Vzc2lvbklkUGFyYW0pJiYhUShlKSYmKHRoaXMuYS5BPWUsbnVsbCE9PSh0PXRoaXMuYikmJmUgaW4gdCYmKGUgaW4odD10aGlzLmIpJiZkZWxldGUgdFtlXSkpLHRoaXMuZj1uZXcgeXIodGhpcyl9ZnVuY3Rpb24gZHIodCl7RGUuY2FsbCh0aGlzKTt2YXIgZT10Ll9fc21fXztpZihlKXt0Ontmb3IodmFyIG4gaW4gZSl7dD1uO2JyZWFrIHR9dD12b2lkIDB9KHRoaXMuYz10KT8odD10aGlzLmMsdGhpcy5kYXRhPW51bGwhPT1lJiZ0IGluIGU/ZVt0XTp2b2lkIDApOnRoaXMuZGF0YT1lfWVsc2UgdGhpcy5kYXRhPXR9ZnVuY3Rpb24gcHIoKXtBZS5jYWxsKHRoaXMpLHRoaXMuc3RhdHVzPTF9ZnVuY3Rpb24geXIodCl7dGhpcy5hPXR9KFM9Um4ucHJvdG90eXBlKS5iYT1mdW5jdGlvbih0LGUsbixyKXtpZih0aGlzLmEpdGhyb3cgRXJyb3IoXCJbZ29vZy5uZXQuWGhySW9dIE9iamVjdCBpcyBhY3RpdmUgd2l0aCBhbm90aGVyIHJlcXVlc3Q9XCIrdGhpcy5CK1wiOyBuZXdVcmk9XCIrdCk7ZT1lP2UudG9VcHBlckNhc2UoKTpcIkdFVFwiLHRoaXMuQj10LHRoaXMuZj1cIlwiLHRoaXMuaD0wLHRoaXMudT0hMSx0aGlzLmI9ITAsdGhpcy5hPW5ldyBYTUxIdHRwUmVxdWVzdCx0aGlzLnM9dGhpcy5IP1NlKHRoaXMuSCk6U2UoUmUpLHRoaXMuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9TSh0aGlzLnphLHRoaXMpO3RyeXt0aGlzLkE9ITAsdGhpcy5hLm9wZW4oZSxTdHJpbmcodCksITApLHRoaXMuQT0hMX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBNbih0aGlzLHQpfXQ9bnx8XCJcIjt2YXIgaSxvPW5ldyBRZSh0aGlzLmhlYWRlcnMpO3ImJkdlKHIsZnVuY3Rpb24odCxlKXtvLnNldChlLHQpfSkscj1mdW5jdGlvbih0KXt0Ontmb3IodmFyIGU9UG4sbj10Lmxlbmd0aCxyPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Quc3BsaXQoXCJcIik6dCxpPTA7aTxuO2krKylpZihpIGluIHImJmUuY2FsbCh2b2lkIDAscltpXSxpLHQpKXtlPWk7YnJlYWsgdH1lPS0xfXJldHVybiBlPDA/bnVsbDpcInN0cmluZ1wiPT10eXBlb2YgdD90LmNoYXJBdChlKTp0W2VdfShvLkwoKSksbj1BLkZvcm1EYXRhJiZ0IGluc3RhbmNlb2YgQS5Gb3JtRGF0YSwwPD1CKExuLGUpJiYhciYmIW4mJm8uc2V0KFwiQ29udGVudC1UeXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOFwiKSxvLmZvckVhY2goZnVuY3Rpb24odCxlKXt0aGlzLmEuc2V0UmVxdWVzdEhlYWRlcihlLHQpfSx0aGlzKSx0aGlzLkkmJih0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuSSksXCJ3aXRoQ3JlZGVudGlhbHNcImluIHRoaXMuYSYmdGhpcy5hLndpdGhDcmVkZW50aWFscyE9PXRoaXMuRiYmKHRoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5GKTt0cnl7cW4odGhpcyksMDx0aGlzLm8mJigodGhpcy5EPShpPXRoaXMuYSxpdCYmZHQoOSkmJlwibnVtYmVyXCI9PXR5cGVvZiBpLnRpbWVvdXQmJnZvaWQgMCE9PWkub250aW1lb3V0KSk/KHRoaXMuYS50aW1lb3V0PXRoaXMubyx0aGlzLmEub250aW1lb3V0PU0odGhpcy54YSx0aGlzKSk6dGhpcy5tPXRlKHRoaXMueGEsdGhpcy5vLHRoaXMpKSx0aGlzLmw9ITAsdGhpcy5hLnNlbmQodCksdGhpcy5sPSExfWNhdGNoKHQpe01uKHRoaXMsdCl9fSxTLnhhPWZ1bmN0aW9uKCl7dm9pZCAwIT09RCYmdGhpcy5hJiYodGhpcy5mPVwiVGltZWQgb3V0IGFmdGVyIFwiK3RoaXMubytcIm1zLCBhYm9ydGluZ1wiLHRoaXMuaD04LHF0KHRoaXMsXCJ0aW1lb3V0XCIpLHRoaXMuYWJvcnQoOCkpfSxTLmFib3J0PWZ1bmN0aW9uKHQpe3RoaXMuYSYmdGhpcy5iJiYodGhpcy5iPSExLHRoaXMuZz0hMCx0aGlzLmEuYWJvcnQoKSx0aGlzLmc9ITEsdGhpcy5oPXR8fDcscXQodGhpcyxcImNvbXBsZXRlXCIpLHF0KHRoaXMsXCJhYm9ydFwiKSxVbih0aGlzKSl9LFMuRz1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuYiYmKHRoaXMuYj0hMSx0aGlzLmc9ITAsdGhpcy5hLmFib3J0KCksdGhpcy5nPSExKSxVbih0aGlzLCEwKSksUm4uWC5HLmNhbGwodGhpcyl9LFMuemE9ZnVuY3Rpb24oKXt0aGlzLmp8fCh0aGlzLkF8fHRoaXMubHx8dGhpcy5nP1ZuKHRoaXMpOnRoaXMuVWEoKSl9LFMuVWE9ZnVuY3Rpb24oKXtWbih0aGlzKX0sUy5XPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiAyPEJuKHRoaXMpP3RoaXMuYS5zdGF0dXM6LTF9Y2F0Y2godCl7cmV0dXJuLTF9fSxTLiQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHRoaXMuYT90aGlzLmEucmVzcG9uc2VUZXh0OlwiXCJ9Y2F0Y2godCl7cmV0dXJuXCJcIn19LFMuUGE9ZnVuY3Rpb24odCl7aWYodGhpcy5hKXt2YXIgZT10aGlzLmEucmVzcG9uc2VUZXh0O3JldHVybiB0JiYwPT1lLmluZGV4T2YodCkmJihlPWUuc3Vic3RyaW5nKHQubGVuZ3RoKSksQ24oZSl9fSxTLnVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH0sUy5RYT1mdW5jdGlvbigpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmY/dGhpcy5mOlN0cmluZyh0aGlzLmYpfSwoUz1Hbi5wcm90b3R5cGUpLmhhPTgsUy52PTEsUy5CYT1mdW5jdGlvbih0KXtpZih0aGlzLmgpaWYodGhpcy5oPW51bGwsMT09dGhpcy52KXtpZighdCl7dGhpcy5SPU1hdGguZmxvb3IoMWU1Kk1hdGgucmFuZG9tKCkpLHQ9dGhpcy5SKys7dmFyIGUsbj1uZXcgQ2UodGhpcyx0aGlzLmMsdCx2b2lkIDApLHI9dGhpcy5sO2lmKHRoaXMuTyYmKHI/dHQocj0kKHIpLHRoaXMuTyk6cj10aGlzLk8pLG51bGw9PT10aGlzLmkmJihuLkI9ciksdGhpcy5kYSl0Ontmb3IodmFyIGk9ZT0wO2k8dGhpcy5nLmxlbmd0aDtpKyspe3ZhciBvPXRoaXMuZ1tpXTtpZihcIl9fZGF0YV9fXCJpbiBvLmEmJlwic3RyaW5nXCI9PXR5cGVvZihvPW8uYS5fX2RhdGFfXyk/bz1vLmxlbmd0aDpvPXZvaWQgMCx2b2lkIDA9PT1vKWJyZWFrO2lmKDQwOTY8KGUrPW8pKXtlPWk7YnJlYWsgdH1pZig0MDk2PT09ZXx8aT09PXRoaXMuZy5sZW5ndGgtMSl7ZT1pKzE7YnJlYWsgdH19ZT0xZTN9ZWxzZSBlPTFlMztlPSRuKHRoaXMsbixlKSxlbihpPVhlKHRoaXMuQiksXCJSSURcIix0KSxlbihpLFwiQ1ZFUlwiLDIyKSx0aGlzLkEmJmVuKGksXCJYLUhUVFAtU2Vzc2lvbi1JZFwiLHRoaXMuQSksSm4odGhpcyxpKSx0aGlzLmkmJnImJmpuKGksdGhpcy5pLHIpLF9uKHRoaXMuYixuKSx0aGlzLklhJiZlbihpLFwiVFlQRVwiLFwiaW5pdFwiKSx0aGlzLmRhPyhlbihpLFwiJHJlcVwiLGUpLGVuKGksXCJTSURcIixcIm51bGxcIiksbi5VPSEwLFBlKG4saSxudWxsKSk6UGUobixpLGUpLHRoaXMudj0yfX1lbHNlIDM9PXRoaXMudiYmKHQ/WG4odGhpcyx0KTowPT10aGlzLmcubGVuZ3RofHxJbih0aGlzLmIpfHxYbih0aGlzKSl9LFMuQWE9ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmo9bnVsbCxucih0aGlzKSx0aGlzLlUmJiEodGhpcy5GfHxudWxsPT10aGlzLmF8fHRoaXMuTjw9MCkmJih0PTIqdGhpcy5OLHRoaXMuYy5pbmZvKFwiQlAgZGV0ZWN0aW9uIHRpbWVyIGVuYWJsZWQ6IFwiK3QpLHRoaXMucz1JZShNKHRoaXMuVGEsdGhpcyksdCkpfSxTLlRhPWZ1bmN0aW9uKCl7dGhpcy5zJiYodGhpcy5zPW51bGwsdGhpcy5jLmluZm8oXCJCUCBkZXRlY3Rpb24gdGltZW91dCByZWFjaGVkLlwiKSx0aGlzLmMuaW5mbyhcIkJ1ZmZlcmluZyBwcm94eSBkZXRlY3RlZCBhbmQgc3dpdGNoIHRvIGxvbmctcG9sbGluZyFcIiksdGhpcy5IPSExLHRoaXMuRj0hMCxiZSgxMCksem4odGhpcyksbnIodGhpcykpfSxTLlNhPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5tJiYodGhpcy5tPW51bGwsem4odGhpcyksdHIodGhpcyksYmUoMTkpKX0sUy5ZYT1mdW5jdGlvbih0KXt0Pyh0aGlzLmMuaW5mbyhcIlN1Y2Nlc3NmdWxseSBwaW5nZWQgZ29vZ2xlLmNvbVwiKSxiZSgyKSk6KHRoaXMuYy5pbmZvKFwiRmFpbGVkIHRvIHBpbmcgZ29vZ2xlLmNvbVwiKSxiZSgxKSl9LChTPWhyLnByb3RvdHlwZSkudGE9ZnVuY3Rpb24oKXt9LFMuc2E9ZnVuY3Rpb24oKXt9LFMucmE9ZnVuY3Rpb24oKXt9LFMucWE9ZnVuY3Rpb24oKXt9LFMuSmE9ZnVuY3Rpb24oKXt9LGxyLnByb3RvdHlwZS5hPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBmcih0LGUpfSxVKGZyLFV0KSxmci5wcm90b3R5cGUuZz1mdW5jdGlvbigpe3RoaXMuYS5mPXRoaXMuZix0aGlzLm0mJih0aGlzLmEuQz0hMCk7dmFyIHQ9dGhpcy5hLGU9dGhpcy5vLG49dGhpcy5ifHx2b2lkIDA7YmUoMCksdC5mYT1lLHQuVj1ufHx7fSx0Lkg9dC5TLHQuQj11cih0LG51bGwsdC5mYSksWW4odCl9LGZyLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe1FuKHRoaXMuYSl9LGZyLnByb3RvdHlwZS5oPWZ1bmN0aW9uKHQpe3ZhciBlO1wic3RyaW5nXCI9PXR5cGVvZiB0PygoZT17fSkuX19kYXRhX189dCxXbih0aGlzLmEsZSkpOnRoaXMubD8oKGU9e30pLl9fZGF0YV9fPWp0KHQpLFduKHRoaXMuYSxlKSk6V24odGhpcy5hLHQpfSxmci5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3RoaXMuYS5mPW51bGwsZGVsZXRlIHRoaXMuZixRbih0aGlzLmEpLGRlbGV0ZSB0aGlzLmEsZnIuWC5HLmNhbGwodGhpcyl9LFUoZHIsRGUpLFUocHIsQWUpLFUoeXIsaHIpLHlyLnByb3RvdHlwZS50YT1mdW5jdGlvbigpe3F0KHRoaXMuYSxcImFcIil9LHlyLnByb3RvdHlwZS5zYT1mdW5jdGlvbih0KXtxdCh0aGlzLmEsbmV3IGRyKHQpKX0seXIucHJvdG90eXBlLnJhPWZ1bmN0aW9uKHQpe3F0KHRoaXMuYSxuZXcgcHIpfSx5ci5wcm90b3R5cGUucWE9ZnVuY3Rpb24oKXtxdCh0aGlzLmEsXCJiXCIpfSxsci5wcm90b3R5cGUuY3JlYXRlV2ViQ2hhbm5lbD1sci5wcm90b3R5cGUuYSxmci5wcm90b3R5cGUuc2VuZD1mci5wcm90b3R5cGUuaCxmci5wcm90b3R5cGUub3Blbj1mci5wcm90b3R5cGUuZyxFZS5OT19FUlJPUj0wLEVlLlRJTUVPVVQ9OCxFZS5IVFRQX0VSUk9SPTYsVGUuQ09NUExFVEU9XCJjb21wbGV0ZVwiLChOZS5FdmVudFR5cGU9TikuT1BFTj1cImFcIixOLkNMT1NFPVwiYlwiLE4uRVJST1I9XCJjXCIsTi5NRVNTQUdFPVwiZFwiLFV0LnByb3RvdHlwZS5saXN0ZW49VXQucHJvdG90eXBlLnZhLFJuLnByb3RvdHlwZS5saXN0ZW5PbmNlPVJuLnByb3RvdHlwZS53YSxSbi5wcm90b3R5cGUuZ2V0TGFzdEVycm9yPVJuLnByb3RvdHlwZS5RYSxSbi5wcm90b3R5cGUuZ2V0TGFzdEVycm9yQ29kZT1Sbi5wcm90b3R5cGUudWEsUm4ucHJvdG90eXBlLmdldFN0YXR1cz1Sbi5wcm90b3R5cGUuVyxSbi5wcm90b3R5cGUuZ2V0UmVzcG9uc2VKc29uPVJuLnByb3RvdHlwZS5QYSxSbi5wcm90b3R5cGUuZ2V0UmVzcG9uc2VUZXh0PVJuLnByb3RvdHlwZS4kLFJuLnByb3RvdHlwZS5zZW5kPVJuLnByb3RvdHlwZS5iYTt2YXIgZ3I9eWUsbXI9RWUsdnI9VGUsYnI9ZGUsd3I9MTAsSXI9MTEsRXI9TmUsVHI9Um4sX3I9KFNyLnByb3RvdHlwZS50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByZXZpb3VzVmFsdWU9TWF0aC5tYXgodCx0aGlzLnByZXZpb3VzVmFsdWUpLHRoaXMucHJldmlvdXNWYWx1ZX0sU3IucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgdD0rK3RoaXMucHJldmlvdXNWYWx1ZTtyZXR1cm4gdGhpcy5pJiZ0aGlzLmkodCksdH0sU3IpO2Z1bmN0aW9uIFNyKHQsZSl7dmFyIG49dGhpczt0aGlzLnByZXZpb3VzVmFsdWU9dCxlJiYoZS5zZXF1ZW5jZU51bWJlckhhbmRsZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG4udCh0KX0sdGhpcy5pPWZ1bmN0aW9uKHQpe3JldHVybiBlLndyaXRlU2VxdWVuY2VOdW1iZXIodCl9KX1fci5vPS0xO3ZhciBOcixEcj17T0s6XCJva1wiLENBTkNFTExFRDpcImNhbmNlbGxlZFwiLFVOS05PV046XCJ1bmtub3duXCIsSU5WQUxJRF9BUkdVTUVOVDpcImludmFsaWQtYXJndW1lbnRcIixERUFETElORV9FWENFRURFRDpcImRlYWRsaW5lLWV4Y2VlZGVkXCIsTk9UX0ZPVU5EOlwibm90LWZvdW5kXCIsQUxSRUFEWV9FWElTVFM6XCJhbHJlYWR5LWV4aXN0c1wiLFBFUk1JU1NJT05fREVOSUVEOlwicGVybWlzc2lvbi1kZW5pZWRcIixVTkFVVEhFTlRJQ0FURUQ6XCJ1bmF1dGhlbnRpY2F0ZWRcIixSRVNPVVJDRV9FWEhBVVNURUQ6XCJyZXNvdXJjZS1leGhhdXN0ZWRcIixGQUlMRURfUFJFQ09ORElUSU9OOlwiZmFpbGVkLXByZWNvbmRpdGlvblwiLEFCT1JURUQ6XCJhYm9ydGVkXCIsT1VUX09GX1JBTkdFOlwib3V0LW9mLXJhbmdlXCIsVU5JTVBMRU1FTlRFRDpcInVuaW1wbGVtZW50ZWRcIixJTlRFUk5BTDpcImludGVybmFsXCIsVU5BVkFJTEFCTEU6XCJ1bmF2YWlsYWJsZVwiLERBVEFfTE9TUzpcImRhdGEtbG9zc1wifSxBcj0obihDcixOcj1FcnJvciksQ3IpLGtyPW5ldyBJKFwiQGZpcmViYXNlL2ZpcmVzdG9yZVwiKTtmdW5jdGlvbiBDcih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49TnIuY2FsbCh0aGlzLGUpfHx0aGlzKS5jb2RlPXQsbi5tZXNzYWdlPWUsbi5uYW1lPVwiRmlyZWJhc2VFcnJvclwiLG4udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbi5uYW1lK1wiOiBbY29kZT1cIituLmNvZGUrXCJdOiBcIituLm1lc3NhZ2V9LG59ZnVuY3Rpb24gUnIoKXtyZXR1cm4ga3IubG9nTGV2ZWx9ZnVuY3Rpb24geHIodCl7Zm9yKHZhciBlLG49W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTtrci5sb2dMZXZlbDw9Zi5ERUJVRyYmKGU9bi5tYXAoUHIpLGtyLmRlYnVnLmFwcGx5KGtyLHMoW1wiRmlyZXN0b3JlICg4LjQuMik6IFwiK3RdLGUpKSl9ZnVuY3Rpb24gT3IodCl7Zm9yKHZhciBlLG49W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTtrci5sb2dMZXZlbDw9Zi5FUlJPUiYmKGU9bi5tYXAoUHIpLGtyLmVycm9yLmFwcGx5KGtyLHMoW1wiRmlyZXN0b3JlICg4LjQuMik6IFwiK3RdLGUpKSl9ZnVuY3Rpb24gTHIodCl7Zm9yKHZhciBlLG49W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTtrci5sb2dMZXZlbDw9Zi5XQVJOJiYoZT1uLm1hcChQciksa3Iud2Fybi5hcHBseShrcixzKFtcIkZpcmVzdG9yZSAoOC40LjIpOiBcIit0XSxlKSkpfWZ1bmN0aW9uIFByKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBlO3RyeXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSl9Y2F0Y2godCl7cmV0dXJuIGV9fWZ1bmN0aW9uIE1yKHQpe3Q9XCJGSVJFU1RPUkUgKDguNC4yKSBJTlRFUk5BTCBBU1NFUlRJT04gRkFJTEVEOiBcIisodD12b2lkIDA9PT10P1wiVW5leHBlY3RlZCBzdGF0ZVwiOnQpO3Rocm93IE9yKHQpLG5ldyBFcnJvcih0KX1mdW5jdGlvbiBGcih0KXt0fHxNcigpfXZhciBWcj0oVXIudT1mdW5jdGlvbigpe2Zvcih2YXIgdD1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCIsZT1NYXRoLmZsb29yKDI1Ni90Lmxlbmd0aCkqdC5sZW5ndGgsbj1cIlwiO24ubGVuZ3RoPDIwOylmb3IodmFyIHI9ZnVuY3Rpb24odCl7dmFyIGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJihzZWxmLmNyeXB0b3x8c2VsZi5tc0NyeXB0byksbj1uZXcgVWludDhBcnJheSh0KTtpZihlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmdldFJhbmRvbVZhbHVlcyllLmdldFJhbmRvbVZhbHVlcyhuKTtlbHNlIGZvcih2YXIgcj0wO3I8dDtyKyspbltyXT1NYXRoLmZsb29yKDI1NipNYXRoLnJhbmRvbSgpKTtyZXR1cm4gbn0oNDApLGk9MDtpPHIubGVuZ3RoOysraSluLmxlbmd0aDwyMCYmcltpXTxlJiYobis9dC5jaGFyQXQocltpXSV0Lmxlbmd0aCkpO3JldHVybiBufSxVcik7ZnVuY3Rpb24gVXIoKXt9ZnVuY3Rpb24gcXIodCxlKXtyZXR1cm4gdDxlPy0xOmU8dD8xOjB9ZnVuY3Rpb24gQnIodCxuLHIpe3JldHVybiB0Lmxlbmd0aD09PW4ubGVuZ3RoJiZ0LmV2ZXJ5KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIodCxuW2VdKX0pfWZ1bmN0aW9uIGpyKHQpe3JldHVybiB0K1wiXFwwXCJ9dmFyIEtyPSh6ci5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4genIuZnJvbU1pbGxpcyhEYXRlLm5vdygpKX0senIuZnJvbURhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHpyLmZyb21NaWxsaXModC5nZXRUaW1lKCkpfSx6ci5mcm9tTWlsbGlzPWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguZmxvb3IodC8xZTMpO3JldHVybiBuZXcgenIoZSxNYXRoLmZsb29yKDFlNioodC0xZTMqZSkpKX0senIucHJvdG90eXBlLnRvRGF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZSh0aGlzLnRvTWlsbGlzKCkpfSx6ci5wcm90b3R5cGUudG9NaWxsaXM9ZnVuY3Rpb24oKXtyZXR1cm4gMWUzKnRoaXMuc2Vjb25kcyt0aGlzLm5hbm9zZWNvbmRzLzFlNn0senIucHJvdG90eXBlLl9jb21wYXJlVG89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2Vjb25kcz09PXQuc2Vjb25kcz9xcih0aGlzLm5hbm9zZWNvbmRzLHQubmFub3NlY29uZHMpOnFyKHRoaXMuc2Vjb25kcyx0LnNlY29uZHMpfSx6ci5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdC5zZWNvbmRzPT09dGhpcy5zZWNvbmRzJiZ0Lm5hbm9zZWNvbmRzPT09dGhpcy5uYW5vc2Vjb25kc30senIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJUaW1lc3RhbXAoc2Vjb25kcz1cIit0aGlzLnNlY29uZHMrXCIsIG5hbm9zZWNvbmRzPVwiK3RoaXMubmFub3NlY29uZHMrXCIpXCJ9LHpyLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57c2Vjb25kczp0aGlzLnNlY29uZHMsbmFub3NlY29uZHM6dGhpcy5uYW5vc2Vjb25kc319LHpyLnByb3RvdHlwZS52YWx1ZU9mPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZWNvbmRzLSAtNjIxMzU1OTY4MDA7cmV0dXJuIFN0cmluZyh0KS5wYWRTdGFydCgxMixcIjBcIikrXCIuXCIrU3RyaW5nKHRoaXMubmFub3NlY29uZHMpLnBhZFN0YXJ0KDksXCIwXCIpfSx6ciksR3I9KFFyLmZyb21UaW1lc3RhbXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBRcih0KX0sUXIubWluPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBRcihuZXcgS3IoMCwwKSl9LFFyLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGltZXN0YW1wLl9jb21wYXJlVG8odC50aW1lc3RhbXApfSxRci5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aW1lc3RhbXAuaXNFcXVhbCh0LnRpbWVzdGFtcCl9LFFyLnByb3RvdHlwZS50b01pY3Jvc2Vjb25kcz1mdW5jdGlvbigpe3JldHVybiAxZTYqdGhpcy50aW1lc3RhbXAuc2Vjb25kcyt0aGlzLnRpbWVzdGFtcC5uYW5vc2Vjb25kcy8xZTN9LFFyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiU25hcHNob3RWZXJzaW9uKFwiK3RoaXMudGltZXN0YW1wLnRvU3RyaW5nKCkrXCIpXCJ9LFFyLnByb3RvdHlwZS50b1RpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbWVzdGFtcH0sUXIpO2Z1bmN0aW9uIFFyKHQpe3RoaXMudGltZXN0YW1wPXR9ZnVuY3Rpb24genIodCxlKXtpZih0aGlzLnNlY29uZHM9dCwodGhpcy5uYW5vc2Vjb25kcz1lKTwwKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiVGltZXN0YW1wIG5hbm9zZWNvbmRzIG91dCBvZiByYW5nZTogXCIrZSk7aWYoMWU5PD1lKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiVGltZXN0YW1wIG5hbm9zZWNvbmRzIG91dCBvZiByYW5nZTogXCIrZSk7aWYodDwtNjIxMzU1OTY4MDApdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJUaW1lc3RhbXAgc2Vjb25kcyBvdXQgb2YgcmFuZ2U6IFwiK3QpO2lmKDI1MzQwMjMwMDgwMDw9dCl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIlRpbWVzdGFtcCBzZWNvbmRzIG91dCBvZiByYW5nZTogXCIrdCl9ZnVuY3Rpb24gSHIodCl7dmFyIGUsbj0wO2ZvcihlIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJm4rKztyZXR1cm4gbn1mdW5jdGlvbiBXcih0LGUpe2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiZlKG4sdFtuXSl9ZnVuY3Rpb24gWXIodCl7Zm9yKHZhciBlIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkpcmV0dXJuITE7cmV0dXJuITB9dmFyIFhyLEpyLFRlPShPYmplY3QuZGVmaW5lUHJvcGVydHkoYWkucHJvdG90eXBlLFwibGVuZ3RoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxhaS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gMD09PWFpLmNvbXBhcmF0b3IodGhpcyx0KX0sYWkucHJvdG90eXBlLmNoaWxkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2VnbWVudHMuc2xpY2UodGhpcy5vZmZzZXQsdGhpcy5saW1pdCgpKTtyZXR1cm4gdCBpbnN0YW5jZW9mIGFpP3QuZm9yRWFjaChmdW5jdGlvbih0KXtlLnB1c2godCl9KTplLnB1c2godCksdGhpcy5jb25zdHJ1Y3QoZSl9LGFpLnByb3RvdHlwZS5saW1pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9mZnNldCt0aGlzLmxlbmd0aH0sYWkucHJvdG90eXBlLnBvcEZpcnN0PWZ1bmN0aW9uKHQpe3JldHVybiB0PXZvaWQgMD09PXQ/MTp0LHRoaXMuY29uc3RydWN0KHRoaXMuc2VnbWVudHMsdGhpcy5vZmZzZXQrdCx0aGlzLmxlbmd0aC10KX0sYWkucHJvdG90eXBlLnBvcExhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3QodGhpcy5zZWdtZW50cyx0aGlzLm9mZnNldCx0aGlzLmxlbmd0aC0xKX0sYWkucHJvdG90eXBlLmZpcnN0U2VnbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlZ21lbnRzW3RoaXMub2Zmc2V0XX0sYWkucHJvdG90eXBlLmxhc3RTZWdtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KHRoaXMubGVuZ3RoLTEpfSxhaS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNlZ21lbnRzW3RoaXMub2Zmc2V0K3RdfSxhaS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5sZW5ndGh9LGFpLnByb3RvdHlwZS5pc1ByZWZpeE9mPWZ1bmN0aW9uKHQpe2lmKHQubGVuZ3RoPHRoaXMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8dGhpcy5sZW5ndGg7ZSsrKWlmKHRoaXMuZ2V0KGUpIT09dC5nZXQoZSkpcmV0dXJuITE7cmV0dXJuITB9LGFpLnByb3RvdHlwZS5pc0ltbWVkaWF0ZVBhcmVudE9mPWZ1bmN0aW9uKHQpe2lmKHRoaXMubGVuZ3RoKzEhPT10Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMubGVuZ3RoO2UrKylpZih0aGlzLmdldChlKSE9PXQuZ2V0KGUpKXJldHVybiExO3JldHVybiEwfSxhaS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5vZmZzZXQsbj10aGlzLmxpbWl0KCk7ZTxuO2UrKyl0KHRoaXMuc2VnbWVudHNbZV0pfSxhaS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlZ21lbnRzLnNsaWNlKHRoaXMub2Zmc2V0LHRoaXMubGltaXQoKSl9LGFpLmNvbXBhcmF0b3I9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49TWF0aC5taW4odC5sZW5ndGgsZS5sZW5ndGgpLHI9MDtyPG47cisrKXt2YXIgaT10LmdldChyKSxvPWUuZ2V0KHIpO2lmKGk8bylyZXR1cm4tMTtpZihvPGkpcmV0dXJuIDF9cmV0dXJuIHQubGVuZ3RoPGUubGVuZ3RoPy0xOnQubGVuZ3RoPmUubGVuZ3RoPzE6MH0sYWkpLCRyPShuKHNpLEpyPVRlKSxzaS5wcm90b3R5cGUuY29uc3RydWN0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IHNpKHQsZSxuKX0sc2kucHJvdG90eXBlLmNhbm9uaWNhbFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvQXJyYXkoKS5qb2luKFwiL1wiKX0sc2kucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2Fub25pY2FsU3RyaW5nKCl9LHNpLmZyb21TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07Zm9yKHZhciBuPVtdLHI9MCxpPXQ7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07aWYoMDw9by5pbmRleE9mKFwiLy9cIikpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIHNlZ21lbnQgKFwiK28rXCIpLiBQYXRocyBtdXN0IG5vdCBjb250YWluIC8vIGluIHRoZW0uXCIpO24ucHVzaC5hcHBseShuLG8uc3BsaXQoXCIvXCIpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gMDx0Lmxlbmd0aH0pKX1yZXR1cm4gbmV3IHNpKG4pfSxzaS5lbXB0eVBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHNpKFtdKX0sc2kpLFpyPS9eW19hLXpBLVpdW19hLXpBLVowLTldKiQvLHRpPShuKG9pLFhyPVRlKSxvaS5wcm90b3R5cGUuY29uc3RydWN0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IG9pKHQsZSxuKX0sb2kuaXNWYWxpZElkZW50aWZpZXI9ZnVuY3Rpb24odCl7cmV0dXJuIFpyLnRlc3QodCl9LG9pLnByb3RvdHlwZS5jYW5vbmljYWxTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b0FycmF5KCkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0PXQucmVwbGFjZSgvXFxcXC9nLFwiXFxcXFxcXFxcIikucmVwbGFjZSgvYC9nLFwiXFxcXGBcIiksdD0hb2kuaXNWYWxpZElkZW50aWZpZXIodCk/XCJgXCIrdCtcImBcIjp0fSkuam9pbihcIi5cIil9LG9pLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbm9uaWNhbFN0cmluZygpfSxvaS5wcm90b3R5cGUuaXNLZXlGaWVsZD1mdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5sZW5ndGgmJlwiX19uYW1lX19cIj09PXRoaXMuZ2V0KDApfSxvaS5rZXlGaWVsZD1mdW5jdGlvbigpe3JldHVybiBuZXcgb2koW1wiX19uYW1lX19cIl0pfSxvaS5mcm9tU2VydmVyRm9ybWF0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPVwiXCIscj0wLGk9ZnVuY3Rpb24oKXtpZigwPT09bi5sZW5ndGgpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIGZpZWxkIHBhdGggKFwiK3QrXCIpLiBQYXRocyBtdXN0IG5vdCBiZSBlbXB0eSwgYmVnaW4gd2l0aCAnLicsIGVuZCB3aXRoICcuJywgb3IgY29udGFpbiAnLi4nXCIpO2UucHVzaChuKSxuPVwiXCJ9LG89ITE7cjx0Lmxlbmd0aDspe3ZhciBzPXRbcl07aWYoXCJcXFxcXCI9PT1zKXtpZihyKzE9PT10Lmxlbmd0aCl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIlBhdGggaGFzIHRyYWlsaW5nIGVzY2FwZSBjaGFyYWN0ZXI6IFwiK3QpO3ZhciBhPXRbcisxXTtpZihcIlxcXFxcIiE9PWEmJlwiLlwiIT09YSYmXCJgXCIhPT1hKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiUGF0aCBoYXMgaW52YWxpZCBlc2NhcGUgc2VxdWVuY2U6IFwiK3QpO24rPWEscis9Mn1lbHNlXCJgXCI9PT1zP289IW86XCIuXCIhPT1zfHxvP24rPXM6aSgpLHIrK31pZihpKCksbyl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIlVudGVybWluYXRlZCBgIGluIHBhdGg6IFwiK3QpO3JldHVybiBuZXcgb2koZSl9LG9pLmVtcHR5UGF0aD1mdW5jdGlvbigpe3JldHVybiBuZXcgb2koW10pfSxvaSksZWk9KGlpLnByb3RvdHlwZS5jb3ZlcnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmZpZWxkcztlPG4ubGVuZ3RoO2UrKylpZihuW2VdLmlzUHJlZml4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9LGlpLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiBCcih0aGlzLmZpZWxkcyx0LmZpZWxkcyxmdW5jdGlvbih0LGUpe3JldHVybiB0LmlzRXF1YWwoZSl9KX0saWkpLG5pPShyaS5mcm9tQmFzZTY0U3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcmkoYXRvYih0KSl9LHJpLmZyb21VaW50OEFycmF5PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcmkoZnVuY3Rpb24odCl7Zm9yKHZhciBlPVwiXCIsbj0wO248dC5sZW5ndGg7KytuKWUrPVN0cmluZy5mcm9tQ2hhckNvZGUodFtuXSk7cmV0dXJuIGV9KHQpKX0scmkucHJvdG90eXBlLnRvQmFzZTY0PWZ1bmN0aW9uKCl7cmV0dXJuIHQ9dGhpcy5iaW5hcnlTdHJpbmcsYnRvYSh0KTt2YXIgdH0scmkucHJvdG90eXBlLnRvVWludDhBcnJheT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpLG49MDtuPHQubGVuZ3RoO24rKyllW25dPXQuY2hhckNvZGVBdChuKTtyZXR1cm4gZX0odGhpcy5iaW5hcnlTdHJpbmcpfSxyaS5wcm90b3R5cGUuYXBwcm94aW1hdGVCeXRlU2l6ZT1mdW5jdGlvbigpe3JldHVybiAyKnRoaXMuYmluYXJ5U3RyaW5nLmxlbmd0aH0scmkucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbih0KXtyZXR1cm4gcXIodGhpcy5iaW5hcnlTdHJpbmcsdC5iaW5hcnlTdHJpbmcpfSxyaS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5iaW5hcnlTdHJpbmc9PT10LmJpbmFyeVN0cmluZ30scmkpO2Z1bmN0aW9uIHJpKHQpe3RoaXMuYmluYXJ5U3RyaW5nPXR9ZnVuY3Rpb24gaWkodCl7KHRoaXMuZmllbGRzPXQpLnNvcnQodGkuY29tcGFyYXRvcil9ZnVuY3Rpb24gb2koKXtyZXR1cm4gbnVsbCE9PVhyJiZYci5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9ZnVuY3Rpb24gc2koKXtyZXR1cm4gbnVsbCE9PUpyJiZKci5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9ZnVuY3Rpb24gYWkodCxlLG4pe3ZvaWQgMD09PWU/ZT0wOmU+dC5sZW5ndGgmJk1yKCksdm9pZCAwPT09bj9uPXQubGVuZ3RoLWU6bj50Lmxlbmd0aC1lJiZNcigpLHRoaXMuc2VnbWVudHM9dCx0aGlzLm9mZnNldD1lLHRoaXMubGVuPW59bmkuRU1QVFlfQllURV9TVFJJTkc9bmV3IG5pKFwiXCIpO3ZhciB1aT1uZXcgUmVnRXhwKC9eXFxkezR9LVxcZFxcZC1cXGRcXGRUXFxkXFxkOlxcZFxcZDpcXGRcXGQoPzpcXC4oXFxkKykpP1okLyk7ZnVuY3Rpb24gY2kodCl7aWYoRnIoISF0KSxcInN0cmluZ1wiIT10eXBlb2YgdClyZXR1cm57c2Vjb25kczpoaSh0LnNlY29uZHMpLG5hbm9zOmhpKHQubmFub3MpfTt2YXIgZT0wLG49dWkuZXhlYyh0KTtGcighIW4pLG5bMV0mJihuPSgobj1uWzFdKStcIjAwMDAwMDAwMFwiKS5zdWJzdHIoMCw5KSxlPU51bWJlcihuKSk7dD1uZXcgRGF0ZSh0KTtyZXR1cm57c2Vjb25kczpNYXRoLmZsb29yKHQuZ2V0VGltZSgpLzFlMyksbmFub3M6ZX19ZnVuY3Rpb24gaGkodCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/dDpcInN0cmluZ1wiPT10eXBlb2YgdD9OdW1iZXIodCk6MH1mdW5jdGlvbiBsaSh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD9uaS5mcm9tQmFzZTY0U3RyaW5nKHQpOm5pLmZyb21VaW50OEFycmF5KHQpfWZ1bmN0aW9uIGZpKHQpe3JldHVyblwic2VydmVyX3RpbWVzdGFtcFwiPT09KG51bGw9PT0odD0oKG51bGw9PT0odD1udWxsPT10P3ZvaWQgMDp0Lm1hcFZhbHVlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5maWVsZHMpfHx7fSkuX190eXBlX18pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnN0cmluZ1ZhbHVlKX1mdW5jdGlvbiBkaSh0KXt0PWNpKHQubWFwVmFsdWUuZmllbGRzLl9fbG9jYWxfd3JpdGVfdGltZV9fLnRpbWVzdGFtcFZhbHVlKTtyZXR1cm4gbmV3IEtyKHQuc2Vjb25kcyx0Lm5hbm9zKX1mdW5jdGlvbiBwaSh0KXtyZXR1cm4gbnVsbD09dH1mdW5jdGlvbiB5aSh0KXtyZXR1cm4gMD09PXQmJjEvdD09LTEvMH1mdW5jdGlvbiBnaSh0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdCYmTnVtYmVyLmlzSW50ZWdlcih0KSYmIXlpKHQpJiZ0PD1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUiYmdD49TnVtYmVyLk1JTl9TQUZFX0lOVEVHRVJ9dmFyIG1pPSh2aS5mcm9tUGF0aD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHZpKCRyLmZyb21TdHJpbmcodCkpfSx2aS5mcm9tTmFtZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHZpKCRyLmZyb21TdHJpbmcodCkucG9wRmlyc3QoNSkpfSx2aS5wcm90b3R5cGUuaGFzQ29sbGVjdGlvbklkPWZ1bmN0aW9uKHQpe3JldHVybiAyPD10aGlzLnBhdGgubGVuZ3RoJiZ0aGlzLnBhdGguZ2V0KHRoaXMucGF0aC5sZW5ndGgtMik9PT10fSx2aS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXQmJjA9PT0kci5jb21wYXJhdG9yKHRoaXMucGF0aCx0LnBhdGgpfSx2aS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoLnRvU3RyaW5nKCl9LHZpLmNvbXBhcmF0b3I9ZnVuY3Rpb24odCxlKXtyZXR1cm4gJHIuY29tcGFyYXRvcih0LnBhdGgsZS5wYXRoKX0sdmkuaXNEb2N1bWVudEtleT1mdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGglMj09MH0sdmkuZnJvbVNlZ21lbnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdmkobmV3ICRyKHQuc2xpY2UoKSkpfSx2aSk7ZnVuY3Rpb24gdmkodCl7dGhpcy5wYXRoPXR9ZnVuY3Rpb24gYmkodCl7cmV0dXJuXCJudWxsVmFsdWVcImluIHQ/MDpcImJvb2xlYW5WYWx1ZVwiaW4gdD8xOlwiaW50ZWdlclZhbHVlXCJpbiB0fHxcImRvdWJsZVZhbHVlXCJpbiB0PzI6XCJ0aW1lc3RhbXBWYWx1ZVwiaW4gdD8zOlwic3RyaW5nVmFsdWVcImluIHQ/NTpcImJ5dGVzVmFsdWVcImluIHQ/NjpcInJlZmVyZW5jZVZhbHVlXCJpbiB0Pzc6XCJnZW9Qb2ludFZhbHVlXCJpbiB0Pzg6XCJhcnJheVZhbHVlXCJpbiB0Pzk6XCJtYXBWYWx1ZVwiaW4gdD9maSh0KT80OjEwOk1yKCl9ZnVuY3Rpb24gd2kocixpKXt2YXIgdCxlLG49Ymkocik7aWYobiE9PWJpKGkpKXJldHVybiExO3N3aXRjaChuKXtjYXNlIDA6cmV0dXJuITA7Y2FzZSAxOnJldHVybiByLmJvb2xlYW5WYWx1ZT09PWkuYm9vbGVhblZhbHVlO2Nhc2UgNDpyZXR1cm4gZGkocikuaXNFcXVhbChkaShpKSk7Y2FzZSAzOnJldHVybiBmdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2Ygci50aW1lc3RhbXBWYWx1ZSYmXCJzdHJpbmdcIj09dHlwZW9mIHQudGltZXN0YW1wVmFsdWUmJnIudGltZXN0YW1wVmFsdWUubGVuZ3RoPT09dC50aW1lc3RhbXBWYWx1ZS5sZW5ndGgpcmV0dXJuIHIudGltZXN0YW1wVmFsdWU9PT10LnRpbWVzdGFtcFZhbHVlO3ZhciBlPWNpKHIudGltZXN0YW1wVmFsdWUpLHQ9Y2kodC50aW1lc3RhbXBWYWx1ZSk7cmV0dXJuIGUuc2Vjb25kcz09PXQuc2Vjb25kcyYmZS5uYW5vcz09PXQubmFub3N9KGkpO2Nhc2UgNTpyZXR1cm4gci5zdHJpbmdWYWx1ZT09PWkuc3RyaW5nVmFsdWU7Y2FzZSA2OnJldHVybiBlPWksbGkoci5ieXRlc1ZhbHVlKS5pc0VxdWFsKGxpKGUuYnl0ZXNWYWx1ZSkpO2Nhc2UgNzpyZXR1cm4gci5yZWZlcmVuY2VWYWx1ZT09PWkucmVmZXJlbmNlVmFsdWU7Y2FzZSA4OnJldHVybiB0PWksaGkoKGU9cikuZ2VvUG9pbnRWYWx1ZS5sYXRpdHVkZSk9PT1oaSh0Lmdlb1BvaW50VmFsdWUubGF0aXR1ZGUpJiZoaShlLmdlb1BvaW50VmFsdWUubG9uZ2l0dWRlKT09PWhpKHQuZ2VvUG9pbnRWYWx1ZS5sb25naXR1ZGUpO2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImludGVnZXJWYWx1ZVwiaW4gdCYmXCJpbnRlZ2VyVmFsdWVcImluIGUpcmV0dXJuIGhpKHQuaW50ZWdlclZhbHVlKT09PWhpKGUuaW50ZWdlclZhbHVlKTtpZihcImRvdWJsZVZhbHVlXCJpbiB0JiZcImRvdWJsZVZhbHVlXCJpbiBlKXt0PWhpKHQuZG91YmxlVmFsdWUpLGU9aGkoZS5kb3VibGVWYWx1ZSk7cmV0dXJuIHQ9PT1lP3lpKHQpPT09eWkoZSk6aXNOYU4odCkmJmlzTmFOKGUpfXJldHVybiExfShyLGkpO2Nhc2UgOTpyZXR1cm4gQnIoci5hcnJheVZhbHVlLnZhbHVlc3x8W10saS5hcnJheVZhbHVlLnZhbHVlc3x8W10sd2kpO2Nhc2UgMTA6cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQsZT1yLm1hcFZhbHVlLmZpZWxkc3x8e30sbj1pLm1hcFZhbHVlLmZpZWxkc3x8e307aWYoSHIoZSkhPT1IcihuKSlyZXR1cm4hMTtmb3IodCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkmJih2b2lkIDA9PT1uW3RdfHwhd2koZVt0XSxuW3RdKSkpcmV0dXJuITE7cmV0dXJuITB9KCk7ZGVmYXVsdDpyZXR1cm4gTXIoKX19ZnVuY3Rpb24gSWkodCxlKXtyZXR1cm4gdm9pZCAwIT09KHQudmFsdWVzfHxbXSkuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gd2kodCxlKX0pfWZ1bmN0aW9uIEVpKHQsZSl7dmFyIG4scixpLG89YmkodCkscz1iaShlKTtpZihvIT09cylyZXR1cm4gcXIobyxzKTtzd2l0Y2gobyl7Y2FzZSAwOnJldHVybiAwO2Nhc2UgMTpyZXR1cm4gcXIodC5ib29sZWFuVmFsdWUsZS5ib29sZWFuVmFsdWUpO2Nhc2UgMjpyZXR1cm4gcj1lLGk9aGkodC5pbnRlZ2VyVmFsdWV8fHQuZG91YmxlVmFsdWUpLHI9aGkoci5pbnRlZ2VyVmFsdWV8fHIuZG91YmxlVmFsdWUpLGk8cj8tMTpyPGk/MTppPT09cj8wOmlzTmFOKGkpP2lzTmFOKHIpPzA6LTE6MTtjYXNlIDM6cmV0dXJuIFRpKHQudGltZXN0YW1wVmFsdWUsZS50aW1lc3RhbXBWYWx1ZSk7Y2FzZSA0OnJldHVybiBUaShkaSh0KSxkaShlKSk7Y2FzZSA1OnJldHVybiBxcih0LnN0cmluZ1ZhbHVlLGUuc3RyaW5nVmFsdWUpO2Nhc2UgNjpyZXR1cm4gZnVuY3Rpb24odCxlKXt0PWxpKHQpLGU9bGkoZSk7cmV0dXJuIHQuY29tcGFyZVRvKGUpfSh0LmJ5dGVzVmFsdWUsZS5ieXRlc1ZhbHVlKTtjYXNlIDc6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuc3BsaXQoXCIvXCIpLHI9ZS5zcGxpdChcIi9cIiksaT0wO2k8bi5sZW5ndGgmJmk8ci5sZW5ndGg7aSsrKXt2YXIgbz1xcihuW2ldLHJbaV0pO2lmKDAhPT1vKXJldHVybiBvfXJldHVybiBxcihuLmxlbmd0aCxyLmxlbmd0aCl9KHQucmVmZXJlbmNlVmFsdWUsZS5yZWZlcmVuY2VWYWx1ZSk7Y2FzZSA4OnJldHVybiBuPXQuZ2VvUG9pbnRWYWx1ZSxpPWUuZ2VvUG9pbnRWYWx1ZSwwIT09KHI9cXIoaGkobi5sYXRpdHVkZSksaGkoaS5sYXRpdHVkZSkpKT9yOnFyKGhpKG4ubG9uZ2l0dWRlKSxoaShpLmxvbmdpdHVkZSkpO2Nhc2UgOTpyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC52YWx1ZXN8fFtdLHI9ZS52YWx1ZXN8fFtdLGk9MDtpPG4ubGVuZ3RoJiZpPHIubGVuZ3RoOysraSl7dmFyIG89RWkobltpXSxyW2ldKTtpZihvKXJldHVybiBvfXJldHVybiBxcihuLmxlbmd0aCxyLmxlbmd0aCl9KHQuYXJyYXlWYWx1ZSxlLmFycmF5VmFsdWUpO2Nhc2UgMTA6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5maWVsZHN8fHt9LHI9T2JqZWN0LmtleXMobiksaT1lLmZpZWxkc3x8e30sbz1PYmplY3Qua2V5cyhpKTtyLnNvcnQoKSxvLnNvcnQoKTtmb3IodmFyIHM9MDtzPHIubGVuZ3RoJiZzPG8ubGVuZ3RoOysrcyl7dmFyIGE9cXIocltzXSxvW3NdKTtpZigwIT09YSlyZXR1cm4gYTthPUVpKG5bcltzXV0saVtvW3NdXSk7aWYoMCE9PWEpcmV0dXJuIGF9cmV0dXJuIHFyKHIubGVuZ3RoLG8ubGVuZ3RoKX0odC5tYXBWYWx1ZSxlLm1hcFZhbHVlKTtkZWZhdWx0OnRocm93IE1yKCl9fWZ1bmN0aW9uIFRpKHQsZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJlwic3RyaW5nXCI9PXR5cGVvZiBlJiZ0Lmxlbmd0aD09PWUubGVuZ3RoKXJldHVybiBxcih0LGUpO3ZhciBuPWNpKHQpLHQ9Y2koZSksZT1xcihuLnNlY29uZHMsdC5zZWNvbmRzKTtyZXR1cm4gMCE9PWU/ZTpxcihuLm5hbm9zLHQubmFub3MpfWZ1bmN0aW9uIF9pKHQpe3JldHVybiBmdW5jdGlvbiBzKHQpe3JldHVyblwibnVsbFZhbHVlXCJpbiB0P1wibnVsbFwiOlwiYm9vbGVhblZhbHVlXCJpbiB0P1wiXCIrdC5ib29sZWFuVmFsdWU6XCJpbnRlZ2VyVmFsdWVcImluIHQ/XCJcIit0LmludGVnZXJWYWx1ZTpcImRvdWJsZVZhbHVlXCJpbiB0P1wiXCIrdC5kb3VibGVWYWx1ZTpcInRpbWVzdGFtcFZhbHVlXCJpbiB0P2Z1bmN0aW9uKHQpe3ZhciB0PWNpKHQpO3JldHVyblwidGltZShcIit0LnNlY29uZHMrXCIsXCIrdC5uYW5vcytcIilcIn0odC50aW1lc3RhbXBWYWx1ZSk6XCJzdHJpbmdWYWx1ZVwiaW4gdD90LnN0cmluZ1ZhbHVlOlwiYnl0ZXNWYWx1ZVwiaW4gdD9saSh0LmJ5dGVzVmFsdWUpLnRvQmFzZTY0KCk6XCJyZWZlcmVuY2VWYWx1ZVwiaW4gdD8oZT10LnJlZmVyZW5jZVZhbHVlLG1pLmZyb21OYW1lKGUpLnRvU3RyaW5nKCkpOlwiZ2VvUG9pbnRWYWx1ZVwiaW4gdD9cImdlbyhcIisoZT10Lmdlb1BvaW50VmFsdWUpLmxhdGl0dWRlK1wiLFwiK2UubG9uZ2l0dWRlK1wiKVwiOlwiYXJyYXlWYWx1ZVwiaW4gdD9mdW5jdGlvbih0KXtmb3IodmFyIGU9XCJbXCIsbj0hMCxyPTAsaT10LnZhbHVlc3x8W107cjxpLmxlbmd0aDtyKyspbj9uPSExOmUrPVwiLFwiLGUrPXMoaVtyXSk7cmV0dXJuIGUrXCJdXCJ9KHQuYXJyYXlWYWx1ZSk6XCJtYXBWYWx1ZVwiaW4gdD9mdW5jdGlvbih0KXtmb3IodmFyIGU9XCJ7XCIsbj0hMCxyPTAsaT1PYmplY3Qua2V5cyh0LmZpZWxkc3x8e30pLnNvcnQoKTtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTtuP249ITE6ZSs9XCIsXCIsZSs9bytcIjpcIitzKHQuZmllbGRzW29dKX1yZXR1cm4gZStcIn1cIn0odC5tYXBWYWx1ZSk6TXIoKTt2YXIgZX0odCl9ZnVuY3Rpb24gU2kodCxlKXtyZXR1cm57cmVmZXJlbmNlVmFsdWU6XCJwcm9qZWN0cy9cIit0LnByb2plY3RJZCtcIi9kYXRhYmFzZXMvXCIrdC5kYXRhYmFzZStcIi9kb2N1bWVudHMvXCIrZS5wYXRoLmNhbm9uaWNhbFN0cmluZygpfX1mdW5jdGlvbiBOaSh0KXtyZXR1cm4gdCYmXCJpbnRlZ2VyVmFsdWVcImluIHR9ZnVuY3Rpb24gRGkodCl7cmV0dXJuISF0JiZcImFycmF5VmFsdWVcImluIHR9ZnVuY3Rpb24gQWkodCl7cmV0dXJuIHQmJlwibnVsbFZhbHVlXCJpbiB0fWZ1bmN0aW9uIGtpKHQpe3JldHVybiB0JiZcImRvdWJsZVZhbHVlXCJpbiB0JiZpc05hTihOdW1iZXIodC5kb3VibGVWYWx1ZSkpfWZ1bmN0aW9uIENpKHQpe3JldHVybiB0JiZcIm1hcFZhbHVlXCJpbiB0fXZhciBSaT0oeGkuZW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHhpKHttYXBWYWx1ZTp7fX0pfSx4aS5wcm90b3R5cGUuZmllbGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHhpLmV4dHJhY3ROZXN0ZWRWYWx1ZSh0aGlzLmJ1aWxkUHJvdG8oKSx0KX0seGkucHJvdG90eXBlLnRvUHJvdG89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWVsZCh0aS5lbXB0eVBhdGgoKSl9LHhpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt0aGlzLnNldE92ZXJsYXkodCxlKX0seGkucHJvdG90eXBlLnNldEFsbD1mdW5jdGlvbih0KXt2YXIgbj10aGlzO3QuZm9yRWFjaChmdW5jdGlvbih0LGUpe3Q/bi5zZXQoZSx0KTpuLmRlbGV0ZShlKX0pfSx4aS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3RoaXMuc2V0T3ZlcmxheSh0LG51bGwpfSx4aS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gd2kodGhpcy5idWlsZFByb3RvKCksdC5idWlsZFByb3RvKCkpfSx4aS5wcm90b3R5cGUuc2V0T3ZlcmxheT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLm92ZXJsYXlNYXAscj0wO3I8dC5sZW5ndGgtMTsrK3IpdmFyIGk9dC5nZXQociksbz1uLmdldChpKSxuPShvIGluc3RhbmNlb2YgTWFwfHwobz1vJiYxMD09PWJpKG8pP25ldyBNYXAoT2JqZWN0LmVudHJpZXMoby5tYXBWYWx1ZS5maWVsZHN8fHt9KSk6bmV3IE1hcCxuLnNldChpLG8pKSxvKTtuLnNldCh0Lmxhc3RTZWdtZW50KCksZSl9LHhpLnByb3RvdHlwZS5hcHBseU92ZXJsYXk9ZnVuY3Rpb24ocix0KXt2YXIgaT10aGlzLG89ITEsZT14aS5leHRyYWN0TmVzdGVkVmFsdWUodGhpcy5wYXJ0aWFsVmFsdWUscikscz1DaShlKT9PYmplY3QuYXNzaWduKHt9LGUubWFwVmFsdWUuZmllbGRzKTp7fTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIG47dCBpbnN0YW5jZW9mIE1hcD9udWxsIT0obj1pLmFwcGx5T3ZlcmxheShyLmNoaWxkKGUpLHQpKSYmKHNbZV09bixvPSEwKTpudWxsIT09dD8oc1tlXT10LG89ITApOnMuaGFzT3duUHJvcGVydHkoZSkmJihkZWxldGUgc1tlXSxvPSEwKX0pLG8/e21hcFZhbHVlOntmaWVsZHM6c319Om51bGx9LHhpLnByb3RvdHlwZS5idWlsZFByb3RvPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hcHBseU92ZXJsYXkodGkuZW1wdHlQYXRoKCksdGhpcy5vdmVybGF5TWFwKTtyZXR1cm4gbnVsbCE9dCYmKHRoaXMucGFydGlhbFZhbHVlPXQsdGhpcy5vdmVybGF5TWFwLmNsZWFyKCkpLHRoaXMucGFydGlhbFZhbHVlfSx4aS5leHRyYWN0TmVzdGVkVmFsdWU9ZnVuY3Rpb24odCxlKXtpZihlLmlzRW1wdHkoKSlyZXR1cm4gdDtmb3IodmFyIG49dCxyPTA7cjxlLmxlbmd0aC0xOysrcil7aWYoIW4ubWFwVmFsdWUuZmllbGRzKXJldHVybiBudWxsO2lmKCFDaShuPW4ubWFwVmFsdWUuZmllbGRzW2UuZ2V0KHIpXSkpcmV0dXJuIG51bGx9cmV0dXJuKG49KG4ubWFwVmFsdWUuZmllbGRzfHx7fSlbZS5sYXN0U2VnbWVudCgpXSl8fG51bGx9LHhpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgeGkodGhpcy5idWlsZFByb3RvKCkpfSx4aSk7ZnVuY3Rpb24geGkodCl7dGhpcy5vdmVybGF5TWFwPW5ldyBNYXAsdGhpcy5wYXJ0aWFsVmFsdWU9dH12YXIgT2k9KFBpLm5ld0ludmFsaWREb2N1bWVudD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFBpKHQsMCxHci5taW4oKSxSaS5lbXB0eSgpLDApfSxQaS5uZXdGb3VuZERvY3VtZW50PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IFBpKHQsMSxlLG4sMCl9LFBpLm5ld05vRG9jdW1lbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFBpKHQsMixlLFJpLmVtcHR5KCksMCl9LFBpLm5ld1Vua25vd25Eb2N1bWVudD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgUGkodCwzLGUsUmkuZW1wdHkoKSwyKX0sUGkucHJvdG90eXBlLmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy52ZXJzaW9uPXQsdGhpcy5kb2N1bWVudFR5cGU9MSx0aGlzLmRhdGE9ZSx0aGlzLmRvY3VtZW50U3RhdGU9MCx0aGlzfSxQaS5wcm90b3R5cGUuY29udmVydFRvTm9Eb2N1bWVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52ZXJzaW9uPXQsdGhpcy5kb2N1bWVudFR5cGU9Mix0aGlzLmRhdGE9UmkuZW1wdHkoKSx0aGlzLmRvY3VtZW50U3RhdGU9MCx0aGlzfSxQaS5wcm90b3R5cGUuY29udmVydFRvVW5rbm93bkRvY3VtZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnZlcnNpb249dCx0aGlzLmRvY3VtZW50VHlwZT0zLHRoaXMuZGF0YT1SaS5lbXB0eSgpLHRoaXMuZG9jdW1lbnRTdGF0ZT0yLHRoaXN9LFBpLnByb3RvdHlwZS5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2N1bWVudFN0YXRlPTIsdGhpc30sUGkucHJvdG90eXBlLnNldEhhc0xvY2FsTXV0YXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnRTdGF0ZT0xLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQaS5wcm90b3R5cGUsXCJoYXNMb2NhbE11dGF0aW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMuZG9jdW1lbnRTdGF0ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUGkucHJvdG90eXBlLFwiaGFzQ29tbWl0dGVkTXV0YXRpb25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiAyPT09dGhpcy5kb2N1bWVudFN0YXRlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQaS5wcm90b3R5cGUsXCJoYXNQZW5kaW5nV3JpdGVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0xvY2FsTXV0YXRpb25zfHx0aGlzLmhhc0NvbW1pdHRlZE11dGF0aW9uc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxQaS5wcm90b3R5cGUuaXNWYWxpZERvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT10aGlzLmRvY3VtZW50VHlwZX0sUGkucHJvdG90eXBlLmlzRm91bmREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5kb2N1bWVudFR5cGV9LFBpLnByb3RvdHlwZS5pc05vRG9jdW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXRoaXMuZG9jdW1lbnRUeXBlfSxQaS5wcm90b3R5cGUuaXNVbmtub3duRG9jdW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMz09PXRoaXMuZG9jdW1lbnRUeXBlfSxQaS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFBpJiZ0aGlzLmtleS5pc0VxdWFsKHQua2V5KSYmdGhpcy52ZXJzaW9uLmlzRXF1YWwodC52ZXJzaW9uKSYmdGhpcy5kb2N1bWVudFR5cGU9PT10LmRvY3VtZW50VHlwZSYmdGhpcy5kb2N1bWVudFN0YXRlPT09dC5kb2N1bWVudFN0YXRlJiZ0aGlzLmRhdGEuaXNFcXVhbCh0LmRhdGEpfSxQaS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFBpKHRoaXMua2V5LHRoaXMuZG9jdW1lbnRUeXBlLHRoaXMudmVyc2lvbix0aGlzLmRhdGEuY2xvbmUoKSx0aGlzLmRvY3VtZW50U3RhdGUpfSxQaS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkRvY3VtZW50KFwiK3RoaXMua2V5K1wiLCBcIit0aGlzLnZlcnNpb24rXCIsIFwiK0pTT04uc3RyaW5naWZ5KHRoaXMuZGF0YS50b1Byb3RvKCkpK1wiLCB7ZG9jdW1lbnRUeXBlOiBcIit0aGlzLmRvY3VtZW50VHlwZStcIn0pLCB7ZG9jdW1lbnRTdGF0ZTogXCIrdGhpcy5kb2N1bWVudFN0YXRlK1wifSlcIn0sUGkpLExpPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLHMpe3ZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PW4mJihuPVtdKSx2b2lkIDA9PT1yJiYocj1bXSksdm9pZCAwPT09aSYmKGk9bnVsbCksdm9pZCAwPT09byYmKG89bnVsbCksdm9pZCAwPT09cyYmKHM9bnVsbCksdGhpcy5wYXRoPXQsdGhpcy5jb2xsZWN0aW9uR3JvdXA9ZSx0aGlzLm9yZGVyQnk9bix0aGlzLmZpbHRlcnM9cix0aGlzLmxpbWl0PWksdGhpcy5zdGFydEF0PW8sdGhpcy5lbmRBdD1zLHRoaXMuaD1udWxsfTtmdW5jdGlvbiBQaSh0LGUsbixyLGkpe3RoaXMua2V5PXQsdGhpcy5kb2N1bWVudFR5cGU9ZSx0aGlzLnZlcnNpb249bix0aGlzLmRhdGE9cix0aGlzLmRvY3VtZW50U3RhdGU9aX1mdW5jdGlvbiBNaSh0LGUsbixyLGksbyxzKXtyZXR1cm4gbmV3IExpKHQsZT12b2lkIDA9PT1lP251bGw6ZSxuPXZvaWQgMD09PW4/W106bixyPXZvaWQgMD09PXI/W106cixpPXZvaWQgMD09PWk/bnVsbDppLG89dm9pZCAwPT09bz9udWxsOm8scz12b2lkIDA9PT1zP251bGw6cyl9ZnVuY3Rpb24gRmkodCl7dmFyIGU9dDtyZXR1cm4gbnVsbD09PWUuaCYmKHQ9ZS5wYXRoLmNhbm9uaWNhbFN0cmluZygpLG51bGwhPT1lLmNvbGxlY3Rpb25Hcm91cCYmKHQrPVwifGNnOlwiK2UuY29sbGVjdGlvbkdyb3VwKSx0Kz1cInxmOlwiLHQrPWUuZmlsdGVycy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuKHQ9dCkuZmllbGQuY2Fub25pY2FsU3RyaW5nKCkrdC5vcC50b1N0cmluZygpK19pKHQudmFsdWUpfSkuam9pbihcIixcIiksdCs9XCJ8b2I6XCIsdCs9ZS5vcmRlckJ5Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4odD10KS5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSt0LmRpcn0pLmpvaW4oXCIsXCIpLHBpKGUubGltaXQpfHwodCs9XCJ8bDpcIix0Kz1lLmxpbWl0KSxlLnN0YXJ0QXQmJih0Kz1cInxsYjpcIix0Kz1mbyhlLnN0YXJ0QXQpKSxlLmVuZEF0JiYodCs9XCJ8dWI6XCIsdCs9Zm8oZS5lbmRBdCkpLGUuaD10KSxlLmh9ZnVuY3Rpb24gVmkodCxlKXtpZih0LmxpbWl0IT09ZS5saW1pdClyZXR1cm4hMTtpZih0Lm9yZGVyQnkubGVuZ3RoIT09ZS5vcmRlckJ5Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG4scixpPTA7aTx0Lm9yZGVyQnkubGVuZ3RoO2krKylpZihuPXQub3JkZXJCeVtpXSxyPWUub3JkZXJCeVtpXSxuLmRpciE9PXIuZGlyfHwhbi5maWVsZC5pc0VxdWFsKHIuZmllbGQpKXJldHVybiExO2lmKHQuZmlsdGVycy5sZW5ndGghPT1lLmZpbHRlcnMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbyxzLGE9MDthPHQuZmlsdGVycy5sZW5ndGg7YSsrKWlmKG89dC5maWx0ZXJzW2FdLHM9ZS5maWx0ZXJzW2FdLG8ub3AhPT1zLm9wfHwhby5maWVsZC5pc0VxdWFsKHMuZmllbGQpfHwhd2koby52YWx1ZSxzLnZhbHVlKSlyZXR1cm4hMTtyZXR1cm4gdC5jb2xsZWN0aW9uR3JvdXA9PT1lLmNvbGxlY3Rpb25Hcm91cCYmISF0LnBhdGguaXNFcXVhbChlLnBhdGgpJiYhIWdvKHQuc3RhcnRBdCxlLnN0YXJ0QXQpJiZnbyh0LmVuZEF0LGUuZW5kQXQpfWZ1bmN0aW9uIFVpKHQpe3JldHVybiBtaS5pc0RvY3VtZW50S2V5KHQucGF0aCkmJm51bGw9PT10LmNvbGxlY3Rpb25Hcm91cCYmMD09PXQuZmlsdGVycy5sZW5ndGh9dmFyIHFpLEJpPShuKGppLHFpPWZ1bmN0aW9uKCl7fSksamkuY3JlYXRlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdC5pc0tleUZpZWxkKCk/XCJpblwiPT09ZXx8XCJub3QtaW5cIj09PWU/dGhpcy5sKHQsZSxuKTpuZXcgemkodCxlLG4pOlwiYXJyYXktY29udGFpbnNcIj09PWU/bmV3IHJvKHQsbik6XCJpblwiPT09ZT9uZXcgaW8odCxuKTpcIm5vdC1pblwiPT09ZT9uZXcgb28odCxuKTpcImFycmF5LWNvbnRhaW5zLWFueVwiPT09ZT9uZXcgc28odCxuKTpuZXcgamkodCxlLG4pfSxqaS5sPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3KFwiaW5cIj09PWU/SGk6V2kpKHQsbil9LGppLnByb3RvdHlwZS5tYXRjaGVzPWZ1bmN0aW9uKHQpe3Q9dC5kYXRhLmZpZWxkKHRoaXMuZmllbGQpO3JldHVyblwiIT1cIj09PXRoaXMub3A/bnVsbCE9PXQmJnRoaXMubShFaSh0LHRoaXMudmFsdWUpKTpudWxsIT09dCYmYmkodGhpcy52YWx1ZSk9PT1iaSh0KSYmdGhpcy5tKEVpKHQsdGhpcy52YWx1ZSkpfSxqaS5wcm90b3R5cGUubT1mdW5jdGlvbih0KXtzd2l0Y2godGhpcy5vcCl7Y2FzZVwiPFwiOnJldHVybiB0PDA7Y2FzZVwiPD1cIjpyZXR1cm4gdDw9MDtjYXNlXCI9PVwiOnJldHVybiAwPT09dDtjYXNlXCIhPVwiOnJldHVybiAwIT09dDtjYXNlXCI+XCI6cmV0dXJuIDA8dDtjYXNlXCI+PVwiOnJldHVybiAwPD10O2RlZmF1bHQ6cmV0dXJuIE1yKCl9fSxqaS5wcm90b3R5cGUuZz1mdW5jdGlvbigpe3JldHVybiAwPD1bXCI8XCIsXCI8PVwiLFwiPlwiLFwiPj1cIixcIiE9XCIsXCJub3QtaW5cIl0uaW5kZXhPZih0aGlzLm9wKX0samkpO2Z1bmN0aW9uIGppKHQsZSxuKXt2YXIgcj10aGlzO3JldHVybihyPXFpLmNhbGwodGhpcyl8fHRoaXMpLmZpZWxkPXQsci5vcD1lLHIudmFsdWU9bixyfXZhciBLaSxHaSxRaSx6aT0obihKaSxRaT1CaSksSmkucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24odCl7dD1taS5jb21wYXJhdG9yKHQua2V5LHRoaXMua2V5KTtyZXR1cm4gdGhpcy5tKHQpfSxKaSksSGk9KG4oWGksR2k9QmkpLFhpLnByb3RvdHlwZS5tYXRjaGVzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmtleXMuc29tZShmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0VxdWFsKGUua2V5KX0pfSxYaSksV2k9KG4oWWksS2k9QmkpLFlpLnByb3RvdHlwZS5tYXRjaGVzPWZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLmtleXMuc29tZShmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0VxdWFsKGUua2V5KX0pfSxZaSk7ZnVuY3Rpb24gWWkodCxlKXt2YXIgbj10aGlzO3JldHVybihuPUtpLmNhbGwodGhpcyx0LFwibm90LWluXCIsZSl8fHRoaXMpLmtleXM9JGkoMCxlKSxufWZ1bmN0aW9uIFhpKHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj1HaS5jYWxsKHRoaXMsdCxcImluXCIsZSl8fHRoaXMpLmtleXM9JGkoMCxlKSxufWZ1bmN0aW9uIEppKHQsZSxuKXt2YXIgcj10aGlzO3JldHVybihyPVFpLmNhbGwodGhpcyx0LGUsbil8fHRoaXMpLmtleT1taS5mcm9tTmFtZShuLnJlZmVyZW5jZVZhbHVlKSxyfWZ1bmN0aW9uICRpKHQsZSl7cmV0dXJuKChudWxsPT09KGU9ZS5hcnJheVZhbHVlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS52YWx1ZXMpfHxbXSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBtaS5mcm9tTmFtZSh0LnJlZmVyZW5jZVZhbHVlKX0pfXZhciBaaSx0byxlbyxubyxybz0obihsbyxubz1CaSksbG8ucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24odCl7dD10LmRhdGEuZmllbGQodGhpcy5maWVsZCk7cmV0dXJuIERpKHQpJiZJaSh0LmFycmF5VmFsdWUsdGhpcy52YWx1ZSl9LGxvKSxpbz0obihobyxlbz1CaSksaG8ucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24odCl7dD10LmRhdGEuZmllbGQodGhpcy5maWVsZCk7cmV0dXJuIG51bGwhPT10JiZJaSh0aGlzLnZhbHVlLmFycmF5VmFsdWUsdCl9LGhvKSxvbz0obihjbyx0bz1CaSksY28ucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24odCl7aWYoSWkodGhpcy52YWx1ZS5hcnJheVZhbHVlLHtudWxsVmFsdWU6XCJOVUxMX1ZBTFVFXCJ9KSlyZXR1cm4hMTt0PXQuZGF0YS5maWVsZCh0aGlzLmZpZWxkKTtyZXR1cm4gbnVsbCE9PXQmJiFJaSh0aGlzLnZhbHVlLmFycmF5VmFsdWUsdCl9LGNvKSxzbz0obih1byxaaT1CaSksdW8ucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyx0PXQuZGF0YS5maWVsZCh0aGlzLmZpZWxkKTtyZXR1cm4hKCFEaSh0KXx8IXQuYXJyYXlWYWx1ZS52YWx1ZXMpJiZ0LmFycmF5VmFsdWUudmFsdWVzLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIElpKGUudmFsdWUuYXJyYXlWYWx1ZSx0KX0pfSx1byksYW89ZnVuY3Rpb24odCxlKXt0aGlzLnBvc2l0aW9uPXQsdGhpcy5iZWZvcmU9ZX07ZnVuY3Rpb24gdW8odCxlKXtyZXR1cm4gWmkuY2FsbCh0aGlzLHQsXCJhcnJheS1jb250YWlucy1hbnlcIixlKXx8dGhpc31mdW5jdGlvbiBjbyh0LGUpe3JldHVybiB0by5jYWxsKHRoaXMsdCxcIm5vdC1pblwiLGUpfHx0aGlzfWZ1bmN0aW9uIGhvKHQsZSl7cmV0dXJuIGVvLmNhbGwodGhpcyx0LFwiaW5cIixlKXx8dGhpc31mdW5jdGlvbiBsbyh0LGUpe3JldHVybiBuby5jYWxsKHRoaXMsdCxcImFycmF5LWNvbnRhaW5zXCIsZSl8fHRoaXN9ZnVuY3Rpb24gZm8odCl7cmV0dXJuKHQuYmVmb3JlP1wiYlwiOlwiYVwiKStcIjpcIit0LnBvc2l0aW9uLm1hcChfaSkuam9pbihcIixcIil9dmFyIHBvPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9XCJhc2NcIiksdGhpcy5maWVsZD10LHRoaXMuZGlyPWV9O2Z1bmN0aW9uIHlvKHQsZSxuKXtmb3IodmFyIHI9MCxpPTA7aTx0LnBvc2l0aW9uLmxlbmd0aDtpKyspe3ZhciBvPWVbaV0scz10LnBvc2l0aW9uW2ldLHI9by5maWVsZC5pc0tleUZpZWxkKCk/bWkuY29tcGFyYXRvcihtaS5mcm9tTmFtZShzLnJlZmVyZW5jZVZhbHVlKSxuLmtleSk6RWkocyxuLmRhdGEuZmllbGQoby5maWVsZCkpO2lmKFwiZGVzY1wiPT09by5kaXImJihyKj0tMSksMCE9PXIpYnJlYWt9cmV0dXJuIHQuYmVmb3JlP3I8PTA6cjwwfWZ1bmN0aW9uIGdvKHQsZSl7aWYobnVsbD09PXQpcmV0dXJuIG51bGw9PT1lO2lmKG51bGw9PT1lKXJldHVybiExO2lmKHQuYmVmb3JlIT09ZS5iZWZvcmV8fHQucG9zaXRpb24ubGVuZ3RoIT09ZS5wb3NpdGlvbi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0LnBvc2l0aW9uLmxlbmd0aDtuKyspaWYoIXdpKHQucG9zaXRpb25bbl0sZS5wb3NpdGlvbltuXSkpcmV0dXJuITE7cmV0dXJuITB9dmFyIG1vPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLHMsYSl7dm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49W10pLHZvaWQgMD09PXImJihyPVtdKSx2b2lkIDA9PT1pJiYoaT1udWxsKSx2b2lkIDA9PT1vJiYobz1cIkZcIiksdm9pZCAwPT09cyYmKHM9bnVsbCksdm9pZCAwPT09YSYmKGE9bnVsbCksdGhpcy5wYXRoPXQsdGhpcy5jb2xsZWN0aW9uR3JvdXA9ZSx0aGlzLmV4cGxpY2l0T3JkZXJCeT1uLHRoaXMuZmlsdGVycz1yLHRoaXMubGltaXQ9aSx0aGlzLmxpbWl0VHlwZT1vLHRoaXMuc3RhcnRBdD1zLHRoaXMuZW5kQXQ9YSx0aGlzLnA9bnVsbCx0aGlzLlQ9bnVsbCx0aGlzLnN0YXJ0QXQsdGhpcy5lbmRBdH07ZnVuY3Rpb24gdm8odCxlLG4scixpLG8scyxhKXtyZXR1cm4gbmV3IG1vKHQsZSxuLHIsaSxvLHMsYSl9ZnVuY3Rpb24gYm8odCl7cmV0dXJuIG5ldyBtbyh0KX1mdW5jdGlvbiB3byh0KXtyZXR1cm4hcGkodC5saW1pdCkmJlwiRlwiPT09dC5saW1pdFR5cGV9ZnVuY3Rpb24gSW8odCl7cmV0dXJuIXBpKHQubGltaXQpJiZcIkxcIj09PXQubGltaXRUeXBlfWZ1bmN0aW9uIEVvKHQpe3JldHVybiAwPHQuZXhwbGljaXRPcmRlckJ5Lmxlbmd0aD90LmV4cGxpY2l0T3JkZXJCeVswXS5maWVsZDpudWxsfWZ1bmN0aW9uIFRvKHQpe2Zvcih2YXIgZT0wLG49dC5maWx0ZXJzO2U8bi5sZW5ndGg7ZSsrKXt2YXIgcj1uW2VdO2lmKHIuZygpKXJldHVybiByLmZpZWxkfXJldHVybiBudWxsfWZ1bmN0aW9uIF9vKHQpe3JldHVybiBudWxsIT09dC5jb2xsZWN0aW9uR3JvdXB9ZnVuY3Rpb24gU28odCl7dmFyIGU9dDtpZihudWxsPT09ZS5wKXtlLnA9W107dmFyIG49VG8oZSksdD1FbyhlKTtpZihudWxsIT09biYmbnVsbD09PXQpbi5pc0tleUZpZWxkKCl8fGUucC5wdXNoKG5ldyBwbyhuKSksZS5wLnB1c2gobmV3IHBvKHRpLmtleUZpZWxkKCksXCJhc2NcIikpO2Vsc2V7Zm9yKHZhciByPSExLGk9MCxvPWUuZXhwbGljaXRPcmRlckJ5O2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldO2UucC5wdXNoKHMpLHMuZmllbGQuaXNLZXlGaWVsZCgpJiYocj0hMCl9cnx8KG49MDxlLmV4cGxpY2l0T3JkZXJCeS5sZW5ndGg/ZS5leHBsaWNpdE9yZGVyQnlbZS5leHBsaWNpdE9yZGVyQnkubGVuZ3RoLTFdLmRpcjpcImFzY1wiLGUucC5wdXNoKG5ldyBwbyh0aS5rZXlGaWVsZCgpLG4pKSl9fXJldHVybiBlLnB9ZnVuY3Rpb24gTm8odCl7dmFyIGU9dDtpZighZS5UKWlmKFwiRlwiPT09ZS5saW1pdFR5cGUpZS5UPU1pKGUucGF0aCxlLmNvbGxlY3Rpb25Hcm91cCxTbyhlKSxlLmZpbHRlcnMsZS5saW1pdCxlLnN0YXJ0QXQsZS5lbmRBdCk7ZWxzZXtmb3IodmFyIG49W10scj0wLGk9U28oZSk7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl0scz1cImRlc2NcIj09PW8uZGlyP1wiYXNjXCI6XCJkZXNjXCI7bi5wdXNoKG5ldyBwbyhvLmZpZWxkLHMpKX12YXIgYT1lLmVuZEF0P25ldyBhbyhlLmVuZEF0LnBvc2l0aW9uLCFlLmVuZEF0LmJlZm9yZSk6bnVsbCx0PWUuc3RhcnRBdD9uZXcgYW8oZS5zdGFydEF0LnBvc2l0aW9uLCFlLnN0YXJ0QXQuYmVmb3JlKTpudWxsO2UuVD1NaShlLnBhdGgsZS5jb2xsZWN0aW9uR3JvdXAsbixlLmZpbHRlcnMsZS5saW1pdCxhLHQpfXJldHVybiBlLlR9ZnVuY3Rpb24gRG8odCxlLG4pe3JldHVybiBuZXcgbW8odC5wYXRoLHQuY29sbGVjdGlvbkdyb3VwLHQuZXhwbGljaXRPcmRlckJ5LnNsaWNlKCksdC5maWx0ZXJzLnNsaWNlKCksZSxuLHQuc3RhcnRBdCx0LmVuZEF0KX1mdW5jdGlvbiBBbyh0LGUpe3JldHVybiBWaShObyh0KSxObyhlKSkmJnQubGltaXRUeXBlPT09ZS5saW1pdFR5cGV9ZnVuY3Rpb24ga28odCl7cmV0dXJuIEZpKE5vKHQpKStcInxsdDpcIit0LmxpbWl0VHlwZX1mdW5jdGlvbiBDbyh0KXtyZXR1cm5cIlF1ZXJ5KHRhcmdldD1cIisoZT1Obyh0KSxuPWUucGF0aC5jYW5vbmljYWxTdHJpbmcoKSxudWxsIT09ZS5jb2xsZWN0aW9uR3JvdXAmJihuKz1cIiBjb2xsZWN0aW9uR3JvdXA9XCIrZS5jb2xsZWN0aW9uR3JvdXApLDA8ZS5maWx0ZXJzLmxlbmd0aCYmKG4rPVwiLCBmaWx0ZXJzOiBbXCIrZS5maWx0ZXJzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4odD10KS5maWVsZC5jYW5vbmljYWxTdHJpbmcoKStcIiBcIit0Lm9wK1wiIFwiK19pKHQudmFsdWUpfSkuam9pbihcIiwgXCIpK1wiXVwiKSxwaShlLmxpbWl0KXx8KG4rPVwiLCBsaW1pdDogXCIrZS5saW1pdCksMDxlLm9yZGVyQnkubGVuZ3RoJiYobis9XCIsIG9yZGVyQnk6IFtcIitlLm9yZGVyQnkubWFwKGZ1bmN0aW9uKHQpe3JldHVybih0PXQpLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpK1wiIChcIit0LmRpcitcIilcIn0pLmpvaW4oXCIsIFwiKStcIl1cIiksZS5zdGFydEF0JiYobis9XCIsIHN0YXJ0QXQ6IFwiK2ZvKGUuc3RhcnRBdCkpLGUuZW5kQXQmJihuKz1cIiwgZW5kQXQ6IFwiK2ZvKGUuZW5kQXQpKSxcIlRhcmdldChcIituK1wiKVwiKStcIjsgbGltaXRUeXBlPVwiK3QubGltaXRUeXBlK1wiKVwiO3ZhciBlLG59ZnVuY3Rpb24gUm8oaSx0KXtyZXR1cm4gdC5pc0ZvdW5kRG9jdW1lbnQoKSYmKGU9aSxuPXQua2V5LnBhdGgsbnVsbCE9PWUuY29sbGVjdGlvbkdyb3VwP3Qua2V5Lmhhc0NvbGxlY3Rpb25JZChlLmNvbGxlY3Rpb25Hcm91cCkmJmUucGF0aC5pc1ByZWZpeE9mKG4pOm1pLmlzRG9jdW1lbnRLZXkoZS5wYXRoKT9lLnBhdGguaXNFcXVhbChuKTplLnBhdGguaXNJbW1lZGlhdGVQYXJlbnRPZihuKSkmJmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49aS5leHBsaWNpdE9yZGVyQnk7ZTxuLmxlbmd0aDtlKyspe3ZhciByPW5bZV07aWYoIXIuZmllbGQuaXNLZXlGaWVsZCgpJiZudWxsPT09dC5kYXRhLmZpZWxkKHIuZmllbGQpKXJldHVybn1yZXR1cm4gMX0odCkmJmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49aS5maWx0ZXJzO2U8bi5sZW5ndGg7ZSsrKWlmKCFuW2VdLm1hdGNoZXModCkpcmV0dXJuO3JldHVybiAxfSh0KSYmKG49dCwoISh0PWkpLnN0YXJ0QXR8fHlvKHQuc3RhcnRBdCxTbyh0KSxuKSkmJighdC5lbmRBdHx8IXlvKHQuZW5kQXQsU28odCksbikpKTt2YXIgZSxufWZ1bmN0aW9uIHhvKGEpe3JldHVybiBmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0hMSxyPTAsaT1TbyhhKTtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXSxzPWZ1bmN0aW9uKHQscixlKXt2YXIgbj10LmZpZWxkLmlzS2V5RmllbGQoKT9taS5jb21wYXJhdG9yKHIua2V5LGUua2V5KTpmdW5jdGlvbih0LGUpe3ZhciBuPXIuZGF0YS5maWVsZCh0KSx0PWUuZGF0YS5maWVsZCh0KTtyZXR1cm4gbnVsbCE9PW4mJm51bGwhPT10P0VpKG4sdCk6TXIoKX0odC5maWVsZCxlKTtzd2l0Y2godC5kaXIpe2Nhc2VcImFzY1wiOnJldHVybiBuO2Nhc2VcImRlc2NcIjpyZXR1cm4tMSpuO2RlZmF1bHQ6cmV0dXJuIE1yKCl9fShvLHQsZSk7aWYoMCE9PXMpcmV0dXJuIHM7bj1ufHxvLmZpZWxkLmlzS2V5RmllbGQoKX1yZXR1cm4gMH19ZnVuY3Rpb24gT28odCxlKXtpZih0Lkkpe2lmKGlzTmFOKGUpKXJldHVybntkb3VibGVWYWx1ZTpcIk5hTlwifTtpZihlPT09MS8wKXJldHVybntkb3VibGVWYWx1ZTpcIkluZmluaXR5XCJ9O2lmKGU9PT0tMS8wKXJldHVybntkb3VibGVWYWx1ZTpcIi1JbmZpbml0eVwifX1yZXR1cm57ZG91YmxlVmFsdWU6eWkoZSk/XCItMFwiOmV9fWZ1bmN0aW9uIExvKHQpe3JldHVybntpbnRlZ2VyVmFsdWU6XCJcIit0fX1mdW5jdGlvbiBQbyh0LGUpe3JldHVybiBnaShlKT9MbyhlKTpPbyh0LGUpfUk9ZnVuY3Rpb24oKXt0aGlzLl89dm9pZCAwfTtmdW5jdGlvbiBNbyh0LGUpe3JldHVybiB0IGluc3RhbmNlb2YgWW8/TmkodD1lKXx8dCYmXCJkb3VibGVWYWx1ZVwiaW4gdD9lOntpbnRlZ2VyVmFsdWU6MH06bnVsbH12YXIgRm8sVm8sVW89KG4oam8sVm89SSksam8pLHFvPShuKEJvLEZvPUkpLEJvKTtmdW5jdGlvbiBCbyh0KXt2YXIgZT10aGlzO3JldHVybihlPUZvLmNhbGwodGhpcyl8fHRoaXMpLmVsZW1lbnRzPXQsZX1mdW5jdGlvbiBqbygpe3JldHVybiBudWxsIT09Vm8mJlZvLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31mdW5jdGlvbiBLbyh0LGUpe2Zvcih2YXIgbj0kbyhlKSxyPTAsaT10LmVsZW1lbnRzO3I8aS5sZW5ndGg7cisrKSFmdW5jdGlvbihlKXtuLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIHdpKHQsZSl9KXx8bi5wdXNoKGUpfShpW3JdKTtyZXR1cm57YXJyYXlWYWx1ZTp7dmFsdWVzOm59fX12YXIgR28sUW89KG4oem8sR289SSksem8pO2Z1bmN0aW9uIHpvKHQpe3ZhciBlPXRoaXM7cmV0dXJuKGU9R28uY2FsbCh0aGlzKXx8dGhpcykuZWxlbWVudHM9dCxlfWZ1bmN0aW9uIEhvKHQsZSl7Zm9yKHZhciBuPSRvKGUpLHI9MCxpPXQuZWxlbWVudHM7cjxpLmxlbmd0aDtyKyspIWZ1bmN0aW9uKGUpe249bi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIXdpKHQsZSl9KX0oaVtyXSk7cmV0dXJue2FycmF5VmFsdWU6e3ZhbHVlczpufX19dmFyIFdvLFlvPShuKFhvLFdvPUkpLFhvKTtmdW5jdGlvbiBYbyh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49V28uY2FsbCh0aGlzKXx8dGhpcykuUj10LG4uQT1lLG59ZnVuY3Rpb24gSm8odCl7cmV0dXJuIGhpKHQuaW50ZWdlclZhbHVlfHx0LmRvdWJsZVZhbHVlKX1mdW5jdGlvbiAkbyh0KXtyZXR1cm4gRGkodCkmJnQuYXJyYXlWYWx1ZS52YWx1ZXM/dC5hcnJheVZhbHVlLnZhbHVlcy5zbGljZSgpOltdfWZ1bmN0aW9uIFpvKHQsZSl7dGhpcy52ZXJzaW9uPXQsdGhpcy50cmFuc2Zvcm1SZXN1bHRzPWV9dmFyIHRzPWZ1bmN0aW9uKHQsZSl7dGhpcy5maWVsZD10LHRoaXMudHJhbnNmb3JtPWV9LGVzPShucy5ub25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuc30sbnMuZXhpc3RzPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbnModm9pZCAwLHQpfSxucy51cGRhdGVUaW1lPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbnModCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucy5wcm90b3R5cGUsXCJpc05vbmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMudXBkYXRlVGltZSYmdm9pZCAwPT09dGhpcy5leGlzdHN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksbnMucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZXhpc3RzPT09dC5leGlzdHMmJih0aGlzLnVwZGF0ZVRpbWU/ISF0LnVwZGF0ZVRpbWUmJnRoaXMudXBkYXRlVGltZS5pc0VxdWFsKHQudXBkYXRlVGltZSk6IXQudXBkYXRlVGltZSl9LG5zKTtmdW5jdGlvbiBucyh0LGUpe3RoaXMudXBkYXRlVGltZT10LHRoaXMuZXhpc3RzPWV9ZnVuY3Rpb24gcnModCxlKXtyZXR1cm4gdm9pZCAwIT09dC51cGRhdGVUaW1lP2UuaXNGb3VuZERvY3VtZW50KCkmJmUudmVyc2lvbi5pc0VxdWFsKHQudXBkYXRlVGltZSk6dm9pZCAwPT09dC5leGlzdHN8fHQuZXhpc3RzPT09ZS5pc0ZvdW5kRG9jdW1lbnQoKX1UZT1mdW5jdGlvbigpe307ZnVuY3Rpb24gaXModCxlLG4pe3ZhciByLGksbyxzO3QgaW5zdGFuY2VvZiBjcz8oaT1lLG89bixycygocj10KS5wcmVjb25kaXRpb24saSkmJihzPXIudmFsdWUuY2xvbmUoKSxvPXlzKHIuZmllbGRUcmFuc2Zvcm1zLG8saSkscy5zZXRBbGwobyksaS5jb252ZXJ0VG9Gb3VuZERvY3VtZW50KHNzKGkpLHMpLnNldEhhc0xvY2FsTXV0YXRpb25zKCkpKTp0IGluc3RhbmNlb2YgaHM/KG89ZSxpPW4scnMoKHM9dCkucHJlY29uZGl0aW9uLG8pJiYobj15cyhzLmZpZWxkVHJhbnNmb3JtcyxpLG8pLChpPW8uZGF0YSkuc2V0QWxsKGRzKHMpKSxpLnNldEFsbChuKSxvLmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQoc3MobyksaSkuc2V0SGFzTG9jYWxNdXRhdGlvbnMoKSkpOihlPWUscnModC5wcmVjb25kaXRpb24sZSkmJmUuY29udmVydFRvTm9Eb2N1bWVudChHci5taW4oKSkpfWZ1bmN0aW9uIG9zKHQsZSl7cmV0dXJuIHQudHlwZT09PWUudHlwZSYmISF0LmtleS5pc0VxdWFsKGUua2V5KSYmISF0LnByZWNvbmRpdGlvbi5pc0VxdWFsKGUucHJlY29uZGl0aW9uKSYmKG49dC5maWVsZFRyYW5zZm9ybXMscj1lLmZpZWxkVHJhbnNmb3JtcywhISh2b2lkIDA9PT1uJiZ2b2lkIDA9PT1yfHxuJiZyJiZCcihuLHIsZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lLCh0PXQpLmZpZWxkLmlzRXF1YWwoZS5maWVsZCkmJih0PXQudHJhbnNmb3JtLGU9ZS50cmFuc2Zvcm0sdCBpbnN0YW5jZW9mIHFvJiZlIGluc3RhbmNlb2YgcW98fHQgaW5zdGFuY2VvZiBRbyYmZSBpbnN0YW5jZW9mIFFvP0JyKHQuZWxlbWVudHMsZS5lbGVtZW50cyx3aSk6dCBpbnN0YW5jZW9mIFlvJiZlIGluc3RhbmNlb2YgWW8/d2kodC5BLGUuQSk6dCBpbnN0YW5jZW9mIFVvJiZlIGluc3RhbmNlb2YgVW8pfSkpKSYmKDA9PT10LnR5cGU/dC52YWx1ZS5pc0VxdWFsKGUudmFsdWUpOjEhPT10LnR5cGV8fHQuZGF0YS5pc0VxdWFsKGUuZGF0YSkmJnQuZmllbGRNYXNrLmlzRXF1YWwoZS5maWVsZE1hc2spKTt2YXIgbixyfWZ1bmN0aW9uIHNzKHQpe3JldHVybiB0LmlzRm91bmREb2N1bWVudCgpP3QudmVyc2lvbjpHci5taW4oKX12YXIgYXMsdXMsY3M9KG4oZnMsdXM9VGUpLGZzKSxocz0obihscyxhcz1UZSksbHMpO2Z1bmN0aW9uIGxzKHQsZSxuLHIsaSl7dm9pZCAwPT09aSYmKGk9W10pO3ZhciBvPXRoaXM7cmV0dXJuKG89YXMuY2FsbCh0aGlzKXx8dGhpcykua2V5PXQsby5kYXRhPWUsby5maWVsZE1hc2s9bixvLnByZWNvbmRpdGlvbj1yLG8uZmllbGRUcmFuc2Zvcm1zPWksby50eXBlPTEsb31mdW5jdGlvbiBmcyh0LGUsbixyKXt2b2lkIDA9PT1yJiYocj1bXSk7dmFyIGk9dGhpcztyZXR1cm4oaT11cy5jYWxsKHRoaXMpfHx0aGlzKS5rZXk9dCxpLnZhbHVlPWUsaS5wcmVjb25kaXRpb249bixpLmZpZWxkVHJhbnNmb3Jtcz1yLGkudHlwZT0wLGl9ZnVuY3Rpb24gZHMobil7dmFyIHI9bmV3IE1hcDtyZXR1cm4gbi5maWVsZE1hc2suZmllbGRzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU7dC5pc0VtcHR5KCl8fChlPW4uZGF0YS5maWVsZCh0KSxyLnNldCh0LGUpKX0pLHJ9ZnVuY3Rpb24gcHModCxlLG4pe3ZhciByPW5ldyBNYXA7RnIodC5sZW5ndGg9PT1uLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciBvPXRbaV0scz1vLnRyYW5zZm9ybSxhPWUuZGF0YS5maWVsZChvLmZpZWxkKTtyLnNldChvLmZpZWxkLChvPXMscz1hLGE9bltpXSxvIGluc3RhbmNlb2YgcW8/S28obyxzKTpvIGluc3RhbmNlb2YgUW8/SG8obyxzKTphKSl9cmV0dXJuIHJ9ZnVuY3Rpb24geXModCxlLG4pe2Zvcih2YXIgcixpPW5ldyBNYXAsbz0wLHM9dDtvPHMubGVuZ3RoO28rKyl7dmFyIGE9c1tvXSx1PWEudHJhbnNmb3JtLGM9bi5kYXRhLmZpZWxkKGEuZmllbGQpO2kuc2V0KGEuZmllbGQsKHI9YyxhPWUsYz12b2lkIDAsKHU9dSlpbnN0YW5jZW9mIFVvPyhjPXtmaWVsZHM6e19fdHlwZV9fOntzdHJpbmdWYWx1ZTpcInNlcnZlcl90aW1lc3RhbXBcIn0sX19sb2NhbF93cml0ZV90aW1lX186e3RpbWVzdGFtcFZhbHVlOntzZWNvbmRzOmEuc2Vjb25kcyxuYW5vczphLm5hbm9zZWNvbmRzfX19fSxyJiYoYy5maWVsZHMuX19wcmV2aW91c192YWx1ZV9fPXIpLHttYXBWYWx1ZTpjfSk6dSBpbnN0YW5jZW9mIHFvP0tvKHUscik6dSBpbnN0YW5jZW9mIFFvP0hvKHUscik6KHU9TW8oYz11LHIpLHI9Sm8odSkrSm8oYy5BKSxOaSh1KSYmTmkoYy5BKT9MbyhyKTpPbyhjLlIscikpKSl9cmV0dXJuIGl9ZnVuY3Rpb24gZ3ModCl7dGhpcy5jb3VudD10fXZhciBtcyx2cyxicyx3cz0obihUcyxicz1UZSksVHMpLElzPShuKEVzLHZzPVRlKSxFcyk7ZnVuY3Rpb24gRXModCxlKXt2YXIgbj10aGlzO3JldHVybihuPXZzLmNhbGwodGhpcyl8fHRoaXMpLmtleT10LG4ucHJlY29uZGl0aW9uPWUsbi50eXBlPTMsbi5maWVsZFRyYW5zZm9ybXM9W10sbn1mdW5jdGlvbiBUcyh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49YnMuY2FsbCh0aGlzKXx8dGhpcykua2V5PXQsbi5wcmVjb25kaXRpb249ZSxuLnR5cGU9MixuLmZpZWxkVHJhbnNmb3Jtcz1bXSxufWZ1bmN0aW9uIF9zKHQpe3N3aXRjaCh0KXtjYXNlIERyLk9LOnJldHVybiBNcigpLDA7Y2FzZSBEci5DQU5DRUxMRUQ6Y2FzZSBEci5VTktOT1dOOmNhc2UgRHIuREVBRExJTkVfRVhDRUVERUQ6Y2FzZSBEci5SRVNPVVJDRV9FWEhBVVNURUQ6Y2FzZSBEci5JTlRFUk5BTDpjYXNlIERyLlVOQVZBSUxBQkxFOmNhc2UgRHIuVU5BVVRIRU5USUNBVEVEOnJldHVybjtjYXNlIERyLklOVkFMSURfQVJHVU1FTlQ6Y2FzZSBEci5OT1RfRk9VTkQ6Y2FzZSBEci5BTFJFQURZX0VYSVNUUzpjYXNlIERyLlBFUk1JU1NJT05fREVOSUVEOmNhc2UgRHIuRkFJTEVEX1BSRUNPTkRJVElPTjpjYXNlIERyLkFCT1JURUQ6Y2FzZSBEci5PVVRfT0ZfUkFOR0U6Y2FzZSBEci5VTklNUExFTUVOVEVEOmNhc2UgRHIuREFUQV9MT1NTOnJldHVybiAxO2RlZmF1bHQ6cmV0dXJuIE1yKCksMH19ZnVuY3Rpb24gU3ModCl7aWYodm9pZCAwPT09dClyZXR1cm4gT3IoXCJHUlBDIGVycm9yIGhhcyBubyAuY29kZVwiKSxEci5VTktOT1dOO3N3aXRjaCh0KXtjYXNlIG1zLk9LOnJldHVybiBEci5PSztjYXNlIG1zLkNBTkNFTExFRDpyZXR1cm4gRHIuQ0FOQ0VMTEVEO2Nhc2UgbXMuVU5LTk9XTjpyZXR1cm4gRHIuVU5LTk9XTjtjYXNlIG1zLkRFQURMSU5FX0VYQ0VFREVEOnJldHVybiBEci5ERUFETElORV9FWENFRURFRDtjYXNlIG1zLlJFU09VUkNFX0VYSEFVU1RFRDpyZXR1cm4gRHIuUkVTT1VSQ0VfRVhIQVVTVEVEO2Nhc2UgbXMuSU5URVJOQUw6cmV0dXJuIERyLklOVEVSTkFMO2Nhc2UgbXMuVU5BVkFJTEFCTEU6cmV0dXJuIERyLlVOQVZBSUxBQkxFO2Nhc2UgbXMuVU5BVVRIRU5USUNBVEVEOnJldHVybiBEci5VTkFVVEhFTlRJQ0FURUQ7Y2FzZSBtcy5JTlZBTElEX0FSR1VNRU5UOnJldHVybiBEci5JTlZBTElEX0FSR1VNRU5UO2Nhc2UgbXMuTk9UX0ZPVU5EOnJldHVybiBEci5OT1RfRk9VTkQ7Y2FzZSBtcy5BTFJFQURZX0VYSVNUUzpyZXR1cm4gRHIuQUxSRUFEWV9FWElTVFM7Y2FzZSBtcy5QRVJNSVNTSU9OX0RFTklFRDpyZXR1cm4gRHIuUEVSTUlTU0lPTl9ERU5JRUQ7Y2FzZSBtcy5GQUlMRURfUFJFQ09ORElUSU9OOnJldHVybiBEci5GQUlMRURfUFJFQ09ORElUSU9OO2Nhc2UgbXMuQUJPUlRFRDpyZXR1cm4gRHIuQUJPUlRFRDtjYXNlIG1zLk9VVF9PRl9SQU5HRTpyZXR1cm4gRHIuT1VUX09GX1JBTkdFO2Nhc2UgbXMuVU5JTVBMRU1FTlRFRDpyZXR1cm4gRHIuVU5JTVBMRU1FTlRFRDtjYXNlIG1zLkRBVEFfTE9TUzpyZXR1cm4gRHIuREFUQV9MT1NTO2RlZmF1bHQ6cmV0dXJuIE1yKCl9fShJPW1zPW1zfHx7fSlbSS5PSz0wXT1cIk9LXCIsSVtJLkNBTkNFTExFRD0xXT1cIkNBTkNFTExFRFwiLElbSS5VTktOT1dOPTJdPVwiVU5LTk9XTlwiLElbSS5JTlZBTElEX0FSR1VNRU5UPTNdPVwiSU5WQUxJRF9BUkdVTUVOVFwiLElbSS5ERUFETElORV9FWENFRURFRD00XT1cIkRFQURMSU5FX0VYQ0VFREVEXCIsSVtJLk5PVF9GT1VORD01XT1cIk5PVF9GT1VORFwiLElbSS5BTFJFQURZX0VYSVNUUz02XT1cIkFMUkVBRFlfRVhJU1RTXCIsSVtJLlBFUk1JU1NJT05fREVOSUVEPTddPVwiUEVSTUlTU0lPTl9ERU5JRURcIixJW0kuVU5BVVRIRU5USUNBVEVEPTE2XT1cIlVOQVVUSEVOVElDQVRFRFwiLElbSS5SRVNPVVJDRV9FWEhBVVNURUQ9OF09XCJSRVNPVVJDRV9FWEhBVVNURURcIixJW0kuRkFJTEVEX1BSRUNPTkRJVElPTj05XT1cIkZBSUxFRF9QUkVDT05ESVRJT05cIixJW0kuQUJPUlRFRD0xMF09XCJBQk9SVEVEXCIsSVtJLk9VVF9PRl9SQU5HRT0xMV09XCJPVVRfT0ZfUkFOR0VcIixJW0kuVU5JTVBMRU1FTlRFRD0xMl09XCJVTklNUExFTUVOVEVEXCIsSVtJLklOVEVSTkFMPTEzXT1cIklOVEVSTkFMXCIsSVtJLlVOQVZBSUxBQkxFPTE0XT1cIlVOQVZBSUxBQkxFXCIsSVtJLkRBVEFfTE9TUz0xNV09XCJEQVRBX0xPU1NcIjt2YXIgTnM9KFJzLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFJzKHRoaXMuY29tcGFyYXRvcix0aGlzLnJvb3QuaW5zZXJ0KHQsZSx0aGlzLmNvbXBhcmF0b3IpLmNvcHkobnVsbCxudWxsLEFzLkJMQUNLLG51bGwsbnVsbCkpfSxScy5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUnModGhpcy5jb21wYXJhdG9yLHRoaXMucm9vdC5yZW1vdmUodCx0aGlzLmNvbXBhcmF0b3IpLmNvcHkobnVsbCxudWxsLEFzLkJMQUNLLG51bGwsbnVsbCkpfSxScy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnJvb3Q7IWUuaXNFbXB0eSgpOyl7dmFyIG49dGhpcy5jb21wYXJhdG9yKHQsZS5rZXkpO2lmKDA9PT1uKXJldHVybiBlLnZhbHVlO248MD9lPWUubGVmdDowPG4mJihlPWUucmlnaHQpfXJldHVybiBudWxsfSxScy5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMucm9vdDshbi5pc0VtcHR5KCk7KXt2YXIgcj10aGlzLmNvbXBhcmF0b3IodCxuLmtleSk7aWYoMD09PXIpcmV0dXJuIGUrbi5sZWZ0LnNpemU7bj1yPDA/bi5sZWZ0OihlKz1uLmxlZnQuc2l6ZSsxLG4ucmlnaHQpfXJldHVybi0xfSxScy5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJvb3QuaXNFbXB0eSgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUnMucHJvdG90eXBlLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb290LnNpemV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksUnMucHJvdG90eXBlLm1pbktleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJvb3QubWluS2V5KCl9LFJzLnByb3RvdHlwZS5tYXhLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb290Lm1heEtleSgpfSxScy5wcm90b3R5cGUuaW5vcmRlclRyYXZlcnNhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yb290Lmlub3JkZXJUcmF2ZXJzYWwodCl9LFJzLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKG4pe3RoaXMuaW5vcmRlclRyYXZlcnNhbChmdW5jdGlvbih0LGUpe3JldHVybiBuKHQsZSksITF9KX0sUnMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIHRoaXMuaW5vcmRlclRyYXZlcnNhbChmdW5jdGlvbih0LGUpe3JldHVybiBuLnB1c2godCtcIjpcIitlKSwhMX0pLFwie1wiK24uam9pbihcIiwgXCIpK1wifVwifSxScy5wcm90b3R5cGUucmV2ZXJzZVRyYXZlcnNhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yb290LnJldmVyc2VUcmF2ZXJzYWwodCl9LFJzLnByb3RvdHlwZS5nZXRJdGVyYXRvcj1mdW5jdGlvbigpe3JldHVybiBuZXcgRHModGhpcy5yb290LG51bGwsdGhpcy5jb21wYXJhdG9yLCExKX0sUnMucHJvdG90eXBlLmdldEl0ZXJhdG9yRnJvbT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IERzKHRoaXMucm9vdCx0LHRoaXMuY29tcGFyYXRvciwhMSl9LFJzLnByb3RvdHlwZS5nZXRSZXZlcnNlSXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERzKHRoaXMucm9vdCxudWxsLHRoaXMuY29tcGFyYXRvciwhMCl9LFJzLnByb3RvdHlwZS5nZXRSZXZlcnNlSXRlcmF0b3JGcm9tPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRHModGhpcy5yb290LHQsdGhpcy5jb21wYXJhdG9yLCEwKX0sUnMpLERzPShDcy5wcm90b3R5cGUuZ2V0TmV4dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMubm9kZVN0YWNrLnBvcCgpLGU9e2tleTp0LmtleSx2YWx1ZTp0LnZhbHVlfTtpZih0aGlzLmlzUmV2ZXJzZSlmb3IodD10LmxlZnQ7IXQuaXNFbXB0eSgpOyl0aGlzLm5vZGVTdGFjay5wdXNoKHQpLHQ9dC5yaWdodDtlbHNlIGZvcih0PXQucmlnaHQ7IXQuaXNFbXB0eSgpOyl0aGlzLm5vZGVTdGFjay5wdXNoKHQpLHQ9dC5sZWZ0O3JldHVybiBlfSxDcy5wcm90b3R5cGUuaGFzTmV4dD1mdW5jdGlvbigpe3JldHVybiAwPHRoaXMubm9kZVN0YWNrLmxlbmd0aH0sQ3MucHJvdG90eXBlLnBlZWs9ZnVuY3Rpb24oKXtpZigwPT09dGhpcy5ub2RlU3RhY2subGVuZ3RoKXJldHVybiBudWxsO3ZhciB0PXRoaXMubm9kZVN0YWNrW3RoaXMubm9kZVN0YWNrLmxlbmd0aC0xXTtyZXR1cm57a2V5OnQua2V5LHZhbHVlOnQudmFsdWV9fSxDcyksQXM9KGtzLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIG5ldyBrcyhudWxsIT10P3Q6dGhpcy5rZXksbnVsbCE9ZT9lOnRoaXMudmFsdWUsbnVsbCE9bj9uOnRoaXMuY29sb3IsbnVsbCE9cj9yOnRoaXMubGVmdCxudWxsIT1pP2k6dGhpcy5yaWdodCl9LGtzLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGtzLnByb3RvdHlwZS5pbm9yZGVyVHJhdmVyc2FsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxlZnQuaW5vcmRlclRyYXZlcnNhbCh0KXx8dCh0aGlzLmtleSx0aGlzLnZhbHVlKXx8dGhpcy5yaWdodC5pbm9yZGVyVHJhdmVyc2FsKHQpfSxrcy5wcm90b3R5cGUucmV2ZXJzZVRyYXZlcnNhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yaWdodC5yZXZlcnNlVHJhdmVyc2FsKHQpfHx0KHRoaXMua2V5LHRoaXMudmFsdWUpfHx0aGlzLmxlZnQucmV2ZXJzZVRyYXZlcnNhbCh0KX0sa3MucHJvdG90eXBlLm1pbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlZnQuaXNFbXB0eSgpP3RoaXM6dGhpcy5sZWZ0Lm1pbigpfSxrcy5wcm90b3R5cGUubWluS2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWluKCkua2V5fSxrcy5wcm90b3R5cGUubWF4S2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmlnaHQuaXNFbXB0eSgpP3RoaXMua2V5OnRoaXMucmlnaHQubWF4S2V5KCl9LGtzLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMsaT1uKHQsci5rZXkpO3JldHVybihyPWk8MD9yLmNvcHkobnVsbCxudWxsLG51bGwsci5sZWZ0Lmluc2VydCh0LGUsbiksbnVsbCk6MD09PWk/ci5jb3B5KG51bGwsZSxudWxsLG51bGwsbnVsbCk6ci5jb3B5KG51bGwsbnVsbCxudWxsLG51bGwsci5yaWdodC5pbnNlcnQodCxlLG4pKSkuZml4VXAoKX0sa3MucHJvdG90eXBlLnJlbW92ZU1pbj1mdW5jdGlvbigpe2lmKHRoaXMubGVmdC5pc0VtcHR5KCkpcmV0dXJuIGtzLkVNUFRZO3ZhciB0PXRoaXM7cmV0dXJuKHQ9KHQ9IXQubGVmdC5pc1JlZCgpJiYhdC5sZWZ0LmxlZnQuaXNSZWQoKT90Lm1vdmVSZWRMZWZ0KCk6dCkuY29weShudWxsLG51bGwsbnVsbCx0LmxlZnQucmVtb3ZlTWluKCksbnVsbCkpLmZpeFVwKCl9LGtzLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt2YXIgbixyPXRoaXM7aWYoZSh0LHIua2V5KTwwKXI9KHI9IShyLmxlZnQuaXNFbXB0eSgpfHxyLmxlZnQuaXNSZWQoKXx8ci5sZWZ0LmxlZnQuaXNSZWQoKSk/ci5tb3ZlUmVkTGVmdCgpOnIpLmNvcHkobnVsbCxudWxsLG51bGwsci5sZWZ0LnJlbW92ZSh0LGUpLG51bGwpO2Vsc2V7aWYoMD09PWUodCwocj0hKChyPXIubGVmdC5pc1JlZCgpP3Iucm90YXRlUmlnaHQoKTpyKS5yaWdodC5pc0VtcHR5KCl8fHIucmlnaHQuaXNSZWQoKXx8ci5yaWdodC5sZWZ0LmlzUmVkKCkpP3IubW92ZVJlZFJpZ2h0KCk6cikua2V5KSl7aWYoci5yaWdodC5pc0VtcHR5KCkpcmV0dXJuIGtzLkVNUFRZO249ci5yaWdodC5taW4oKSxyPXIuY29weShuLmtleSxuLnZhbHVlLG51bGwsbnVsbCxyLnJpZ2h0LnJlbW92ZU1pbigpKX1yPXIuY29weShudWxsLG51bGwsbnVsbCxudWxsLHIucmlnaHQucmVtb3ZlKHQsZSkpfXJldHVybiByLmZpeFVwKCl9LGtzLnByb3RvdHlwZS5pc1JlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbG9yfSxrcy5wcm90b3R5cGUuZml4VXA9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0PSh0PSh0PXQucmlnaHQuaXNSZWQoKSYmIXQubGVmdC5pc1JlZCgpP3Qucm90YXRlTGVmdCgpOnQpLmxlZnQuaXNSZWQoKSYmdC5sZWZ0LmxlZnQuaXNSZWQoKT90LnJvdGF0ZVJpZ2h0KCk6dCkubGVmdC5pc1JlZCgpJiZ0LnJpZ2h0LmlzUmVkKCk/dC5jb2xvckZsaXAoKTp0fSxrcy5wcm90b3R5cGUubW92ZVJlZExlZnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbG9yRmxpcCgpO3JldHVybiB0PXQucmlnaHQubGVmdC5pc1JlZCgpPyh0PSh0PXQuY29weShudWxsLG51bGwsbnVsbCxudWxsLHQucmlnaHQucm90YXRlUmlnaHQoKSkpLnJvdGF0ZUxlZnQoKSkuY29sb3JGbGlwKCk6dH0sa3MucHJvdG90eXBlLm1vdmVSZWRSaWdodD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29sb3JGbGlwKCk7cmV0dXJuIHQ9dC5sZWZ0LmxlZnQuaXNSZWQoKT8odD10LnJvdGF0ZVJpZ2h0KCkpLmNvbG9yRmxpcCgpOnR9LGtzLnByb3RvdHlwZS5yb3RhdGVMZWZ0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb3B5KG51bGwsbnVsbCxrcy5SRUQsbnVsbCx0aGlzLnJpZ2h0LmxlZnQpO3JldHVybiB0aGlzLnJpZ2h0LmNvcHkobnVsbCxudWxsLHRoaXMuY29sb3IsdCxudWxsKX0sa3MucHJvdG90eXBlLnJvdGF0ZVJpZ2h0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb3B5KG51bGwsbnVsbCxrcy5SRUQsdGhpcy5sZWZ0LnJpZ2h0LG51bGwpO3JldHVybiB0aGlzLmxlZnQuY29weShudWxsLG51bGwsdGhpcy5jb2xvcixudWxsLHQpfSxrcy5wcm90b3R5cGUuY29sb3JGbGlwPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sZWZ0LmNvcHkobnVsbCxudWxsLCF0aGlzLmxlZnQuY29sb3IsbnVsbCxudWxsKSxlPXRoaXMucmlnaHQuY29weShudWxsLG51bGwsIXRoaXMucmlnaHQuY29sb3IsbnVsbCxudWxsKTtyZXR1cm4gdGhpcy5jb3B5KG51bGwsbnVsbCwhdGhpcy5jb2xvcix0LGUpfSxrcy5wcm90b3R5cGUuY2hlY2tNYXhEZXB0aD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY2hlY2soKTtyZXR1cm4gTWF0aC5wb3coMix0KTw9dGhpcy5zaXplKzF9LGtzLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe2lmKHRoaXMuaXNSZWQoKSYmdGhpcy5sZWZ0LmlzUmVkKCkpdGhyb3cgTXIoKTtpZih0aGlzLnJpZ2h0LmlzUmVkKCkpdGhyb3cgTXIoKTt2YXIgdD10aGlzLmxlZnQuY2hlY2soKTtpZih0IT09dGhpcy5yaWdodC5jaGVjaygpKXRocm93IE1yKCk7cmV0dXJuIHQrKHRoaXMuaXNSZWQoKT8wOjEpfSxrcyk7ZnVuY3Rpb24ga3ModCxlLG4scixpKXt0aGlzLmtleT10LHRoaXMudmFsdWU9ZSx0aGlzLmNvbG9yPW51bGwhPW4/bjprcy5SRUQsdGhpcy5sZWZ0PW51bGwhPXI/cjprcy5FTVBUWSx0aGlzLnJpZ2h0PW51bGwhPWk/aTprcy5FTVBUWSx0aGlzLnNpemU9dGhpcy5sZWZ0LnNpemUrMSt0aGlzLnJpZ2h0LnNpemV9ZnVuY3Rpb24gQ3ModCxlLG4scil7dGhpcy5pc1JldmVyc2U9cix0aGlzLm5vZGVTdGFjaz1bXTtmb3IodmFyIGk9MTshdC5pc0VtcHR5KCk7KWlmKGk9ZT9uKHQua2V5LGUpOjEsciYmKGkqPS0xKSxpPDApdD10aGlzLmlzUmV2ZXJzZT90LmxlZnQ6dC5yaWdodDtlbHNle2lmKDA9PT1pKXt0aGlzLm5vZGVTdGFjay5wdXNoKHQpO2JyZWFrfXRoaXMubm9kZVN0YWNrLnB1c2godCksdD10aGlzLmlzUmV2ZXJzZT90LnJpZ2h0OnQubGVmdH19ZnVuY3Rpb24gUnModCxlKXt0aGlzLmNvbXBhcmF0b3I9dCx0aGlzLnJvb3Q9ZXx8QXMuRU1QVFl9ZnVuY3Rpb24geHMoKXt0aGlzLnNpemU9MH1Bcy5FTVBUWT1udWxsLEFzLlJFRD0hMCxBcy5CTEFDSz0hMSxBcy5FTVBUWT0oT2JqZWN0LmRlZmluZVByb3BlcnR5KHhzLnByb3RvdHlwZSxcImtleVwiLHtnZXQ6ZnVuY3Rpb24oKXt0aHJvdyBNcigpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh4cy5wcm90b3R5cGUsXCJ2YWx1ZVwiLHtnZXQ6ZnVuY3Rpb24oKXt0aHJvdyBNcigpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh4cy5wcm90b3R5cGUsXCJjb2xvclwiLHtnZXQ6ZnVuY3Rpb24oKXt0aHJvdyBNcigpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh4cy5wcm90b3R5cGUsXCJsZWZ0XCIse2dldDpmdW5jdGlvbigpe3Rocm93IE1yKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHhzLnByb3RvdHlwZSxcInJpZ2h0XCIse2dldDpmdW5jdGlvbigpe3Rocm93IE1yKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSkseHMucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gdGhpc30seHMucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG5ldyBBcyh0LGUpfSx4cy5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXN9LHhzLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuITB9LHhzLnByb3RvdHlwZS5pbm9yZGVyVHJhdmVyc2FsPWZ1bmN0aW9uKHQpe3JldHVybiExfSx4cy5wcm90b3R5cGUucmV2ZXJzZVRyYXZlcnNhbD1mdW5jdGlvbih0KXtyZXR1cm4hMX0seHMucHJvdG90eXBlLm1pbktleT1mdW5jdGlvbigpe3JldHVybiBudWxsfSx4cy5wcm90b3R5cGUubWF4S2V5PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHhzLnByb3RvdHlwZS5pc1JlZD1mdW5jdGlvbigpe3JldHVybiExfSx4cy5wcm90b3R5cGUuY2hlY2tNYXhEZXB0aD1mdW5jdGlvbigpe3JldHVybiEwfSx4cy5wcm90b3R5cGUuY2hlY2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sbmV3IHhzKTt2YXIgT3M9KEZzLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10aGlzLmRhdGEuZ2V0KHQpfSxGcy5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLm1pbktleSgpfSxGcy5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEubWF4S2V5KCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcy5wcm90b3R5cGUsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuc2l6ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxGcy5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhLmluZGV4T2YodCl9LEZzLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKG4pe3RoaXMuZGF0YS5pbm9yZGVyVHJhdmVyc2FsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4odCksITF9KX0sRnMucHJvdG90eXBlLmZvckVhY2hJblJhbmdlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20odFswXSk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLmdldE5leHQoKTtpZigwPD10aGlzLmNvbXBhcmF0b3Ioci5rZXksdFsxXSkpcmV0dXJuO2Uoci5rZXkpfX0sRnMucHJvdG90eXBlLmZvckVhY2hXaGlsZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj12b2lkIDAhPT1lP3RoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20oZSk6dGhpcy5kYXRhLmdldEl0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KWlmKCF0KG4uZ2V0TmV4dCgpLmtleSkpcmV0dXJufSxGcy5wcm90b3R5cGUuZmlyc3RBZnRlck9yRXF1YWw9ZnVuY3Rpb24odCl7dD10aGlzLmRhdGEuZ2V0SXRlcmF0b3JGcm9tKHQpO3JldHVybiB0Lmhhc05leHQoKT90LmdldE5leHQoKS5rZXk6bnVsbH0sRnMucHJvdG90eXBlLmdldEl0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMcyh0aGlzLmRhdGEuZ2V0SXRlcmF0b3IoKSl9LEZzLnByb3RvdHlwZS5nZXRJdGVyYXRvckZyb209ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBMcyh0aGlzLmRhdGEuZ2V0SXRlcmF0b3JGcm9tKHQpKX0sRnMucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb3B5KHRoaXMuZGF0YS5yZW1vdmUodCkuaW5zZXJ0KHQsITApKX0sRnMucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXModCk/dGhpcy5jb3B5KHRoaXMuZGF0YS5yZW1vdmUodCkpOnRoaXN9LEZzLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5pc0VtcHR5KCl9LEZzLnByb3RvdHlwZS51bmlvbldpdGg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZS5zaXplPHQuc2l6ZSYmKGU9dCx0PXRoaXMpLHQuZm9yRWFjaChmdW5jdGlvbih0KXtlPWUuYWRkKHQpfSksZX0sRnMucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7aWYoISh0IGluc3RhbmNlb2YgRnMpKXJldHVybiExO2lmKHRoaXMuc2l6ZSE9PXQuc2l6ZSlyZXR1cm4hMTtmb3IodmFyIGU9dGhpcy5kYXRhLmdldEl0ZXJhdG9yKCksbj10LmRhdGEuZ2V0SXRlcmF0b3IoKTtlLmhhc05leHQoKTspe3ZhciByPWUuZ2V0TmV4dCgpLmtleSxpPW4uZ2V0TmV4dCgpLmtleTtpZigwIT09dGhpcy5jb21wYXJhdG9yKHIsaSkpcmV0dXJuITF9cmV0dXJuITB9LEZzLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLnB1c2godCl9KSxlfSxGcy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLnB1c2godCl9KSxcIlNvcnRlZFNldChcIitlLnRvU3RyaW5nKCkrXCIpXCJ9LEZzLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBGcyh0aGlzLmNvbXBhcmF0b3IpO3JldHVybiBlLmRhdGE9dCxlfSxGcyksTHM9KE1zLnByb3RvdHlwZS5nZXROZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlci5nZXROZXh0KCkua2V5fSxNcy5wcm90b3R5cGUuaGFzTmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXIuaGFzTmV4dCgpfSxNcyksUHM9bmV3IE5zKG1pLmNvbXBhcmF0b3IpO2Z1bmN0aW9uIE1zKHQpe3RoaXMuaXRlcj10fWZ1bmN0aW9uIEZzKHQpe3RoaXMuY29tcGFyYXRvcj10LHRoaXMuZGF0YT1uZXcgTnModGhpcy5jb21wYXJhdG9yKX12YXIgVnM9bmV3IE5zKG1pLmNvbXBhcmF0b3IpO3ZhciBVcz1uZXcgTnMobWkuY29tcGFyYXRvcik7dmFyIHFzPW5ldyBPcyhtaS5jb21wYXJhdG9yKTtmdW5jdGlvbiBCcygpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtmb3IodmFyIG49cXMscj0wLGk9dDtyPGkubGVuZ3RoO3IrKyl2YXIgbz1pW3JdLG49bi5hZGQobyk7cmV0dXJuIG59dmFyIGpzPW5ldyBPcyhxcik7dmFyIEtzPShacy5jcmVhdGVTeW50aGVzaXplZFJlbW90ZUV2ZW50Rm9yQ3VycmVudENoYW5nZT1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBNYXA7cmV0dXJuIG4uc2V0KHQsR3MuY3JlYXRlU3ludGhlc2l6ZWRUYXJnZXRDaGFuZ2VGb3JDdXJyZW50Q2hhbmdlKHQsZSkpLG5ldyBacyhHci5taW4oKSxuLGpzLFBzLEJzKCkpfSxacyksR3M9KCRzLmNyZWF0ZVN5bnRoZXNpemVkVGFyZ2V0Q2hhbmdlRm9yQ3VycmVudENoYW5nZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgJHMobmkuRU1QVFlfQllURV9TVFJJTkcsZSxCcygpLEJzKCksQnMoKSl9LCRzKSxRcz1mdW5jdGlvbih0LGUsbixyKXt0aGlzLnY9dCx0aGlzLnJlbW92ZWRUYXJnZXRJZHM9ZSx0aGlzLmtleT1uLHRoaXMuUD1yfSx6cz1mdW5jdGlvbih0LGUpe3RoaXMudGFyZ2V0SWQ9dCx0aGlzLlY9ZX0sSHM9ZnVuY3Rpb24odCxlLG4scil7dm9pZCAwPT09biYmKG49bmkuRU1QVFlfQllURV9TVFJJTkcpLHZvaWQgMD09PXImJihyPW51bGwpLHRoaXMuc3RhdGU9dCx0aGlzLnRhcmdldElkcz1lLHRoaXMucmVzdW1lVG9rZW49bix0aGlzLmNhdXNlPXJ9LFdzPShPYmplY3QuZGVmaW5lUHJvcGVydHkoSnMucHJvdG90eXBlLFwiY3VycmVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5OfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKcy5wcm90b3R5cGUsXCJyZXN1bWVUb2tlblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKcy5wcm90b3R5cGUsXCJrXCIse2dldDpmdW5jdGlvbigpe3JldHVybiAwIT09dGhpcy5TfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKcy5wcm90b3R5cGUsXCJPXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLkZ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksSnMucHJvdG90eXBlLiQ9ZnVuY3Rpb24odCl7MDx0LmFwcHJveGltYXRlQnl0ZVNpemUoKSYmKHRoaXMuRj0hMCx0aGlzLkM9dCl9LEpzLnByb3RvdHlwZS5NPWZ1bmN0aW9uKCl7dmFyIG49QnMoKSxyPUJzKCksaT1CcygpO3JldHVybiB0aGlzLkQuZm9yRWFjaChmdW5jdGlvbih0LGUpe3N3aXRjaChlKXtjYXNlIDA6bj1uLmFkZCh0KTticmVhaztjYXNlIDI6cj1yLmFkZCh0KTticmVhaztjYXNlIDE6aT1pLmFkZCh0KTticmVhaztkZWZhdWx0Ok1yKCl9fSksbmV3IEdzKHRoaXMuQyx0aGlzLk4sbixyLGkpfSxKcy5wcm90b3R5cGUuTD1mdW5jdGlvbigpe3RoaXMuRj0hMSx0aGlzLkQ9ZWEoKX0sSnMucHJvdG90eXBlLkI9ZnVuY3Rpb24odCxlKXt0aGlzLkY9ITAsdGhpcy5EPXRoaXMuRC5pbnNlcnQodCxlKX0sSnMucHJvdG90eXBlLnE9ZnVuY3Rpb24odCl7dGhpcy5GPSEwLHRoaXMuRD10aGlzLkQucmVtb3ZlKHQpfSxKcy5wcm90b3R5cGUuVT1mdW5jdGlvbigpe3RoaXMuUys9MX0sSnMucHJvdG90eXBlLks9ZnVuY3Rpb24oKXstLXRoaXMuU30sSnMucHJvdG90eXBlLmo9ZnVuY3Rpb24oKXt0aGlzLkY9ITAsdGhpcy5OPSEwfSxKcyksWXM9KFhzLnByb3RvdHlwZS5YPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dC52O2U8bi5sZW5ndGg7ZSsrKXt2YXIgcj1uW2VdO3QuUCYmdC5QLmlzRm91bmREb2N1bWVudCgpP3RoaXMuWihyLHQuUCk6dGhpcy50dChyLHQua2V5LHQuUCl9Zm9yKHZhciBpPTAsbz10LnJlbW92ZWRUYXJnZXRJZHM7aTxvLmxlbmd0aDtpKyspcj1vW2ldLHRoaXMudHQocix0LmtleSx0LlApfSxYcy5wcm90b3R5cGUuZXQ9ZnVuY3Rpb24obil7dmFyIHI9dGhpczt0aGlzLmZvckVhY2hUYXJnZXQobixmdW5jdGlvbih0KXt2YXIgZT1yLm50KHQpO3N3aXRjaChuLnN0YXRlKXtjYXNlIDA6ci5zdCh0KSYmZS4kKG4ucmVzdW1lVG9rZW4pO2JyZWFrO2Nhc2UgMTplLksoKSxlLmt8fGUuTCgpLGUuJChuLnJlc3VtZVRva2VuKTticmVhaztjYXNlIDI6ZS5LKCksZS5rfHxyLnJlbW92ZVRhcmdldCh0KTticmVhaztjYXNlIDM6ci5zdCh0KSYmKGUuaigpLGUuJChuLnJlc3VtZVRva2VuKSk7YnJlYWs7Y2FzZSA0OnIuc3QodCkmJihyLml0KHQpLGUuJChuLnJlc3VtZVRva2VuKSk7YnJlYWs7ZGVmYXVsdDpNcigpfX0pfSxYcy5wcm90b3R5cGUuZm9yRWFjaFRhcmdldD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXM7MDx0LnRhcmdldElkcy5sZW5ndGg/dC50YXJnZXRJZHMuZm9yRWFjaChuKTp0aGlzLkcuZm9yRWFjaChmdW5jdGlvbih0LGUpe3Iuc3QoZSkmJm4oZSl9KX0sWHMucHJvdG90eXBlLnJ0PWZ1bmN0aW9uKHQpe3ZhciBlPXQudGFyZ2V0SWQsbj10LlYuY291bnQsdD10aGlzLm90KGUpO3QmJihVaSh0PXQudGFyZ2V0KT8wPT09bj8odD1uZXcgbWkodC5wYXRoKSx0aGlzLnR0KGUsdCxPaS5uZXdOb0RvY3VtZW50KHQsR3IubWluKCkpKSk6RnIoMT09PW4pOnRoaXMuY3QoZSkhPT1uJiYodGhpcy5pdChlKSx0aGlzLlk9dGhpcy5ZLmFkZChlKSkpfSxYcy5wcm90b3R5cGUudXQ9ZnVuY3Rpb24ocil7dmFyIGk9dGhpcyxvPW5ldyBNYXA7dGhpcy5HLmZvckVhY2goZnVuY3Rpb24odCxlKXt2YXIgbj1pLm90KGUpO24mJih0LmN1cnJlbnQmJlVpKG4udGFyZ2V0KSYmKG49bmV3IG1pKG4udGFyZ2V0LnBhdGgpLG51bGwhPT1pLkguZ2V0KG4pfHxpLmF0KGUsbil8fGkudHQoZSxuLE9pLm5ld05vRG9jdW1lbnQobixyKSkpLHQuTyYmKG8uc2V0KGUsdC5NKCkpLHQuTCgpKSl9KTt2YXIgcz1CcygpO3RoaXMuSi5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIG49ITA7ZS5mb3JFYWNoV2hpbGUoZnVuY3Rpb24odCl7dD1pLm90KHQpO3JldHVybiF0fHwyPT09dC5wdXJwb3NlfHwobj0hMSl9KSxuJiYocz1zLmFkZCh0KSl9KTt2YXIgdD1uZXcgS3MocixvLHRoaXMuWSx0aGlzLkgscyk7cmV0dXJuIHRoaXMuSD1Qcyx0aGlzLko9dGEoKSx0aGlzLlk9bmV3IE9zKHFyKSx0fSxYcy5wcm90b3R5cGUuWj1mdW5jdGlvbih0LGUpe3ZhciBuO3RoaXMuc3QodCkmJihuPXRoaXMuYXQodCxlLmtleSk/MjowLHRoaXMubnQodCkuQihlLmtleSxuKSx0aGlzLkg9dGhpcy5ILmluc2VydChlLmtleSxlKSx0aGlzLko9dGhpcy5KLmluc2VydChlLmtleSx0aGlzLmh0KGUua2V5KS5hZGQodCkpKX0sWHMucHJvdG90eXBlLnR0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcjt0aGlzLnN0KHQpJiYocj10aGlzLm50KHQpLHRoaXMuYXQodCxlKT9yLkIoZSwxKTpyLnEoZSksdGhpcy5KPXRoaXMuSi5pbnNlcnQoZSx0aGlzLmh0KGUpLmRlbGV0ZSh0KSksbiYmKHRoaXMuSD10aGlzLkguaW5zZXJ0KGUsbikpKX0sWHMucHJvdG90eXBlLnJlbW92ZVRhcmdldD1mdW5jdGlvbih0KXt0aGlzLkcuZGVsZXRlKHQpfSxYcy5wcm90b3R5cGUuY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5udCh0KS5NKCk7cmV0dXJuIHRoaXMuVy5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KHQpLnNpemUrZS5hZGRlZERvY3VtZW50cy5zaXplLWUucmVtb3ZlZERvY3VtZW50cy5zaXplfSxYcy5wcm90b3R5cGUuVT1mdW5jdGlvbih0KXt0aGlzLm50KHQpLlUoKX0sWHMucHJvdG90eXBlLm50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuRy5nZXQodCk7cmV0dXJuIGV8fChlPW5ldyBXcyx0aGlzLkcuc2V0KHQsZSkpLGV9LFhzLnByb3RvdHlwZS5odD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLkouZ2V0KHQpO3JldHVybiBlfHwoZT1uZXcgT3MocXIpLHRoaXMuSj10aGlzLkouaW5zZXJ0KHQsZSkpLGV9LFhzLnByb3RvdHlwZS5zdD1mdW5jdGlvbih0KXt2YXIgZT1udWxsIT09dGhpcy5vdCh0KTtyZXR1cm4gZXx8eHIoXCJXYXRjaENoYW5nZUFnZ3JlZ2F0b3JcIixcIkRldGVjdGVkIGluYWN0aXZlIHRhcmdldFwiLHQpLGV9LFhzLnByb3RvdHlwZS5vdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLkcuZ2V0KHQpO3JldHVybiBlJiZlLms/bnVsbDp0aGlzLlcubHQodCl9LFhzLnByb3RvdHlwZS5pdD1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3RoaXMuRy5zZXQoZSxuZXcgV3MpLHRoaXMuVy5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KGUpLmZvckVhY2goZnVuY3Rpb24odCl7bi50dChlLHQsbnVsbCl9KX0sWHMucHJvdG90eXBlLmF0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuVy5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KHQpLmhhcyhlKX0sWHMpO2Z1bmN0aW9uIFhzKHQpe3RoaXMuVz10LHRoaXMuRz1uZXcgTWFwLHRoaXMuSD1Qcyx0aGlzLko9dGEoKSx0aGlzLlk9bmV3IE9zKHFyKX1mdW5jdGlvbiBKcygpe3RoaXMuUz0wLHRoaXMuRD1lYSgpLHRoaXMuQz1uaS5FTVBUWV9CWVRFX1NUUklORyx0aGlzLk49ITEsdGhpcy5GPSEwfWZ1bmN0aW9uICRzKHQsZSxuLHIsaSl7dGhpcy5yZXN1bWVUb2tlbj10LHRoaXMuY3VycmVudD1lLHRoaXMuYWRkZWREb2N1bWVudHM9bix0aGlzLm1vZGlmaWVkRG9jdW1lbnRzPXIsdGhpcy5yZW1vdmVkRG9jdW1lbnRzPWl9ZnVuY3Rpb24gWnModCxlLG4scixpKXt0aGlzLnNuYXBzaG90VmVyc2lvbj10LHRoaXMudGFyZ2V0Q2hhbmdlcz1lLHRoaXMudGFyZ2V0TWlzbWF0Y2hlcz1uLHRoaXMuZG9jdW1lbnRVcGRhdGVzPXIsdGhpcy5yZXNvbHZlZExpbWJvRG9jdW1lbnRzPWl9ZnVuY3Rpb24gdGEoKXtyZXR1cm4gbmV3IE5zKG1pLmNvbXBhcmF0b3IpfWZ1bmN0aW9uIGVhKCl7cmV0dXJuIG5ldyBOcyhtaS5jb21wYXJhdG9yKX12YXIgbmE9e2FzYzpcIkFTQ0VORElOR1wiLGRlc2M6XCJERVNDRU5ESU5HXCJ9LHJhPXtcIjxcIjpcIkxFU1NfVEhBTlwiLFwiPD1cIjpcIkxFU1NfVEhBTl9PUl9FUVVBTFwiLFwiPlwiOlwiR1JFQVRFUl9USEFOXCIsXCI+PVwiOlwiR1JFQVRFUl9USEFOX09SX0VRVUFMXCIsXCI9PVwiOlwiRVFVQUxcIixcIiE9XCI6XCJOT1RfRVFVQUxcIixcImFycmF5LWNvbnRhaW5zXCI6XCJBUlJBWV9DT05UQUlOU1wiLGluOlwiSU5cIixcIm5vdC1pblwiOlwiTk9UX0lOXCIsXCJhcnJheS1jb250YWlucy1hbnlcIjpcIkFSUkFZX0NPTlRBSU5TX0FOWVwifSxpYT1mdW5jdGlvbih0LGUpe3RoaXMuZGF0YWJhc2VJZD10LHRoaXMuST1lfTtmdW5jdGlvbiBvYSh0LGUpe3JldHVybiB0Lkk/bmV3IERhdGUoMWUzKmUuc2Vjb25kcykudG9JU09TdHJpbmcoKS5yZXBsYWNlKC9cXC5cXGQqLyxcIlwiKS5yZXBsYWNlKFwiWlwiLFwiXCIpK1wiLlwiKyhcIjAwMDAwMDAwMFwiK2UubmFub3NlY29uZHMpLnNsaWNlKC05KStcIlpcIjp7c2Vjb25kczpcIlwiK2Uuc2Vjb25kcyxuYW5vczplLm5hbm9zZWNvbmRzfX1mdW5jdGlvbiBzYSh0LGUpe3JldHVybiB0Lkk/ZS50b0Jhc2U2NCgpOmUudG9VaW50OEFycmF5KCl9ZnVuY3Rpb24gYWEodCl7cmV0dXJuIEZyKCEhdCksR3IuZnJvbVRpbWVzdGFtcCgodD1jaSh0KSxuZXcgS3IodC5zZWNvbmRzLHQubmFub3MpKSl9ZnVuY3Rpb24gdWEodCxlKXtyZXR1cm4gbmV3ICRyKFtcInByb2plY3RzXCIsdC5wcm9qZWN0SWQsXCJkYXRhYmFzZXNcIix0LmRhdGFiYXNlXSkuY2hpbGQoXCJkb2N1bWVudHNcIikuY2hpbGQoZSkuY2Fub25pY2FsU3RyaW5nKCl9ZnVuY3Rpb24gY2EodCl7dD0kci5mcm9tU3RyaW5nKHQpO3JldHVybiBGcihrYSh0KSksdH1mdW5jdGlvbiBoYSh0LGUpe3JldHVybiB1YSh0LmRhdGFiYXNlSWQsZS5wYXRoKX1mdW5jdGlvbiBsYSh0LGUpe2U9Y2EoZSk7aWYoZS5nZXQoMSkhPT10LmRhdGFiYXNlSWQucHJvamVjdElkKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiVHJpZWQgdG8gZGVzZXJpYWxpemUga2V5IGZyb20gZGlmZmVyZW50IHByb2plY3Q6IFwiK2UuZ2V0KDEpK1wiIHZzIFwiK3QuZGF0YWJhc2VJZC5wcm9qZWN0SWQpO2lmKGUuZ2V0KDMpIT09dC5kYXRhYmFzZUlkLmRhdGFiYXNlKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiVHJpZWQgdG8gZGVzZXJpYWxpemUga2V5IGZyb20gZGlmZmVyZW50IGRhdGFiYXNlOiBcIitlLmdldCgzKStcIiB2cyBcIit0LmRhdGFiYXNlSWQuZGF0YWJhc2UpO3JldHVybiBuZXcgbWkoeWEoZSkpfWZ1bmN0aW9uIGZhKHQsZSl7cmV0dXJuIHVhKHQuZGF0YWJhc2VJZCxlKX1mdW5jdGlvbiBkYSh0KXt0PWNhKHQpO3JldHVybiA0PT09dC5sZW5ndGg/JHIuZW1wdHlQYXRoKCk6eWEodCl9ZnVuY3Rpb24gcGEodCl7cmV0dXJuIG5ldyAkcihbXCJwcm9qZWN0c1wiLHQuZGF0YWJhc2VJZC5wcm9qZWN0SWQsXCJkYXRhYmFzZXNcIix0LmRhdGFiYXNlSWQuZGF0YWJhc2VdKS5jYW5vbmljYWxTdHJpbmcoKX1mdW5jdGlvbiB5YSh0KXtyZXR1cm4gRnIoNDx0Lmxlbmd0aCYmXCJkb2N1bWVudHNcIj09PXQuZ2V0KDQpKSx0LnBvcEZpcnN0KDUpfWZ1bmN0aW9uIGdhKHQsZSxuKXtyZXR1cm57bmFtZTpoYSh0LGUpLGZpZWxkczpuLnRvUHJvdG8oKS5tYXBWYWx1ZS5maWVsZHN9fWZ1bmN0aW9uIG1hKHQsZSxuKXt2YXIgcj1sYSh0LGUubmFtZSksdD1hYShlLnVwZGF0ZVRpbWUpLGU9bmV3IFJpKHttYXBWYWx1ZTp7ZmllbGRzOmUuZmllbGRzfX0pLGU9T2kubmV3Rm91bmREb2N1bWVudChyLHQsZSk7cmV0dXJuIG4mJmUuc2V0SGFzQ29tbWl0dGVkTXV0YXRpb25zKCksbj9lLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpOmV9ZnVuY3Rpb24gdmEodCxlKXt2YXIgbixyLGk7aWYoZSBpbnN0YW5jZW9mIGNzKW49e3VwZGF0ZTpnYSh0LGUua2V5LGUudmFsdWUpfTtlbHNlIGlmKGUgaW5zdGFuY2VvZiB3cyluPXtkZWxldGU6aGEodCxlLmtleSl9O2Vsc2UgaWYoZSBpbnN0YW5jZW9mIGhzKW49e3VwZGF0ZTpnYSh0LGUua2V5LGUuZGF0YSksdXBkYXRlTWFzazooaT1lLmZpZWxkTWFzayxyPVtdLGkuZmllbGRzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHIucHVzaCh0LmNhbm9uaWNhbFN0cmluZygpKX0pLHtmaWVsZFBhdGhzOnJ9KX07ZWxzZXtpZighKGUgaW5zdGFuY2VvZiBJcykpcmV0dXJuIE1yKCk7bj17dmVyaWZ5OmhhKHQsZS5rZXkpfX1yZXR1cm4gMDxlLmZpZWxkVHJhbnNmb3Jtcy5sZW5ndGgmJihuLnVwZGF0ZVRyYW5zZm9ybXM9ZS5maWVsZFRyYW5zZm9ybXMubWFwKGZ1bmN0aW9uKHQpe3ZhciBlPXQudHJhbnNmb3JtO2lmKGUgaW5zdGFuY2VvZiBVbylyZXR1cm57ZmllbGRQYXRoOnQuZmllbGQuY2Fub25pY2FsU3RyaW5nKCksc2V0VG9TZXJ2ZXJWYWx1ZTpcIlJFUVVFU1RfVElNRVwifTtpZihlIGluc3RhbmNlb2YgcW8pcmV0dXJue2ZpZWxkUGF0aDp0LmZpZWxkLmNhbm9uaWNhbFN0cmluZygpLGFwcGVuZE1pc3NpbmdFbGVtZW50czp7dmFsdWVzOmUuZWxlbWVudHN9fTtpZihlIGluc3RhbmNlb2YgUW8pcmV0dXJue2ZpZWxkUGF0aDp0LmZpZWxkLmNhbm9uaWNhbFN0cmluZygpLHJlbW92ZUFsbEZyb21BcnJheTp7dmFsdWVzOmUuZWxlbWVudHN9fTtpZihlIGluc3RhbmNlb2YgWW8pcmV0dXJue2ZpZWxkUGF0aDp0LmZpZWxkLmNhbm9uaWNhbFN0cmluZygpLGluY3JlbWVudDplLkF9O3Rocm93IE1yKCl9KSksZS5wcmVjb25kaXRpb24uaXNOb25lfHwobi5jdXJyZW50RG9jdW1lbnQ9dm9pZCAwIT09KGk9ZS5wcmVjb25kaXRpb24pLnVwZGF0ZVRpbWU/e3VwZGF0ZVRpbWU6KGU9dCx0PWkudXBkYXRlVGltZSxvYShlLHQudG9UaW1lc3RhbXAoKSkpfTp2b2lkIDAhPT1pLmV4aXN0cz97ZXhpc3RzOmkuZXhpc3RzfTpNcigpKSxufWZ1bmN0aW9uIGJhKGUsdCl7dmFyIG49dC5jdXJyZW50RG9jdW1lbnQ/dm9pZCAwIT09KHM9dC5jdXJyZW50RG9jdW1lbnQpLnVwZGF0ZVRpbWU/ZXMudXBkYXRlVGltZShhYShzLnVwZGF0ZVRpbWUpKTp2b2lkIDAhPT1zLmV4aXN0cz9lcy5leGlzdHMocy5leGlzdHMpOmVzLm5vbmUoKTplcy5ub25lKCkscj10LnVwZGF0ZVRyYW5zZm9ybXM/dC51cGRhdGVUcmFuc2Zvcm1zLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbixyPW51bGw7XCJzZXRUb1NlcnZlclZhbHVlXCJpbiBlPyhGcihcIlJFUVVFU1RfVElNRVwiPT09ZS5zZXRUb1NlcnZlclZhbHVlKSxyPW5ldyBVbyk6XCJhcHBlbmRNaXNzaW5nRWxlbWVudHNcImluIGU/KG49ZS5hcHBlbmRNaXNzaW5nRWxlbWVudHMudmFsdWVzfHxbXSxyPW5ldyBxbyhuKSk6XCJyZW1vdmVBbGxGcm9tQXJyYXlcImluIGU/KG49ZS5yZW1vdmVBbGxGcm9tQXJyYXkudmFsdWVzfHxbXSxyPW5ldyBRbyhuKSk6XCJpbmNyZW1lbnRcImluIGU/cj1uZXcgWW8odCxlLmluY3JlbWVudCk6TXIoKTtlPXRpLmZyb21TZXJ2ZXJGb3JtYXQoZS5maWVsZFBhdGgpO3JldHVybiBuZXcgdHMoZSxyKX0oZSx0KX0pOltdO2lmKHQudXBkYXRlKXt0LnVwZGF0ZS5uYW1lO3ZhciBpPWxhKGUsdC51cGRhdGUubmFtZSksbz1uZXcgUmkoe21hcFZhbHVlOntmaWVsZHM6dC51cGRhdGUuZmllbGRzfX0pO2lmKHQudXBkYXRlTWFzayl7dmFyIHM9KHM9dC51cGRhdGVNYXNrLmZpZWxkUGF0aHN8fFtdLG5ldyBlaShzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdGkuZnJvbVNlcnZlckZvcm1hdCh0KX0pKSk7cmV0dXJuIG5ldyBocyhpLG8scyxuLHIpfXJldHVybiBuZXcgY3MoaSxvLG4scil9aWYodC5kZWxldGUpe3I9bGEoZSx0LmRlbGV0ZSk7cmV0dXJuIG5ldyB3cyhyLG4pfWlmKHQudmVyaWZ5KXt0PWxhKGUsdC52ZXJpZnkpO3JldHVybiBuZXcgSXModCxuKX1yZXR1cm4gTXIoKX1mdW5jdGlvbiB3YSh0LGUpe3JldHVybntkb2N1bWVudHM6W2ZhKHQsZS5wYXRoKV19fWZ1bmN0aW9uIElhKHQsZSl7dmFyIG49e3N0cnVjdHVyZWRRdWVyeTp7fX0scj1lLnBhdGg7bnVsbCE9PWUuY29sbGVjdGlvbkdyb3VwPyhuLnBhcmVudD1mYSh0LHIpLG4uc3RydWN0dXJlZFF1ZXJ5LmZyb209W3tjb2xsZWN0aW9uSWQ6ZS5jb2xsZWN0aW9uR3JvdXAsYWxsRGVzY2VuZGFudHM6ITB9XSk6KG4ucGFyZW50PWZhKHQsci5wb3BMYXN0KCkpLG4uc3RydWN0dXJlZFF1ZXJ5LmZyb209W3tjb2xsZWN0aW9uSWQ6ci5sYXN0U2VnbWVudCgpfV0pO3I9ZnVuY3Rpb24odCl7aWYoMCE9PXQubGVuZ3RoKXt0PXQubWFwKGZ1bmN0aW9uKHQpe2lmKFwiPT1cIj09PXQub3Ape2lmKGtpKHQudmFsdWUpKXJldHVybnt1bmFyeUZpbHRlcjp7ZmllbGQ6U2EodC5maWVsZCksb3A6XCJJU19OQU5cIn19O2lmKEFpKHQudmFsdWUpKXJldHVybnt1bmFyeUZpbHRlcjp7ZmllbGQ6U2EodC5maWVsZCksb3A6XCJJU19OVUxMXCJ9fX1lbHNlIGlmKFwiIT1cIj09PXQub3Ape2lmKGtpKHQudmFsdWUpKXJldHVybnt1bmFyeUZpbHRlcjp7ZmllbGQ6U2EodC5maWVsZCksb3A6XCJJU19OT1RfTkFOXCJ9fTtpZihBaSh0LnZhbHVlKSlyZXR1cm57dW5hcnlGaWx0ZXI6e2ZpZWxkOlNhKHQuZmllbGQpLG9wOlwiSVNfTk9UX05VTExcIn19fXJldHVybntmaWVsZEZpbHRlcjp7ZmllbGQ6U2EodC5maWVsZCksb3A6KGU9dC5vcCxyYVtlXSksdmFsdWU6dC52YWx1ZX19O3ZhciBlfSk7cmV0dXJuIDE9PT10Lmxlbmd0aD90WzBdOntjb21wb3NpdGVGaWx0ZXI6e29wOlwiQU5EXCIsZmlsdGVyczp0fX19fShlLmZpbHRlcnMpO3ImJihuLnN0cnVjdHVyZWRRdWVyeS53aGVyZT1yKTtyPWZ1bmN0aW9uKHQpe2lmKDAhPT10Lmxlbmd0aClyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJue2ZpZWxkOlNhKCh0PXQpLmZpZWxkKSxkaXJlY3Rpb246KHQ9dC5kaXIsbmFbdF0pfX0pfShlLm9yZGVyQnkpO3ImJihuLnN0cnVjdHVyZWRRdWVyeS5vcmRlckJ5PXIpO3I9ZS5saW1pdCxyPXQuSXx8cGkocik/cjp7dmFsdWU6cn07cmV0dXJuIG51bGwhPT1yJiYobi5zdHJ1Y3R1cmVkUXVlcnkubGltaXQ9ciksZS5zdGFydEF0JiYobi5zdHJ1Y3R1cmVkUXVlcnkuc3RhcnRBdD1UYShlLnN0YXJ0QXQpKSxlLmVuZEF0JiYobi5zdHJ1Y3R1cmVkUXVlcnkuZW5kQXQ9VGEoZS5lbmRBdCkpLG59ZnVuY3Rpb24gRWEodCl7dmFyIGU9ZGEodC5wYXJlbnQpLG49dC5zdHJ1Y3R1cmVkUXVlcnkscj1uLmZyb20/bi5mcm9tLmxlbmd0aDowLGk9bnVsbDswPHImJihGcigxPT09ciksKGE9bi5mcm9tWzBdKS5hbGxEZXNjZW5kYW50cz9pPWEuY29sbGVjdGlvbklkOmU9ZS5jaGlsZChhLmNvbGxlY3Rpb25JZCkpO3ZhciBvPVtdO24ud2hlcmUmJihvPWZ1bmN0aW9uIGUodCl7cmV0dXJuIHQ/dm9pZCAwIT09dC51bmFyeUZpbHRlcj9bQWEodCldOnZvaWQgMCE9PXQuZmllbGRGaWx0ZXI/W0RhKHQpXTp2b2lkIDAhPT10LmNvbXBvc2l0ZUZpbHRlcj90LmNvbXBvc2l0ZUZpbHRlci5maWx0ZXJzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX0pLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0LmNvbmNhdChlKX0pOk1yKCk6W119KG4ud2hlcmUpKTt2YXIgcz1bXSx0PW51bGwscj1udWxsLGE9bnVsbDtyZXR1cm4gdm8oZSxpLHM9bi5vcmRlckJ5P24ub3JkZXJCeS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBwbyhOYSgoZT10KS5maWVsZCksZnVuY3Rpb24oKXtzd2l0Y2goZS5kaXJlY3Rpb24pe2Nhc2VcIkFTQ0VORElOR1wiOnJldHVyblwiYXNjXCI7Y2FzZVwiREVTQ0VORElOR1wiOnJldHVyblwiZGVzY1wiO2RlZmF1bHQ6cmV0dXJufX0oKSk7dmFyIGV9KTpzLG8sdD1uLmxpbWl0P3BpKG89XCJvYmplY3RcIj09dHlwZW9mKG89bi5saW1pdCk/by52YWx1ZTpvKT9udWxsOm86dCxcIkZcIixyPW4uc3RhcnRBdD9fYShuLnN0YXJ0QXQpOnIsYT1uLmVuZEF0P19hKG4uZW5kQXQpOmEpfWZ1bmN0aW9uIFRhKHQpe3JldHVybntiZWZvcmU6dC5iZWZvcmUsdmFsdWVzOnQucG9zaXRpb259fWZ1bmN0aW9uIF9hKHQpe3ZhciBlPSEhdC5iZWZvcmUsdD10LnZhbHVlc3x8W107cmV0dXJuIG5ldyBhbyh0LGUpfWZ1bmN0aW9uIFNhKHQpe3JldHVybntmaWVsZFBhdGg6dC5jYW5vbmljYWxTdHJpbmcoKX19ZnVuY3Rpb24gTmEodCl7cmV0dXJuIHRpLmZyb21TZXJ2ZXJGb3JtYXQodC5maWVsZFBhdGgpfWZ1bmN0aW9uIERhKHQpe3JldHVybiBCaS5jcmVhdGUoTmEodC5maWVsZEZpbHRlci5maWVsZCksZnVuY3Rpb24oKXtzd2l0Y2godC5maWVsZEZpbHRlci5vcCl7Y2FzZVwiRVFVQUxcIjpyZXR1cm5cIj09XCI7Y2FzZVwiTk9UX0VRVUFMXCI6cmV0dXJuXCIhPVwiO2Nhc2VcIkdSRUFURVJfVEhBTlwiOnJldHVyblwiPlwiO2Nhc2VcIkdSRUFURVJfVEhBTl9PUl9FUVVBTFwiOnJldHVyblwiPj1cIjtjYXNlXCJMRVNTX1RIQU5cIjpyZXR1cm5cIjxcIjtjYXNlXCJMRVNTX1RIQU5fT1JfRVFVQUxcIjpyZXR1cm5cIjw9XCI7Y2FzZVwiQVJSQVlfQ09OVEFJTlNcIjpyZXR1cm5cImFycmF5LWNvbnRhaW5zXCI7Y2FzZVwiSU5cIjpyZXR1cm5cImluXCI7Y2FzZVwiTk9UX0lOXCI6cmV0dXJuXCJub3QtaW5cIjtjYXNlXCJBUlJBWV9DT05UQUlOU19BTllcIjpyZXR1cm5cImFycmF5LWNvbnRhaW5zLWFueVwiO2Nhc2VcIk9QRVJBVE9SX1VOU1BFQ0lGSUVEXCI6ZGVmYXVsdDpyZXR1cm4gTXIoKX19KCksdC5maWVsZEZpbHRlci52YWx1ZSl9ZnVuY3Rpb24gQWEodCl7c3dpdGNoKHQudW5hcnlGaWx0ZXIub3Ape2Nhc2VcIklTX05BTlwiOnZhciBlPU5hKHQudW5hcnlGaWx0ZXIuZmllbGQpO3JldHVybiBCaS5jcmVhdGUoZSxcIj09XCIse2RvdWJsZVZhbHVlOk5hTn0pO2Nhc2VcIklTX05VTExcIjplPU5hKHQudW5hcnlGaWx0ZXIuZmllbGQpO3JldHVybiBCaS5jcmVhdGUoZSxcIj09XCIse251bGxWYWx1ZTpcIk5VTExfVkFMVUVcIn0pO2Nhc2VcIklTX05PVF9OQU5cIjp2YXIgbj1OYSh0LnVuYXJ5RmlsdGVyLmZpZWxkKTtyZXR1cm4gQmkuY3JlYXRlKG4sXCIhPVwiLHtkb3VibGVWYWx1ZTpOYU59KTtjYXNlXCJJU19OT1RfTlVMTFwiOm49TmEodC51bmFyeUZpbHRlci5maWVsZCk7cmV0dXJuIEJpLmNyZWF0ZShuLFwiIT1cIix7bnVsbFZhbHVlOlwiTlVMTF9WQUxVRVwifSk7Y2FzZVwiT1BFUkFUT1JfVU5TUEVDSUZJRURcIjpkZWZhdWx0OnJldHVybiBNcigpfX1mdW5jdGlvbiBrYSh0KXtyZXR1cm4gNDw9dC5sZW5ndGgmJlwicHJvamVjdHNcIj09PXQuZ2V0KDApJiZcImRhdGFiYXNlc1wiPT09dC5nZXQoMil9ZnVuY3Rpb24gQ2EodCl7Zm9yKHZhciBlPVwiXCIsbj0wO248dC5sZW5ndGg7bisrKTA8ZS5sZW5ndGgmJihlPVJhKGUpKSxlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUscj10Lmxlbmd0aCxpPTA7aTxyO2krKyl7dmFyIG89dC5jaGFyQXQoaSk7c3dpdGNoKG8pe2Nhc2VcIlxcMFwiOm4rPVwiXFx4MDFcXHgxMFwiO2JyZWFrO2Nhc2VcIlxceDAxXCI6bis9XCJcXHgwMVxceDExXCI7YnJlYWs7ZGVmYXVsdDpuKz1vfX1yZXR1cm4gbn0odC5nZXQobiksZSk7cmV0dXJuIFJhKGUpfWZ1bmN0aW9uIFJhKHQpe3JldHVybiB0K1wiXFx4MDFcXHgwMVwifWZ1bmN0aW9uIHhhKHQpe3ZhciBlPXQubGVuZ3RoO2lmKEZyKDI8PWUpLDI9PT1lKXJldHVybiBGcihcIlxceDAxXCI9PT10LmNoYXJBdCgwKSYmXCJcXHgwMVwiPT09dC5jaGFyQXQoMSkpLCRyLmVtcHR5UGF0aCgpO2Zvcih2YXIgbj1lLTIscj1bXSxpPVwiXCIsbz0wO288ZTspe3ZhciBzPXQuaW5kZXhPZihcIlxceDAxXCIsbyk7c3dpdGNoKChzPDB8fG48cykmJk1yKCksdC5jaGFyQXQocysxKSl7Y2FzZVwiXFx4MDFcIjp2YXIgYT10LnN1YnN0cmluZyhvLHMpLHU9dm9pZCAwOzA9PT1pLmxlbmd0aD91PWE6KHU9aSs9YSxpPVwiXCIpLHIucHVzaCh1KTticmVhaztjYXNlXCJcXHgxMFwiOmkrPXQuc3Vic3RyaW5nKG8scyksaSs9XCJcXDBcIjticmVhaztjYXNlXCJcXHgxMVwiOmkrPXQuc3Vic3RyaW5nKG8scysxKTticmVhaztkZWZhdWx0Ok1yKCl9bz1zKzJ9cmV0dXJuIG5ldyAkcihyKX1mdW5jdGlvbiBPYSh0LGUsbil7dGhpcy5vd25lcklkPXQsdGhpcy5hbGxvd1RhYlN5bmNocm9uaXphdGlvbj1lLHRoaXMubGVhc2VUaW1lc3RhbXBNcz1ufXZhciBMYT1mdW5jdGlvbih0LGUpe3RoaXMuc2Vjb25kcz10LHRoaXMubmFub3NlY29uZHM9ZX07T2Euc3RvcmU9XCJvd25lclwiLE9hLmtleT1cIm93bmVyXCI7ZnVuY3Rpb24gUGEodCxlLG4pe3RoaXMudXNlcklkPXQsdGhpcy5sYXN0QWNrbm93bGVkZ2VkQmF0Y2hJZD1lLHRoaXMubGFzdFN0cmVhbVRva2VuPW59UGEuc3RvcmU9XCJtdXRhdGlvblF1ZXVlc1wiLFBhLmtleVBhdGg9XCJ1c2VySWRcIjtmdW5jdGlvbiBNYSh0LGUsbixyLGkpe3RoaXMudXNlcklkPXQsdGhpcy5iYXRjaElkPWUsdGhpcy5sb2NhbFdyaXRlVGltZU1zPW4sdGhpcy5iYXNlTXV0YXRpb25zPXIsdGhpcy5tdXRhdGlvbnM9aX1NYS5zdG9yZT1cIm11dGF0aW9uc1wiLE1hLmtleVBhdGg9XCJiYXRjaElkXCIsTWEudXNlck11dGF0aW9uc0luZGV4PVwidXNlck11dGF0aW9uc0luZGV4XCIsTWEudXNlck11dGF0aW9uc0tleVBhdGg9W1widXNlcklkXCIsXCJiYXRjaElkXCJdO3ZhciBGYT0oVmEucHJlZml4Rm9yVXNlcj1mdW5jdGlvbih0KXtyZXR1cm5bdF19LFZhLnByZWZpeEZvclBhdGg9ZnVuY3Rpb24odCxlKXtyZXR1cm5bdCxDYShlKV19LFZhLmtleT1mdW5jdGlvbih0LGUsbil7cmV0dXJuW3QsQ2EoZSksbl19LFZhKTtmdW5jdGlvbiBWYSgpe31GYS5zdG9yZT1cImRvY3VtZW50TXV0YXRpb25zXCIsRmEuUExBQ0VIT0xERVI9bmV3IEZhO2Z1bmN0aW9uIFVhKHQsZSl7dGhpcy5wYXRoPXQsdGhpcy5yZWFkVGltZT1lfWZ1bmN0aW9uIHFhKHQsZSl7dGhpcy5wYXRoPXQsdGhpcy52ZXJzaW9uPWV9dmFyIEJhPWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXt0aGlzLnVua25vd25Eb2N1bWVudD10LHRoaXMubm9Eb2N1bWVudD1lLHRoaXMuZG9jdW1lbnQ9bix0aGlzLmhhc0NvbW1pdHRlZE11dGF0aW9ucz1yLHRoaXMucmVhZFRpbWU9aSx0aGlzLnBhcmVudFBhdGg9b307QmEuc3RvcmU9XCJyZW1vdGVEb2N1bWVudHNcIixCYS5yZWFkVGltZUluZGV4PVwicmVhZFRpbWVJbmRleFwiLEJhLnJlYWRUaW1lSW5kZXhQYXRoPVwicmVhZFRpbWVcIixCYS5jb2xsZWN0aW9uUmVhZFRpbWVJbmRleD1cImNvbGxlY3Rpb25SZWFkVGltZUluZGV4XCIsQmEuY29sbGVjdGlvblJlYWRUaW1lSW5kZXhQYXRoPVtcInBhcmVudFBhdGhcIixcInJlYWRUaW1lXCJdO2Z1bmN0aW9uIGphKHQpe3RoaXMuYnl0ZVNpemU9dH1qYS5zdG9yZT1cInJlbW90ZURvY3VtZW50R2xvYmFsXCIsamEua2V5PVwicmVtb3RlRG9jdW1lbnRHbG9iYWxLZXlcIjtmdW5jdGlvbiBLYSh0LGUsbixyLGksbyxzKXt0aGlzLnRhcmdldElkPXQsdGhpcy5jYW5vbmljYWxJZD1lLHRoaXMucmVhZFRpbWU9bix0aGlzLnJlc3VtZVRva2VuPXIsdGhpcy5sYXN0TGlzdGVuU2VxdWVuY2VOdW1iZXI9aSx0aGlzLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb249byx0aGlzLnF1ZXJ5PXN9S2Euc3RvcmU9XCJ0YXJnZXRzXCIsS2Eua2V5UGF0aD1cInRhcmdldElkXCIsS2EucXVlcnlUYXJnZXRzSW5kZXhOYW1lPVwicXVlcnlUYXJnZXRzSW5kZXhcIixLYS5xdWVyeVRhcmdldHNLZXlQYXRoPVtcImNhbm9uaWNhbElkXCIsXCJ0YXJnZXRJZFwiXTt2YXIgR2E9ZnVuY3Rpb24odCxlLG4pe3RoaXMudGFyZ2V0SWQ9dCx0aGlzLnBhdGg9ZSx0aGlzLnNlcXVlbmNlTnVtYmVyPW59O0dhLnN0b3JlPVwidGFyZ2V0RG9jdW1lbnRzXCIsR2Eua2V5UGF0aD1bXCJ0YXJnZXRJZFwiLFwicGF0aFwiXSxHYS5kb2N1bWVudFRhcmdldHNJbmRleD1cImRvY3VtZW50VGFyZ2V0c0luZGV4XCIsR2EuZG9jdW1lbnRUYXJnZXRzS2V5UGF0aD1bXCJwYXRoXCIsXCJ0YXJnZXRJZFwiXTtmdW5jdGlvbiBRYSh0LGUsbixyKXt0aGlzLmhpZ2hlc3RUYXJnZXRJZD10LHRoaXMuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyPWUsdGhpcy5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uPW4sdGhpcy50YXJnZXRDb3VudD1yfVFhLmtleT1cInRhcmdldEdsb2JhbEtleVwiLFFhLnN0b3JlPVwidGFyZ2V0R2xvYmFsXCI7ZnVuY3Rpb24gemEodCxlKXt0aGlzLmNvbGxlY3Rpb25JZD10LHRoaXMucGFyZW50PWV9emEuc3RvcmU9XCJjb2xsZWN0aW9uUGFyZW50c1wiLHphLmtleVBhdGg9W1wiY29sbGVjdGlvbklkXCIsXCJwYXJlbnRcIl07ZnVuY3Rpb24gSGEodCxlLG4scil7dGhpcy5jbGllbnRJZD10LHRoaXMudXBkYXRlVGltZU1zPWUsdGhpcy5uZXR3b3JrRW5hYmxlZD1uLHRoaXMuaW5Gb3JlZ3JvdW5kPXJ9SGEuc3RvcmU9XCJjbGllbnRNZXRhZGF0YVwiLEhhLmtleVBhdGg9XCJjbGllbnRJZFwiO2Z1bmN0aW9uIFdhKHQsZSxuKXt0aGlzLmJ1bmRsZUlkPXQsdGhpcy5jcmVhdGVUaW1lPWUsdGhpcy52ZXJzaW9uPW59V2Euc3RvcmU9XCJidW5kbGVzXCIsV2Eua2V5UGF0aD1cImJ1bmRsZUlkXCI7ZnVuY3Rpb24gWWEodCxlLG4pe3RoaXMubmFtZT10LHRoaXMucmVhZFRpbWU9ZSx0aGlzLmJ1bmRsZWRRdWVyeT1ufVlhLnN0b3JlPVwibmFtZWRRdWVyaWVzXCIsWWEua2V5UGF0aD1cIm5hbWVcIjt2YXIgWGEsSmE9cyhzKFtdLHMocyhbXSxzKHMoW10scyhzKFtdLFtQYS5zdG9yZSxNYS5zdG9yZSxGYS5zdG9yZSxCYS5zdG9yZSxLYS5zdG9yZSxPYS5zdG9yZSxRYS5zdG9yZSxHYS5zdG9yZV0pLFtIYS5zdG9yZV0pKSxbamEuc3RvcmVdKSksW3phLnN0b3JlXSkpLFtXYS5zdG9yZSxZYS5zdG9yZV0pLCRhPVwiVGhlIGN1cnJlbnQgdGFiIGlzIG5vdCBpbiB0aGUgcmVxdWlyZWQgc3RhdGUgdG8gcGVyZm9ybSB0aGlzIG9wZXJhdGlvbi4gSXQgbWlnaHQgYmUgbmVjZXNzYXJ5IHRvIHJlZnJlc2ggdGhlIGJyb3dzZXIgdGFiLlwiLFRlPShodS5wcm90b3R5cGUuYWRkT25Db21taXR0ZWRMaXN0ZW5lcj1mdW5jdGlvbih0KXt0aGlzLm9uQ29tbWl0dGVkTGlzdGVuZXJzLnB1c2godCl9LGh1LnByb3RvdHlwZS5yYWlzZU9uQ29tbWl0dGVkRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLm9uQ29tbWl0dGVkTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQoKX0pfSxodSksWmE9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMucHJvbWlzZT1uZXcgUHJvbWlzZShmdW5jdGlvbih0LGUpe24ucmVzb2x2ZT10LG4ucmVqZWN0PWV9KX0sdHU9KGN1LnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZXh0KHZvaWQgMCx0KX0sY3UucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24ocixpKXt2YXIgbz10aGlzO3JldHVybiB0aGlzLmNhbGxiYWNrQXR0YWNoZWQmJk1yKCksdGhpcy5jYWxsYmFja0F0dGFjaGVkPSEwLHRoaXMuaXNEb25lP3RoaXMuZXJyb3I/dGhpcy53cmFwRmFpbHVyZShpLHRoaXMuZXJyb3IpOnRoaXMud3JhcFN1Y2Nlc3Mocix0aGlzLnJlc3VsdCk6bmV3IGN1KGZ1bmN0aW9uKGUsbil7by5uZXh0Q2FsbGJhY2s9ZnVuY3Rpb24odCl7by53cmFwU3VjY2VzcyhyLHQpLm5leHQoZSxuKX0sby5jYXRjaENhbGxiYWNrPWZ1bmN0aW9uKHQpe28ud3JhcEZhaWx1cmUoaSx0KS5uZXh0KGUsbil9fSl9LGN1LnByb3RvdHlwZS50b1Byb21pc2U9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0LGUpe24ubmV4dCh0LGUpfSl9LGN1LnByb3RvdHlwZS53cmFwVXNlckZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3RyeXt2YXIgZT10KCk7cmV0dXJuIGUgaW5zdGFuY2VvZiBjdT9lOmN1LnJlc29sdmUoZSl9Y2F0Y2godCl7cmV0dXJuIGN1LnJlamVjdCh0KX19LGN1LnByb3RvdHlwZS53cmFwU3VjY2Vzcz1mdW5jdGlvbih0LGUpe3JldHVybiB0P3RoaXMud3JhcFVzZXJGdW5jdGlvbihmdW5jdGlvbigpe3JldHVybiB0KGUpfSk6Y3UucmVzb2x2ZShlKX0sY3UucHJvdG90eXBlLndyYXBGYWlsdXJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ/dGhpcy53cmFwVXNlckZ1bmN0aW9uKGZ1bmN0aW9uKCl7cmV0dXJuIHQoZSl9KTpjdS5yZWplY3QoZSl9LGN1LnJlc29sdmU9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBjdShmdW5jdGlvbih0LGUpe3Qobil9KX0sY3UucmVqZWN0PWZ1bmN0aW9uKG4pe3JldHVybiBuZXcgY3UoZnVuY3Rpb24odCxlKXtlKG4pfSl9LGN1LndhaXRGb3I9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBjdShmdW5jdGlvbihlLG4pe3ZhciByPTAsaT0wLG89ITE7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpeysrcix0Lm5leHQoZnVuY3Rpb24oKXsrK2ksbyYmaT09PXImJmUoKX0sZnVuY3Rpb24odCl7cmV0dXJuIG4odCl9KX0pLG89ITAsaT09PXImJmUoKX0pfSxjdS5vcj1mdW5jdGlvbih0KXtmb3IodmFyIG49Y3UucmVzb2x2ZSghMSksZT0wLHI9dDtlPHIubGVuZ3RoO2UrKykhZnVuY3Rpb24oZSl7bj1uLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHQ/Y3UucmVzb2x2ZSh0KTplKCl9KX0ocltlXSk7cmV0dXJuIG59LGN1LmZvckVhY2g9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzLGk9W107cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0LGUpe2kucHVzaChuLmNhbGwocix0LGUpKX0pLHRoaXMud2FpdEZvcihpKX0sY3UpLGV1PSh1dS5vcGVuPWZ1bmN0aW9uKHQsZSxuLHIpe3RyeXtyZXR1cm4gbmV3IHV1KGUsdC50cmFuc2FjdGlvbihyLG4pKX1jYXRjaCh0KXt0aHJvdyBuZXcgaXUoZSx0KX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1dS5wcm90b3R5cGUsXCJkdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mdC5wcm9taXNlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHV1LnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbih0KXt0JiZ0aGlzLmZ0LnJlamVjdCh0KSx0aGlzLmFib3J0ZWR8fCh4cihcIlNpbXBsZURiXCIsXCJBYm9ydGluZyB0cmFuc2FjdGlvbjpcIix0P3QubWVzc2FnZTpcIkNsaWVudC1pbml0aWF0ZWQgYWJvcnRcIiksdGhpcy5hYm9ydGVkPSEwLHRoaXMudHJhbnNhY3Rpb24uYWJvcnQoKSl9LHV1LnByb3RvdHlwZS5zdG9yZT1mdW5jdGlvbih0KXt0PXRoaXMudHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUodCk7cmV0dXJuIG5ldyBmdSh0KX0sdXUpLG51PShhdS5kZWxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIHhyKFwiU2ltcGxlRGJcIixcIlJlbW92aW5nIGRhdGFiYXNlOlwiLHQpLHB1KHdpbmRvdy5pbmRleGVkREIuZGVsZXRlRGF0YWJhc2UodCkpLnRvUHJvbWlzZSgpfSxhdS55dD1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBpbmRleGVkREIpcmV0dXJuITE7aWYoYXUuZ3QoKSlyZXR1cm4hMDt2YXIgdD1oKCksZT1hdS5fdCh0KSxuPTA8ZSYmZTwxMCxlPWF1LkV0KHQpLGU9MDxlJiZlPDQuNTtyZXR1cm4hKDA8dC5pbmRleE9mKFwiTVNJRSBcIil8fDA8dC5pbmRleE9mKFwiVHJpZGVudC9cIil8fDA8dC5pbmRleE9mKFwiRWRnZS9cIil8fG58fGUpfSxhdS5ndD1mdW5jdGlvbigpe3ZhciB0O3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiZcIllFU1wiPT09KG51bGw9PT0odD1wcm9jZXNzLmVudil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuVHQpfSxhdS5JdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnN0b3JlKGUpfSxhdS5fdD1mdW5jdGlvbih0KXt0PXQubWF0Y2goL2koPzpwaG9uZXxwYWR8cG9kKSBvcyAoW1xcZF9dKykvaSksdD10P3RbMV0uc3BsaXQoXCJfXCIpLnNsaWNlKDAsMikuam9pbihcIi5cIik6XCItMVwiO3JldHVybiBOdW1iZXIodCl9LGF1LkV0PWZ1bmN0aW9uKHQpe3Q9dC5tYXRjaCgvQW5kcm9pZCAoW1xcZC5dKykvaSksdD10P3RbMV0uc3BsaXQoXCIuXCIpLnNsaWNlKDAsMikuam9pbihcIi5cIik6XCItMVwiO3JldHVybiBOdW1iZXIodCl9LGF1LnByb3RvdHlwZS5BdD1mdW5jdGlvbihvKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxpPXRoaXM7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmRiP1szLDJdOih4cihcIlNpbXBsZURiXCIsXCJPcGVuaW5nIGRhdGFiYXNlOlwiLHRoaXMubmFtZSksZT10aGlzLFs0LG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUsbil7dmFyIHI9aW5kZXhlZERCLm9wZW4oaS5uYW1lLGkudmVyc2lvbik7ci5vbnN1Y2Nlc3M9ZnVuY3Rpb24odCl7dD10LnRhcmdldC5yZXN1bHQ7ZSh0KX0sci5vbmJsb2NrZWQ9ZnVuY3Rpb24oKXtuKG5ldyBpdShvLFwiQ2Fubm90IHVwZ3JhZGUgSW5kZXhlZERCIHNjaGVtYSB3aGlsZSBhbm90aGVyIHRhYiBpcyBvcGVuLiBDbG9zZSBhbGwgdGFicyB0aGF0IGFjY2VzcyBGaXJlc3RvcmUgYW5kIHJlbG9hZCB0aGlzIHBhZ2UgdG8gcHJvY2VlZC5cIikpfSxyLm9uZXJyb3I9ZnVuY3Rpb24odCl7dD10LnRhcmdldC5lcnJvcjtcIlZlcnNpb25FcnJvclwiPT09dC5uYW1lP24obmV3IEFyKERyLkZBSUxFRF9QUkVDT05ESVRJT04sXCJBIG5ld2VyIHZlcnNpb24gb2YgdGhlIEZpcmVzdG9yZSBTREsgd2FzIHByZXZpb3VzbHkgdXNlZCBhbmQgc28gdGhlIHBlcnNpc3RlZCBkYXRhIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIHZlcnNpb24gb2YgdGhlIFNESyB5b3UgYXJlIG5vdyB1c2luZy4gVGhlIFNESyB3aWxsIG9wZXJhdGUgd2l0aCBwZXJzaXN0ZW5jZSBkaXNhYmxlZC4gSWYgeW91IG5lZWQgcGVyc2lzdGVuY2UsIHBsZWFzZSByZS11cGdyYWRlIHRvIGEgbmV3ZXIgdmVyc2lvbiBvZiB0aGUgU0RLIG9yIGVsc2UgY2xlYXIgdGhlIHBlcnNpc3RlZCBJbmRleGVkREIgZGF0YSBmb3IgeW91ciBhcHAgdG8gc3RhcnQgZnJlc2guXCIpKTpuKG5ldyBpdShvLHQpKX0sci5vbnVwZ3JhZGVuZWVkZWQ9ZnVuY3Rpb24odCl7eHIoXCJTaW1wbGVEYlwiLCdEYXRhYmFzZSBcIicraS5uYW1lKydcIiByZXF1aXJlcyB1cGdyYWRlIGZyb20gdmVyc2lvbjonLHQub2xkVmVyc2lvbik7dmFyIGU9dC50YXJnZXQucmVzdWx0O2kud3QuUnQoZSxyLnRyYW5zYWN0aW9uLHQub2xkVmVyc2lvbixpLnZlcnNpb24pLm5leHQoZnVuY3Rpb24oKXt4cihcIlNpbXBsZURiXCIsXCJEYXRhYmFzZSB1cGdyYWRlIHRvIHZlcnNpb24gXCIraS52ZXJzaW9uK1wiIGNvbXBsZXRlXCIpfSl9fSldKTtjYXNlIDE6ZS5kYj10LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyLCh0aGlzLmJ0JiYodGhpcy5kYi5vbnZlcnNpb25jaGFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIGkuYnQodCl9KSx0aGlzLmRiKV19fSl9KX0sYXUucHJvdG90eXBlLnZ0PWZ1bmN0aW9uKGUpe3RoaXMuYnQ9ZSx0aGlzLmRiJiYodGhpcy5kYi5vbnZlcnNpb25jaGFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIGUodCl9KX0sYXUucHJvdG90eXBlLnJ1blRyYW5zYWN0aW9uPWZ1bmN0aW9uKGEsbix1LGMpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpLG8scyxlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDppPVwicmVhZG9ubHlcIj09PW4sbz0wLGU9ZnVuY3Rpb24oKXt2YXIgZSxuLHI7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOisrbyx0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSw0LCw1XSksWzQscy5BdChhKV07Y2FzZSAyOnJldHVybiBzLmRiPXQuc2VudCgpLGU9ZXUub3BlbihzLmRiLGEsaT9cInJlYWRvbmx5XCI6XCJyZWFkd3JpdGVcIix1KSxuPWMoZSkuY2F0Y2goZnVuY3Rpb24odCl7cmV0dXJuIGUuYWJvcnQodCksdHUucmVqZWN0KHQpfSkudG9Qcm9taXNlKCkscj17fSxuLmNhdGNoKGZ1bmN0aW9uKCl7fSksWzQsZS5kdF07Y2FzZSAzOnJldHVyblsyLChyLnZhbHVlPSh0LnNlbnQoKSxuKSxyKV07Y2FzZSA0OnJldHVybiBuPXQuc2VudCgpLHI9XCJGaXJlYmFzZUVycm9yXCIhPT1uLm5hbWUmJm88Myx4cihcIlNpbXBsZURiXCIsXCJUcmFuc2FjdGlvbiBmYWlsZWQgd2l0aCBlcnJvcjpcIixuLm1lc3NhZ2UsXCJSZXRyeWluZzpcIixyKSxzLmNsb3NlKCkscj9bMyw1XTpbMix7dmFsdWU6UHJvbWlzZS5yZWplY3Qobil9XTtjYXNlIDU6cmV0dXJuWzJdfX0pfSxzPXRoaXMsdC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm5bNSxlKCldO2Nhc2UgMjppZihcIm9iamVjdFwiPT10eXBlb2YoZT10LnNlbnQoKSkpcmV0dXJuWzIsZS52YWx1ZV07dC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMywxXTtjYXNlIDQ6cmV0dXJuWzJdfX0pfSl9LGF1LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuZGImJnRoaXMuZGIuY2xvc2UoKSx0aGlzLmRiPXZvaWQgMH0sYXUpLHJ1PShPYmplY3QuZGVmaW5lUHJvcGVydHkoc3UucHJvdG90eXBlLFwiaXNEb25lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLlZ0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdS5wcm90b3R5cGUsXCJEdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5TdH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoc3UucHJvdG90eXBlLFwiY3Vyc29yXCIse3NldDpmdW5jdGlvbih0KXt0aGlzLlB0PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksc3UucHJvdG90eXBlLmRvbmU9ZnVuY3Rpb24oKXt0aGlzLlZ0PSEwfSxzdS5wcm90b3R5cGUuQ3Q9ZnVuY3Rpb24odCl7dGhpcy5TdD10fSxzdS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHB1KHRoaXMuUHQuZGVsZXRlKCkpfSxzdSksaXU9KG4ob3UsWGE9QXIpLG91KTtmdW5jdGlvbiBvdSh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49WGEuY2FsbCh0aGlzLERyLlVOQVZBSUxBQkxFLFwiSW5kZXhlZERCIHRyYW5zYWN0aW9uICdcIit0K1wiJyBmYWlsZWQ6IFwiK2UpfHx0aGlzKS5uYW1lPVwiSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvclwiLG59ZnVuY3Rpb24gc3UodCl7dGhpcy5QdD10LHRoaXMuVnQ9ITEsdGhpcy5TdD1udWxsfWZ1bmN0aW9uIGF1KHQsZSxuKXt0aGlzLm5hbWU9dCx0aGlzLnZlcnNpb249ZSx0aGlzLnd0PW4sMTIuMj09PWF1Ll90KGgoKSkmJk9yKFwiRmlyZXN0b3JlIHBlcnNpc3RlbmNlIHN1ZmZlcnMgZnJvbSBhIGJ1ZyBpbiBpT1MgMTIuMiBTYWZhcmkgdGhhdCBtYXkgY2F1c2UgeW91ciBhcHAgdG8gc3RvcCB3b3JraW5nLiBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzU2NDk2Mjk2LzExMDkxNSBmb3IgZGV0YWlscyBhbmQgYSBwb3RlbnRpYWwgd29ya2Fyb3VuZC5cIil9ZnVuY3Rpb24gdXUoZSx0KXt2YXIgbj10aGlzO3RoaXMuYWN0aW9uPWUsdGhpcy50cmFuc2FjdGlvbj10LHRoaXMuYWJvcnRlZD0hMSx0aGlzLmZ0PW5ldyBaYSx0aGlzLnRyYW5zYWN0aW9uLm9uY29tcGxldGU9ZnVuY3Rpb24oKXtuLmZ0LnJlc29sdmUoKX0sdGhpcy50cmFuc2FjdGlvbi5vbmFib3J0PWZ1bmN0aW9uKCl7dC5lcnJvcj9uLmZ0LnJlamVjdChuZXcgaXUoZSx0LmVycm9yKSk6bi5mdC5yZXNvbHZlKCl9LHRoaXMudHJhbnNhY3Rpb24ub25lcnJvcj1mdW5jdGlvbih0KXt0PWd1KHQudGFyZ2V0LmVycm9yKTtuLmZ0LnJlamVjdChuZXcgaXUoZSx0KSl9fWZ1bmN0aW9uIGN1KHQpe3ZhciBlPXRoaXM7dGhpcy5uZXh0Q2FsbGJhY2s9bnVsbCx0aGlzLmNhdGNoQ2FsbGJhY2s9bnVsbCx0aGlzLnJlc3VsdD12b2lkIDAsdGhpcy5lcnJvcj12b2lkIDAsdGhpcy5pc0RvbmU9ITEsdGhpcy5jYWxsYmFja0F0dGFjaGVkPSExLHQoZnVuY3Rpb24odCl7ZS5pc0RvbmU9ITAsZS5yZXN1bHQ9dCxlLm5leHRDYWxsYmFjayYmZS5uZXh0Q2FsbGJhY2sodCl9LGZ1bmN0aW9uKHQpe2UuaXNEb25lPSEwLGUuZXJyb3I9dCxlLmNhdGNoQ2FsbGJhY2smJmUuY2F0Y2hDYWxsYmFjayh0KX0pfWZ1bmN0aW9uIGh1KCl7dGhpcy5vbkNvbW1pdHRlZExpc3RlbmVycz1bXX1mdW5jdGlvbiBsdSh0KXtyZXR1cm5cIkluZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3JcIj09PXQubmFtZX12YXIgZnU9KGR1LnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24odCxlKXt0PXZvaWQgMCE9PWU/KHhyKFwiU2ltcGxlRGJcIixcIlBVVFwiLHRoaXMuc3RvcmUubmFtZSx0LGUpLHRoaXMuc3RvcmUucHV0KGUsdCkpOih4cihcIlNpbXBsZURiXCIsXCJQVVRcIix0aGlzLnN0b3JlLm5hbWUsXCI8YXV0by1rZXk+XCIsdCksdGhpcy5zdG9yZS5wdXQodCkpO3JldHVybiBwdSh0KX0sZHUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4geHIoXCJTaW1wbGVEYlwiLFwiQUREXCIsdGhpcy5zdG9yZS5uYW1lLHQsdCkscHUodGhpcy5zdG9yZS5hZGQodCkpfSxkdS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7cmV0dXJuIHB1KHRoaXMuc3RvcmUuZ2V0KGUpKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1udWxsKSx4cihcIlNpbXBsZURiXCIsXCJHRVRcIixuLnN0b3JlLm5hbWUsZSx0KSx0fSl9LGR1LnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIHhyKFwiU2ltcGxlRGJcIixcIkRFTEVURVwiLHRoaXMuc3RvcmUubmFtZSx0KSxwdSh0aGlzLnN0b3JlLmRlbGV0ZSh0KSl9LGR1LnByb3RvdHlwZS5jb3VudD1mdW5jdGlvbigpe3JldHVybiB4cihcIlNpbXBsZURiXCIsXCJDT1VOVFwiLHRoaXMuc3RvcmUubmFtZSkscHUodGhpcy5zdG9yZS5jb3VudCgpKX0sZHUucHJvdG90eXBlLk50PWZ1bmN0aW9uKHQsZSl7dmFyIGU9dGhpcy5jdXJzb3IodGhpcy5vcHRpb25zKHQsZSkpLG49W107cmV0dXJuIHRoaXMueHQoZSxmdW5jdGlvbih0LGUpe24ucHVzaChlKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gbn0pfSxkdS5wcm90b3R5cGUuRnQ9ZnVuY3Rpb24odCxlKXt4cihcIlNpbXBsZURiXCIsXCJERUxFVEUgQUxMXCIsdGhpcy5zdG9yZS5uYW1lKTtlPXRoaXMub3B0aW9ucyh0LGUpO2Uua3Q9ITE7ZT10aGlzLmN1cnNvcihlKTtyZXR1cm4gdGhpcy54dChlLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbi5kZWxldGUoKX0pfSxkdS5wcm90b3R5cGUuT3Q9ZnVuY3Rpb24odCxlKXtlP249dDoobj17fSxlPXQpO3ZhciBuPXRoaXMuY3Vyc29yKG4pO3JldHVybiB0aGlzLnh0KG4sZSl9LGR1LnByb3RvdHlwZS4kdD1mdW5jdGlvbihyKXt2YXIgdD10aGlzLmN1cnNvcih7fSk7cmV0dXJuIG5ldyB0dShmdW5jdGlvbihuLGUpe3Qub25lcnJvcj1mdW5jdGlvbih0KXt0PWd1KHQudGFyZ2V0LmVycm9yKTtlKHQpfSx0Lm9uc3VjY2Vzcz1mdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldC5yZXN1bHQ7ZT9yKGUucHJpbWFyeUtleSxlLnZhbHVlKS5uZXh0KGZ1bmN0aW9uKHQpe3Q/ZS5jb250aW51ZSgpOm4oKX0pOm4oKX19KX0sZHUucHJvdG90eXBlLnh0PWZ1bmN0aW9uKHQsaSl7dmFyIG89W107cmV0dXJuIG5ldyB0dShmdW5jdGlvbihyLGUpe3Qub25lcnJvcj1mdW5jdGlvbih0KXtlKHQudGFyZ2V0LmVycm9yKX0sdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24odCl7dmFyIGUsbj10LnRhcmdldC5yZXN1bHQ7bj8oZT1uZXcgcnUobiksKHQ9aShuLnByaW1hcnlLZXksbi52YWx1ZSxlKSlpbnN0YW5jZW9mIHR1JiYodD10LmNhdGNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmRvbmUoKSx0dS5yZWplY3QodCl9KSxvLnB1c2godCkpLGUuaXNEb25lP3IoKTpudWxsPT09ZS5EdD9uLmNvbnRpbnVlKCk6bi5jb250aW51ZShlLkR0KSk6cigpfX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdHUud2FpdEZvcihvKX0pfSxkdS5wcm90b3R5cGUub3B0aW9ucz1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiB2b2lkIDAhPT10JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQ/bj10OmU9dCkse2luZGV4Om4scmFuZ2U6ZX19LGR1LnByb3RvdHlwZS5jdXJzb3I9ZnVuY3Rpb24odCl7dmFyIGU9XCJuZXh0XCI7aWYodC5yZXZlcnNlJiYoZT1cInByZXZcIiksdC5pbmRleCl7dmFyIG49dGhpcy5zdG9yZS5pbmRleCh0LmluZGV4KTtyZXR1cm4gdC5rdD9uLm9wZW5LZXlDdXJzb3IodC5yYW5nZSxlKTpuLm9wZW5DdXJzb3IodC5yYW5nZSxlKX1yZXR1cm4gdGhpcy5zdG9yZS5vcGVuQ3Vyc29yKHQucmFuZ2UsZSl9LGR1KTtmdW5jdGlvbiBkdSh0KXt0aGlzLnN0b3JlPXR9ZnVuY3Rpb24gcHUodCl7cmV0dXJuIG5ldyB0dShmdW5jdGlvbihlLG4pe3Qub25zdWNjZXNzPWZ1bmN0aW9uKHQpe3Q9dC50YXJnZXQucmVzdWx0O2UodCl9LHQub25lcnJvcj1mdW5jdGlvbih0KXt0PWd1KHQudGFyZ2V0LmVycm9yKTtuKHQpfX0pfXZhciB5dT0hMTtmdW5jdGlvbiBndSh0KXt2YXIgZT1udS5fdChoKCkpO2lmKDEyLjI8PWUmJmU8MTMpe2U9XCJBbiBpbnRlcm5hbCBlcnJvciB3YXMgZW5jb3VudGVyZWQgaW4gdGhlIEluZGV4ZWQgRGF0YWJhc2Ugc2VydmVyXCI7aWYoMDw9dC5tZXNzYWdlLmluZGV4T2YoZSkpe3ZhciBuPW5ldyBBcihcImludGVybmFsXCIsXCJJT1NfSU5ERVhFRERCX0JVRzE6IEluZGV4ZWREYiBoYXMgdGhyb3duICdcIitlK1wiJy4gVGhpcyBpcyBsaWtlbHkgZHVlIHRvIGFuIHVuYXZvaWRhYmxlIGJ1ZyBpbiBpT1MuIFNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvNTY0OTYyOTYvMTEwOTE1IGZvciBkZXRhaWxzIGFuZCBhIHBvdGVudGlhbCB3b3JrYXJvdW5kLlwiKTtyZXR1cm4geXV8fCh5dT0hMCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgbn0sMCkpLG59fXJldHVybiB0fXZhciBtdSx2dT0obihidSxtdT1UZSksYnUpO2Z1bmN0aW9uIGJ1KHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj1tdS5jYWxsKHRoaXMpfHx0aGlzKS5NdD10LG4uY3VycmVudFNlcXVlbmNlTnVtYmVyPWUsbn1mdW5jdGlvbiB3dSh0LGUpe3JldHVybiBudS5JdCh0Lk10LGUpfXZhciBJdT0oRHUucHJvdG90eXBlLmFwcGx5VG9SZW1vdGVEb2N1bWVudD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbixyLGksbyxzLGEsdT1lLm11dGF0aW9uUmVzdWx0cyxjPTA7Yzx0aGlzLm11dGF0aW9ucy5sZW5ndGg7YysrKXt2YXIgaD10aGlzLm11dGF0aW9uc1tjXTtoLmtleS5pc0VxdWFsKHQua2V5KSYmKG49aCxyPXQsaT11W2NdLGg9YT1zPW89dm9pZCAwLG4gaW5zdGFuY2VvZiBjcz8ocz1yLGE9aSxoPShvPW4pLnZhbHVlLmNsb25lKCksbz1wcyhvLmZpZWxkVHJhbnNmb3JtcyxzLGEudHJhbnNmb3JtUmVzdWx0cyksaC5zZXRBbGwobykscy5jb252ZXJ0VG9Gb3VuZERvY3VtZW50KGEudmVyc2lvbixoKS5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKSk6biBpbnN0YW5jZW9mIGhzPyhvPXIscz1pLHJzKChhPW4pLnByZWNvbmRpdGlvbixvKT8oaD1wcyhhLmZpZWxkVHJhbnNmb3JtcyxvLHMudHJhbnNmb3JtUmVzdWx0cyksKG49by5kYXRhKS5zZXRBbGwoZHMoYSkpLG4uc2V0QWxsKGgpLG8uY29udmVydFRvRm91bmREb2N1bWVudChzLnZlcnNpb24sbikuc2V0SGFzQ29tbWl0dGVkTXV0YXRpb25zKCkpOm8uY29udmVydFRvVW5rbm93bkRvY3VtZW50KHMudmVyc2lvbikpOnIuY29udmVydFRvTm9Eb2N1bWVudChpLnZlcnNpb24pLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpKX19LER1LnByb3RvdHlwZS5hcHBseVRvTG9jYWxWaWV3PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5iYXNlTXV0YXRpb25zO2U8bi5sZW5ndGg7ZSsrKShyPW5bZV0pLmtleS5pc0VxdWFsKHQua2V5KSYmaXMocix0LHRoaXMubG9jYWxXcml0ZVRpbWUpO2Zvcih2YXIgcixpPTAsbz10aGlzLm11dGF0aW9ucztpPG8ubGVuZ3RoO2krKykocj1vW2ldKS5rZXkuaXNFcXVhbCh0LmtleSkmJmlzKHIsdCx0aGlzLmxvY2FsV3JpdGVUaW1lKX0sRHUucHJvdG90eXBlLmFwcGx5VG9Mb2NhbERvY3VtZW50U2V0PWZ1bmN0aW9uKG4pe3ZhciByPXRoaXM7dGhpcy5tdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1uLmdldCh0LmtleSksdD1lO3IuYXBwbHlUb0xvY2FsVmlldyh0KSxlLmlzVmFsaWREb2N1bWVudCgpfHx0LmNvbnZlcnRUb05vRG9jdW1lbnQoR3IubWluKCkpfSl9LER1LnByb3RvdHlwZS5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubXV0YXRpb25zLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0LmFkZChlLmtleSl9LEJzKCkpfSxEdS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5iYXRjaElkPT09dC5iYXRjaElkJiZCcih0aGlzLm11dGF0aW9ucyx0Lm11dGF0aW9ucyxvcykmJkJyKHRoaXMuYmFzZU11dGF0aW9ucyx0LmJhc2VNdXRhdGlvbnMsb3MpfSxEdSksRXU9KE51LmZyb209ZnVuY3Rpb24odCxlLG4pe0ZyKHQubXV0YXRpb25zLmxlbmd0aD09PW4ubGVuZ3RoKTtmb3IodmFyIHI9VXMsaT10Lm11dGF0aW9ucyxvPTA7bzxpLmxlbmd0aDtvKyspcj1yLmluc2VydChpW29dLmtleSxuW29dLnZlcnNpb24pO3JldHVybiBuZXcgTnUodCxlLG4scil9LE51KSxUdT0oU3UucHJvdG90eXBlLndpdGhTZXF1ZW5jZU51bWJlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFN1KHRoaXMudGFyZ2V0LHRoaXMudGFyZ2V0SWQsdGhpcy5wdXJwb3NlLHQsdGhpcy5zbmFwc2hvdFZlcnNpb24sdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uLHRoaXMucmVzdW1lVG9rZW4pfSxTdS5wcm90b3R5cGUud2l0aFJlc3VtZVRva2VuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBTdSh0aGlzLnRhcmdldCx0aGlzLnRhcmdldElkLHRoaXMucHVycG9zZSx0aGlzLnNlcXVlbmNlTnVtYmVyLGUsdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uLHQpfSxTdS5wcm90b3R5cGUud2l0aExhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb249ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBTdSh0aGlzLnRhcmdldCx0aGlzLnRhcmdldElkLHRoaXMucHVycG9zZSx0aGlzLnNlcXVlbmNlTnVtYmVyLHRoaXMuc25hcHNob3RWZXJzaW9uLHQsdGhpcy5yZXN1bWVUb2tlbil9LFN1KSxfdT1mdW5jdGlvbih0KXt0aGlzLkx0PXR9O2Z1bmN0aW9uIFN1KHQsZSxuLHIsaSxvLHMpe3ZvaWQgMD09PWkmJihpPUdyLm1pbigpKSx2b2lkIDA9PT1vJiYobz1Hci5taW4oKSksdm9pZCAwPT09cyYmKHM9bmkuRU1QVFlfQllURV9TVFJJTkcpLHRoaXMudGFyZ2V0PXQsdGhpcy50YXJnZXRJZD1lLHRoaXMucHVycG9zZT1uLHRoaXMuc2VxdWVuY2VOdW1iZXI9cix0aGlzLnNuYXBzaG90VmVyc2lvbj1pLHRoaXMubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbj1vLHRoaXMucmVzdW1lVG9rZW49c31mdW5jdGlvbiBOdSh0LGUsbixyKXt0aGlzLmJhdGNoPXQsdGhpcy5jb21taXRWZXJzaW9uPWUsdGhpcy5tdXRhdGlvblJlc3VsdHM9bix0aGlzLmRvY1ZlcnNpb25zPXJ9ZnVuY3Rpb24gRHUodCxlLG4scil7dGhpcy5iYXRjaElkPXQsdGhpcy5sb2NhbFdyaXRlVGltZT1lLHRoaXMuYmFzZU11dGF0aW9ucz1uLHRoaXMubXV0YXRpb25zPXJ9ZnVuY3Rpb24gQXUodCxlKXtpZihlLmRvY3VtZW50KXJldHVybiBtYSh0Lkx0LGUuZG9jdW1lbnQsISFlLmhhc0NvbW1pdHRlZE11dGF0aW9ucyk7aWYoZS5ub0RvY3VtZW50KXt2YXIgbj1taS5mcm9tU2VnbWVudHMoZS5ub0RvY3VtZW50LnBhdGgpLHI9T3UoZS5ub0RvY3VtZW50LnJlYWRUaW1lKSxuPU9pLm5ld05vRG9jdW1lbnQobixyKTtyZXR1cm4gZS5oYXNDb21taXR0ZWRNdXRhdGlvbnM/bi5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKTpufWlmKGUudW5rbm93bkRvY3VtZW50KXtuPW1pLmZyb21TZWdtZW50cyhlLnVua25vd25Eb2N1bWVudC5wYXRoKSxyPU91KGUudW5rbm93bkRvY3VtZW50LnZlcnNpb24pO3JldHVybiBPaS5uZXdVbmtub3duRG9jdW1lbnQobixyKX1yZXR1cm4gTXIoKX1mdW5jdGlvbiBrdSh0LGUsbil7dmFyIHI9Q3Uobiksbj1lLmtleS5wYXRoLnBvcExhc3QoKS50b0FycmF5KCk7aWYoZS5pc0ZvdW5kRG9jdW1lbnQoKSl7dmFyIGk9e25hbWU6aGEobz10Lkx0LChzPWUpLmtleSksZmllbGRzOnMuZGF0YS50b1Byb3RvKCkubWFwVmFsdWUuZmllbGRzLHVwZGF0ZVRpbWU6b2EobyxzLnZlcnNpb24udG9UaW1lc3RhbXAoKSl9LG89ZS5oYXNDb21taXR0ZWRNdXRhdGlvbnM7cmV0dXJuIG5ldyBCYShudWxsLG51bGwsaSxvLHIsbil9aWYoZS5pc05vRG9jdW1lbnQoKSl7dmFyIHM9ZS5rZXkucGF0aC50b0FycmF5KCksaT14dShlLnZlcnNpb24pLG89ZS5oYXNDb21taXR0ZWRNdXRhdGlvbnM7cmV0dXJuIG5ldyBCYShudWxsLG5ldyBVYShzLGkpLG51bGwsbyxyLG4pfWlmKGUuaXNVbmtub3duRG9jdW1lbnQoKSl7bz1lLmtleS5wYXRoLnRvQXJyYXkoKSxlPXh1KGUudmVyc2lvbik7cmV0dXJuIG5ldyBCYShuZXcgcWEobyxlKSxudWxsLG51bGwsITAscixuKX1yZXR1cm4gTXIoKX1mdW5jdGlvbiBDdSh0KXt0PXQudG9UaW1lc3RhbXAoKTtyZXR1cm5bdC5zZWNvbmRzLHQubmFub3NlY29uZHNdfWZ1bmN0aW9uIFJ1KHQpe3Q9bmV3IEtyKHRbMF0sdFsxXSk7cmV0dXJuIEdyLmZyb21UaW1lc3RhbXAodCl9ZnVuY3Rpb24geHUodCl7dD10LnRvVGltZXN0YW1wKCk7cmV0dXJuIG5ldyBMYSh0LnNlY29uZHMsdC5uYW5vc2Vjb25kcyl9ZnVuY3Rpb24gT3UodCl7dD1uZXcgS3IodC5zZWNvbmRzLHQubmFub3NlY29uZHMpO3JldHVybiBHci5mcm9tVGltZXN0YW1wKHQpfWZ1bmN0aW9uIEx1KGUsdCl7Zm9yKHZhciBuPSh0LmJhc2VNdXRhdGlvbnN8fFtdKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGJhKGUuTHQsdCl9KSxyPTA7cjx0Lm11dGF0aW9ucy5sZW5ndGgtMTsrK3Ipe3ZhciBpLG89dC5tdXRhdGlvbnNbcl07cisxPHQubXV0YXRpb25zLmxlbmd0aCYmdm9pZCAwIT09dC5tdXRhdGlvbnNbcisxXS50cmFuc2Zvcm0mJihpPXQubXV0YXRpb25zW3IrMV0sby51cGRhdGVUcmFuc2Zvcm1zPWkudHJhbnNmb3JtLmZpZWxkVHJhbnNmb3Jtcyx0Lm11dGF0aW9ucy5zcGxpY2UocisxLDEpLCsrcil9dmFyIHM9dC5tdXRhdGlvbnMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBiYShlLkx0LHQpfSksYT1Lci5mcm9tTWlsbGlzKHQubG9jYWxXcml0ZVRpbWVNcyk7cmV0dXJuIG5ldyBJdSh0LmJhdGNoSWQsYSxuLHMpfWZ1bmN0aW9uIFB1KHQpe3ZhciBlPU91KHQucmVhZFRpbWUpLG49dm9pZCAwIT09dC5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uP091KHQubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbik6R3IubWluKCkscj12b2lkIDAhPT10LnF1ZXJ5LmRvY3VtZW50cz8oRnIoMT09PShyPXQucXVlcnkpLmRvY3VtZW50cy5sZW5ndGgpLE5vKGJvKGRhKHIuZG9jdW1lbnRzWzBdKSkpKTpObyhFYSh0LnF1ZXJ5KSk7cmV0dXJuIG5ldyBUdShyLHQudGFyZ2V0SWQsMCx0Lmxhc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcixlLG4sbmkuZnJvbUJhc2U2NFN0cmluZyh0LnJlc3VtZVRva2VuKSl9ZnVuY3Rpb24gTXUodCxlKXt2YXIgbj14dShlLnNuYXBzaG90VmVyc2lvbikscj14dShlLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24pLGk9KFVpKGUudGFyZ2V0KT93YTpJYSkodC5MdCxlLnRhcmdldCksdD1lLnJlc3VtZVRva2VuLnRvQmFzZTY0KCk7cmV0dXJuIG5ldyBLYShlLnRhcmdldElkLEZpKGUudGFyZ2V0KSxuLHQsZS5zZXF1ZW5jZU51bWJlcixyLGkpfWZ1bmN0aW9uIEZ1KHQpe3ZhciBlPUVhKHtwYXJlbnQ6dC5wYXJlbnQsc3RydWN0dXJlZFF1ZXJ5OnQuc3RydWN0dXJlZFF1ZXJ5fSk7cmV0dXJuXCJMQVNUXCI9PT10LmxpbWl0VHlwZT9EbyhlLGUubGltaXQsXCJMXCIpOmV9dmFyIFZ1PShVdS5wcm90b3R5cGUuZ2V0QnVuZGxlTWV0YWRhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcXUodCkuZ2V0KGUpLm5leHQoZnVuY3Rpb24odCl7aWYodClyZXR1cm57aWQ6KHQ9dCkuYnVuZGxlSWQsY3JlYXRlVGltZTpPdSh0LmNyZWF0ZVRpbWUpLHZlcnNpb246dC52ZXJzaW9ufX0pfSxVdS5wcm90b3R5cGUuc2F2ZUJ1bmRsZU1ldGFkYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHF1KHQpLnB1dCh7YnVuZGxlSWQ6KGU9ZSkuaWQsY3JlYXRlVGltZTp4dShhYShlLmNyZWF0ZVRpbWUpKSx2ZXJzaW9uOmUudmVyc2lvbn0pfSxVdS5wcm90b3R5cGUuZ2V0TmFtZWRRdWVyeT1mdW5jdGlvbih0LGUpe3JldHVybiBCdSh0KS5nZXQoZSkubmV4dChmdW5jdGlvbih0KXtpZih0KXJldHVybntuYW1lOih0PXQpLm5hbWUscXVlcnk6RnUodC5idW5kbGVkUXVlcnkpLHJlYWRUaW1lOk91KHQucmVhZFRpbWUpfX0pfSxVdS5wcm90b3R5cGUuc2F2ZU5hbWVkUXVlcnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gQnUodCkucHV0KHtuYW1lOihlPWUpLm5hbWUscmVhZFRpbWU6eHUoYWEoZS5yZWFkVGltZSkpLGJ1bmRsZWRRdWVyeTplLmJ1bmRsZWRRdWVyeX0pfSxVdSk7ZnVuY3Rpb24gVXUoKXt9ZnVuY3Rpb24gcXUodCl7cmV0dXJuIHd1KHQsV2Euc3RvcmUpfWZ1bmN0aW9uIEJ1KHQpe3JldHVybiB3dSh0LFlhLnN0b3JlKX12YXIganU9KEh1LnByb3RvdHlwZS5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLkJ0LmFkZChlKSx0dS5yZXNvbHZlKCl9LEh1LnByb3RvdHlwZS5nZXRDb2xsZWN0aW9uUGFyZW50cz1mdW5jdGlvbih0LGUpe3JldHVybiB0dS5yZXNvbHZlKHRoaXMuQnQuZ2V0RW50cmllcyhlKSl9LEh1KSxLdT0oenUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZT10Lmxhc3RTZWdtZW50KCksbj10LnBvcExhc3QoKSxyPXRoaXMuaW5kZXhbZV18fG5ldyBPcygkci5jb21wYXJhdG9yKSx0PSFyLmhhcyhuKTtyZXR1cm4gdGhpcy5pbmRleFtlXT1yLmFkZChuKSx0fSx6dS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3ZhciBlPXQubGFzdFNlZ21lbnQoKSx0PXQucG9wTGFzdCgpLGU9dGhpcy5pbmRleFtlXTtyZXR1cm4gZSYmZS5oYXModCl9LHp1LnByb3RvdHlwZS5nZXRFbnRyaWVzPWZ1bmN0aW9uKHQpe3JldHVybih0aGlzLmluZGV4W3RdfHxuZXcgT3MoJHIuY29tcGFyYXRvcikpLnRvQXJyYXkoKX0senUpLEd1PShRdS5wcm90b3R5cGUuYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXg9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKHRoaXMucXQuaGFzKGUpKXJldHVybiB0dS5yZXNvbHZlKCk7dmFyIHI9ZS5sYXN0U2VnbWVudCgpLGk9ZS5wb3BMYXN0KCk7dC5hZGRPbkNvbW1pdHRlZExpc3RlbmVyKGZ1bmN0aW9uKCl7bi5xdC5hZGQoZSl9KTtpPXtjb2xsZWN0aW9uSWQ6cixwYXJlbnQ6Q2EoaSl9O3JldHVybiBXdSh0KS5wdXQoaSl9LFF1LnByb3RvdHlwZS5nZXRDb2xsZWN0aW9uUGFyZW50cz1mdW5jdGlvbih0LGkpe3ZhciBvPVtdLGU9SURCS2V5UmFuZ2UuYm91bmQoW2ksXCJcIl0sW2pyKGkpLFwiXCJdLCExLCEwKTtyZXR1cm4gV3UodCkuTnQoZSkubmV4dChmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXQ7ZTxuLmxlbmd0aDtlKyspe3ZhciByPW5bZV07aWYoci5jb2xsZWN0aW9uSWQhPT1pKWJyZWFrO28ucHVzaCh4YShyLnBhcmVudCkpfXJldHVybiBvfSl9LFF1KTtmdW5jdGlvbiBRdSgpe3RoaXMucXQ9bmV3IEt1fWZ1bmN0aW9uIHp1KCl7dGhpcy5pbmRleD17fX1mdW5jdGlvbiBIdSgpe3RoaXMuQnQ9bmV3IEt1fWZ1bmN0aW9uIFd1KHQpe3JldHVybiB3dSh0LHphLnN0b3JlKX12YXIgWXU9e2RpZFJ1bjohMSxzZXF1ZW5jZU51bWJlcnNDb2xsZWN0ZWQ6MCx0YXJnZXRzUmVtb3ZlZDowLGRvY3VtZW50c1JlbW92ZWQ6MH0sWHU9KEp1LndpdGhDYWNoZVNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBKdSh0LEp1LkRFRkFVTFRfQ09MTEVDVElPTl9QRVJDRU5USUxFLEp1LkRFRkFVTFRfTUFYX1NFUVVFTkNFX05VTUJFUlNfVE9fQ09MTEVDVCl9LEp1KTtmdW5jdGlvbiBKdSh0LGUsbil7dGhpcy5jYWNoZVNpemVDb2xsZWN0aW9uVGhyZXNob2xkPXQsdGhpcy5wZXJjZW50aWxlVG9Db2xsZWN0PWUsdGhpcy5tYXhpbXVtU2VxdWVuY2VOdW1iZXJzVG9Db2xsZWN0PW59ZnVuY3Rpb24gJHUodCxlLG4pe3ZhciByPXQuc3RvcmUoTWEuc3RvcmUpLGk9dC5zdG9yZShGYS5zdG9yZSksbz1bXSx0PUlEQktleVJhbmdlLm9ubHkobi5iYXRjaElkKSxzPTAsdD1yLk90KHtyYW5nZTp0fSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIHMrKyxuLmRlbGV0ZSgpfSk7by5wdXNoKHQubmV4dChmdW5jdGlvbigpe0ZyKDE9PT1zKX0pKTtmb3IodmFyIGE9W10sdT0wLGM9bi5tdXRhdGlvbnM7dTxjLmxlbmd0aDt1Kyspe3ZhciBoPWNbdV0sbD1GYS5rZXkoZSxoLmtleS5wYXRoLG4uYmF0Y2hJZCk7by5wdXNoKGkuZGVsZXRlKGwpKSxhLnB1c2goaC5rZXkpfXJldHVybiB0dS53YWl0Rm9yKG8pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gYX0pfWZ1bmN0aW9uIFp1KHQpe2lmKCF0KXJldHVybiAwO3ZhciBlO2lmKHQuZG9jdW1lbnQpZT10LmRvY3VtZW50O2Vsc2UgaWYodC51bmtub3duRG9jdW1lbnQpZT10LnVua25vd25Eb2N1bWVudDtlbHNle2lmKCF0Lm5vRG9jdW1lbnQpdGhyb3cgTXIoKTtlPXQubm9Eb2N1bWVudH1yZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSkubGVuZ3RofVh1LkRFRkFVTFRfQ09MTEVDVElPTl9QRVJDRU5USUxFPTEwLFh1LkRFRkFVTFRfTUFYX1NFUVVFTkNFX05VTUJFUlNfVE9fQ09MTEVDVD0xZTMsWHUuREVGQVVMVD1uZXcgWHUoNDE5NDMwNDAsWHUuREVGQVVMVF9DT0xMRUNUSU9OX1BFUkNFTlRJTEUsWHUuREVGQVVMVF9NQVhfU0VRVUVOQ0VfTlVNQkVSU19UT19DT0xMRUNUKSxYdS5ESVNBQkxFRD1uZXcgWHUoLTEsMCwwKTt2YXIgdGM9KGVjLkt0PWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBGcihcIlwiIT09dC51aWQpLG5ldyBlYyh0LmlzQXV0aGVudGljYXRlZCgpP3QudWlkOlwiXCIsZSxuLHIpfSxlYy5wcm90b3R5cGUuY2hlY2tFbXB0eT1mdW5jdGlvbih0KXt2YXIgcj0hMCxlPUlEQktleVJhbmdlLmJvdW5kKFt0aGlzLnVzZXJJZCxOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFldLFt0aGlzLnVzZXJJZCxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFldKTtyZXR1cm4gcmModCkuT3Qoe2luZGV4Ok1hLnVzZXJNdXRhdGlvbnNJbmRleCxyYW5nZTplfSxmdW5jdGlvbih0LGUsbil7cj0hMSxuLmRvbmUoKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gcn0pfSxlYy5wcm90b3R5cGUuYWRkTXV0YXRpb25CYXRjaD1mdW5jdGlvbihwLHksZyxtKXt2YXIgdj10aGlzLGI9aWMocCksdz1yYyhwKTtyZXR1cm4gdy5hZGQoe30pLm5leHQoZnVuY3Rpb24odCl7RnIoXCJudW1iZXJcIj09dHlwZW9mIHQpO2Zvcih2YXIgZSxuLHIsaSxvLHM9bmV3IEl1KHQseSxnLG0pLGE9KGU9di5SLG49di51c2VySWQsaT0ocj1zKS5iYXNlTXV0YXRpb25zLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdmEoZS5MdCx0KX0pLG89ci5tdXRhdGlvbnMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB2YShlLkx0LHQpfSksbmV3IE1hKG4sci5iYXRjaElkLHIubG9jYWxXcml0ZVRpbWUudG9NaWxsaXMoKSxpLG8pKSx1PVtdLGM9bmV3IE9zKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHFyKHQuY2Fub25pY2FsU3RyaW5nKCksZS5jYW5vbmljYWxTdHJpbmcoKSl9KSxoPTAsbD1tO2g8bC5sZW5ndGg7aCsrKXt2YXIgZj1sW2hdLGQ9RmEua2V5KHYudXNlcklkLGYua2V5LnBhdGgsdCksYz1jLmFkZChmLmtleS5wYXRoLnBvcExhc3QoKSk7dS5wdXNoKHcucHV0KGEpKSx1LnB1c2goYi5wdXQoZCxGYS5QTEFDRUhPTERFUikpfXJldHVybiBjLmZvckVhY2goZnVuY3Rpb24odCl7dS5wdXNoKHYuVXQuYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXgocCx0KSl9KSxwLmFkZE9uQ29tbWl0dGVkTGlzdGVuZXIoZnVuY3Rpb24oKXt2LlF0W3RdPXMua2V5cygpfSksdHUud2FpdEZvcih1KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHN9KX0pfSxlYy5wcm90b3R5cGUubG9va3VwTXV0YXRpb25CYXRjaD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHJjKHQpLmdldChlKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0PyhGcih0LnVzZXJJZD09PW4udXNlcklkKSxMdShuLlIsdCkpOm51bGx9KX0sZWMucHJvdG90eXBlLmp0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5RdFtlXT90dS5yZXNvbHZlKHRoaXMuUXRbZV0pOnRoaXMubG9va3VwTXV0YXRpb25CYXRjaCh0LGUpLm5leHQoZnVuY3Rpb24odCl7aWYodCl7dD10LmtleXMoKTtyZXR1cm4gbi5RdFtlXT10fXJldHVybiBudWxsfSl9LGVjLnByb3RvdHlwZS5nZXROZXh0TXV0YXRpb25CYXRjaEFmdGVyQmF0Y2hJZD1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMsaT1lKzEsZT1JREJLZXlSYW5nZS5sb3dlckJvdW5kKFt0aGlzLnVzZXJJZCxpXSksbz1udWxsO3JldHVybiByYyh0KS5PdCh7aW5kZXg6TWEudXNlck11dGF0aW9uc0luZGV4LHJhbmdlOmV9LGZ1bmN0aW9uKHQsZSxuKXtlLnVzZXJJZD09PXIudXNlcklkJiYoRnIoZS5iYXRjaElkPj1pKSxvPUx1KHIuUixlKSksbi5kb25lKCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG99KX0sZWMucHJvdG90eXBlLmdldEhpZ2hlc3RVbmFja25vd2xlZGdlZEJhdGNoSWQ9ZnVuY3Rpb24odCl7dmFyIGU9SURCS2V5UmFuZ2UudXBwZXJCb3VuZChbdGhpcy51c2VySWQsTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXSkscj0tMTtyZXR1cm4gcmModCkuT3Qoe2luZGV4Ok1hLnVzZXJNdXRhdGlvbnNJbmRleCxyYW5nZTplLHJldmVyc2U6ITB9LGZ1bmN0aW9uKHQsZSxuKXtyPWUuYmF0Y2hJZCxuLmRvbmUoKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gcn0pfSxlYy5wcm90b3R5cGUuZ2V0QWxsTXV0YXRpb25CYXRjaGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1JREJLZXlSYW5nZS5ib3VuZChbdGhpcy51c2VySWQsLTFdLFt0aGlzLnVzZXJJZCxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFldKTtyZXR1cm4gcmModCkuTnQoTWEudXNlck11dGF0aW9uc0luZGV4LG4pLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBMdShlLlIsdCl9KX0pfSxlYy5wcm90b3R5cGUuZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXk9ZnVuY3Rpb24obyxzKXt2YXIgYT10aGlzLHQ9RmEucHJlZml4Rm9yUGF0aCh0aGlzLnVzZXJJZCxzLnBhdGgpLHQ9SURCS2V5UmFuZ2UubG93ZXJCb3VuZCh0KSx1PVtdO3JldHVybiBpYyhvKS5PdCh7cmFuZ2U6dH0sZnVuY3Rpb24odCxlLG4pe3ZhciByPXRbMF0saT10WzFdLHQ9dFsyXSxpPXhhKGkpO2lmKHI9PT1hLnVzZXJJZCYmcy5wYXRoLmlzRXF1YWwoaSkpcmV0dXJuIHJjKG8pLmdldCh0KS5uZXh0KGZ1bmN0aW9uKHQpe2lmKCF0KXRocm93IE1yKCk7RnIodC51c2VySWQ9PT1hLnVzZXJJZCksdS5wdXNoKEx1KGEuUix0KSl9KTtuLmRvbmUoKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdX0pfSxlYy5wcm90b3R5cGUuZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXlzPWZ1bmN0aW9uKGUsdCl7dmFyIHM9dGhpcyxhPW5ldyBPcyhxciksbj1bXTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciB0PUZhLnByZWZpeEZvclBhdGgocy51c2VySWQsby5wYXRoKSx0PUlEQktleVJhbmdlLmxvd2VyQm91bmQodCksdD1pYyhlKS5PdCh7cmFuZ2U6dH0sZnVuY3Rpb24odCxlLG4pe3ZhciByPXRbMF0saT10WzFdLHQ9dFsyXSxpPXhhKGkpO3I9PT1zLnVzZXJJZCYmby5wYXRoLmlzRXF1YWwoaSk/YT1hLmFkZCh0KTpuLmRvbmUoKX0pO24ucHVzaCh0KX0pLHR1LndhaXRGb3IobikubmV4dChmdW5jdGlvbigpe3JldHVybiBzLld0KGUsYSl9KX0sZWMucHJvdG90eXBlLmdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ1F1ZXJ5PWZ1bmN0aW9uKHQsZSl7dmFyIG89dGhpcyxzPWUucGF0aCxhPXMubGVuZ3RoKzEsZT1GYS5wcmVmaXhGb3JQYXRoKHRoaXMudXNlcklkLHMpLGU9SURCS2V5UmFuZ2UubG93ZXJCb3VuZChlKSx1PW5ldyBPcyhxcik7cmV0dXJuIGljKHQpLk90KHtyYW5nZTplfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9dFswXSxpPXRbMV0sdD10WzJdLGk9eGEoaSk7cj09PW8udXNlcklkJiZzLmlzUHJlZml4T2YoaSk/aS5sZW5ndGg9PT1hJiYodT11LmFkZCh0KSk6bi5kb25lKCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG8uV3QodCx1KX0pfSxlYy5wcm90b3R5cGUuV3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9W10saT1bXTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe2kucHVzaChyYyhlKS5nZXQodCkubmV4dChmdW5jdGlvbih0KXtpZihudWxsPT09dCl0aHJvdyBNcigpO0ZyKHQudXNlcklkPT09bi51c2VySWQpLHIucHVzaChMdShuLlIsdCkpfSkpfSksdHUud2FpdEZvcihpKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KX0sZWMucHJvdG90eXBlLnJlbW92ZU11dGF0aW9uQmF0Y2g9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzO3JldHVybiAkdShlLk10LHRoaXMudXNlcklkLG4pLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIGUuYWRkT25Db21taXR0ZWRMaXN0ZW5lcihmdW5jdGlvbigpe3IuR3Qobi5iYXRjaElkKX0pLHR1LmZvckVhY2godCxmdW5jdGlvbih0KXtyZXR1cm4gci5yZWZlcmVuY2VEZWxlZ2F0ZS5tYXJrUG90ZW50aWFsbHlPcnBoYW5lZChlLHQpfSl9KX0sZWMucHJvdG90eXBlLkd0PWZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLlF0W3RdfSxlYy5wcm90b3R5cGUucGVyZm9ybUNvbnNpc3RlbmN5Q2hlY2s9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy5jaGVja0VtcHR5KGUpLm5leHQoZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIHR1LnJlc29sdmUoKTt2YXIgdD1JREJLZXlSYW5nZS5sb3dlckJvdW5kKEZhLnByZWZpeEZvclVzZXIoaS51c2VySWQpKSxyPVtdO3JldHVybiBpYyhlKS5PdCh7cmFuZ2U6dH0sZnVuY3Rpb24odCxlLG4pe3RbMF09PT1pLnVzZXJJZD8odD14YSh0WzFdKSxyLnB1c2godCkpOm4uZG9uZSgpfSkubmV4dChmdW5jdGlvbigpe0ZyKDA9PT1yLmxlbmd0aCl9KX0pfSxlYy5wcm90b3R5cGUuY29udGFpbnNLZXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmModCx0aGlzLnVzZXJJZCxlKX0sZWMucHJvdG90eXBlLnp0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG9jKHQpLmdldCh0aGlzLnVzZXJJZCkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdHx8bmV3IFBhKGUudXNlcklkLC0xLFwiXCIpfSl9LGVjKTtmdW5jdGlvbiBlYyh0LGUsbixyKXt0aGlzLnVzZXJJZD10LHRoaXMuUj1lLHRoaXMuVXQ9bix0aGlzLnJlZmVyZW5jZURlbGVnYXRlPXIsdGhpcy5RdD17fX1mdW5jdGlvbiBuYyh0LG8sZSl7dmFyIGU9RmEucHJlZml4Rm9yUGF0aChvLGUucGF0aCkscz1lWzFdLGU9SURCS2V5UmFuZ2UubG93ZXJCb3VuZChlKSxhPSExO3JldHVybiBpYyh0KS5PdCh7cmFuZ2U6ZSxrdDohMH0sZnVuY3Rpb24odCxlLG4pe3ZhciByPXRbMF0saT10WzFdO3RbMl0scj09PW8mJmk9PT1zJiYoYT0hMCksbi5kb25lKCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGF9KX1mdW5jdGlvbiByYyh0KXtyZXR1cm4gd3UodCxNYS5zdG9yZSl9ZnVuY3Rpb24gaWModCl7cmV0dXJuIHd1KHQsRmEuc3RvcmUpfWZ1bmN0aW9uIG9jKHQpe3JldHVybiB3dSh0LFBhLnN0b3JlKX12YXIgc2M9KGNjLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSHQrPTIsdGhpcy5IdH0sY2MuSnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGNjKDApfSxjYy5ZdD1mdW5jdGlvbigpe3JldHVybiBuZXcgY2MoLTEpfSxjYyksYWM9KHVjLnByb3RvdHlwZS5hbGxvY2F0ZVRhcmdldElkPWZ1bmN0aW9uKG4pe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMuWHQobikubmV4dChmdW5jdGlvbih0KXt2YXIgZT1uZXcgc2ModC5oaWdoZXN0VGFyZ2V0SWQpO3JldHVybiB0LmhpZ2hlc3RUYXJnZXRJZD1lLm5leHQoKSxyLlp0KG4sdCkubmV4dChmdW5jdGlvbigpe3JldHVybiB0LmhpZ2hlc3RUYXJnZXRJZH0pfSl9LHVjLnByb3RvdHlwZS5nZXRMYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlh0KHQpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIEdyLmZyb21UaW1lc3RhbXAobmV3IEtyKHQubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbi5zZWNvbmRzLHQubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbi5uYW5vc2Vjb25kcykpfSl9LHVjLnByb3RvdHlwZS5nZXRIaWdoZXN0U2VxdWVuY2VOdW1iZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuWHQodCkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdC5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXJ9KX0sdWMucHJvdG90eXBlLnNldFRhcmdldHNNZXRhZGF0YT1mdW5jdGlvbihlLG4scil7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy5YdChlKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0LmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcj1uLHImJih0Lmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb249ci50b1RpbWVzdGFtcCgpKSxuPnQuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyJiYodC5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXI9biksaS5adChlLHQpfSl9LHVjLnByb3RvdHlwZS5hZGRUYXJnZXREYXRhPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy50ZShlLG4pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gci5YdChlKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0LnRhcmdldENvdW50Kz0xLHIuZWUobix0KSxyLlp0KGUsdCl9KX0pfSx1Yy5wcm90b3R5cGUudXBkYXRlVGFyZ2V0RGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRlKHQsZSl9LHVjLnByb3RvdHlwZS5yZW1vdmVUYXJnZXREYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5yZW1vdmVNYXRjaGluZ0tleXNGb3JUYXJnZXRJZChlLHQudGFyZ2V0SWQpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gaGMoZSkuZGVsZXRlKHQudGFyZ2V0SWQpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBuLlh0KGUpfSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gRnIoMDx0LnRhcmdldENvdW50KSwtLXQudGFyZ2V0Q291bnQsbi5adChlLHQpfSl9LHVjLnByb3RvdHlwZS5yZW1vdmVUYXJnZXRzPWZ1bmN0aW9uKG4scixpKXt2YXIgbz10aGlzLHM9MCxhPVtdO3JldHVybiBoYyhuKS5PdChmdW5jdGlvbih0LGUpe2U9UHUoZSk7ZS5zZXF1ZW5jZU51bWJlcjw9ciYmbnVsbD09PWkuZ2V0KGUudGFyZ2V0SWQpJiYocysrLGEucHVzaChvLnJlbW92ZVRhcmdldERhdGEobixlKSkpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiB0dS53YWl0Rm9yKGEpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBzfSl9LHVjLnByb3RvdHlwZS5mb3JFYWNoVGFyZ2V0PWZ1bmN0aW9uKHQsbil7cmV0dXJuIGhjKHQpLk90KGZ1bmN0aW9uKHQsZSl7ZT1QdShlKTtuKGUpfSl9LHVjLnByb3RvdHlwZS5YdD1mdW5jdGlvbih0KXtyZXR1cm4gbGModCkuZ2V0KFFhLmtleSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gRnIobnVsbCE9PXQpLHR9KX0sdWMucHJvdG90eXBlLlp0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGxjKHQpLnB1dChRYS5rZXksZSl9LHVjLnByb3RvdHlwZS50ZT1mdW5jdGlvbih0LGUpe3JldHVybiBoYyh0KS5wdXQoTXUodGhpcy5SLGUpKX0sdWMucHJvdG90eXBlLmVlPWZ1bmN0aW9uKHQsZSl7dmFyIG49ITE7cmV0dXJuIHQudGFyZ2V0SWQ+ZS5oaWdoZXN0VGFyZ2V0SWQmJihlLmhpZ2hlc3RUYXJnZXRJZD10LnRhcmdldElkLG49ITApLHQuc2VxdWVuY2VOdW1iZXI+ZS5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXImJihlLmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcj10LnNlcXVlbmNlTnVtYmVyLG49ITApLG59LHVjLnByb3RvdHlwZS5nZXRUYXJnZXRDb3VudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5YdCh0KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0LnRhcmdldENvdW50fSl9LHVjLnByb3RvdHlwZS5nZXRUYXJnZXREYXRhPWZ1bmN0aW9uKHQscil7dmFyIGU9RmkociksZT1JREJLZXlSYW5nZS5ib3VuZChbZSxOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFldLFtlLE51bWJlci5QT1NJVElWRV9JTkZJTklUWV0pLGk9bnVsbDtyZXR1cm4gaGModCkuT3Qoe3JhbmdlOmUsaW5kZXg6S2EucXVlcnlUYXJnZXRzSW5kZXhOYW1lfSxmdW5jdGlvbih0LGUsbil7ZT1QdShlKTtWaShyLGUudGFyZ2V0KSYmKGk9ZSxuLmRvbmUoKSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGl9KX0sdWMucHJvdG90eXBlLmFkZE1hdGNoaW5nS2V5cz1mdW5jdGlvbihuLHQscil7dmFyIGk9dGhpcyxvPVtdLHM9ZmMobik7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1DYSh0LnBhdGgpO28ucHVzaChzLnB1dChuZXcgR2EocixlKSkpLG8ucHVzaChpLnJlZmVyZW5jZURlbGVnYXRlLmFkZFJlZmVyZW5jZShuLHIsdCkpfSksdHUud2FpdEZvcihvKX0sdWMucHJvdG90eXBlLnJlbW92ZU1hdGNoaW5nS2V5cz1mdW5jdGlvbihuLHQscil7dmFyIGk9dGhpcyxvPWZjKG4pO3JldHVybiB0dS5mb3JFYWNoKHQsZnVuY3Rpb24odCl7dmFyIGU9Q2EodC5wYXRoKTtyZXR1cm4gdHUud2FpdEZvcihbby5kZWxldGUoW3IsZV0pLGkucmVmZXJlbmNlRGVsZWdhdGUucmVtb3ZlUmVmZXJlbmNlKG4scix0KV0pfSl9LHVjLnByb3RvdHlwZS5yZW1vdmVNYXRjaGluZ0tleXNGb3JUYXJnZXRJZD1mdW5jdGlvbih0LGUpe3Q9ZmModCksZT1JREJLZXlSYW5nZS5ib3VuZChbZV0sW2UrMV0sITEsITApO3JldHVybiB0LmRlbGV0ZShlKX0sdWMucHJvdG90eXBlLmdldE1hdGNoaW5nS2V5c0ZvclRhcmdldElkPWZ1bmN0aW9uKHQsZSl7dmFyIGU9SURCS2V5UmFuZ2UuYm91bmQoW2VdLFtlKzFdLCExLCEwKSx0PWZjKHQpLHI9QnMoKTtyZXR1cm4gdC5PdCh7cmFuZ2U6ZSxrdDohMH0sZnVuY3Rpb24odCxlLG4pe3Q9eGEodFsxXSksdD1uZXcgbWkodCk7cj1yLmFkZCh0KX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gcn0pfSx1Yy5wcm90b3R5cGUuY29udGFpbnNLZXk9ZnVuY3Rpb24odCxlKXt2YXIgZT1DYShlLnBhdGgpLGU9SURCS2V5UmFuZ2UuYm91bmQoW2VdLFtqcihlKV0sITEsITApLGk9MDtyZXR1cm4gZmModCkuT3Qoe2luZGV4OkdhLmRvY3VtZW50VGFyZ2V0c0luZGV4LGt0OiEwLHJhbmdlOmV9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10WzBdO3RbMV0sMCE9PXImJihpKyssbi5kb25lKCkpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiAwPGl9KX0sdWMucHJvdG90eXBlLmx0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhjKHQpLmdldChlKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0P1B1KHQpOm51bGx9KX0sdWMpO2Z1bmN0aW9uIHVjKHQsZSl7dGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZT10LHRoaXMuUj1lfWZ1bmN0aW9uIGNjKHQpe3RoaXMuSHQ9dH1mdW5jdGlvbiBoYyh0KXtyZXR1cm4gd3UodCxLYS5zdG9yZSl9ZnVuY3Rpb24gbGModCl7cmV0dXJuIHd1KHQsUWEuc3RvcmUpfWZ1bmN0aW9uIGZjKHQpe3JldHVybiB3dSh0LEdhLnN0b3JlKX1mdW5jdGlvbiBkYyhlKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe2lmKGUuY29kZSE9PURyLkZBSUxFRF9QUkVDT05ESVRJT058fGUubWVzc2FnZSE9PSRhKXRocm93IGU7cmV0dXJuIHhyKFwiTG9jYWxTdG9yZVwiLFwiVW5leHBlY3RlZGx5IGxvc3QgcHJpbWFyeSBsZWFzZVwiKSxbMl19KX0pfWZ1bmN0aW9uIHBjKHQsZSl7dmFyIG49dFswXSxyPXRbMV0sdD1lWzBdLGU9ZVsxXSx0PXFyKG4sdCk7cmV0dXJuIDA9PT10P3FyKHIsZSk6dH12YXIgeWM9KEVjLnByb3RvdHlwZS5pZT1mdW5jdGlvbigpe3JldHVybisrdGhpcy5zZX0sRWMucHJvdG90eXBlLnJlPWZ1bmN0aW9uKHQpe3ZhciBlPVt0LHRoaXMuaWUoKV07dGhpcy5idWZmZXIuc2l6ZTx0aGlzLm5lP3RoaXMuYnVmZmVyPXRoaXMuYnVmZmVyLmFkZChlKTpwYyhlLHQ9dGhpcy5idWZmZXIubGFzdCgpKTwwJiYodGhpcy5idWZmZXI9dGhpcy5idWZmZXIuZGVsZXRlKHQpLmFkZChlKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFYy5wcm90b3R5cGUsXCJtYXhWYWx1ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWZmZXIubGFzdCgpWzBdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLEVjKSxnYz0oSWMucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKHQpey0xIT09dGhpcy5nYXJiYWdlQ29sbGVjdG9yLnBhcmFtcy5jYWNoZVNpemVDb2xsZWN0aW9uVGhyZXNob2xkJiZ0aGlzLnVlKHQpfSxJYy5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuY2UmJih0aGlzLmNlLmNhbmNlbCgpLHRoaXMuY2U9bnVsbCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJYy5wcm90b3R5cGUsXCJzdGFydGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5jZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxJYy5wcm90b3R5cGUudWU9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxlPXRoaXMub2U/M2U1OjZlNDt4cihcIkxydUdhcmJhZ2VDb2xsZWN0b3JcIixcIkdhcmJhZ2UgY29sbGVjdGlvbiBzY2hlZHVsZWQgaW4gXCIrZStcIm1zXCIpLHRoaXMuY2U9dGhpcy5hc3luY1F1ZXVlLmVucXVldWVBZnRlckRlbGF5KFwibHJ1X2dhcmJhZ2VfY29sbGVjdGlvblwiLGUsZnVuY3Rpb24oKXtyZXR1cm4geSh0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6dGhpcy5jZT1udWxsLHRoaXMub2U9ITAsdC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdC50cnlzLnB1c2goWzEsMywsN10pLFs0LG4uY29sbGVjdEdhcmJhZ2UodGhpcy5nYXJiYWdlQ29sbGVjdG9yKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSxbMyw3XTtjYXNlIDM6cmV0dXJuIGx1KGU9dC5zZW50KCkpPyh4cihcIkxydUdhcmJhZ2VDb2xsZWN0b3JcIixcIklnbm9yaW5nIEluZGV4ZWREQiBlcnJvciBkdXJpbmcgZ2FyYmFnZSBjb2xsZWN0aW9uOiBcIixlKSxbMyw2XSk6WzMsNF07Y2FzZSA0OnJldHVybls0LGRjKGUpXTtjYXNlIDU6dC5zZW50KCksdC5sYWJlbD02O2Nhc2UgNjpyZXR1cm5bMyw3XTtjYXNlIDc6cmV0dXJuWzQsdGhpcy51ZShuKV07Y2FzZSA4OnJldHVybiB0LnNlbnQoKSxbMl19fSl9KX0pfSxJYyksbWM9KHdjLnByb3RvdHlwZS5jYWxjdWxhdGVUYXJnZXRDb3VudD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFlLmhlKHQpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguZmxvb3IoZS8xMDAqdCl9KX0sd2MucHJvdG90eXBlLm50aFNlcXVlbmNlTnVtYmVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZigwPT09ZSlyZXR1cm4gdHUucmVzb2x2ZShfci5vKTt2YXIgcj1uZXcgeWMoZSk7cmV0dXJuIHRoaXMuYWUuZm9yRWFjaFRhcmdldCh0LGZ1bmN0aW9uKHQpe3JldHVybiByLnJlKHQuc2VxdWVuY2VOdW1iZXIpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBuLmFlLmxlKHQsZnVuY3Rpb24odCl7cmV0dXJuIHIucmUodCl9KX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gci5tYXhWYWx1ZX0pfSx3Yy5wcm90b3R5cGUucmVtb3ZlVGFyZ2V0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuYWUucmVtb3ZlVGFyZ2V0cyh0LGUsbil9LHdjLnByb3RvdHlwZS5yZW1vdmVPcnBoYW5lZERvY3VtZW50cz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFlLnJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzKHQsZSl9LHdjLnByb3RvdHlwZS5jb2xsZWN0PWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcztyZXR1cm4tMT09PXRoaXMucGFyYW1zLmNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQ/KHhyKFwiTHJ1R2FyYmFnZUNvbGxlY3RvclwiLFwiR2FyYmFnZSBjb2xsZWN0aW9uIHNraXBwZWQ7IGRpc2FibGVkXCIpLHR1LnJlc29sdmUoWXUpKTp0aGlzLmdldENhY2hlU2l6ZShlKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0PHIucGFyYW1zLmNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQ/KHhyKFwiTHJ1R2FyYmFnZUNvbGxlY3RvclwiLFwiR2FyYmFnZSBjb2xsZWN0aW9uIHNraXBwZWQ7IENhY2hlIHNpemUgXCIrdCtcIiBpcyBsb3dlciB0aGFuIHRocmVzaG9sZCBcIityLnBhcmFtcy5jYWNoZVNpemVDb2xsZWN0aW9uVGhyZXNob2xkKSxZdSk6ci5mZShlLG4pfSl9LHdjLnByb3RvdHlwZS5nZXRDYWNoZVNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYWUuZ2V0Q2FjaGVTaXplKHQpfSx3Yy5wcm90b3R5cGUuZmU9ZnVuY3Rpb24oZSxuKXt2YXIgcixpLG8scyxhLHUsYyxoPXRoaXMsbD1EYXRlLm5vdygpO3JldHVybiB0aGlzLmNhbGN1bGF0ZVRhcmdldENvdW50KGUsdGhpcy5wYXJhbXMucGVyY2VudGlsZVRvQ29sbGVjdCkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gaT10PmgucGFyYW1zLm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3Q/KHhyKFwiTHJ1R2FyYmFnZUNvbGxlY3RvclwiLFwiQ2FwcGluZyBzZXF1ZW5jZSBudW1iZXJzIHRvIGNvbGxlY3QgZG93biB0byB0aGUgbWF4aW11bSBvZiBcIitoLnBhcmFtcy5tYXhpbXVtU2VxdWVuY2VOdW1iZXJzVG9Db2xsZWN0K1wiIGZyb20gXCIrdCksaC5wYXJhbXMubWF4aW11bVNlcXVlbmNlTnVtYmVyc1RvQ29sbGVjdCk6dCxzPURhdGUubm93KCksaC5udGhTZXF1ZW5jZU51bWJlcihlLGkpfSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gcj10LGE9RGF0ZS5ub3coKSxoLnJlbW92ZVRhcmdldHMoZSxyLG4pfSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gbz10LHU9RGF0ZS5ub3coKSxoLnJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzKGUscil9KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBjPURhdGUubm93KCksUnIoKTw9Zi5ERUJVRyYmeHIoXCJMcnVHYXJiYWdlQ29sbGVjdG9yXCIsXCJMUlUgR2FyYmFnZSBDb2xsZWN0aW9uXFxuXFx0Q291bnRlZCB0YXJnZXRzIGluIFwiKyhzLWwpK1wibXNcXG5cXHREZXRlcm1pbmVkIGxlYXN0IHJlY2VudGx5IHVzZWQgXCIraStcIiBpbiBcIisoYS1zKStcIm1zXFxuXFx0UmVtb3ZlZCBcIitvK1wiIHRhcmdldHMgaW4gXCIrKHUtYSkrXCJtc1xcblxcdFJlbW92ZWQgXCIrdCtcIiBkb2N1bWVudHMgaW4gXCIrKGMtdSkrXCJtc1xcblRvdGFsIER1cmF0aW9uOiBcIisoYy1sKStcIm1zXCIpLHR1LnJlc29sdmUoe2RpZFJ1bjohMCxzZXF1ZW5jZU51bWJlcnNDb2xsZWN0ZWQ6aSx0YXJnZXRzUmVtb3ZlZDpvLGRvY3VtZW50c1JlbW92ZWQ6dH0pfSl9LHdjKSx2Yz0oYmMucHJvdG90eXBlLmhlPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZGUodCk7cmV0dXJuIHRoaXMuZGIuZ2V0VGFyZ2V0Q2FjaGUoKS5nZXRUYXJnZXRDb3VudCh0KS5uZXh0KGZ1bmN0aW9uKGUpe3JldHVybiBuLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIGUrdH0pfSl9LGJjLnByb3RvdHlwZS5kZT1mdW5jdGlvbih0KXt2YXIgZT0wO3JldHVybiB0aGlzLmxlKHQsZnVuY3Rpb24odCl7ZSsrfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBlfSl9LGJjLnByb3RvdHlwZS5mb3JFYWNoVGFyZ2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGIuZ2V0VGFyZ2V0Q2FjaGUoKS5mb3JFYWNoVGFyZ2V0KHQsZSl9LGJjLnByb3RvdHlwZS5sZT1mdW5jdGlvbih0LG4pe3JldHVybiB0aGlzLndlKHQsZnVuY3Rpb24odCxlKXtyZXR1cm4gbihlKX0pfSxiYy5wcm90b3R5cGUuYWRkUmVmZXJlbmNlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gVGModCxuKX0sYmMucHJvdG90eXBlLnJlbW92ZVJlZmVyZW5jZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFRjKHQsbil9LGJjLnByb3RvdHlwZS5yZW1vdmVUYXJnZXRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5kYi5nZXRUYXJnZXRDYWNoZSgpLnJlbW92ZVRhcmdldHModCxlLG4pfSxiYy5wcm90b3R5cGUubWFya1BvdGVudGlhbGx5T3JwaGFuZWQ9VGMsYmMucHJvdG90eXBlLl9lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHI9ZSxpPSExLG9jKG49dCkuJHQoZnVuY3Rpb24odCl7cmV0dXJuIG5jKG4sdCxyKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0JiYoaT0hMCksdHUucmVzb2x2ZSghdCl9KX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gaX0pO3ZhciBuLHIsaX0sYmMucHJvdG90eXBlLnJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzPWZ1bmN0aW9uKG4scil7dmFyIGk9dGhpcyxvPXRoaXMuZGIuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpLm5ld0NoYW5nZUJ1ZmZlcigpLHM9W10sYT0wO3JldHVybiB0aGlzLndlKG4sZnVuY3Rpb24oZSx0KXt0PD1yJiYodD1pLl9lKG4sZSkubmV4dChmdW5jdGlvbih0KXtpZighdClyZXR1cm4gYSsrLG8uZ2V0RW50cnkobixlKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG8ucmVtb3ZlRW50cnkoZSksZmMobikuZGVsZXRlKFswLENhKGUucGF0aCldKX0pfSkscy5wdXNoKHQpKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdHUud2FpdEZvcihzKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gby5hcHBseShuKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gYX0pfSxiYy5wcm90b3R5cGUucmVtb3ZlVGFyZ2V0PWZ1bmN0aW9uKHQsZSl7ZT1lLndpdGhTZXF1ZW5jZU51bWJlcih0LmN1cnJlbnRTZXF1ZW5jZU51bWJlcik7cmV0dXJuIHRoaXMuZGIuZ2V0VGFyZ2V0Q2FjaGUoKS51cGRhdGVUYXJnZXREYXRhKHQsZSl9LGJjLnByb3RvdHlwZS51cGRhdGVMaW1ib0RvY3VtZW50PVRjLGJjLnByb3RvdHlwZS53ZT1mdW5jdGlvbih0LHIpe3ZhciBpLHQ9ZmModCksbz1fci5vO3JldHVybiB0Lk90KHtpbmRleDpHYS5kb2N1bWVudFRhcmdldHNJbmRleH0sZnVuY3Rpb24odCxlKXt2YXIgbj10WzBdLHQ9KHRbMV0sZS5wYXRoKSxlPWUuc2VxdWVuY2VOdW1iZXI7MD09PW4/KG8hPT1fci5vJiZyKG5ldyBtaSh4YShpKSksbyksbz1lLGk9dCk6bz1fci5vfSkubmV4dChmdW5jdGlvbigpe28hPT1fci5vJiZyKG5ldyBtaSh4YShpKSksbyl9KX0sYmMucHJvdG90eXBlLmdldENhY2hlU2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYi5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCkuZ2V0U2l6ZSh0KX0sYmMpO2Z1bmN0aW9uIGJjKHQsZSl7dGhpcy5kYj10LHRoaXMuZ2FyYmFnZUNvbGxlY3Rvcj1uZXcgbWModGhpcyxlKX1mdW5jdGlvbiB3Yyh0LGUpe3RoaXMuYWU9dCx0aGlzLnBhcmFtcz1lfWZ1bmN0aW9uIEljKHQsZSl7dGhpcy5nYXJiYWdlQ29sbGVjdG9yPXQsdGhpcy5hc3luY1F1ZXVlPWUsdGhpcy5vZT0hMSx0aGlzLmNlPW51bGx9ZnVuY3Rpb24gRWModCl7dGhpcy5uZT10LHRoaXMuYnVmZmVyPW5ldyBPcyhwYyksdGhpcy5zZT0wfWZ1bmN0aW9uIFRjKHQsZSl7cmV0dXJuIGZjKHQpLnB1dCgodD10LmN1cnJlbnRTZXF1ZW5jZU51bWJlcixuZXcgR2EoMCxDYShlLnBhdGgpLHQpKSl9dmFyIF9jLFNjPShSYy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubWFwS2V5Rm4odCksZT10aGlzLmlubmVyW2VdO2lmKHZvaWQgMCE9PWUpZm9yKHZhciBuPTAscj1lO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dLG89aVswXSxpPWlbMV07aWYodGhpcy5lcXVhbHNGbihvLHQpKXJldHVybiBpfX0sUmMucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dGhpcy5nZXQodCl9LFJjLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm1hcEtleUZuKHQpLHI9dGhpcy5pbm5lcltuXTtpZih2b2lkIDAhPT1yKXtmb3IodmFyIGk9MDtpPHIubGVuZ3RoO2krKylpZih0aGlzLmVxdWFsc0ZuKHJbaV1bMF0sdCkpcmV0dXJuIHZvaWQocltpXT1bdCxlXSk7ci5wdXNoKFt0LGVdKX1lbHNlIHRoaXMuaW5uZXJbbl09W1t0LGVdXX0sUmMucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm1hcEtleUZuKHQpLG49dGhpcy5pbm5lcltlXTtpZih2b2lkIDA9PT1uKXJldHVybiExO2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKWlmKHRoaXMuZXF1YWxzRm4obltyXVswXSx0KSlyZXR1cm4gMT09PW4ubGVuZ3RoP2RlbGV0ZSB0aGlzLmlubmVyW2VdOm4uc3BsaWNlKHIsMSksITA7cmV0dXJuITF9LFJjLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHMpe1dyKHRoaXMuaW5uZXIsZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPWU7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl0sbz1pWzBdLGk9aVsxXTtzKG8saSl9fSl9LFJjLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIFlyKHRoaXMuaW5uZXIpfSxSYyksST0oQ2MucHJvdG90eXBlLmdldFJlYWRUaW1lPWZ1bmN0aW9uKHQpe3Q9dGhpcy5jaGFuZ2VzLmdldCh0KTtyZXR1cm4gdD90LnJlYWRUaW1lOkdyLm1pbigpfSxDYy5wcm90b3R5cGUuYWRkRW50cnk9ZnVuY3Rpb24odCxlKXt0aGlzLmFzc2VydE5vdEFwcGxpZWQoKSx0aGlzLmNoYW5nZXMuc2V0KHQua2V5LHtkb2N1bWVudDp0LHJlYWRUaW1lOmV9KX0sQ2MucHJvdG90eXBlLnJlbW92ZUVudHJ5PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9bnVsbCksdGhpcy5hc3NlcnROb3RBcHBsaWVkKCksdGhpcy5jaGFuZ2VzLnNldCh0LHtkb2N1bWVudDpPaS5uZXdJbnZhbGlkRG9jdW1lbnQodCkscmVhZFRpbWU6ZX0pfSxDYy5wcm90b3R5cGUuZ2V0RW50cnk9ZnVuY3Rpb24odCxlKXt0aGlzLmFzc2VydE5vdEFwcGxpZWQoKTt2YXIgbj10aGlzLmNoYW5nZXMuZ2V0KGUpO3JldHVybiB2b2lkIDAhPT1uP3R1LnJlc29sdmUobi5kb2N1bWVudCk6dGhpcy5nZXRGcm9tQ2FjaGUodCxlKX0sQ2MucHJvdG90eXBlLmdldEVudHJpZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5nZXRBbGxGcm9tQ2FjaGUodCxlKX0sQ2MucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFzc2VydE5vdEFwcGxpZWQoKSx0aGlzLmNoYW5nZXNBcHBsaWVkPSEwLHRoaXMuYXBwbHlDaGFuZ2VzKHQpfSxDYy5wcm90b3R5cGUuYXNzZXJ0Tm90QXBwbGllZD1mdW5jdGlvbigpe30sQ2MpLE5jPShrYy5wcm90b3R5cGUuYWRkRW50cnk9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBPYyh0KS5wdXQoTGMoZSksbil9LGtjLnByb3RvdHlwZS5yZW1vdmVFbnRyeT1mdW5jdGlvbih0LGUpe3Q9T2ModCksZT1MYyhlKTtyZXR1cm4gdC5kZWxldGUoZSl9LGtjLnByb3RvdHlwZS51cGRhdGVNZXRhZGF0YT1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMuZ2V0TWV0YWRhdGEoZSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdC5ieXRlU2l6ZSs9bixyLm1lKGUsdCl9KX0sa2MucHJvdG90eXBlLmdldEVudHJ5PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gT2ModCkuZ2V0KExjKGUpKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBuLnllKGUsdCl9KX0sa2MucHJvdG90eXBlLmdlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gT2ModCkuZ2V0KExjKGUpKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybntkb2N1bWVudDpuLnllKGUsdCksc2l6ZTpadSh0KX19KX0sa2MucHJvdG90eXBlLmdldEVudHJpZXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9UHM7cmV0dXJuIHRoaXMucGUodCxlLGZ1bmN0aW9uKHQsZSl7ZT1uLnllKHQsZSk7cj1yLmluc2VydCh0LGUpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiByfSl9LGtjLnByb3RvdHlwZS5FZT1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMsaT1QcyxvPW5ldyBOcyhtaS5jb21wYXJhdG9yKTtyZXR1cm4gdGhpcy5wZSh0LGUsZnVuY3Rpb24odCxlKXt2YXIgbj1yLnllKHQsZSk7aT1pLmluc2VydCh0LG4pLG89by5pbnNlcnQodCxadShlKSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJue2RvY3VtZW50czppLFRlOm99fSl9LGtjLnByb3RvdHlwZS5wZT1mdW5jdGlvbih0LGUsaSl7aWYoZS5pc0VtcHR5KCkpcmV0dXJuIHR1LnJlc29sdmUoKTt2YXIgbj1JREJLZXlSYW5nZS5ib3VuZChlLmZpcnN0KCkucGF0aC50b0FycmF5KCksZS5sYXN0KCkucGF0aC50b0FycmF5KCkpLG89ZS5nZXRJdGVyYXRvcigpLHM9by5nZXROZXh0KCk7cmV0dXJuIE9jKHQpLk90KHtyYW5nZTpufSxmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPW1pLmZyb21TZWdtZW50cyh0KTtzJiZtaS5jb21wYXJhdG9yKHMscik8MDspaShzLG51bGwpLHM9by5nZXROZXh0KCk7cyYmcy5pc0VxdWFsKHIpJiYoaShzLGUpLHM9by5oYXNOZXh0KCk/by5nZXROZXh0KCk6bnVsbCkscz9uLkN0KHMucGF0aC50b0FycmF5KCkpOm4uZG9uZSgpfSkubmV4dChmdW5jdGlvbigpe2Zvcig7czspaShzLG51bGwpLHM9by5oYXNOZXh0KCk/by5nZXROZXh0KCk6bnVsbH0pfSxrYy5wcm90b3R5cGUuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeT1mdW5jdGlvbih0LHIsZSl7dmFyIG4saT10aGlzLG89UHMscz1yLnBhdGgubGVuZ3RoKzEsYT17fTtyZXR1cm4gZS5pc0VxdWFsKEdyLm1pbigpKT8obj1yLnBhdGgudG9BcnJheSgpLGEucmFuZ2U9SURCS2V5UmFuZ2UubG93ZXJCb3VuZChuKSk6KG49ci5wYXRoLnRvQXJyYXkoKSxlPUN1KGUpLGEucmFuZ2U9SURCS2V5UmFuZ2UubG93ZXJCb3VuZChbbixlXSwhMCksYS5pbmRleD1CYS5jb2xsZWN0aW9uUmVhZFRpbWVJbmRleCksT2ModCkuT3QoYSxmdW5jdGlvbih0LGUsbil7dC5sZW5ndGg9PT1zJiYoZT1BdShpLlIsZSksci5wYXRoLmlzUHJlZml4T2YoZS5rZXkucGF0aCk/Um8ocixlKSYmKG89by5pbnNlcnQoZS5rZXksZSkpOm4uZG9uZSgpKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gb30pfSxrYy5wcm90b3R5cGUubmV3Q2hhbmdlQnVmZmVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRGModGhpcywhIXQmJnQudHJhY2tSZW1vdmFscyl9LGtjLnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldE1ldGFkYXRhKHQpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHQuYnl0ZVNpemV9KX0sa2MucHJvdG90eXBlLmdldE1ldGFkYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB4Yyh0KS5nZXQoamEua2V5KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBGcighIXQpLHR9KX0sa2MucHJvdG90eXBlLm1lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHhjKHQpLnB1dChqYS5rZXksZSl9LGtjLnByb3RvdHlwZS55ZT1mdW5jdGlvbih0LGUpe2lmKGUpe2U9QXUodGhpcy5SLGUpO2lmKCFlLmlzTm9Eb2N1bWVudCgpfHwhZS52ZXJzaW9uLmlzRXF1YWwoR3IubWluKCkpKXJldHVybiBlfXJldHVybiBPaS5uZXdJbnZhbGlkRG9jdW1lbnQodCl9LGtjKSxEYz0obihBYyxfYz1JKSxBYy5wcm90b3R5cGUuYXBwbHlDaGFuZ2VzPWZ1bmN0aW9uKGkpe3ZhciBvPXRoaXMscz1bXSxhPTAsdT1uZXcgT3MoZnVuY3Rpb24odCxlKXtyZXR1cm4gcXIodC5jYW5vbmljYWxTdHJpbmcoKSxlLmNhbm9uaWNhbFN0cmluZygpKX0pO3JldHVybiB0aGlzLmNoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciBuLHI9by5BZS5nZXQodCk7ZS5kb2N1bWVudC5pc1ZhbGlkRG9jdW1lbnQoKT8obj1rdShvLkllLlIsZS5kb2N1bWVudCxvLmdldFJlYWRUaW1lKHQpKSx1PXUuYWRkKHQucGF0aC5wb3BMYXN0KCkpLGU9WnUobiksYSs9ZS1yLHMucHVzaChvLkllLmFkZEVudHJ5KGksdCxuKSkpOihhLT1yLG8udHJhY2tSZW1vdmFscz8ocj1rdShvLkllLlIsT2kubmV3Tm9Eb2N1bWVudCh0LEdyLm1pbigpKSxvLmdldFJlYWRUaW1lKHQpKSxzLnB1c2goby5JZS5hZGRFbnRyeShpLHQscikpKTpzLnB1c2goby5JZS5yZW1vdmVFbnRyeShpLHQpKSl9KSx1LmZvckVhY2goZnVuY3Rpb24odCl7cy5wdXNoKG8uSWUuVXQuYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXgoaSx0KSl9KSxzLnB1c2godGhpcy5JZS51cGRhdGVNZXRhZGF0YShpLGEpKSx0dS53YWl0Rm9yKHMpfSxBYy5wcm90b3R5cGUuZ2V0RnJvbUNhY2hlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5JZS5nZSh0LGUpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIG4uQWUuc2V0KGUsdC5zaXplKSx0LmRvY3VtZW50fSl9LEFjLnByb3RvdHlwZS5nZXRBbGxGcm9tQ2FjaGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLkllLkVlKHQsZSkubmV4dChmdW5jdGlvbih0KXt2YXIgZT10LmRvY3VtZW50cztyZXR1cm4gdC5UZS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7bi5BZS5zZXQodCxlKX0pLGV9KX0sQWMpO2Z1bmN0aW9uIEFjKHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj1fYy5jYWxsKHRoaXMpfHx0aGlzKS5JZT10LG4udHJhY2tSZW1vdmFscz1lLG4uQWU9bmV3IFNjKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvU3RyaW5nKCl9LGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaXNFcXVhbChlKX0pLG59ZnVuY3Rpb24ga2ModCxlKXt0aGlzLlI9dCx0aGlzLlV0PWV9ZnVuY3Rpb24gQ2MoKXt0aGlzLmNoYW5nZXM9bmV3IFNjKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvU3RyaW5nKCl9LGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaXNFcXVhbChlKX0pLHRoaXMuY2hhbmdlc0FwcGxpZWQ9ITF9ZnVuY3Rpb24gUmModCxlKXt0aGlzLm1hcEtleUZuPXQsdGhpcy5lcXVhbHNGbj1lLHRoaXMuaW5uZXI9e319ZnVuY3Rpb24geGModCl7cmV0dXJuIHd1KHQsamEuc3RvcmUpfWZ1bmN0aW9uIE9jKHQpe3JldHVybiB3dSh0LEJhLnN0b3JlKX1mdW5jdGlvbiBMYyh0KXtyZXR1cm4gdC5wYXRoLnRvQXJyYXkoKX12YXIgUGM9KE1jLnByb3RvdHlwZS5SdD1mdW5jdGlvbihlLG4sdCxyKXt2YXIgaT10aGlzO0ZyKHQ8ciYmMDw9dCYmcjw9MTEpO3ZhciBvPW5ldyBldShcImNyZWF0ZU9yVXBncmFkZVwiLG4pO3Q8MSYmMTw9ciYmKGUuY3JlYXRlT2JqZWN0U3RvcmUoT2Euc3RvcmUpLChzPWUpLmNyZWF0ZU9iamVjdFN0b3JlKFBhLnN0b3JlLHtrZXlQYXRoOlBhLmtleVBhdGh9KSxzLmNyZWF0ZU9iamVjdFN0b3JlKE1hLnN0b3JlLHtrZXlQYXRoOk1hLmtleVBhdGgsYXV0b0luY3JlbWVudDohMH0pLmNyZWF0ZUluZGV4KE1hLnVzZXJNdXRhdGlvbnNJbmRleCxNYS51c2VyTXV0YXRpb25zS2V5UGF0aCx7dW5pcXVlOiEwfSkscy5jcmVhdGVPYmplY3RTdG9yZShGYS5zdG9yZSksRmMoZSksZS5jcmVhdGVPYmplY3RTdG9yZShCYS5zdG9yZSkpO3ZhciBzLGE9dHUucmVzb2x2ZSgpO3JldHVybiB0PDMmJjM8PXImJigwIT09dCYmKChzPWUpLmRlbGV0ZU9iamVjdFN0b3JlKEdhLnN0b3JlKSxzLmRlbGV0ZU9iamVjdFN0b3JlKEthLnN0b3JlKSxzLmRlbGV0ZU9iamVjdFN0b3JlKFFhLnN0b3JlKSxGYyhlKSksYT1hLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdD1vLnN0b3JlKFFhLnN0b3JlKSxlPW5ldyBRYSgwLDAsR3IubWluKCkudG9UaW1lc3RhbXAoKSwwKSx0LnB1dChRYS5rZXksZSk7dmFyIHQsZX0pKSx0PDQmJjQ8PXImJihhPShhPTAhPT10P2EubmV4dChmdW5jdGlvbigpe3JldHVybiBuPWUsKHI9bykuc3RvcmUoTWEuc3RvcmUpLk50KCkubmV4dChmdW5jdGlvbih0KXtuLmRlbGV0ZU9iamVjdFN0b3JlKE1hLnN0b3JlKSxuLmNyZWF0ZU9iamVjdFN0b3JlKE1hLnN0b3JlLHtrZXlQYXRoOk1hLmtleVBhdGgsYXV0b0luY3JlbWVudDohMH0pLmNyZWF0ZUluZGV4KE1hLnVzZXJNdXRhdGlvbnNJbmRleCxNYS51c2VyTXV0YXRpb25zS2V5UGF0aCx7dW5pcXVlOiEwfSk7dmFyIGU9ci5zdG9yZShNYS5zdG9yZSksdD10Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZS5wdXQodCl9KTtyZXR1cm4gdHUud2FpdEZvcih0KX0pO3ZhciBuLHJ9KTphKS5uZXh0KGZ1bmN0aW9uKCl7ZS5jcmVhdGVPYmplY3RTdG9yZShIYS5zdG9yZSx7a2V5UGF0aDpIYS5rZXlQYXRofSl9KSksdDw1JiY1PD1yJiYoYT1hLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gaS5SZShvKX0pKSx0PDYmJjY8PXImJihhPWEubmV4dChmdW5jdGlvbigpe3JldHVybiBlLmNyZWF0ZU9iamVjdFN0b3JlKGphLnN0b3JlKSxpLmJlKG8pfSkpLHQ8NyYmNzw9ciYmKGE9YS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGkudmUobyl9KSksdDw4JiY4PD1yJiYoYT1hLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gaS5QZShlLG8pfSkpLHQ8OSYmOTw9ciYmKGE9YS5uZXh0KGZ1bmN0aW9uKCl7dmFyIHQ7KHQ9ZSkub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhcInJlbW90ZURvY3VtZW50Q2hhbmdlc1wiKSYmdC5kZWxldGVPYmplY3RTdG9yZShcInJlbW90ZURvY3VtZW50Q2hhbmdlc1wiKSwodD1uLm9iamVjdFN0b3JlKEJhLnN0b3JlKSkuY3JlYXRlSW5kZXgoQmEucmVhZFRpbWVJbmRleCxCYS5yZWFkVGltZUluZGV4UGF0aCx7dW5pcXVlOiExfSksdC5jcmVhdGVJbmRleChCYS5jb2xsZWN0aW9uUmVhZFRpbWVJbmRleCxCYS5jb2xsZWN0aW9uUmVhZFRpbWVJbmRleFBhdGgse3VuaXF1ZTohMX0pfSkpLHQ8MTAmJjEwPD1yJiYoYT1hLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gaS5WZShvKX0pKSxhPXQ8MTEmJjExPD1yP2EubmV4dChmdW5jdGlvbigpe2UuY3JlYXRlT2JqZWN0U3RvcmUoV2Euc3RvcmUse2tleVBhdGg6V2Eua2V5UGF0aH0pLGUuY3JlYXRlT2JqZWN0U3RvcmUoWWEuc3RvcmUse2tleVBhdGg6WWEua2V5UGF0aH0pfSk6YX0sTWMucHJvdG90eXBlLmJlPWZ1bmN0aW9uKGUpe3ZhciBuPTA7cmV0dXJuIGUuc3RvcmUoQmEuc3RvcmUpLk90KGZ1bmN0aW9uKHQsZSl7bis9WnUoZSl9KS5uZXh0KGZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGphKG4pO3JldHVybiBlLnN0b3JlKGphLnN0b3JlKS5wdXQoamEua2V5LHQpfSl9LE1jLnByb3RvdHlwZS5SZT1mdW5jdGlvbihuKXt2YXIgcj10aGlzLHQ9bi5zdG9yZShQYS5zdG9yZSksaT1uLnN0b3JlKE1hLnN0b3JlKTtyZXR1cm4gdC5OdCgpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHR1LmZvckVhY2godCxmdW5jdGlvbihlKXt2YXIgdD1JREJLZXlSYW5nZS5ib3VuZChbZS51c2VySWQsLTFdLFtlLnVzZXJJZCxlLmxhc3RBY2tub3dsZWRnZWRCYXRjaElkXSk7cmV0dXJuIGkuTnQoTWEudXNlck11dGF0aW9uc0luZGV4LHQpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHR1LmZvckVhY2godCxmdW5jdGlvbih0KXtGcih0LnVzZXJJZD09PWUudXNlcklkKTt0PUx1KHIuUix0KTtyZXR1cm4gJHUobixlLnVzZXJJZCx0KS5uZXh0KGZ1bmN0aW9uKCl7fSl9KX0pfSl9KX0sTWMucHJvdG90eXBlLnZlPWZ1bmN0aW9uKHQpe3ZhciBvPXQuc3RvcmUoR2Euc3RvcmUpLGU9dC5zdG9yZShCYS5zdG9yZSk7cmV0dXJuIHQuc3RvcmUoUWEuc3RvcmUpLmdldChRYS5rZXkpLm5leHQoZnVuY3Rpb24ocil7dmFyIGk9W107cmV0dXJuIGUuT3QoZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgJHIodCksdD1bMCxDYShuKV07aS5wdXNoKG8uZ2V0KHQpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHQ/dHUucmVzb2x2ZSgpOm8ucHV0KG5ldyBHYSgwLENhKG4pLHIuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyKSl9KSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHR1LndhaXRGb3IoaSl9KX0pfSxNYy5wcm90b3R5cGUuUGU9ZnVuY3Rpb24odCxlKXt0LmNyZWF0ZU9iamVjdFN0b3JlKHphLnN0b3JlLHtrZXlQYXRoOnphLmtleVBhdGh9KTtmdW5jdGlvbiByKHQpe2lmKGkuYWRkKHQpKXt2YXIgZT10Lmxhc3RTZWdtZW50KCksdD10LnBvcExhc3QoKTtyZXR1cm4gbi5wdXQoe2NvbGxlY3Rpb25JZDplLHBhcmVudDpDYSh0KX0pfX12YXIgbj1lLnN0b3JlKHphLnN0b3JlKSxpPW5ldyBLdTtyZXR1cm4gZS5zdG9yZShCYS5zdG9yZSkuT3Qoe2t0OiEwfSxmdW5jdGlvbih0LGUpe3Q9bmV3ICRyKHQpO3JldHVybiByKHQucG9wTGFzdCgpKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gZS5zdG9yZShGYS5zdG9yZSkuT3Qoe2t0OiEwfSxmdW5jdGlvbih0LGUpe3RbMF07dmFyIG49dFsxXSxuPSh0WzJdLHhhKG4pKTtyZXR1cm4gcihuLnBvcExhc3QoKSl9KX0pfSxNYy5wcm90b3R5cGUuVmU9ZnVuY3Rpb24odCl7dmFyIG49dGhpcyxyPXQuc3RvcmUoS2Euc3RvcmUpO3JldHVybiByLk90KGZ1bmN0aW9uKHQsZSl7ZT1QdShlKSxlPU11KG4uUixlKTtyZXR1cm4gci5wdXQoZSl9KX0sTWMpO2Z1bmN0aW9uIE1jKHQpe3RoaXMuUj10fWZ1bmN0aW9uIEZjKHQpe3QuY3JlYXRlT2JqZWN0U3RvcmUoR2Euc3RvcmUse2tleVBhdGg6R2Eua2V5UGF0aH0pLmNyZWF0ZUluZGV4KEdhLmRvY3VtZW50VGFyZ2V0c0luZGV4LEdhLmRvY3VtZW50VGFyZ2V0c0tleVBhdGgse3VuaXF1ZTohMH0pLHQuY3JlYXRlT2JqZWN0U3RvcmUoS2Euc3RvcmUse2tleVBhdGg6S2Eua2V5UGF0aH0pLmNyZWF0ZUluZGV4KEthLnF1ZXJ5VGFyZ2V0c0luZGV4TmFtZSxLYS5xdWVyeVRhcmdldHNLZXlQYXRoLHt1bmlxdWU6ITB9KSx0LmNyZWF0ZU9iamVjdFN0b3JlKFFhLnN0b3JlKX12YXIgVmM9XCJGYWlsZWQgdG8gb2J0YWluIGV4Y2x1c2l2ZSBhY2Nlc3MgdG8gdGhlIHBlcnNpc3RlbmNlIGxheWVyLiBUbyBhbGxvdyBzaGFyZWQgYWNjZXNzLCBtdWx0aS10YWIgc3luY2hyb25pemF0aW9uIGhhcyB0byBiZSBlbmFibGVkIGluIGFsbCB0YWJzLiBJZiB5b3UgYXJlIHVzaW5nIGBleHBlcmltZW50YWxGb3JjZU93bmluZ1RhYjp0cnVlYCwgbWFrZSBzdXJlIHRoYXQgb25seSBvbmUgdGFiIGhhcyBwZXJzaXN0ZW5jZSBlbmFibGVkIGF0IGFueSBnaXZlbiB0aW1lLlwiLFVjPShxYy5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmplKCkudGhlbihmdW5jdGlvbigpe2lmKCFlLmlzUHJpbWFyeSYmIWUuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24pdGhyb3cgbmV3IEFyKERyLkZBSUxFRF9QUkVDT05ESVRJT04sVmMpO3JldHVybiBlLldlKCksZS5HZSgpLGUuemUoKSxlLnJ1blRyYW5zYWN0aW9uKFwiZ2V0SGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyXCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKHQpe3JldHVybiBlLnFlLmdldEhpZ2hlc3RTZXF1ZW5jZU51bWJlcih0KX0pfSkudGhlbihmdW5jdGlvbih0KXtlLk5lPW5ldyBfcih0LGUuRGUpfSkudGhlbihmdW5jdGlvbigpe2UueGU9ITB9KS5jYXRjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5CZSYmZS5CZS5jbG9zZSgpLFByb21pc2UucmVqZWN0KHQpfSl9LHFjLnByb3RvdHlwZS5IZT1mdW5jdGlvbihuKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLk1lPWZ1bmN0aW9uKGUpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhcnRlZD9bMixuKGUpXTpbMl19KX0pfSxuKHRoaXMuaXNQcmltYXJ5KX0scWMucHJvdG90eXBlLnNldERhdGFiYXNlRGVsZXRlZExpc3RlbmVyPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7dGhpcy5CZS52dChmdW5jdGlvbihlKXtyZXR1cm4geSh0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIG51bGw9PT1lLm5ld1ZlcnNpb24/WzQsbigpXTpbMywyXTtjYXNlIDE6dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMl19fSl9KX0pfSxxYy5wcm90b3R5cGUuc2V0TmV0d29ya0VuYWJsZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLm5ldHdvcmtFbmFibGVkIT09dCYmKHRoaXMubmV0d29ya0VuYWJsZWQ9dCx0aGlzLlNlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4geShlLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuc3RhcnRlZD9bNCx0aGlzLmplKCldOlszLDJdO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KX0pfSkpfSxxYy5wcm90b3R5cGUuamU9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLnJ1blRyYW5zYWN0aW9uKFwidXBkYXRlQ2xpZW50TWV0YWRhdGFBbmRUcnlCZWNvbWVQcmltYXJ5XCIsXCJyZWFkd3JpdGVcIixmdW5jdGlvbihlKXtyZXR1cm4gamMoZSkucHV0KG5ldyBIYShuLmNsaWVudElkLERhdGUubm93KCksbi5uZXR3b3JrRW5hYmxlZCxuLmluRm9yZWdyb3VuZCkpLm5leHQoZnVuY3Rpb24oKXtpZihuLmlzUHJpbWFyeSlyZXR1cm4gbi5KZShlKS5uZXh0KGZ1bmN0aW9uKHQpe3R8fChuLmlzUHJpbWFyeT0hMSxuLlNlLmVucXVldWVSZXRyeWFibGUoZnVuY3Rpb24oKXtyZXR1cm4gbi5NZSghMSl9KSl9KX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gbi5ZZShlKX0pLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIG4uaXNQcmltYXJ5JiYhdD9uLlhlKGUpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4hMX0pOiEhdCYmbi5aZShlKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuITB9KX0pfSkuY2F0Y2goZnVuY3Rpb24odCl7aWYobHUodCkpcmV0dXJuIHhyKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIixcIkZhaWxlZCB0byBleHRlbmQgb3duZXIgbGVhc2U6IFwiLHQpLG4uaXNQcmltYXJ5O2lmKCFuLmFsbG93VGFiU3luY2hyb25pemF0aW9uKXRocm93IHQ7cmV0dXJuIHhyKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIixcIlJlbGVhc2luZyBvd25lciBsZWFzZSBhZnRlciBlcnJvciBkdXJpbmcgbGVhc2UgcmVmcmVzaFwiLHQpLCExfSkudGhlbihmdW5jdGlvbih0KXtuLmlzUHJpbWFyeSE9PXQmJm4uU2UuZW5xdWV1ZVJldHJ5YWJsZShmdW5jdGlvbigpe3JldHVybiBuLk1lKHQpfSksbi5pc1ByaW1hcnk9dH0pfSxxYy5wcm90b3R5cGUuSmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gQmModCkuZ2V0KE9hLmtleSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdHUucmVzb2x2ZShlLnRuKHQpKX0pfSxxYy5wcm90b3R5cGUuZW49ZnVuY3Rpb24odCl7cmV0dXJuIGpjKHQpLmRlbGV0ZSh0aGlzLmNsaWVudElkKX0scWMucHJvdG90eXBlLm5uPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyLGksbz10aGlzO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4hdGhpcy5pc1ByaW1hcnl8fHRoaXMuc24odGhpcy4kZSwxOGU1KT9bMywyXToodGhpcy4kZT1EYXRlLm5vdygpLFs0LHRoaXMucnVuVHJhbnNhY3Rpb24oXCJtYXliZUdhcmJhZ2VDb2xsZWN0TXVsdGlDbGllbnRTdGF0ZVwiLFwicmVhZHdyaXRlLXByaW1hcnlcIixmdW5jdGlvbih0KXt2YXIgcj13dSh0LEhhLnN0b3JlKTtyZXR1cm4gci5OdCgpLm5leHQoZnVuY3Rpb24odCl7dmFyIGU9by5ybih0LDE4ZTUpLG49dC5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuLTE9PT1lLmluZGV4T2YodCl9KTtyZXR1cm4gdHUuZm9yRWFjaChuLGZ1bmN0aW9uKHQpe3JldHVybiByLmRlbGV0ZSh0LmNsaWVudElkKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gbn0pfSl9KS5jYXRjaChmdW5jdGlvbigpe3JldHVybltdfSldKTtjYXNlIDE6aWYoZT10LnNlbnQoKSx0aGlzLktlKWZvcihuPTAscj1lO248ci5sZW5ndGg7bisrKWk9cltuXSx0aGlzLktlLnJlbW92ZUl0ZW0odGhpcy5vbihpLmNsaWVudElkKSk7dC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMl19fSl9KX0scWMucHJvdG90eXBlLnplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLk9lPXRoaXMuU2UuZW5xdWV1ZUFmdGVyRGVsYXkoXCJjbGllbnRfbWV0YWRhdGFfcmVmcmVzaFwiLDRlMyxmdW5jdGlvbigpe3JldHVybiB0LmplKCkudGhlbihmdW5jdGlvbigpe3JldHVybiB0Lm5uKCl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQuemUoKX0pfSl9LHFjLnByb3RvdHlwZS50bj1mdW5jdGlvbih0KXtyZXR1cm4hIXQmJnQub3duZXJJZD09PXRoaXMuY2xpZW50SWR9LHFjLnByb3RvdHlwZS5ZZT1mdW5jdGlvbihlKXt2YXIgcj10aGlzO3JldHVybiB0aGlzLkNlP3R1LnJlc29sdmUoITApOkJjKGUpLmdldChPYS5rZXkpLm5leHQoZnVuY3Rpb24odCl7aWYobnVsbCE9PXQmJnIuc24odC5sZWFzZVRpbWVzdGFtcE1zLDVlMykmJiFyLmNuKHQub3duZXJJZCkpe2lmKHIudG4odCkmJnIubmV0d29ya0VuYWJsZWQpcmV0dXJuITA7aWYoIXIudG4odCkpe2lmKCF0LmFsbG93VGFiU3luY2hyb25pemF0aW9uKXRocm93IG5ldyBBcihEci5GQUlMRURfUFJFQ09ORElUSU9OLFZjKTtyZXR1cm4hMX19cmV0dXJuISghci5uZXR3b3JrRW5hYmxlZHx8IXIuaW5Gb3JlZ3JvdW5kKXx8amMoZSkuTnQoKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT1yLnJuKHQsNWUzKS5maW5kKGZ1bmN0aW9uKHQpe2lmKHIuY2xpZW50SWQhPT10LmNsaWVudElkKXt2YXIgZT0hci5uZXR3b3JrRW5hYmxlZCYmdC5uZXR3b3JrRW5hYmxlZCxuPSFyLmluRm9yZWdyb3VuZCYmdC5pbkZvcmVncm91bmQsdD1yLm5ldHdvcmtFbmFibGVkPT09dC5uZXR3b3JrRW5hYmxlZDtpZihlfHxuJiZ0KXJldHVybiEwfXJldHVybiExfSl9KX0pLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHIuaXNQcmltYXJ5IT09dCYmeHIoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLFwiQ2xpZW50IFwiKyh0P1wiaXNcIjpcImlzIG5vdFwiKStcIiBlbGlnaWJsZSBmb3IgYSBwcmltYXJ5IGxlYXNlLlwiKSx0fSl9LHFjLnByb3RvdHlwZS5zaHV0ZG93bj1mdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuPXRoaXM7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLnhlPSExLHRoaXMudW4oKSx0aGlzLk9lJiYodGhpcy5PZS5jYW5jZWwoKSx0aGlzLk9lPW51bGwpLHRoaXMuYW4oKSx0aGlzLmhuKCksWzQsdGhpcy5CZS5ydW5UcmFuc2FjdGlvbihcInNodXRkb3duXCIsXCJyZWFkd3JpdGVcIixbT2Euc3RvcmUsSGEuc3RvcmVdLGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB2dSh0LF9yLm8pO3JldHVybiBuLlhlKGUpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gbi5lbihlKX0pfSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksdGhpcy5CZS5jbG9zZSgpLHRoaXMubG4oKSxbMl19fSl9KX0scWMucHJvdG90eXBlLnJuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdC5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIG4uc24odC51cGRhdGVUaW1lTXMsZSkmJiFuLmNuKHQuY2xpZW50SWQpfSl9LHFjLnByb3RvdHlwZS5mbj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMucnVuVHJhbnNhY3Rpb24oXCJnZXRBY3RpdmVDbGllbnRzXCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKHQpe3JldHVybiBqYyh0KS5OdCgpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIGUucm4odCwxOGU1KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2xpZW50SWR9KX0pfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShxYy5wcm90b3R5cGUsXCJzdGFydGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnhlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHFjLnByb3RvdHlwZS5nZXRNdXRhdGlvblF1ZXVlPWZ1bmN0aW9uKHQpe3JldHVybiB0Yy5LdCh0LHRoaXMuUix0aGlzLlV0LHRoaXMucmVmZXJlbmNlRGVsZWdhdGUpfSxxYy5wcm90b3R5cGUuZ2V0VGFyZ2V0Q2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xZX0scWMucHJvdG90eXBlLmdldFJlbW90ZURvY3VtZW50Q2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5VZX0scWMucHJvdG90eXBlLmdldEluZGV4TWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlV0fSxxYy5wcm90b3R5cGUuZ2V0QnVuZGxlQ2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5RZX0scWMucHJvdG90eXBlLnJ1blRyYW5zYWN0aW9uPWZ1bmN0aW9uKGUsbixyKXt2YXIgaT10aGlzO3hyKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIixcIlN0YXJ0aW5nIHRyYW5zYWN0aW9uOlwiLGUpO3ZhciBvLHQ9XCJyZWFkb25seVwiPT09bj9cInJlYWRvbmx5XCI6XCJyZWFkd3JpdGVcIjtyZXR1cm4gdGhpcy5CZS5ydW5UcmFuc2FjdGlvbihlLHQsSmEsZnVuY3Rpb24odCl7cmV0dXJuIG89bmV3IHZ1KHQsaS5OZT9pLk5lLm5leHQoKTpfci5vKSxcInJlYWR3cml0ZS1wcmltYXJ5XCI9PT1uP2kuSmUobykubmV4dChmdW5jdGlvbih0KXtyZXR1cm4hIXR8fGkuWWUobyl9KS5uZXh0KGZ1bmN0aW9uKHQpe2lmKCF0KXRocm93IE9yKFwiRmFpbGVkIHRvIG9idGFpbiBwcmltYXJ5IGxlYXNlIGZvciBhY3Rpb24gJ1wiK2UrXCInLlwiKSxpLmlzUHJpbWFyeT0hMSxpLlNlLmVucXVldWVSZXRyeWFibGUoZnVuY3Rpb24oKXtyZXR1cm4gaS5NZSghMSl9KSxuZXcgQXIoRHIuRkFJTEVEX1BSRUNPTkRJVElPTiwkYSk7cmV0dXJuIHIobyl9KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBpLlplKG8pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdH0pfSk6aS5kbihvKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHIobyl9KX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG8ucmFpc2VPbkNvbW1pdHRlZEV2ZW50KCksdH0pfSxxYy5wcm90b3R5cGUuZG49ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gQmModCkuZ2V0KE9hLmtleSkubmV4dChmdW5jdGlvbih0KXtpZihudWxsIT09dCYmZS5zbih0LmxlYXNlVGltZXN0YW1wTXMsNWUzKSYmIWUuY24odC5vd25lcklkKSYmIWUudG4odCkmJiEoZS5DZXx8ZS5hbGxvd1RhYlN5bmNocm9uaXphdGlvbiYmdC5hbGxvd1RhYlN5bmNocm9uaXphdGlvbikpdGhyb3cgbmV3IEFyKERyLkZBSUxFRF9QUkVDT05ESVRJT04sVmMpfSl9LHFjLnByb3RvdHlwZS5aZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgT2EodGhpcy5jbGllbnRJZCx0aGlzLmFsbG93VGFiU3luY2hyb25pemF0aW9uLERhdGUubm93KCkpO3JldHVybiBCYyh0KS5wdXQoT2Eua2V5LGUpfSxxYy55dD1mdW5jdGlvbigpe3JldHVybiBudS55dCgpfSxxYy5wcm90b3R5cGUuWGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPUJjKHQpO3JldHVybiBuLmdldChPYS5rZXkpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIGUudG4odCk/KHhyKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIixcIlJlbGVhc2luZyBwcmltYXJ5IGxlYXNlLlwiKSxuLmRlbGV0ZShPYS5rZXkpKTp0dS5yZXNvbHZlKCl9KX0scWMucHJvdG90eXBlLnNuPWZ1bmN0aW9uKHQsZSl7dmFyIG49RGF0ZS5ub3coKTtyZXR1cm4hKHQ8bi1lfHxuPHQmJihPcihcIkRldGVjdGVkIGFuIHVwZGF0ZSB0aW1lIHRoYXQgaXMgaW4gdGhlIGZ1dHVyZTogXCIrdCtcIiA+IFwiK24pLDEpKX0scWMucHJvdG90eXBlLldlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztudWxsIT09dGhpcy5kb2N1bWVudCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyJiYodGhpcy5rZT1mdW5jdGlvbigpe3QuU2UuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB0LmluRm9yZWdyb3VuZD1cInZpc2libGVcIj09PXQuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlLHQuamUoKX0pfSx0aGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy5rZSksdGhpcy5pbkZvcmVncm91bmQ9XCJ2aXNpYmxlXCI9PT10aGlzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSl9LHFjLnByb3RvdHlwZS5hbj1mdW5jdGlvbigpe3RoaXMua2UmJih0aGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy5rZSksdGhpcy5rZT1udWxsKX0scWMucHJvdG90eXBlLkdlPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzO1wiZnVuY3Rpb25cIj09dHlwZW9mKG51bGw9PT0odD10aGlzLndpbmRvdyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuYWRkRXZlbnRMaXN0ZW5lcikmJih0aGlzLkZlPWZ1bmN0aW9uKCl7ZS51bigpLGUuU2UuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiBlLnNodXRkb3duKCl9KX0sdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLHRoaXMuRmUpKX0scWMucHJvdG90eXBlLmhuPWZ1bmN0aW9uKCl7dGhpcy5GZSYmKHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRcIix0aGlzLkZlKSx0aGlzLkZlPW51bGwpfSxxYy5wcm90b3R5cGUuY249ZnVuY3Rpb24odCl7dHJ5e3ZhciBlPW51bGwhPT0obnVsbD09PShlPXRoaXMuS2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldEl0ZW0odGhpcy5vbih0KSkpO3JldHVybiB4cihcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsXCJDbGllbnQgJ1wiK3QrXCInIFwiKyhlP1wiaXNcIjpcImlzIG5vdFwiKStcIiB6b21iaWVkIGluIExvY2FsU3RvcmFnZVwiKSxlfWNhdGNoKHQpe3JldHVybiBPcihcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsXCJGYWlsZWQgdG8gZ2V0IHpvbWJpZWQgY2xpZW50IGlkLlwiLHQpLCExfX0scWMucHJvdG90eXBlLnVuPWZ1bmN0aW9uKCl7aWYodGhpcy5LZSl0cnl7dGhpcy5LZS5zZXRJdGVtKHRoaXMub24odGhpcy5jbGllbnRJZCksU3RyaW5nKERhdGUubm93KCkpKX1jYXRjaCh0KXtPcihcIkZhaWxlZCB0byBzZXQgem9tYmllIGNsaWVudCBpZC5cIix0KX19LHFjLnByb3RvdHlwZS5sbj1mdW5jdGlvbigpe2lmKHRoaXMuS2UpdHJ5e3RoaXMuS2UucmVtb3ZlSXRlbSh0aGlzLm9uKHRoaXMuY2xpZW50SWQpKX1jYXRjaCh0KXt9fSxxYy5wcm90b3R5cGUub249ZnVuY3Rpb24odCl7cmV0dXJuXCJmaXJlc3RvcmVfem9tYmllX1wiK3RoaXMucGVyc2lzdGVuY2VLZXkrXCJfXCIrdH0scWMpO2Z1bmN0aW9uIHFjKHQsZSxuLHIsaSxvLHMsYSx1LGMpe2lmKHRoaXMuYWxsb3dUYWJTeW5jaHJvbml6YXRpb249dCx0aGlzLnBlcnNpc3RlbmNlS2V5PWUsdGhpcy5jbGllbnRJZD1uLHRoaXMuU2U9aSx0aGlzLndpbmRvdz1vLHRoaXMuZG9jdW1lbnQ9cyx0aGlzLkRlPXUsdGhpcy5DZT1jLHRoaXMuTmU9bnVsbCx0aGlzLnhlPSExLHRoaXMuaXNQcmltYXJ5PSExLHRoaXMubmV0d29ya0VuYWJsZWQ9ITAsdGhpcy5GZT1udWxsLHRoaXMuaW5Gb3JlZ3JvdW5kPSExLHRoaXMua2U9bnVsbCx0aGlzLk9lPW51bGwsdGhpcy4kZT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksdGhpcy5NZT1mdW5jdGlvbih0KXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9LCFxYy55dCgpKXRocm93IG5ldyBBcihEci5VTklNUExFTUVOVEVELFwiVGhpcyBwbGF0Zm9ybSBpcyBlaXRoZXIgbWlzc2luZyBJbmRleGVkREIgb3IgaXMga25vd24gdG8gaGF2ZSBhbiBpbmNvbXBsZXRlIGltcGxlbWVudGF0aW9uLiBPZmZsaW5lIHBlcnNpc3RlbmNlIGhhcyBiZWVuIGRpc2FibGVkLlwiKTt0aGlzLnJlZmVyZW5jZURlbGVnYXRlPW5ldyB2Yyh0aGlzLHIpLHRoaXMuTGU9ZStcIm1haW5cIix0aGlzLlI9bmV3IF91KGEpLHRoaXMuQmU9bmV3IG51KHRoaXMuTGUsMTEsbmV3IFBjKHRoaXMuUikpLHRoaXMucWU9bmV3IGFjKHRoaXMucmVmZXJlbmNlRGVsZWdhdGUsdGhpcy5SKSx0aGlzLlV0PW5ldyBHdSx0aGlzLlVlPShlPXRoaXMuUixhPXRoaXMuVXQsbmV3IE5jKGUsYSkpLHRoaXMuUWU9bmV3IFZ1LHRoaXMud2luZG93JiZ0aGlzLndpbmRvdy5sb2NhbFN0b3JhZ2U/dGhpcy5LZT10aGlzLndpbmRvdy5sb2NhbFN0b3JhZ2U6KHRoaXMuS2U9bnVsbCwhMT09PWMmJk9yKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIixcIkxvY2FsU3RvcmFnZSBpcyB1bmF2YWlsYWJsZS4gQXMgYSByZXN1bHQsIHBlcnNpc3RlbmNlIG1heSBub3Qgd29yayByZWxpYWJseS4gSW4gcGFydGljdWxhciBlbmFibGVQZXJzaXN0ZW5jZSgpIGNvdWxkIGZhaWwgaW1tZWRpYXRlbHkgYWZ0ZXIgcmVmcmVzaGluZyB0aGUgcGFnZS5cIikpfWZ1bmN0aW9uIEJjKHQpe3JldHVybiB3dSh0LE9hLnN0b3JlKX1mdW5jdGlvbiBqYyh0KXtyZXR1cm4gd3UodCxIYS5zdG9yZSl9ZnVuY3Rpb24gS2ModCxlKXt2YXIgbj10LnByb2plY3RJZDtyZXR1cm4gdC5pc0RlZmF1bHREYXRhYmFzZXx8KG4rPVwiLlwiK3QuZGF0YWJhc2UpLFwiZmlyZXN0b3JlL1wiK2UrXCIvXCIrbitcIi9cIn1mdW5jdGlvbiBHYyh0LGUpe3RoaXMucHJvZ3Jlc3M9dCx0aGlzLnduPWV9dmFyIFFjPSgkYy5wcm90b3R5cGUubW49ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzO3JldHVybiB0aGlzLl9uLmdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5KGUsbikubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gci55bihlLG4sdCl9KX0sJGMucHJvdG90eXBlLnluPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdGhpcy5VZS5nZXRFbnRyeSh0LGUpLm5leHQoZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj1yO2U8bi5sZW5ndGg7ZSsrKW5bZV0uYXBwbHlUb0xvY2FsVmlldyh0KTtyZXR1cm4gdH0pfSwkYy5wcm90b3R5cGUuZ249ZnVuY3Rpb24odCxpKXt0LmZvckVhY2goZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPWk7bjxyLmxlbmd0aDtuKyspcltuXS5hcHBseVRvTG9jYWxWaWV3KGUpfSl9LCRjLnByb3RvdHlwZS5wbj1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuVWUuZ2V0RW50cmllcyhlLHQpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIG4uRW4oZSx0KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX0pfSwkYy5wcm90b3R5cGUuRW49ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLl9uLmdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5cyh0LGUpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIG4uZ24oZSx0KX0pfSwkYy5wcm90b3R5cGUuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHI9ZSxtaS5pc0RvY3VtZW50S2V5KHIucGF0aCkmJm51bGw9PT1yLmNvbGxlY3Rpb25Hcm91cCYmMD09PXIuZmlsdGVycy5sZW5ndGg/dGhpcy5Ubih0LGUucGF0aCk6X28oZSk/dGhpcy5Jbih0LGUsbik6dGhpcy5Bbih0LGUsbik7dmFyIHJ9LCRjLnByb3RvdHlwZS5Ubj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm1uKHQsbmV3IG1pKGUpKS5uZXh0KGZ1bmN0aW9uKHQpe3ZhciBlPVZzO3JldHVybiBlPXQuaXNGb3VuZERvY3VtZW50KCk/ZS5pbnNlcnQodC5rZXksdCk6ZX0pfSwkYy5wcm90b3R5cGUuSW49ZnVuY3Rpb24obixyLGkpe3ZhciBvPXRoaXMscz1yLmNvbGxlY3Rpb25Hcm91cCxhPVZzO3JldHVybiB0aGlzLlV0LmdldENvbGxlY3Rpb25QYXJlbnRzKG4scykubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdHUuZm9yRWFjaCh0LGZ1bmN0aW9uKHQpe3ZhciBlLGU9KGU9cix0PXQuY2hpbGQocyksbmV3IG1vKHQsbnVsbCxlLmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLGUuZmlsdGVycy5zbGljZSgpLGUubGltaXQsZS5saW1pdFR5cGUsZS5zdGFydEF0LGUuZW5kQXQpKTtyZXR1cm4gby5BbihuLGUsaSkubmV4dChmdW5jdGlvbih0KXt0LmZvckVhY2goZnVuY3Rpb24odCxlKXthPWEuaW5zZXJ0KHQsZSl9KX0pfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBhfSl9KX0sJGMucHJvdG90eXBlLkFuPWZ1bmN0aW9uKGUsbix0KXt2YXIgYyxoLHI9dGhpcztyZXR1cm4gdGhpcy5VZS5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KGUsbix0KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBjPXQsci5fbi5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdRdWVyeShlLG4pfSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gaD10LHIuUm4oZSxoLGMpLm5leHQoZnVuY3Rpb24odCl7Yz10O2Zvcih2YXIgZT0wLG49aDtlPG4ubGVuZ3RoO2UrKylmb3IodmFyIHI9bltlXSxpPTAsbz1yLm11dGF0aW9ucztpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXSxhPXMua2V5LHU9Yy5nZXQoYSk7bnVsbD09dSYmKHU9T2kubmV3SW52YWxpZERvY3VtZW50KGEpLGM9Yy5pbnNlcnQoYSx1KSksaXMocyx1LHIubG9jYWxXcml0ZVRpbWUpLHUuaXNGb3VuZERvY3VtZW50KCl8fChjPWMucmVtb3ZlKGEpKX19KX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gYy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7Um8obixlKXx8KGM9Yy5yZW1vdmUodCkpfSksY30pfSwkYy5wcm90b3R5cGUuUm49ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1CcygpLGk9MCxvPWU7aTxvLmxlbmd0aDtpKyspZm9yKHZhciBzPTAsYT1vW2ldLm11dGF0aW9ucztzPGEubGVuZ3RoO3MrKyl7dmFyIHU9YVtzXTt1IGluc3RhbmNlb2YgaHMmJm51bGw9PT1uLmdldCh1LmtleSkmJihyPXIuYWRkKHUua2V5KSl9dmFyIGM9bjtyZXR1cm4gdGhpcy5VZS5nZXRFbnRyaWVzKHQscikubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7ZS5pc0ZvdW5kRG9jdW1lbnQoKSYmKGM9Yy5pbnNlcnQodCxlKSl9KSxjfSl9LCRjKSx6Yz0oSmMuUG49ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49QnMoKSxyPUJzKCksaT0wLG89ZS5kb2NDaGFuZ2VzO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldO3N3aXRjaChzLnR5cGUpe2Nhc2UgMDpuPW4uYWRkKHMuZG9jLmtleSk7YnJlYWs7Y2FzZSAxOnI9ci5hZGQocy5kb2Mua2V5KX19cmV0dXJuIG5ldyBKYyh0LGUuZnJvbUNhY2hlLG4scil9LEpjKSxIYz0oWGMucHJvdG90eXBlLlZuPWZ1bmN0aW9uKHQpe3RoaXMuU249dH0sWGMucHJvdG90eXBlLmdldERvY3VtZW50c01hdGNoaW5nUXVlcnk9ZnVuY3Rpb24oZSxyLGksbyl7dmFyIHM9dGhpcztyZXR1cm4gMD09PXIuZmlsdGVycy5sZW5ndGgmJm51bGw9PT1yLmxpbWl0JiZudWxsPT1yLnN0YXJ0QXQmJm51bGw9PXIuZW5kQXQmJigwPT09ci5leHBsaWNpdE9yZGVyQnkubGVuZ3RofHwxPT09ci5leHBsaWNpdE9yZGVyQnkubGVuZ3RoJiZyLmV4cGxpY2l0T3JkZXJCeVswXS5maWVsZC5pc0tleUZpZWxkKCkpfHxpLmlzRXF1YWwoR3IubWluKCkpP3RoaXMuRG4oZSxyKTp0aGlzLlNuLnBuKGUsbykubmV4dChmdW5jdGlvbih0KXt2YXIgbj1zLkNuKHIsdCk7cmV0dXJuKHdvKHIpfHxJbyhyKSkmJnMuTm4oci5saW1pdFR5cGUsbixvLGkpP3MuRG4oZSxyKTooUnIoKTw9Zi5ERUJVRyYmeHIoXCJRdWVyeUVuZ2luZVwiLFwiUmUtdXNpbmcgcHJldmlvdXMgcmVzdWx0IGZyb20gJXMgdG8gZXhlY3V0ZSBxdWVyeTogJXNcIixpLnRvU3RyaW5nKCksQ28ocikpLHMuU24uZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeShlLHIsaSkubmV4dChmdW5jdGlvbihlKXtyZXR1cm4gbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe2U9ZS5pbnNlcnQodC5rZXksdCl9KSxlfSkpfSl9LFhjLnByb3RvdHlwZS5Dbj1mdW5jdGlvbihuLHQpe3ZhciByPW5ldyBPcyh4byhuKSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0LGUpe1JvKG4sZSkmJihyPXIuYWRkKGUpKX0pLHJ9LFhjLnByb3RvdHlwZS5Obj1mdW5jdGlvbih0LGUsbixyKXtpZihuLnNpemUhPT1lLnNpemUpcmV0dXJuITA7ZT1cIkZcIj09PXQ/ZS5sYXN0KCk6ZS5maXJzdCgpO3JldHVybiEhZSYmKGUuaGFzUGVuZGluZ1dyaXRlc3x8MDxlLnZlcnNpb24uY29tcGFyZVRvKHIpKX0sWGMucHJvdG90eXBlLkRuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFJyKCk8PWYuREVCVUcmJnhyKFwiUXVlcnlFbmdpbmVcIixcIlVzaW5nIGZ1bGwgY29sbGVjdGlvbiBzY2FuIHRvIGV4ZWN1dGUgcXVlcnk6XCIsQ28oZSkpLHRoaXMuU24uZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeSh0LGUsR3IubWluKCkpfSxYYyksV2M9KFljLnByb3RvdHlwZS5jb2xsZWN0R2FyYmFnZT1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiQ29sbGVjdCBnYXJiYWdlXCIsXCJyZWFkd3JpdGUtcHJpbWFyeVwiLGZ1bmN0aW9uKHQpe3JldHVybiBlLmNvbGxlY3QodCxuLkZuKX0pfSxZYyk7ZnVuY3Rpb24gWWModCxlLG4scil7dGhpcy5wZXJzaXN0ZW5jZT10LHRoaXMueG49ZSx0aGlzLlI9cix0aGlzLkZuPW5ldyBOcyhxciksdGhpcy5rbj1uZXcgU2MoRmksVmkpLHRoaXMuT249R3IubWluKCksdGhpcy5fbj10LmdldE11dGF0aW9uUXVldWUobiksdGhpcy4kbj10LmdldFJlbW90ZURvY3VtZW50Q2FjaGUoKSx0aGlzLnFlPXQuZ2V0VGFyZ2V0Q2FjaGUoKSx0aGlzLk1uPW5ldyBRYyh0aGlzLiRuLHRoaXMuX24sdGhpcy5wZXJzaXN0ZW5jZS5nZXRJbmRleE1hbmFnZXIoKSksdGhpcy5RZT10LmdldEJ1bmRsZUNhY2hlKCksdGhpcy54bi5Wbih0aGlzLk1uKX1mdW5jdGlvbiBYYygpe31mdW5jdGlvbiBKYyh0LGUsbixyKXt0aGlzLnRhcmdldElkPXQsdGhpcy5mcm9tQ2FjaGU9ZSx0aGlzLmJuPW4sdGhpcy52bj1yfWZ1bmN0aW9uICRjKHQsZSxuKXt0aGlzLlVlPXQsdGhpcy5fbj1lLHRoaXMuVXQ9bn1mdW5jdGlvbiBaYyh0LGUsbixyKXtyZXR1cm4gbmV3IFdjKHQsZSxuLHIpfWZ1bmN0aW9uIHRoKGksbyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbix2LHI7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPShlPWkpLl9uLHY9ZS5NbixbNCxlLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiSGFuZGxlIHVzZXIgY2hhbmdlXCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKGcpe3ZhciBtO3JldHVybiBlLl9uLmdldEFsbE11dGF0aW9uQmF0Y2hlcyhnKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBtPXQsbj1lLnBlcnNpc3RlbmNlLmdldE11dGF0aW9uUXVldWUobyksdj1uZXcgUWMoZS4kbixuLGUucGVyc2lzdGVuY2UuZ2V0SW5kZXhNYW5hZ2VyKCkpLG4uZ2V0QWxsTXV0YXRpb25CYXRjaGVzKGcpfSkubmV4dChmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj1bXSxyPUJzKCksaT0wLG89bTtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXTtlLnB1c2gocy5iYXRjaElkKTtmb3IodmFyIGE9MCx1PXMubXV0YXRpb25zO2E8dS5sZW5ndGg7YSsrKXZhciBjPXVbYV0scj1yLmFkZChjLmtleSl9Zm9yKHZhciBoPTAsbD10O2g8bC5sZW5ndGg7aCsrKXt2YXIgZj1sW2hdO24ucHVzaChmLmJhdGNoSWQpO2Zvcih2YXIgZD0wLHA9Zi5tdXRhdGlvbnM7ZDxwLmxlbmd0aDtkKyspe3ZhciB5PXBbZF07cj1yLmFkZCh5LmtleSl9fXJldHVybiB2LnBuKGcscikubmV4dChmdW5jdGlvbih0KXtyZXR1cm57TG46dCxyZW1vdmVkQmF0Y2hJZHM6ZSxhZGRlZEJhdGNoSWRzOm59fSl9KX0pXTtjYXNlIDE6cmV0dXJuIHI9dC5zZW50KCksWzIsKGUuX249bixlLk1uPXYsZS54bi5WbihlLk1uKSxyKV19fSl9KX1mdW5jdGlvbiBlaCh0LGgpe3ZhciBsPXQ7cmV0dXJuIGwucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJBY2tub3dsZWRnZSBiYXRjaFwiLFwicmVhZHdyaXRlLXByaW1hcnlcIixmdW5jdGlvbih0KXt2YXIgZSxyLGksbyxzLG4sYSx1PWguYmF0Y2gua2V5cygpLGM9bC4kbi5uZXdDaGFuZ2VCdWZmZXIoe3RyYWNrUmVtb3ZhbHM6ITB9KTtyZXR1cm4gZT1sLHI9dCxvPWMscz0oaT1oKS5iYXRjaCxuPXMua2V5cygpLGE9dHUucmVzb2x2ZSgpLG4uZm9yRWFjaChmdW5jdGlvbihuKXthPWEubmV4dChmdW5jdGlvbigpe3JldHVybiBvLmdldEVudHJ5KHIsbil9KS5uZXh0KGZ1bmN0aW9uKHQpe3ZhciBlPWkuZG9jVmVyc2lvbnMuZ2V0KG4pO0ZyKG51bGwhPT1lKSx0LnZlcnNpb24uY29tcGFyZVRvKGUpPDAmJihzLmFwcGx5VG9SZW1vdGVEb2N1bWVudCh0LGkpLHQuaXNWYWxpZERvY3VtZW50KCkmJm8uYWRkRW50cnkodCxpLmNvbW1pdFZlcnNpb24pKX0pfSksYS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGUuX24ucmVtb3ZlTXV0YXRpb25CYXRjaChyLHMpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KHQpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBsLl9uLnBlcmZvcm1Db25zaXN0ZW5jeUNoZWNrKHQpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBsLk1uLnBuKHQsdSl9KX0pfWZ1bmN0aW9uIG5oKHQpe3ZhciBlPXQ7cmV0dXJuIGUucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJHZXQgbGFzdCByZW1vdGUgc25hcHNob3QgdmVyc2lvblwiLFwicmVhZG9ubHlcIixmdW5jdGlvbih0KXtyZXR1cm4gZS5xZS5nZXRMYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uKHQpfSl9ZnVuY3Rpb24gcmgodCxyKXt2YXIgdT10LGM9ci5zbmFwc2hvdFZlcnNpb24saD11LkZuO3JldHVybiB1LnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiQXBwbHkgcmVtb3RlIGV2ZW50XCIsXCJyZWFkd3JpdGUtcHJpbWFyeVwiLGZ1bmN0aW9uKHMpe3ZhciB0PXUuJG4ubmV3Q2hhbmdlQnVmZmVyKHt0cmFja1JlbW92YWxzOiEwfSk7aD11LkZuO3ZhciBhPVtdO3IudGFyZ2V0Q2hhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLG89aC5nZXQoZSk7byYmKGEucHVzaCh1LnFlLnJlbW92ZU1hdGNoaW5nS2V5cyhzLHQucmVtb3ZlZERvY3VtZW50cyxlKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHUucWUuYWRkTWF0Y2hpbmdLZXlzKHMsdC5hZGRlZERvY3VtZW50cyxlKX0pKSwwPChpPXQucmVzdW1lVG9rZW4pLmFwcHJveGltYXRlQnl0ZVNpemUoKSYmKG49by53aXRoUmVzdW1lVG9rZW4oaSxjKS53aXRoU2VxdWVuY2VOdW1iZXIocy5jdXJyZW50U2VxdWVuY2VOdW1iZXIpLGg9aC5pbnNlcnQoZSxuKSxyPW8saT10LEZyKDA8KG89bikucmVzdW1lVG9rZW4uYXBwcm94aW1hdGVCeXRlU2l6ZSgpKSwoMD09PXIucmVzdW1lVG9rZW4uYXBwcm94aW1hdGVCeXRlU2l6ZSgpfHwzZTg8PW8uc25hcHNob3RWZXJzaW9uLnRvTWljcm9zZWNvbmRzKCktci5zbmFwc2hvdFZlcnNpb24udG9NaWNyb3NlY29uZHMoKXx8MDxpLmFkZGVkRG9jdW1lbnRzLnNpemUraS5tb2RpZmllZERvY3VtZW50cy5zaXplK2kucmVtb3ZlZERvY3VtZW50cy5zaXplKSYmYS5wdXNoKHUucWUudXBkYXRlVGFyZ2V0RGF0YShzLG4pKSkpfSk7dmFyIGUsbj1QcztyZXR1cm4gci5kb2N1bWVudFVwZGF0ZXMuZm9yRWFjaChmdW5jdGlvbih0LGUpe3IucmVzb2x2ZWRMaW1ib0RvY3VtZW50cy5oYXModCkmJmEucHVzaCh1LnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLnVwZGF0ZUxpbWJvRG9jdW1lbnQocyx0KSl9KSxhLnB1c2goaWgocyx0LHIuZG9jdW1lbnRVcGRhdGVzLGMsdm9pZCAwKS5uZXh0KGZ1bmN0aW9uKHQpe249dH0pKSxjLmlzRXF1YWwoR3IubWluKCkpfHwoZT11LnFlLmdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24ocykubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdS5xZS5zZXRUYXJnZXRzTWV0YWRhdGEocyxzLmN1cnJlbnRTZXF1ZW5jZU51bWJlcixjKX0pLGEucHVzaChlKSksdHUud2FpdEZvcihhKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkocyl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHUuTW4uRW4ocyxuKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gbn0pfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdS5Gbj1oLHR9KX1mdW5jdGlvbiBpaCh0LHMsZSxhLHUpe3ZhciBuPUJzKCk7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbj1uLmFkZCh0KX0pLHMuZ2V0RW50cmllcyh0LG4pLm5leHQoZnVuY3Rpb24oaSl7dmFyIG89UHM7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciBuPWkuZ2V0KHQpLHI9KG51bGw9PXU/dm9pZCAwOnUuZ2V0KHQpKXx8YTtlLmlzTm9Eb2N1bWVudCgpJiZlLnZlcnNpb24uaXNFcXVhbChHci5taW4oKSk/KHMucmVtb3ZlRW50cnkodCxyKSxvPW8uaW5zZXJ0KHQsZSkpOiFuLmlzVmFsaWREb2N1bWVudCgpfHwwPGUudmVyc2lvbi5jb21wYXJlVG8obi52ZXJzaW9uKXx8MD09PWUudmVyc2lvbi5jb21wYXJlVG8obi52ZXJzaW9uKSYmbi5oYXNQZW5kaW5nV3JpdGVzPyhzLmFkZEVudHJ5KGUsciksbz1vLmluc2VydCh0LGUpKTp4cihcIkxvY2FsU3RvcmVcIixcIklnbm9yaW5nIG91dGRhdGVkIHdhdGNoIHVwZGF0ZSBmb3IgXCIsdCxcIi4gQ3VycmVudCB2ZXJzaW9uOlwiLG4udmVyc2lvbixcIiBXYXRjaCB2ZXJzaW9uOlwiLGUudmVyc2lvbil9KSxvfSl9ZnVuY3Rpb24gb2godCxyKXt2YXIgaT10O3JldHVybiBpLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiQWxsb2NhdGUgdGFyZ2V0XCIsXCJyZWFkd3JpdGVcIixmdW5jdGlvbihlKXt2YXIgbjtyZXR1cm4gaS5xZS5nZXRUYXJnZXREYXRhKGUscikubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdD8obj10LHR1LnJlc29sdmUobikpOmkucWUuYWxsb2NhdGVUYXJnZXRJZChlKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBuPW5ldyBUdShyLHQsMCxlLmN1cnJlbnRTZXF1ZW5jZU51bWJlciksaS5xZS5hZGRUYXJnZXREYXRhKGUsbikubmV4dChmdW5jdGlvbigpe3JldHVybiBufSl9KX0pfSkudGhlbihmdW5jdGlvbih0KXt2YXIgZT1pLkZuLmdldCh0LnRhcmdldElkKTtyZXR1cm4obnVsbD09PWV8fDA8dC5zbmFwc2hvdFZlcnNpb24uY29tcGFyZVRvKGUuc25hcHNob3RWZXJzaW9uKSkmJihpLkZuPWkuRm4uaW5zZXJ0KHQudGFyZ2V0SWQsdCksaS5rbi5zZXQocix0LnRhcmdldElkKSksdH0pfWZ1bmN0aW9uIHNoKGksbyxzKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHI7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOm49KGU9aSkuRm4uZ2V0KG8pLHI9cz9cInJlYWR3cml0ZVwiOlwicmVhZHdyaXRlLXByaW1hcnlcIix0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSw0LCw1XSkscz9bMywzXTpbNCxlLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiUmVsZWFzZSB0YXJnZXRcIixyLGZ1bmN0aW9uKHQpe3JldHVybiBlLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLnJlbW92ZVRhcmdldCh0LG4pfSldO2Nhc2UgMjp0LnNlbnQoKSx0LmxhYmVsPTM7Y2FzZSAzOnJldHVyblszLDVdO2Nhc2UgNDppZighbHUocj10LnNlbnQoKSkpdGhyb3cgcjtyZXR1cm4geHIoXCJMb2NhbFN0b3JlXCIsXCJGYWlsZWQgdG8gdXBkYXRlIHNlcXVlbmNlIG51bWJlcnMgZm9yIHRhcmdldCBcIitvK1wiOiBcIityKSxbMyw1XTtjYXNlIDU6cmV0dXJuIGUuRm49ZS5Gbi5yZW1vdmUobyksZS5rbi5kZWxldGUobi50YXJnZXQpLFsyXX19KX0pfWZ1bmN0aW9uIGFoKHQsbyxzKXt2YXIgYT10LHU9R3IubWluKCksYz1CcygpO3JldHVybiBhLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiRXhlY3V0ZSBxdWVyeVwiLFwicmVhZG9ubHlcIixmdW5jdGlvbihlKXtyZXR1cm4gdD1hLG49ZSxyPU5vKG8pLCh2b2lkIDAhPT0odD0oaT10KS5rbi5nZXQocikpP3R1LnJlc29sdmUoaS5Gbi5nZXQodCkpOmkucWUuZ2V0VGFyZ2V0RGF0YShuLHIpKS5uZXh0KGZ1bmN0aW9uKHQpe2lmKHQpcmV0dXJuIHU9dC5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uLGEucWUuZ2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSx0LnRhcmdldElkKS5uZXh0KGZ1bmN0aW9uKHQpe2M9dH0pfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBhLnhuLmdldERvY3VtZW50c01hdGNoaW5nUXVlcnkoZSxvLHM/dTpHci5taW4oKSxzP2M6QnMoKSl9KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybntkb2N1bWVudHM6dCxCbjpjfX0pO3ZhciB0LG4scixpfSl9ZnVuY3Rpb24gdWgodCxlKXt2YXIgbj10LHI9bi5xZSx0PW4uRm4uZ2V0KGUpO3JldHVybiB0P1Byb21pc2UucmVzb2x2ZSh0LnRhcmdldCk6bi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkdldCB0YXJnZXQgZGF0YVwiLFwicmVhZG9ubHlcIixmdW5jdGlvbih0KXtyZXR1cm4gci5sdCh0LGUpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHQ/dC50YXJnZXQ6bnVsbH0pfSl9ZnVuY3Rpb24gY2godCl7dmFyIHM9dDtyZXR1cm4gcy5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkdldCBuZXcgZG9jdW1lbnQgY2hhbmdlc1wiLFwicmVhZG9ubHlcIixmdW5jdGlvbih0KXtyZXR1cm4gZT1zLiRuLG49dCx0PXMuT24scj1lLGk9UHMsbz1DdSh0KSx0PU9jKG4pLG49SURCS2V5UmFuZ2UubG93ZXJCb3VuZChvLCEwKSx0Lk90KHtpbmRleDpCYS5yZWFkVGltZUluZGV4LHJhbmdlOm59LGZ1bmN0aW9uKHQsZSl7dmFyIG49QXUoci5SLGUpO2k9aS5pbnNlcnQobi5rZXksbiksbz1lLnJlYWRUaW1lfSkubmV4dChmdW5jdGlvbigpe3JldHVybnt3bjppLHJlYWRUaW1lOlJ1KG8pfX0pO3ZhciBlLG4scixpLG99KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBlPXQud24sdD10LnJlYWRUaW1lO3JldHVybiBzLk9uPXQsZX0pfWZ1bmN0aW9uIGhoKG4pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuWzIsKGU9bikucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJTeW5jaHJvbml6ZSBsYXN0IGRvY3VtZW50IGNoYW5nZSByZWFkIHRpbWVcIixcInJlYWRvbmx5XCIsZnVuY3Rpb24odCl7cmV0dXJuIHQ9T2ModCkscj1Hci5taW4oKSx0Lk90KHtpbmRleDpCYS5yZWFkVGltZUluZGV4LHJldmVyc2U6ITB9LGZ1bmN0aW9uKHQsZSxuKXtlLnJlYWRUaW1lJiYocj1SdShlLnJlYWRUaW1lKSksbi5kb25lKCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KTt2YXIgcn0pLnRoZW4oZnVuY3Rpb24odCl7ZS5Pbj10fSldfSl9KX12YXIgbGgsZmgsZGg9KExoLnByb3RvdHlwZS5nZXRCdW5kbGVNZXRhZGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiB0dS5yZXNvbHZlKHRoaXMuS24uZ2V0KGUpKX0sTGgucHJvdG90eXBlLnNhdmVCdW5kbGVNZXRhZGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLktuLnNldChlLmlkLHtpZDplLmlkLHZlcnNpb246ZS52ZXJzaW9uLGNyZWF0ZVRpbWU6YWEoZS5jcmVhdGVUaW1lKX0pLHR1LnJlc29sdmUoKX0sTGgucHJvdG90eXBlLmdldE5hbWVkUXVlcnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdHUucmVzb2x2ZSh0aGlzLmpuLmdldChlKSl9LExoLnByb3RvdHlwZS5zYXZlTmFtZWRRdWVyeT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmpuLnNldChlLm5hbWUse25hbWU6KGU9ZSkubmFtZSxxdWVyeTpGdShlLmJ1bmRsZWRRdWVyeSkscmVhZFRpbWU6YWEoZS5yZWFkVGltZSl9KSx0dS5yZXNvbHZlKCl9LExoKSxwaD0oT2gucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Xbi5pc0VtcHR5KCl9LE9oLnByb3RvdHlwZS5hZGRSZWZlcmVuY2U9ZnVuY3Rpb24odCxlKXtlPW5ldyB5aCh0LGUpO3RoaXMuV249dGhpcy5Xbi5hZGQoZSksdGhpcy56bj10aGlzLnpuLmFkZChlKX0sT2gucHJvdG90eXBlLkpuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0LmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIG4uYWRkUmVmZXJlbmNlKHQsZSl9KX0sT2gucHJvdG90eXBlLnJlbW92ZVJlZmVyZW5jZT1mdW5jdGlvbih0LGUpe3RoaXMuWW4obmV3IHloKHQsZSkpfSxPaC5wcm90b3R5cGUuWG49ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3QuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi5yZW1vdmVSZWZlcmVuY2UodCxlKX0pfSxPaC5wcm90b3R5cGUuWm49ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPW5ldyBtaShuZXcgJHIoW10pKSxyPW5ldyB5aChuLHQpLHQ9bmV3IHloKG4sdCsxKSxpPVtdO3JldHVybiB0aGlzLnpuLmZvckVhY2hJblJhbmdlKFtyLHRdLGZ1bmN0aW9uKHQpe2UuWW4odCksaS5wdXNoKHQua2V5KX0pLGl9LE9oLnByb3RvdHlwZS50cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5Xbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLlluKHQpfSl9LE9oLnByb3RvdHlwZS5Zbj1mdW5jdGlvbih0KXt0aGlzLlduPXRoaXMuV24uZGVsZXRlKHQpLHRoaXMuem49dGhpcy56bi5kZWxldGUodCl9LE9oLnByb3RvdHlwZS5lcz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgbWkobmV3ICRyKFtdKSksbj1uZXcgeWgoZSx0KSx0PW5ldyB5aChlLHQrMSkscj1CcygpO3JldHVybiB0aGlzLnpuLmZvckVhY2hJblJhbmdlKFtuLHRdLGZ1bmN0aW9uKHQpe3I9ci5hZGQodC5rZXkpfSkscn0sT2gucHJvdG90eXBlLmNvbnRhaW5zS2V5PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB5aCh0LDApLGU9dGhpcy5Xbi5maXJzdEFmdGVyT3JFcXVhbChlKTtyZXR1cm4gbnVsbCE9PWUmJnQuaXNFcXVhbChlLmtleSl9LE9oKSx5aD0oeGguR249ZnVuY3Rpb24odCxlKXtyZXR1cm4gbWkuY29tcGFyYXRvcih0LmtleSxlLmtleSl8fHFyKHQubnMsZS5ucyl9LHhoLkhuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHFyKHQubnMsZS5ucyl8fG1pLmNvbXBhcmF0b3IodC5rZXksZS5rZXkpfSx4aCksZ2g9KFJoLnByb3RvdHlwZS5jaGVja0VtcHR5PWZ1bmN0aW9uKHQpe3JldHVybiB0dS5yZXNvbHZlKDA9PT10aGlzLl9uLmxlbmd0aCl9LFJoLnByb3RvdHlwZS5hZGRNdXRhdGlvbkJhdGNoPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXRoaXMuc3M7dGhpcy5zcysrLDA8dGhpcy5fbi5sZW5ndGgmJnRoaXMuX25bdGhpcy5fbi5sZW5ndGgtMV07bj1uZXcgSXUoaSxlLG4scik7dGhpcy5fbi5wdXNoKG4pO2Zvcih2YXIgbz0wLHM9cjtvPHMubGVuZ3RoO28rKyl7dmFyIGE9c1tvXTt0aGlzLnJzPXRoaXMucnMuYWRkKG5ldyB5aChhLmtleSxpKSksdGhpcy5VdC5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleCh0LGEua2V5LnBhdGgucG9wTGFzdCgpKX1yZXR1cm4gdHUucmVzb2x2ZShuKX0sUmgucHJvdG90eXBlLmxvb2t1cE11dGF0aW9uQmF0Y2g9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdHUucmVzb2x2ZSh0aGlzLm9zKGUpKX0sUmgucHJvdG90eXBlLmdldE5leHRNdXRhdGlvbkJhdGNoQWZ0ZXJCYXRjaElkPWZ1bmN0aW9uKHQsZSl7ZSs9MSxlPXRoaXMuY3MoZSksZT1lPDA/MDplO3JldHVybiB0dS5yZXNvbHZlKHRoaXMuX24ubGVuZ3RoPmU/dGhpcy5fbltlXTpudWxsKX0sUmgucHJvdG90eXBlLmdldEhpZ2hlc3RVbmFja25vd2xlZGdlZEJhdGNoSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdHUucmVzb2x2ZSgwPT09dGhpcy5fbi5sZW5ndGg/LTE6dGhpcy5zcy0xKX0sUmgucHJvdG90eXBlLmdldEFsbE11dGF0aW9uQmF0Y2hlcz1mdW5jdGlvbih0KXtyZXR1cm4gdHUucmVzb2x2ZSh0aGlzLl9uLnNsaWNlKCkpfSxSaC5wcm90b3R5cGUuZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXk9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9bmV3IHloKGUsMCksZT1uZXcgeWgoZSxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLGk9W107cmV0dXJuIHRoaXMucnMuZm9yRWFjaEluUmFuZ2UoW3IsZV0sZnVuY3Rpb24odCl7dD1uLm9zKHQubnMpO2kucHVzaCh0KX0pLHR1LnJlc29sdmUoaSl9LFJoLnByb3RvdHlwZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9bmV3IE9zKHFyKTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB5aCh0LDApLHQ9bmV3IHloKHQsTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtuLnJzLmZvckVhY2hJblJhbmdlKFtlLHRdLGZ1bmN0aW9uKHQpe3I9ci5hZGQodC5ucyl9KX0pLHR1LnJlc29sdmUodGhpcy51cyhyKSl9LFJoLnByb3RvdHlwZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdRdWVyeT1mdW5jdGlvbih0LGUpe3ZhciBuPWUucGF0aCxyPW4ubGVuZ3RoKzEsZT1uO21pLmlzRG9jdW1lbnRLZXkoZSl8fChlPWUuY2hpbGQoXCJcIikpO3ZhciBlPW5ldyB5aChuZXcgbWkoZSksMCksaT1uZXcgT3MocXIpO3JldHVybiB0aGlzLnJzLmZvckVhY2hXaGlsZShmdW5jdGlvbih0KXt2YXIgZT10LmtleS5wYXRoO3JldHVybiEhbi5pc1ByZWZpeE9mKGUpJiYoZS5sZW5ndGg9PT1yJiYoaT1pLmFkZCh0Lm5zKSksITApfSxlKSx0dS5yZXNvbHZlKHRoaXMudXMoaSkpfSxSaC5wcm90b3R5cGUudXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPVtdO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7dD1lLm9zKHQpO251bGwhPT10JiZuLnB1c2godCl9KSxufSxSaC5wcm90b3R5cGUucmVtb3ZlTXV0YXRpb25CYXRjaD1mdW5jdGlvbihuLHIpe3ZhciBpPXRoaXM7RnIoMD09PXRoaXMuaHMoci5iYXRjaElkLFwicmVtb3ZlZFwiKSksdGhpcy5fbi5zaGlmdCgpO3ZhciBvPXRoaXMucnM7cmV0dXJuIHR1LmZvckVhY2goci5tdXRhdGlvbnMsZnVuY3Rpb24odCl7dmFyIGU9bmV3IHloKHQua2V5LHIuYmF0Y2hJZCk7cmV0dXJuIG89by5kZWxldGUoZSksaS5yZWZlcmVuY2VEZWxlZ2F0ZS5tYXJrUG90ZW50aWFsbHlPcnBoYW5lZChuLHQua2V5KX0pLm5leHQoZnVuY3Rpb24oKXtpLnJzPW99KX0sUmgucHJvdG90eXBlLkd0PWZ1bmN0aW9uKHQpe30sUmgucHJvdG90eXBlLmNvbnRhaW5zS2V5PWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHloKGUsMCksbj10aGlzLnJzLmZpcnN0QWZ0ZXJPckVxdWFsKG4pO3JldHVybiB0dS5yZXNvbHZlKGUuaXNFcXVhbChuJiZuLmtleSkpfSxSaC5wcm90b3R5cGUucGVyZm9ybUNvbnNpc3RlbmN5Q2hlY2s9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX24ubGVuZ3RoLHR1LnJlc29sdmUoKX0sUmgucHJvdG90eXBlLmhzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY3ModCl9LFJoLnByb3RvdHlwZS5jcz1mdW5jdGlvbih0KXtyZXR1cm4gMD09PXRoaXMuX24ubGVuZ3RoPzA6dC10aGlzLl9uWzBdLmJhdGNoSWR9LFJoLnByb3RvdHlwZS5vcz1mdW5jdGlvbih0KXt0PXRoaXMuY3ModCk7cmV0dXJuIHQ8MHx8dD49dGhpcy5fbi5sZW5ndGg/bnVsbDp0aGlzLl9uW3RdfSxSaCksbWg9KENoLnByb3RvdHlwZS5hZGRFbnRyeT1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZS5rZXksaT10aGlzLmRvY3MuZ2V0KHIpLG89aT9pLnNpemU6MCxpPXRoaXMubHMoZSk7cmV0dXJuIHRoaXMuZG9jcz10aGlzLmRvY3MuaW5zZXJ0KHIse2RvY3VtZW50OmUuY2xvbmUoKSxzaXplOmkscmVhZFRpbWU6bn0pLHRoaXMuc2l6ZSs9aS1vLHRoaXMuVXQuYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXgodCxyLnBhdGgucG9wTGFzdCgpKX0sQ2gucHJvdG90eXBlLnJlbW92ZUVudHJ5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZG9jcy5nZXQodCk7ZSYmKHRoaXMuZG9jcz10aGlzLmRvY3MucmVtb3ZlKHQpLHRoaXMuc2l6ZS09ZS5zaXplKX0sQ2gucHJvdG90eXBlLmdldEVudHJ5PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5kb2NzLmdldChlKTtyZXR1cm4gdHUucmVzb2x2ZShuP24uZG9jdW1lbnQuY2xvbmUoKTpPaS5uZXdJbnZhbGlkRG9jdW1lbnQoZSkpfSxDaC5wcm90b3R5cGUuZ2V0RW50cmllcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1QcztyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPW4uZG9jcy5nZXQodCk7cj1yLmluc2VydCh0LGU/ZS5kb2N1bWVudC5jbG9uZSgpOk9pLm5ld0ludmFsaWREb2N1bWVudCh0KSl9KSx0dS5yZXNvbHZlKHIpfSxDaC5wcm90b3R5cGUuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPVBzLGk9bmV3IG1pKGUucGF0aC5jaGlsZChcIlwiKSksbz10aGlzLmRvY3MuZ2V0SXRlcmF0b3JGcm9tKGkpO28uaGFzTmV4dCgpOyl7dmFyIHM9by5nZXROZXh0KCksYT1zLmtleSx1PXMudmFsdWUscz11LmRvY3VtZW50LHU9dS5yZWFkVGltZTtpZighZS5wYXRoLmlzUHJlZml4T2YoYS5wYXRoKSlicmVhazt1LmNvbXBhcmVUbyhuKTw9MHx8Um8oZSxzKSYmKHI9ci5pbnNlcnQocy5rZXkscy5jbG9uZSgpKSl9cmV0dXJuIHR1LnJlc29sdmUocil9LENoLnByb3RvdHlwZS5mcz1mdW5jdGlvbih0LGUpe3JldHVybiB0dS5mb3JFYWNoKHRoaXMuZG9jcyxmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX0pfSxDaC5wcm90b3R5cGUubmV3Q2hhbmdlQnVmZmVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdmgodGhpcyl9LENoLnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKHQpe3JldHVybiB0dS5yZXNvbHZlKHRoaXMuc2l6ZSl9LENoKSx2aD0obihraCxmaD1JKSxraC5wcm90b3R5cGUuYXBwbHlDaGFuZ2VzPWZ1bmN0aW9uKG4pe3ZhciByPXRoaXMsaT1bXTtyZXR1cm4gdGhpcy5jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCxlKXtlLmRvY3VtZW50LmlzVmFsaWREb2N1bWVudCgpP2kucHVzaChyLkllLmFkZEVudHJ5KG4sZS5kb2N1bWVudCxyLmdldFJlYWRUaW1lKHQpKSk6ci5JZS5yZW1vdmVFbnRyeSh0KX0pLHR1LndhaXRGb3IoaSl9LGtoLnByb3RvdHlwZS5nZXRGcm9tQ2FjaGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5JZS5nZXRFbnRyeSh0LGUpfSxraC5wcm90b3R5cGUuZ2V0QWxsRnJvbUNhY2hlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuSWUuZ2V0RW50cmllcyh0LGUpfSxraCksYmg9KEFoLnByb3RvdHlwZS5mb3JFYWNoVGFyZ2V0PWZ1bmN0aW9uKHQsbil7cmV0dXJuIHRoaXMuZHMuZm9yRWFjaChmdW5jdGlvbih0LGUpe3JldHVybiBuKGUpfSksdHUucmVzb2x2ZSgpfSxBaC5wcm90b3R5cGUuZ2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbj1mdW5jdGlvbih0KXtyZXR1cm4gdHUucmVzb2x2ZSh0aGlzLmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24pfSxBaC5wcm90b3R5cGUuZ2V0SGlnaGVzdFNlcXVlbmNlTnVtYmVyPWZ1bmN0aW9uKHQpe3JldHVybiB0dS5yZXNvbHZlKHRoaXMud3MpfSxBaC5wcm90b3R5cGUuYWxsb2NhdGVUYXJnZXRJZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oaWdoZXN0VGFyZ2V0SWQ9dGhpcy55cy5uZXh0KCksdHUucmVzb2x2ZSh0aGlzLmhpZ2hlc3RUYXJnZXRJZCl9LEFoLnByb3RvdHlwZS5zZXRUYXJnZXRzTWV0YWRhdGE9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuJiYodGhpcy5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uPW4pLGU+dGhpcy53cyYmKHRoaXMud3M9ZSksdHUucmVzb2x2ZSgpfSxBaC5wcm90b3R5cGUudGU9ZnVuY3Rpb24odCl7dGhpcy5kcy5zZXQodC50YXJnZXQsdCk7dmFyIGU9dC50YXJnZXRJZDtlPnRoaXMuaGlnaGVzdFRhcmdldElkJiYodGhpcy55cz1uZXcgc2MoZSksdGhpcy5oaWdoZXN0VGFyZ2V0SWQ9ZSksdC5zZXF1ZW5jZU51bWJlcj50aGlzLndzJiYodGhpcy53cz10LnNlcXVlbmNlTnVtYmVyKX0sQWgucHJvdG90eXBlLmFkZFRhcmdldERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50ZShlKSx0aGlzLnRhcmdldENvdW50Kz0xLHR1LnJlc29sdmUoKX0sQWgucHJvdG90eXBlLnVwZGF0ZVRhcmdldERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50ZShlKSx0dS5yZXNvbHZlKCl9LEFoLnByb3RvdHlwZS5yZW1vdmVUYXJnZXREYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZHMuZGVsZXRlKGUudGFyZ2V0KSx0aGlzLl9zLlpuKGUudGFyZ2V0SWQpLC0tdGhpcy50YXJnZXRDb3VudCx0dS5yZXNvbHZlKCl9LEFoLnByb3RvdHlwZS5yZW1vdmVUYXJnZXRzPWZ1bmN0aW9uKG4scixpKXt2YXIgbz10aGlzLHM9MCxhPVtdO3JldHVybiB0aGlzLmRzLmZvckVhY2goZnVuY3Rpb24odCxlKXtlLnNlcXVlbmNlTnVtYmVyPD1yJiZudWxsPT09aS5nZXQoZS50YXJnZXRJZCkmJihvLmRzLmRlbGV0ZSh0KSxhLnB1c2goby5yZW1vdmVNYXRjaGluZ0tleXNGb3JUYXJnZXRJZChuLGUudGFyZ2V0SWQpKSxzKyspfSksdHUud2FpdEZvcihhKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHN9KX0sQWgucHJvdG90eXBlLmdldFRhcmdldENvdW50PWZ1bmN0aW9uKHQpe3JldHVybiB0dS5yZXNvbHZlKHRoaXMudGFyZ2V0Q291bnQpfSxBaC5wcm90b3R5cGUuZ2V0VGFyZ2V0RGF0YT1mdW5jdGlvbih0LGUpe2U9dGhpcy5kcy5nZXQoZSl8fG51bGw7cmV0dXJuIHR1LnJlc29sdmUoZSl9LEFoLnByb3RvdHlwZS5hZGRNYXRjaGluZ0tleXM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLl9zLkpuKGUsbiksdHUucmVzb2x2ZSgpfSxBaC5wcm90b3R5cGUucmVtb3ZlTWF0Y2hpbmdLZXlzPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLl9zLlhuKHQsbik7dmFyIHI9dGhpcy5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZSxpPVtdO3JldHVybiByJiZ0LmZvckVhY2goZnVuY3Rpb24odCl7aS5wdXNoKHIubWFya1BvdGVudGlhbGx5T3JwaGFuZWQoZSx0KSl9KSx0dS53YWl0Rm9yKGkpfSxBaC5wcm90b3R5cGUucmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fcy5abihlKSx0dS5yZXNvbHZlKCl9LEFoLnByb3RvdHlwZS5nZXRNYXRjaGluZ0tleXNGb3JUYXJnZXRJZD1mdW5jdGlvbih0LGUpe2U9dGhpcy5fcy5lcyhlKTtyZXR1cm4gdHUucmVzb2x2ZShlKX0sQWgucHJvdG90eXBlLmNvbnRhaW5zS2V5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR1LnJlc29sdmUodGhpcy5fcy5jb250YWluc0tleShlKSl9LEFoKSx3aD0oRGgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfSxEaC5wcm90b3R5cGUuc2h1dGRvd249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54ZT0hMSxQcm9taXNlLnJlc29sdmUoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KERoLnByb3RvdHlwZSxcInN0YXJ0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksRGgucHJvdG90eXBlLnNldERhdGFiYXNlRGVsZXRlZExpc3RlbmVyPWZ1bmN0aW9uKCl7fSxEaC5wcm90b3R5cGUuc2V0TmV0d29ya0VuYWJsZWQ9ZnVuY3Rpb24oKXt9LERoLnByb3RvdHlwZS5nZXRJbmRleE1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5VdH0sRGgucHJvdG90eXBlLmdldE11dGF0aW9uUXVldWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nc1t0LnRvS2V5KCldO3JldHVybiBlfHwoZT1uZXcgZ2godGhpcy5VdCx0aGlzLnJlZmVyZW5jZURlbGVnYXRlKSx0aGlzLmdzW3QudG9LZXkoKV09ZSksZX0sRGgucHJvdG90eXBlLmdldFRhcmdldENhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucWV9LERoLnByb3RvdHlwZS5nZXRSZW1vdGVEb2N1bWVudENhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVWV9LERoLnByb3RvdHlwZS5nZXRCdW5kbGVDYWNoZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlFlfSxEaC5wcm90b3R5cGUucnVuVHJhbnNhY3Rpb249ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7eHIoXCJNZW1vcnlQZXJzaXN0ZW5jZVwiLFwiU3RhcnRpbmcgdHJhbnNhY3Rpb246XCIsdCk7dmFyIGk9bmV3IEloKHRoaXMuTmUubmV4dCgpKTtyZXR1cm4gdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZS5FcygpLG4oaSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gci5yZWZlcmVuY2VEZWxlZ2F0ZS5UcyhpKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX0pLnRvUHJvbWlzZSgpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGkucmFpc2VPbkNvbW1pdHRlZEV2ZW50KCksdH0pfSxEaC5wcm90b3R5cGUuSXM9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdHUub3IoT2JqZWN0LnZhbHVlcyh0aGlzLmdzKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuY29udGFpbnNLZXkoZSxuKX19KSl9LERoKSxJaD0obihOaCxsaD1UZSksTmgpLEVoPShTaC5icz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFNoKHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU2gucHJvdG90eXBlLFwidnNcIix7Z2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5ScylyZXR1cm4gdGhpcy5Sczt0aHJvdyBNcigpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFNoLnByb3RvdHlwZS5hZGRSZWZlcmVuY2U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLkFzLmFkZFJlZmVyZW5jZShuLGUpLHRoaXMudnMuZGVsZXRlKG4udG9TdHJpbmcoKSksdHUucmVzb2x2ZSgpfSxTaC5wcm90b3R5cGUucmVtb3ZlUmVmZXJlbmNlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5Bcy5yZW1vdmVSZWZlcmVuY2UobixlKSx0aGlzLnZzLmFkZChuLnRvU3RyaW5nKCkpLHR1LnJlc29sdmUoKX0sU2gucHJvdG90eXBlLm1hcmtQb3RlbnRpYWxseU9ycGhhbmVkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudnMuYWRkKGUudG9TdHJpbmcoKSksdHUucmVzb2x2ZSgpfSxTaC5wcm90b3R5cGUucmVtb3ZlVGFyZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLkFzLlpuKGUudGFyZ2V0SWQpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIG4udnMuYWRkKHQudG9TdHJpbmcoKSl9KTt2YXIgcj10aGlzLnBlcnNpc3RlbmNlLmdldFRhcmdldENhY2hlKCk7cmV0dXJuIHIuZ2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQodCxlLnRhcmdldElkKS5uZXh0KGZ1bmN0aW9uKHQpe3QuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi52cy5hZGQodC50b1N0cmluZygpKX0pfSkubmV4dChmdW5jdGlvbigpe3JldHVybiByLnJlbW92ZVRhcmdldERhdGEodCxlKX0pfSxTaC5wcm90b3R5cGUuRXM9ZnVuY3Rpb24oKXt0aGlzLlJzPW5ldyBTZXR9LFNoLnByb3RvdHlwZS5Ucz1mdW5jdGlvbihuKXt2YXIgcj10aGlzLGk9dGhpcy5wZXJzaXN0ZW5jZS5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCkubmV3Q2hhbmdlQnVmZmVyKCk7cmV0dXJuIHR1LmZvckVhY2godGhpcy52cyxmdW5jdGlvbih0KXt2YXIgZT1taS5mcm9tUGF0aCh0KTtyZXR1cm4gci5QcyhuLGUpLm5leHQoZnVuY3Rpb24odCl7dHx8aS5yZW1vdmVFbnRyeShlKX0pfSkubmV4dChmdW5jdGlvbigpe3JldHVybiByLlJzPW51bGwsaS5hcHBseShuKX0pfSxTaC5wcm90b3R5cGUudXBkYXRlTGltYm9Eb2N1bWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuUHModCxlKS5uZXh0KGZ1bmN0aW9uKHQpe3Q/bi52cy5kZWxldGUoZS50b1N0cmluZygpKTpuLnZzLmFkZChlLnRvU3RyaW5nKCkpfSl9LFNoLnByb3RvdHlwZS5wcz1mdW5jdGlvbih0KXtyZXR1cm4gMH0sU2gucHJvdG90eXBlLlBzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdHUub3IoW2Z1bmN0aW9uKCl7cmV0dXJuIHR1LnJlc29sdmUobi5Bcy5jb250YWluc0tleShlKSl9LGZ1bmN0aW9uKCl7cmV0dXJuIG4ucGVyc2lzdGVuY2UuZ2V0VGFyZ2V0Q2FjaGUoKS5jb250YWluc0tleSh0LGUpfSxmdW5jdGlvbigpe3JldHVybiBuLnBlcnNpc3RlbmNlLklzKHQsZSl9XSl9LFNoKSxUaD0oX2gucHJvdG90eXBlLmlzQXV0aGVudGljYXRlZD1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLnVpZH0sX2gucHJvdG90eXBlLnRvS2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNBdXRoZW50aWNhdGVkKCk/XCJ1aWQ6XCIrdGhpcy51aWQ6XCJhbm9ueW1vdXMtdXNlclwifSxfaC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdC51aWQ9PT10aGlzLnVpZH0sX2gpO2Z1bmN0aW9uIF9oKHQpe3RoaXMudWlkPXR9ZnVuY3Rpb24gU2godCl7dGhpcy5wZXJzaXN0ZW5jZT10LHRoaXMuQXM9bmV3IHBoLHRoaXMuUnM9bnVsbH1mdW5jdGlvbiBOaCh0KXt2YXIgZT10aGlzO3JldHVybihlPWxoLmNhbGwodGhpcyl8fHRoaXMpLmN1cnJlbnRTZXF1ZW5jZU51bWJlcj10LGV9ZnVuY3Rpb24gRGgodCxlKXt2YXIgbj10aGlzO3RoaXMuZ3M9e30sdGhpcy5OZT1uZXcgX3IoMCksdGhpcy54ZT0hMSx0aGlzLnhlPSEwLHRoaXMucmVmZXJlbmNlRGVsZWdhdGU9dCh0aGlzKSx0aGlzLnFlPW5ldyBiaCh0aGlzKSx0aGlzLlV0PW5ldyBqdSx0aGlzLlVlPSh0PXRoaXMuVXQsbmV3IG1oKHQsZnVuY3Rpb24odCl7cmV0dXJuIG4ucmVmZXJlbmNlRGVsZWdhdGUucHModCl9KSksdGhpcy5SPW5ldyBfdShlKSx0aGlzLlFlPW5ldyBkaCh0aGlzLlIpfWZ1bmN0aW9uIEFoKHQpe3RoaXMucGVyc2lzdGVuY2U9dCx0aGlzLmRzPW5ldyBTYyhGaSxWaSksdGhpcy5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uPUdyLm1pbigpLHRoaXMuaGlnaGVzdFRhcmdldElkPTAsdGhpcy53cz0wLHRoaXMuX3M9bmV3IHBoLHRoaXMudGFyZ2V0Q291bnQ9MCx0aGlzLnlzPXNjLkp0KCl9ZnVuY3Rpb24ga2godCl7dmFyIGU9dGhpcztyZXR1cm4oZT1maC5jYWxsKHRoaXMpfHx0aGlzKS5JZT10LGV9ZnVuY3Rpb24gQ2godCxlKXt0aGlzLlV0PXQsdGhpcy5scz1lLHRoaXMuZG9jcz1uZXcgTnMobWkuY29tcGFyYXRvciksdGhpcy5zaXplPTB9ZnVuY3Rpb24gUmgodCxlKXt0aGlzLlV0PXQsdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZT1lLHRoaXMuX249W10sdGhpcy5zcz0xLHRoaXMucnM9bmV3IE9zKHloLkduKX1mdW5jdGlvbiB4aCh0LGUpe3RoaXMua2V5PXQsdGhpcy5ucz1lfWZ1bmN0aW9uIE9oKCl7dGhpcy5Xbj1uZXcgT3MoeWguR24pLHRoaXMuem49bmV3IE9zKHloLkhuKX1mdW5jdGlvbiBMaCh0KXt0aGlzLlI9dCx0aGlzLktuPW5ldyBNYXAsdGhpcy5qbj1uZXcgTWFwfWZ1bmN0aW9uIFBoKHQsZSl7cmV0dXJuXCJmaXJlc3RvcmVfY2xpZW50c19cIit0K1wiX1wiK2V9ZnVuY3Rpb24gTWgodCxlLG4pe249XCJmaXJlc3RvcmVfbXV0YXRpb25zX1wiK3QrXCJfXCIrbjtyZXR1cm4gZS5pc0F1dGhlbnRpY2F0ZWQoKSYmKG4rPVwiX1wiK2UudWlkKSxufWZ1bmN0aW9uIEZoKHQsZSl7cmV0dXJuXCJmaXJlc3RvcmVfdGFyZ2V0c19cIit0K1wiX1wiK2V9VGguVU5BVVRIRU5USUNBVEVEPW5ldyBUaChudWxsKSxUaC5HT09HTEVfQ1JFREVOVElBTFM9bmV3IFRoKFwiZ29vZ2xlLWNyZWRlbnRpYWxzLXVpZFwiKSxUaC5GSVJTVF9QQVJUWT1uZXcgVGgoXCJmaXJzdC1wYXJ0eS11aWRcIik7dmFyIFZoLFVoPSh1bC5Wcz1mdW5jdGlvbih0LGUsbil7dmFyIHIsaT1KU09OLnBhcnNlKG4pLG89XCJvYmplY3RcIj09dHlwZW9mIGkmJi0xIT09W1wicGVuZGluZ1wiLFwiYWNrbm93bGVkZ2VkXCIsXCJyZWplY3RlZFwiXS5pbmRleE9mKGkuc3RhdGUpJiYodm9pZCAwPT09aS5lcnJvcnx8XCJvYmplY3RcIj09dHlwZW9mIGkuZXJyb3IpO3JldHVybiBvJiZpLmVycm9yJiYobz1cInN0cmluZ1wiPT10eXBlb2YgaS5lcnJvci5tZXNzYWdlJiZcInN0cmluZ1wiPT10eXBlb2YgaS5lcnJvci5jb2RlKSYmKHI9bmV3IEFyKGkuZXJyb3IuY29kZSxpLmVycm9yLm1lc3NhZ2UpKSxvP25ldyB1bCh0LGUsaS5zdGF0ZSxyKTooT3IoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLFwiRmFpbGVkIHRvIHBhcnNlIG11dGF0aW9uIHN0YXRlIGZvciBJRCAnXCIrZStcIic6IFwiK24pLG51bGwpfSx1bC5wcm90b3R5cGUuU3M9ZnVuY3Rpb24oKXt2YXIgdD17c3RhdGU6dGhpcy5zdGF0ZSx1cGRhdGVUaW1lTXM6RGF0ZS5ub3coKX07cmV0dXJuIHRoaXMuZXJyb3ImJih0LmVycm9yPXtjb2RlOnRoaXMuZXJyb3IuY29kZSxtZXNzYWdlOnRoaXMuZXJyb3IubWVzc2FnZX0pLEpTT04uc3RyaW5naWZ5KHQpfSx1bCkscWg9KGFsLlZzPWZ1bmN0aW9uKHQsZSl7dmFyIG4scj1KU09OLnBhcnNlKGUpLGk9XCJvYmplY3RcIj09dHlwZW9mIHImJi0xIT09W1wibm90LWN1cnJlbnRcIixcImN1cnJlbnRcIixcInJlamVjdGVkXCJdLmluZGV4T2Yoci5zdGF0ZSkmJih2b2lkIDA9PT1yLmVycm9yfHxcIm9iamVjdFwiPT10eXBlb2Ygci5lcnJvcik7cmV0dXJuIGkmJnIuZXJyb3ImJihpPVwic3RyaW5nXCI9PXR5cGVvZiByLmVycm9yLm1lc3NhZ2UmJlwic3RyaW5nXCI9PXR5cGVvZiByLmVycm9yLmNvZGUpJiYobj1uZXcgQXIoci5lcnJvci5jb2RlLHIuZXJyb3IubWVzc2FnZSkpLGk/bmV3IGFsKHQsci5zdGF0ZSxuKTooT3IoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLFwiRmFpbGVkIHRvIHBhcnNlIHRhcmdldCBzdGF0ZSBmb3IgSUQgJ1wiK3QrXCInOiBcIitlKSxudWxsKX0sYWwucHJvdG90eXBlLlNzPWZ1bmN0aW9uKCl7dmFyIHQ9e3N0YXRlOnRoaXMuc3RhdGUsdXBkYXRlVGltZU1zOkRhdGUubm93KCl9O3JldHVybiB0aGlzLmVycm9yJiYodC5lcnJvcj17Y29kZTp0aGlzLmVycm9yLmNvZGUsbWVzc2FnZTp0aGlzLmVycm9yLm1lc3NhZ2V9KSxKU09OLnN0cmluZ2lmeSh0KX0sYWwpLEJoPShzbC5Wcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1KU09OLnBhcnNlKGUpLHI9XCJvYmplY3RcIj09dHlwZW9mIG4mJm4uYWN0aXZlVGFyZ2V0SWRzIGluc3RhbmNlb2YgQXJyYXksaT1qcyxvPTA7ciYmbzxuLmFjdGl2ZVRhcmdldElkcy5sZW5ndGg7KytvKXI9Z2kobi5hY3RpdmVUYXJnZXRJZHNbb10pLGk9aS5hZGQobi5hY3RpdmVUYXJnZXRJZHNbb10pO3JldHVybiByP25ldyBzbCh0LGkpOihPcihcIlNoYXJlZENsaWVudFN0YXRlXCIsXCJGYWlsZWQgdG8gcGFyc2UgY2xpZW50IGRhdGEgZm9yIGluc3RhbmNlICdcIit0K1wiJzogXCIrZSksbnVsbCl9LHNsKSxqaD0ob2wuVnM9ZnVuY3Rpb24odCl7dmFyIGU9SlNPTi5wYXJzZSh0KTtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmLTEhPT1bXCJVbmtub3duXCIsXCJPbmxpbmVcIixcIk9mZmxpbmVcIl0uaW5kZXhPZihlLm9ubGluZVN0YXRlKSYmXCJzdHJpbmdcIj09dHlwZW9mIGUuY2xpZW50SWQ/bmV3IG9sKGUuY2xpZW50SWQsZS5vbmxpbmVTdGF0ZSk6KE9yKFwiU2hhcmVkQ2xpZW50U3RhdGVcIixcIkZhaWxlZCB0byBwYXJzZSBvbmxpbmUgc3RhdGU6IFwiK3QpLG51bGwpfSxvbCksS2g9KGlsLnByb3RvdHlwZS5Ecz1mdW5jdGlvbih0KXt0aGlzLmFjdGl2ZVRhcmdldElkcz10aGlzLmFjdGl2ZVRhcmdldElkcy5hZGQodCl9LGlsLnByb3RvdHlwZS5Dcz1mdW5jdGlvbih0KXt0aGlzLmFjdGl2ZVRhcmdldElkcz10aGlzLmFjdGl2ZVRhcmdldElkcy5kZWxldGUodCl9LGlsLnByb3RvdHlwZS5Tcz1mdW5jdGlvbigpe3ZhciB0PXthY3RpdmVUYXJnZXRJZHM6dGhpcy5hY3RpdmVUYXJnZXRJZHMudG9BcnJheSgpLHVwZGF0ZVRpbWVNczpEYXRlLm5vdygpfTtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodCl9LGlsKSxHaD0ocmwueXQ9ZnVuY3Rpb24odCl7cmV0dXJuISghdHx8IXQubG9jYWxTdG9yYWdlKX0scmwucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyLGksbyxzLGEsdSxjLGgsbD10aGlzO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN5bmNFbmdpbmUuZm4oKV07Y2FzZSAxOmZvcihzPXQuc2VudCgpLGU9MCxuPXM7ZTxuLmxlbmd0aDtlKyspKHI9bltlXSkhPT10aGlzLk5zJiYoaT10aGlzLmdldEl0ZW0oUGgodGhpcy5wZXJzaXN0ZW5jZUtleSxyKSkpJiYobz1CaC5WcyhyLGkpKSYmKHRoaXMua3M9dGhpcy5rcy5pbnNlcnQoby5jbGllbnRJZCxvKSk7Zm9yKHRoaXMuS3MoKSwocz10aGlzLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLlVzKSkmJihhPXRoaXMuanMocykpJiZ0aGlzLldzKGEpLHU9MCxjPXRoaXMuT3M7dTxjLmxlbmd0aDt1KyspaD1jW3VdLHRoaXMuRnMoaCk7cmV0dXJuIHRoaXMuT3M9W10sdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGwuc2h1dGRvd24oKX0pLHRoaXMuc3RhcnRlZD0hMCxbMl19fSl9KX0scmwucHJvdG90eXBlLndyaXRlU2VxdWVuY2VOdW1iZXI9ZnVuY3Rpb24odCl7dGhpcy5zZXRJdGVtKHRoaXMuTXMsSlNPTi5zdHJpbmdpZnkodCkpfSxybC5wcm90b3R5cGUuZ2V0QWxsQWN0aXZlUXVlcnlUYXJnZXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR3ModGhpcy5rcyl9LHJsLnByb3RvdHlwZS5pc0FjdGl2ZVF1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKG4pe3ZhciByPSExO3JldHVybiB0aGlzLmtzLmZvckVhY2goZnVuY3Rpb24odCxlKXtlLmFjdGl2ZVRhcmdldElkcy5oYXMobikmJihyPSEwKX0pLHJ9LHJsLnByb3RvdHlwZS5hZGRQZW5kaW5nTXV0YXRpb249ZnVuY3Rpb24odCl7dGhpcy56cyh0LFwicGVuZGluZ1wiKX0scmwucHJvdG90eXBlLnVwZGF0ZU11dGF0aW9uU3RhdGU9ZnVuY3Rpb24odCxlLG4pe3RoaXMuenModCxlLG4pLHRoaXMuSHModCl9LHJsLnByb3RvdHlwZS5hZGRMb2NhbFF1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlLG49XCJub3QtY3VycmVudFwiO3JldHVybiB0aGlzLmlzQWN0aXZlUXVlcnlUYXJnZXQodCkmJighKGU9dGhpcy5zdG9yYWdlLmdldEl0ZW0oRmgodGhpcy5wZXJzaXN0ZW5jZUtleSx0KSkpfHwoZT1xaC5Wcyh0LGUpKSYmKG49ZS5zdGF0ZSkpLHRoaXMuSnMuRHModCksdGhpcy5LcygpLG59LHJsLnByb3RvdHlwZS5yZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKHQpe3RoaXMuSnMuQ3ModCksdGhpcy5LcygpfSxybC5wcm90b3R5cGUuaXNMb2NhbFF1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkpzLmFjdGl2ZVRhcmdldElkcy5oYXModCl9LHJsLnByb3RvdHlwZS5jbGVhclF1ZXJ5U3RhdGU9ZnVuY3Rpb24odCl7dGhpcy5yZW1vdmVJdGVtKEZoKHRoaXMucGVyc2lzdGVuY2VLZXksdCkpfSxybC5wcm90b3R5cGUudXBkYXRlUXVlcnlTdGF0ZT1mdW5jdGlvbih0LGUsbil7dGhpcy5Zcyh0LGUsbil9LHJsLnByb3RvdHlwZS5oYW5kbGVVc2VyQ2hhbmdlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO2UuZm9yRWFjaChmdW5jdGlvbih0KXtyLkhzKHQpfSksdGhpcy5jdXJyZW50VXNlcj10LG4uZm9yRWFjaChmdW5jdGlvbih0KXtyLmFkZFBlbmRpbmdNdXRhdGlvbih0KX0pfSxybC5wcm90b3R5cGUuc2V0T25saW5lU3RhdGU9ZnVuY3Rpb24odCl7dGhpcy5Ycyh0KX0scmwucHJvdG90eXBlLm5vdGlmeUJ1bmRsZUxvYWRlZD1mdW5jdGlvbigpe3RoaXMuWnMoKX0scmwucHJvdG90eXBlLnNodXRkb3duPWZ1bmN0aW9uKCl7dGhpcy5zdGFydGVkJiYodGhpcy53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIix0aGlzLnhzKSx0aGlzLnJlbW92ZUl0ZW0odGhpcy4kcyksdGhpcy5zdGFydGVkPSExKX0scmwucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdG9yYWdlLmdldEl0ZW0odCk7cmV0dXJuIHhyKFwiU2hhcmVkQ2xpZW50U3RhdGVcIixcIlJFQURcIix0LGUpLGV9LHJsLnByb3RvdHlwZS5zZXRJdGVtPWZ1bmN0aW9uKHQsZSl7eHIoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLFwiU0VUXCIsdCxlKSx0aGlzLnN0b3JhZ2Uuc2V0SXRlbSh0LGUpfSxybC5wcm90b3R5cGUucmVtb3ZlSXRlbT1mdW5jdGlvbih0KXt4cihcIlNoYXJlZENsaWVudFN0YXRlXCIsXCJSRU1PVkVcIix0KSx0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbSh0KX0scmwucHJvdG90eXBlLkZzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbz10O28uc3RvcmFnZUFyZWE9PT10aGlzLnN0b3JhZ2UmJih4cihcIlNoYXJlZENsaWVudFN0YXRlXCIsXCJFVkVOVFwiLG8ua2V5LG8ubmV3VmFsdWUpLG8ua2V5IT09dGhpcy4kcz90aGlzLlNlLmVucXVldWVSZXRyeWFibGUoZnVuY3Rpb24oKXtyZXR1cm4geShlLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHIsaTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe2lmKHRoaXMuc3RhcnRlZCl7aWYobnVsbCE9PW8ua2V5KWlmKHRoaXMuTHMudGVzdChvLmtleSkpe2lmKG51bGw9PW8ubmV3VmFsdWUpcmV0dXJuIGU9dGhpcy50aShvLmtleSksWzIsdGhpcy5laShlLG51bGwpXTtpZihlPXRoaXMubmkoby5rZXksby5uZXdWYWx1ZSkpcmV0dXJuWzIsdGhpcy5laShlLmNsaWVudElkLGUpXX1lbHNlIGlmKHRoaXMuQnMudGVzdChvLmtleSkpe2lmKG51bGwhPT1vLm5ld1ZhbHVlJiYobj10aGlzLnNpKG8ua2V5LG8ubmV3VmFsdWUpKSlyZXR1cm5bMix0aGlzLmlpKG4pXX1lbHNlIGlmKHRoaXMucXMudGVzdChvLmtleSkpe2lmKG51bGwhPT1vLm5ld1ZhbHVlJiYocj10aGlzLnJpKG8ua2V5LG8ubmV3VmFsdWUpKSlyZXR1cm5bMix0aGlzLm9pKHIpXX1lbHNlIGlmKG8ua2V5PT09dGhpcy5Vcyl7aWYobnVsbCE9PW8ubmV3VmFsdWUmJihpPXRoaXMuanMoby5uZXdWYWx1ZSkpKXJldHVyblsyLHRoaXMuV3MoaSldfWVsc2UgaWYoby5rZXk9PT10aGlzLk1zKShpPWZ1bmN0aW9uKHQpe3ZhciBlPV9yLm87aWYobnVsbCE9dCl0cnl7dmFyIG49SlNPTi5wYXJzZSh0KTtGcihcIm51bWJlclwiPT10eXBlb2YgbiksZT1ufWNhdGNoKHQpe09yKFwiU2hhcmVkQ2xpZW50U3RhdGVcIixcIkZhaWxlZCB0byByZWFkIHNlcXVlbmNlIG51bWJlciBmcm9tIFdlYlN0b3JhZ2VcIix0KX1yZXR1cm4gZX0oby5uZXdWYWx1ZSkpIT09X3IubyYmdGhpcy5zZXF1ZW5jZU51bWJlckhhbmRsZXIoaSk7ZWxzZSBpZihvLmtleT09PXRoaXMuUXMpcmV0dXJuWzIsdGhpcy5zeW5jRW5naW5lLmNpKCldfWVsc2UgdGhpcy5Pcy5wdXNoKG8pO3JldHVyblsyXX0pfSl9KTpPcihcIlJlY2VpdmVkIFdlYlN0b3JhZ2Ugbm90aWZpY2F0aW9uIGZvciBsb2NhbCBjaGFuZ2UuIEFub3RoZXIgY2xpZW50IG1pZ2h0IGhhdmUgZ2FyYmFnZS1jb2xsZWN0ZWQgb3VyIHN0YXRlXCIpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHJsLnByb3RvdHlwZSxcIkpzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmtzLmdldCh0aGlzLk5zKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxybC5wcm90b3R5cGUuS3M9ZnVuY3Rpb24oKXt0aGlzLnNldEl0ZW0odGhpcy4kcyx0aGlzLkpzLlNzKCkpfSxybC5wcm90b3R5cGUuenM9ZnVuY3Rpb24odCxlLG4pe249bmV3IFVoKHRoaXMuY3VycmVudFVzZXIsdCxlLG4pLHQ9TWgodGhpcy5wZXJzaXN0ZW5jZUtleSx0aGlzLmN1cnJlbnRVc2VyLHQpO3RoaXMuc2V0SXRlbSh0LG4uU3MoKSl9LHJsLnByb3RvdHlwZS5Icz1mdW5jdGlvbih0KXt0PU1oKHRoaXMucGVyc2lzdGVuY2VLZXksdGhpcy5jdXJyZW50VXNlcix0KTt0aGlzLnJlbW92ZUl0ZW0odCl9LHJsLnByb3RvdHlwZS5Ycz1mdW5jdGlvbih0KXt0PXtjbGllbnRJZDp0aGlzLk5zLG9ubGluZVN0YXRlOnR9O3RoaXMuc3RvcmFnZS5zZXRJdGVtKHRoaXMuVXMsSlNPTi5zdHJpbmdpZnkodCkpfSxybC5wcm90b3R5cGUuWXM9ZnVuY3Rpb24odCxlLG4pe3ZhciByPUZoKHRoaXMucGVyc2lzdGVuY2VLZXksdCksbj1uZXcgcWgodCxlLG4pO3RoaXMuc2V0SXRlbShyLG4uU3MoKSl9LHJsLnByb3RvdHlwZS5acz1mdW5jdGlvbigpe3RoaXMuc2V0SXRlbSh0aGlzLlFzLFwidmFsdWUtbm90LXVzZWRcIil9LHJsLnByb3RvdHlwZS50aT1mdW5jdGlvbih0KXt0PXRoaXMuTHMuZXhlYyh0KTtyZXR1cm4gdD90WzFdOm51bGx9LHJsLnByb3RvdHlwZS5uaT1mdW5jdGlvbih0LGUpe3Q9dGhpcy50aSh0KTtyZXR1cm4gQmguVnModCxlKX0scmwucHJvdG90eXBlLnNpPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5Ccy5leGVjKHQpLHQ9TnVtYmVyKG5bMV0pLG49dm9pZCAwIT09blsyXT9uWzJdOm51bGw7cmV0dXJuIFVoLlZzKG5ldyBUaChuKSx0LGUpfSxybC5wcm90b3R5cGUucmk9ZnVuY3Rpb24odCxlKXt0PXRoaXMucXMuZXhlYyh0KSx0PU51bWJlcih0WzFdKTtyZXR1cm4gcWguVnModCxlKX0scmwucHJvdG90eXBlLmpzPWZ1bmN0aW9uKHQpe3JldHVybiBqaC5Wcyh0KX0scmwucHJvdG90eXBlLmlpPWZ1bmN0aW9uKGUpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIGUudXNlci51aWQ9PT10aGlzLmN1cnJlbnRVc2VyLnVpZD9bMix0aGlzLnN5bmNFbmdpbmUudWkoZS5iYXRjaElkLGUuc3RhdGUsZS5lcnJvcildOih4cihcIlNoYXJlZENsaWVudFN0YXRlXCIsXCJJZ25vcmluZyBtdXRhdGlvbiBmb3Igbm9uLWFjdGl2ZSB1c2VyIFwiK2UudXNlci51aWQpLFsyXSl9KX0pfSxybC5wcm90b3R5cGUub2k9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3luY0VuZ2luZS5haSh0LnRhcmdldElkLHQuc3RhdGUsdC5lcnJvcil9LHJsLnByb3RvdHlwZS5laT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1lP3RoaXMua3MuaW5zZXJ0KHQsZSk6dGhpcy5rcy5yZW1vdmUodCksaT10aGlzLkdzKHRoaXMua3MpLG89dGhpcy5HcyhyKSxzPVtdLGE9W107cmV0dXJuIG8uZm9yRWFjaChmdW5jdGlvbih0KXtpLmhhcyh0KXx8cy5wdXNoKHQpfSksaS5mb3JFYWNoKGZ1bmN0aW9uKHQpe28uaGFzKHQpfHxhLnB1c2godCl9KSx0aGlzLnN5bmNFbmdpbmUuaGkocyxhKS50aGVuKGZ1bmN0aW9uKCl7bi5rcz1yfSl9LHJsLnByb3RvdHlwZS5Xcz1mdW5jdGlvbih0KXt0aGlzLmtzLmdldCh0LmNsaWVudElkKSYmdGhpcy5vbmxpbmVTdGF0ZUhhbmRsZXIodC5vbmxpbmVTdGF0ZSl9LHJsLnByb3RvdHlwZS5Hcz1mdW5jdGlvbih0KXt2YXIgbj1qcztyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7bj1uLnVuaW9uV2l0aChlLmFjdGl2ZVRhcmdldElkcyl9KSxufSxybCksUWg9KG5sLnByb3RvdHlwZS5hZGRQZW5kaW5nTXV0YXRpb249ZnVuY3Rpb24odCl7fSxubC5wcm90b3R5cGUudXBkYXRlTXV0YXRpb25TdGF0ZT1mdW5jdGlvbih0LGUsbil7fSxubC5wcm90b3R5cGUuYWRkTG9jYWxRdWVyeVRhcmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5saS5Ecyh0KSx0aGlzLmZpW3RdfHxcIm5vdC1jdXJyZW50XCJ9LG5sLnByb3RvdHlwZS51cGRhdGVRdWVyeVN0YXRlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmZpW3RdPWV9LG5sLnByb3RvdHlwZS5yZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKHQpe3RoaXMubGkuQ3ModCl9LG5sLnByb3RvdHlwZS5pc0xvY2FsUXVlcnlUYXJnZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGkuYWN0aXZlVGFyZ2V0SWRzLmhhcyh0KX0sbmwucHJvdG90eXBlLmNsZWFyUXVlcnlTdGF0ZT1mdW5jdGlvbih0KXtkZWxldGUgdGhpcy5maVt0XX0sbmwucHJvdG90eXBlLmdldEFsbEFjdGl2ZVF1ZXJ5VGFyZ2V0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxpLmFjdGl2ZVRhcmdldElkc30sbmwucHJvdG90eXBlLmlzQWN0aXZlUXVlcnlUYXJnZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGkuYWN0aXZlVGFyZ2V0SWRzLmhhcyh0KX0sbmwucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGk9bmV3IEtoLFByb21pc2UucmVzb2x2ZSgpfSxubC5wcm90b3R5cGUuaGFuZGxlVXNlckNoYW5nZT1mdW5jdGlvbih0LGUsbil7fSxubC5wcm90b3R5cGUuc2V0T25saW5lU3RhdGU9ZnVuY3Rpb24odCl7fSxubC5wcm90b3R5cGUuc2h1dGRvd249ZnVuY3Rpb24oKXt9LG5sLnByb3RvdHlwZS53cml0ZVNlcXVlbmNlTnVtYmVyPWZ1bmN0aW9uKHQpe30sbmwucHJvdG90eXBlLm5vdGlmeUJ1bmRsZUxvYWRlZD1mdW5jdGlvbigpe30sbmwpLHpoPShlbC5wcm90b3R5cGUuZGk9ZnVuY3Rpb24odCl7fSxlbC5wcm90b3R5cGUuc2h1dGRvd249ZnVuY3Rpb24oKXt9LGVsKSxIaD0odGwucHJvdG90eXBlLmRpPWZ1bmN0aW9uKHQpe3RoaXMuZ2kucHVzaCh0KX0sdGwucHJvdG90eXBlLnNodXRkb3duPWZ1bmN0aW9uKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIix0aGlzLndpKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIix0aGlzLm1pKX0sdGwucHJvdG90eXBlLnBpPWZ1bmN0aW9uKCl7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIix0aGlzLndpKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIix0aGlzLm1pKX0sdGwucHJvdG90eXBlLl9pPWZ1bmN0aW9uKCl7eHIoXCJDb25uZWN0aXZpdHlNb25pdG9yXCIsXCJOZXR3b3JrIGNvbm5lY3Rpdml0eSBjaGFuZ2VkOiBBVkFJTEFCTEVcIik7Zm9yKHZhciB0PTAsZT10aGlzLmdpO3Q8ZS5sZW5ndGg7dCsrKSgwLGVbdF0pKDApfSx0bC5wcm90b3R5cGUueWk9ZnVuY3Rpb24oKXt4cihcIkNvbm5lY3Rpdml0eU1vbml0b3JcIixcIk5ldHdvcmsgY29ubmVjdGl2aXR5IGNoYW5nZWQ6IFVOQVZBSUxBQkxFXCIpO2Zvcih2YXIgdD0wLGU9dGhpcy5naTt0PGUubGVuZ3RoO3QrKykoMCxlW3RdKSgxKX0sdGwueXQ9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ2b2lkIDAhPT13aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmdm9pZCAwIT09d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXJ9LHRsKSxXaD17QmF0Y2hHZXREb2N1bWVudHM6XCJiYXRjaEdldFwiLENvbW1pdDpcImNvbW1pdFwiLFJ1blF1ZXJ5OlwicnVuUXVlcnlcIn0sWWg9KFpoLnByb3RvdHlwZS5JaT1mdW5jdGlvbih0KXt0aGlzLkFpPXR9LFpoLnByb3RvdHlwZS5SaT1mdW5jdGlvbih0KXt0aGlzLmJpPXR9LFpoLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24odCl7dGhpcy52aT10fSxaaC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLlRpKCl9LFpoLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKHQpe3RoaXMuRWkodCl9LFpoLnByb3RvdHlwZS5QaT1mdW5jdGlvbigpe3RoaXMuQWkoKX0sWmgucHJvdG90eXBlLlZpPWZ1bmN0aW9uKHQpe3RoaXMuYmkodCl9LFpoLnByb3RvdHlwZS5TaT1mdW5jdGlvbih0KXt0aGlzLnZpKHQpfSxaaCksWGg9KCRoLnByb3RvdHlwZS5OaT1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT10aGlzLnhpKGUsdCk7eHIoXCJSZXN0Q29ubmVjdGlvblwiLFwiU2VuZGluZzogXCIsaSxuKTt0PXt9O3JldHVybiB0aGlzLkZpKHQsciksdGhpcy5raShlLGksdCxuKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB4cihcIlJlc3RDb25uZWN0aW9uXCIsXCJSZWNlaXZlZDogXCIsdCksdH0sZnVuY3Rpb24odCl7dGhyb3cgTHIoXCJSZXN0Q29ubmVjdGlvblwiLGUrXCIgZmFpbGVkIHdpdGggZXJyb3I6IFwiLHQsXCJ1cmw6IFwiLGksXCJyZXF1ZXN0OlwiLG4pLHR9KX0sJGgucHJvdG90eXBlLk9pPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0aGlzLk5pKHQsZSxuLHIpfSwkaC5wcm90b3R5cGUuRmk9ZnVuY3Rpb24odCxlKXtpZih0W1wiWC1Hb29nLUFwaS1DbGllbnRcIl09XCJnbC1qcy8gZmlyZS84LjQuMlwiLHRbXCJDb250ZW50LVR5cGVcIl09XCJ0ZXh0L3BsYWluXCIsdGhpcy5kYXRhYmFzZUluZm8uYXBwSWQmJih0W1wiWC1GaXJlYmFzZS1HTVBJRFwiXT10aGlzLmRhdGFiYXNlSW5mby5hcHBJZCksZSlmb3IodmFyIG4gaW4gZS5hdXRoSGVhZGVycyllLmF1dGhIZWFkZXJzLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lLmF1dGhIZWFkZXJzW25dKX0sJGgucHJvdG90eXBlLnhpPWZ1bmN0aW9uKHQsZSl7dD1XaFt0XTtyZXR1cm4gdGhpcy5EaStcIi92MS9cIitlK1wiOlwiK3R9LG4oSmgsVmg9JGgpLEpoLnByb3RvdHlwZS5raT1mdW5jdGlvbihvLGUscyxhKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obixyKXt2YXIgaT1uZXcgVHI7aS5saXN0ZW5PbmNlKHZyLkNPTVBMRVRFLGZ1bmN0aW9uKCl7dHJ5e3N3aXRjaChpLmdldExhc3RFcnJvckNvZGUoKSl7Y2FzZSBtci5OT19FUlJPUjp2YXIgdD1pLmdldFJlc3BvbnNlSnNvbigpO3hyKFwiQ29ubmVjdGlvblwiLFwiWEhSIHJlY2VpdmVkOlwiLEpTT04uc3RyaW5naWZ5KHQpKSxuKHQpO2JyZWFrO2Nhc2UgbXIuVElNRU9VVDp4cihcIkNvbm5lY3Rpb25cIiwnUlBDIFwiJytvKydcIiB0aW1lZCBvdXQnKSxyKG5ldyBBcihEci5ERUFETElORV9FWENFRURFRCxcIlJlcXVlc3QgdGltZSBvdXRcIikpO2JyZWFrO2Nhc2UgbXIuSFRUUF9FUlJPUjp2YXIgZT1pLmdldFN0YXR1cygpO3hyKFwiQ29ubmVjdGlvblwiLCdSUEMgXCInK28rJ1wiIGZhaWxlZCB3aXRoIHN0YXR1czonLGUsXCJyZXNwb25zZSB0ZXh0OlwiLGkuZ2V0UmVzcG9uc2VUZXh0KCkpLDA8ZT8odD1pLmdldFJlc3BvbnNlSnNvbigpLmVycm9yKSYmdC5zdGF0dXMmJnQubWVzc2FnZT8oZT10LnN0YXR1cy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZyxcIi1cIiksZT0wPD1PYmplY3QudmFsdWVzKERyKS5pbmRleE9mKGUpP2U6RHIuVU5LTk9XTixyKG5ldyBBcihlLHQubWVzc2FnZSkpKTpyKG5ldyBBcihEci5VTktOT1dOLFwiU2VydmVyIHJlc3BvbmRlZCB3aXRoIHN0YXR1cyBcIitpLmdldFN0YXR1cygpKSk6cihuZXcgQXIoRHIuVU5BVkFJTEFCTEUsXCJDb25uZWN0aW9uIGZhaWxlZC5cIikpO2JyZWFrO2RlZmF1bHQ6TXIoKX19ZmluYWxseXt4cihcIkNvbm5lY3Rpb25cIiwnUlBDIFwiJytvKydcIiBjb21wbGV0ZWQuJyl9fSk7dmFyIHQ9SlNPTi5zdHJpbmdpZnkoYSk7aS5zZW5kKGUsXCJQT1NUXCIsdCxzLDE1KX0pfSxKaC5wcm90b3R5cGUuJGk9ZnVuY3Rpb24odCxlKXt2YXIgbixyPVt0aGlzLkRpLFwiL1wiLFwiZ29vZ2xlLmZpcmVzdG9yZS52MS5GaXJlc3RvcmVcIixcIi9cIix0LFwiL2NoYW5uZWxcIl0saT1uZXcgbHIsbz1ncigpLHQ9e2h0dHBTZXNzaW9uSWRQYXJhbTpcImdzZXNzaW9uaWRcIixpbml0TWVzc2FnZUhlYWRlcnM6e30sbWVzc2FnZVVybFBhcmFtczp7ZGF0YWJhc2U6XCJwcm9qZWN0cy9cIit0aGlzLmRhdGFiYXNlSWQucHJvamVjdElkK1wiL2RhdGFiYXNlcy9cIit0aGlzLmRhdGFiYXNlSWQuZGF0YWJhc2V9LHNlbmRSYXdKc29uOiEwLHN1cHBvcnRzQ3Jvc3NEb21haW5YaHI6ITAsaW50ZXJuYWxDaGFubmVsUGFyYW1zOntmb3J3YXJkQ2hhbm5lbFJlcXVlc3RUaW1lb3V0TXM6NmU1fSxmb3JjZUxvbmdQb2xsaW5nOnRoaXMuZm9yY2VMb25nUG9sbGluZyxkZXRlY3RCdWZmZXJpbmdQcm94eTp0aGlzLmF1dG9EZXRlY3RMb25nUG9sbGluZ307dGhpcy5GaSh0LmluaXRNZXNzYWdlSGVhZGVycyxlKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYod2luZG93LmNvcmRvdmF8fHdpbmRvdy5waG9uZWdhcHx8d2luZG93LlBob25lR2FwKSYmL2lvc3xpcGhvbmV8aXBvZHxpcGFkfGFuZHJvaWR8YmxhY2tiZXJyeXxpZW1vYmlsZS9pLnRlc3QoaCgpKXx8XCJvYmplY3RcIj09dHlwZW9mIG5hdmlnYXRvciYmXCJSZWFjdE5hdGl2ZVwiPT09bmF2aWdhdG9yLnByb2R1Y3R8fDA8PWgoKS5pbmRleE9mKFwiRWxlY3Ryb24vXCIpfHwoMDw9KG49aCgpKS5pbmRleE9mKFwiTVNJRSBcIil8fDA8PW4uaW5kZXhPZihcIlRyaWRlbnQvXCIpKXx8MDw9aCgpLmluZGV4T2YoXCJNU0FwcEhvc3QvXCIpfHxcIm9iamVjdFwiPT10eXBlb2Yobj1cIm9iamVjdFwiPT10eXBlb2YgY2hyb21lP2Nocm9tZS5ydW50aW1lOlwib2JqZWN0XCI9PXR5cGVvZiBicm93c2VyP2Jyb3dzZXIucnVudGltZTp2b2lkIDApJiZ2b2lkIDAhPT1uLmlkfHwodC5odHRwSGVhZGVyc092ZXJ3cml0ZVBhcmFtPVwiJGh0dHBIZWFkZXJzXCIpO3I9ci5qb2luKFwiXCIpO3hyKFwiQ29ubmVjdGlvblwiLFwiQ3JlYXRpbmcgV2ViQ2hhbm5lbDogXCIrcix0KTt2YXIgcz1pLmNyZWF0ZVdlYkNoYW5uZWwocix0KSxhPSExLHU9ITEsYz1uZXcgWWgoe0VpOmZ1bmN0aW9uKHQpe3U/eHIoXCJDb25uZWN0aW9uXCIsXCJOb3Qgc2VuZGluZyBiZWNhdXNlIFdlYkNoYW5uZWwgaXMgY2xvc2VkOlwiLHQpOihhfHwoeHIoXCJDb25uZWN0aW9uXCIsXCJPcGVuaW5nIFdlYkNoYW5uZWwgdHJhbnNwb3J0LlwiKSxzLm9wZW4oKSxhPSEwKSx4cihcIkNvbm5lY3Rpb25cIixcIldlYkNoYW5uZWwgc2VuZGluZzpcIix0KSxzLnNlbmQodCkpfSxUaTpmdW5jdGlvbigpe3JldHVybiBzLmNsb3NlKCl9fSksdD1mdW5jdGlvbih0LGUsbil7dC5saXN0ZW4oZSxmdW5jdGlvbih0KXt0cnl7bih0KX1jYXRjaCh0KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgdH0sMCl9fSl9O3JldHVybiB0KHMsRXIuRXZlbnRUeXBlLk9QRU4sZnVuY3Rpb24oKXt1fHx4cihcIkNvbm5lY3Rpb25cIixcIldlYkNoYW5uZWwgdHJhbnNwb3J0IG9wZW5lZC5cIil9KSx0KHMsRXIuRXZlbnRUeXBlLkNMT1NFLGZ1bmN0aW9uKCl7dXx8KHU9ITAseHIoXCJDb25uZWN0aW9uXCIsXCJXZWJDaGFubmVsIHRyYW5zcG9ydCBjbG9zZWRcIiksYy5WaSgpKX0pLHQocyxFci5FdmVudFR5cGUuRVJST1IsZnVuY3Rpb24odCl7dXx8KHU9ITAsTHIoXCJDb25uZWN0aW9uXCIsXCJXZWJDaGFubmVsIHRyYW5zcG9ydCBlcnJvcmVkOlwiLHQpLGMuVmkobmV3IEFyKERyLlVOQVZBSUxBQkxFLFwiVGhlIG9wZXJhdGlvbiBjb3VsZCBub3QgYmUgY29tcGxldGVkXCIpKSl9KSx0KHMsRXIuRXZlbnRUeXBlLk1FU1NBR0UsZnVuY3Rpb24odCl7dmFyIGUsbixyLGk7dXx8KEZyKCEhKGU9dC5kYXRhWzBdKSksKG49ZS5lcnJvcnx8KG51bGw9PT0oaT1lWzBdKXx8dm9pZCAwPT09aT92b2lkIDA6aS5lcnJvcikpPyh4cihcIkNvbm5lY3Rpb25cIixcIldlYkNoYW5uZWwgcmVjZWl2ZWQgZXJyb3I6XCIsbikscj1uLnN0YXR1cyx0PWZ1bmN0aW9uKCl7dmFyIHQ9bXNbcl07aWYodm9pZCAwIT09dClyZXR1cm4gU3ModCl9KCksaT1uLm1lc3NhZ2Usdm9pZCAwPT09dCYmKHQ9RHIuSU5URVJOQUwsaT1cIlVua25vd24gZXJyb3Igc3RhdHVzOiBcIityK1wiIHdpdGggbWVzc2FnZSBcIituLm1lc3NhZ2UpLHU9ITAsYy5WaShuZXcgQXIodCxpKSkscy5jbG9zZSgpKTooeHIoXCJDb25uZWN0aW9uXCIsXCJXZWJDaGFubmVsIHJlY2VpdmVkOlwiLGUpLGMuU2koZSkpKX0pLHQobyxici5TVEFUX0VWRU5ULGZ1bmN0aW9uKHQpe3Quc3RhdD09PXdyP3hyKFwiQ29ubmVjdGlvblwiLFwiRGV0ZWN0ZWQgYnVmZmVyaW5nIHByb3h5XCIpOnQuc3RhdD09PUlyJiZ4cihcIkNvbm5lY3Rpb25cIixcIkRldGVjdGVkIG5vIGJ1ZmZlcmluZyBwcm94eVwiKX0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLlBpKCl9LDApLGN9LEpoKTtmdW5jdGlvbiBKaCh0KXt2YXIgZT10aGlzO3JldHVybihlPVZoLmNhbGwodGhpcyx0KXx8dGhpcykuZm9yY2VMb25nUG9sbGluZz10LmZvcmNlTG9uZ1BvbGxpbmcsZS5hdXRvRGV0ZWN0TG9uZ1BvbGxpbmc9dC5hdXRvRGV0ZWN0TG9uZ1BvbGxpbmcsZX1mdW5jdGlvbiAkaCh0KXt0aGlzLmRhdGFiYXNlSW5mbz10LHRoaXMuZGF0YWJhc2VJZD10LmRhdGFiYXNlSWQ7dmFyIGU9dC5zc2w/XCJodHRwc1wiOlwiaHR0cFwiO3RoaXMuRGk9ZStcIjovL1wiK3QuaG9zdCx0aGlzLkNpPVwicHJvamVjdHMvXCIrdGhpcy5kYXRhYmFzZUlkLnByb2plY3RJZCtcIi9kYXRhYmFzZXMvXCIrdGhpcy5kYXRhYmFzZUlkLmRhdGFiYXNlK1wiL2RvY3VtZW50c1wifWZ1bmN0aW9uIFpoKHQpe3RoaXMuRWk9dC5FaSx0aGlzLlRpPXQuVGl9ZnVuY3Rpb24gdGwoKXt2YXIgdD10aGlzO3RoaXMud2k9ZnVuY3Rpb24oKXtyZXR1cm4gdC5faSgpfSx0aGlzLm1pPWZ1bmN0aW9uKCl7cmV0dXJuIHQueWkoKX0sdGhpcy5naT1bXSx0aGlzLnBpKCl9ZnVuY3Rpb24gZWwoKXt9ZnVuY3Rpb24gbmwoKXt0aGlzLmxpPW5ldyBLaCx0aGlzLmZpPXt9LHRoaXMub25saW5lU3RhdGVIYW5kbGVyPW51bGwsdGhpcy5zZXF1ZW5jZU51bWJlckhhbmRsZXI9bnVsbH1mdW5jdGlvbiBybCh0LGUsbixyLGkpe3RoaXMud2luZG93PXQsdGhpcy5TZT1lLHRoaXMucGVyc2lzdGVuY2VLZXk9bix0aGlzLk5zPXIsdGhpcy5zeW5jRW5naW5lPW51bGwsdGhpcy5vbmxpbmVTdGF0ZUhhbmRsZXI9bnVsbCx0aGlzLnNlcXVlbmNlTnVtYmVySGFuZGxlcj1udWxsLHRoaXMueHM9dGhpcy5Gcy5iaW5kKHRoaXMpLHRoaXMua3M9bmV3IE5zKHFyKSx0aGlzLnN0YXJ0ZWQ9ITEsdGhpcy5Pcz1bXTtuPW4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csXCJcXFxcJCZcIik7dGhpcy5zdG9yYWdlPXRoaXMud2luZG93LmxvY2FsU3RvcmFnZSx0aGlzLmN1cnJlbnRVc2VyPWksdGhpcy4kcz1QaCh0aGlzLnBlcnNpc3RlbmNlS2V5LHRoaXMuTnMpLHRoaXMuTXM9XCJmaXJlc3RvcmVfc2VxdWVuY2VfbnVtYmVyX1wiK3RoaXMucGVyc2lzdGVuY2VLZXksdGhpcy5rcz10aGlzLmtzLmluc2VydCh0aGlzLk5zLG5ldyBLaCksdGhpcy5Mcz1uZXcgUmVnRXhwKFwiXmZpcmVzdG9yZV9jbGllbnRzX1wiK24rXCJfKFteX10qKSRcIiksdGhpcy5Ccz1uZXcgUmVnRXhwKFwiXmZpcmVzdG9yZV9tdXRhdGlvbnNfXCIrbitcIl8oXFxcXGQrKSg/Ol8oLiopKT8kXCIpLHRoaXMucXM9bmV3IFJlZ0V4cChcIl5maXJlc3RvcmVfdGFyZ2V0c19cIituK1wiXyhcXFxcZCspJFwiKSx0aGlzLlVzPVwiZmlyZXN0b3JlX29ubGluZV9zdGF0ZV9cIit0aGlzLnBlcnNpc3RlbmNlS2V5LHRoaXMuUXM9XCJmaXJlc3RvcmVfYnVuZGxlX2xvYWRlZF9cIit0aGlzLnBlcnNpc3RlbmNlS2V5LHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsdGhpcy54cyl9ZnVuY3Rpb24gaWwoKXt0aGlzLmFjdGl2ZVRhcmdldElkcz1qc31mdW5jdGlvbiBvbCh0LGUpe3RoaXMuY2xpZW50SWQ9dCx0aGlzLm9ubGluZVN0YXRlPWV9ZnVuY3Rpb24gc2wodCxlKXt0aGlzLmNsaWVudElkPXQsdGhpcy5hY3RpdmVUYXJnZXRJZHM9ZX1mdW5jdGlvbiBhbCh0LGUsbil7dGhpcy50YXJnZXRJZD10LHRoaXMuc3RhdGU9ZSx0aGlzLmVycm9yPW59ZnVuY3Rpb24gdWwodCxlLG4scil7dGhpcy51c2VyPXQsdGhpcy5iYXRjaElkPWUsdGhpcy5zdGF0ZT1uLHRoaXMuZXJyb3I9cn1mdW5jdGlvbiBjbCgpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Om51bGx9ZnVuY3Rpb24gaGwoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQ6bnVsbH1mdW5jdGlvbiBsbCh0KXtyZXR1cm4gbmV3IGlhKHQsITApfWZ1bmN0aW9uIGZsKHQsZSxuLHIsaSl7dmFyIG89dGhpczt0aGlzLmxvY2FsU3RvcmU9dCx0aGlzLmRhdGFzdG9yZT1lLHRoaXMuYXN5bmNRdWV1ZT1uLHRoaXMucmVtb3RlU3luY2VyPXt9LHRoaXMua3I9W10sdGhpcy5Pcj1uZXcgTWFwLHRoaXMuJHI9bmV3IFNldCx0aGlzLk1yPVtdLHRoaXMuTHI9aSx0aGlzLkxyLmRpKGZ1bmN0aW9uKHQpe24uZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KG8sdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gUGwodGhpcyk/KHhyKFwiUmVtb3RlU3RvcmVcIixcIlJlc3RhcnRpbmcgc3RyZWFtcyBmb3IgbmV0d29yayByZWFjaGFiaWxpdHkgY2hhbmdlLlwiKSxbNCxmdW5jdGlvbihuKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuKGU9bikuJHIuYWRkKDQpLFs0LEFsKGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLGUuQnIuc2V0KFwiVW5rbm93blwiKSxlLiRyLmRlbGV0ZSg0KSxbNCxEbChlKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSxbMl19fSl9KX0odGhpcyldKTpbMywyXTtjYXNlIDE6dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMl19fSl9KX0pfSksdGhpcy5Ccj1uZXcgd2wobixyKX12YXIgZGwscGwseWwsZ2w9KE5sLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMucWk9MH0sTmwucHJvdG90eXBlLktpPWZ1bmN0aW9uKCl7dGhpcy5xaT10aGlzLkJpfSxObC5wcm90b3R5cGUuamk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLmNhbmNlbCgpO3ZhciBuPU1hdGguZmxvb3IodGhpcy5xaSt0aGlzLldpKCkpLHI9TWF0aC5tYXgoMCxEYXRlLm5vdygpLXRoaXMuUWkpLGk9TWF0aC5tYXgoMCxuLXIpOzA8aSYmeHIoXCJFeHBvbmVudGlhbEJhY2tvZmZcIixcIkJhY2tpbmcgb2ZmIGZvciBcIitpK1wiIG1zIChiYXNlIGRlbGF5OiBcIit0aGlzLnFpK1wiIG1zLCBkZWxheSB3aXRoIGppdHRlcjogXCIrbitcIiBtcywgbGFzdCBhdHRlbXB0OiBcIityK1wiIG1zIGFnbylcIiksdGhpcy5VaT10aGlzLlNlLmVucXVldWVBZnRlckRlbGF5KHRoaXMudGltZXJJZCxpLGZ1bmN0aW9uKCl7cmV0dXJuIGUuUWk9RGF0ZS5ub3coKSx0KCl9KSx0aGlzLnFpKj10aGlzLkxpLHRoaXMucWk8dGhpcy5NaSYmKHRoaXMucWk9dGhpcy5NaSksdGhpcy5xaT50aGlzLkJpJiYodGhpcy5xaT10aGlzLkJpKX0sTmwucHJvdG90eXBlLkdpPWZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMuVWkmJih0aGlzLlVpLnNraXBEZWxheSgpLHRoaXMuVWk9bnVsbCl9LE5sLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5VaSYmKHRoaXMuVWkuY2FuY2VsKCksdGhpcy5VaT1udWxsKX0sTmwucHJvdG90eXBlLldpPWZ1bmN0aW9uKCl7cmV0dXJuKE1hdGgucmFuZG9tKCktLjUpKnRoaXMucWl9LE5sKSxJPShTbC5wcm90b3R5cGUudHI9ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMuc3RhdGV8fDI9PT10aGlzLnN0YXRlfHw0PT09dGhpcy5zdGF0ZX0sU2wucHJvdG90eXBlLmVyPWZ1bmN0aW9uKCl7cmV0dXJuIDI9PT10aGlzLnN0YXRlfSxTbC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXszIT09dGhpcy5zdGF0ZT90aGlzLmF1dGgoKTp0aGlzLm5yKCl9LFNsLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLnRyKCk/WzQsdGhpcy5jbG9zZSgwKV06WzMsMl07Y2FzZSAxOnQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzJdfX0pfSl9LFNsLnByb3RvdHlwZS5zcj1mdW5jdGlvbigpe3RoaXMuc3RhdGU9MCx0aGlzLlppLnJlc2V0KCl9LFNsLnByb3RvdHlwZS5pcj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5lcigpJiZudWxsPT09dGhpcy5YaSYmKHRoaXMuWGk9dGhpcy5TZS5lbnF1ZXVlQWZ0ZXJEZWxheSh0aGlzLnppLDZlNCxmdW5jdGlvbigpe3JldHVybiB0LnJyKCl9KSl9LFNsLnByb3RvdHlwZS5jcj1mdW5jdGlvbih0KXt0aGlzLnVyKCksdGhpcy5zdHJlYW0uc2VuZCh0KX0sU2wucHJvdG90eXBlLnJyPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lcigpP1syLHRoaXMuY2xvc2UoMCldOlsyXX0pfSl9LFNsLnByb3RvdHlwZS51cj1mdW5jdGlvbigpe3RoaXMuWGkmJih0aGlzLlhpLmNhbmNlbCgpLHRoaXMuWGk9bnVsbCl9LFNsLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihlLG4pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy51cigpLHRoaXMuWmkuY2FuY2VsKCksdGhpcy5ZaSsrLDMhPT1lP3RoaXMuWmkucmVzZXQoKTpuJiZuLmNvZGU9PT1Eci5SRVNPVVJDRV9FWEhBVVNURUQ/KE9yKG4udG9TdHJpbmcoKSksT3IoXCJVc2luZyBtYXhpbXVtIGJhY2tvZmYgZGVsYXkgdG8gcHJldmVudCBvdmVybG9hZGluZyB0aGUgYmFja2VuZC5cIiksdGhpcy5aaS5LaSgpKTpuJiZuLmNvZGU9PT1Eci5VTkFVVEhFTlRJQ0FURUQmJnRoaXMuSmkuaW52YWxpZGF0ZVRva2VuKCksbnVsbCE9PXRoaXMuc3RyZWFtJiYodGhpcy5hcigpLHRoaXMuc3RyZWFtLmNsb3NlKCksdGhpcy5zdHJlYW09bnVsbCksdGhpcy5zdGF0ZT1lLFs0LHRoaXMubGlzdGVuZXIuUmkobildO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzJdfX0pfSl9LFNsLnByb3RvdHlwZS5hcj1mdW5jdGlvbigpe30sU2wucHJvdG90eXBlLmF1dGg9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMuc3RhdGU9MTt2YXIgdD10aGlzLmhyKHRoaXMuWWkpLGU9dGhpcy5ZaTt0aGlzLkppLmdldFRva2VuKCkudGhlbihmdW5jdGlvbih0KXtuLllpPT09ZSYmbi5scih0KX0sZnVuY3Rpb24oZSl7dChmdW5jdGlvbigpe3ZhciB0PW5ldyBBcihEci5VTktOT1dOLFwiRmV0Y2hpbmcgYXV0aCB0b2tlbiBmYWlsZWQ6IFwiK2UubWVzc2FnZSk7cmV0dXJuIG4uZHIodCl9KX0pfSxTbC5wcm90b3R5cGUubHI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuaHIodGhpcy5ZaSk7dGhpcy5zdHJlYW09dGhpcy53cih0KSx0aGlzLnN0cmVhbS5JaShmdW5jdGlvbigpe24oZnVuY3Rpb24oKXtyZXR1cm4gZS5zdGF0ZT0yLGUubGlzdGVuZXIuSWkoKX0pfSksdGhpcy5zdHJlYW0uUmkoZnVuY3Rpb24odCl7bihmdW5jdGlvbigpe3JldHVybiBlLmRyKHQpfSl9KSx0aGlzLnN0cmVhbS5vbk1lc3NhZ2UoZnVuY3Rpb24odCl7bihmdW5jdGlvbigpe3JldHVybiBlLm9uTWVzc2FnZSh0KX0pfSl9LFNsLnByb3RvdHlwZS5ucj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5zdGF0ZT00LHRoaXMuWmkuamkoZnVuY3Rpb24oKXtyZXR1cm4geSh0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlPTAsdGhpcy5zdGFydCgpLFsyXX0pfSl9KX0sU2wucHJvdG90eXBlLmRyPWZ1bmN0aW9uKHQpe3JldHVybiB4cihcIlBlcnNpc3RlbnRTdHJlYW1cIixcImNsb3NlIHdpdGggZXJyb3I6IFwiK3QpLHRoaXMuc3RyZWFtPW51bGwsdGhpcy5jbG9zZSgzLHQpfSxTbC5wcm90b3R5cGUuaHI9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7bi5TZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIG4uWWk9PT1lP3QoKTooeHIoXCJQZXJzaXN0ZW50U3RyZWFtXCIsXCJzdHJlYW0gY2FsbGJhY2sgc2tpcHBlZCBieSBnZXRDbG9zZUd1YXJkZWREaXNwYXRjaGVyLlwiKSxQcm9taXNlLnJlc29sdmUoKSl9KX19LFNsKSxtbD0obihfbCx5bD1JKSxfbC5wcm90b3R5cGUud3I9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuSGkuJGkoXCJMaXN0ZW5cIix0KX0sX2wucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbih0KXt0aGlzLlppLnJlc2V0KCk7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcInRhcmdldENoYW5nZVwiaW4gZSl7ZS50YXJnZXRDaGFuZ2U7dmFyIG49XCJOT19DSEFOR0VcIj09PShvPWUudGFyZ2V0Q2hhbmdlLnRhcmdldENoYW5nZVR5cGV8fFwiTk9fQ0hBTkdFXCIpPzA6XCJBRERcIj09PW8/MTpcIlJFTU9WRVwiPT09bz8yOlwiQ1VSUkVOVFwiPT09bz8zOlwiUkVTRVRcIj09PW8/NDpNcigpLHI9ZS50YXJnZXRDaGFuZ2UudGFyZ2V0SWRzfHxbXSxpPShzPWUudGFyZ2V0Q2hhbmdlLnJlc3VtZVRva2VuLHQuST8oRnIodm9pZCAwPT09c3x8XCJzdHJpbmdcIj09dHlwZW9mIHMpLG5pLmZyb21CYXNlNjRTdHJpbmcoc3x8XCJcIikpOihGcih2b2lkIDA9PT1zfHxzIGluc3RhbmNlb2YgVWludDhBcnJheSksbmkuZnJvbVVpbnQ4QXJyYXkoc3x8bmV3IFVpbnQ4QXJyYXkpKSksbz0oYT1lLnRhcmdldENoYW5nZS5jYXVzZSkmJih1PXZvaWQgMD09PShjPWEpLmNvZGU/RHIuVU5LTk9XTjpTcyhjLmNvZGUpLG5ldyBBcih1LGMubWVzc2FnZXx8XCJcIikpLHM9bmV3IEhzKG4scixpLG98fG51bGwpfWVsc2UgaWYoXCJkb2N1bWVudENoYW5nZVwiaW4gZSl7ZS5kb2N1bWVudENoYW5nZSwobj1lLmRvY3VtZW50Q2hhbmdlKS5kb2N1bWVudCxuLmRvY3VtZW50Lm5hbWUsbi5kb2N1bWVudC51cGRhdGVUaW1lO3ZhciByPWxhKHQsbi5kb2N1bWVudC5uYW1lKSxpPWFhKG4uZG9jdW1lbnQudXBkYXRlVGltZSksYT1uZXcgUmkoe21hcFZhbHVlOntmaWVsZHM6bi5kb2N1bWVudC5maWVsZHN9fSksdT0obz1PaS5uZXdGb3VuZERvY3VtZW50KHIsaSxhKSxuLnRhcmdldElkc3x8W10pLGM9bi5yZW1vdmVkVGFyZ2V0SWRzfHxbXTtzPW5ldyBRcyh1LGMsby5rZXksbyl9ZWxzZSBpZihcImRvY3VtZW50RGVsZXRlXCJpbiBlKWUuZG9jdW1lbnREZWxldGUsKG49ZS5kb2N1bWVudERlbGV0ZSkuZG9jdW1lbnQscj1sYSh0LG4uZG9jdW1lbnQpLGk9bi5yZWFkVGltZT9hYShuLnJlYWRUaW1lKTpHci5taW4oKSxhPU9pLm5ld05vRG9jdW1lbnQocixpKSxvPW4ucmVtb3ZlZFRhcmdldElkc3x8W10scz1uZXcgUXMoW10sbyxhLmtleSxhKTtlbHNlIGlmKFwiZG9jdW1lbnRSZW1vdmVcImluIGUpZS5kb2N1bWVudFJlbW92ZSwobj1lLmRvY3VtZW50UmVtb3ZlKS5kb2N1bWVudCxyPWxhKHQsbi5kb2N1bWVudCksaT1uLnJlbW92ZWRUYXJnZXRJZHN8fFtdLHM9bmV3IFFzKFtdLGkscixudWxsKTtlbHNle2lmKCEoXCJmaWx0ZXJcImluIGUpKXJldHVybiBNcigpO2UuZmlsdGVyO2U9ZS5maWx0ZXI7ZS50YXJnZXRJZCxuPWUuY291bnR8fDAscj1uZXcgZ3MobiksaT1lLnRhcmdldElkLHM9bmV3IHpzKGkscil9cmV0dXJuIHN9KHRoaXMuUix0KSx0PWZ1bmN0aW9uKHQpe2lmKCEoXCJ0YXJnZXRDaGFuZ2VcImluIHQpKXJldHVybiBHci5taW4oKTt0PXQudGFyZ2V0Q2hhbmdlO3JldHVybighdC50YXJnZXRJZHN8fCF0LnRhcmdldElkcy5sZW5ndGgpJiZ0LnJlYWRUaW1lP2FhKHQucmVhZFRpbWUpOkdyLm1pbigpfSh0KTtyZXR1cm4gdGhpcy5saXN0ZW5lci5fcihlLHQpfSxfbC5wcm90b3R5cGUubXI9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGk9e307aS5kYXRhYmFzZT1wYSh0aGlzLlIpLGkuYWRkVGFyZ2V0PShlPXRoaXMuUiwocj1VaShyPShuPXQpLnRhcmdldCk/e2RvY3VtZW50czp3YShlLHIpfTp7cXVlcnk6SWEoZSxyKX0pLnRhcmdldElkPW4udGFyZ2V0SWQsMDxuLnJlc3VtZVRva2VuLmFwcHJveGltYXRlQnl0ZVNpemUoKT9yLnJlc3VtZVRva2VuPXNhKGUsbi5yZXN1bWVUb2tlbik6MDxuLnNuYXBzaG90VmVyc2lvbi5jb21wYXJlVG8oR3IubWluKCkpJiYoci5yZWFkVGltZT1vYShlLG4uc25hcHNob3RWZXJzaW9uLnRvVGltZXN0YW1wKCkpKSxyKTt2YXIgbyx0PSh0aGlzLlIsbz10LG51bGw9PSh0PWZ1bmN0aW9uKCl7c3dpdGNoKG8ucHVycG9zZSl7Y2FzZSAwOnJldHVybiBudWxsO2Nhc2UgMTpyZXR1cm5cImV4aXN0ZW5jZS1maWx0ZXItbWlzbWF0Y2hcIjtjYXNlIDI6cmV0dXJuXCJsaW1iby1kb2N1bWVudFwiO2RlZmF1bHQ6cmV0dXJuIE1yKCl9fSgpKT9udWxsOntcImdvb2ctbGlzdGVuLXRhZ3NcIjp0fSk7dCYmKGkubGFiZWxzPXQpLHRoaXMuY3IoaSl9LF9sLnByb3RvdHlwZS55cj1mdW5jdGlvbih0KXt2YXIgZT17fTtlLmRhdGFiYXNlPXBhKHRoaXMuUiksZS5yZW1vdmVUYXJnZXQ9dCx0aGlzLmNyKGUpfSxfbCksdmw9KG4oVGwscGw9SSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFRsLnByb3RvdHlwZSxcInByXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFRsLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3RoaXMuZ3I9ITEsdGhpcy5sYXN0U3RyZWFtVG9rZW49dm9pZCAwLHBsLnByb3RvdHlwZS5zdGFydC5jYWxsKHRoaXMpfSxUbC5wcm90b3R5cGUuYXI9ZnVuY3Rpb24oKXt0aGlzLmdyJiZ0aGlzLkVyKFtdKX0sVGwucHJvdG90eXBlLndyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkhpLiRpKFwiV3JpdGVcIix0KX0sVGwucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbih0KXtpZihGcighIXQuc3RyZWFtVG9rZW4pLHRoaXMubGFzdFN0cmVhbVRva2VuPXQuc3RyZWFtVG9rZW4sdGhpcy5ncil7dGhpcy5aaS5yZXNldCgpO3ZhciBlPShuPXQud3JpdGVSZXN1bHRzLHI9dC5jb21taXRUaW1lLG4mJjA8bi5sZW5ndGg/KEZyKHZvaWQgMCE9PXIpLG4ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuPXIsKHQ9KGU9dCkudXBkYXRlVGltZT9hYShlLnVwZGF0ZVRpbWUpOmFhKG4pKS5pc0VxdWFsKEdyLm1pbigpKSYmKHQ9YWEobikpLG5ldyBabyh0LGUudHJhbnNmb3JtUmVzdWx0c3x8W10pO3ZhciBlLG59KSk6W10pLG49YWEodC5jb21taXRUaW1lKTtyZXR1cm4gdGhpcy5saXN0ZW5lci5UcihuLGUpfXZhciBuLHI7cmV0dXJuIEZyKCF0LndyaXRlUmVzdWx0c3x8MD09PXQud3JpdGVSZXN1bHRzLmxlbmd0aCksdGhpcy5ncj0hMCx0aGlzLmxpc3RlbmVyLklyKCl9LFRsLnByb3RvdHlwZS5Bcj1mdW5jdGlvbigpe3ZhciB0PXt9O3QuZGF0YWJhc2U9cGEodGhpcy5SKSx0aGlzLmNyKHQpfSxUbC5wcm90b3R5cGUuRXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyx0PXtzdHJlYW1Ub2tlbjp0aGlzLmxhc3RTdHJlYW1Ub2tlbix3cml0ZXM6dC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHZhKGUuUix0KX0pfTt0aGlzLmNyKHQpfSxUbCksYmw9KG4oRWwsZGw9ZnVuY3Rpb24oKXt9KSxFbC5wcm90b3R5cGUuYnI9ZnVuY3Rpb24oKXtpZih0aGlzLlJyKXRocm93IG5ldyBBcihEci5GQUlMRURfUFJFQ09ORElUSU9OLFwiVGhlIGNsaWVudCBoYXMgYWxyZWFkeSBiZWVuIHRlcm1pbmF0ZWQuXCIpfSxFbC5wcm90b3R5cGUuTmk9ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMuYnIoKSx0aGlzLmNyZWRlbnRpYWxzLmdldFRva2VuKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaS5IaS5OaShlLG4scix0KX0pLmNhdGNoKGZ1bmN0aW9uKHQpe3Rocm93XCJGaXJlYmFzZUVycm9yXCI9PT10Lm5hbWU/KHQuY29kZT09PURyLlVOQVVUSEVOVElDQVRFRCYmaS5jcmVkZW50aWFscy5pbnZhbGlkYXRlVG9rZW4oKSx0KTpuZXcgQXIoRHIuVU5LTk9XTix0LnRvU3RyaW5nKCkpfSl9LEVsLnByb3RvdHlwZS5PaT1mdW5jdGlvbihlLG4scil7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy5icigpLHRoaXMuY3JlZGVudGlhbHMuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLkhpLk9pKGUsbixyLHQpfSkuY2F0Y2goZnVuY3Rpb24odCl7dGhyb3dcIkZpcmViYXNlRXJyb3JcIj09PXQubmFtZT8odC5jb2RlPT09RHIuVU5BVVRIRU5USUNBVEVEJiZpLmNyZWRlbnRpYWxzLmludmFsaWRhdGVUb2tlbigpLHQpOm5ldyBBcihEci5VTktOT1dOLHQudG9TdHJpbmcoKSl9KX0sRWwucHJvdG90eXBlLnRlcm1pbmF0ZT1mdW5jdGlvbigpe3RoaXMuUnI9ITB9LEVsKSx3bD0oSWwucHJvdG90eXBlLlNyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczswPT09dGhpcy52ciYmKHRoaXMuRHIoXCJVbmtub3duXCIpLHRoaXMuUHI9dGhpcy5hc3luY1F1ZXVlLmVucXVldWVBZnRlckRlbGF5KFwib25saW5lX3N0YXRlX3RpbWVvdXRcIiwxZTQsZnVuY3Rpb24oKXtyZXR1cm4gdC5Qcj1udWxsLHQuQ3IoXCJCYWNrZW5kIGRpZG4ndCByZXNwb25kIHdpdGhpbiAxMCBzZWNvbmRzLlwiKSx0LkRyKFwiT2ZmbGluZVwiKSxQcm9taXNlLnJlc29sdmUoKX0pKX0sSWwucHJvdG90eXBlLk5yPWZ1bmN0aW9uKHQpe1wiT25saW5lXCI9PT10aGlzLnN0YXRlP3RoaXMuRHIoXCJVbmtub3duXCIpOih0aGlzLnZyKyssMTw9dGhpcy52ciYmKHRoaXMuRnIoKSx0aGlzLkNyKFwiQ29ubmVjdGlvbiBmYWlsZWQgMSB0aW1lcy4gTW9zdCByZWNlbnQgZXJyb3I6IFwiK3QudG9TdHJpbmcoKSksdGhpcy5EcihcIk9mZmxpbmVcIikpKX0sSWwucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0aGlzLkZyKCksdGhpcy52cj0wLFwiT25saW5lXCI9PT10JiYodGhpcy5Wcj0hMSksdGhpcy5Ecih0KX0sSWwucHJvdG90eXBlLkRyPWZ1bmN0aW9uKHQpe3QhPT10aGlzLnN0YXRlJiYodGhpcy5zdGF0ZT10LHRoaXMub25saW5lU3RhdGVIYW5kbGVyKHQpKX0sSWwucHJvdG90eXBlLkNyPWZ1bmN0aW9uKHQpe3Q9XCJDb3VsZCBub3QgcmVhY2ggQ2xvdWQgRmlyZXN0b3JlIGJhY2tlbmQuIFwiK3QrXCJcXG5UaGlzIHR5cGljYWxseSBpbmRpY2F0ZXMgdGhhdCB5b3VyIGRldmljZSBkb2VzIG5vdCBoYXZlIGEgaGVhbHRoeSBJbnRlcm5ldCBjb25uZWN0aW9uIGF0IHRoZSBtb21lbnQuIFRoZSBjbGllbnQgd2lsbCBvcGVyYXRlIGluIG9mZmxpbmUgbW9kZSB1bnRpbCBpdCBpcyBhYmxlIHRvIHN1Y2Nlc3NmdWxseSBjb25uZWN0IHRvIHRoZSBiYWNrZW5kLlwiO3RoaXMuVnI/KE9yKHQpLHRoaXMuVnI9ITEpOnhyKFwiT25saW5lU3RhdGVUcmFja2VyXCIsdCl9LElsLnByb3RvdHlwZS5Gcj1mdW5jdGlvbigpe251bGwhPT10aGlzLlByJiYodGhpcy5Qci5jYW5jZWwoKSx0aGlzLlByPW51bGwpfSxJbCk7ZnVuY3Rpb24gSWwodCxlKXt0aGlzLmFzeW5jUXVldWU9dCx0aGlzLm9ubGluZVN0YXRlSGFuZGxlcj1lLHRoaXMuc3RhdGU9XCJVbmtub3duXCIsdGhpcy52cj0wLHRoaXMuUHI9bnVsbCx0aGlzLlZyPSEwfWZ1bmN0aW9uIEVsKHQsZSxuKXt2YXIgcj10aGlzO3JldHVybihyPWRsLmNhbGwodGhpcyl8fHRoaXMpLmNyZWRlbnRpYWxzPXQsci5IaT1lLHIuUj1uLHIuUnI9ITEscn1mdW5jdGlvbiBUbCh0LGUsbixyLGkpe3ZhciBvPXRoaXM7cmV0dXJuKG89cGwuY2FsbCh0aGlzLHQsXCJ3cml0ZV9zdHJlYW1fY29ubmVjdGlvbl9iYWNrb2ZmXCIsXCJ3cml0ZV9zdHJlYW1faWRsZVwiLGUsbixpKXx8dGhpcykuUj1yLG8uZ3I9ITEsb31mdW5jdGlvbiBfbCh0LGUsbixyLGkpe3ZhciBvPXRoaXM7cmV0dXJuKG89eWwuY2FsbCh0aGlzLHQsXCJsaXN0ZW5fc3RyZWFtX2Nvbm5lY3Rpb25fYmFja29mZlwiLFwibGlzdGVuX3N0cmVhbV9pZGxlXCIsZSxuLGkpfHx0aGlzKS5SPXIsb31mdW5jdGlvbiBTbCh0LGUsbixyLGksbyl7dGhpcy5TZT10LHRoaXMuemk9bix0aGlzLkhpPXIsdGhpcy5KaT1pLHRoaXMubGlzdGVuZXI9byx0aGlzLnN0YXRlPTAsdGhpcy5ZaT0wLHRoaXMuWGk9bnVsbCx0aGlzLnN0cmVhbT1udWxsLHRoaXMuWmk9bmV3IGdsKHQsZSl9ZnVuY3Rpb24gTmwodCxlLG4scixpKXt2b2lkIDA9PT1uJiYobj0xZTMpLHZvaWQgMD09PXImJihyPTEuNSksdm9pZCAwPT09aSYmKGk9NmU0KSx0aGlzLlNlPXQsdGhpcy50aW1lcklkPWUsdGhpcy5NaT1uLHRoaXMuTGk9cix0aGlzLkJpPWksdGhpcy5xaT0wLHRoaXMuVWk9bnVsbCx0aGlzLlFpPURhdGUubm93KCksdGhpcy5yZXNldCgpfWZ1bmN0aW9uIERsKHIpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmlmKCFQbChyKSlyZXR1cm5bMyw0XTtlPTAsbj1yLk1yLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGU8bi5sZW5ndGg/WzQsKDAsbltlXSkoITApXTpbMyw0XTtjYXNlIDI6dC5zZW50KCksdC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gZSsrLFszLDFdO2Nhc2UgNDpyZXR1cm5bMl19fSl9KX1mdW5jdGlvbiBBbChyKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDplPTAsbj1yLk1yLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGU8bi5sZW5ndGg/WzQsKDAsbltlXSkoITEpXTpbMyw0XTtjYXNlIDI6dC5zZW50KCksdC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gZSsrLFszLDFdO2Nhc2UgNDpyZXR1cm5bMl19fSl9KX1mdW5jdGlvbiBrbCh0LGUpe3QuT3IuaGFzKGUudGFyZ2V0SWQpfHwodC5Pci5zZXQoZS50YXJnZXRJZCxlKSxMbCh0KT9PbCh0KTpHbCh0KS5lcigpJiZSbCh0LGUpKX1mdW5jdGlvbiBDbCh0LGUpe3ZhciBuPXQsdD1HbChuKTtuLk9yLmRlbGV0ZShlKSx0LmVyKCkmJnhsKG4sZSksMD09PW4uT3Iuc2l6ZSYmKHQuZXIoKT90LmlyKCk6UGwobikmJm4uQnIuc2V0KFwiVW5rbm93blwiKSl9ZnVuY3Rpb24gUmwodCxlKXt0LnFyLlUoZS50YXJnZXRJZCksR2wodCkubXIoZSl9ZnVuY3Rpb24geGwodCxlKXt0LnFyLlUoZSksR2wodCkueXIoZSl9ZnVuY3Rpb24gT2woZSl7ZS5xcj1uZXcgWXMoe2dldFJlbW90ZUtleXNGb3JUYXJnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIGUucmVtb3RlU3luY2VyLmdldFJlbW90ZUtleXNGb3JUYXJnZXQodCl9LGx0OmZ1bmN0aW9uKHQpe3JldHVybiBlLk9yLmdldCh0KXx8bnVsbH19KSxHbChlKS5zdGFydCgpLGUuQnIuU3IoKX1mdW5jdGlvbiBMbCh0KXtyZXR1cm4gUGwodCkmJiFHbCh0KS50cigpJiYwPHQuT3Iuc2l6ZX1mdW5jdGlvbiBQbCh0KXtyZXR1cm4gMD09PXQuJHIuc2l6ZX1mdW5jdGlvbiBNbCh0KXt0LnFyPXZvaWQgMH1mdW5jdGlvbiBGbChzLGEsdSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG4sbztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6aWYocy5Cci5zZXQoXCJPbmxpbmVcIiksIShhIGluc3RhbmNlb2YgSHMmJjI9PT1hLnN0YXRlJiZhLmNhdXNlKSlyZXR1cm5bMyw2XTt0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSwzLCw1XSksWzQsZnVuY3Rpb24obyxzKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHIsaTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6ZT1zLmNhdXNlLG49MCxyPXMudGFyZ2V0SWRzLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIG48ci5sZW5ndGg/KGk9cltuXSxvLk9yLmhhcyhpKT9bNCxvLnJlbW90ZVN5bmNlci5yZWplY3RMaXN0ZW4oaSxlKV06WzMsM10pOlszLDVdO2Nhc2UgMjp0LnNlbnQoKSxvLk9yLmRlbGV0ZShpKSxvLnFyLnJlbW92ZVRhcmdldChpKSx0LmxhYmVsPTM7Y2FzZSAzOnQubGFiZWw9NDtjYXNlIDQ6cmV0dXJuIG4rKyxbMywxXTtjYXNlIDU6cmV0dXJuWzJdfX0pfSl9KHMsYSldO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksWzMsNV07Y2FzZSAzOnJldHVybiBuPXQuc2VudCgpLHhyKFwiUmVtb3RlU3RvcmVcIixcIkZhaWxlZCB0byByZW1vdmUgdGFyZ2V0cyAlczogJXMgXCIsYS50YXJnZXRJZHMuam9pbihcIixcIiksbiksWzQsVmwocyxuKV07Y2FzZSA0OnJldHVybiB0LnNlbnQoKSxbMyw1XTtjYXNlIDU6cmV0dXJuWzMsMTNdO2Nhc2UgNjppZihhIGluc3RhbmNlb2YgUXM/cy5xci5YKGEpOmEgaW5zdGFuY2VvZiB6cz9zLnFyLnJ0KGEpOnMucXIuZXQoYSksdS5pc0VxdWFsKEdyLm1pbigpKSlyZXR1cm5bMywxM107dC5sYWJlbD03O2Nhc2UgNzpyZXR1cm4gdC50cnlzLnB1c2goWzcsMTEsLDEzXSksWzQsbmgocy5sb2NhbFN0b3JlKV07Y2FzZSA4OnJldHVybiBvPXQuc2VudCgpLDA8PXUuY29tcGFyZVRvKG8pP1s0LChpPXUsKGU9KHI9cykucXIudXQoaSkpLnRhcmdldENoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciBuOzA8dC5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCkmJigobj1yLk9yLmdldChlKSkmJnIuT3Iuc2V0KGUsbi53aXRoUmVzdW1lVG9rZW4odC5yZXN1bWVUb2tlbixpKSkpfSksZS50YXJnZXRNaXNtYXRjaGVzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9ci5Pci5nZXQodCk7ZSYmKHIuT3Iuc2V0KHQsZS53aXRoUmVzdW1lVG9rZW4obmkuRU1QVFlfQllURV9TVFJJTkcsZS5zbmFwc2hvdFZlcnNpb24pKSx4bChyLHQpLGU9bmV3IFR1KGUudGFyZ2V0LHQsMSxlLnNlcXVlbmNlTnVtYmVyKSxSbChyLGUpKX0pLHIucmVtb3RlU3luY2VyLmFwcGx5UmVtb3RlRXZlbnQoZSkpXTpbMywxMF07Y2FzZSA5OnQuc2VudCgpLHQubGFiZWw9MTA7Y2FzZSAxMDpyZXR1cm5bMywxM107Y2FzZSAxMTpyZXR1cm4geHIoXCJSZW1vdGVTdG9yZVwiLFwiRmFpbGVkIHRvIHJhaXNlIHNuYXBzaG90OlwiLG89dC5zZW50KCkpLFs0LFZsKHMsbyldO2Nhc2UgMTI6cmV0dXJuIHQuc2VudCgpLFszLDEzXTtjYXNlIDEzOnJldHVyblsyXX12YXIgcixpLGV9KX0pfWZ1bmN0aW9uIFZsKG4scixpKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDppZighbHUocikpdGhyb3cgcjtyZXR1cm4gbi4kci5hZGQoMSksWzQsQWwobildO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksbi5Cci5zZXQoXCJPZmZsaW5lXCIpLGk9aXx8ZnVuY3Rpb24oKXtyZXR1cm4gbmgobi5sb2NhbFN0b3JlKX0sbi5hc3luY1F1ZXVlLmVucXVldWVSZXRyeWFibGUoZnVuY3Rpb24oKXtyZXR1cm4geShlLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHhyKFwiUmVtb3RlU3RvcmVcIixcIlJldHJ5aW5nIEluZGV4ZWREQiBhY2Nlc3NcIiksWzQsaSgpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLG4uJHIuZGVsZXRlKDEpLFs0LERsKG4pXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLFsyXX19KX0pfSksWzJdfX0pfSl9ZnVuY3Rpb24gVWwoZSxuKXtyZXR1cm4gbigpLmNhdGNoKGZ1bmN0aW9uKHQpe3JldHVybiBWbChlLHQsbil9KX1mdW5jdGlvbiBxbCh1KXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaSxvLHMsYTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6bz1RbChpPXUpLHM9MDxpLmtyLmxlbmd0aD9pLmtyW2kua3IubGVuZ3RoLTFdLmJhdGNoSWQ6LTEsdC5sYWJlbD0xO2Nhc2UgMTppZighKFBsKGkpJiZpLmtyLmxlbmd0aDwxMCkpcmV0dXJuWzMsN107dC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gdC50cnlzLnB1c2goWzIsNCwsNl0pLFs0LChlPWkubG9jYWxTdG9yZSxuPXMsKHI9ZSkucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJHZXQgbmV4dCBtdXRhdGlvbiBiYXRjaFwiLFwicmVhZG9ubHlcIixmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09biYmKG49LTEpLHIuX24uZ2V0TmV4dE11dGF0aW9uQmF0Y2hBZnRlckJhdGNoSWQodCxuKX0pKV07Y2FzZSAzOnJldHVybiBudWxsPT09KGE9dC5zZW50KCkpPygwPT09aS5rci5sZW5ndGgmJm8uaXIoKSxbMyw3XSk6KHM9YS5iYXRjaElkLGZ1bmN0aW9uKHQsZSl7dC5rci5wdXNoKGUpO3Q9UWwodCk7dC5lcigpJiZ0LnByJiZ0LkVyKGUubXV0YXRpb25zKX0oaSxhKSxbMyw2XSk7Y2FzZSA0OnJldHVybiBhPXQuc2VudCgpLFs0LFZsKGksYSldO2Nhc2UgNTpyZXR1cm4gdC5zZW50KCksWzMsNl07Y2FzZSA2OnJldHVyblszLDFdO2Nhc2UgNzpyZXR1cm4gQmwoaSkmJmpsKGkpLFsyXX12YXIgZSxuLHJ9KX0pfWZ1bmN0aW9uIEJsKHQpe3JldHVybiBQbCh0KSYmIVFsKHQpLnRyKCkmJjA8dC5rci5sZW5ndGh9ZnVuY3Rpb24gamwodCl7UWwodCkuc3RhcnQoKX1mdW5jdGlvbiBLbChuLHIpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1uLHI/KGUuJHIuZGVsZXRlKDIpLFs0LERsKGUpXSk6WzMsMl07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMyw1XTtjYXNlIDI6cmV0dXJuIHI/WzMsNF06KGUuJHIuYWRkKDIpLFs0LEFsKGUpXSk7Y2FzZSAzOnQuc2VudCgpLGUuQnIuc2V0KFwiVW5rbm93blwiKSx0LmxhYmVsPTQ7Y2FzZSA0OnQubGFiZWw9NTtjYXNlIDU6cmV0dXJuWzJdfX0pfSl9ZnVuY3Rpb24gR2wobil7dmFyIHQsZSxyLGk9dGhpcztyZXR1cm4gbi5Vcnx8KG4uVXI9KHQ9bi5kYXRhc3RvcmUsZT1uLmFzeW5jUXVldWUscj17SWk6ZnVuY3Rpb24obil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gbi5Pci5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7Umwobix0KX0pLFsyXX0pfSl9LmJpbmQobnVsbCxuKSxSaTpmdW5jdGlvbihlLG4pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIE1sKGUpLExsKGUpPyhlLkJyLk5yKG4pLE9sKGUpKTplLkJyLnNldChcIlVua25vd25cIiksWzJdfSl9KX0uYmluZChudWxsLG4pLF9yOkZsLmJpbmQobnVsbCxuKX0sdC5icigpLG5ldyBtbChlLHQuSGksdC5jcmVkZW50aWFscyx0LlIscikpLG4uTXIucHVzaChmdW5jdGlvbihlKXtyZXR1cm4geShpLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU/KG4uVXIuc3IoKSxMbChuKT9PbChuKTpuLkJyLnNldChcIlVua25vd25cIiksWzMsM10pOlszLDFdO2Nhc2UgMTpyZXR1cm5bNCxuLlVyLnN0b3AoKV07Y2FzZSAyOnQuc2VudCgpLE1sKG4pLHQubGFiZWw9MztjYXNlIDM6cmV0dXJuWzJdfX0pfSl9KSksbi5Vcn1mdW5jdGlvbiBRbChuKXt2YXIgdCxlLHIsaT10aGlzO3JldHVybiBuLlFyfHwobi5Rcj0odD1uLmRhdGFzdG9yZSxlPW4uYXN5bmNRdWV1ZSxyPXtJaTpmdW5jdGlvbihlKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiBRbChlKS5BcigpLFsyXX0pfSl9LmJpbmQobnVsbCxuKSxSaTpmdW5jdGlvbihlLG4pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbiYmUWwoZSkucHI/WzQsZnVuY3Rpb24ocixpKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gX3Mobj1pLmNvZGUpJiZuIT09RHIuQUJPUlRFRD8oZT1yLmtyLnNoaWZ0KCksUWwocikuc3IoKSxbNCxVbChyLGZ1bmN0aW9uKCl7cmV0dXJuIHIucmVtb3RlU3luY2VyLnJlamVjdEZhaWxlZFdyaXRlKGUuYmF0Y2hJZCxpKX0pXSk6WzMsM107Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbNCxxbChyKV07Y2FzZSAyOnQuc2VudCgpLHQubGFiZWw9MztjYXNlIDM6cmV0dXJuWzJdfX0pfSl9KGUsbildOlszLDJdO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVybiBCbChlKSYmamwoZSksWzJdfX0pfSl9LmJpbmQobnVsbCxuKSxJcjpmdW5jdGlvbihvKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHIsaTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe2ZvcihlPVFsKG8pLG49MCxyPW8ua3I7bjxyLmxlbmd0aDtuKyspaT1yW25dLGUuRXIoaS5tdXRhdGlvbnMpO3JldHVyblsyXX0pfSl9LmJpbmQobnVsbCxuKSxUcjpmdW5jdGlvbihyLGksbyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9ci5rci5zaGlmdCgpLG49RXUuZnJvbShlLGksbyksWzQsVWwocixmdW5jdGlvbigpe3JldHVybiByLnJlbW90ZVN5bmNlci5hcHBseVN1Y2Nlc3NmdWxXcml0ZShuKX0pXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFs0LHFsKHIpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLFsyXX19KX0pfS5iaW5kKG51bGwsbil9LHQuYnIoKSxuZXcgdmwoZSx0LkhpLHQuY3JlZGVudGlhbHMsdC5SLHIpKSxuLk1yLnB1c2goZnVuY3Rpb24oZSl7cmV0dXJuIHkoaSx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPyhuLlFyLnNyKCksWzQscWwobildKTpbMywyXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFszLDRdO2Nhc2UgMjpyZXR1cm5bNCxuLlFyLnN0b3AoKV07Y2FzZSAzOnQuc2VudCgpLDA8bi5rci5sZW5ndGgmJih4cihcIlJlbW90ZVN0b3JlXCIsXCJTdG9wcGluZyB3cml0ZSBzdHJlYW0gd2l0aCBcIituLmtyLmxlbmd0aCtcIiBwZW5kaW5nIHdyaXRlc1wiKSxuLmtyPVtdKSx0LmxhYmVsPTQ7Y2FzZSA0OnJldHVyblsyXX19KX0pfSkpLG4uUXJ9dmFyIHpsPShIbC5jcmVhdGVBbmRTY2hlZHVsZT1mdW5jdGlvbih0LGUsbixyLGkpe2k9bmV3IEhsKHQsZSxEYXRlLm5vdygpK24scixpKTtyZXR1cm4gaS5zdGFydChuKSxpfSxIbC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLnRpbWVySGFuZGxlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZS5oYW5kbGVEZWxheUVsYXBzZWQoKX0sdCl9LEhsLnByb3RvdHlwZS5za2lwRGVsYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYW5kbGVEZWxheUVsYXBzZWQoKX0sSGwucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbih0KXtudWxsIT09dGhpcy50aW1lckhhbmRsZSYmKHRoaXMuY2xlYXJUaW1lb3V0KCksdGhpcy5kZWZlcnJlZC5yZWplY3QobmV3IEFyKERyLkNBTkNFTExFRCxcIk9wZXJhdGlvbiBjYW5jZWxsZWRcIisodD9cIjogXCIrdDpcIlwiKSkpKX0sSGwucHJvdG90eXBlLmhhbmRsZURlbGF5RWxhcHNlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PWUudGltZXJIYW5kbGU/KGUuY2xlYXJUaW1lb3V0KCksZS5vcCgpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuZGVmZXJyZWQucmVzb2x2ZSh0KX0pKTpQcm9taXNlLnJlc29sdmUoKX0pfSxIbC5wcm90b3R5cGUuY2xlYXJUaW1lb3V0PWZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMudGltZXJIYW5kbGUmJih0aGlzLnJlbW92YWxDYWxsYmFjayh0aGlzKSxjbGVhclRpbWVvdXQodGhpcy50aW1lckhhbmRsZSksdGhpcy50aW1lckhhbmRsZT1udWxsKX0sSGwpO2Z1bmN0aW9uIEhsKHQsZSxuLHIsaSl7dGhpcy5hc3luY1F1ZXVlPXQsdGhpcy50aW1lcklkPWUsdGhpcy50YXJnZXRUaW1lTXM9bix0aGlzLm9wPXIsdGhpcy5yZW1vdmFsQ2FsbGJhY2s9aSx0aGlzLmRlZmVycmVkPW5ldyBaYSx0aGlzLnRoZW49dGhpcy5kZWZlcnJlZC5wcm9taXNlLnRoZW4uYmluZCh0aGlzLmRlZmVycmVkLnByb21pc2UpLHRoaXMuZGVmZXJyZWQucHJvbWlzZS5jYXRjaChmdW5jdGlvbih0KXt9KX1mdW5jdGlvbiBXbCh0LGUpe2lmKE9yKFwiQXN5bmNRdWV1ZVwiLGUrXCI6IFwiK3QpLGx1KHQpKXJldHVybiBuZXcgQXIoRHIuVU5BVkFJTEFCTEUsZStcIjogXCIrdCk7dGhyb3cgdH1mdW5jdGlvbiBZbCgpe3RoaXMucXVlcmllcz1uZXcgU2Moa28sQW8pLHRoaXMub25saW5lU3RhdGU9XCJVbmtub3duXCIsdGhpcy5Hcj1uZXcgU2V0fXZhciBYbD0obmYuZW1wdHlTZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBuZih0LmNvbXBhcmF0b3IpfSxuZi5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10aGlzLmtleWVkTWFwLmdldCh0KX0sbmYucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5rZXllZE1hcC5nZXQodCl9LG5mLnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvcnRlZFNldC5taW5LZXkoKX0sbmYucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3J0ZWRTZXQubWF4S2V5KCl9LG5mLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc29ydGVkU2V0LmlzRW1wdHkoKX0sbmYucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odCl7dD10aGlzLmtleWVkTWFwLmdldCh0KTtyZXR1cm4gdD90aGlzLnNvcnRlZFNldC5pbmRleE9mKHQpOi0xfSxPYmplY3QuZGVmaW5lUHJvcGVydHkobmYucHJvdG90eXBlLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3J0ZWRTZXQuc2l6ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxuZi5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihuKXt0aGlzLnNvcnRlZFNldC5pbm9yZGVyVHJhdmVyc2FsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4odCksITF9KX0sbmYucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRlbGV0ZSh0LmtleSk7cmV0dXJuIGUuY29weShlLmtleWVkTWFwLmluc2VydCh0LmtleSx0KSxlLnNvcnRlZFNldC5pbnNlcnQodCxudWxsKSl9LG5mLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXQodCk7cmV0dXJuIGU/dGhpcy5jb3B5KHRoaXMua2V5ZWRNYXAucmVtb3ZlKHQpLHRoaXMuc29ydGVkU2V0LnJlbW92ZShlKSk6dGhpc30sbmYucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7aWYoISh0IGluc3RhbmNlb2YgbmYpKXJldHVybiExO2lmKHRoaXMuc2l6ZSE9PXQuc2l6ZSlyZXR1cm4hMTtmb3IodmFyIGU9dGhpcy5zb3J0ZWRTZXQuZ2V0SXRlcmF0b3IoKSxuPXQuc29ydGVkU2V0LmdldEl0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgcj1lLmdldE5leHQoKS5rZXksaT1uLmdldE5leHQoKS5rZXk7aWYoIXIuaXNFcXVhbChpKSlyZXR1cm4hMX1yZXR1cm4hMH0sbmYucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLnB1c2godC50b1N0cmluZygpKX0pLDA9PT1lLmxlbmd0aD9cIkRvY3VtZW50U2V0ICgpXCI6XCJEb2N1bWVudFNldCAoXFxuICBcIitlLmpvaW4oXCIgIFxcblwiKStcIlxcbilcIn0sbmYucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgbmY7cmV0dXJuIG4uY29tcGFyYXRvcj10aGlzLmNvbXBhcmF0b3Isbi5rZXllZE1hcD10LG4uc29ydGVkU2V0PWUsbn0sbmYpLEpsPShlZi5wcm90b3R5cGUudHJhY2s9ZnVuY3Rpb24odCl7dmFyIGU9dC5kb2Mua2V5LG49dGhpcy5Lci5nZXQoZSk7IW58fDAhPT10LnR5cGUmJjM9PT1uLnR5cGU/dGhpcy5Lcj10aGlzLktyLmluc2VydChlLHQpOjM9PT10LnR5cGUmJjEhPT1uLnR5cGU/dGhpcy5Lcj10aGlzLktyLmluc2VydChlLHt0eXBlOm4udHlwZSxkb2M6dC5kb2N9KToyPT09dC50eXBlJiYyPT09bi50eXBlP3RoaXMuS3I9dGhpcy5Lci5pbnNlcnQoZSx7dHlwZToyLGRvYzp0LmRvY30pOjI9PT10LnR5cGUmJjA9PT1uLnR5cGU/dGhpcy5Lcj10aGlzLktyLmluc2VydChlLHt0eXBlOjAsZG9jOnQuZG9jfSk6MT09PXQudHlwZSYmMD09PW4udHlwZT90aGlzLktyPXRoaXMuS3IucmVtb3ZlKGUpOjE9PT10LnR5cGUmJjI9PT1uLnR5cGU/dGhpcy5Lcj10aGlzLktyLmluc2VydChlLHt0eXBlOjEsZG9jOm4uZG9jfSk6MD09PXQudHlwZSYmMT09PW4udHlwZT90aGlzLktyPXRoaXMuS3IuaW5zZXJ0KGUse3R5cGU6Mixkb2M6dC5kb2N9KTpNcigpfSxlZi5wcm90b3R5cGUuanI9ZnVuY3Rpb24oKXt2YXIgbj1bXTtyZXR1cm4gdGhpcy5Lci5pbm9yZGVyVHJhdmVyc2FsKGZ1bmN0aW9uKHQsZSl7bi5wdXNoKGUpfSksbn0sZWYpLCRsPSh0Zi5mcm9tSW5pdGlhbERvY3VtZW50cz1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1bXTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2kucHVzaCh7dHlwZTowLGRvYzp0fSl9KSxuZXcgdGYodCxlLFhsLmVtcHR5U2V0KGUpLGksbixyLCEwLCExKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRmLnByb3RvdHlwZSxcImhhc1BlbmRpbmdXcml0ZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMubXV0YXRlZEtleXMuaXNFbXB0eSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHRmLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe2lmKCEodGhpcy5mcm9tQ2FjaGU9PT10LmZyb21DYWNoZSYmdGhpcy5zeW5jU3RhdGVDaGFuZ2VkPT09dC5zeW5jU3RhdGVDaGFuZ2VkJiZ0aGlzLm11dGF0ZWRLZXlzLmlzRXF1YWwodC5tdXRhdGVkS2V5cykmJkFvKHRoaXMucXVlcnksdC5xdWVyeSkmJnRoaXMuZG9jcy5pc0VxdWFsKHQuZG9jcykmJnRoaXMub2xkRG9jcy5pc0VxdWFsKHQub2xkRG9jcykpKXJldHVybiExO3ZhciBlPXRoaXMuZG9jQ2hhbmdlcyxuPXQuZG9jQ2hhbmdlcztpZihlLmxlbmd0aCE9PW4ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0udHlwZSE9PW5bcl0udHlwZXx8IWVbcl0uZG9jLmlzRXF1YWwobltyXS5kb2MpKXJldHVybiExO3JldHVybiEwfSx0ZiksWmw9ZnVuY3Rpb24oKXt0aGlzLldyPXZvaWQgMCx0aGlzLmxpc3RlbmVycz1bXX07ZnVuY3Rpb24gdGYodCxlLG4scixpLG8scyxhKXt0aGlzLnF1ZXJ5PXQsdGhpcy5kb2NzPWUsdGhpcy5vbGREb2NzPW4sdGhpcy5kb2NDaGFuZ2VzPXIsdGhpcy5tdXRhdGVkS2V5cz1pLHRoaXMuZnJvbUNhY2hlPW8sdGhpcy5zeW5jU3RhdGVDaGFuZ2VkPXMsdGhpcy5leGNsdWRlc01ldGFkYXRhQ2hhbmdlcz1hfWZ1bmN0aW9uIGVmKCl7dGhpcy5Lcj1uZXcgTnMobWkuY29tcGFyYXRvcil9ZnVuY3Rpb24gbmYobil7dGhpcy5jb21wYXJhdG9yPW4/ZnVuY3Rpb24odCxlKXtyZXR1cm4gbih0LGUpfHxtaS5jb21wYXJhdG9yKHQua2V5LGUua2V5KX06ZnVuY3Rpb24odCxlKXtyZXR1cm4gbWkuY29tcGFyYXRvcih0LmtleSxlLmtleSl9LHRoaXMua2V5ZWRNYXA9VnMsdGhpcy5zb3J0ZWRTZXQ9bmV3IE5zKHRoaXMuY29tcGFyYXRvcil9ZnVuY3Rpb24gcmYocyxhKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxvO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDppZihlPXMsbj1hLnF1ZXJ5LHI9ITEsKGk9ZS5xdWVyaWVzLmdldChuKSl8fChyPSEwLGk9bmV3IFpsKSwhcilyZXR1cm5bMyw0XTt0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSwzLCw0XSksbz1pLFs0LGUub25MaXN0ZW4obildO2Nhc2UgMjpyZXR1cm4gby5Xcj10LnNlbnQoKSxbMyw0XTtjYXNlIDM6cmV0dXJuIG89dC5zZW50KCksbz1XbChvLFwiSW5pdGlhbGl6YXRpb24gb2YgcXVlcnkgJ1wiK0NvKGEucXVlcnkpK1wiJyBmYWlsZWRcIiksWzIsdm9pZCBhLm9uRXJyb3IobyldO2Nhc2UgNDpyZXR1cm4gZS5xdWVyaWVzLnNldChuLGkpLGkubGlzdGVuZXJzLnB1c2goYSksYS56cihlLm9ubGluZVN0YXRlKSxpLldyJiZhLkhyKGkuV3IpJiZzZihlKSxbMl19fSl9KX1mdW5jdGlvbiBvZihzLGEpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scixpLG87cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gZT1zLG49YS5xdWVyeSxyPSExLChpPWUucXVlcmllcy5nZXQobikpJiYwPD0obz1pLmxpc3RlbmVycy5pbmRleE9mKGEpKSYmKGkubGlzdGVuZXJzLnNwbGljZShvLDEpLHI9MD09PWkubGlzdGVuZXJzLmxlbmd0aCkscj9bMiwoZS5xdWVyaWVzLmRlbGV0ZShuKSxlLm9uVW5saXN0ZW4obikpXTpbMl19KX0pfWZ1bmN0aW9uIHNmKHQpe3QuR3IuZm9yRWFjaChmdW5jdGlvbih0KXt0Lm5leHQoKX0pfXZhciBhZj0ocGYucHJvdG90eXBlLkhyPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLm9wdGlvbnMuaW5jbHVkZU1ldGFkYXRhQ2hhbmdlcyl7Zm9yKHZhciBlPVtdLG49MCxyPXQuZG9jQ2hhbmdlcztuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXTszIT09aS50eXBlJiZlLnB1c2goaSl9dD1uZXcgJGwodC5xdWVyeSx0LmRvY3MsdC5vbGREb2NzLGUsdC5tdXRhdGVkS2V5cyx0LmZyb21DYWNoZSx0LnN5bmNTdGF0ZUNoYW5nZWQsITApfXZhciBvPSExO3JldHVybiB0aGlzLllyP3RoaXMuWnIodCkmJih0aGlzLkpyLm5leHQodCksbz0hMCk6dGhpcy5lbyh0LHRoaXMub25saW5lU3RhdGUpJiYodGhpcy5ubyh0KSxvPSEwKSx0aGlzLlhyPXQsb30scGYucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5Kci5lcnJvcih0KX0scGYucHJvdG90eXBlLnpyPWZ1bmN0aW9uKHQpe3RoaXMub25saW5lU3RhdGU9dDt2YXIgZT0hMTtyZXR1cm4gdGhpcy5YciYmIXRoaXMuWXImJnRoaXMuZW8odGhpcy5Ycix0KSYmKHRoaXMubm8odGhpcy5YciksZT0hMCksZX0scGYucHJvdG90eXBlLmVvPWZ1bmN0aW9uKHQsZSl7aWYoIXQuZnJvbUNhY2hlKXJldHVybiEwO3ZhciBuPVwiT2ZmbGluZVwiIT09ZTtyZXR1cm4hKHRoaXMub3B0aW9ucy5zbyYmbnx8dC5kb2NzLmlzRW1wdHkoKSYmXCJPZmZsaW5lXCIhPT1lKX0scGYucHJvdG90eXBlLlpyPWZ1bmN0aW9uKHQpe2lmKDA8dC5kb2NDaGFuZ2VzLmxlbmd0aClyZXR1cm4hMDt2YXIgZT10aGlzLlhyJiZ0aGlzLlhyLmhhc1BlbmRpbmdXcml0ZXMhPT10Lmhhc1BlbmRpbmdXcml0ZXM7cmV0dXJuISghdC5zeW5jU3RhdGVDaGFuZ2VkJiYhZSkmJiEwPT09dGhpcy5vcHRpb25zLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXN9LHBmLnByb3RvdHlwZS5ubz1mdW5jdGlvbih0KXt0PSRsLmZyb21Jbml0aWFsRG9jdW1lbnRzKHQucXVlcnksdC5kb2NzLHQubXV0YXRlZEtleXMsdC5mcm9tQ2FjaGUpLHRoaXMuWXI9ITAsdGhpcy5Kci5uZXh0KHQpfSxwZiksdWY9KGRmLnByb3RvdHlwZS5pbz1mdW5jdGlvbigpe3JldHVyblwibWV0YWRhdGFcImluIHRoaXMucGF5bG9hZH0sZGYpLGNmPShmZi5wcm90b3R5cGUucW49ZnVuY3Rpb24odCl7cmV0dXJuIGxhKHRoaXMuUix0KX0sZmYucHJvdG90eXBlLlVuPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm1ldGFkYXRhLmV4aXN0cz9tYSh0aGlzLlIsdC5kb2N1bWVudCwhMSk6T2kubmV3Tm9Eb2N1bWVudCh0aGlzLnFuKHQubWV0YWRhdGEubmFtZSksdGhpcy5Rbih0Lm1ldGFkYXRhLnJlYWRUaW1lKSl9LGZmLnByb3RvdHlwZS5Rbj1hYSxmZiksaGY9KGxmLnByb3RvdHlwZS5vbz1mdW5jdGlvbih0KXt0aGlzLnByb2dyZXNzLmJ5dGVzTG9hZGVkKz10LmJ5dGVMZW5ndGg7dmFyIGU9dGhpcy5wcm9ncmVzcy5kb2N1bWVudHNMb2FkZWQ7cmV0dXJuIHQucGF5bG9hZC5uYW1lZFF1ZXJ5P3RoaXMucXVlcmllcy5wdXNoKHQucGF5bG9hZC5uYW1lZFF1ZXJ5KTp0LnBheWxvYWQuZG9jdW1lbnRNZXRhZGF0YT8odGhpcy5kb2N1bWVudHMucHVzaCh7bWV0YWRhdGE6dC5wYXlsb2FkLmRvY3VtZW50TWV0YWRhdGF9KSx0LnBheWxvYWQuZG9jdW1lbnRNZXRhZGF0YS5leGlzdHN8fCsrZSk6dC5wYXlsb2FkLmRvY3VtZW50JiYodGhpcy5kb2N1bWVudHNbdGhpcy5kb2N1bWVudHMubGVuZ3RoLTFdLmRvY3VtZW50PXQucGF5bG9hZC5kb2N1bWVudCwrK2UpLGUhPT10aGlzLnByb2dyZXNzLmRvY3VtZW50c0xvYWRlZD8odGhpcy5wcm9ncmVzcy5kb2N1bWVudHNMb2FkZWQ9ZSxPYmplY3QuYXNzaWduKHt9LHRoaXMucHJvZ3Jlc3MpKTpudWxsfSxsZi5wcm90b3R5cGUuY289ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBNYXAsbj1uZXcgY2YodGhpcy5SKSxyPTAsaT10O3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO2lmKG8ubWV0YWRhdGEucXVlcmllcylmb3IodmFyIHM9bi5xbihvLm1ldGFkYXRhLm5hbWUpLGE9MCx1PW8ubWV0YWRhdGEucXVlcmllczthPHUubGVuZ3RoO2ErKyl7dmFyIGM9dVthXSxoPShlLmdldChjKXx8QnMoKSkuYWRkKHMpO2Uuc2V0KGMsaCl9fXJldHVybiBlfSxsZi5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHIsaTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsZnVuY3Rpb24obCxmLGQscCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG4scixpLG8sZSxzLGEsdSxjLGg7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmZvcihuPWwscj1CcygpLGk9UHMsbz1VcyxlPTAscz1kO2U8cy5sZW5ndGg7ZSsrKWE9c1tlXSx1PWYucW4oYS5tZXRhZGF0YS5uYW1lKSxhLmRvY3VtZW50JiYocj1yLmFkZCh1KSksaT1pLmluc2VydCh1LGYuVW4oYSkpLG89by5pbnNlcnQodSxmLlFuKGEubWV0YWRhdGEucmVhZFRpbWUpKTtyZXR1cm4gYz1uLiRuLm5ld0NoYW5nZUJ1ZmZlcih7dHJhY2tSZW1vdmFsczohMH0pLFs0LG9oKG4sTm8oYm8oJHIuZnJvbVN0cmluZyhcIl9fYnVuZGxlX18vZG9jcy9cIitwKSkpKV07Y2FzZSAxOnJldHVybiBoPXQuc2VudCgpLFsyLG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJBcHBseSBidW5kbGUgZG9jdW1lbnRzXCIsXCJyZWFkd3JpdGVcIixmdW5jdGlvbihlKXtyZXR1cm4gaWgoZSxjLGksR3IubWluKCksbykubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gYy5hcHBseShlKSx0fSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gbi5xZS5yZW1vdmVNYXRjaGluZ0tleXNGb3JUYXJnZXRJZChlLGgudGFyZ2V0SWQpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gbi5xZS5hZGRNYXRjaGluZ0tleXMoZSxyLGgudGFyZ2V0SWQpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBuLk1uLkVuKGUsdCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX0pfSldfX0pfSl9KHRoaXMubG9jYWxTdG9yZSxuZXcgY2YodGhpcy5SKSx0aGlzLmRvY3VtZW50cyx0aGlzLnJvLmlkKV07Y2FzZSAxOmU9dC5zZW50KCksbj10aGlzLmNvKHRoaXMuZG9jdW1lbnRzKSxyPTAsaT10aGlzLnF1ZXJpZXMsdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gcjxpLmxlbmd0aD8oaT1pW3JdLFs0LGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gdm9pZCAwPT09byYmKG89QnMoKSkseSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbixyO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxvaChlLE5vKEZ1KGkuYnVuZGxlZFF1ZXJ5KSkpXTtjYXNlIDE6cmV0dXJuIG49dC5zZW50KCksWzIsKHI9ZSkucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJTYXZlIG5hbWVkIHF1ZXJ5XCIsXCJyZWFkd3JpdGVcIixmdW5jdGlvbih0KXt2YXIgZT1hYShpLnJlYWRUaW1lKTtpZigwPD1uLnNuYXBzaG90VmVyc2lvbi5jb21wYXJlVG8oZSkpcmV0dXJuIHIuUWUuc2F2ZU5hbWVkUXVlcnkodCxpKTtlPW4ud2l0aFJlc3VtZVRva2VuKG5pLkVNUFRZX0JZVEVfU1RSSU5HLGUpO3JldHVybiByLkZuPXIuRm4uaW5zZXJ0KGUudGFyZ2V0SWQsZSksci5xZS51cGRhdGVUYXJnZXREYXRhKHQsZSkubmV4dChmdW5jdGlvbigpe3JldHVybiByLnFlLnJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkKHQsbi50YXJnZXRJZCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHIucWUuYWRkTWF0Y2hpbmdLZXlzKHQsbyxuLnRhcmdldElkKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gci5RZS5zYXZlTmFtZWRRdWVyeSh0LGkpfSl9KV19fSl9KX0odGhpcy5sb2NhbFN0b3JlLGksbi5nZXQoaS5uYW1lKSldKTpbMyw1XTtjYXNlIDM6dC5zZW50KCksdC5sYWJlbD00O2Nhc2UgNDpyZXR1cm4gcisrLFszLDJdO2Nhc2UgNTpyZXR1cm5bMiwodGhpcy5wcm9ncmVzcy50YXNrU3RhdGU9XCJTdWNjZXNzXCIsbmV3IEdjKE9iamVjdC5hc3NpZ24oe30sdGhpcy5wcm9ncmVzcyksZSkpXX19KX0pfSxsZik7ZnVuY3Rpb24gbGYodCxlLG4pe3RoaXMucm89dCx0aGlzLmxvY2FsU3RvcmU9ZSx0aGlzLlI9bix0aGlzLnF1ZXJpZXM9W10sdGhpcy5kb2N1bWVudHM9W10sdGhpcy5wcm9ncmVzcz15Zih0KX1mdW5jdGlvbiBmZih0KXt0aGlzLlI9dH1mdW5jdGlvbiBkZih0LGUpe3RoaXMucGF5bG9hZD10LHRoaXMuYnl0ZUxlbmd0aD1lfWZ1bmN0aW9uIHBmKHQsZSxuKXt0aGlzLnF1ZXJ5PXQsdGhpcy5Kcj1lLHRoaXMuWXI9ITEsdGhpcy5Ycj1udWxsLHRoaXMub25saW5lU3RhdGU9XCJVbmtub3duXCIsdGhpcy5vcHRpb25zPW58fHt9fWZ1bmN0aW9uIHlmKHQpe3JldHVybnt0YXNrU3RhdGU6XCJSdW5uaW5nXCIsZG9jdW1lbnRzTG9hZGVkOjAsYnl0ZXNMb2FkZWQ6MCx0b3RhbERvY3VtZW50czp0LnRvdGFsRG9jdW1lbnRzLHRvdGFsQnl0ZXM6dC50b3RhbEJ5dGVzfX12YXIgZ2Y9ZnVuY3Rpb24odCl7dGhpcy5rZXk9dH0sbWY9ZnVuY3Rpb24odCl7dGhpcy5rZXk9dH0sdmY9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZi5wcm90b3R5cGUsXCJ3b1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51b30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxUZi5wcm90b3R5cGUuX289ZnVuY3Rpb24odCxlKXt2YXIgcz10aGlzLGE9ZT9lLm1vOm5ldyBKbCx1PShlfHx0aGlzKS5mbyxjPShlfHx0aGlzKS5tdXRhdGVkS2V5cyxoPXUsbD0hMSxmPXdvKHRoaXMucXVlcnkpJiZ1LnNpemU9PT10aGlzLnF1ZXJ5LmxpbWl0P3UubGFzdCgpOm51bGwsZD1Jbyh0aGlzLnF1ZXJ5KSYmdS5zaXplPT09dGhpcy5xdWVyeS5saW1pdD91LmZpcnN0KCk6bnVsbDtpZih0Lmlub3JkZXJUcmF2ZXJzYWwoZnVuY3Rpb24odCxlKXt2YXIgbj11LmdldCh0KSxyPVJvKHMucXVlcnksZSk/ZTpudWxsLGk9ISFuJiZzLm11dGF0ZWRLZXlzLmhhcyhuLmtleSksbz0hIXImJihyLmhhc0xvY2FsTXV0YXRpb25zfHxzLm11dGF0ZWRLZXlzLmhhcyhyLmtleSkmJnIuaGFzQ29tbWl0dGVkTXV0YXRpb25zKSxlPSExO24mJnI/bi5kYXRhLmlzRXF1YWwoci5kYXRhKT9pIT09byYmKGEudHJhY2soe3R5cGU6Myxkb2M6cn0pLGU9ITApOnMueW8obixyKXx8KGEudHJhY2soe3R5cGU6Mixkb2M6cn0pLGU9ITAsKGYmJjA8cy5sbyhyLGYpfHxkJiZzLmxvKHIsZCk8MCkmJihsPSEwKSk6IW4mJnI/KGEudHJhY2soe3R5cGU6MCxkb2M6cn0pLGU9ITApOm4mJiFyJiYoYS50cmFjayh7dHlwZToxLGRvYzpufSksZT0hMCwoZnx8ZCkmJihsPSEwKSksZSYmKGM9cj8oaD1oLmFkZChyKSxvP2MuYWRkKHQpOmMuZGVsZXRlKHQpKTooaD1oLmRlbGV0ZSh0KSxjLmRlbGV0ZSh0KSkpfSksd28odGhpcy5xdWVyeSl8fElvKHRoaXMucXVlcnkpKWZvcig7aC5zaXplPnRoaXMucXVlcnkubGltaXQ7KXt2YXIgbj13byh0aGlzLnF1ZXJ5KT9oLmxhc3QoKTpoLmZpcnN0KCksaD1oLmRlbGV0ZShuLmtleSksYz1jLmRlbGV0ZShuLmtleSk7YS50cmFjayh7dHlwZToxLGRvYzpufSl9cmV0dXJue2ZvOmgsbW86YSxObjpsLG11dGF0ZWRLZXlzOmN9fSxUZi5wcm90b3R5cGUueW89ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5oYXNMb2NhbE11dGF0aW9ucyYmZS5oYXNDb21taXR0ZWRNdXRhdGlvbnMmJiFlLmhhc0xvY2FsTXV0YXRpb25zfSxUZi5wcm90b3R5cGUuYXBwbHlDaGFuZ2VzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzLHI9dGhpcy5mbzt0aGlzLmZvPXQuZm8sdGhpcy5tdXRhdGVkS2V5cz10Lm11dGF0ZWRLZXlzO3ZhciBpPXQubW8uanIoKTtpLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gcj10LnR5cGUsaT1lLnR5cGUsbihyKS1uKGkpfHxvLmxvKHQuZG9jLGUuZG9jKTtmdW5jdGlvbiBuKHQpe3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIDE7Y2FzZSAyOmNhc2UgMzpyZXR1cm4gMjtjYXNlIDE6cmV0dXJuIDA7ZGVmYXVsdDpyZXR1cm4gTXIoKX19dmFyIHIsaX0pLHRoaXMucG8obik7dmFyIHM9ZT90aGlzLkVvKCk6W10sbj0wPT09dGhpcy5oby5zaXplJiZ0aGlzLmN1cnJlbnQ/MTowLGU9biE9PXRoaXMuYW87cmV0dXJuIHRoaXMuYW89biwwIT09aS5sZW5ndGh8fGU/e3NuYXBzaG90Om5ldyAkbCh0aGlzLnF1ZXJ5LHQuZm8scixpLHQubXV0YXRlZEtleXMsMD09bixlLCExKSxUbzpzfTp7VG86c319LFRmLnByb3RvdHlwZS56cj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jdXJyZW50JiZcIk9mZmxpbmVcIj09PXQ/KHRoaXMuY3VycmVudD0hMSx0aGlzLmFwcGx5Q2hhbmdlcyh7Zm86dGhpcy5mbyxtbzpuZXcgSmwsbXV0YXRlZEtleXM6dGhpcy5tdXRhdGVkS2V5cyxObjohMX0sITEpKTp7VG86W119fSxUZi5wcm90b3R5cGUuSW89ZnVuY3Rpb24odCl7cmV0dXJuIXRoaXMudW8uaGFzKHQpJiYhIXRoaXMuZm8uaGFzKHQpJiYhdGhpcy5mby5nZXQodCkuaGFzTG9jYWxNdXRhdGlvbnN9LFRmLnByb3RvdHlwZS5wbz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3QmJih0LmFkZGVkRG9jdW1lbnRzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUudW89ZS51by5hZGQodCl9KSx0Lm1vZGlmaWVkRG9jdW1lbnRzLmZvckVhY2goZnVuY3Rpb24odCl7fSksdC5yZW1vdmVkRG9jdW1lbnRzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUudW89ZS51by5kZWxldGUodCl9KSx0aGlzLmN1cnJlbnQ9dC5jdXJyZW50KX0sVGYucHJvdG90eXBlLkVvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5jdXJyZW50KXJldHVybltdO3ZhciBuPXRoaXMuaG87dGhpcy5obz1CcygpLHRoaXMuZm8uZm9yRWFjaChmdW5jdGlvbih0KXtlLklvKHQua2V5KSYmKGUuaG89ZS5oby5hZGQodC5rZXkpKX0pO3ZhciByPVtdO3JldHVybiBuLmZvckVhY2goZnVuY3Rpb24odCl7ZS5oby5oYXModCl8fHIucHVzaChuZXcgbWYodCkpfSksdGhpcy5oby5mb3JFYWNoKGZ1bmN0aW9uKHQpe24uaGFzKHQpfHxyLnB1c2gobmV3IGdmKHQpKX0pLHJ9LFRmLnByb3RvdHlwZS5Bbz1mdW5jdGlvbih0KXt0aGlzLnVvPXQuQm4sdGhpcy5obz1CcygpO3Q9dGhpcy5fbyh0LmRvY3VtZW50cyk7cmV0dXJuIHRoaXMuYXBwbHlDaGFuZ2VzKHQsITApfSxUZi5wcm90b3R5cGUuUm89ZnVuY3Rpb24oKXtyZXR1cm4gJGwuZnJvbUluaXRpYWxEb2N1bWVudHModGhpcy5xdWVyeSx0aGlzLmZvLHRoaXMubXV0YXRlZEtleXMsMD09PXRoaXMuYW8pfSxUZiksYmY9ZnVuY3Rpb24odCxlLG4pe3RoaXMucXVlcnk9dCx0aGlzLnRhcmdldElkPWUsdGhpcy52aWV3PW59LHdmPWZ1bmN0aW9uKHQpe3RoaXMua2V5PXQsdGhpcy5ibz0hMX0sSWY9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFZi5wcm90b3R5cGUsXCJpc1ByaW1hcnlDbGllbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITA9PT10aGlzLk9vfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLEVmKTtmdW5jdGlvbiBFZih0LGUsbixyLGksbyl7dGhpcy5sb2NhbFN0b3JlPXQsdGhpcy5yZW1vdGVTdG9yZT1lLHRoaXMuZXZlbnRNYW5hZ2VyPW4sdGhpcy5zaGFyZWRDbGllbnRTdGF0ZT1yLHRoaXMuY3VycmVudFVzZXI9aSx0aGlzLm1heENvbmN1cnJlbnRMaW1ib1Jlc29sdXRpb25zPW8sdGhpcy52bz17fSx0aGlzLlBvPW5ldyBTYyhrbyxBbyksdGhpcy5Wbz1uZXcgTWFwLHRoaXMuU289bmV3IFNldCx0aGlzLkRvPW5ldyBOcyhtaS5jb21wYXJhdG9yKSx0aGlzLkNvPW5ldyBNYXAsdGhpcy5Obz1uZXcgcGgsdGhpcy54bz17fSx0aGlzLkZvPW5ldyBNYXAsdGhpcy5rbz1zYy5ZdCgpLHRoaXMub25saW5lU3RhdGU9XCJVbmtub3duXCIsdGhpcy5Pbz12b2lkIDB9ZnVuY3Rpb24gVGYodCxlKXt0aGlzLnF1ZXJ5PXQsdGhpcy51bz1lLHRoaXMuYW89bnVsbCx0aGlzLmN1cnJlbnQ9ITEsdGhpcy5obz1CcygpLHRoaXMubXV0YXRlZEtleXM9QnMoKSx0aGlzLmxvPXhvKHQpLHRoaXMuZm89bmV3IFhsKHRoaXMubG8pfWZ1bmN0aW9uIF9mKGksbyxzLGEpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGkuJG89ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihyLGksbyxzKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4oZT1pLnZpZXcuX28obykpLk5uP1s0LGFoKHIubG9jYWxTdG9yZSxpLnF1ZXJ5LCExKS50aGVuKGZ1bmN0aW9uKHQpe3Q9dC5kb2N1bWVudHM7cmV0dXJuIGkudmlldy5fbyh0LGUpfSldOlszLDJdO2Nhc2UgMTplPXQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuIG49cyYmcy50YXJnZXRDaGFuZ2VzLmdldChpLnRhcmdldElkKSxuPWkudmlldy5hcHBseUNoYW5nZXMoZSxyLmlzUHJpbWFyeUNsaWVudCxuKSxbMiwoTGYocixpLnRhcmdldElkLG4uVG8pLG4uc25hcHNob3QpXX19KX0pfShpLHQsZSxuKX0sWzQsYWgoaS5sb2NhbFN0b3JlLG8sITApXTtjYXNlIDE6cmV0dXJuIG49dC5zZW50KCkscj1uZXcgdmYobyxuLkJuKSxlPXIuX28obi5kb2N1bWVudHMpLG49R3MuY3JlYXRlU3ludGhlc2l6ZWRUYXJnZXRDaGFuZ2VGb3JDdXJyZW50Q2hhbmdlKHMsYSYmXCJPZmZsaW5lXCIhPT1pLm9ubGluZVN0YXRlKSxuPXIuYXBwbHlDaGFuZ2VzKGUsaS5pc1ByaW1hcnlDbGllbnQsbiksTGYoaSxzLG4uVG8pLHI9bmV3IGJmKG8scyxyKSxbMiwoaS5Qby5zZXQobyxyKSxpLlZvLmhhcyhzKT9pLlZvLmdldChzKS5wdXNoKG8pOmkuVm8uc2V0KHMsW29dKSxuLnNuYXBzaG90KV19fSl9KX1mdW5jdGlvbiBTZihmLGQscCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHMsbDtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6bD1LZihmKSx0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSw1LCw2XSksWzQsKGk9bC5sb2NhbFN0b3JlLGE9ZCxjPWksaD1Lci5ub3coKSxvPWEucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuYWRkKGUua2V5KX0sQnMoKSksYy5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkxvY2FsbHkgd3JpdGUgbXV0YXRpb25zXCIsXCJyZWFkd3JpdGVcIixmdW5jdGlvbihzKXtyZXR1cm4gYy5Nbi5wbihzLG8pLm5leHQoZnVuY3Rpb24odCl7dT10O2Zvcih2YXIgZT1bXSxuPTAscj1hO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dLG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49bnVsbCxyPTAsaT10LmZpZWxkVHJhbnNmb3JtcztyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXSxzPWUuZGF0YS5maWVsZChvLmZpZWxkKSxzPU1vKG8udHJhbnNmb3JtLHN8fG51bGwpO251bGwhPXMmJihuPW51bGw9PW4/UmkuZW1wdHkoKTpuKS5zZXQoby5maWVsZCxzKX1yZXR1cm4gbnx8bnVsbH0oaSx1LmdldChpLmtleSkpO251bGwhPW8mJmUucHVzaChuZXcgaHMoaS5rZXksbyxmdW5jdGlvbiBzKHQpe3ZhciBhPVtdO3JldHVybiBXcih0LmZpZWxkc3x8e30sZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgdGkoW3RdKTtpZihDaShlKSlpZigwPT09KGU9cyhlLm1hcFZhbHVlKS5maWVsZHMpLmxlbmd0aClhLnB1c2gobik7ZWxzZSBmb3IodmFyIHI9MCxpPWU7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07YS5wdXNoKG4uY2hpbGQobykpfWVsc2UgYS5wdXNoKG4pfSksbmV3IGVpKGEpfShvLnRvUHJvdG8oKS5tYXBWYWx1ZSksZXMuZXhpc3RzKCEwKSkpfXJldHVybiBjLl9uLmFkZE11dGF0aW9uQmF0Y2gocyxoLGUsYSl9KX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuYXBwbHlUb0xvY2FsRG9jdW1lbnRTZXQodSkse2JhdGNoSWQ6dC5iYXRjaElkLGNoYW5nZXM6dX19KSldO2Nhc2UgMjpyZXR1cm4gcz10LnNlbnQoKSxsLnNoYXJlZENsaWVudFN0YXRlLmFkZFBlbmRpbmdNdXRhdGlvbihzLmJhdGNoSWQpLGU9bCxuPXMuYmF0Y2hJZCxyPXAsaT0oaT0oaT1lLnhvW2UuY3VycmVudFVzZXIudG9LZXkoKV0pfHxuZXcgTnMocXIpKS5pbnNlcnQobixyKSxlLnhvW2UuY3VycmVudFVzZXIudG9LZXkoKV09aSxbNCxNZihsLHMuY2hhbmdlcyldO2Nhc2UgMzpyZXR1cm4gdC5zZW50KCksWzQscWwobC5yZW1vdGVTdG9yZSldO2Nhc2UgNDpyZXR1cm4gdC5zZW50KCksWzMsNl07Y2FzZSA1OnJldHVybiBsPXQuc2VudCgpLGw9V2wobCxcIkZhaWxlZCB0byBwZXJzaXN0IHdyaXRlXCIpLHAucmVqZWN0KGwpLFszLDZdO2Nhc2UgNjpyZXR1cm5bMl19dmFyIGUsbixyLGksYSx1LGMsaCxvfSl9KX1mdW5jdGlvbiBOZihyLGkpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuLGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOm49cix0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSw0LCw2XSksWzQscmgobi5sb2NhbFN0b3JlLGkpXTtjYXNlIDI6cmV0dXJuIGU9dC5zZW50KCksaS50YXJnZXRDaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCxlKXtlPW4uQ28uZ2V0KGUpO2UmJihGcih0LmFkZGVkRG9jdW1lbnRzLnNpemUrdC5tb2RpZmllZERvY3VtZW50cy5zaXplK3QucmVtb3ZlZERvY3VtZW50cy5zaXplPD0xKSwwPHQuYWRkZWREb2N1bWVudHMuc2l6ZT9lLmJvPSEwOjA8dC5tb2RpZmllZERvY3VtZW50cy5zaXplP0ZyKGUuYm8pOjA8dC5yZW1vdmVkRG9jdW1lbnRzLnNpemUmJihGcihlLmJvKSxlLmJvPSExKSl9KSxbNCxNZihuLGUsaSldO2Nhc2UgMzpyZXR1cm4gdC5zZW50KCksWzMsNl07Y2FzZSA0OnJldHVybls0LGRjKHQuc2VudCgpKV07Y2FzZSA1OnJldHVybiB0LnNlbnQoKSxbMyw2XTtjYXNlIDY6cmV0dXJuWzJdfX0pfSl9ZnVuY3Rpb24gRGYodCxuLGUpe3ZhciByLHQ9dDsodC5pc1ByaW1hcnlDbGllbnQmJjA9PT1lfHwhdC5pc1ByaW1hcnlDbGllbnQmJjE9PT1lKSYmKHI9W10sdC5Qby5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7ZT1lLnZpZXcuenIobik7ZS5zbmFwc2hvdCYmci5wdXNoKGUuc25hcHNob3QpfSksZnVuY3Rpb24odCxpKXt0Lm9ubGluZVN0YXRlPWk7dmFyIG89ITE7dC5xdWVyaWVzLmZvckVhY2goZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPWUubGlzdGVuZXJzO248ci5sZW5ndGg7bisrKXJbbl0uenIoaSkmJihvPSEwKX0pLG8mJnNmKHQpfSh0LmV2ZW50TWFuYWdlcixuKSxyLmxlbmd0aCYmdC52by5fcihyKSx0Lm9ubGluZVN0YXRlPW4sdC5pc1ByaW1hcnlDbGllbnQmJnQuc2hhcmVkQ2xpZW50U3RhdGUuc2V0T25saW5lU3RhdGUobikpfWZ1bmN0aW9uIEFmKHMsYSx1KXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbixvO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpuPXMsdC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdC50cnlzLnB1c2goWzEsNCwsNl0pLFs0LChlPW4ubG9jYWxTdG9yZSxyPWEsKGk9ZSkucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJSZWplY3QgYmF0Y2hcIixcInJlYWR3cml0ZS1wcmltYXJ5XCIsZnVuY3Rpb24oZSl7dmFyIG47cmV0dXJuIGkuX24ubG9va3VwTXV0YXRpb25CYXRjaChlLHIpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIEZyKG51bGwhPT10KSxuPXQua2V5cygpLGkuX24ucmVtb3ZlTXV0YXRpb25CYXRjaChlLHQpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBpLl9uLnBlcmZvcm1Db25zaXN0ZW5jeUNoZWNrKGUpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBpLk1uLnBuKGUsbil9KX0pKV07Y2FzZSAyOnJldHVybiBvPXQuc2VudCgpLFJmKG4sYSx1KSxDZihuLGEpLG4uc2hhcmVkQ2xpZW50U3RhdGUudXBkYXRlTXV0YXRpb25TdGF0ZShhLFwicmVqZWN0ZWRcIix1KSxbNCxNZihuLG8pXTtjYXNlIDM6cmV0dXJuIHQuc2VudCgpLFszLDZdO2Nhc2UgNDpyZXR1cm5bNCxkYyh0LnNlbnQoKSldO2Nhc2UgNTpyZXR1cm4gdC5zZW50KCksWzMsNl07Y2FzZSA2OnJldHVyblsyXX12YXIgZSxyLGl9KX0pfWZ1bmN0aW9uIGtmKG8scyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG4scixpO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpQbCgobj1vKS5yZW1vdGVTdG9yZSl8fHhyKFwiU3luY0VuZ2luZVwiLFwiVGhlIG5ldHdvcmsgaXMgZGlzYWJsZWQuIFRoZSB0YXNrIHJldHVybmVkIGJ5ICdhd2FpdFBlbmRpbmdXcml0ZXMoKScgd2lsbCBub3QgY29tcGxldGUgdW50aWwgdGhlIG5ldHdvcmsgaXMgZW5hYmxlZC5cIiksdC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdC50cnlzLnB1c2goWzEsMywsNF0pLFs0LChlPW4ubG9jYWxTdG9yZSkucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJHZXQgaGlnaGVzdCB1bmFja25vd2xlZGdlZCBiYXRjaCBpZFwiLFwicmVhZG9ubHlcIixmdW5jdGlvbih0KXtyZXR1cm4gZS5fbi5nZXRIaWdoZXN0VW5hY2tub3dsZWRnZWRCYXRjaElkKHQpfSldO2Nhc2UgMjpyZXR1cm4tMT09PShyPXQuc2VudCgpKT9bMix2b2lkIHMucmVzb2x2ZSgpXTooKGk9bi5Gby5nZXQocil8fFtdKS5wdXNoKHMpLG4uRm8uc2V0KHIsaSksWzMsNF0pO2Nhc2UgMzpyZXR1cm4gaT10LnNlbnQoKSxpPVdsKGksXCJJbml0aWFsaXphdGlvbiBvZiB3YWl0Rm9yUGVuZGluZ1dyaXRlcygpIG9wZXJhdGlvbiBmYWlsZWRcIikscy5yZWplY3QoaSksWzMsNF07Y2FzZSA0OnJldHVyblsyXX12YXIgZX0pfSl9ZnVuY3Rpb24gQ2YodCxlKXsodC5Gby5nZXQoZSl8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QucmVzb2x2ZSgpfSksdC5Gby5kZWxldGUoZSl9ZnVuY3Rpb24gUmYodCxlLG4pe3ZhciByPXQsaT1yLnhvW3IuY3VycmVudFVzZXIudG9LZXkoKV07aSYmKCh0PWkuZ2V0KGUpKSYmKG4/dC5yZWplY3Qobik6dC5yZXNvbHZlKCksaT1pLnJlbW92ZShlKSksci54b1tyLmN1cnJlbnRVc2VyLnRvS2V5KCldPWkpfWZ1bmN0aW9uIHhmKGUsdCxuKXt2b2lkIDA9PT1uJiYobj1udWxsKSxlLnNoYXJlZENsaWVudFN0YXRlLnJlbW92ZUxvY2FsUXVlcnlUYXJnZXQodCk7Zm9yKHZhciByPTAsaT1lLlZvLmdldCh0KTtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTtlLlBvLmRlbGV0ZShvKSxuJiZlLnZvLk1vKG8sbil9ZS5Wby5kZWxldGUodCksZS5pc1ByaW1hcnlDbGllbnQmJmUuTm8uWm4odCkuZm9yRWFjaChmdW5jdGlvbih0KXtlLk5vLmNvbnRhaW5zS2V5KHQpfHxPZihlLHQpfSl9ZnVuY3Rpb24gT2YodCxlKXt0LlNvLmRlbGV0ZShlLnBhdGguY2Fub25pY2FsU3RyaW5nKCkpO3ZhciBuPXQuRG8uZ2V0KGUpO251bGwhPT1uJiYoQ2wodC5yZW1vdGVTdG9yZSxuKSx0LkRvPXQuRG8ucmVtb3ZlKGUpLHQuQ28uZGVsZXRlKG4pLFBmKHQpKX1mdW5jdGlvbiBMZih0LGUsbil7Zm9yKHZhciByLGksbyxzPTAsYT1uO3M8YS5sZW5ndGg7cysrKXt2YXIgdT1hW3NdO3UgaW5zdGFuY2VvZiBnZj8odC5Oby5hZGRSZWZlcmVuY2UodS5rZXksZSkscj10LG89dm9pZCAwLGk9KG89KGk9dSkua2V5KS5wYXRoLmNhbm9uaWNhbFN0cmluZygpLHIuRG8uZ2V0KG8pfHxyLlNvLmhhcyhpKXx8KHhyKFwiU3luY0VuZ2luZVwiLFwiTmV3IGRvY3VtZW50IGluIGxpbWJvOiBcIitvKSxyLlNvLmFkZChpKSxQZihyKSkpOnUgaW5zdGFuY2VvZiBtZj8oeHIoXCJTeW5jRW5naW5lXCIsXCJEb2N1bWVudCBubyBsb25nZXIgaW4gbGltYm86IFwiK3Uua2V5KSx0Lk5vLnJlbW92ZVJlZmVyZW5jZSh1LmtleSxlKSx0Lk5vLmNvbnRhaW5zS2V5KHUua2V5KXx8T2YodCx1LmtleSkpOk1yKCl9fWZ1bmN0aW9uIFBmKHQpe2Zvcig7MDx0LlNvLnNpemUmJnQuRG8uc2l6ZTx0Lm1heENvbmN1cnJlbnRMaW1ib1Jlc29sdXRpb25zOyl7dmFyIGU9dC5Tby52YWx1ZXMoKS5uZXh0KCkudmFsdWU7dC5Tby5kZWxldGUoZSk7dmFyIG49bmV3IG1pKCRyLmZyb21TdHJpbmcoZSkpLGU9dC5rby5uZXh0KCk7dC5Dby5zZXQoZSxuZXcgd2YobikpLHQuRG89dC5Eby5pbnNlcnQobixlKSxrbCh0LnJlbW90ZVN0b3JlLG5ldyBUdShObyhibyhuLnBhdGgpKSxlLDIsX3IubykpfX1mdW5jdGlvbiBNZihlLHMsYSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG4scixpLG87cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiByPVtdLGk9W10sbz1bXSwobj1lKS5Qby5pc0VtcHR5KCk/WzMsM106KG4uUG8uZm9yRWFjaChmdW5jdGlvbih0LGUpe28ucHVzaChuLiRvKGUscyxhKS50aGVuKGZ1bmN0aW9uKHQpe3QmJihuLmlzUHJpbWFyeUNsaWVudCYmbi5zaGFyZWRDbGllbnRTdGF0ZS51cGRhdGVRdWVyeVN0YXRlKGUudGFyZ2V0SWQsdC5mcm9tQ2FjaGU/XCJub3QtY3VycmVudFwiOlwiY3VycmVudFwiKSxyLnB1c2godCksdD16Yy5QbihlLnRhcmdldElkLHQpLGkucHVzaCh0KSl9KSl9KSxbNCxQcm9taXNlLmFsbChvKV0pO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksbi52by5fcihyKSxbNCxmdW5jdGlvbih1LGMpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByLGUsbixpLG8scyxhO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyPXUsdC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdC50cnlzLnB1c2goWzEsMywsNF0pLFs0LHIucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJub3RpZnlMb2NhbFZpZXdDaGFuZ2VzXCIsXCJyZWFkd3JpdGVcIixmdW5jdGlvbihuKXtyZXR1cm4gdHUuZm9yRWFjaChjLGZ1bmN0aW9uKGUpe3JldHVybiB0dS5mb3JFYWNoKGUuYm4sZnVuY3Rpb24odCl7cmV0dXJuIHIucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUuYWRkUmVmZXJlbmNlKG4sZS50YXJnZXRJZCx0KX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdHUuZm9yRWFjaChlLnZuLGZ1bmN0aW9uKHQpe3JldHVybiByLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLnJlbW92ZVJlZmVyZW5jZShuLGUudGFyZ2V0SWQsdCl9KX0pfSl9KV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSxbMyw0XTtjYXNlIDM6aWYoIWx1KGU9dC5zZW50KCkpKXRocm93IGU7cmV0dXJuIHhyKFwiTG9jYWxTdG9yZVwiLFwiRmFpbGVkIHRvIHVwZGF0ZSBzZXF1ZW5jZSBudW1iZXJzOiBcIitlKSxbMyw0XTtjYXNlIDQ6Zm9yKG49MCxpPWM7bjxpLmxlbmd0aDtuKyspYT1pW25dLG89YS50YXJnZXRJZCxhLmZyb21DYWNoZXx8KHM9ci5Gbi5nZXQobyksYT1zLnNuYXBzaG90VmVyc2lvbixhPXMud2l0aExhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24oYSksci5Gbj1yLkZuLmluc2VydChvLGEpKTtyZXR1cm5bMl19fSl9KX0obi5sb2NhbFN0b3JlLGkpXTtjYXNlIDI6dC5zZW50KCksdC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMl19fSl9KX1mdW5jdGlvbiBGZihpLG8pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuLHI7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybihuPWkpLmN1cnJlbnRVc2VyLmlzRXF1YWwobyk/WzMsM106KHhyKFwiU3luY0VuZ2luZVwiLFwiVXNlciBjaGFuZ2UuIE5ldyB1c2VyOlwiLG8udG9LZXkoKSksWzQsdGgobi5sb2NhbFN0b3JlLG8pXSk7Y2FzZSAxOnJldHVybiByPXQuc2VudCgpLG4uY3VycmVudFVzZXI9bywoZT1uKS5Gby5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaChmdW5jdGlvbih0KXt0LnJlamVjdChuZXcgQXIoRHIuQ0FOQ0VMTEVELFwiJ3dhaXRGb3JQZW5kaW5nV3JpdGVzJyBwcm9taXNlIGlzIHJlamVjdGVkIGR1ZSB0byBhIHVzZXIgY2hhbmdlLlwiKSl9KX0pLGUuRm8uY2xlYXIoKSxuLnNoYXJlZENsaWVudFN0YXRlLmhhbmRsZVVzZXJDaGFuZ2UobyxyLnJlbW92ZWRCYXRjaElkcyxyLmFkZGVkQmF0Y2hJZHMpLFs0LE1mKG4sci5MbildO2Nhc2UgMjp0LnNlbnQoKSx0LmxhYmVsPTM7Y2FzZSAzOnJldHVyblsyXX12YXIgZX0pfSl9ZnVuY3Rpb24gVmYoYSx1LGMsaCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG8scztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsKGU9KG89YSkubG9jYWxTdG9yZSxuPXUsaT0ocj1lKS5fbixyLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiTG9va3VwIG11dGF0aW9uIGRvY3VtZW50c1wiLFwicmVhZG9ubHlcIixmdW5jdGlvbihlKXtyZXR1cm4gaS5qdChlLG4pLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHQ/ci5Nbi5wbihlLHQpOnR1LnJlc29sdmUobnVsbCl9KX0pKV07Y2FzZSAxOnJldHVybiBudWxsPT09KHM9dC5zZW50KCkpP1szLDZdOlwicGVuZGluZ1wiIT09Yz9bMywzXTpbNCxxbChvLnJlbW90ZVN0b3JlKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSxbMyw0XTtjYXNlIDM6XCJhY2tub3dsZWRnZWRcIj09PWN8fFwicmVqZWN0ZWRcIj09PWM/KFJmKG8sdSxofHxudWxsKSxDZihvLHUpLG8ubG9jYWxTdG9yZS5fbi5HdCh1KSk6TXIoKSx0LmxhYmVsPTQ7Y2FzZSA0OnJldHVybls0LE1mKG8scyldO2Nhc2UgNTpyZXR1cm4gdC5zZW50KCksWzMsN107Y2FzZSA2OnhyKFwiU3luY0VuZ2luZVwiLFwiQ2Fubm90IGFwcGx5IG11dGF0aW9uIGJhdGNoIHdpdGggaWQ6IFwiK3UpLHQubGFiZWw9NztjYXNlIDc6cmV0dXJuWzJdfXZhciBlLG4scixpfSl9KX1mdW5jdGlvbiBVZihoLGwpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByLGUsaSxvLHMsYSx1LGM7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBqZihyPWgpLEtmKHIpLCEwIT09bHx8ITA9PT1yLk9vP1szLDNdOihlPXIuc2hhcmVkQ2xpZW50U3RhdGUuZ2V0QWxsQWN0aXZlUXVlcnlUYXJnZXRzKCksWzQscWYocixlLnRvQXJyYXkoKSldKTtjYXNlIDE6cmV0dXJuIGk9dC5zZW50KCksci5Pbz0hMCxbNCxLbChyLnJlbW90ZVN0b3JlLCEwKV07Y2FzZSAyOmZvcih0LnNlbnQoKSxvPTAscz1pO288cy5sZW5ndGg7bysrKWE9c1tvXSxrbChyLnJlbW90ZVN0b3JlLGEpO3JldHVyblszLDddO2Nhc2UgMzpyZXR1cm4hMSE9PWx8fCExPT09ci5Pbz9bMyw3XToodT1bXSxjPVByb21pc2UucmVzb2x2ZSgpLHIuVm8uZm9yRWFjaChmdW5jdGlvbih0LGUpe3Iuc2hhcmVkQ2xpZW50U3RhdGUuaXNMb2NhbFF1ZXJ5VGFyZ2V0KGUpP3UucHVzaChlKTpjPWMudGhlbihmdW5jdGlvbigpe3JldHVybiB4ZihyLGUpLHNoKHIubG9jYWxTdG9yZSxlLCEwKX0pLENsKHIucmVtb3RlU3RvcmUsZSl9KSxbNCxjXSk7Y2FzZSA0OnJldHVybiB0LnNlbnQoKSxbNCxxZihyLHUpXTtjYXNlIDU6cmV0dXJuIHQuc2VudCgpLChuPXIpLkNvLmZvckVhY2goZnVuY3Rpb24odCxlKXtDbChuLnJlbW90ZVN0b3JlLGUpfSksbi5Oby50cygpLG4uQ289bmV3IE1hcCxuLkRvPW5ldyBOcyhtaS5jb21wYXJhdG9yKSxyLk9vPSExLFs0LEtsKHIucmVtb3RlU3RvcmUsITEpXTtjYXNlIDY6dC5zZW50KCksdC5sYWJlbD03O2Nhc2UgNzpyZXR1cm5bMl19dmFyIG59KX0pfWZ1bmN0aW9uIHFmKGQscCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyLGksbyxzLGEsdSxjLGgsbCxmO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDplPWQsbj1bXSxyPVtdLGk9MCxvPXAsdC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gaTxvLmxlbmd0aD8ocz1vW2ldLGE9dm9pZCAwLCh1PWUuVm8uZ2V0KHMpKSYmMCE9PXUubGVuZ3RoP1s0LG9oKGUubG9jYWxTdG9yZSxObyh1WzBdKSldOlszLDddKTpbMywxM107Y2FzZSAyOmE9dC5zZW50KCksYz0wLGg9dSx0LmxhYmVsPTM7Y2FzZSAzOnJldHVybiBjPGgubGVuZ3RoPyhsPWhbY10sbD1lLlBvLmdldChsKSxbNCxmdW5jdGlvbihyLGkpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGFoKChlPXIpLmxvY2FsU3RvcmUsaS5xdWVyeSwhMCldO2Nhc2UgMTpyZXR1cm4gbj10LnNlbnQoKSxuPWkudmlldy5BbyhuKSxbMiwoZS5pc1ByaW1hcnlDbGllbnQmJkxmKGUsaS50YXJnZXRJZCxuLlRvKSxuKV19fSl9KX0oZSxsKV0pOlszLDZdO2Nhc2UgNDoobD10LnNlbnQoKSkuc25hcHNob3QmJnIucHVzaChsLnNuYXBzaG90KSx0LmxhYmVsPTU7Y2FzZSA1OnJldHVybiBjKyssWzMsM107Y2FzZSA2OnJldHVyblszLDExXTtjYXNlIDc6cmV0dXJuWzQsdWgoZS5sb2NhbFN0b3JlLHMpXTtjYXNlIDg6cmV0dXJuIGY9dC5zZW50KCksWzQsb2goZS5sb2NhbFN0b3JlLGYpXTtjYXNlIDk6cmV0dXJuIGE9dC5zZW50KCksWzQsX2YoZSxCZihmKSxzLCExKV07Y2FzZSAxMDp0LnNlbnQoKSx0LmxhYmVsPTExO2Nhc2UgMTE6bi5wdXNoKGEpLHQubGFiZWw9MTI7Y2FzZSAxMjpyZXR1cm4gaSsrLFszLDFdO2Nhc2UgMTM6cmV0dXJuWzIsKGUudm8uX3IociksbildfX0pfSl9ZnVuY3Rpb24gQmYodCl7cmV0dXJuIHZvKHQucGF0aCx0LmNvbGxlY3Rpb25Hcm91cCx0Lm9yZGVyQnksdC5maWx0ZXJzLHQubGltaXQsXCJGXCIsdC5zdGFydEF0LHQuZW5kQXQpfWZ1bmN0aW9uIGpmKHQpe3JldHVybiB0LnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5hcHBseVJlbW90ZUV2ZW50PU5mLmJpbmQobnVsbCx0KSx0LnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dDtpZigodD1uLkNvLmdldChlKSkmJnQuYm8pcmV0dXJuIEJzKCkuYWRkKHQua2V5KTt2YXIgcj1CcygpO2lmKCEoZT1uLlZvLmdldChlKSkpcmV0dXJuIHI7Zm9yKHZhciBpPTAsbz1lO2k8by5sZW5ndGg7aSsrKXZhciBzPW9baV0scz1uLlBvLmdldChzKSxyPXIudW5pb25XaXRoKHMudmlldy53byk7cmV0dXJuIHJ9LmJpbmQobnVsbCx0KSx0LnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5yZWplY3RMaXN0ZW49ZnVuY3Rpb24obyxzLGEpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scixpO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4oZT1vKS5zaGFyZWRDbGllbnRTdGF0ZS51cGRhdGVRdWVyeVN0YXRlKHMsXCJyZWplY3RlZFwiLGEpLGk9ZS5Dby5nZXQocyksKG49aSYmaS5rZXkpPyhyPShyPW5ldyBOcyhtaS5jb21wYXJhdG9yKSkuaW5zZXJ0KG4sT2kubmV3Tm9Eb2N1bWVudChuLEdyLm1pbigpKSksaT1CcygpLmFkZChuKSxpPW5ldyBLcyhHci5taW4oKSxuZXcgTWFwLG5ldyBPcyhxcikscixpKSxbNCxOZihlLGkpXSk6WzMsMl07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxlLkRvPWUuRG8ucmVtb3ZlKG4pLGUuQ28uZGVsZXRlKHMpLFBmKGUpLFszLDRdO2Nhc2UgMjpyZXR1cm5bNCxzaChlLmxvY2FsU3RvcmUscywhMSkudGhlbihmdW5jdGlvbigpe3JldHVybiB4ZihlLHMsYSl9KS5jYXRjaChkYyldO2Nhc2UgMzp0LnNlbnQoKSx0LmxhYmVsPTQ7Y2FzZSA0OnJldHVyblsyXX19KX0pfS5iaW5kKG51bGwsdCksdC52by5fcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LHI9ITEsaT0wLG89ZTtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXSxhPXMucXVlcnksYT1uLnF1ZXJpZXMuZ2V0KGEpO2lmKGEpe2Zvcih2YXIgdT0wLGM9YS5saXN0ZW5lcnM7dTxjLmxlbmd0aDt1KyspY1t1XS5IcihzKSYmKHI9ITApO2EuV3I9c319ciYmc2Yobil9LmJpbmQobnVsbCx0LmV2ZW50TWFuYWdlciksdC52by5Nbz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dDtpZih0PXIucXVlcmllcy5nZXQoZSkpZm9yKHZhciBpPTAsbz10Lmxpc3RlbmVycztpPG8ubGVuZ3RoO2krKylvW2ldLm9uRXJyb3Iobik7ci5xdWVyaWVzLmRlbGV0ZShlKX0uYmluZChudWxsLHQuZXZlbnRNYW5hZ2VyKSx0fWZ1bmN0aW9uIEtmKHQpe3JldHVybiB0LnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5hcHBseVN1Y2Nlc3NmdWxXcml0ZT1mdW5jdGlvbihpLG8pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6ZT1pLG49by5iYXRjaC5iYXRjaElkLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDQsLDZdKSxbNCxlaChlLmxvY2FsU3RvcmUsbyldO2Nhc2UgMjpyZXR1cm4gcj10LnNlbnQoKSxSZihlLG4sbnVsbCksQ2YoZSxuKSxlLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZU11dGF0aW9uU3RhdGUobixcImFja25vd2xlZGdlZFwiKSxbNCxNZihlLHIpXTtjYXNlIDM6cmV0dXJuIHQuc2VudCgpLFszLDZdO2Nhc2UgNDpyZXR1cm5bNCxkYyh0LnNlbnQoKSldO2Nhc2UgNTpyZXR1cm4gdC5zZW50KCksWzMsNl07Y2FzZSA2OnJldHVyblsyXX19KX0pfS5iaW5kKG51bGwsdCksdC5yZW1vdGVTdG9yZS5yZW1vdGVTeW5jZXIucmVqZWN0RmFpbGVkV3JpdGU9QWYuYmluZChudWxsLHQpLHR9ZnVuY3Rpb24gR2YodCxlLG4pe3ZhciByPXQ7IWZ1bmN0aW9uKGYsZCxwKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgYSx1LGMsaCxsO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdC50cnlzLnB1c2goWzAsMTQsLDE1XSksWzQsZC5nZXRNZXRhZGF0YSgpXTtjYXNlIDE6cmV0dXJuIGE9dC5zZW50KCksWzQsKHI9Zi5sb2NhbFN0b3JlLG89cixzPWFhKChpPWEpLmNyZWF0ZVRpbWUpLG8ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJoYXNOZXdlckJ1bmRsZVwiLFwicmVhZG9ubHlcIixmdW5jdGlvbih0KXtyZXR1cm4gby5RZS5nZXRCdW5kbGVNZXRhZGF0YSh0LGkuaWQpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4hIXQmJjA8PXQuY3JlYXRlVGltZS5jb21wYXJlVG8ocyl9KSldO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCk/WzQsZC5jbG9zZSgpXTpbMyw0XTtjYXNlIDM6cmV0dXJuWzIsKHQuc2VudCgpLHZvaWQgcC5fY29tcGxldGVXaXRoKHt0YXNrU3RhdGU6XCJTdWNjZXNzXCIsZG9jdW1lbnRzTG9hZGVkOmEudG90YWxEb2N1bWVudHMsYnl0ZXNMb2FkZWQ6YS50b3RhbEJ5dGVzLHRvdGFsRG9jdW1lbnRzOmEudG90YWxEb2N1bWVudHMsdG90YWxCeXRlczphLnRvdGFsQnl0ZXN9KSldO2Nhc2UgNDpyZXR1cm4gcC5fdXBkYXRlUHJvZ3Jlc3MoeWYoYSkpLHU9bmV3IGhmKGEsZi5sb2NhbFN0b3JlLGQuUiksWzQsZC5MbygpXTtjYXNlIDU6Yz10LnNlbnQoKSx0LmxhYmVsPTY7Y2FzZSA2OnJldHVybiBjP1s0LHUub28oYyldOlszLDEwXTtjYXNlIDc6cmV0dXJuKGg9dC5zZW50KCkpJiZwLl91cGRhdGVQcm9ncmVzcyhoKSxbNCxkLkxvKCldO2Nhc2UgODpjPXQuc2VudCgpLHQubGFiZWw9OTtjYXNlIDk6cmV0dXJuWzMsNl07Y2FzZSAxMDpyZXR1cm5bNCx1LmNvbXBsZXRlKCldO2Nhc2UgMTE6cmV0dXJuIGw9dC5zZW50KCksWzQsTWYoZixsLnduLHZvaWQgMCldO2Nhc2UgMTI6cmV0dXJuIHQuc2VudCgpLFs0LChyPWYubG9jYWxTdG9yZSxlPWEsKG49cikucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJTYXZlIGJ1bmRsZVwiLFwicmVhZHdyaXRlXCIsZnVuY3Rpb24odCl7cmV0dXJuIG4uUWUuc2F2ZUJ1bmRsZU1ldGFkYXRhKHQsZSl9KSldO2Nhc2UgMTM6cmV0dXJuIHQuc2VudCgpLHAuX2NvbXBsZXRlV2l0aChsLnByb2dyZXNzKSxbMywxNV07Y2FzZSAxNDpyZXR1cm4gTHIoXCJTeW5jRW5naW5lXCIsXCJMb2FkaW5nIGJ1bmRsZSBmYWlsZWQgd2l0aCBcIisobD10LnNlbnQoKSkpLHAuX2ZhaWxXaXRoKGwpLFszLDE1XTtjYXNlIDE1OnJldHVyblsyXX12YXIgZSxuLHIsaSxvLHN9KX0pfShyLGUsbikudGhlbihmdW5jdGlvbigpe3Iuc2hhcmVkQ2xpZW50U3RhdGUubm90aWZ5QnVuZGxlTG9hZGVkKCl9KX12YXIgUWYsemYsSGY9KHRkLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5SPWxsKGUuZGF0YWJhc2VJbmZvLmRhdGFiYXNlSWQpLHRoaXMuc2hhcmVkQ2xpZW50U3RhdGU9dGhpcy5CbyhlKSx0aGlzLnBlcnNpc3RlbmNlPXRoaXMucW8oZSksWzQsdGhpcy5wZXJzaXN0ZW5jZS5zdGFydCgpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLHRoaXMuZ2NTY2hlZHVsZXI9dGhpcy5VbyhlKSx0aGlzLmxvY2FsU3RvcmU9dGhpcy5RbyhlKSxbMl19fSl9KX0sdGQucHJvdG90eXBlLlVvPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSx0ZC5wcm90b3R5cGUuUW89ZnVuY3Rpb24odCl7cmV0dXJuIFpjKHRoaXMucGVyc2lzdGVuY2UsbmV3IEhjLHQuaW5pdGlhbFVzZXIsdGhpcy5SKX0sdGQucHJvdG90eXBlLnFvPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgd2goRWguYnMsdGhpcy5SKX0sdGQucHJvdG90eXBlLkJvPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUWh9LHRkLnByb3RvdHlwZS50ZXJtaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuZ2NTY2hlZHVsZXImJnRoaXMuZ2NTY2hlZHVsZXIuc3RvcCgpLFs0LHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUuc2h1dGRvd24oKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbNCx0aGlzLnBlcnNpc3RlbmNlLnNodXRkb3duKCldO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksWzJdfX0pfSl9LHRkKSxXZj0obihaZix6Zj1IZiksWmYucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHpmLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyxlKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbNCxoaCh0aGlzLmxvY2FsU3RvcmUpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLFs0LHRoaXMuS28uaW5pdGlhbGl6ZSh0aGlzLGUpXTtjYXNlIDM6cmV0dXJuIHQuc2VudCgpLFs0LEtmKHRoaXMuS28uc3luY0VuZ2luZSldO2Nhc2UgNDpyZXR1cm4gdC5zZW50KCksWzQscWwodGhpcy5Lby5yZW1vdGVTdG9yZSldO2Nhc2UgNTpyZXR1cm4gdC5zZW50KCksWzJdfX0pfSl9LFpmLnByb3RvdHlwZS5Rbz1mdW5jdGlvbih0KXtyZXR1cm4gWmModGhpcy5wZXJzaXN0ZW5jZSxuZXcgSGMsdC5pbml0aWFsVXNlcix0aGlzLlIpfSxaZi5wcm90b3R5cGUuVW89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS5nYXJiYWdlQ29sbGVjdG9yO3JldHVybiBuZXcgZ2MoZSx0LmFzeW5jUXVldWUpfSxaZi5wcm90b3R5cGUucW89ZnVuY3Rpb24odCl7dmFyIGU9S2ModC5kYXRhYmFzZUluZm8uZGF0YWJhc2VJZCx0LmRhdGFiYXNlSW5mby5wZXJzaXN0ZW5jZUtleSksbj12b2lkIDAhPT10aGlzLmNhY2hlU2l6ZUJ5dGVzP1h1LndpdGhDYWNoZVNpemUodGhpcy5jYWNoZVNpemVCeXRlcyk6WHUuREVGQVVMVDtyZXR1cm4gbmV3IFVjKHRoaXMuc3luY2hyb25pemVUYWJzLGUsdC5jbGllbnRJZCxuLHQuYXN5bmNRdWV1ZSxjbCgpLGhsKCksdGhpcy5SLHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUsISF0aGlzLmZvcmNlT3duZXJzaGlwKX0sWmYucHJvdG90eXBlLkJvPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUWh9LFpmKSxZZj0obigkZixRZj1XZiksJGYucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24ocil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbj10aGlzO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxRZi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMscildO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksZT10aGlzLktvLnN5bmNFbmdpbmUsdGhpcy5zaGFyZWRDbGllbnRTdGF0ZSBpbnN0YW5jZW9mIEdoPyh0aGlzLnNoYXJlZENsaWVudFN0YXRlLnN5bmNFbmdpbmU9e3VpOlZmLmJpbmQobnVsbCxlKSxhaTpmdW5jdGlvbihpLG8scyxhKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHI7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybihlPWkpLk9vPyh4cihcIlN5bmNFbmdpbmVcIixcIklnbm9yaW5nIHVuZXhwZWN0ZWQgcXVlcnkgc3RhdGUgbm90aWZpY2F0aW9uLlwiKSxbMyw4XSk6WzMsMV07Y2FzZSAxOmlmKCFlLlZvLmhhcyhvKSlyZXR1cm5bMyw4XTtzd2l0Y2gocyl7Y2FzZVwiY3VycmVudFwiOmNhc2VcIm5vdC1jdXJyZW50XCI6cmV0dXJuWzMsMl07Y2FzZVwicmVqZWN0ZWRcIjpyZXR1cm5bMyw1XX1yZXR1cm5bMyw3XTtjYXNlIDI6cmV0dXJuWzQsY2goZS5sb2NhbFN0b3JlKV07Y2FzZSAzOnJldHVybiBuPXQuc2VudCgpLHI9S3MuY3JlYXRlU3ludGhlc2l6ZWRSZW1vdGVFdmVudEZvckN1cnJlbnRDaGFuZ2UobyxcImN1cnJlbnRcIj09PXMpLFs0LE1mKGUsbixyKV07Y2FzZSA0OnJldHVybiB0LnNlbnQoKSxbMyw4XTtjYXNlIDU6cmV0dXJuWzQsc2goZS5sb2NhbFN0b3JlLG8sITApXTtjYXNlIDY6cmV0dXJuIHQuc2VudCgpLHhmKGUsbyxhKSxbMyw4XTtjYXNlIDc6TXIoKSx0LmxhYmVsPTg7Y2FzZSA4OnJldHVyblsyXX19KX0pfS5iaW5kKG51bGwsZSksaGk6ZnVuY3Rpb24oYyxoLGwpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuLGUscixpLG8scyxhLHU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmlmKCEobj1qZihjKSkuT28pcmV0dXJuWzMsMTBdO2U9MCxyPWgsdC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gZTxyLmxlbmd0aD8ocj1yW2VdLG4uVm8uaGFzKHIpPyh4cihcIlN5bmNFbmdpbmVcIixcIkFkZGluZyBhbiBhbHJlYWR5IGFjdGl2ZSB0YXJnZXQgXCIrciksWzMsNV0pOls0LHVoKG4ubG9jYWxTdG9yZSxyKV0pOlszLDZdO2Nhc2UgMjpyZXR1cm4gaT10LnNlbnQoKSxbNCxvaChuLmxvY2FsU3RvcmUsaSldO2Nhc2UgMzpyZXR1cm4gbz10LnNlbnQoKSxbNCxfZihuLEJmKGkpLG8udGFyZ2V0SWQsITEpXTtjYXNlIDQ6dC5zZW50KCksa2wobi5yZW1vdGVTdG9yZSxvKSx0LmxhYmVsPTU7Y2FzZSA1OnJldHVybiBlKyssWzMsMV07Y2FzZSA2OnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBuLlZvLmhhcyhlKT9bNCxzaChuLmxvY2FsU3RvcmUsZSwhMSkudGhlbihmdW5jdGlvbigpe0NsKG4ucmVtb3RlU3RvcmUsZSkseGYobixlKX0pLmNhdGNoKGRjKV06WzMsMl07Y2FzZSAxOnQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzJdfX0pfSxhPTAsdT1sLHQubGFiZWw9NztjYXNlIDc6cmV0dXJuIGE8dS5sZW5ndGg/KHU9dVthXSxbNSxzKHUpXSk6WzMsMTBdO2Nhc2UgODp0LnNlbnQoKSx0LmxhYmVsPTk7Y2FzZSA5OnJldHVybiBhKyssWzMsN107Y2FzZSAxMDpyZXR1cm5bMl19fSl9KX0uYmluZChudWxsLGUpLGZuOmZ1bmN0aW9uKHQpe3JldHVybiB0LmxvY2FsU3RvcmUucGVyc2lzdGVuY2UuZm4oKX0uYmluZChudWxsLGUpLGNpOmZ1bmN0aW9uKG4pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuWzIsY2goKGU9bikubG9jYWxTdG9yZSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gTWYoZSx0KX0pXX0pfSl9LmJpbmQobnVsbCxlKX0sWzQsdGhpcy5zaGFyZWRDbGllbnRTdGF0ZS5zdGFydCgpXSk6WzMsM107Y2FzZSAyOnQuc2VudCgpLHQubGFiZWw9MztjYXNlIDM6cmV0dXJuWzQsdGhpcy5wZXJzaXN0ZW5jZS5IZShmdW5jdGlvbihlKXtyZXR1cm4geShuLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsVWYodGhpcy5Lby5zeW5jRW5naW5lLGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLHRoaXMuZ2NTY2hlZHVsZXImJihlJiYhdGhpcy5nY1NjaGVkdWxlci5zdGFydGVkP3RoaXMuZ2NTY2hlZHVsZXIuc3RhcnQodGhpcy5sb2NhbFN0b3JlKTplfHx0aGlzLmdjU2NoZWR1bGVyLnN0b3AoKSksWzJdfX0pfSl9KV07Y2FzZSA0OnJldHVybiB0LnNlbnQoKSxbMl19fSl9KX0sJGYucHJvdG90eXBlLkJvPWZ1bmN0aW9uKHQpe3ZhciBlPWNsKCk7aWYoIUdoLnl0KGUpKXRocm93IG5ldyBBcihEci5VTklNUExFTUVOVEVELFwiSW5kZXhlZERCIHBlcnNpc3RlbmNlIGlzIG9ubHkgYXZhaWxhYmxlIG9uIHBsYXRmb3JtcyB0aGF0IHN1cHBvcnQgTG9jYWxTdG9yYWdlLlwiKTt2YXIgbj1LYyh0LmRhdGFiYXNlSW5mby5kYXRhYmFzZUlkLHQuZGF0YWJhc2VJbmZvLnBlcnNpc3RlbmNlS2V5KTtyZXR1cm4gbmV3IEdoKGUsdC5hc3luY1F1ZXVlLG4sdC5jbGllbnRJZCx0LmluaXRpYWxVc2VyKX0sJGYpLFhmPShKZi5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbihuLHIpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmxvY2FsU3RvcmU/WzMsMl06KHRoaXMubG9jYWxTdG9yZT1uLmxvY2FsU3RvcmUsdGhpcy5zaGFyZWRDbGllbnRTdGF0ZT1uLnNoYXJlZENsaWVudFN0YXRlLHRoaXMuZGF0YXN0b3JlPXRoaXMuY3JlYXRlRGF0YXN0b3JlKHIpLHRoaXMucmVtb3RlU3RvcmU9dGhpcy5jcmVhdGVSZW1vdGVTdG9yZShyKSx0aGlzLmV2ZW50TWFuYWdlcj10aGlzLmNyZWF0ZUV2ZW50TWFuYWdlcihyKSx0aGlzLnN5bmNFbmdpbmU9dGhpcy5jcmVhdGVTeW5jRW5naW5lKHIsIW4uc3luY2hyb25pemVUYWJzKSx0aGlzLnNoYXJlZENsaWVudFN0YXRlLm9ubGluZVN0YXRlSGFuZGxlcj1mdW5jdGlvbih0KXtyZXR1cm4gRGYoZS5zeW5jRW5naW5lLHQsMSl9LHRoaXMucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLmhhbmRsZUNyZWRlbnRpYWxDaGFuZ2U9RmYuYmluZChudWxsLHRoaXMuc3luY0VuZ2luZSksWzQsS2wodGhpcy5yZW1vdGVTdG9yZSx0aGlzLnN5bmNFbmdpbmUuaXNQcmltYXJ5Q2xpZW50KV0pO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KX0pfSxKZi5wcm90b3R5cGUuY3JlYXRlRXZlbnRNYW5hZ2VyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgWWx9LEpmLnByb3RvdHlwZS5jcmVhdGVEYXRhc3RvcmU9ZnVuY3Rpb24odCl7dmFyIGU9bGwodC5kYXRhYmFzZUluZm8uZGF0YWJhc2VJZCksbj0obj10LmRhdGFiYXNlSW5mbyxuZXcgWGgobikpO3JldHVybiB0PXQuY3JlZGVudGlhbHMsbmV3IGJsKHQsbixlKX0sSmYucHJvdG90eXBlLmNyZWF0ZVJlbW90ZVN0b3JlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLmxvY2FsU3RvcmUscj10aGlzLmRhdGFzdG9yZSxpPXQuYXN5bmNRdWV1ZSxvPWZ1bmN0aW9uKHQpe3JldHVybiBEZihlLnN5bmNFbmdpbmUsdCwwKX0sdD1uZXcoSGgueXQoKT9IaDp6aCk7cmV0dXJuIG5ldyBmbChuLHIsaSxvLHQpfSxKZi5wcm90b3R5cGUuY3JlYXRlU3luY0VuZ2luZT1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbih0LGUsbixyLGksbyxzKXtvPW5ldyBJZih0LGUsbixyLGksbyk7cmV0dXJuIHMmJihvLk9vPSEwKSxvfSh0aGlzLmxvY2FsU3RvcmUsdGhpcy5yZW1vdGVTdG9yZSx0aGlzLmV2ZW50TWFuYWdlcix0aGlzLnNoYXJlZENsaWVudFN0YXRlLHQuaW5pdGlhbFVzZXIsdC5tYXhDb25jdXJyZW50TGltYm9SZXNvbHV0aW9ucyxlKX0sSmYucHJvdG90eXBlLnRlcm1pbmF0ZT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9bix4cihcIlJlbW90ZVN0b3JlXCIsXCJSZW1vdGVTdG9yZSBzaHV0dGluZyBkb3duLlwiKSxlLiRyLmFkZCg1KSxbNCxBbChlKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxlLkxyLnNodXRkb3duKCksZS5Cci5zZXQoXCJVbmtub3duXCIpLFsyXX19KX0pfSh0aGlzLnJlbW90ZVN0b3JlKX0sSmYpO2Z1bmN0aW9uIEpmKCl7fWZ1bmN0aW9uICRmKHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj1RZi5jYWxsKHRoaXMsdCxlLCExKXx8dGhpcykuS289dCxuLmNhY2hlU2l6ZUJ5dGVzPWUsbi5zeW5jaHJvbml6ZVRhYnM9ITAsbn1mdW5jdGlvbiBaZih0LGUsbil7dmFyIHI9dGhpcztyZXR1cm4ocj16Zi5jYWxsKHRoaXMpfHx0aGlzKS5Lbz10LHIuY2FjaGVTaXplQnl0ZXM9ZSxyLmZvcmNlT3duZXJzaGlwPW4sci5zeW5jaHJvbml6ZVRhYnM9ITEscn1mdW5jdGlvbiB0ZCgpe3RoaXMuc3luY2hyb25pemVUYWJzPSExfWZ1bmN0aW9uIGVkKG4scil7dm9pZCAwPT09ciYmKHI9MTAyNDApO3ZhciBpPTA7cmV0dXJue3JlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiBpPG4uYnl0ZUxlbmd0aD8oZT17dmFsdWU6bi5zbGljZShpLGkrciksZG9uZTohMX0sWzIsKGkrPXIsZSldKTpbMix7ZG9uZTohMH1dfSl9KX0sY2FuY2VsOmZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtyZXR1cm5bMl19KX0pfSxyZWxlYXNlTG9jazpmdW5jdGlvbigpe30sY2xvc2VkOlByb21pc2UucmVqZWN0KFwidW5pbXBsZW1lbnRlZFwiKX19dmFyIG5kPShsZC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbih0KXt0aGlzLm9ic2VydmVyLm5leHQmJnRoaXMuam8odGhpcy5vYnNlcnZlci5uZXh0LHQpfSxsZC5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5vYnNlcnZlci5lcnJvcj90aGlzLmpvKHRoaXMub2JzZXJ2ZXIuZXJyb3IsdCk6Y29uc29sZS5lcnJvcihcIlVuY2F1Z2h0IEVycm9yIGluIHNuYXBzaG90IGxpc3RlbmVyOlwiLHQpfSxsZC5wcm90b3R5cGUuV289ZnVuY3Rpb24oKXt0aGlzLm11dGVkPSEwfSxsZC5wcm90b3R5cGUuam89ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMubXV0ZWR8fHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLm11dGVkfHx0KGUpfSwwKX0sbGQpLHJkPShoZC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Hby5jYW5jZWwoKX0saGQucHJvdG90eXBlLmdldE1ldGFkYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtyZXR1cm5bMix0aGlzLm1ldGFkYXRhLnByb21pc2VdfSl9KX0saGQucHJvdG90eXBlLkxvPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0TWV0YWRhdGEoKV07Y2FzZSAxOnJldHVyblsyLCh0LnNlbnQoKSx0aGlzLkhvKCkpXX19KX0pfSxoZC5wcm90b3R5cGUuSG89ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHI7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuSm8oKV07Y2FzZSAxOnJldHVybiBudWxsPT09KGU9dC5zZW50KCkpP1syLG51bGxdOihyPXRoaXMuem8uZGVjb2RlKGUpLG49TnVtYmVyKHIpLGlzTmFOKG4pJiZ0aGlzLllvKFwibGVuZ3RoIHN0cmluZyAoXCIrcitcIikgaXMgbm90IHZhbGlkIG51bWJlclwiKSxbNCx0aGlzLlhvKG4pXSk7Y2FzZSAyOnJldHVybiByPXQuc2VudCgpLFsyLG5ldyB1ZihKU09OLnBhcnNlKHIpLGUubGVuZ3RoK24pXX19KX0pfSxoZC5wcm90b3R5cGUuWm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWZmZXIuZmluZEluZGV4KGZ1bmN0aW9uKHQpe3JldHVybiB0PT09XCJ7XCIuY2hhckNvZGVBdCgwKX0pfSxoZC5wcm90b3R5cGUuSm89ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5abygpPDA/WzQsdGhpcy50YygpXTpbMywzXTtjYXNlIDE6aWYodC5zZW50KCkpcmV0dXJuWzMsM107dC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMywwXTtjYXNlIDM6cmV0dXJuIDA9PT10aGlzLmJ1ZmZlci5sZW5ndGg/WzIsbnVsbF06KChlPXRoaXMuWm8oKSk8MCYmdGhpcy5ZbyhcIlJlYWNoZWQgdGhlIGVuZCBvZiBidW5kbGUgd2hlbiBhIGxlbmd0aCBzdHJpbmcgaXMgZXhwZWN0ZWQuXCIpLG49dGhpcy5idWZmZXIuc2xpY2UoMCxlKSxbMiwodGhpcy5idWZmZXI9dGhpcy5idWZmZXIuc2xpY2UoZSksbildKX19KX0pfSxoZC5wcm90b3R5cGUuWG89ZnVuY3Rpb24obil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmJ1ZmZlci5sZW5ndGg8bj9bNCx0aGlzLnRjKCldOlszLDNdO2Nhc2UgMTp0LnNlbnQoKSYmdGhpcy5ZbyhcIlJlYWNoZWQgdGhlIGVuZCBvZiBidW5kbGUgd2hlbiBtb3JlIGlzIGV4cGVjdGVkLlwiKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblszLDBdO2Nhc2UgMzpyZXR1cm4gZT10aGlzLnpvLmRlY29kZSh0aGlzLmJ1ZmZlci5zbGljZSgwLG4pKSxbMiwodGhpcy5idWZmZXI9dGhpcy5idWZmZXIuc2xpY2UobiksZSldfX0pfSl9LGhkLnByb3RvdHlwZS5Zbz1mdW5jdGlvbih0KXt0aHJvdyB0aGlzLkdvLmNhbmNlbCgpLG5ldyBFcnJvcihcIkludmFsaWQgYnVuZGxlIGZvcm1hdDogXCIrdCl9LGhkLnByb3RvdHlwZS50Yz1mdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuR28ucmVhZCgpXTtjYXNlIDE6cmV0dXJuKGU9dC5zZW50KCkpLmRvbmV8fCgobj1uZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlci5sZW5ndGgrZS52YWx1ZS5sZW5ndGgpKS5zZXQodGhpcy5idWZmZXIpLG4uc2V0KGUudmFsdWUsdGhpcy5idWZmZXIubGVuZ3RoKSx0aGlzLmJ1ZmZlcj1uKSxbMixlLmRvbmVdfX0pfSl9LGhkKSxpZD0oY2QucHJvdG90eXBlLmxvb2t1cD1mdW5jdGlvbihyKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuPXRoaXM7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmlmKHRoaXMuZW5zdXJlQ29tbWl0Tm90Q2FsbGVkKCksMDx0aGlzLm11dGF0aW9ucy5sZW5ndGgpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJGaXJlc3RvcmUgdHJhbnNhY3Rpb25zIHJlcXVpcmUgYWxsIHJlYWRzIHRvIGJlIGV4ZWN1dGVkIGJlZm9yZSBhbGwgd3JpdGVzLlwiKTtyZXR1cm5bNCxmdW5jdGlvbihzLGEpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuLGUscixpLG87cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPXBhKChuPXMpLlIpK1wiL2RvY3VtZW50c1wiLHI9e2RvY3VtZW50czphLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gaGEobi5SLHQpfSl9LFs0LG4uT2koXCJCYXRjaEdldERvY3VtZW50c1wiLGUscildO2Nhc2UgMTpyZXR1cm4gcj10LnNlbnQoKSxpPW5ldyBNYXAsci5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlLHQ9KGU9bi5SLFwiZm91bmRcImluKHQ9dCk/ZnVuY3Rpb24odCxlKXtGcighIWUuZm91bmQpLGUuZm91bmQubmFtZSxlLmZvdW5kLnVwZGF0ZVRpbWU7dmFyIG49bGEodCxlLmZvdW5kLm5hbWUpLHQ9YWEoZS5mb3VuZC51cGRhdGVUaW1lKSxlPW5ldyBSaSh7bWFwVmFsdWU6e2ZpZWxkczplLmZvdW5kLmZpZWxkc319KTtyZXR1cm4gT2kubmV3Rm91bmREb2N1bWVudChuLHQsZSl9KGUsdCk6XCJtaXNzaW5nXCJpbiB0P2Z1bmN0aW9uKHQsZSl7RnIoISFlLm1pc3NpbmcpLEZyKCEhZS5yZWFkVGltZSk7dD1sYSh0LGUubWlzc2luZyksZT1hYShlLnJlYWRUaW1lKTtyZXR1cm4gT2kubmV3Tm9Eb2N1bWVudCh0LGUpfShlLHQpOk1yKCkpO2kuc2V0KHQua2V5LnRvU3RyaW5nKCksdCl9KSxvPVtdLFsyLChhLmZvckVhY2goZnVuY3Rpb24odCl7dD1pLmdldCh0LnRvU3RyaW5nKCkpO0ZyKCEhdCksby5wdXNoKHQpfSksbyldfX0pfSl9KHRoaXMuZGF0YXN0b3JlLHIpXTtjYXNlIDE6cmV0dXJuWzIsKChlPXQuc2VudCgpKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLnJlY29yZFZlcnNpb24odCl9KSxlKV19fSl9KX0sY2QucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3RoaXMud3JpdGUoZS50b011dGF0aW9uKHQsdGhpcy5wcmVjb25kaXRpb24odCkpKSx0aGlzLndyaXR0ZW5Eb2NzLmFkZCh0LnRvU3RyaW5nKCkpfSxjZC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dHJ5e3RoaXMud3JpdGUoZS50b011dGF0aW9uKHQsdGhpcy5wcmVjb25kaXRpb25Gb3JVcGRhdGUodCkpKX1jYXRjaCh0KXt0aGlzLmxhc3RXcml0ZUVycm9yPXR9dGhpcy53cml0dGVuRG9jcy5hZGQodC50b1N0cmluZygpKX0sY2QucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt0aGlzLndyaXRlKG5ldyB3cyh0LHRoaXMucHJlY29uZGl0aW9uKHQpKSksdGhpcy53cml0dGVuRG9jcy5hZGQodC50b1N0cmluZygpKX0sY2QucHJvdG90eXBlLmNvbW1pdD1mdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG49dGhpcztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6aWYodGhpcy5lbnN1cmVDb21taXROb3RDYWxsZWQoKSx0aGlzLmxhc3RXcml0ZUVycm9yKXRocm93IHRoaXMubGFzdFdyaXRlRXJyb3I7cmV0dXJuIGU9dGhpcy5yZWFkVmVyc2lvbnMsdGhpcy5tdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbih0KXtlLmRlbGV0ZSh0LmtleS50b1N0cmluZygpKX0pLGUuZm9yRWFjaChmdW5jdGlvbih0LGUpe2U9bWkuZnJvbVBhdGgoZSk7bi5tdXRhdGlvbnMucHVzaChuZXcgSXMoZSxuLnByZWNvbmRpdGlvbihlKSkpfSksWzQsZnVuY3Rpb24oaSxvKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHI7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPXBhKChlPWkpLlIpK1wiL2RvY3VtZW50c1wiLHI9e3dyaXRlczpvLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdmEoZS5SLHQpfSl9LFs0LGUuTmkoXCJDb21taXRcIixuLHIpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFsyXX19KX0pfSh0aGlzLmRhdGFzdG9yZSx0aGlzLm11dGF0aW9ucyldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksdGhpcy5jb21taXR0ZWQ9ITAsWzJdfX0pfSl9LGNkLnByb3RvdHlwZS5yZWNvcmRWZXJzaW9uPWZ1bmN0aW9uKHQpe3ZhciBlO2lmKHQuaXNGb3VuZERvY3VtZW50KCkpZT10LnZlcnNpb247ZWxzZXtpZighdC5pc05vRG9jdW1lbnQoKSl0aHJvdyBNcigpO2U9R3IubWluKCl9dmFyIG49dGhpcy5yZWFkVmVyc2lvbnMuZ2V0KHQua2V5LnRvU3RyaW5nKCkpO2lmKG4pe2lmKCFlLmlzRXF1YWwobikpdGhyb3cgbmV3IEFyKERyLkFCT1JURUQsXCJEb2N1bWVudCB2ZXJzaW9uIGNoYW5nZWQgYmV0d2VlbiB0d28gcmVhZHMuXCIpfWVsc2UgdGhpcy5yZWFkVmVyc2lvbnMuc2V0KHQua2V5LnRvU3RyaW5nKCksZSl9LGNkLnByb3RvdHlwZS5wcmVjb25kaXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZWFkVmVyc2lvbnMuZ2V0KHQudG9TdHJpbmcoKSk7cmV0dXJuIXRoaXMud3JpdHRlbkRvY3MuaGFzKHQudG9TdHJpbmcoKSkmJmU/ZXMudXBkYXRlVGltZShlKTplcy5ub25lKCl9LGNkLnByb3RvdHlwZS5wcmVjb25kaXRpb25Gb3JVcGRhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZWFkVmVyc2lvbnMuZ2V0KHQudG9TdHJpbmcoKSk7aWYodGhpcy53cml0dGVuRG9jcy5oYXModC50b1N0cmluZygpKXx8IWUpcmV0dXJuIGVzLmV4aXN0cyghMCk7aWYoZS5pc0VxdWFsKEdyLm1pbigpKSl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkNhbid0IHVwZGF0ZSBhIGRvY3VtZW50IHRoYXQgZG9lc24ndCBleGlzdC5cIik7cmV0dXJuIGVzLnVwZGF0ZVRpbWUoZSl9LGNkLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXt0aGlzLmVuc3VyZUNvbW1pdE5vdENhbGxlZCgpLHRoaXMubXV0YXRpb25zLnB1c2godCl9LGNkLnByb3RvdHlwZS5lbnN1cmVDb21taXROb3RDYWxsZWQ9ZnVuY3Rpb24oKXt9LGNkKSxvZD0odWQucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMubmMoKX0sdWQucHJvdG90eXBlLm5jPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLlppLmppKGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyPXRoaXM7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gZT1uZXcgaWQodGhpcy5kYXRhc3RvcmUpLChuPXRoaXMuc2MoZSkpJiZuLnRoZW4oZnVuY3Rpb24odCl7ci5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4gZS5jb21taXQoKS50aGVuKGZ1bmN0aW9uKCl7ci5kZWZlcnJlZC5yZXNvbHZlKHQpfSkuY2F0Y2goZnVuY3Rpb24odCl7ci5pYyh0KX0pfSl9KS5jYXRjaChmdW5jdGlvbih0KXtyLmljKHQpfSksWzJdfSl9KX0pfSx1ZC5wcm90b3R5cGUuc2M9ZnVuY3Rpb24odCl7dHJ5e3ZhciBlPXRoaXMudXBkYXRlRnVuY3Rpb24odCk7cmV0dXJuIXBpKGUpJiZlLmNhdGNoJiZlLnRoZW4/ZToodGhpcy5kZWZlcnJlZC5yZWplY3QoRXJyb3IoXCJUcmFuc2FjdGlvbiBjYWxsYmFjayBtdXN0IHJldHVybiBhIFByb21pc2VcIikpLG51bGwpfWNhdGNoKHQpe3JldHVybiB0aGlzLmRlZmVycmVkLnJlamVjdCh0KSxudWxsfX0sdWQucHJvdG90eXBlLmljPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7MDx0aGlzLmVjJiZ0aGlzLnJjKHQpPygtLXRoaXMuZWMsdGhpcy5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4gZS5uYygpLFByb21pc2UucmVzb2x2ZSgpfSkpOnRoaXMuZGVmZXJyZWQucmVqZWN0KHQpfSx1ZC5wcm90b3R5cGUucmM9ZnVuY3Rpb24odCl7aWYoXCJGaXJlYmFzZUVycm9yXCIhPT10Lm5hbWUpcmV0dXJuITE7dD10LmNvZGU7cmV0dXJuXCJhYm9ydGVkXCI9PT10fHxcImZhaWxlZC1wcmVjb25kaXRpb25cIj09PXR8fCFfcyh0KX0sdWQpLHNkPShhZC5wcm90b3R5cGUuZ2V0Q29uZmlndXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnJlY2VpdmVkSW5pdGlhbFVzZXIucHJvbWlzZV07Y2FzZSAxOnJldHVyblsyLCh0LnNlbnQoKSx7YXN5bmNRdWV1ZTp0aGlzLmFzeW5jUXVldWUsZGF0YWJhc2VJbmZvOnRoaXMuZGF0YWJhc2VJbmZvLGNsaWVudElkOnRoaXMuY2xpZW50SWQsY3JlZGVudGlhbHM6dGhpcy5jcmVkZW50aWFscyxpbml0aWFsVXNlcjp0aGlzLnVzZXIsbWF4Q29uY3VycmVudExpbWJvUmVzb2x1dGlvbnM6MTAwfSldfX0pfSl9LGFkLnByb3RvdHlwZS5zZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLmNyZWRlbnRpYWxMaXN0ZW5lcj10LHRoaXMucmVjZWl2ZWRJbml0aWFsVXNlci5wcm9taXNlLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5jcmVkZW50aWFsTGlzdGVuZXIoZS51c2VyKX0pfSxhZC5wcm90b3R5cGUudmVyaWZ5Tm90VGVybWluYXRlZD1mdW5jdGlvbigpe2lmKHRoaXMuYXN5bmNRdWV1ZS5pc1NodXR0aW5nRG93bil0aHJvdyBuZXcgQXIoRHIuRkFJTEVEX1BSRUNPTkRJVElPTixcIlRoZSBjbGllbnQgaGFzIGFscmVhZHkgYmVlbiB0ZXJtaW5hdGVkLlwiKX0sYWQucHJvdG90eXBlLnRlcm1pbmF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5hc3luY1F1ZXVlLmVudGVyUmVzdHJpY3RlZE1vZGUoKTt2YXIgbj1uZXcgWmE7cmV0dXJuIHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0RXZlbldoaWxlUmVzdHJpY3RlZChmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdC50cnlzLnB1c2goWzAsNSwsNl0pLHRoaXMub25saW5lQ29tcG9uZW50cz9bNCx0aGlzLm9ubGluZUNvbXBvbmVudHMudGVybWluYXRlKCldOlszLDJdO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVybiB0aGlzLm9mZmxpbmVDb21wb25lbnRzP1s0LHRoaXMub2ZmbGluZUNvbXBvbmVudHMudGVybWluYXRlKCldOlszLDRdO2Nhc2UgMzp0LnNlbnQoKSx0LmxhYmVsPTQ7Y2FzZSA0OnJldHVybiB0aGlzLmNyZWRlbnRpYWxzLnJlbW92ZUNoYW5nZUxpc3RlbmVyKCksbi5yZXNvbHZlKCksWzMsNl07Y2FzZSA1OnJldHVybiBlPXQuc2VudCgpLGU9V2woZSxcIkZhaWxlZCB0byBzaHV0ZG93biBwZXJzaXN0ZW5jZVwiKSxuLnJlamVjdChlKSxbMyw2XTtjYXNlIDY6cmV0dXJuWzJdfX0pfSl9KSxuLnByb21pc2V9LGFkKTtmdW5jdGlvbiBhZCh0LGUsbil7dmFyIHI9dGhpczt0aGlzLmNyZWRlbnRpYWxzPXQsdGhpcy5hc3luY1F1ZXVlPWUsdGhpcy5kYXRhYmFzZUluZm89bix0aGlzLnVzZXI9VGguVU5BVVRIRU5USUNBVEVELHRoaXMuY2xpZW50SWQ9VnIudSgpLHRoaXMuY3JlZGVudGlhbExpc3RlbmVyPWZ1bmN0aW9uKCl7fSx0aGlzLnJlY2VpdmVkSW5pdGlhbFVzZXI9bmV3IFphLHRoaXMuY3JlZGVudGlhbHMuc2V0Q2hhbmdlTGlzdGVuZXIoZnVuY3Rpb24odCl7eHIoXCJGaXJlc3RvcmVDbGllbnRcIixcIlJlY2VpdmVkIHVzZXI9XCIsdC51aWQpLHIudXNlcj10LHIuY3JlZGVudGlhbExpc3RlbmVyKHQpLHIucmVjZWl2ZWRJbml0aWFsVXNlci5yZXNvbHZlKCl9KX1mdW5jdGlvbiB1ZCh0LGUsbixyKXt0aGlzLmFzeW5jUXVldWU9dCx0aGlzLmRhdGFzdG9yZT1lLHRoaXMudXBkYXRlRnVuY3Rpb249bix0aGlzLmRlZmVycmVkPXIsdGhpcy5lYz01LHRoaXMuWmk9bmV3IGdsKHRoaXMuYXN5bmNRdWV1ZSxcInRyYW5zYWN0aW9uX3JldHJ5XCIpfWZ1bmN0aW9uIGNkKHQpe3RoaXMuZGF0YXN0b3JlPXQsdGhpcy5yZWFkVmVyc2lvbnM9bmV3IE1hcCx0aGlzLm11dGF0aW9ucz1bXSx0aGlzLmNvbW1pdHRlZD0hMSx0aGlzLmxhc3RXcml0ZUVycm9yPW51bGwsdGhpcy53cml0dGVuRG9jcz1uZXcgU2V0fWZ1bmN0aW9uIGhkKHQsZSl7dmFyIG49dGhpczt0aGlzLkdvPXQsdGhpcy5SPWUsdGhpcy5tZXRhZGF0YT1uZXcgWmEsdGhpcy5idWZmZXI9bmV3IFVpbnQ4QXJyYXksdGhpcy56bz1uZXcgVGV4dERlY29kZXIoXCJ1dGYtOFwiKSx0aGlzLkhvKCkudGhlbihmdW5jdGlvbih0KXt0JiZ0LmlvKCk/bi5tZXRhZGF0YS5yZXNvbHZlKHQucGF5bG9hZC5tZXRhZGF0YSk6bi5tZXRhZGF0YS5yZWplY3QobmV3IEVycm9yKFwiVGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGJ1bmRsZSBpcyBub3QgYSBtZXRhZGF0YSwgaXQgaXNcXG4gICAgICAgICAgICAgXCIrSlNPTi5zdHJpbmdpZnkobnVsbD09dD92b2lkIDA6dC5wYXlsb2FkKSkpfSxmdW5jdGlvbih0KXtyZXR1cm4gbi5tZXRhZGF0YS5yZWplY3QodCl9KX1mdW5jdGlvbiBsZCh0KXt0aGlzLm9ic2VydmVyPXQsdGhpcy5tdXRlZD0hMX1mdW5jdGlvbiBmZChpLG8pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scj10aGlzO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gaS5hc3luY1F1ZXVlLnZlcmlmeU9wZXJhdGlvbkluUHJvZ3Jlc3MoKSx4cihcIkZpcmVzdG9yZUNsaWVudFwiLFwiSW5pdGlhbGl6aW5nIE9mZmxpbmVDb21wb25lbnRQcm92aWRlclwiKSxbNCxpLmdldENvbmZpZ3VyYXRpb24oKV07Y2FzZSAxOnJldHVybiBlPXQuc2VudCgpLFs0LG8uaW5pdGlhbGl6ZShlKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSxuPWUuaW5pdGlhbFVzZXIsaS5zZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXIoZnVuY3Rpb24oZSl7bi5pc0VxdWFsKGUpfHwobj1lLGkuYXN5bmNRdWV1ZS5lbnF1ZXVlUmV0cnlhYmxlKGZ1bmN0aW9uKCl7cmV0dXJuIHkocix2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoKG8ubG9jYWxTdG9yZSxlKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMl19fSl9KX0pKX0pLG8ucGVyc2lzdGVuY2Uuc2V0RGF0YWJhc2VEZWxldGVkTGlzdGVuZXIoZnVuY3Rpb24oKXtyZXR1cm4gaS50ZXJtaW5hdGUoKX0pLGkub2ZmbGluZUNvbXBvbmVudHM9byxbMl19fSl9KX1mdW5jdGlvbiBkZChyLGkpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiByLmFzeW5jUXVldWUudmVyaWZ5T3BlcmF0aW9uSW5Qcm9ncmVzcygpLFs0LHBkKHIpXTtjYXNlIDE6cmV0dXJuIGU9dC5zZW50KCkseHIoXCJGaXJlc3RvcmVDbGllbnRcIixcIkluaXRpYWxpemluZyBPbmxpbmVDb21wb25lbnRQcm92aWRlclwiKSxbNCxyLmdldENvbmZpZ3VyYXRpb24oKV07Y2FzZSAyOnJldHVybiBuPXQuc2VudCgpLFs0LGkuaW5pdGlhbGl6ZShlLG4pXTtjYXNlIDM6cmV0dXJuIHQuc2VudCgpLHIuc2V0Q3JlZGVudGlhbENoYW5nZUxpc3RlbmVyKGZ1bmN0aW9uKHQpe3JldHVybiByLmFzeW5jUXVldWUuZW5xdWV1ZVJldHJ5YWJsZShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihyLGkpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybihlPXIpLmFzeW5jUXVldWUudmVyaWZ5T3BlcmF0aW9uSW5Qcm9ncmVzcygpLHhyKFwiUmVtb3RlU3RvcmVcIixcIlJlbW90ZVN0b3JlIHJlY2VpdmVkIG5ldyBjcmVkZW50aWFsc1wiKSxuPVBsKGUpLGUuJHIuYWRkKDMpLFs0LEFsKGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLG4mJmUuQnIuc2V0KFwiVW5rbm93blwiKSxbNCxlLnJlbW90ZVN5bmNlci5oYW5kbGVDcmVkZW50aWFsQ2hhbmdlKGkpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLGUuJHIuZGVsZXRlKDMpLFs0LERsKGUpXTtjYXNlIDM6cmV0dXJuIHQuc2VudCgpLFsyXX19KX0pfShpLnJlbW90ZVN0b3JlLHQpfSl9KSxyLm9ubGluZUNvbXBvbmVudHM9aSxbMl19fSl9KX1mdW5jdGlvbiBwZChlKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGUub2ZmbGluZUNvbXBvbmVudHM/WzMsMl06KHhyKFwiRmlyZXN0b3JlQ2xpZW50XCIsXCJVc2luZyBkZWZhdWx0IE9mZmxpbmVDb21wb25lbnRQcm92aWRlclwiKSxbNCxmZChlLG5ldyBIZildKTtjYXNlIDE6dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMixlLm9mZmxpbmVDb21wb25lbnRzXX19KX0pfWZ1bmN0aW9uIHlkKGUpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZS5vbmxpbmVDb21wb25lbnRzP1szLDJdOih4cihcIkZpcmVzdG9yZUNsaWVudFwiLFwiVXNpbmcgZGVmYXVsdCBPbmxpbmVDb21wb25lbnRQcm92aWRlclwiKSxbNCxkZChlLG5ldyBYZildKTtjYXNlIDE6dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMixlLm9ubGluZUNvbXBvbmVudHNdfX0pfSl9ZnVuY3Rpb24gZ2QodCl7cmV0dXJuIHBkKHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQucGVyc2lzdGVuY2V9KX1mdW5jdGlvbiBtZCh0KXtyZXR1cm4gcGQodCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5sb2NhbFN0b3JlfSl9ZnVuY3Rpb24gdmQodCl7cmV0dXJuIHlkKHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQucmVtb3RlU3RvcmV9KX1mdW5jdGlvbiBiZCh0KXtyZXR1cm4geWQodCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5zeW5jRW5naW5lfSl9ZnVuY3Rpb24gd2Qocil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQseWQocildO2Nhc2UgMTpyZXR1cm4gZT10LnNlbnQoKSxbMiwoKG49ZS5ldmVudE1hbmFnZXIpLm9uTGlzdGVuPWZ1bmN0aW9uKHMsYSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyLGksbztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9amYocyksKG89ZS5Qby5nZXQoYSkpPyhuPW8udGFyZ2V0SWQsZS5zaGFyZWRDbGllbnRTdGF0ZS5hZGRMb2NhbFF1ZXJ5VGFyZ2V0KG4pLHI9by52aWV3LlJvKCksWzMsNF0pOlszLDFdO2Nhc2UgMTpyZXR1cm5bNCxvaChlLmxvY2FsU3RvcmUsTm8oYSkpXTtjYXNlIDI6cmV0dXJuIGk9dC5zZW50KCksbz1lLnNoYXJlZENsaWVudFN0YXRlLmFkZExvY2FsUXVlcnlUYXJnZXQoaS50YXJnZXRJZCksbj1pLnRhcmdldElkLFs0LF9mKGUsYSxuLFwiY3VycmVudFwiPT09byldO2Nhc2UgMzpyPXQuc2VudCgpLGUuaXNQcmltYXJ5Q2xpZW50JiZrbChlLnJlbW90ZVN0b3JlLGkpLHQubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzIscl19fSl9KX0uYmluZChudWxsLGUuc3luY0VuZ2luZSksbi5vblVubGlzdGVuPWZ1bmN0aW9uKGksbyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbj0oZT1pKS5Qby5nZXQobyksMTwocj1lLlZvLmdldChuLnRhcmdldElkKSkubGVuZ3RoP1syLChlLlZvLnNldChuLnRhcmdldElkLHIuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiFBbyh0LG8pfSkpLHZvaWQgZS5Qby5kZWxldGUobykpXTplLmlzUHJpbWFyeUNsaWVudD8oZS5zaGFyZWRDbGllbnRTdGF0ZS5yZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0KG4udGFyZ2V0SWQpLGUuc2hhcmVkQ2xpZW50U3RhdGUuaXNBY3RpdmVRdWVyeVRhcmdldChuLnRhcmdldElkKT9bMywyXTpbNCxzaChlLmxvY2FsU3RvcmUsbi50YXJnZXRJZCwhMSkudGhlbihmdW5jdGlvbigpe2Uuc2hhcmVkQ2xpZW50U3RhdGUuY2xlYXJRdWVyeVN0YXRlKG4udGFyZ2V0SWQpLENsKGUucmVtb3RlU3RvcmUsbi50YXJnZXRJZCkseGYoZSxuLnRhcmdldElkKX0pLmNhdGNoKGRjKV0pOlszLDNdO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblszLDVdO2Nhc2UgMzpyZXR1cm4geGYoZSxuLnRhcmdldElkKSxbNCxzaChlLmxvY2FsU3RvcmUsbi50YXJnZXRJZCwhMCldO2Nhc2UgNDp0LnNlbnQoKSx0LmxhYmVsPTU7Y2FzZSA1OnJldHVyblsyXX19KX0pfS5iaW5kKG51bGwsZS5zeW5jRW5naW5lKSxuKV19fSl9KX1mdW5jdGlvbiBJZChuLHIsaSl7dmFyIHQ9dGhpczt2b2lkIDA9PT1pJiYoaT17fSk7dmFyIG89bmV3IFphO3JldHVybiBuLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1mdW5jdGlvbihuLHIsaSxvLHMpe3ZhciB0PW5ldyBuZCh7bmV4dDpmdW5jdGlvbih0KXtyLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4gb2YobixhKX0pO3ZhciBlPXQuZG9jcy5oYXMoaSk7IWUmJnQuZnJvbUNhY2hlP3MucmVqZWN0KG5ldyBBcihEci5VTkFWQUlMQUJMRSxcIkZhaWxlZCB0byBnZXQgZG9jdW1lbnQgYmVjYXVzZSB0aGUgY2xpZW50IGlzIG9mZmxpbmUuXCIpKTplJiZ0LmZyb21DYWNoZSYmbyYmXCJzZXJ2ZXJcIj09PW8uc291cmNlP3MucmVqZWN0KG5ldyBBcihEci5VTkFWQUlMQUJMRSwnRmFpbGVkIHRvIGdldCBkb2N1bWVudCBmcm9tIHNlcnZlci4gKEhvd2V2ZXIsIHRoaXMgZG9jdW1lbnQgZG9lcyBleGlzdCBpbiB0aGUgbG9jYWwgY2FjaGUuIFJ1biBhZ2FpbiB3aXRob3V0IHNldHRpbmcgc291cmNlIHRvIFwic2VydmVyXCIgdG8gcmV0cmlldmUgdGhlIGNhY2hlZCBkb2N1bWVudC4pJykpOnMucmVzb2x2ZSh0KX0sZXJyb3I6ZnVuY3Rpb24odCl7cmV0dXJuIHMucmVqZWN0KHQpfX0pLGE9bmV3IGFmKGJvKGkucGF0aCksdCx7aW5jbHVkZU1ldGFkYXRhQ2hhbmdlczohMCxzbzohMH0pO3JldHVybiByZihuLGEpfSxbNCx3ZChuKV07Y2FzZSAxOnJldHVyblsyLGUuYXBwbHkodm9pZCAwLFt0LnNlbnQoKSxuLmFzeW5jUXVldWUscixpLG9dKV19fSl9KX0pLG8ucHJvbWlzZX1mdW5jdGlvbiBFZChuLHIsaSl7dmFyIHQ9dGhpczt2b2lkIDA9PT1pJiYoaT17fSk7dmFyIG89bmV3IFphO3JldHVybiBuLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1mdW5jdGlvbihlLG4sdCxyLGkpe3ZhciBvPW5ldyBuZCh7bmV4dDpmdW5jdGlvbih0KXtuLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4gb2YoZSxzKX0pLHQuZnJvbUNhY2hlJiZcInNlcnZlclwiPT09ci5zb3VyY2U/aS5yZWplY3QobmV3IEFyKERyLlVOQVZBSUxBQkxFLCdGYWlsZWQgdG8gZ2V0IGRvY3VtZW50cyBmcm9tIHNlcnZlci4gKEhvd2V2ZXIsIHRoZXNlIGRvY3VtZW50cyBtYXkgZXhpc3QgaW4gdGhlIGxvY2FsIGNhY2hlLiBSdW4gYWdhaW4gd2l0aG91dCBzZXR0aW5nIHNvdXJjZSB0byBcInNlcnZlclwiIHRvIHJldHJpZXZlIHRoZSBjYWNoZWQgZG9jdW1lbnRzLiknKSk6aS5yZXNvbHZlKHQpfSxlcnJvcjpmdW5jdGlvbih0KXtyZXR1cm4gaS5yZWplY3QodCl9fSkscz1uZXcgYWYodCxvLHtpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOiEwLHNvOiEwfSk7cmV0dXJuIHJmKGUscyl9LFs0LHdkKG4pXTtjYXNlIDE6cmV0dXJuWzIsZS5hcHBseSh2b2lkIDAsW3Quc2VudCgpLG4uYXN5bmNRdWV1ZSxyLGksb10pXX19KX0pfSksby5wcm9taXNlfWZ1bmN0aW9uIFRkKHQsZSl7dGhpcy51c2VyPWUsdGhpcy50eXBlPVwiT0F1dGhcIix0aGlzLmF1dGhIZWFkZXJzPXt9LHRoaXMuYXV0aEhlYWRlcnMuQXV0aG9yaXphdGlvbj1cIkJlYXJlciBcIit0fXZhciBfZD1mdW5jdGlvbih0LGUsbixyLGksbyxzKXt0aGlzLmRhdGFiYXNlSWQ9dCx0aGlzLmFwcElkPWUsdGhpcy5wZXJzaXN0ZW5jZUtleT1uLHRoaXMuaG9zdD1yLHRoaXMuc3NsPWksdGhpcy5mb3JjZUxvbmdQb2xsaW5nPW8sdGhpcy5hdXRvRGV0ZWN0TG9uZ1BvbGxpbmc9c30sU2Q9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQZC5wcm90b3R5cGUsXCJpc0RlZmF1bHREYXRhYmFzZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIihkZWZhdWx0KVwiPT09dGhpcy5kYXRhYmFzZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxQZC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFBkJiZ0LnByb2plY3RJZD09PXRoaXMucHJvamVjdElkJiZ0LmRhdGFiYXNlPT09dGhpcy5kYXRhYmFzZX0sUGQpLE5kPW5ldyBNYXAsRGQ9KExkLnByb3RvdHlwZS5nZXRUb2tlbj1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCl9LExkLnByb3RvdHlwZS5pbnZhbGlkYXRlVG9rZW49ZnVuY3Rpb24oKXt9LExkLnByb3RvdHlwZS5zZXRDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbih0KXsodGhpcy5jaGFuZ2VMaXN0ZW5lcj10KShUaC5VTkFVVEhFTlRJQ0FURUQpfSxMZC5wcm90b3R5cGUucmVtb3ZlQ2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24oKXt0aGlzLmNoYW5nZUxpc3RlbmVyPW51bGx9LExkKSxBZD0oT2QucHJvdG90eXBlLmdldFRva2VuPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPXRoaXMuY2MsdD10aGlzLmZvcmNlUmVmcmVzaDtyZXR1cm4gdGhpcy5mb3JjZVJlZnJlc2g9ITEsdGhpcy5hdXRoP3RoaXMuYXV0aC5nZXRUb2tlbih0KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNjIT09bj8oeHIoXCJGaXJlYmFzZUNyZWRlbnRpYWxzUHJvdmlkZXJcIixcImdldFRva2VuIGFib3J0ZWQgZHVlIHRvIHRva2VuIGNoYW5nZS5cIiksZS5nZXRUb2tlbigpKTp0PyhGcihcInN0cmluZ1wiPT10eXBlb2YgdC5hY2Nlc3NUb2tlbiksbmV3IFRkKHQuYWNjZXNzVG9rZW4sZS5jdXJyZW50VXNlcikpOm51bGx9KTpQcm9taXNlLnJlc29sdmUobnVsbCl9LE9kLnByb3RvdHlwZS5pbnZhbGlkYXRlVG9rZW49ZnVuY3Rpb24oKXt0aGlzLmZvcmNlUmVmcmVzaD0hMH0sT2QucHJvdG90eXBlLnNldENoYW5nZUxpc3RlbmVyPWZ1bmN0aW9uKHQpe3RoaXMuY2hhbmdlTGlzdGVuZXI9dCx0aGlzLnJlY2VpdmVkSW5pdGlhbFVzZXImJnQodGhpcy5jdXJyZW50VXNlcil9LE9kLnByb3RvdHlwZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbigpe3RoaXMuYXV0aCYmdGhpcy5hdXRoLnJlbW92ZUF1dGhUb2tlbkxpc3RlbmVyKHRoaXMub2MpLHRoaXMub2M9bnVsbCx0aGlzLmNoYW5nZUxpc3RlbmVyPW51bGx9LE9kLnByb3RvdHlwZS51Yz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYXV0aCYmdGhpcy5hdXRoLmdldFVpZCgpO3JldHVybiBGcihudWxsPT09dHx8XCJzdHJpbmdcIj09dHlwZW9mIHQpLG5ldyBUaCh0KX0sT2QpLGtkPShPYmplY3QuZGVmaW5lUHJvcGVydHkoeGQucHJvdG90eXBlLFwiYXV0aEhlYWRlcnNcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9e1wiWC1Hb29nLUF1dGhVc2VyXCI6dGhpcy5oY30sZT10aGlzLmFjLmF1dGguZ2V0QXV0aEhlYWRlclZhbHVlRm9yRmlyc3RQYXJ0eShbXSk7cmV0dXJuIGUmJih0LkF1dGhvcml6YXRpb249ZSksdGhpcy5sYyYmKHRbXCJYLUdvb2ctSWFtLUF1dGhvcml6YXRpb24tVG9rZW5cIl09dGhpcy5sYyksdH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx4ZCksQ2Q9KFJkLnByb3RvdHlwZS5nZXRUb2tlbj1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUobmV3IGtkKHRoaXMuYWMsdGhpcy5oYyx0aGlzLmxjKSl9LFJkLnByb3RvdHlwZS5zZXRDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbih0KXt0KFRoLkZJUlNUX1BBUlRZKX0sUmQucHJvdG90eXBlLnJlbW92ZUNoYW5nZUxpc3RlbmVyPWZ1bmN0aW9uKCl7fSxSZC5wcm90b3R5cGUuaW52YWxpZGF0ZVRva2VuPWZ1bmN0aW9uKCl7fSxSZCk7ZnVuY3Rpb24gUmQodCxlLG4pe3RoaXMuYWM9dCx0aGlzLmhjPWUsdGhpcy5sYz1ufWZ1bmN0aW9uIHhkKHQsZSxuKXt0aGlzLmFjPXQsdGhpcy5oYz1lLHRoaXMubGM9bix0aGlzLnR5cGU9XCJGaXJzdFBhcnR5XCIsdGhpcy51c2VyPVRoLkZJUlNUX1BBUlRZfWZ1bmN0aW9uIE9kKHQpe3ZhciBlPXRoaXM7dGhpcy5vYz1udWxsLHRoaXMuY3VycmVudFVzZXI9VGguVU5BVVRIRU5USUNBVEVELHRoaXMucmVjZWl2ZWRJbml0aWFsVXNlcj0hMSx0aGlzLmNjPTAsdGhpcy5jaGFuZ2VMaXN0ZW5lcj1udWxsLHRoaXMuZm9yY2VSZWZyZXNoPSExLHRoaXMub2M9ZnVuY3Rpb24oKXtlLmNjKyssZS5jdXJyZW50VXNlcj1lLnVjKCksZS5yZWNlaXZlZEluaXRpYWxVc2VyPSEwLGUuY2hhbmdlTGlzdGVuZXImJmUuY2hhbmdlTGlzdGVuZXIoZS5jdXJyZW50VXNlcil9LHRoaXMuY2M9MCx0aGlzLmF1dGg9dC5nZXRJbW1lZGlhdGUoe29wdGlvbmFsOiEwfSksdGhpcy5hdXRoP3RoaXMuYXV0aC5hZGRBdXRoVG9rZW5MaXN0ZW5lcih0aGlzLm9jKToodGhpcy5vYyhudWxsKSx0LmdldCgpLnRoZW4oZnVuY3Rpb24odCl7ZS5hdXRoPXQsZS5vYyYmZS5hdXRoLmFkZEF1dGhUb2tlbkxpc3RlbmVyKGUub2MpfSxmdW5jdGlvbigpe30pKX1mdW5jdGlvbiBMZCgpe3RoaXMuY2hhbmdlTGlzdGVuZXI9bnVsbH1mdW5jdGlvbiBQZCh0LGUpe3RoaXMucHJvamVjdElkPXQsdGhpcy5kYXRhYmFzZT1lfHxcIihkZWZhdWx0KVwifWZ1bmN0aW9uIE1kKHQsZSxuKXtpZighbil0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkZ1bmN0aW9uIFwiK3QrXCIoKSBjYW5ub3QgYmUgY2FsbGVkIHdpdGggYW4gZW1wdHkgXCIrZStcIi5cIil9ZnVuY3Rpb24gRmQodCxlKXtpZih2b2lkIDA9PT1lKXJldHVybnttZXJnZTohMX07aWYodm9pZCAwIT09ZS5tZXJnZUZpZWxkcyYmdm9pZCAwIT09ZS5tZXJnZSl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgb3B0aW9ucyBwYXNzZWQgdG8gZnVuY3Rpb24gXCIrdCsnKCk6IFlvdSBjYW5ub3Qgc3BlY2lmeSBib3RoIFwibWVyZ2VcIiBhbmQgXCJtZXJnZUZpZWxkc1wiLicpO3JldHVybiBlfWZ1bmN0aW9uIFZkKHQsZSxuLHIpe2lmKCEwPT09ZSYmITA9PT1yKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULHQrXCIgYW5kIFwiK24rXCIgY2Fubm90IGJlIHVzZWQgdG9nZXRoZXIuXCIpfWZ1bmN0aW9uIFVkKHQpe2lmKCFtaS5pc0RvY3VtZW50S2V5KHQpKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBkb2N1bWVudCByZWZlcmVuY2UuIERvY3VtZW50IHJlZmVyZW5jZXMgbXVzdCBoYXZlIGFuIGV2ZW4gbnVtYmVyIG9mIHNlZ21lbnRzLCBidXQgXCIrdCtcIiBoYXMgXCIrdC5sZW5ndGgrXCIuXCIpfWZ1bmN0aW9uIHFkKHQpe2lmKG1pLmlzRG9jdW1lbnRLZXkodCkpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIGNvbGxlY3Rpb24gcmVmZXJlbmNlLiBDb2xsZWN0aW9uIHJlZmVyZW5jZXMgbXVzdCBoYXZlIGFuIG9kZCBudW1iZXIgb2Ygc2VnbWVudHMsIGJ1dCBcIit0K1wiIGhhcyBcIit0Lmxlbmd0aCtcIi5cIil9ZnVuY3Rpb24gQmQoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm5cInVuZGVmaW5lZFwiO2lmKG51bGw9PT1lKXJldHVyblwibnVsbFwiO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiAyMDxlLmxlbmd0aCYmKGU9ZS5zdWJzdHJpbmcoMCwyMCkrXCIuLi5cIiksSlNPTi5zdHJpbmdpZnkoZSk7aWYoXCJudW1iZXJcIj09dHlwZW9mIGV8fFwiYm9vbGVhblwiPT10eXBlb2YgZSlyZXR1cm5cIlwiK2U7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUpcmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZT9cImEgZnVuY3Rpb25cIjpNcigpO2lmKGUgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm5cImFuIGFycmF5XCI7dmFyIHQ9ZnVuY3Rpb24oKXtpZihlLmNvbnN0cnVjdG9yKXt2YXIgdD0vZnVuY3Rpb25cXHMrKFteXFxzKF0rKVxccypcXCgvLmV4ZWMoZS5jb25zdHJ1Y3Rvci50b1N0cmluZygpKTtpZih0JiYxPHQubGVuZ3RoKXJldHVybiB0WzFdfXJldHVybiBudWxsfSgpO3JldHVybiB0P1wiYSBjdXN0b20gXCIrdCtcIiBvYmplY3RcIjpcImFuIG9iamVjdFwifWZ1bmN0aW9uIGpkKHQsZSl7aWYoKHQ9XCJfZGVsZWdhdGVcImluIHQ/dC5fZGVsZWdhdGU6dClpbnN0YW5jZW9mIGUpcmV0dXJuIHQ7aWYoZS5uYW1lPT09dC5jb25zdHJ1Y3Rvci5uYW1lKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiVHlwZSBkb2VzIG5vdCBtYXRjaCB0aGUgZXhwZWN0ZWQgaW5zdGFuY2UuIERpZCB5b3UgcGFzcyBhIHJlZmVyZW5jZSBmcm9tIGEgZGlmZmVyZW50IEZpcmVzdG9yZSBTREs/XCIpO3Q9QmQodCk7dGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJFeHBlY3RlZCB0eXBlICdcIitlLm5hbWUrXCInLCBidXQgaXQgd2FzOiBcIit0KX1mdW5jdGlvbiBLZCh0LGUpe2lmKGU8PTApdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJGdW5jdGlvbiBcIit0K1wiKCkgcmVxdWlyZXMgYSBwb3NpdGl2ZSBudW1iZXIsIGJ1dCBpdCB3YXM6IFwiK2UrXCIuXCIpfXZhciBHZCxRZD0odHAucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaG9zdD09PXQuaG9zdCYmdGhpcy5zc2w9PT10LnNzbCYmdGhpcy5jcmVkZW50aWFscz09PXQuY3JlZGVudGlhbHMmJnRoaXMuY2FjaGVTaXplQnl0ZXM9PT10LmNhY2hlU2l6ZUJ5dGVzJiZ0aGlzLmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmc9PT10LmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmcmJnRoaXMuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nPT09dC5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmcmJnRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcz09PXQuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllc30sdHApLHpkPShPYmplY3QuZGVmaW5lUHJvcGVydHkoWmQucHJvdG90eXBlLFwiYXBwXCIse2dldDpmdW5jdGlvbigpe2lmKCF0aGlzLl9hcHApdGhyb3cgbmV3IEFyKERyLkZBSUxFRF9QUkVDT05ESVRJT04sXCJGaXJlc3RvcmUgd2FzIG5vdCBpbml0aWFsaXplZCB1c2luZyB0aGUgRmlyZWJhc2UgU0RLLiAnYXBwJyBpcyBub3QgYXZhaWxhYmxlXCIpO3JldHVybiB0aGlzLl9hcHB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFpkLnByb3RvdHlwZSxcIl9pbml0aWFsaXplZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0dGluZ3NGcm96ZW59LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFpkLnByb3RvdHlwZSxcIl90ZXJtaW5hdGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLl90ZXJtaW5hdGVUYXNrfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFpkLnByb3RvdHlwZS5fc2V0U2V0dGluZ3M9ZnVuY3Rpb24odCl7aWYodGhpcy5fc2V0dGluZ3NGcm96ZW4pdGhyb3cgbmV3IEFyKERyLkZBSUxFRF9QUkVDT05ESVRJT04sXCJGaXJlc3RvcmUgaGFzIGFscmVhZHkgYmVlbiBzdGFydGVkIGFuZCBpdHMgc2V0dGluZ3MgY2FuIG5vIGxvbmdlciBiZSBjaGFuZ2VkLiBZb3UgY2FuIG9ubHkgbW9kaWZ5IHNldHRpbmdzIGJlZm9yZSBjYWxsaW5nIGFueSBvdGhlciBtZXRob2RzIG9uIGEgRmlyZXN0b3JlIG9iamVjdC5cIik7dGhpcy5fc2V0dGluZ3M9bmV3IFFkKHQpLHZvaWQgMCE9PXQuY3JlZGVudGlhbHMmJih0aGlzLl9jcmVkZW50aWFscz1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gbmV3IERkO3N3aXRjaCh0LnR5cGUpe2Nhc2VcImdhcGlcIjp2YXIgZT10LmNsaWVudDtyZXR1cm4gRnIoIShcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWV8fCFlLmF1dGh8fCFlLmF1dGguZ2V0QXV0aEhlYWRlclZhbHVlRm9yRmlyc3RQYXJ0eSkpLG5ldyBDZChlLHQuc2Vzc2lvbkluZGV4fHxcIjBcIix0LmlhbVRva2VufHxudWxsKTtjYXNlXCJwcm92aWRlclwiOnJldHVybiB0LmNsaWVudDtkZWZhdWx0OnRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwibWFrZUNyZWRlbnRpYWxzUHJvdmlkZXIgZmFpbGVkIGR1ZSB0byBpbnZhbGlkIGNyZWRlbnRpYWwgdHlwZVwiKX19KHQuY3JlZGVudGlhbHMpKX0sWmQucHJvdG90eXBlLl9nZXRTZXR0aW5ncz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXR0aW5nc30sWmQucHJvdG90eXBlLl9mcmVlemVTZXR0aW5ncz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXR0aW5nc0Zyb3plbj0hMCx0aGlzLl9zZXR0aW5nc30sWmQucHJvdG90eXBlLl9kZWxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVybWluYXRlVGFza3x8KHRoaXMuX3Rlcm1pbmF0ZVRhc2s9dGhpcy5fdGVybWluYXRlKCkpLHRoaXMuX3Rlcm1pbmF0ZVRhc2t9LFpkLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57YXBwOnRoaXMuX2FwcCxkYXRhYmFzZUlkOnRoaXMuX2RhdGFiYXNlSWQsc2V0dGluZ3M6dGhpcy5fc2V0dGluZ3N9fSxaZC5wcm90b3R5cGUuX3Rlcm1pbmF0ZT1mdW5jdGlvbigpe3JldHVybih0PU5kLmdldCh0aGlzKSkmJih4cihcIkNvbXBvbmVudFByb3ZpZGVyXCIsXCJSZW1vdmluZyBEYXRhc3RvcmVcIiksTmQuZGVsZXRlKHRoaXMpLHQudGVybWluYXRlKCkpLFByb21pc2UucmVzb2x2ZSgpO3ZhciB0fSxaZCksSGQ9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eSgkZC5wcm90b3R5cGUsXCJfcGF0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5LnBhdGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KCRkLnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rZXkucGF0aC5sYXN0U2VnbWVudCgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSgkZC5wcm90b3R5cGUsXCJwYXRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rZXkucGF0aC5jYW5vbmljYWxTdHJpbmcoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoJGQucHJvdG90eXBlLFwicGFyZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgWWQodGhpcy5maXJlc3RvcmUsdGhpcy5fY29udmVydGVyLHRoaXMuX2tleS5wYXRoLnBvcExhc3QoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksJGQucHJvdG90eXBlLndpdGhDb252ZXJ0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyAkZCh0aGlzLmZpcmVzdG9yZSx0LHRoaXMuX2tleSl9LCRkKSxXZD0oSmQucHJvdG90eXBlLndpdGhDb252ZXJ0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBKZCh0aGlzLmZpcmVzdG9yZSx0LHRoaXMuX3F1ZXJ5KX0sSmQpLFlkPShuKFhkLEdkPVdkKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoWGQucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3F1ZXJ5LnBhdGgubGFzdFNlZ21lbnQoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoWGQucHJvdG90eXBlLFwicGF0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcXVlcnkucGF0aC5jYW5vbmljYWxTdHJpbmcoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoWGQucHJvdG90eXBlLFwicGFyZW50XCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BhdGgucG9wTGFzdCgpO3JldHVybiB0LmlzRW1wdHkoKT9udWxsOm5ldyBIZCh0aGlzLmZpcmVzdG9yZSxudWxsLG5ldyBtaSh0KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksWGQucHJvdG90eXBlLndpdGhDb252ZXJ0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBYZCh0aGlzLmZpcmVzdG9yZSx0LHRoaXMuX3BhdGgpfSxYZCk7ZnVuY3Rpb24gWGQodCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuKHI9R2QuY2FsbCh0aGlzLHQsZSxibyhuKSl8fHRoaXMpLl9wYXRoPW4sci50eXBlPVwiY29sbGVjdGlvblwiLHJ9ZnVuY3Rpb24gSmQodCxlLG4pe3RoaXMuX2NvbnZlcnRlcj1lLHRoaXMuX3F1ZXJ5PW4sdGhpcy50eXBlPVwicXVlcnlcIix0aGlzLmZpcmVzdG9yZT10fWZ1bmN0aW9uICRkKHQsZSxuKXt0aGlzLl9jb252ZXJ0ZXI9ZSx0aGlzLl9rZXk9bix0aGlzLnR5cGU9XCJkb2N1bWVudFwiLHRoaXMuZmlyZXN0b3JlPXR9ZnVuY3Rpb24gWmQodCxlKXt0aGlzLl9wZXJzaXN0ZW5jZUtleT1cIihsaXRlKVwiLHRoaXMuX3NldHRpbmdzPW5ldyBRZCh7fSksdGhpcy5fc2V0dGluZ3NGcm96ZW49ITEsdCBpbnN0YW5jZW9mIFNkPyh0aGlzLl9kYXRhYmFzZUlkPXQsdGhpcy5fY3JlZGVudGlhbHM9bmV3IERkKToodGhpcy5fYXBwPXQsdGhpcy5fZGF0YWJhc2VJZD1mdW5jdGlvbih0KXtpZighT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5hcHBseSh0Lm9wdGlvbnMsW1wicHJvamVjdElkXCJdKSl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCwnXCJwcm9qZWN0SWRcIiBub3QgcHJvdmlkZWQgaW4gZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcC4nKTtyZXR1cm4gbmV3IFNkKHQub3B0aW9ucy5wcm9qZWN0SWQpfSh0KSx0aGlzLl9jcmVkZW50aWFscz1uZXcgQWQoZSkpfWZ1bmN0aW9uIHRwKHQpe3ZhciBlO2lmKHZvaWQgMD09PXQuaG9zdCl7aWYodm9pZCAwIT09dC5zc2wpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJDYW4ndCBwcm92aWRlIHNzbCBvcHRpb24gaWYgaG9zdCBvcHRpb24gaXMgbm90IHNldFwiKTt0aGlzLmhvc3Q9XCJmaXJlc3RvcmUuZ29vZ2xlYXBpcy5jb21cIix0aGlzLnNzbD0hMH1lbHNlIHRoaXMuaG9zdD10Lmhvc3QsdGhpcy5zc2w9bnVsbD09PShlPXQuc3NsKXx8dm9pZCAwPT09ZXx8ZTtpZih0aGlzLmNyZWRlbnRpYWxzPXQuY3JlZGVudGlhbHMsdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzPSEhdC5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzLHZvaWQgMD09PXQuY2FjaGVTaXplQnl0ZXMpdGhpcy5jYWNoZVNpemVCeXRlcz00MTk0MzA0MDtlbHNle2lmKC0xIT09dC5jYWNoZVNpemVCeXRlcyYmdC5jYWNoZVNpemVCeXRlczwxMDQ4NTc2KXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiY2FjaGVTaXplQnl0ZXMgbXVzdCBiZSBhdCBsZWFzdCAxMDQ4NTc2XCIpO3RoaXMuY2FjaGVTaXplQnl0ZXM9dC5jYWNoZVNpemVCeXRlc310aGlzLmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmc9ISF0LmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmcsdGhpcy5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmc9ISF0LmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyxWZChcImV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmdcIix0LmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmcsXCJleHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmdcIix0LmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyl9ZnVuY3Rpb24gZXAodCxlKXtmb3IodmFyIG4scj1bXSxpPTI7aTxhcmd1bWVudHMubGVuZ3RoO2krKylyW2ktMl09YXJndW1lbnRzW2ldO2lmKHQ9bSh0KSxNZChcImNvbGxlY3Rpb25cIixcInBhdGhcIixlKSx0IGluc3RhbmNlb2YgemQpcmV0dXJuIHFkKG49JHIuZnJvbVN0cmluZy5hcHBseSgkcixzKFtlXSxyKSkpLG5ldyBZZCh0LG51bGwsbik7aWYoISh0IGluc3RhbmNlb2YgSGR8fHQgaW5zdGFuY2VvZiBZZCkpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBjb2xsZWN0aW9uKCkgdG8gYmUgYSBDb2xsZWN0aW9uUmVmZXJlbmNlLCBhIERvY3VtZW50UmVmZXJlbmNlIG9yIEZpcmViYXNlRmlyZXN0b3JlXCIpO3JldHVybiBxZChuPSRyLmZyb21TdHJpbmcuYXBwbHkoJHIscyhbdC5wYXRoXSxyKSkuY2hpbGQoJHIuZnJvbVN0cmluZyhlKSkpLG5ldyBZZCh0LmZpcmVzdG9yZSxudWxsLG4pfWZ1bmN0aW9uIG5wKHQsZSl7Zm9yKHZhciBuLHI9W10saT0yO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspcltpLTJdPWFyZ3VtZW50c1tpXTtpZih0PW0odCksTWQoXCJkb2NcIixcInBhdGhcIixlPTE9PT1hcmd1bWVudHMubGVuZ3RoP1ZyLnUoKTplKSx0IGluc3RhbmNlb2YgemQpcmV0dXJuIFVkKG49JHIuZnJvbVN0cmluZy5hcHBseSgkcixzKFtlXSxyKSkpLG5ldyBIZCh0LG51bGwsbmV3IG1pKG4pKTtpZighKHQgaW5zdGFuY2VvZiBIZHx8dCBpbnN0YW5jZW9mIFlkKSl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGNvbGxlY3Rpb24oKSB0byBiZSBhIENvbGxlY3Rpb25SZWZlcmVuY2UsIGEgRG9jdW1lbnRSZWZlcmVuY2Ugb3IgRmlyZWJhc2VGaXJlc3RvcmVcIik7cmV0dXJuIFVkKG49dC5fcGF0aC5jaGlsZCgkci5mcm9tU3RyaW5nLmFwcGx5KCRyLHMoW2VdLHIpKSkpLG5ldyBIZCh0LmZpcmVzdG9yZSx0IGluc3RhbmNlb2YgWWQ/dC5fY29udmVydGVyOm51bGwsbmV3IG1pKG4pKX1mdW5jdGlvbiBycCh0LGUpe3JldHVybiB0PW0odCksZT1tKGUpLCh0IGluc3RhbmNlb2YgSGR8fHQgaW5zdGFuY2VvZiBZZCkmJihlIGluc3RhbmNlb2YgSGR8fGUgaW5zdGFuY2VvZiBZZCkmJnQuZmlyZXN0b3JlPT09ZS5maXJlc3RvcmUmJnQucGF0aD09PWUucGF0aCYmdC5fY29udmVydGVyPT09ZS5fY29udmVydGVyfWZ1bmN0aW9uIGlwKHQsZSl7cmV0dXJuIHQ9bSh0KSxlPW0oZSksdCBpbnN0YW5jZW9mIFdkJiZlIGluc3RhbmNlb2YgV2QmJnQuZmlyZXN0b3JlPT09ZS5maXJlc3RvcmUmJkFvKHQuX3F1ZXJ5LGUuX3F1ZXJ5KSYmdC5fY29udmVydGVyPT09ZS5fY29udmVydGVyfXZhciBvcD0oT2JqZWN0LmRlZmluZVByb3BlcnR5KHNwLnByb3RvdHlwZSxcImlzU2h1dHRpbmdEb3duXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndjfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHNwLnByb3RvdHlwZS5lbnF1ZXVlQW5kRm9yZ2V0PWZ1bmN0aW9uKHQpe3RoaXMuZW5xdWV1ZSh0KX0sc3AucHJvdG90eXBlLmVucXVldWVBbmRGb3JnZXRFdmVuV2hpbGVSZXN0cmljdGVkPWZ1bmN0aW9uKHQpe3RoaXMuVGMoKSx0aGlzLkljKHQpfSxzcC5wcm90b3R5cGUuZW50ZXJSZXN0cmljdGVkTW9kZT1mdW5jdGlvbigpe3ZhciB0O3RoaXMud2N8fCh0aGlzLndjPSEwLCh0PWhsKCkpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnJlbW92ZUV2ZW50TGlzdGVuZXImJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLkVjKSl9LHNwLnByb3RvdHlwZS5lbnF1ZXVlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlRjKCksdGhpcy53Yz9uZXcgUHJvbWlzZShmdW5jdGlvbih0KXt9KTp0aGlzLkljKHQpfSxzcC5wcm90b3R5cGUuZW5xdWV1ZVJldHJ5YWJsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiBlLmRjLnB1c2godCksZS5BYygpfSl9LHNwLnByb3RvdHlwZS5BYz1mdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG49dGhpcztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6aWYoMD09PXRoaXMuZGMubGVuZ3RoKXJldHVyblszLDVdO3QubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDMsLDRdKSxbNCx0aGlzLmRjWzBdKCldO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksdGhpcy5kYy5zaGlmdCgpLHRoaXMuWmkucmVzZXQoKSxbMyw0XTtjYXNlIDM6aWYoIWx1KGU9dC5zZW50KCkpKXRocm93IGU7cmV0dXJuIHhyKFwiQXN5bmNRdWV1ZVwiLFwiT3BlcmF0aW9uIGZhaWxlZCB3aXRoIHJldHJ5YWJsZSBlcnJvcjogXCIrZSksWzMsNF07Y2FzZSA0OjA8dGhpcy5kYy5sZW5ndGgmJnRoaXMuWmkuamkoZnVuY3Rpb24oKXtyZXR1cm4gbi5BYygpfSksdC5sYWJlbD01O2Nhc2UgNTpyZXR1cm5bMl19fSl9KX0sc3AucHJvdG90eXBlLkljPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsZT10aGlzLmZjLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gci55Yz0hMCx0KCkuY2F0Y2goZnVuY3Rpb24odCl7dGhyb3cgci5tYz10LHIueWM9ITEsT3IoXCJJTlRFUk5BTCBVTkhBTkRMRUQgRVJST1I6IFwiLChuPShlPXQpLm1lc3NhZ2V8fFwiXCIsbj1lLnN0YWNrP2Uuc3RhY2suaW5jbHVkZXMoZS5tZXNzYWdlKT9lLnN0YWNrOmUubWVzc2FnZStcIlxcblwiK2Uuc3RhY2s6bikpLHQ7dmFyIGUsbn0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHIueWM9ITEsdH0pfSk7cmV0dXJuIHRoaXMuZmM9ZX0sc3AucHJvdG90eXBlLmVucXVldWVBZnRlckRlbGF5PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO3RoaXMuVGMoKSwtMTx0aGlzLmdjLmluZGV4T2YodCkmJihlPTApO249emwuY3JlYXRlQW5kU2NoZWR1bGUodGhpcyx0LGUsbixmdW5jdGlvbih0KXtyZXR1cm4gci5SYyh0KX0pO3JldHVybiB0aGlzLl9jLnB1c2gobiksbn0sc3AucHJvdG90eXBlLlRjPWZ1bmN0aW9uKCl7dGhpcy5tYyYmTXIoKX0sc3AucHJvdG90eXBlLnZlcmlmeU9wZXJhdGlvbkluUHJvZ3Jlc3M9ZnVuY3Rpb24oKXt9LHNwLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxlPXRoaXMuZmNdO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOmlmKGUhPT10aGlzLmZjKXJldHVyblszLDBdO3QubGFiZWw9MztjYXNlIDM6cmV0dXJuWzJdfX0pfSl9LHNwLnByb3RvdHlwZS52Yz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMuX2M7ZTxuLmxlbmd0aDtlKyspaWYobltlXS50aW1lcklkPT09dClyZXR1cm4hMDtyZXR1cm4hMX0sc3AucHJvdG90eXBlLlBjPWZ1bmN0aW9uKHIpe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMuYmMoKS50aGVuKGZ1bmN0aW9uKCl7aS5fYy5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudGFyZ2V0VGltZU1zLWUudGFyZ2V0VGltZU1zfSk7Zm9yKHZhciB0PTAsZT1pLl9jO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdO2lmKG4uc2tpcERlbGF5KCksXCJhbGxcIiE9PXImJm4udGltZXJJZD09PXIpYnJlYWt9cmV0dXJuIGkuYmMoKX0pfSxzcC5wcm90b3R5cGUuVmM9ZnVuY3Rpb24odCl7dGhpcy5nYy5wdXNoKHQpfSxzcC5wcm90b3R5cGUuUmM9ZnVuY3Rpb24odCl7dD10aGlzLl9jLmluZGV4T2YodCk7dGhpcy5fYy5zcGxpY2UodCwxKX0sc3ApO2Z1bmN0aW9uIHNwKCl7dmFyIGU9dGhpczt0aGlzLmZjPVByb21pc2UucmVzb2x2ZSgpLHRoaXMuZGM9W10sdGhpcy53Yz0hMSx0aGlzLl9jPVtdLHRoaXMubWM9bnVsbCx0aGlzLnljPSExLHRoaXMuZ2M9W10sdGhpcy5aaT1uZXcgZ2wodGhpcyxcImFzeW5jX3F1ZXVlX3JldHJ5XCIpLHRoaXMuRWM9ZnVuY3Rpb24oKXt2YXIgdD1obCgpO3QmJnhyKFwiQXN5bmNRdWV1ZVwiLFwiVmlzaWJpbGl0eSBzdGF0ZSBjaGFuZ2VkIHRvIFwiK3QudmlzaWJpbGl0eVN0YXRlKSxlLlppLkdpKCl9O3ZhciB0PWhsKCk7dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5hZGRFdmVudExpc3RlbmVyJiZ0LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy5FYyl9ZnVuY3Rpb24gYXAoaSl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGkmJm51bGwhPT1pKWZvcih2YXIgdD1pLGU9MCxuPVtcIm5leHRcIixcImVycm9yXCIsXCJjb21wbGV0ZVwiXTtlPG4ubGVuZ3RoO2UrKyl7dmFyIHI9bltlXTtpZihyIGluIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRbcl0pcmV0dXJuIDF9fSgpfXZhciB1cCxjcD0oZnAucHJvdG90eXBlLm9uUHJvZ3Jlc3M9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX3Byb2dyZXNzT2JzZXJ2ZXI9e25leHQ6dCxlcnJvcjplLGNvbXBsZXRlOm59fSxmcC5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3Rhc2tDb21wbGV0aW9uUmVzb2x2ZXIucHJvbWlzZS5jYXRjaCh0KX0sZnAucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fdGFza0NvbXBsZXRpb25SZXNvbHZlci5wcm9taXNlLnRoZW4odCxlKX0sZnAucHJvdG90eXBlLl9jb21wbGV0ZVdpdGg9ZnVuY3Rpb24odCl7dGhpcy5fdXBkYXRlUHJvZ3Jlc3ModCksdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5jb21wbGV0ZSYmdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5jb21wbGV0ZSgpLHRoaXMuX3Rhc2tDb21wbGV0aW9uUmVzb2x2ZXIucmVzb2x2ZSh0KX0sZnAucHJvdG90eXBlLl9mYWlsV2l0aD1mdW5jdGlvbih0KXt0aGlzLl9sYXN0UHJvZ3Jlc3MudGFza1N0YXRlPVwiRXJyb3JcIix0aGlzLl9wcm9ncmVzc09ic2VydmVyLm5leHQmJnRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIubmV4dCh0aGlzLl9sYXN0UHJvZ3Jlc3MpLHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIuZXJyb3ImJnRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIuZXJyb3IodCksdGhpcy5fdGFza0NvbXBsZXRpb25SZXNvbHZlci5yZWplY3QodCl9LGZwLnByb3RvdHlwZS5fdXBkYXRlUHJvZ3Jlc3M9ZnVuY3Rpb24odCl7dGhpcy5fbGFzdFByb2dyZXNzPXQsdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5uZXh0JiZ0aGlzLl9wcm9ncmVzc09ic2VydmVyLm5leHQodCl9LGZwKSxocD0obihscCx1cD16ZCksbHAucHJvdG90eXBlLl90ZXJtaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlyZXN0b3JlQ2xpZW50fHxwcCh0aGlzKSx0aGlzLl9maXJlc3RvcmVDbGllbnQudGVybWluYXRlKCl9LGxwKTtmdW5jdGlvbiBscCh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49dXAuY2FsbCh0aGlzLHQsZSl8fHRoaXMpLl9xdWV1ZT1uZXcgb3Asbi5fcGVyc2lzdGVuY2VLZXk9XCJuYW1lXCJpbiB0P3QubmFtZTpcIltERUZBVUxUXVwiLG59ZnVuY3Rpb24gZnAoKXt0aGlzLl9wcm9ncmVzc09ic2VydmVyPXt9LHRoaXMuX3Rhc2tDb21wbGV0aW9uUmVzb2x2ZXI9bmV3IFphLHRoaXMuX2xhc3RQcm9ncmVzcz17dGFza1N0YXRlOlwiUnVubmluZ1wiLHRvdGFsQnl0ZXM6MCx0b3RhbERvY3VtZW50czowLGJ5dGVzTG9hZGVkOjAsZG9jdW1lbnRzTG9hZGVkOjB9fWZ1bmN0aW9uIGRwKHQpe3JldHVybiB0Ll9maXJlc3RvcmVDbGllbnR8fHBwKHQpLHQuX2ZpcmVzdG9yZUNsaWVudC52ZXJpZnlOb3RUZXJtaW5hdGVkKCksdC5fZmlyZXN0b3JlQ2xpZW50fWZ1bmN0aW9uIHBwKHQpe3ZhciBlLG4scixpPXQuX2ZyZWV6ZVNldHRpbmdzKCksaT0oZT10Ll9kYXRhYmFzZUlkLG49KG51bGw9PT0ocj10Ll9hcHApfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLm9wdGlvbnMuYXBwSWQpfHxcIlwiLHI9dC5fcGVyc2lzdGVuY2VLZXksbmV3IF9kKGUsbixyLGkuaG9zdCxpLnNzbCxpLmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmcsaS5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmcpKTt0Ll9maXJlc3RvcmVDbGllbnQ9bmV3IHNkKHQuX2NyZWRlbnRpYWxzLHQuX3F1ZXVlLGkpfWZ1bmN0aW9uIHlwKHIsaSxvKXt2YXIgdD10aGlzLHM9bmV3IFphO3JldHVybiByLmFzeW5jUXVldWUuZW5xdWV1ZShmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdC50cnlzLnB1c2goWzAsMywsNF0pLFs0LGZkKHIsbyldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzQsZGQocixpKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSxzLnJlc29sdmUoKSxbMyw0XTtjYXNlIDM6aWYoIShcIkZpcmViYXNlRXJyb3JcIj09PShlPW49dC5zZW50KCkpLm5hbWU/ZS5jb2RlPT09RHIuRkFJTEVEX1BSRUNPTkRJVElPTnx8ZS5jb2RlPT09RHIuVU5JTVBMRU1FTlRFRDohKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBET01FeGNlcHRpb24mJmUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24pfHwyMj09PWUuY29kZXx8MjA9PT1lLmNvZGV8fDExPT09ZS5jb2RlKSl0aHJvdyBuO3JldHVybiBjb25zb2xlLndhcm4oXCJFcnJvciBlbmFibGluZyBvZmZsaW5lIHBlcnNpc3RlbmNlLiBGYWxsaW5nIGJhY2sgdG8gcGVyc2lzdGVuY2UgZGlzYWJsZWQ6IFwiK24pLHMucmVqZWN0KG4pLFszLDRdO2Nhc2UgNDpyZXR1cm5bMl19dmFyIGV9KX0pfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBzLnByb21pc2V9KX1mdW5jdGlvbiBncCh0KXtpZih0Ll9pbml0aWFsaXplZHx8dC5fdGVybWluYXRlZCl0aHJvdyBuZXcgQXIoRHIuRkFJTEVEX1BSRUNPTkRJVElPTixcIkZpcmVzdG9yZSBoYXMgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQgYW5kIHBlcnNpc3RlbmNlIGNhbiBubyBsb25nZXIgYmUgZW5hYmxlZC4gWW91IGNhbiBvbmx5IGVuYWJsZSBwZXJzaXN0ZW5jZSBiZWZvcmUgY2FsbGluZyBhbnkgb3RoZXIgbWV0aG9kcyBvbiBhIEZpcmVzdG9yZSBvYmplY3QuXCIpfXZhciBtcD0oQXAucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ludGVybmFsUGF0aC5pc0VxdWFsKHQuX2ludGVybmFsUGF0aCl9LEFwKSx2cD0oRHAuZnJvbUJhc2U2NFN0cmluZz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIG5ldyBEcChuaS5mcm9tQmFzZTY0U3RyaW5nKHQpKX1jYXRjaCh0KXt0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkZhaWxlZCB0byBjb25zdHJ1Y3QgZGF0YSBmcm9tIEJhc2U2NCBzdHJpbmc6IFwiK3QpfX0sRHAuZnJvbVVpbnQ4QXJyYXk9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBEcChuaS5mcm9tVWludDhBcnJheSh0KSl9LERwLnByb3RvdHlwZS50b0Jhc2U2ND1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ieXRlU3RyaW5nLnRvQmFzZTY0KCl9LERwLnByb3RvdHlwZS50b1VpbnQ4QXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnl0ZVN0cmluZy50b1VpbnQ4QXJyYXkoKX0sRHAucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJCeXRlcyhiYXNlNjQ6IFwiK3RoaXMudG9CYXNlNjQoKStcIilcIn0sRHAucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2J5dGVTdHJpbmcuaXNFcXVhbCh0Ll9ieXRlU3RyaW5nKX0sRHApLGJwPWZ1bmN0aW9uKHQpe3RoaXMuX21ldGhvZE5hbWU9dH0sd3A9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOcC5wcm90b3R5cGUsXCJsYXRpdHVkZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGF0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOcC5wcm90b3R5cGUsXCJsb25naXR1ZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvbmd9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksTnAucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xhdD09PXQuX2xhdCYmdGhpcy5fbG9uZz09PXQuX2xvbmd9LE5wLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57bGF0aXR1ZGU6dGhpcy5fbGF0LGxvbmdpdHVkZTp0aGlzLl9sb25nfX0sTnAucHJvdG90eXBlLl9jb21wYXJlVG89ZnVuY3Rpb24odCl7cmV0dXJuIHFyKHRoaXMuX2xhdCx0Ll9sYXQpfHxxcih0aGlzLl9sb25nLHQuX2xvbmcpfSxOcCksSXA9L15fXy4qX18kLyxFcD0oU3AucHJvdG90eXBlLnRvTXV0YXRpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9PXRoaXMuZmllbGRNYXNrP25ldyBocyh0LHRoaXMuZGF0YSx0aGlzLmZpZWxkTWFzayxlLHRoaXMuZmllbGRUcmFuc2Zvcm1zKTpuZXcgY3ModCx0aGlzLmRhdGEsZSx0aGlzLmZpZWxkVHJhbnNmb3Jtcyl9LFNwKSxUcD0oX3AucHJvdG90eXBlLnRvTXV0YXRpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGhzKHQsdGhpcy5kYXRhLHRoaXMuZmllbGRNYXNrLGUsdGhpcy5maWVsZFRyYW5zZm9ybXMpfSxfcCk7ZnVuY3Rpb24gX3AodCxlLG4pe3RoaXMuZGF0YT10LHRoaXMuZmllbGRNYXNrPWUsdGhpcy5maWVsZFRyYW5zZm9ybXM9bn1mdW5jdGlvbiBTcCh0LGUsbil7dGhpcy5kYXRhPXQsdGhpcy5maWVsZE1hc2s9ZSx0aGlzLmZpZWxkVHJhbnNmb3Jtcz1ufWZ1bmN0aW9uIE5wKHQsZSl7aWYoIWlzRmluaXRlKHQpfHx0PC05MHx8OTA8dCl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkxhdGl0dWRlIG11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiAtOTAgYW5kIDkwLCBidXQgd2FzOiBcIit0KTtpZighaXNGaW5pdGUoZSl8fGU8LTE4MHx8MTgwPGUpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJMb25naXR1ZGUgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIC0xODAgYW5kIDE4MCwgYnV0IHdhczogXCIrZSk7dGhpcy5fbGF0PXQsdGhpcy5fbG9uZz1lfWZ1bmN0aW9uIERwKHQpe3RoaXMuX2J5dGVTdHJpbmc9dH1mdW5jdGlvbiBBcCgpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtmb3IodmFyIG49MDtuPHQubGVuZ3RoOysrbilpZigwPT09dFtuXS5sZW5ndGgpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIGZpZWxkIG5hbWUgYXQgYXJndW1lbnQgJChpICsgMSkuIEZpZWxkIG5hbWVzIG11c3Qgbm90IGJlIGVtcHR5LlwiKTt0aGlzLl9pbnRlcm5hbFBhdGg9bmV3IHRpKHQpfWZ1bmN0aW9uIGtwKHQpe3N3aXRjaCh0KXtjYXNlIDA6Y2FzZSAyOmNhc2UgMTpyZXR1cm4gMTtjYXNlIDM6Y2FzZSA0OnJldHVybjtkZWZhdWx0OnRocm93IE1yKCl9fXZhciBDcD0oT2JqZWN0LmRlZmluZVByb3BlcnR5KE9wLnByb3RvdHlwZSxcInBhdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0dGluZ3MucGF0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoT3AucHJvdG90eXBlLFwiRGNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0dGluZ3MuRGN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT3AucHJvdG90eXBlLkNjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgT3AoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuc2V0dGluZ3MpLHQpLHRoaXMuZGF0YWJhc2VJZCx0aGlzLlIsdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzLHRoaXMuZmllbGRUcmFuc2Zvcm1zLHRoaXMuZmllbGRNYXNrKX0sT3AucHJvdG90eXBlLk5jPWZ1bmN0aW9uKHQpe3ZhciBlPW51bGw9PT0oZT10aGlzLnBhdGgpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNoaWxkKHQpLGU9dGhpcy5DYyh7cGF0aDplLHhjOiExfSk7cmV0dXJuIGUuRmModCksZX0sT3AucHJvdG90eXBlLmtjPWZ1bmN0aW9uKHQpe3ZhciBlLHQ9bnVsbD09PShlPXRoaXMucGF0aCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2hpbGQodCksdD10aGlzLkNjKHtwYXRoOnQseGM6ITF9KTtyZXR1cm4gdC5TYygpLHR9LE9wLnByb3RvdHlwZS5PYz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DYyh7cGF0aDp2b2lkIDAseGM6ITB9KX0sT3AucHJvdG90eXBlLiRjPWZ1bmN0aW9uKHQpe3JldHVybiB1eSh0LHRoaXMuc2V0dGluZ3MubWV0aG9kTmFtZSx0aGlzLnNldHRpbmdzLk1jfHwhMSx0aGlzLnBhdGgsdGhpcy5zZXR0aW5ncy5MYyl9LE9wLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5maWVsZE1hc2suZmluZChmdW5jdGlvbih0KXtyZXR1cm4gZS5pc1ByZWZpeE9mKHQpfSl8fHZvaWQgMCE9PXRoaXMuZmllbGRUcmFuc2Zvcm1zLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNQcmVmaXhPZih0LmZpZWxkKX0pfSxPcC5wcm90b3R5cGUuU2M9ZnVuY3Rpb24oKXtpZih0aGlzLnBhdGgpZm9yKHZhciB0PTA7dDx0aGlzLnBhdGgubGVuZ3RoO3QrKyl0aGlzLkZjKHRoaXMucGF0aC5nZXQodCkpfSxPcC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24odCl7aWYoMD09PXQubGVuZ3RoKXRocm93IHRoaXMuJGMoXCJEb2N1bWVudCBmaWVsZHMgbXVzdCBub3QgYmUgZW1wdHlcIik7aWYoa3AodGhpcy5EYykmJklwLnRlc3QodCkpdGhyb3cgdGhpcy4kYygnRG9jdW1lbnQgZmllbGRzIGNhbm5vdCBiZWdpbiBhbmQgZW5kIHdpdGggXCJfX1wiJyl9LE9wKSxScD0oeHAucHJvdG90eXBlLkJjPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj0hMSksbmV3IENwKHtEYzp0LG1ldGhvZE5hbWU6ZSxMYzpuLHBhdGg6dGkuZW1wdHlQYXRoKCkseGM6ITEsTWM6cn0sdGhpcy5kYXRhYmFzZUlkLHRoaXMuUix0aGlzLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMpfSx4cCk7ZnVuY3Rpb24geHAodCxlLG4pe3RoaXMuZGF0YWJhc2VJZD10LHRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcz1lLHRoaXMuUj1ufHxsbCh0KX1mdW5jdGlvbiBPcCh0LGUsbixyLGksbyl7dGhpcy5zZXR0aW5ncz10LHRoaXMuZGF0YWJhc2VJZD1lLHRoaXMuUj1uLHRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcz1yLHZvaWQgMD09PWkmJnRoaXMuU2MoKSx0aGlzLmZpZWxkVHJhbnNmb3Jtcz1pfHxbXSx0aGlzLmZpZWxkTWFzaz1vfHxbXX1mdW5jdGlvbiBMcCh0KXt2YXIgZT10Ll9mcmVlemVTZXR0aW5ncygpLG49bGwodC5fZGF0YWJhc2VJZCk7cmV0dXJuIG5ldyBScCh0Ll9kYXRhYmFzZUlkLCEhZS5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzLG4pfWZ1bmN0aW9uIFBwKHQsZSxuLHIsaSxvKXt2b2lkIDA9PT1vJiYobz17fSk7dmFyIHM9dC5CYyhvLm1lcmdlfHxvLm1lcmdlRmllbGRzPzI6MCxlLG4saSk7aXkoXCJEYXRhIG11c3QgYmUgYW4gb2JqZWN0LCBidXQgaXQgd2FzOlwiLHMscik7dmFyIGEsdSxyPW55KHIscyk7aWYoby5tZXJnZSlhPW5ldyBlaShzLmZpZWxkTWFzayksdT1zLmZpZWxkVHJhbnNmb3JtcztlbHNlIGlmKG8ubWVyZ2VGaWVsZHMpe2Zvcih2YXIgYz1bXSxoPTAsbD1vLm1lcmdlRmllbGRzO2g8bC5sZW5ndGg7aCsrKXt2YXIgZj1veShlLGxbaF0sbik7aWYoIXMuY29udGFpbnMoZikpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJGaWVsZCAnXCIrZitcIicgaXMgc3BlY2lmaWVkIGluIHlvdXIgZmllbGQgbWFzayBidXQgbWlzc2luZyBmcm9tIHlvdXIgaW5wdXQgZGF0YS5cIik7Y3koYyxmKXx8Yy5wdXNoKGYpfWE9bmV3IGVpKGMpLHU9cy5maWVsZFRyYW5zZm9ybXMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBhLmNvdmVycyh0LmZpZWxkKX0pfWVsc2UgYT1udWxsLHU9cy5maWVsZFRyYW5zZm9ybXM7cmV0dXJuIG5ldyBFcChuZXcgUmkociksYSx1KX12YXIgTXAsRnA9KG4oVnAsTXA9YnApLFZwLnByb3RvdHlwZS5fdG9GaWVsZFRyYW5zZm9ybT1mdW5jdGlvbih0KXtpZigyIT09dC5EYyl0aHJvdyAxPT09dC5EYz90LiRjKHRoaXMuX21ldGhvZE5hbWUrXCIoKSBjYW4gb25seSBhcHBlYXIgYXQgdGhlIHRvcCBsZXZlbCBvZiB5b3VyIHVwZGF0ZSBkYXRhXCIpOnQuJGModGhpcy5fbWV0aG9kTmFtZStcIigpIGNhbm5vdCBiZSB1c2VkIHdpdGggc2V0KCkgdW5sZXNzIHlvdSBwYXNzIHttZXJnZTp0cnVlfVwiKTtyZXR1cm4gdC5maWVsZE1hc2sucHVzaCh0LnBhdGgpLG51bGx9LFZwLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVnB9LFZwKTtmdW5jdGlvbiBWcCgpe3JldHVybiBudWxsIT09TXAmJk1wLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31mdW5jdGlvbiBVcCh0LGUsbil7cmV0dXJuIG5ldyBDcCh7RGM6MyxMYzplLnNldHRpbmdzLkxjLG1ldGhvZE5hbWU6dC5fbWV0aG9kTmFtZSx4YzpufSxlLmRhdGFiYXNlSWQsZS5SLGUuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyl9dmFyIHFwLEJwLGpwLEtwLEdwPShuKEpwLEtwPWJwKSxKcC5wcm90b3R5cGUuX3RvRmllbGRUcmFuc2Zvcm09ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0cyh0LnBhdGgsbmV3IFVvKX0sSnAucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBKcH0sSnApLFFwPShuKFhwLGpwPWJwKSxYcC5wcm90b3R5cGUuX3RvRmllbGRUcmFuc2Zvcm09ZnVuY3Rpb24odCl7dmFyIGU9VXAodGhpcyx0LCEwKSxuPXRoaXMucWMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBleSh0LGUpfSksbj1uZXcgcW8obik7cmV0dXJuIG5ldyB0cyh0LnBhdGgsbil9LFhwLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dH0sWHApLHpwPShuKFlwLEJwPWJwKSxZcC5wcm90b3R5cGUuX3RvRmllbGRUcmFuc2Zvcm09ZnVuY3Rpb24odCl7dmFyIGU9VXAodGhpcyx0LCEwKSxuPXRoaXMucWMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBleSh0LGUpfSksbj1uZXcgUW8obik7cmV0dXJuIG5ldyB0cyh0LnBhdGgsbil9LFlwLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dH0sWXApLEhwPShuKFdwLHFwPWJwKSxXcC5wcm90b3R5cGUuX3RvRmllbGRUcmFuc2Zvcm09ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFlvKHQuUixQbyh0LlIsdGhpcy5VYykpO3JldHVybiBuZXcgdHModC5wYXRoLGUpfSxXcC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR9LFdwKTtmdW5jdGlvbiBXcCh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49cXAuY2FsbCh0aGlzLHQpfHx0aGlzKS5VYz1lLG59ZnVuY3Rpb24gWXAodCxlKXt2YXIgbj10aGlzO3JldHVybihuPUJwLmNhbGwodGhpcyx0KXx8dGhpcykucWM9ZSxufWZ1bmN0aW9uIFhwKHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj1qcC5jYWxsKHRoaXMsdCl8fHRoaXMpLnFjPWUsbn1mdW5jdGlvbiBKcCgpe3JldHVybiBudWxsIT09S3AmJktwLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31mdW5jdGlvbiAkcCh0LHIsaSxlKXt2YXIgbz10LkJjKDEscixpKTtpeShcIkRhdGEgbXVzdCBiZSBhbiBvYmplY3QsIGJ1dCBpdCB3YXM6XCIsbyxlKTt2YXIgcz1bXSxhPVJpLmVtcHR5KCk7V3IoZSxmdW5jdGlvbih0LGUpe3ZhciBuPWF5KHIsdCxpKTtlPW0oZSk7dD1vLmtjKG4pO2UgaW5zdGFuY2VvZiBGcD9zLnB1c2gobik6bnVsbCE9KHQ9ZXkoZSx0KSkmJihzLnB1c2gobiksYS5zZXQobix0KSl9KTtlPW5ldyBlaShzKTtyZXR1cm4gbmV3IFRwKGEsZSxvLmZpZWxkVHJhbnNmb3Jtcyl9ZnVuY3Rpb24gWnAodCxlLG4scixpLG8pe3ZhciBzPXQuQmMoMSxlLG4pLGE9W295KGUscixuKV0sdT1baV07aWYoby5sZW5ndGglMiE9MCl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkZ1bmN0aW9uIFwiK2UrXCIoKSBuZWVkcyB0byBiZSBjYWxsZWQgd2l0aCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMgdGhhdCBhbHRlcm5hdGUgYmV0d2VlbiBmaWVsZCBuYW1lcyBhbmQgdmFsdWVzLlwiKTtmb3IodmFyIGM9MDtjPG8ubGVuZ3RoO2MrPTIpYS5wdXNoKG95KGUsb1tjXSkpLHUucHVzaChvW2MrMV0pO2Zvcih2YXIgaCxsLGYsZD1bXSxwPVJpLmVtcHR5KCkseT1hLmxlbmd0aC0xOzA8PXk7LS15KWN5KGQsYVt5XSl8fChoPWFbeV0sbD1tKGw9dVt5XSksZj1zLmtjKGgpLGwgaW5zdGFuY2VvZiBGcD9kLnB1c2goaCk6bnVsbCE9KGY9ZXkobCxmKSkmJihkLnB1c2goaCkscC5zZXQoaCxmKSkpO2k9bmV3IGVpKGQpO3JldHVybiBuZXcgVHAocCxpLHMuZmllbGRUcmFuc2Zvcm1zKX1mdW5jdGlvbiB0eSh0LGUsbixyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9ITEpLGV5KG4sdC5CYyhyPzQ6MyxlKSl9ZnVuY3Rpb24gZXkocyx0KXtpZihyeShzPW0ocykpKXJldHVybiBpeShcIlVuc3VwcG9ydGVkIGZpZWxkIHZhbHVlOlwiLHQscyksbnkocyx0KTtpZihzIGluc3RhbmNlb2YgYnApcmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoIWtwKGUuRGMpKXRocm93IGUuJGModC5fbWV0aG9kTmFtZStcIigpIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCB1cGRhdGUoKSBhbmQgc2V0KClcIik7aWYoIWUucGF0aCl0aHJvdyBlLiRjKHQuX21ldGhvZE5hbWUrXCIoKSBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBpbnNpZGUgYXJyYXlzXCIpO3Q9dC5fdG9GaWVsZFRyYW5zZm9ybShlKTt0JiZlLmZpZWxkVHJhbnNmb3Jtcy5wdXNoKHQpfShzLHQpLG51bGw7aWYodm9pZCAwPT09cyYmdC5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzKXJldHVybiBudWxsO2lmKHQucGF0aCYmdC5maWVsZE1hc2sucHVzaCh0LnBhdGgpLHMgaW5zdGFuY2VvZiBBcnJheSl7aWYodC5zZXR0aW5ncy54YyYmNCE9PXQuRGMpdGhyb3cgdC4kYyhcIk5lc3RlZCBhcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTAscj0wLGk9cztyPGkubGVuZ3RoO3IrKyl7dmFyIG89ZXkoaVtyXSx0Lk9jKG4pKTtudWxsPT1vJiYobz17bnVsbFZhbHVlOlwiTlVMTF9WQUxVRVwifSksZS5wdXNoKG8pLG4rK31yZXR1cm57YXJyYXlWYWx1ZTp7dmFsdWVzOmV9fX0odCl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYobnVsbD09PSh0PW0odCkpKXJldHVybntudWxsVmFsdWU6XCJOVUxMX1ZBTFVFXCJ9O2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXJldHVybiBQbyhlLlIsdCk7aWYoXCJib29sZWFuXCI9PXR5cGVvZiB0KXJldHVybntib29sZWFuVmFsdWU6dH07aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJue3N0cmluZ1ZhbHVlOnR9O2lmKHQgaW5zdGFuY2VvZiBEYXRlKXt2YXIgbj1Lci5mcm9tRGF0ZSh0KTtyZXR1cm57dGltZXN0YW1wVmFsdWU6b2EoZS5SLG4pfX1pZih0IGluc3RhbmNlb2YgS3IpcmV0dXJuIG49bmV3IEtyKHQuc2Vjb25kcywxZTMqTWF0aC5mbG9vcih0Lm5hbm9zZWNvbmRzLzFlMykpLHt0aW1lc3RhbXBWYWx1ZTpvYShlLlIsbil9O2lmKHQgaW5zdGFuY2VvZiB3cClyZXR1cm57Z2VvUG9pbnRWYWx1ZTp7bGF0aXR1ZGU6dC5sYXRpdHVkZSxsb25naXR1ZGU6dC5sb25naXR1ZGV9fTtpZih0IGluc3RhbmNlb2YgdnApcmV0dXJue2J5dGVzVmFsdWU6c2EoZS5SLHQuX2J5dGVTdHJpbmcpfTtpZih0IGluc3RhbmNlb2YgSGQpe3ZhciBuPWUuZGF0YWJhc2VJZCxyPXQuZmlyZXN0b3JlLl9kYXRhYmFzZUlkO2lmKCFyLmlzRXF1YWwobikpdGhyb3cgZS4kYyhcIkRvY3VtZW50IHJlZmVyZW5jZSBpcyBmb3IgZGF0YWJhc2UgXCIrci5wcm9qZWN0SWQrXCIvXCIrci5kYXRhYmFzZStcIiBidXQgc2hvdWxkIGJlIGZvciBkYXRhYmFzZSBcIituLnByb2plY3RJZCtcIi9cIituLmRhdGFiYXNlKTtyZXR1cm57cmVmZXJlbmNlVmFsdWU6dWEodC5maXJlc3RvcmUuX2RhdGFiYXNlSWR8fGUuZGF0YWJhc2VJZCx0Ll9rZXkucGF0aCl9fXRocm93IGUuJGMoXCJVbnN1cHBvcnRlZCBmaWVsZCB2YWx1ZTogXCIrQmQodCkpfShzLHQpfWZ1bmN0aW9uIG55KHQsbil7dmFyIHI9e307cmV0dXJuIFlyKHQpP24ucGF0aCYmMDxuLnBhdGgubGVuZ3RoJiZuLmZpZWxkTWFzay5wdXNoKG4ucGF0aCk6V3IodCxmdW5jdGlvbih0LGUpe2U9ZXkoZSxuLk5jKHQpKTtudWxsIT1lJiYoclt0XT1lKX0pLHttYXBWYWx1ZTp7ZmllbGRzOnJ9fX1mdW5jdGlvbiByeSh0KXtyZXR1cm4hKFwib2JqZWN0XCIhPXR5cGVvZiB0fHxudWxsPT09dHx8dCBpbnN0YW5jZW9mIEFycmF5fHx0IGluc3RhbmNlb2YgRGF0ZXx8dCBpbnN0YW5jZW9mIEtyfHx0IGluc3RhbmNlb2Ygd3B8fHQgaW5zdGFuY2VvZiB2cHx8dCBpbnN0YW5jZW9mIEhkfHx0IGluc3RhbmNlb2YgYnApfWZ1bmN0aW9uIGl5KHQsZSxuKXtpZighcnkobil8fChcIm9iamVjdFwiIT10eXBlb2Yocj1uKXx8bnVsbD09PXJ8fE9iamVjdC5nZXRQcm90b3R5cGVPZihyKSE9PU9iamVjdC5wcm90b3R5cGUmJm51bGwhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YocikpKXtuPUJkKG4pO3Rocm93XCJhbiBvYmplY3RcIj09PW4/ZS4kYyh0K1wiIGEgY3VzdG9tIG9iamVjdFwiKTplLiRjKHQrXCIgXCIrbil9dmFyIHJ9ZnVuY3Rpb24gb3kodCxlLG4pe2lmKChlPW0oZSkpaW5zdGFuY2VvZiBtcClyZXR1cm4gZS5faW50ZXJuYWxQYXRoO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBheSh0LGUpO3Rocm93IHV5KFwiRmllbGQgcGF0aCBhcmd1bWVudHMgbXVzdCBiZSBvZiB0eXBlIHN0cmluZyBvciBGaWVsZFBhdGguXCIsdCwhMSx2b2lkIDAsbil9dmFyIHN5PW5ldyBSZWdFeHAoXCJbflxcXFwqL1xcXFxbXFxcXF1dXCIpO2Z1bmN0aW9uIGF5KGUsbixyKXtpZigwPD1uLnNlYXJjaChzeSkpdGhyb3cgdXkoXCJJbnZhbGlkIGZpZWxkIHBhdGggKFwiK24rXCIpLiBQYXRocyBtdXN0IG5vdCBjb250YWluICd+JywgJyonLCAnLycsICdbJywgb3IgJ10nXCIsZSwhMSx2b2lkIDAscik7dHJ5e3JldHVybihuZXcobXAuYmluZC5hcHBseShtcCxzKFt2b2lkIDBdLG4uc3BsaXQoXCIuXCIpKSkpKS5faW50ZXJuYWxQYXRofWNhdGNoKHQpe3Rocm93IHV5KFwiSW52YWxpZCBmaWVsZCBwYXRoIChcIituK1wiKS4gUGF0aHMgbXVzdCBub3QgYmUgZW1wdHksIGJlZ2luIHdpdGggJy4nLCBlbmQgd2l0aCAnLicsIG9yIGNvbnRhaW4gJy4uJ1wiLGUsITEsdm9pZCAwLHIpfX1mdW5jdGlvbiB1eSh0LGUsbixyLGkpe3ZhciBvPXImJiFyLmlzRW1wdHkoKSxzPXZvaWQgMCE9PWksZT1cIkZ1bmN0aW9uIFwiK2UrXCIoKSBjYWxsZWQgd2l0aCBpbnZhbGlkIGRhdGFcIjtuJiYoZSs9XCIgKHZpYSBgdG9GaXJlc3RvcmUoKWApXCIpO249XCJcIjtyZXR1cm4ob3x8cykmJihuKz1cIiAoZm91bmRcIixvJiYobis9XCIgaW4gZmllbGQgXCIrcikscyYmKG4rPVwiIGluIGRvY3VtZW50IFwiK2kpLG4rPVwiKVwiKSxuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCwoZSs9XCIuIFwiKSt0K24pfWZ1bmN0aW9uIGN5KHQsZSl7cmV0dXJuIHQuc29tZShmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0VxdWFsKGUpfSl9dmFyIGh5LGx5PShPYmplY3QuZGVmaW5lUHJvcGVydHkocHkucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleS5wYXRoLmxhc3RTZWdtZW50KCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHB5LnByb3RvdHlwZSxcInJlZlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEhkKHRoaXMuX2ZpcmVzdG9yZSx0aGlzLl9jb252ZXJ0ZXIsdGhpcy5fa2V5KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxweS5wcm90b3R5cGUuZXhpc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLl9kb2N1bWVudH0scHkucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24oKXtpZih0aGlzLl9kb2N1bWVudCl7aWYodGhpcy5fY29udmVydGVyKXt2YXIgdD1uZXcgZnkodGhpcy5fZmlyZXN0b3JlLHRoaXMuX3VzZXJEYXRhV3JpdGVyLHRoaXMuX2tleSx0aGlzLl9kb2N1bWVudCxudWxsKTtyZXR1cm4gdGhpcy5fY29udmVydGVyLmZyb21GaXJlc3RvcmUodCl9cmV0dXJuIHRoaXMuX3VzZXJEYXRhV3JpdGVyLmNvbnZlcnRWYWx1ZSh0aGlzLl9kb2N1bWVudC5kYXRhLnRvUHJvdG8oKSl9fSxweS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2RvY3VtZW50KXt0PXRoaXMuX2RvY3VtZW50LmRhdGEuZmllbGQoeXkoXCJEb2N1bWVudFNuYXBzaG90LmdldFwiLHQpKTtpZihudWxsIT09dClyZXR1cm4gdGhpcy5fdXNlckRhdGFXcml0ZXIuY29udmVydFZhbHVlKHQpfX0scHkpLGZ5PShuKGR5LGh5PWx5KSxkeS5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbigpe3JldHVybiBoeS5wcm90b3R5cGUuZGF0YS5jYWxsKHRoaXMpfSxkeSk7ZnVuY3Rpb24gZHkoKXtyZXR1cm4gbnVsbCE9PWh5JiZoeS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9ZnVuY3Rpb24gcHkodCxlLG4scixpKXt0aGlzLl9maXJlc3RvcmU9dCx0aGlzLl91c2VyRGF0YVdyaXRlcj1lLHRoaXMuX2tleT1uLHRoaXMuX2RvY3VtZW50PXIsdGhpcy5fY29udmVydGVyPWl9ZnVuY3Rpb24geXkodCxlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9heSh0LGUpOihlIGluc3RhbmNlb2YgbXA/ZTplLl9kZWxlZ2F0ZSkuX2ludGVybmFsUGF0aH12YXIgZ3ksbXksdnk9KFN5LnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhc1BlbmRpbmdXcml0ZXM9PT10Lmhhc1BlbmRpbmdXcml0ZXMmJnRoaXMuZnJvbUNhY2hlPT09dC5mcm9tQ2FjaGV9LFN5KSxieT0obihfeSxteT1seSksX3kucHJvdG90eXBlLmV4aXN0cz1mdW5jdGlvbigpe3JldHVybiBteS5wcm90b3R5cGUuZXhpc3RzLmNhbGwodGhpcyl9LF95LnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQmJih0PXt9KSx0aGlzLl9kb2N1bWVudCl7aWYodGhpcy5fY29udmVydGVyKXt2YXIgZT1uZXcgd3kodGhpcy5fZmlyZXN0b3JlLHRoaXMuX3VzZXJEYXRhV3JpdGVyLHRoaXMuX2tleSx0aGlzLl9kb2N1bWVudCx0aGlzLm1ldGFkYXRhLG51bGwpO3JldHVybiB0aGlzLl9jb252ZXJ0ZXIuZnJvbUZpcmVzdG9yZShlLHQpfXJldHVybiB0aGlzLl91c2VyRGF0YVdyaXRlci5jb252ZXJ0VmFsdWUodGhpcy5fZG9jdW1lbnQuZGF0YS50b1Byb3RvKCksdC5zZXJ2ZXJUaW1lc3RhbXBzKX19LF95LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT17fSksdGhpcy5fZG9jdW1lbnQpe3Q9dGhpcy5fZG9jdW1lbnQuZGF0YS5maWVsZCh5eShcIkRvY3VtZW50U25hcHNob3QuZ2V0XCIsdCkpO2lmKG51bGwhPT10KXJldHVybiB0aGlzLl91c2VyRGF0YVdyaXRlci5jb252ZXJ0VmFsdWUodCxlLnNlcnZlclRpbWVzdGFtcHMpfX0sX3kpLHd5PShuKFR5LGd5PWJ5KSxUeS5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLGd5LnByb3RvdHlwZS5kYXRhLmNhbGwodGhpcyx0KX0sVHkpLEl5PShPYmplY3QuZGVmaW5lUHJvcGVydHkoRXkucHJvdG90eXBlLFwiZG9jc1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLnB1c2godCl9KSxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeS5wcm90b3R5cGUsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zbmFwc2hvdC5kb2NzLnNpemV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEV5LnByb3RvdHlwZSxcImVtcHR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5zaXplfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLEV5LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpczt0aGlzLl9zbmFwc2hvdC5kb2NzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5jYWxsKG4sbmV3IHd5KHIuX2ZpcmVzdG9yZSxyLl91c2VyRGF0YVdyaXRlcix0LmtleSx0LG5ldyB2eShyLl9zbmFwc2hvdC5tdXRhdGVkS2V5cy5oYXModC5rZXkpLHIuX3NuYXBzaG90LmZyb21DYWNoZSksci5xdWVyeS5fY29udmVydGVyKSl9KX0sRXkucHJvdG90eXBlLmRvY0NoYW5nZXM9ZnVuY3Rpb24odCl7dD0hISh0PXZvaWQgMD09PXQ/e306dCkuaW5jbHVkZU1ldGFkYXRhQ2hhbmdlcztpZih0JiZ0aGlzLl9zbmFwc2hvdC5leGNsdWRlc01ldGFkYXRhQ2hhbmdlcyl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIlRvIGluY2x1ZGUgbWV0YWRhdGEgY2hhbmdlcyB3aXRoIHlvdXIgZG9jdW1lbnQgY2hhbmdlcywgeW91IG11c3QgYWxzbyBwYXNzIHsgaW5jbHVkZU1ldGFkYXRhQ2hhbmdlczp0cnVlIH0gdG8gb25TbmFwc2hvdCgpLlwiKTtyZXR1cm4gdGhpcy5fY2FjaGVkQ2hhbmdlcyYmdGhpcy5fY2FjaGVkQ2hhbmdlc0luY2x1ZGVNZXRhZGF0YUNoYW5nZXM9PT10fHwodGhpcy5fY2FjaGVkQ2hhbmdlcz1mdW5jdGlvbihpLGUpe2lmKGkuX3NuYXBzaG90Lm9sZERvY3MuaXNFbXB0eSgpKXt2YXIgbj0wO3JldHVybiBpLl9zbmFwc2hvdC5kb2NDaGFuZ2VzLm1hcChmdW5jdGlvbih0KXt2YXIgZT1uZXcgd3koaS5fZmlyZXN0b3JlLGkuX3VzZXJEYXRhV3JpdGVyLHQuZG9jLmtleSx0LmRvYyxuZXcgdnkoaS5fc25hcHNob3QubXV0YXRlZEtleXMuaGFzKHQuZG9jLmtleSksaS5fc25hcHNob3QuZnJvbUNhY2hlKSxpLnF1ZXJ5Ll9jb252ZXJ0ZXIpO3JldHVybiB0LmRvYyx7dHlwZTpcImFkZGVkXCIsZG9jOmUsb2xkSW5kZXg6LTEsbmV3SW5kZXg6bisrfX0pfXZhciBvPWkuX3NuYXBzaG90Lm9sZERvY3M7cmV0dXJuIGkuX3NuYXBzaG90LmRvY0NoYW5nZXMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBlfHwzIT09dC50eXBlfSkubWFwKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB3eShpLl9maXJlc3RvcmUsaS5fdXNlckRhdGFXcml0ZXIsdC5kb2Mua2V5LHQuZG9jLG5ldyB2eShpLl9zbmFwc2hvdC5tdXRhdGVkS2V5cy5oYXModC5kb2Mua2V5KSxpLl9zbmFwc2hvdC5mcm9tQ2FjaGUpLGkucXVlcnkuX2NvbnZlcnRlciksbj0tMSxyPS0xO3JldHVybiAwIT09dC50eXBlJiYobj1vLmluZGV4T2YodC5kb2Mua2V5KSxvPW8uZGVsZXRlKHQuZG9jLmtleSkpLDEhPT10LnR5cGUmJihyPShvPW8uYWRkKHQuZG9jKSkuaW5kZXhPZih0LmRvYy5rZXkpKSx7dHlwZTpmdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSAwOnJldHVyblwiYWRkZWRcIjtjYXNlIDI6Y2FzZSAzOnJldHVyblwibW9kaWZpZWRcIjtjYXNlIDE6cmV0dXJuXCJyZW1vdmVkXCI7ZGVmYXVsdDpyZXR1cm4gTXIoKX19KHQudHlwZSksZG9jOmUsb2xkSW5kZXg6bixuZXdJbmRleDpyfX0pfSh0aGlzLHQpLHRoaXMuX2NhY2hlZENoYW5nZXNJbmNsdWRlTWV0YWRhdGFDaGFuZ2VzPXQpLHRoaXMuX2NhY2hlZENoYW5nZXN9LEV5KTtmdW5jdGlvbiBFeSh0LGUsbixyKXt0aGlzLl9maXJlc3RvcmU9dCx0aGlzLl91c2VyRGF0YVdyaXRlcj1lLHRoaXMuX3NuYXBzaG90PXIsdGhpcy5tZXRhZGF0YT1uZXcgdnkoci5oYXNQZW5kaW5nV3JpdGVzLHIuZnJvbUNhY2hlKSx0aGlzLnF1ZXJ5PW59ZnVuY3Rpb24gVHkoKXtyZXR1cm4gbnVsbCE9PWd5JiZneS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9ZnVuY3Rpb24gX3kodCxlLG4scixpLG8pe3ZhciBzPXRoaXM7cmV0dXJuKHM9bXkuY2FsbCh0aGlzLHQsZSxuLHIsbyl8fHRoaXMpLl9maXJlc3RvcmU9dCxzLl9maXJlc3RvcmVJbXBsPXQscy5tZXRhZGF0YT1pLHN9ZnVuY3Rpb24gU3kodCxlKXt0aGlzLmhhc1BlbmRpbmdXcml0ZXM9dCx0aGlzLmZyb21DYWNoZT1lfWZ1bmN0aW9uIE55KHQsZSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBieSYmZSBpbnN0YW5jZW9mIGJ5P3QuX2ZpcmVzdG9yZT09PWUuX2ZpcmVzdG9yZSYmdC5fa2V5LmlzRXF1YWwoZS5fa2V5KSYmKG51bGw9PT10Ll9kb2N1bWVudD9udWxsPT09ZS5fZG9jdW1lbnQ6dC5fZG9jdW1lbnQuaXNFcXVhbChlLl9kb2N1bWVudCkpJiZ0Ll9jb252ZXJ0ZXI9PT1lLl9jb252ZXJ0ZXI6dCBpbnN0YW5jZW9mIEl5JiZlIGluc3RhbmNlb2YgSXkmJnQuX2ZpcmVzdG9yZT09PWUuX2ZpcmVzdG9yZSYmaXAodC5xdWVyeSxlLnF1ZXJ5KSYmdC5tZXRhZGF0YS5pc0VxdWFsKGUubWV0YWRhdGEpJiZ0Ll9zbmFwc2hvdC5pc0VxdWFsKGUuX3NuYXBzaG90KX1mdW5jdGlvbiBEeSh0KXtpZihJbyh0KSYmMD09PXQuZXhwbGljaXRPcmRlckJ5Lmxlbmd0aCl0aHJvdyBuZXcgQXIoRHIuVU5JTVBMRU1FTlRFRCxcImxpbWl0VG9MYXN0KCkgcXVlcmllcyByZXF1aXJlIHNwZWNpZnlpbmcgYXQgbGVhc3Qgb25lIG9yZGVyQnkoKSBjbGF1c2VcIil9VGU9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIEF5KHQpe2Zvcih2YXIgZT1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW24tMV09YXJndW1lbnRzW25dO2Zvcih2YXIgcj0wLGk9ZTtyPGkubGVuZ3RoO3IrKyl0PWlbcl0uX2FwcGx5KHQpO3JldHVybiB0fXZhciBreSxDeSxSeSx4eSxPeSxMeT0obihLeSxPeT1UZSksS3kucHJvdG90eXBlLl9hcHBseT1mdW5jdGlvbih0KXt2YXIgZT1McCh0LmZpcmVzdG9yZSksZT1mdW5jdGlvbih0LGUsbixyLGksbyl7aWYoci5pc0tleUZpZWxkKCkpe2lmKFwiYXJyYXktY29udGFpbnNcIj09PWl8fFwiYXJyYXktY29udGFpbnMtYW55XCI9PT1pKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBRdWVyeS4gWW91IGNhbid0IHBlcmZvcm0gJ1wiK2krXCInIHF1ZXJpZXMgb24gRmllbGRQYXRoLmRvY3VtZW50SWQoKS5cIik7aWYoXCJpblwiPT09aXx8XCJub3QtaW5cIj09PWkpe3p5KG8saSk7Zm9yKHZhciBzPVtdLGE9MCx1PW87YTx1Lmxlbmd0aDthKyspe3ZhciBjPXVbYV07cy5wdXNoKFF5KG4sdCxjKSl9aD17YXJyYXlWYWx1ZTp7dmFsdWVzOnN9fX1lbHNlIGg9UXkobix0LG8pfWVsc2VcImluXCIhPT1pJiZcIm5vdC1pblwiIT09aSYmXCJhcnJheS1jb250YWlucy1hbnlcIiE9PWl8fHp5KG8saSksaD10eShlLFwid2hlcmVcIixvLFwiaW5cIj09PWl8fFwibm90LWluXCI9PT1pKTt2YXIgaD1CaS5jcmVhdGUocixpLGgpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUuZygpKXt2YXIgbj1Ubyh0KTtpZihudWxsIT09biYmIW4uaXNFcXVhbChlLmZpZWxkKSl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIEFsbCB3aGVyZSBmaWx0ZXJzIHdpdGggYW4gaW5lcXVhbGl0eSAoPCwgPD0sICE9LCBub3QtaW4sID4sIG9yID49KSBtdXN0IGJlIG9uIHRoZSBzYW1lIGZpZWxkLiBCdXQgeW91IGhhdmUgaW5lcXVhbGl0eSBmaWx0ZXJzIG9uICdcIituLnRvU3RyaW5nKCkrXCInIGFuZCAnXCIrZS5maWVsZC50b1N0cmluZygpK1wiJ1wiKTtuPUVvKHQpO251bGwhPT1uJiZIeSgwLGUuZmllbGQsbil9dD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9dC5maWx0ZXJzO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dO2lmKDA8PWUuaW5kZXhPZihpLm9wKSlyZXR1cm4gaS5vcH1yZXR1cm4gbnVsbH0odCxmdW5jdGlvbigpe3N3aXRjaChlLm9wKXtjYXNlXCIhPVwiOnJldHVybltcIiE9XCIsXCJub3QtaW5cIl07Y2FzZVwiYXJyYXktY29udGFpbnNcIjpyZXR1cm5bXCJhcnJheS1jb250YWluc1wiLFwiYXJyYXktY29udGFpbnMtYW55XCIsXCJub3QtaW5cIl07Y2FzZVwiaW5cIjpyZXR1cm5bXCJhcnJheS1jb250YWlucy1hbnlcIixcImluXCIsXCJub3QtaW5cIl07Y2FzZVwiYXJyYXktY29udGFpbnMtYW55XCI6cmV0dXJuW1wiYXJyYXktY29udGFpbnNcIixcImFycmF5LWNvbnRhaW5zLWFueVwiLFwiaW5cIixcIm5vdC1pblwiXTtjYXNlXCJub3QtaW5cIjpyZXR1cm5bXCJhcnJheS1jb250YWluc1wiLFwiYXJyYXktY29udGFpbnMtYW55XCIsXCJpblwiLFwibm90LWluXCIsXCIhPVwiXTtkZWZhdWx0OnJldHVybltdfX0oKSk7aWYobnVsbCE9PXQpdGhyb3cgdD09PWUub3A/bmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIHF1ZXJ5LiBZb3UgY2Fubm90IHVzZSBtb3JlIHRoYW4gb25lICdcIitlLm9wLnRvU3RyaW5nKCkrXCInIGZpbHRlci5cIik6bmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIHF1ZXJ5LiBZb3UgY2Fubm90IHVzZSAnXCIrZS5vcC50b1N0cmluZygpK1wiJyBmaWx0ZXJzIHdpdGggJ1wiK3QudG9TdHJpbmcoKStcIicgZmlsdGVycy5cIil9KHQsaCksaH0odC5fcXVlcnksZSx0LmZpcmVzdG9yZS5fZGF0YWJhc2VJZCx0aGlzLlFjLHRoaXMuS2MsdGhpcy5qYyk7cmV0dXJuIG5ldyBXZCh0LmZpcmVzdG9yZSx0Ll9jb252ZXJ0ZXIsKHQ9dC5fcXVlcnksZT10LmZpbHRlcnMuY29uY2F0KFtlXSksbmV3IG1vKHQucGF0aCx0LmNvbGxlY3Rpb25Hcm91cCx0LmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLGUsdC5saW1pdCx0LmxpbWl0VHlwZSx0LnN0YXJ0QXQsdC5lbmRBdCkpKX0sS3kpLFB5PShuKGp5LHh5PVRlKSxqeS5wcm90b3R5cGUuX2FwcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSxuKXtpZihudWxsIT09dC5zdGFydEF0KXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gWW91IG11c3Qgbm90IGNhbGwgc3RhcnRBdCgpIG9yIHN0YXJ0QWZ0ZXIoKSBiZWZvcmUgY2FsbGluZyBvcmRlckJ5KCkuXCIpO2lmKG51bGwhPT10LmVuZEF0KXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gWW91IG11c3Qgbm90IGNhbGwgZW5kQXQoKSBvciBlbmRCZWZvcmUoKSBiZWZvcmUgY2FsbGluZyBvcmRlckJ5KCkuXCIpO3ZhciByPW5ldyBwbyhlLG4pO3JldHVybiBlPXIsbnVsbCE9PUVvKG49dCl8fG51bGwhPT0odD1UbyhuKSkmJkh5KDAsdCxlLmZpZWxkKSxyfSh0Ll9xdWVyeSx0aGlzLlFjLHRoaXMuV2MpO3JldHVybiBuZXcgV2QodC5maXJlc3RvcmUsdC5fY29udmVydGVyLCh0PXQuX3F1ZXJ5LGU9dC5leHBsaWNpdE9yZGVyQnkuY29uY2F0KFtlXSksbmV3IG1vKHQucGF0aCx0LmNvbGxlY3Rpb25Hcm91cCxlLHQuZmlsdGVycy5zbGljZSgpLHQubGltaXQsdC5saW1pdFR5cGUsdC5zdGFydEF0LHQuZW5kQXQpKSl9LGp5KSxNeT0obihCeSxSeT1UZSksQnkucHJvdG90eXBlLl9hcHBseT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFdkKHQuZmlyZXN0b3JlLHQuX2NvbnZlcnRlcixEbyh0Ll9xdWVyeSx0aGlzLkdjLHRoaXMuemMpKX0sQnkpLEZ5PShuKHF5LEN5PVRlKSxxeS5wcm90b3R5cGUuX2FwcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPUd5KHQsdGhpcy50eXBlLHRoaXMuSGMsdGhpcy5KYyk7cmV0dXJuIG5ldyBXZCh0LmZpcmVzdG9yZSx0Ll9jb252ZXJ0ZXIsKHQ9dC5fcXVlcnksZT1lLG5ldyBtbyh0LnBhdGgsdC5jb2xsZWN0aW9uR3JvdXAsdC5leHBsaWNpdE9yZGVyQnkuc2xpY2UoKSx0LmZpbHRlcnMuc2xpY2UoKSx0LmxpbWl0LHQubGltaXRUeXBlLGUsdC5lbmRBdCkpKX0scXkpLFZ5PShuKFV5LGt5PVRlKSxVeS5wcm90b3R5cGUuX2FwcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPUd5KHQsdGhpcy50eXBlLHRoaXMuSGMsdGhpcy5KYyk7cmV0dXJuIG5ldyBXZCh0LmZpcmVzdG9yZSx0Ll9jb252ZXJ0ZXIsKHQ9dC5fcXVlcnksZT1lLG5ldyBtbyh0LnBhdGgsdC5jb2xsZWN0aW9uR3JvdXAsdC5leHBsaWNpdE9yZGVyQnkuc2xpY2UoKSx0LmZpbHRlcnMuc2xpY2UoKSx0LmxpbWl0LHQubGltaXRUeXBlLHQuc3RhcnRBdCxlKSkpfSxVeSk7ZnVuY3Rpb24gVXkodCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuKHI9a3kuY2FsbCh0aGlzKXx8dGhpcykudHlwZT10LHIuSGM9ZSxyLkpjPW4scn1mdW5jdGlvbiBxeSh0LGUsbil7dmFyIHI9dGhpcztyZXR1cm4ocj1DeS5jYWxsKHRoaXMpfHx0aGlzKS50eXBlPXQsci5IYz1lLHIuSmM9bixyfWZ1bmN0aW9uIEJ5KHQsZSxuKXt2YXIgcj10aGlzO3JldHVybihyPVJ5LmNhbGwodGhpcyl8fHRoaXMpLnR5cGU9dCxyLkdjPWUsci56Yz1uLHJ9ZnVuY3Rpb24gankodCxlKXt2YXIgbj10aGlzO3JldHVybihuPXh5LmNhbGwodGhpcyl8fHRoaXMpLlFjPXQsbi5XYz1lLG4udHlwZT1cIm9yZGVyQnlcIixufWZ1bmN0aW9uIEt5KHQsZSxuKXt2YXIgcj10aGlzO3JldHVybihyPU95LmNhbGwodGhpcyl8fHRoaXMpLlFjPXQsci5LYz1lLHIuamM9bixyLnR5cGU9XCJ3aGVyZVwiLHJ9ZnVuY3Rpb24gR3kodCxjLGUsbil7aWYoZVswXT1tKGVbMF0pLGVbMF1pbnN0YW5jZW9mIGx5KXJldHVybiBmdW5jdGlvbih0LGUsbixyKXtpZighbil0aHJvdyBuZXcgQXIoRHIuTk9UX0ZPVU5ELFwiQ2FuJ3QgdXNlIGEgRG9jdW1lbnRTbmFwc2hvdCB0aGF0IGRvZXNuJ3QgZXhpc3QgZm9yIFwiK2MrXCIoKS5cIik7Zm9yKHZhciBpPVtdLG89MCxzPVNvKHQpO288cy5sZW5ndGg7bysrKXt2YXIgYT1zW29dO2lmKGEuZmllbGQuaXNLZXlGaWVsZCgpKWkucHVzaChTaShlLG4ua2V5KSk7ZWxzZXt2YXIgdT1uLmRhdGEuZmllbGQoYS5maWVsZCk7aWYoZmkodSkpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsJ0ludmFsaWQgcXVlcnkuIFlvdSBhcmUgdHJ5aW5nIHRvIHN0YXJ0IG9yIGVuZCBhIHF1ZXJ5IHVzaW5nIGEgZG9jdW1lbnQgZm9yIHdoaWNoIHRoZSBmaWVsZCBcIicrYS5maWVsZCsnXCIgaXMgYW4gdW5jb21taXR0ZWQgc2VydmVyIHRpbWVzdGFtcC4gKFNpbmNlIHRoZSB2YWx1ZSBvZiB0aGlzIGZpZWxkIGlzIHVua25vd24sIHlvdSBjYW5ub3Qgc3RhcnQvZW5kIGEgcXVlcnkgd2l0aCBpdC4pJyk7aWYobnVsbD09PXUpe2E9YS5maWVsZC5jYW5vbmljYWxTdHJpbmcoKTt0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFlvdSBhcmUgdHJ5aW5nIHRvIHN0YXJ0IG9yIGVuZCBhIHF1ZXJ5IHVzaW5nIGEgZG9jdW1lbnQgZm9yIHdoaWNoIHRoZSBmaWVsZCAnXCIrYStcIicgKHVzZWQgYXMgdGhlIG9yZGVyQnkpIGRvZXMgbm90IGV4aXN0LlwiKX1pLnB1c2godSl9fXJldHVybiBuZXcgYW8oaSxyKX0odC5fcXVlcnksdC5maXJlc3RvcmUuX2RhdGFiYXNlSWQsZVswXS5fZG9jdW1lbnQsbik7dmFyIHI9THAodC5maXJlc3RvcmUpO3JldHVybiBmdW5jdGlvbih0LGUsbixyLGksbyl7dmFyIHM9dC5leHBsaWNpdE9yZGVyQnk7aWYoaS5sZW5ndGg+cy5sZW5ndGgpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJUb28gbWFueSBhcmd1bWVudHMgcHJvdmlkZWQgdG8gXCIrcitcIigpLiBUaGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgbnVtYmVyIG9mIG9yZGVyQnkoKSBjbGF1c2VzXCIpO2Zvcih2YXIgYT1bXSx1PTA7dTxpLmxlbmd0aDt1Kyspe3ZhciBjPWlbdV07aWYoc1t1XS5maWVsZC5pc0tleUZpZWxkKCkpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBjKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gRXhwZWN0ZWQgYSBzdHJpbmcgZm9yIGRvY3VtZW50IElEIGluIFwiK3IrXCIoKSwgYnV0IGdvdCBhIFwiK3R5cGVvZiBjKTtpZighX28odCkmJi0xIT09Yy5pbmRleE9mKFwiL1wiKSl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgYSBjb2xsZWN0aW9uIGFuZCBvcmRlcmluZyBieSBGaWVsZFBhdGguZG9jdW1lbnRJZCgpLCB0aGUgdmFsdWUgcGFzc2VkIHRvIFwiK3IrXCIoKSBtdXN0IGJlIGEgcGxhaW4gZG9jdW1lbnQgSUQsIGJ1dCAnXCIrYytcIicgY29udGFpbnMgYSBzbGFzaC5cIik7dmFyIGg9dC5wYXRoLmNoaWxkKCRyLmZyb21TdHJpbmcoYykpO2lmKCFtaS5pc0RvY3VtZW50S2V5KGgpKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyBhIGNvbGxlY3Rpb24gZ3JvdXAgYW5kIG9yZGVyaW5nIGJ5IEZpZWxkUGF0aC5kb2N1bWVudElkKCksIHRoZSB2YWx1ZSBwYXNzZWQgdG8gXCIrcitcIigpIG11c3QgcmVzdWx0IGluIGEgdmFsaWQgZG9jdW1lbnQgcGF0aCwgYnV0ICdcIitoK1wiJyBpcyBub3QgYmVjYXVzZSBpdCBjb250YWlucyBhbiBvZGQgbnVtYmVyIG9mIHNlZ21lbnRzLlwiKTtoPW5ldyBtaShoKTthLnB1c2goU2koZSxoKSl9ZWxzZXtjPXR5KG4scixjKTthLnB1c2goYyl9fXJldHVybiBuZXcgYW8oYSxvKX0odC5fcXVlcnksdC5maXJlc3RvcmUuX2RhdGFiYXNlSWQscixjLGUsbil9ZnVuY3Rpb24gUXkodCxlLG4pe2lmKFwic3RyaW5nXCI9PXR5cGVvZihuPW0obikpKXtpZihcIlwiPT09bil0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgd2l0aCBGaWVsZFBhdGguZG9jdW1lbnRJZCgpLCB5b3UgbXVzdCBwcm92aWRlIGEgdmFsaWQgZG9jdW1lbnQgSUQsIGJ1dCBpdCB3YXMgYW4gZW1wdHkgc3RyaW5nLlwiKTtpZighX28oZSkmJi0xIT09bi5pbmRleE9mKFwiL1wiKSl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgYSBjb2xsZWN0aW9uIGJ5IEZpZWxkUGF0aC5kb2N1bWVudElkKCksIHlvdSBtdXN0IHByb3ZpZGUgYSBwbGFpbiBkb2N1bWVudCBJRCwgYnV0ICdcIituK1wiJyBjb250YWlucyBhICcvJyBjaGFyYWN0ZXIuXCIpO2U9ZS5wYXRoLmNoaWxkKCRyLmZyb21TdHJpbmcobikpO2lmKCFtaS5pc0RvY3VtZW50S2V5KGUpKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyBhIGNvbGxlY3Rpb24gZ3JvdXAgYnkgRmllbGRQYXRoLmRvY3VtZW50SWQoKSwgdGhlIHZhbHVlIHByb3ZpZGVkIG11c3QgcmVzdWx0IGluIGEgdmFsaWQgZG9jdW1lbnQgcGF0aCwgYnV0ICdcIitlK1wiJyBpcyBub3QgYmVjYXVzZSBpdCBoYXMgYW4gb2RkIG51bWJlciBvZiBzZWdtZW50cyAoXCIrZS5sZW5ndGgrXCIpLlwiKTtyZXR1cm4gU2kodCxuZXcgbWkoZSkpfWlmKG4gaW5zdGFuY2VvZiBIZClyZXR1cm4gU2kodCxuLl9rZXkpO3Rocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyB3aXRoIEZpZWxkUGF0aC5kb2N1bWVudElkKCksIHlvdSBtdXN0IHByb3ZpZGUgYSB2YWxpZCBzdHJpbmcgb3IgYSBEb2N1bWVudFJlZmVyZW5jZSwgYnV0IGl0IHdhczogXCIrQmQobikrXCIuXCIpfWZ1bmN0aW9uIHp5KHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCl8fDA9PT10Lmxlbmd0aCl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgUXVlcnkuIEEgbm9uLWVtcHR5IGFycmF5IGlzIHJlcXVpcmVkIGZvciAnXCIrZS50b1N0cmluZygpK1wiJyBmaWx0ZXJzLlwiKTtpZigxMDx0Lmxlbmd0aCl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgUXVlcnkuICdcIitlLnRvU3RyaW5nKCkrXCInIGZpbHRlcnMgc3VwcG9ydCBhIG1heGltdW0gb2YgMTAgZWxlbWVudHMgaW4gdGhlIHZhbHVlIGFycmF5LlwiKX1mdW5jdGlvbiBIeSh0LGUsbil7aWYoIW4uaXNFcXVhbChlKSl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFlvdSBoYXZlIGEgd2hlcmUgZmlsdGVyIHdpdGggYW4gaW5lcXVhbGl0eSAoPCwgPD0sICE9LCBub3QtaW4sID4sIG9yID49KSBvbiBmaWVsZCAnXCIrZS50b1N0cmluZygpK1wiJyBhbmQgc28geW91IG11c3QgYWxzbyB1c2UgJ1wiK2UudG9TdHJpbmcoKStcIicgYXMgeW91ciBmaXJzdCBhcmd1bWVudCB0byBvcmRlckJ5KCksIGJ1dCB5b3VyIGZpcnN0IG9yZGVyQnkoKSBpcyBvbiBmaWVsZCAnXCIrbi50b1N0cmluZygpK1wiJyBpbnN0ZWFkLlwiKX1XeS5wcm90b3R5cGUuY29udmVydFZhbHVlPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHZvaWQgMD09PWUmJihlPVwibm9uZVwiKSxiaSh0KSl7Y2FzZSAwOnJldHVybiBudWxsO2Nhc2UgMTpyZXR1cm4gdC5ib29sZWFuVmFsdWU7Y2FzZSAyOnJldHVybiBoaSh0LmludGVnZXJWYWx1ZXx8dC5kb3VibGVWYWx1ZSk7Y2FzZSAzOnJldHVybiB0aGlzLmNvbnZlcnRUaW1lc3RhbXAodC50aW1lc3RhbXBWYWx1ZSk7Y2FzZSA0OnJldHVybiB0aGlzLmNvbnZlcnRTZXJ2ZXJUaW1lc3RhbXAodCxlKTtjYXNlIDU6cmV0dXJuIHQuc3RyaW5nVmFsdWU7Y2FzZSA2OnJldHVybiB0aGlzLmNvbnZlcnRCeXRlcyhsaSh0LmJ5dGVzVmFsdWUpKTtjYXNlIDc6cmV0dXJuIHRoaXMuY29udmVydFJlZmVyZW5jZSh0LnJlZmVyZW5jZVZhbHVlKTtjYXNlIDg6cmV0dXJuIHRoaXMuY29udmVydEdlb1BvaW50KHQuZ2VvUG9pbnRWYWx1ZSk7Y2FzZSA5OnJldHVybiB0aGlzLmNvbnZlcnRBcnJheSh0LmFycmF5VmFsdWUsZSk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5jb252ZXJ0T2JqZWN0KHQubWFwVmFsdWUsZSk7ZGVmYXVsdDp0aHJvdyBNcigpfX0sV3kucHJvdG90eXBlLmNvbnZlcnRPYmplY3Q9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzLGk9e307cmV0dXJuIFdyKHQuZmllbGRzfHx7fSxmdW5jdGlvbih0LGUpe2lbdF09ci5jb252ZXJ0VmFsdWUoZSxuKX0pLGl9LFd5LnByb3RvdHlwZS5jb252ZXJ0R2VvUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB3cChoaSh0LmxhdGl0dWRlKSxoaSh0LmxvbmdpdHVkZSkpfSxXeS5wcm90b3R5cGUuY29udmVydEFycmF5PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4odC52YWx1ZXN8fFtdKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG4uY29udmVydFZhbHVlKHQsZSl9KX0sV3kucHJvdG90eXBlLmNvbnZlcnRTZXJ2ZXJUaW1lc3RhbXA9ZnVuY3Rpb24odCxlKXtzd2l0Y2goZSl7Y2FzZVwicHJldmlvdXNcIjp2YXIgbj1mdW5jdGlvbiB0KGUpe2U9ZS5tYXBWYWx1ZS5maWVsZHMuX19wcmV2aW91c192YWx1ZV9fO3JldHVybiBmaShlKT90KGUpOmV9KHQpO3JldHVybiBudWxsPT1uP251bGw6dGhpcy5jb252ZXJ0VmFsdWUobixlKTtjYXNlXCJlc3RpbWF0ZVwiOnJldHVybiB0aGlzLmNvbnZlcnRUaW1lc3RhbXAoZGkodCkpO2RlZmF1bHQ6cmV0dXJuIG51bGx9fSxXeS5wcm90b3R5cGUuY29udmVydFRpbWVzdGFtcD1mdW5jdGlvbih0KXt0PWNpKHQpO3JldHVybiBuZXcgS3IodC5zZWNvbmRzLHQubmFub3MpfSxXeS5wcm90b3R5cGUuY29udmVydERvY3VtZW50S2V5PWZ1bmN0aW9uKHQsZSl7dmFyIG49JHIuZnJvbVN0cmluZyh0KTtGcihrYShuKSk7dD1uZXcgU2Qobi5nZXQoMSksbi5nZXQoMykpLG49bmV3IG1pKG4ucG9wRmlyc3QoNSkpO3JldHVybiB0LmlzRXF1YWwoZSl8fE9yKFwiRG9jdW1lbnQgXCIrbitcIiBjb250YWlucyBhIGRvY3VtZW50IHJlZmVyZW5jZSB3aXRoaW4gYSBkaWZmZXJlbnQgZGF0YWJhc2UgKFwiK3QucHJvamVjdElkK1wiL1wiK3QuZGF0YWJhc2UrXCIpIHdoaWNoIGlzIG5vdCBzdXBwb3J0ZWQuIEl0IHdpbGwgYmUgdHJlYXRlZCBhcyBhIHJlZmVyZW5jZSBpbiB0aGUgY3VycmVudCBkYXRhYmFzZSAoXCIrZS5wcm9qZWN0SWQrXCIvXCIrZS5kYXRhYmFzZStcIikgaW5zdGVhZC5cIiksbn0sST1XeTtmdW5jdGlvbiBXeSgpe31mdW5jdGlvbiBZeSh0LGUsbil7cmV0dXJuIHQ/biYmKG4ubWVyZ2V8fG4ubWVyZ2VGaWVsZHMpP3QudG9GaXJlc3RvcmUoZSxuKTp0LnRvRmlyZXN0b3JlKGUpOmV9dmFyIFh5LEp5PShuKHRnLFh5PUkpLHRnLnByb3RvdHlwZS5jb252ZXJ0Qnl0ZXM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB2cCh0KX0sdGcucHJvdG90eXBlLmNvbnZlcnRSZWZlcmVuY2U9ZnVuY3Rpb24odCl7dD10aGlzLmNvbnZlcnREb2N1bWVudEtleSh0LHRoaXMuZmlyZXN0b3JlLl9kYXRhYmFzZUlkKTtyZXR1cm4gbmV3IEhkKHRoaXMuZmlyZXN0b3JlLG51bGwsdCl9LHRnKSwkeT0oWnkucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUsbil7dGhpcy5fdmVyaWZ5Tm90Q29tbWl0dGVkKCk7dD1lZyh0LHRoaXMuX2ZpcmVzdG9yZSksZT1ZeSh0Ll9jb252ZXJ0ZXIsZSxuKSxuPVBwKHRoaXMuX2RhdGFSZWFkZXIsXCJXcml0ZUJhdGNoLnNldFwiLHQuX2tleSxlLG51bGwhPT10Ll9jb252ZXJ0ZXIsbik7cmV0dXJuIHRoaXMuX211dGF0aW9ucy5wdXNoKG4udG9NdXRhdGlvbih0Ll9rZXksZXMubm9uZSgpKSksdGhpc30sWnkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPVtdLGk9MztpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXJbaS0zXT1hcmd1bWVudHNbaV07dGhpcy5fdmVyaWZ5Tm90Q29tbWl0dGVkKCk7dD1lZyh0LHRoaXMuX2ZpcmVzdG9yZSksZT1cInN0cmluZ1wiPT10eXBlb2YoZT1tKGUpKXx8ZSBpbnN0YW5jZW9mIG1wP1pwKHRoaXMuX2RhdGFSZWFkZXIsXCJXcml0ZUJhdGNoLnVwZGF0ZVwiLHQuX2tleSxlLG4scik6JHAodGhpcy5fZGF0YVJlYWRlcixcIldyaXRlQmF0Y2gudXBkYXRlXCIsdC5fa2V5LGUpO3JldHVybiB0aGlzLl9tdXRhdGlvbnMucHVzaChlLnRvTXV0YXRpb24odC5fa2V5LGVzLmV4aXN0cyghMCkpKSx0aGlzfSxaeS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3ZlcmlmeU5vdENvbW1pdHRlZCgpO3Q9ZWcodCx0aGlzLl9maXJlc3RvcmUpO3JldHVybiB0aGlzLl9tdXRhdGlvbnM9dGhpcy5fbXV0YXRpb25zLmNvbmNhdChuZXcgd3ModC5fa2V5LGVzLm5vbmUoKSkpLHRoaXN9LFp5LnByb3RvdHlwZS5jb21taXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmVyaWZ5Tm90Q29tbWl0dGVkKCksdGhpcy5fY29tbWl0dGVkPSEwLDA8dGhpcy5fbXV0YXRpb25zLmxlbmd0aD90aGlzLl9jb21taXRIYW5kbGVyKHRoaXMuX211dGF0aW9ucyk6UHJvbWlzZS5yZXNvbHZlKCl9LFp5LnByb3RvdHlwZS5fdmVyaWZ5Tm90Q29tbWl0dGVkPWZ1bmN0aW9uKCl7aWYodGhpcy5fY29tbWl0dGVkKXRocm93IG5ldyBBcihEci5GQUlMRURfUFJFQ09ORElUSU9OLFwiQSB3cml0ZSBiYXRjaCBjYW4gbm8gbG9uZ2VyIGJlIHVzZWQgYWZ0ZXIgY29tbWl0KCkgaGFzIGJlZW4gY2FsbGVkLlwiKX0sWnkpO2Z1bmN0aW9uIFp5KHQsZSl7dGhpcy5fZmlyZXN0b3JlPXQsdGhpcy5fY29tbWl0SGFuZGxlcj1lLHRoaXMuX211dGF0aW9ucz1bXSx0aGlzLl9jb21taXR0ZWQ9ITEsdGhpcy5fZGF0YVJlYWRlcj1McCh0KX1mdW5jdGlvbiB0Zyh0KXt2YXIgZT10aGlzO3JldHVybihlPVh5LmNhbGwodGhpcyl8fHRoaXMpLmZpcmVzdG9yZT10LGV9ZnVuY3Rpb24gZWcodCxlKXtpZigodD1tKHQpKS5maXJlc3RvcmUhPT1lKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiUHJvdmlkZWQgZG9jdW1lbnQgcmVmZXJlbmNlIGlzIGZyb20gYSBkaWZmZXJlbnQgRmlyZXN0b3JlIGluc3RhbmNlLlwiKTtyZXR1cm4gdH12YXIgbmcscmc9KG4oaWcsbmc9SSksaWcucHJvdG90eXBlLmNvbnZlcnRCeXRlcz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHZwKHQpfSxpZy5wcm90b3R5cGUuY29udmVydFJlZmVyZW5jZT1mdW5jdGlvbih0KXt0PXRoaXMuY29udmVydERvY3VtZW50S2V5KHQsdGhpcy5maXJlc3RvcmUuX2RhdGFiYXNlSWQpO3JldHVybiBuZXcgSGQodGhpcy5maXJlc3RvcmUsbnVsbCx0KX0saWcpO2Z1bmN0aW9uIGlnKHQpe3ZhciBlPXRoaXM7cmV0dXJuKGU9bmcuY2FsbCh0aGlzKXx8dGhpcykuZmlyZXN0b3JlPXQsZX1mdW5jdGlvbiBvZyh0LGUsbil7Zm9yKHZhciByPVtdLGk9MztpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXJbaS0zXT1hcmd1bWVudHNbaV07dD1qZCh0LEhkKTt2YXIgbz1qZCh0LmZpcmVzdG9yZSxocCkscz1McChvKTtyZXR1cm4gYWcobyxbKFwic3RyaW5nXCI9PXR5cGVvZihlPW0oZSkpfHxlIGluc3RhbmNlb2YgbXA/WnAocyxcInVwZGF0ZURvY1wiLHQuX2tleSxlLG4scik6JHAocyxcInVwZGF0ZURvY1wiLHQuX2tleSxlKSkudG9NdXRhdGlvbih0Ll9rZXksZXMuZXhpc3RzKCEwKSldKX1mdW5jdGlvbiBzZyhlKXtmb3IodmFyIG49W10sdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspblt0LTFdPWFyZ3VtZW50c1t0XTtlPW0oZSk7dmFyIHI9e2luY2x1ZGVNZXRhZGF0YUNoYW5nZXM6ITF9LGk9MDtcIm9iamVjdFwiIT10eXBlb2YgbltpXXx8YXAobltpXSl8fChyPW5baV0saSsrKTt2YXIgbyxzLGEsdSxjLGgsbD17aW5jbHVkZU1ldGFkYXRhQ2hhbmdlczpyLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXN9O3JldHVybiBhcChuW2ldKSYmKG89bltpXSxuW2ldPW51bGw9PT0ocj1vLm5leHQpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmJpbmQobyksbltpKzFdPW51bGw9PT0ocj1vLmVycm9yKXx8dm9pZCAwPT09cj92b2lkIDA6ci5iaW5kKG8pLG5baSsyXT1udWxsPT09KHI9by5jb21wbGV0ZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuYmluZChvKSksZSBpbnN0YW5jZW9mIEhkPyhhPWpkKGUuZmlyZXN0b3JlLGhwKSx1PWJvKGUuX2tleS5wYXRoKSxoPXtuZXh0OmZ1bmN0aW9uKHQpe25baV0mJm5baV0odWcoYSxlLHQpKX0sZXJyb3I6bltpKzFdLGNvbXBsZXRlOm5baSsyXX0pOihzPWpkKGUsV2QpLGE9amQocy5maXJlc3RvcmUsaHApLHU9cy5fcXVlcnksYz1uZXcgcmcoYSksaD17bmV4dDpmdW5jdGlvbih0KXtuW2ldJiZuW2ldKG5ldyBJeShhLGMscyx0KSl9LGVycm9yOm5baSsxXSxjb21wbGV0ZTpuW2krMl19LER5KGUuX3F1ZXJ5KSksZnVuY3Rpb24obix0LGUpe3ZhciByPXRoaXMsaT1uZXcgbmQoaCksbz1uZXcgYWYodCxpLGUpO3JldHVybiBuLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KHIsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1yZixbNCx3ZChuKV07Y2FzZSAxOnJldHVyblsyLGUuYXBwbHkodm9pZCAwLFt0LnNlbnQoKSxvXSldfX0pfSl9KSxmdW5jdGlvbigpe2kuV28oKSxuLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KHIsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1vZixbNCx3ZChuKV07Y2FzZSAxOnJldHVyblsyLGUuYXBwbHkodm9pZCAwLFt0LnNlbnQoKSxvXSldfX0pfSl9KX19KGRwKGEpLHUsbCl9ZnVuY3Rpb24gYWcodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgdD10aGlzLGk9bmV3IFphO3JldHVybiBuLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1TZixbNCxiZChuKV07Y2FzZSAxOnJldHVyblsyLGUuYXBwbHkodm9pZCAwLFt0LnNlbnQoKSxyLGldKV19fSl9KX0pLGkucHJvbWlzZX0oZHAodCksZSl9ZnVuY3Rpb24gdWcodCxlLG4pe3ZhciByPW4uZG9jcy5nZXQoZS5fa2V5KSxpPW5ldyByZyh0KTtyZXR1cm4gbmV3IGJ5KHQsaSxlLl9rZXkscixuZXcgdnkobi5oYXNQZW5kaW5nV3JpdGVzLG4uZnJvbUNhY2hlKSxlLl9jb252ZXJ0ZXIpfXZhciBjZyxoZz0oZmcucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49ZWcodCx0aGlzLl9maXJlc3RvcmUpLHI9bmV3IEp5KHRoaXMuX2ZpcmVzdG9yZSk7cmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLmxvb2t1cChbbi5fa2V5XSkudGhlbihmdW5jdGlvbih0KXtpZighdHx8MSE9PXQubGVuZ3RoKXJldHVybiBNcigpO3Q9dFswXTtpZih0LmlzRm91bmREb2N1bWVudCgpKXJldHVybiBuZXcgbHkoZS5fZmlyZXN0b3JlLHIsdC5rZXksdCxuLl9jb252ZXJ0ZXIpO2lmKHQuaXNOb0RvY3VtZW50KCkpcmV0dXJuIG5ldyBseShlLl9maXJlc3RvcmUscixuLl9rZXksbnVsbCxuLl9jb252ZXJ0ZXIpO3Rocm93IE1yKCl9KX0sZmcucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUsbil7dD1lZyh0LHRoaXMuX2ZpcmVzdG9yZSksZT1ZeSh0Ll9jb252ZXJ0ZXIsZSxuKSxuPVBwKHRoaXMuX2RhdGFSZWFkZXIsXCJUcmFuc2FjdGlvbi5zZXRcIix0Ll9rZXksZSxudWxsIT09dC5fY29udmVydGVyLG4pO3JldHVybiB0aGlzLl90cmFuc2FjdGlvbi5zZXQodC5fa2V5LG4pLHRoaXN9LGZnLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1bXSxpPTM7aTxhcmd1bWVudHMubGVuZ3RoO2krKylyW2ktM109YXJndW1lbnRzW2ldO3Q9ZWcodCx0aGlzLl9maXJlc3RvcmUpLGU9XCJzdHJpbmdcIj09dHlwZW9mKGU9bShlKSl8fGUgaW5zdGFuY2VvZiBtcD9acCh0aGlzLl9kYXRhUmVhZGVyLFwiVHJhbnNhY3Rpb24udXBkYXRlXCIsdC5fa2V5LGUsbixyKTokcCh0aGlzLl9kYXRhUmVhZGVyLFwiVHJhbnNhY3Rpb24udXBkYXRlXCIsdC5fa2V5LGUpO3JldHVybiB0aGlzLl90cmFuc2FjdGlvbi51cGRhdGUodC5fa2V5LGUpLHRoaXN9LGZnLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7dD1lZyh0LHRoaXMuX2ZpcmVzdG9yZSk7cmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLmRlbGV0ZSh0Ll9rZXkpLHRoaXN9LG4obGcsY2c9ZmcpLGxnLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPWVnKHQsdGhpcy5fZmlyZXN0b3JlKSxyPW5ldyByZyh0aGlzLl9maXJlc3RvcmUpO3JldHVybiBjZy5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyx0KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYnkoZS5fZmlyZXN0b3JlLHIsbi5fa2V5LHQuX2RvY3VtZW50LG5ldyB2eSghMSwhMSksbi5fY29udmVydGVyKX0pfSxsZyk7ZnVuY3Rpb24gbGcodCxlKXt2YXIgbj10aGlzO3JldHVybihuPWNnLmNhbGwodGhpcyx0LGUpfHx0aGlzKS5fZmlyZXN0b3JlPXQsbn1mdW5jdGlvbiBmZyh0LGUpe3RoaXMuX2ZpcmVzdG9yZT10LHRoaXMuX3RyYW5zYWN0aW9uPWUsdGhpcy5fZGF0YVJlYWRlcj1McCh0KX1mdW5jdGlvbiBkZygpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBVaW50OEFycmF5KXRocm93IG5ldyBBcihEci5VTklNUExFTUVOVEVELFwiVWludDhBcnJheXMgYXJlIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudC5cIil9ZnVuY3Rpb24gcGcoKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgYXRvYil0aHJvdyBuZXcgQXIoRHIuVU5JTVBMRU1FTlRFRCxcIkJsb2JzIGFyZSB1bmF2YWlsYWJsZSBpbiBGaXJlc3RvcmUgaW4gdGhpcyBlbnZpcm9ubWVudC5cIil9dmFyIHlnLGdnPShUZy5mcm9tQmFzZTY0U3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiBwZygpLG5ldyBUZyh2cC5mcm9tQmFzZTY0U3RyaW5nKHQpKX0sVGcuZnJvbVVpbnQ4QXJyYXk9ZnVuY3Rpb24odCl7cmV0dXJuIGRnKCksbmV3IFRnKHZwLmZyb21VaW50OEFycmF5KHQpKX0sVGcucHJvdG90eXBlLnRvQmFzZTY0PWZ1bmN0aW9uKCl7cmV0dXJuIHBnKCksdGhpcy5fZGVsZWdhdGUudG9CYXNlNjQoKX0sVGcucHJvdG90eXBlLnRvVWludDhBcnJheT1mdW5jdGlvbigpe3JldHVybiBkZygpLHRoaXMuX2RlbGVnYXRlLnRvVWludDhBcnJheSgpfSxUZy5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuaXNFcXVhbCh0Ll9kZWxlZ2F0ZSl9LFRnLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiQmxvYihiYXNlNjQ6IFwiK3RoaXMudG9CYXNlNjQoKStcIilcIn0sVGcpLG1nPShFZy5wcm90b3R5cGUuZW5hYmxlSW5kZXhlZERiUGVyc2lzdGVuY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtncCh0PWpkKHQsaHApKTt2YXIgbj1kcCh0KSxyPXQuX2ZyZWV6ZVNldHRpbmdzKCksdD1uZXcgWGY7cmV0dXJuIHlwKG4sdCxuZXcgV2YodCxyLmNhY2hlU2l6ZUJ5dGVzLG51bGw9PWU/dm9pZCAwOmUuZm9yY2VPd25lcnNoaXApKX0odC5fZGVsZWdhdGUse2ZvcmNlT3duZXJzaGlwOmV9KX0sRWcucHJvdG90eXBlLmVuYWJsZU11bHRpVGFiSW5kZXhlZERiUGVyc2lzdGVuY2U9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2dwKHQ9amQodCxocCkpO3ZhciBlPWRwKHQpLG49dC5fZnJlZXplU2V0dGluZ3MoKSx0PW5ldyBYZjtyZXR1cm4geXAoZSx0LG5ldyBZZih0LG4uY2FjaGVTaXplQnl0ZXMpKX0odC5fZGVsZWdhdGUpfSxFZy5wcm90b3R5cGUuY2xlYXJJbmRleGVkRGJQZXJzaXN0ZW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHQ9dGhpcztpZihuLl9pbml0aWFsaXplZCYmIW4uX3Rlcm1pbmF0ZWQpdGhyb3cgbmV3IEFyKERyLkZBSUxFRF9QUkVDT05ESVRJT04sXCJQZXJzaXN0ZW5jZSBjYW4gb25seSBiZSBjbGVhcmVkIGJlZm9yZSBhIEZpcmVzdG9yZSBpbnN0YW5jZSBpcyBpbml0aWFsaXplZCBvciBhZnRlciBpdCBpcyB0ZXJtaW5hdGVkLlwiKTt2YXIgcj1uZXcgWmE7cmV0dXJuIG4uX3F1ZXVlLmVucXVldWVBbmRGb3JnZXRFdmVuV2hpbGVSZXN0cmljdGVkKGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0LnRyeXMucHVzaChbMCwyLCwzXSksWzQsZnVuY3Rpb24obil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBudS55dCgpPyhlPW4rXCJtYWluXCIsWzQsbnUuZGVsZXRlKGUpXSk6WzIsUHJvbWlzZS5yZXNvbHZlKCldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzJdfX0pfSl9KEtjKG4uX2RhdGFiYXNlSWQsbi5fcGVyc2lzdGVuY2VLZXkpKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxyLnJlc29sdmUoKSxbMywzXTtjYXNlIDI6cmV0dXJuIGU9dC5zZW50KCksci5yZWplY3QoZSksWzMsM107Y2FzZSAzOnJldHVyblsyXX19KX0pfSksci5wcm9taXNlfSh0Ll9kZWxlZ2F0ZSl9LEVnKSx2Zz0oT2JqZWN0LmRlZmluZVByb3BlcnR5KElnLnByb3RvdHlwZSxcIl9kYXRhYmFzZUlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5fZGF0YWJhc2VJZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxJZy5wcm90b3R5cGUuc2V0dGluZ3M9ZnVuY3Rpb24odCl7dC5tZXJnZSYmZGVsZXRlKHQ9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuX2RlbGVnYXRlLl9nZXRTZXR0aW5ncygpKSx0KSkubWVyZ2UsdGhpcy5fZGVsZWdhdGUuX3NldFNldHRpbmdzKHQpfSxJZy5wcm90b3R5cGUudXNlRW11bGF0b3I9ZnVuY3Rpb24odCxlKXt2YXIgbixyO249dGhpcy5fZGVsZWdhdGUscj10LHQ9ZSxcImZpcmVzdG9yZS5nb29nbGVhcGlzLmNvbVwiIT09KGU9KG49amQobix6ZCkpLl9nZXRTZXR0aW5ncygpKS5ob3N0JiZlLmhvc3QhPT1yJiZMcihcIkhvc3QgaGFzIGJlZW4gc2V0IGluIGJvdGggc2V0dGluZ3MoKSBhbmQgdXNlRW11bGF0b3IoKSwgZW11bGF0b3IgaG9zdCB3aWxsIGJlIHVzZWRcIiksbi5fc2V0U2V0dGluZ3MoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtob3N0OnIrXCI6XCIrdCxzc2w6ITF9KSl9LElnLnByb3RvdHlwZS5lbmFibGVOZXR3b3JrPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3ZhciB0PXRoaXM7cmV0dXJuIGkuYXN5bmNRdWV1ZS5lbnF1ZXVlKGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG4scjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsZ2QoaSldO2Nhc2UgMTpyZXR1cm4gbj10LnNlbnQoKSxbNCx2ZChpKV07Y2FzZSAyOnJldHVybiByPXQuc2VudCgpLFsyLChuLnNldE5ldHdvcmtFbmFibGVkKCEwKSwoZT1yKS4kci5kZWxldGUoMCksRGwoZSkpXX12YXIgZX0pfSl9KX0oZHAoamQodGhpcy5fZGVsZWdhdGUsaHApKSl9LElnLnByb3RvdHlwZS5kaXNhYmxlTmV0d29yaz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihyKXt2YXIgdD10aGlzO3JldHVybiByLmFzeW5jUXVldWUuZW5xdWV1ZShmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGdkKHIpXTtjYXNlIDE6cmV0dXJuIGU9dC5zZW50KCksWzQsdmQocildO2Nhc2UgMjpyZXR1cm4gbj10LnNlbnQoKSxbMiwoZS5zZXROZXR3b3JrRW5hYmxlZCghMSksZnVuY3Rpb24obil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybihlPW4pLiRyLmFkZCgwKSxbNCxBbChlKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxlLkJyLnNldChcIk9mZmxpbmVcIiksWzJdfX0pfSl9KG4pKV19fSl9KX0pfShkcChqZCh0aGlzLl9kZWxlZ2F0ZSxocCkpKX0sSWcucHJvdG90eXBlLmVuYWJsZVBlcnNpc3RlbmNlPWZ1bmN0aW9uKHQpe3ZhciBlPSExLG49ITE7cmV0dXJuIHQmJlZkKFwic3luY2hyb25pemVUYWJzXCIsZT0hIXQuc3luY2hyb25pemVUYWJzLFwiZXhwZXJpbWVudGFsRm9yY2VPd25pbmdUYWJcIixuPSEhdC5leHBlcmltZW50YWxGb3JjZU93bmluZ1RhYiksZT90aGlzLlljLmVuYWJsZU11bHRpVGFiSW5kZXhlZERiUGVyc2lzdGVuY2UodGhpcyk6dGhpcy5ZYy5lbmFibGVJbmRleGVkRGJQZXJzaXN0ZW5jZSh0aGlzLG4pfSxJZy5wcm90b3R5cGUuY2xlYXJQZXJzaXN0ZW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlljLmNsZWFySW5kZXhlZERiUGVyc2lzdGVuY2UodGhpcyl9LElnLnByb3RvdHlwZS50ZXJtaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5YYyYmKHRoaXMuWGMuX3JlbW92ZVNlcnZpY2VJbnN0YW5jZShcImZpcmVzdG9yZVwiKSx0aGlzLlhjLl9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UoXCJmaXJlc3RvcmUtZXhwXCIpKSx0aGlzLl9kZWxlZ2F0ZS5fZGVsZXRlKCl9LElnLnByb3RvdHlwZS53YWl0Rm9yUGVuZGluZ1dyaXRlcz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgdD10aGlzLHI9bmV3IFphO3JldHVybiBuLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1rZixbNCxiZChuKV07Y2FzZSAxOnJldHVyblsyLGUuYXBwbHkodm9pZCAwLFt0LnNlbnQoKSxyXSldfX0pfSl9KSxyLnByb21pc2V9KGRwKGpkKHRoaXMuX2RlbGVnYXRlLGhwKSkpfSxJZy5wcm90b3R5cGUub25TbmFwc2hvdHNJblN5bmM9ZnVuY3Rpb24odCl7cmV0dXJuIGU9dGhpcy5fZGVsZWdhdGUsdD10LGZ1bmN0aW9uKG4sdCl7dmFyIGU9dGhpcyxyPW5ldyBuZCh0KTtyZXR1cm4gbi5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4geShlLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9ZnVuY3Rpb24odCxlKXt0LkdyLmFkZChlKSxlLm5leHQoKX0sWzQsd2QobildO2Nhc2UgMTpyZXR1cm5bMixlLmFwcGx5KHZvaWQgMCxbdC5zZW50KCkscl0pXX19KX0pfSksZnVuY3Rpb24oKXtyLldvKCksbi5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4geShlLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9ZnVuY3Rpb24odCxlKXt0LkdyLmRlbGV0ZShlKX0sWzQsd2QobildO2Nhc2UgMTpyZXR1cm5bMixlLmFwcGx5KHZvaWQgMCxbdC5zZW50KCkscl0pXX19KX0pfSl9fShkcChqZChlLGhwKSksYXAodCk/dDp7bmV4dDp0fSk7dmFyIGV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJZy5wcm90b3R5cGUsXCJhcHBcIix7Z2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuWGMpdGhyb3cgbmV3IEFyKERyLkZBSUxFRF9QUkVDT05ESVRJT04sXCJGaXJlc3RvcmUgd2FzIG5vdCBpbml0aWFsaXplZCB1c2luZyB0aGUgRmlyZWJhc2UgU0RLLiAnYXBwJyBpcyBub3QgYXZhaWxhYmxlXCIpO3JldHVybiB0aGlzLlhjfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLElnLnByb3RvdHlwZS5jb2xsZWN0aW9uPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gbmV3IGpnKHRoaXMsZXAodGhpcy5fZGVsZWdhdGUsdCkpfWNhdGNoKHQpe3Rocm93IHhnKHQsXCJjb2xsZWN0aW9uKClcIixcIkZpcmVzdG9yZS5jb2xsZWN0aW9uKClcIil9fSxJZy5wcm90b3R5cGUuZG9jPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gbmV3IENnKHRoaXMsbnAodGhpcy5fZGVsZWdhdGUsdCkpfWNhdGNoKHQpe3Rocm93IHhnKHQsXCJkb2MoKVwiLFwiRmlyZXN0b3JlLmRvYygpXCIpfX0sSWcucHJvdG90eXBlLmNvbGxlY3Rpb25Hcm91cD1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIG5ldyBVZyh0aGlzLGZ1bmN0aW9uKHQsZSl7aWYodD1qZCh0LHpkKSxNZChcImNvbGxlY3Rpb25Hcm91cFwiLFwiY29sbGVjdGlvbiBpZFwiLGUpLDA8PWUuaW5kZXhPZihcIi9cIikpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIGNvbGxlY3Rpb24gSUQgJ1wiK2UrXCInIHBhc3NlZCB0byBmdW5jdGlvbiBjb2xsZWN0aW9uR3JvdXAoKS4gQ29sbGVjdGlvbiBJRHMgbXVzdCBub3QgY29udGFpbiAnLycuXCIpO3JldHVybiBuZXcgV2QodCxudWxsLChlPWUsbmV3IG1vKCRyLmVtcHR5UGF0aCgpLGUpKSl9KHRoaXMuX2RlbGVnYXRlLHQpKX1jYXRjaCh0KXt0aHJvdyB4Zyh0LFwiY29sbGVjdGlvbkdyb3VwKClcIixcIkZpcmVzdG9yZS5jb2xsZWN0aW9uR3JvdXAoKVwiKX19LElnLnByb3RvdHlwZS5ydW5UcmFuc2FjdGlvbj1mdW5jdGlvbihlKXt2YXIgbixyPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4scil7dmFyIHQ9dGhpcyxpPW5ldyBaYTtyZXR1cm4gbi5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4geSh0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQseWQobikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5kYXRhc3RvcmV9KV07Y2FzZSAxOnJldHVybiBlPXQuc2VudCgpLG5ldyBvZChuLmFzeW5jUXVldWUsZSxyLGkpLnJ1bigpLFsyXX19KX0pfSksaS5wcm9taXNlfShkcChuPXRoaXMuX2RlbGVnYXRlKSxmdW5jdGlvbih0KXtyZXR1cm4gdD1uZXcgaGcobix0KSxlKG5ldyBfZyhyLHQpKX0pfSxJZy5wcm90b3R5cGUuYmF0Y2g9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBkcCh0aGlzLl9kZWxlZ2F0ZSksbmV3IFNnKG5ldyAkeSh0aGlzLl9kZWxlZ2F0ZSxmdW5jdGlvbih0KXtyZXR1cm4gYWcoZS5fZGVsZWdhdGUsdCl9KSl9LElnLnByb3RvdHlwZS5sb2FkQnVuZGxlPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBBcihEci5GQUlMRURfUFJFQ09ORElUSU9OLCdcImxvYWRCdW5kbGUoKVwiIGRvZXMgbm90IGV4aXN0LCBoYXZlIHlvdSBpbXBvcnRlZCBcImZpcmViYXNlL2ZpcmVzdG9yZS9idW5kbGVcIj8nKX0sSWcucHJvdG90eXBlLm5hbWVkUXVlcnk9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEFyKERyLkZBSUxFRF9QUkVDT05ESVRJT04sJ1wibmFtZWRRdWVyeSgpXCIgZG9lcyBub3QgZXhpc3QsIGhhdmUgeW91IGltcG9ydGVkIFwiZmlyZWJhc2UvZmlyZXN0b3JlL2J1bmRsZVwiPycpfSxJZyksYmc9KG4od2cseWc9SSksd2cucHJvdG90eXBlLmNvbnZlcnRCeXRlcz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGdnKG5ldyB2cCh0KSl9LHdnLnByb3RvdHlwZS5jb252ZXJ0UmVmZXJlbmNlPWZ1bmN0aW9uKHQpe3Q9dGhpcy5jb252ZXJ0RG9jdW1lbnRLZXkodCx0aGlzLmZpcmVzdG9yZS5fZGF0YWJhc2VJZCk7cmV0dXJuIENnLlpjKHQsdGhpcy5maXJlc3RvcmUsbnVsbCl9LHdnKTtmdW5jdGlvbiB3Zyh0KXt2YXIgZT10aGlzO3JldHVybihlPXlnLmNhbGwodGhpcyl8fHRoaXMpLmZpcmVzdG9yZT10LGV9ZnVuY3Rpb24gSWcodCxlLG4pe3ZhciByPXRoaXM7dGhpcy5fZGVsZWdhdGU9ZSx0aGlzLlljPW4sdGhpcy5JTlRFUk5BTD17ZGVsZXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHIudGVybWluYXRlKCl9fSx0IGluc3RhbmNlb2YgU2R8fCh0aGlzLlhjPXQpfWZ1bmN0aW9uIEVnKCl7fWZ1bmN0aW9uIFRnKHQpe3RoaXMuX2RlbGVnYXRlPXR9dmFyIF9nPShrZy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1ZZyh0KTtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuZ2V0KG4pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBGZyhlLl9maXJlc3RvcmUsbmV3IGJ5KGUuX2ZpcmVzdG9yZS5fZGVsZWdhdGUsZS5fdXNlckRhdGFXcml0ZXIsdC5fa2V5LHQuX2RvY3VtZW50LHQubWV0YWRhdGEsbi5fY29udmVydGVyKSl9KX0sa2cucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUsbil7dD1ZZyh0KTtyZXR1cm4gbj8oRmQoXCJUcmFuc2FjdGlvbi5zZXRcIixuKSx0aGlzLl9kZWxlZ2F0ZS5zZXQodCxlLG4pKTp0aGlzLl9kZWxlZ2F0ZS5zZXQodCxlKSx0aGlzfSxrZy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9W10saT0zO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspcltpLTNdPWFyZ3VtZW50c1tpXTt2YXIgbz1ZZyh0KTtyZXR1cm4gMj09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5fZGVsZWdhdGUudXBkYXRlKG8sZSk6KHQ9dGhpcy5fZGVsZWdhdGUpLnVwZGF0ZS5hcHBseSh0LHMoW28sZSxuXSxyKSksdGhpc30sa2cucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt0PVlnKHQpO3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5kZWxldGUodCksdGhpc30sa2cpLFNnPShBZy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSxuKXt0PVlnKHQpO3JldHVybiBuPyhGZChcIldyaXRlQmF0Y2guc2V0XCIsbiksdGhpcy5fZGVsZWdhdGUuc2V0KHQsZSxuKSk6dGhpcy5fZGVsZWdhdGUuc2V0KHQsZSksdGhpc30sQWcucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPVtdLGk9MztpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXJbaS0zXT1hcmd1bWVudHNbaV07dmFyIG89WWcodCk7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuX2RlbGVnYXRlLnVwZGF0ZShvLGUpOih0PXRoaXMuX2RlbGVnYXRlKS51cGRhdGUuYXBwbHkodCxzKFtvLGUsbl0scikpLHRoaXN9LEFnLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7dD1ZZyh0KTtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuZGVsZXRlKHQpLHRoaXN9LEFnLnByb3RvdHlwZS5jb21taXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuY29tbWl0KCl9LEFnKSxOZz0oRGcucHJvdG90eXBlLmZyb21GaXJlc3RvcmU9ZnVuY3Rpb24odCxlKXt0PW5ldyB3eSh0aGlzLl9maXJlc3RvcmUuX2RlbGVnYXRlLHRoaXMuX3VzZXJEYXRhV3JpdGVyLHQuX2tleSx0Ll9kb2N1bWVudCx0Lm1ldGFkYXRhLG51bGwpO3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5mcm9tRmlyZXN0b3JlKG5ldyBWZyh0aGlzLl9maXJlc3RvcmUsdCksbnVsbCE9ZT9lOnt9KX0sRGcucHJvdG90eXBlLnRvRmlyZXN0b3JlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/dGhpcy5fZGVsZWdhdGUudG9GaXJlc3RvcmUodCxlKTp0aGlzLl9kZWxlZ2F0ZS50b0ZpcmVzdG9yZSh0KX0sRGcudHU9ZnVuY3Rpb24odCxlKXt2YXIgbj1EZy5ldSxyPW4uZ2V0KHQpO3J8fChyPW5ldyBXZWFrTWFwLG4uc2V0KHQscikpO249ci5nZXQoZSk7cmV0dXJuIG58fChuPW5ldyBEZyh0LG5ldyBiZyh0KSxlKSxyLnNldChlLG4pKSxufSxEZyk7ZnVuY3Rpb24gRGcodCxlLG4pe3RoaXMuX2ZpcmVzdG9yZT10LHRoaXMuX3VzZXJEYXRhV3JpdGVyPWUsdGhpcy5fZGVsZWdhdGU9bn1mdW5jdGlvbiBBZyh0KXt0aGlzLl9kZWxlZ2F0ZT10fWZ1bmN0aW9uIGtnKHQsZSl7dGhpcy5fZmlyZXN0b3JlPXQsdGhpcy5fZGVsZWdhdGU9ZSx0aGlzLl91c2VyRGF0YVdyaXRlcj1uZXcgYmcodCl9TmcuZXU9bmV3IFdlYWtNYXA7dmFyIENnPShSZy5udT1mdW5jdGlvbih0LGUsbil7aWYodC5sZW5ndGglMiE9MCl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgZG9jdW1lbnQgcmVmZXJlbmNlLiBEb2N1bWVudCByZWZlcmVuY2VzIG11c3QgaGF2ZSBhbiBldmVuIG51bWJlciBvZiBzZWdtZW50cywgYnV0IFwiK3QuY2Fub25pY2FsU3RyaW5nKCkrXCIgaGFzIFwiK3QubGVuZ3RoKTtyZXR1cm4gbmV3IFJnKGUsbmV3IEhkKGUuX2RlbGVnYXRlLG4sbmV3IG1pKHQpKSl9LFJnLlpjPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IFJnKGUsbmV3IEhkKGUuX2RlbGVnYXRlLG4sdCkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUmcucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmlkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZy5wcm90b3R5cGUsXCJwYXJlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBqZyh0aGlzLmZpcmVzdG9yZSx0aGlzLl9kZWxlZ2F0ZS5wYXJlbnQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZy5wcm90b3R5cGUsXCJwYXRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5wYXRofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFJnLnByb3RvdHlwZS5jb2xsZWN0aW9uPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gbmV3IGpnKHRoaXMuZmlyZXN0b3JlLGVwKHRoaXMuX2RlbGVnYXRlLHQpKX1jYXRjaCh0KXt0aHJvdyB4Zyh0LFwiY29sbGVjdGlvbigpXCIsXCJEb2N1bWVudFJlZmVyZW5jZS5jb2xsZWN0aW9uKClcIil9fSxSZy5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4odD1tKHQpKWluc3RhbmNlb2YgSGQmJnJwKHRoaXMuX2RlbGVnYXRlLHQpfSxSZy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7ZT1GZChcIkRvY3VtZW50UmVmZXJlbmNlLnNldFwiLGUpO3RyeXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3Q9amQodCxIZCk7dmFyIHI9amQodC5maXJlc3RvcmUsaHApLGU9WXkodC5fY29udmVydGVyLGUsbik7cmV0dXJuIGFnKHIsW1BwKExwKHIpLFwic2V0RG9jXCIsdC5fa2V5LGUsbnVsbCE9PXQuX2NvbnZlcnRlcixuKS50b011dGF0aW9uKHQuX2tleSxlcy5ub25lKCkpXSl9KHRoaXMuX2RlbGVnYXRlLHQsZSl9Y2F0Y2godCl7dGhyb3cgeGcodCxcInNldERvYygpXCIsXCJEb2N1bWVudFJlZmVyZW5jZS5zZXQoKVwiKX19LFJnLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10scj0yO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspbltyLTJdPWFyZ3VtZW50c1tyXTt0cnl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP29nKHRoaXMuX2RlbGVnYXRlLHQpOm9nLmFwcGx5KHZvaWQgMCxzKFt0aGlzLl9kZWxlZ2F0ZSx0LGVdLG4pKX1jYXRjaCh0KXt0aHJvdyB4Zyh0LFwidXBkYXRlRG9jKClcIixcIkRvY3VtZW50UmVmZXJlbmNlLnVwZGF0ZSgpXCIpfX0sUmcucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbigpe3JldHVybiBhZyhqZCgodD10aGlzLl9kZWxlZ2F0ZSkuZmlyZXN0b3JlLGhwKSxbbmV3IHdzKHQuX2tleSxlcy5ub25lKCkpXSk7dmFyIHR9LFJnLnByb3RvdHlwZS5vblNuYXBzaG90PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMsdD1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W25dPWFyZ3VtZW50c1tuXTt2YXIgcj1PZyh0KSxpPUxnKHQsZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBGZyhlLmZpcmVzdG9yZSxuZXcgYnkoZS5maXJlc3RvcmUuX2RlbGVnYXRlLGUuX3VzZXJEYXRhV3JpdGVyLHQuX2tleSx0Ll9kb2N1bWVudCx0Lm1ldGFkYXRhLGUuX2RlbGVnYXRlLl9jb252ZXJ0ZXIpKX0pO3JldHVybiBzZyh0aGlzLl9kZWxlZ2F0ZSxyLGkpfSxSZy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuKFwiY2FjaGVcIj09PShudWxsPT10P3ZvaWQgMDp0LnNvdXJjZSk/ZnVuY3Rpb24oZSl7ZT1qZChlLEhkKTt2YXIgbj1qZChlLmZpcmVzdG9yZSxocCksdD1kcChuKSxyPW5ldyByZyhuKTtyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgdD10aGlzLGk9bmV3IFphO3JldHVybiBuLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1mdW5jdGlvbihvLHMsYSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHIsaTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQudHJ5cy5wdXNoKFswLDIsLDNdKSxbNCwoZT1zLChuPW8pLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwicmVhZCBkb2N1bWVudFwiLFwicmVhZG9ubHlcIixmdW5jdGlvbih0KXtyZXR1cm4gbi5Nbi5tbih0LGUpfSkpXTtjYXNlIDE6cmV0dXJuKGk9dC5zZW50KCkpLmlzRm91bmREb2N1bWVudCgpP2EucmVzb2x2ZShpKTppLmlzTm9Eb2N1bWVudCgpP2EucmVzb2x2ZShudWxsKTphLnJlamVjdChuZXcgQXIoRHIuVU5BVkFJTEFCTEUsXCJGYWlsZWQgdG8gZ2V0IGRvY3VtZW50IGZyb20gY2FjaGUuIChIb3dldmVyLCB0aGlzIGRvY3VtZW50IG1heSBleGlzdCBvbiB0aGUgc2VydmVyLiBSdW4gYWdhaW4gd2l0aG91dCBzZXR0aW5nICdzb3VyY2UnIGluIHRoZSBHZXRPcHRpb25zIHRvIGF0dGVtcHQgdG8gcmV0cmlldmUgdGhlIGRvY3VtZW50IGZyb20gdGhlIHNlcnZlci4pXCIpKSxbMywzXTtjYXNlIDI6cmV0dXJuIHI9dC5zZW50KCksaT1XbChyLFwiRmFpbGVkIHRvIGdldCBkb2N1bWVudCAnXCIrcytcIiBmcm9tIGNhY2hlXCIpLGEucmVqZWN0KGkpLFszLDNdO2Nhc2UgMzpyZXR1cm5bMl19dmFyIGUsbn0pfSl9LFs0LG1kKG4pXTtjYXNlIDE6cmV0dXJuWzIsZS5hcHBseSh2b2lkIDAsW3Quc2VudCgpLHIsaV0pXX19KX0pfSksaS5wcm9taXNlfSh0LGUuX2tleSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGJ5KG4scixlLl9rZXksdCxuZXcgdnkobnVsbCE9PXQmJnQuaGFzTG9jYWxNdXRhdGlvbnMsITApLGUuX2NvbnZlcnRlcil9KX06XCJzZXJ2ZXJcIj09PShudWxsPT10P3ZvaWQgMDp0LnNvdXJjZSk/ZnVuY3Rpb24oZSl7ZT1qZChlLEhkKTt2YXIgbj1qZChlLmZpcmVzdG9yZSxocCk7cmV0dXJuIElkKGRwKG4pLGUuX2tleSx7c291cmNlOlwic2VydmVyXCJ9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB1ZyhuLGUsdCl9KX06ZnVuY3Rpb24oZSl7ZT1qZChlLEhkKTt2YXIgbj1qZChlLmZpcmVzdG9yZSxocCk7cmV0dXJuIElkKGRwKG4pLGUuX2tleSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdWcobixlLHQpfSl9KSh0aGlzLl9kZWxlZ2F0ZSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEZnKGUuZmlyZXN0b3JlLG5ldyBieShlLmZpcmVzdG9yZS5fZGVsZWdhdGUsZS5fdXNlckRhdGFXcml0ZXIsdC5fa2V5LHQuX2RvY3VtZW50LHQubWV0YWRhdGEsZS5fZGVsZWdhdGUuX2NvbnZlcnRlcikpfSl9LFJnLnByb3RvdHlwZS53aXRoQ29udmVydGVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUmcodGhpcy5maXJlc3RvcmUsdD90aGlzLl9kZWxlZ2F0ZS53aXRoQ29udmVydGVyKE5nLnR1KHRoaXMuZmlyZXN0b3JlLHQpKTp0aGlzLl9kZWxlZ2F0ZS53aXRoQ29udmVydGVyKG51bGwpKX0sUmcpO2Z1bmN0aW9uIFJnKHQsZSl7dGhpcy5maXJlc3RvcmU9dCx0aGlzLl9kZWxlZ2F0ZT1lLHRoaXMuX3VzZXJEYXRhV3JpdGVyPW5ldyBiZyh0KX1mdW5jdGlvbiB4Zyh0LGUsbil7cmV0dXJuIHQubWVzc2FnZT10Lm1lc3NhZ2UucmVwbGFjZShlLG4pLHR9ZnVuY3Rpb24gT2codCl7Zm9yKHZhciBlPTAsbj10O2U8bi5sZW5ndGg7ZSsrKXt2YXIgcj1uW2VdO2lmKFwib2JqZWN0XCI9PXR5cGVvZiByJiYhYXAocikpcmV0dXJuIHJ9cmV0dXJue319ZnVuY3Rpb24gTGcodCxlKXt2YXIgbjtyZXR1cm57bmV4dDpmdW5jdGlvbih0KXtuLm5leHQmJm4ubmV4dChlKHQpKX0sZXJyb3I6bnVsbD09PSh0PShuPWFwKHRbMF0pP3RbMF06YXAodFsxXSk/dFsxXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0WzBdP3tuZXh0OnRbMF0sZXJyb3I6dFsxXSxjb21wbGV0ZTp0WzJdfTp7bmV4dDp0WzFdLGVycm9yOnRbMl0sY29tcGxldGU6dFszXX0pLmVycm9yKXx8dm9pZCAwPT09dD92b2lkIDA6dC5iaW5kKG4pLGNvbXBsZXRlOm51bGw9PT0odD1uLmNvbXBsZXRlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5iaW5kKG4pfX12YXIgUGcsTWcsRmc9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZy5wcm90b3R5cGUsXCJyZWZcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDZyh0aGlzLl9maXJlc3RvcmUsdGhpcy5fZGVsZWdhdGUucmVmKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoV2cucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmlkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZy5wcm90b3R5cGUsXCJtZXRhZGF0YVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUubWV0YWRhdGF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFdnLnByb3RvdHlwZSxcImV4aXN0c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuZXhpc3RzKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksV2cucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmRhdGEodCl9LFdnLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuZ2V0KHQsZSl9LFdnLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiBOeSh0aGlzLl9kZWxlZ2F0ZSx0Ll9kZWxlZ2F0ZSl9LFdnKSxWZz0obihIZyxNZz1GZyksSGcucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmRhdGEodCl9LEhnKSxVZz0oemcucHJvdG90eXBlLndoZXJlPWZ1bmN0aW9uKHQsZSxuKXt0cnl7cmV0dXJuIG5ldyB6Zyh0aGlzLmZpcmVzdG9yZSxBeSh0aGlzLl9kZWxlZ2F0ZSwocj1uLGk9ZSxvPXl5KFwid2hlcmVcIix0KSxuZXcgTHkobyxpLHIpKSkpfWNhdGNoKHQpe3Rocm93IHhnKHQsLyhvcmRlckJ5fHdoZXJlKVxcKFxcKS8sXCJRdWVyeS4kMSgpXCIpfXZhciByLGksb30semcucHJvdG90eXBlLm9yZGVyQnk9ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIG5ldyB6Zyh0aGlzLmZpcmVzdG9yZSxBeSh0aGlzLl9kZWxlZ2F0ZSwobj12b2lkIDA9PT1lP1wiYXNjXCI6ZSxyPXl5KFwib3JkZXJCeVwiLHQpLG5ldyBQeShyLG4pKSkpfWNhdGNoKHQpe3Rocm93IHhnKHQsLyhvcmRlckJ5fHdoZXJlKVxcKFxcKS8sXCJRdWVyeS4kMSgpXCIpfXZhciBuLHJ9LHpnLnByb3RvdHlwZS5saW1pdD1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIG5ldyB6Zyh0aGlzLmZpcmVzdG9yZSxBeSh0aGlzLl9kZWxlZ2F0ZSwoS2QoXCJsaW1pdFwiLGU9dCksbmV3IE15KFwibGltaXRcIixlLFwiRlwiKSkpKX1jYXRjaCh0KXt0aHJvdyB4Zyh0LFwibGltaXQoKVwiLFwiUXVlcnkubGltaXQoKVwiKX12YXIgZX0semcucHJvdG90eXBlLmxpbWl0VG9MYXN0PWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gbmV3IHpnKHRoaXMuZmlyZXN0b3JlLEF5KHRoaXMuX2RlbGVnYXRlLChLZChcImxpbWl0VG9MYXN0XCIsZT10KSxuZXcgTXkoXCJsaW1pdFRvTGFzdFwiLGUsXCJMXCIpKSkpfWNhdGNoKHQpe3Rocm93IHhnKHQsXCJsaW1pdFRvTGFzdCgpXCIsXCJRdWVyeS5saW1pdFRvTGFzdCgpXCIpfXZhciBlfSx6Zy5wcm90b3R5cGUuc3RhcnRBdD1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0cnl7cmV0dXJuIG5ldyB6Zyh0aGlzLmZpcmVzdG9yZSxBeSh0aGlzLl9kZWxlZ2F0ZSxmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gbmV3IEZ5KFwic3RhcnRBdFwiLHQsITApfS5hcHBseSh2b2lkIDAsdCkpKX1jYXRjaCh0KXt0aHJvdyB4Zyh0LFwic3RhcnRBdCgpXCIsXCJRdWVyeS5zdGFydEF0KClcIil9fSx6Zy5wcm90b3R5cGUuc3RhcnRBZnRlcj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0cnl7cmV0dXJuIG5ldyB6Zyh0aGlzLmZpcmVzdG9yZSxBeSh0aGlzLl9kZWxlZ2F0ZSxmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gbmV3IEZ5KFwic3RhcnRBZnRlclwiLHQsITEpfS5hcHBseSh2b2lkIDAsdCkpKX1jYXRjaCh0KXt0aHJvdyB4Zyh0LFwic3RhcnRBZnRlcigpXCIsXCJRdWVyeS5zdGFydEFmdGVyKClcIil9fSx6Zy5wcm90b3R5cGUuZW5kQmVmb3JlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RyeXtyZXR1cm4gbmV3IHpnKHRoaXMuZmlyZXN0b3JlLEF5KHRoaXMuX2RlbGVnYXRlLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBuZXcgVnkoXCJlbmRCZWZvcmVcIix0LCEwKX0uYXBwbHkodm9pZCAwLHQpKSl9Y2F0Y2godCl7dGhyb3cgeGcodCxcImVuZEJlZm9yZSgpXCIsXCJRdWVyeS5lbmRCZWZvcmUoKVwiKX19LHpnLnByb3RvdHlwZS5lbmRBdD1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0cnl7cmV0dXJuIG5ldyB6Zyh0aGlzLmZpcmVzdG9yZSxBeSh0aGlzLl9kZWxlZ2F0ZSxmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gbmV3IFZ5KFwiZW5kQXRcIix0LCExKX0uYXBwbHkodm9pZCAwLHQpKSl9Y2F0Y2godCl7dGhyb3cgeGcodCxcImVuZEF0KClcIixcIlF1ZXJ5LmVuZEF0KClcIil9fSx6Zy5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gaXAodGhpcy5fZGVsZWdhdGUsdC5fZGVsZWdhdGUpfSx6Zy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuKFwiY2FjaGVcIj09PShudWxsPT10P3ZvaWQgMDp0LnNvdXJjZSk/ZnVuY3Rpb24oZSl7ZT1qZChlLFdkKTt2YXIgbj1qZChlLmZpcmVzdG9yZSxocCksdD1kcChuKSxyPW5ldyByZyhuKTtyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgdD10aGlzLGk9bmV3IFphO3JldHVybiBuLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1mdW5jdGlvbihpLG8scyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdC50cnlzLnB1c2goWzAsMiwsM10pLFs0LGFoKGksbywhMCldO2Nhc2UgMTpyZXR1cm4gcj10LnNlbnQoKSxlPW5ldyB2ZihvLHIuQm4pLG49ZS5fbyhyLmRvY3VtZW50cyksbj1lLmFwcGx5Q2hhbmdlcyhuLCExKSxzLnJlc29sdmUobi5zbmFwc2hvdCksWzMsM107Y2FzZSAyOnJldHVybiBuPXQuc2VudCgpLHI9V2wobixcIkZhaWxlZCB0byBleGVjdXRlIHF1ZXJ5ICdcIitvK1wiIGFnYWluc3QgY2FjaGVcIikscy5yZWplY3QociksWzMsM107Y2FzZSAzOnJldHVyblsyXX19KX0pfSxbNCxtZChuKV07Y2FzZSAxOnJldHVyblsyLGUuYXBwbHkodm9pZCAwLFt0LnNlbnQoKSxyLGldKV19fSl9KX0pLGkucHJvbWlzZX0odCxlLl9xdWVyeSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEl5KG4scixlLHQpfSl9Olwic2VydmVyXCI9PT0obnVsbD09dD92b2lkIDA6dC5zb3VyY2UpP2Z1bmN0aW9uKGUpe2U9amQoZSxXZCk7dmFyIG49amQoZS5maXJlc3RvcmUsaHApLHQ9ZHAobikscj1uZXcgcmcobik7cmV0dXJuIEVkKHQsZS5fcXVlcnkse3NvdXJjZTpcInNlcnZlclwifSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEl5KG4scixlLHQpfSl9OmZ1bmN0aW9uKGUpe2U9amQoZSxXZCk7dmFyIG49amQoZS5maXJlc3RvcmUsaHApLHQ9ZHAobikscj1uZXcgcmcobik7cmV0dXJuIER5KGUuX3F1ZXJ5KSxFZCh0LGUuX3F1ZXJ5KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgSXkobixyLGUsdCl9KX0pKHRoaXMuX2RlbGVnYXRlKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQmcoZS5maXJlc3RvcmUsbmV3IEl5KGUuZmlyZXN0b3JlLl9kZWxlZ2F0ZSxlLl91c2VyRGF0YVdyaXRlcixlLl9kZWxlZ2F0ZSx0Ll9zbmFwc2hvdCkpfSl9LHpnLnByb3RvdHlwZS5vblNuYXBzaG90PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMsdD1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W25dPWFyZ3VtZW50c1tuXTt2YXIgcj1PZyh0KSxpPUxnKHQsZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBCZyhlLmZpcmVzdG9yZSxuZXcgSXkoZS5maXJlc3RvcmUuX2RlbGVnYXRlLGUuX3VzZXJEYXRhV3JpdGVyLGUuX2RlbGVnYXRlLHQuX3NuYXBzaG90KSl9KTtyZXR1cm4gc2codGhpcy5fZGVsZWdhdGUscixpKX0semcucHJvdG90eXBlLndpdGhDb252ZXJ0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB6Zyh0aGlzLmZpcmVzdG9yZSx0P3RoaXMuX2RlbGVnYXRlLndpdGhDb252ZXJ0ZXIoTmcudHUodGhpcy5maXJlc3RvcmUsdCkpOnRoaXMuX2RlbGVnYXRlLndpdGhDb252ZXJ0ZXIobnVsbCkpfSx6ZykscWc9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShRZy5wcm90b3R5cGUsXCJ0eXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS50eXBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShRZy5wcm90b3R5cGUsXCJkb2NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBWZyh0aGlzLl9maXJlc3RvcmUsdGhpcy5fZGVsZWdhdGUuZG9jKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUWcucHJvdG90eXBlLFwib2xkSW5kZXhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLm9sZEluZGV4fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShRZy5wcm90b3R5cGUsXCJuZXdJbmRleFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUubmV3SW5kZXh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksUWcpLEJnPShPYmplY3QuZGVmaW5lUHJvcGVydHkoR2cucHJvdG90eXBlLFwicXVlcnlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBVZyh0aGlzLl9maXJlc3RvcmUsdGhpcy5fZGVsZWdhdGUucXVlcnkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHZy5wcm90b3R5cGUsXCJtZXRhZGF0YVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUubWV0YWRhdGF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEdnLnByb3RvdHlwZSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLnNpemV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEdnLnByb3RvdHlwZSxcImVtcHR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5lbXB0eX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoR2cucHJvdG90eXBlLFwiZG9jc1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5kb2NzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFZnKGUuX2ZpcmVzdG9yZSx0KX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLEdnLnByb3RvdHlwZS5kb2NDaGFuZ2VzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmRvY0NoYW5nZXModCkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcWcoZS5fZmlyZXN0b3JlLHQpfSl9LEdnLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpczt0aGlzLl9kZWxlZ2F0ZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuY2FsbChuLG5ldyBWZyhyLl9maXJlc3RvcmUsdCkpfSl9LEdnLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiBOeSh0aGlzLl9kZWxlZ2F0ZSx0Ll9kZWxlZ2F0ZSl9LEdnKSxqZz0obihLZyxQZz1VZyksT2JqZWN0LmRlZmluZVByb3BlcnR5KEtnLnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5pZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoS2cucHJvdG90eXBlLFwicGF0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUucGF0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoS2cucHJvdG90eXBlLFwicGFyZW50XCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RlbGVnYXRlLnBhcmVudDtyZXR1cm4gdD9uZXcgQ2codGhpcy5maXJlc3RvcmUsdCk6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxLZy5wcm90b3R5cGUuZG9jPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gbmV3IENnKHRoaXMuZmlyZXN0b3JlLHZvaWQgMD09PXQ/bnAodGhpcy5fZGVsZWdhdGUpOm5wKHRoaXMuX2RlbGVnYXRlLHQpKX1jYXRjaCh0KXt0aHJvdyB4Zyh0LFwiZG9jKClcIixcIkNvbGxlY3Rpb25SZWZlcmVuY2UuZG9jKClcIil9fSxLZy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpPXRoaXM7cmV0dXJuIGU9dGhpcy5fZGVsZWdhdGUsbj10LHQ9amQoZS5maXJlc3RvcmUsaHApLHI9bnAoZSksbj1ZeShlLl9jb252ZXJ0ZXIsbiksYWcodCxbUHAoTHAoZS5maXJlc3RvcmUpLFwiYWRkRG9jXCIsci5fa2V5LG4sbnVsbCE9PWUuX2NvbnZlcnRlcix7fSkudG9NdXRhdGlvbihyLl9rZXksZXMuZXhpc3RzKCExKSldKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQ2coaS5maXJlc3RvcmUsdCl9KX0sS2cucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHJwKHRoaXMuX2RlbGVnYXRlLHQuX2RlbGVnYXRlKX0sS2cucHJvdG90eXBlLndpdGhDb252ZXJ0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBLZyh0aGlzLmZpcmVzdG9yZSx0P3RoaXMuX2RlbGVnYXRlLndpdGhDb252ZXJ0ZXIoTmcudHUodGhpcy5maXJlc3RvcmUsdCkpOnRoaXMuX2RlbGVnYXRlLndpdGhDb252ZXJ0ZXIobnVsbCkpfSxLZyk7ZnVuY3Rpb24gS2codCxlKXt2YXIgbj10aGlzO3JldHVybihuPVBnLmNhbGwodGhpcyx0LGUpfHx0aGlzKS5maXJlc3RvcmU9dCxuLl9kZWxlZ2F0ZT1lLG59ZnVuY3Rpb24gR2codCxlKXt0aGlzLl9maXJlc3RvcmU9dCx0aGlzLl9kZWxlZ2F0ZT1lfWZ1bmN0aW9uIFFnKHQsZSl7dGhpcy5fZmlyZXN0b3JlPXQsdGhpcy5fZGVsZWdhdGU9ZX1mdW5jdGlvbiB6Zyh0LGUpe3RoaXMuZmlyZXN0b3JlPXQsdGhpcy5fZGVsZWdhdGU9ZSx0aGlzLl91c2VyRGF0YVdyaXRlcj1uZXcgYmcodCl9ZnVuY3Rpb24gSGcoKXtyZXR1cm4gbnVsbCE9PU1nJiZNZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9ZnVuY3Rpb24gV2codCxlKXt0aGlzLl9maXJlc3RvcmU9dCx0aGlzLl9kZWxlZ2F0ZT1lfWZ1bmN0aW9uIFlnKHQpe3JldHVybiBqZCh0LEhkKX1KZy5kb2N1bWVudElkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBKZyh0aS5rZXlGaWVsZCgpLmNhbm9uaWNhbFN0cmluZygpKX0sSmcucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuKHQ9bSh0KSlpbnN0YW5jZW9mIG1wJiZ0aGlzLl9kZWxlZ2F0ZS5faW50ZXJuYWxQYXRoLmlzRXF1YWwodC5faW50ZXJuYWxQYXRoKX0sVGU9SmcsWGcuc2VydmVyVGltZXN0YW1wPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEdwKFwic2VydmVyVGltZXN0YW1wXCIpO3JldHVybiB0Ll9tZXRob2ROYW1lPVwiRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXBcIixuZXcgWGcodCl9LFhnLmRlbGV0ZT1mdW5jdGlvbigpe3ZhciB0PW5ldyBGcChcImRlbGV0ZUZpZWxkXCIpO3JldHVybiB0Ll9tZXRob2ROYW1lPVwiRmllbGRWYWx1ZS5kZWxldGVcIixuZXcgWGcodCl9LFhnLmFycmF5VW5pb249ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dmFyIG49ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIG5ldyBRcChcImFycmF5VW5pb25cIix0KX0uYXBwbHkodm9pZCAwLHQpO3JldHVybiBuLl9tZXRob2ROYW1lPVwiRmllbGRWYWx1ZS5hcnJheVVuaW9uXCIsbmV3IFhnKG4pfSxYZy5hcnJheVJlbW92ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt2YXIgbj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gbmV3IHpwKFwiYXJyYXlSZW1vdmVcIix0KX0uYXBwbHkodm9pZCAwLHQpO3JldHVybiBuLl9tZXRob2ROYW1lPVwiRmllbGRWYWx1ZS5hcnJheVJlbW92ZVwiLG5ldyBYZyhuKX0sWGcuaW5jcmVtZW50PWZ1bmN0aW9uKHQpe3Q9bmV3IEhwKFwiaW5jcmVtZW50XCIsdCk7cmV0dXJuIHQuX21ldGhvZE5hbWU9XCJGaWVsZFZhbHVlLmluY3JlbWVudFwiLG5ldyBYZyh0KX0sWGcucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmlzRXF1YWwodC5fZGVsZWdhdGUpfSxJPVhnO2Z1bmN0aW9uIFhnKHQpe3RoaXMuX2RlbGVnYXRlPXR9ZnVuY3Rpb24gSmcoKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fZGVsZWdhdGU9bmV3KG1wLmJpbmQuYXBwbHkobXAscyhbdm9pZCAwXSx0KSkpfWZ1bmN0aW9uICRnKHQpe3JldHVybiBlPXRoaXMuX2RlbGVnYXRlLHM9dCxuPWRwKGU9amQoZSxocCkpLHQ9bmV3IGNwLGZ1bmN0aW9uKG4sdCxyKXt2YXIgZSxpPXRoaXMsbz0oZT1zLHQ9bGwodCksZT1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgVWludDhBcnJheSlyZXR1cm4gZWQodCx2b2lkIDApO2lmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gZWQobmV3IFVpbnQ4QXJyYXkodCksdm9pZCAwKTtpZih0IGluc3RhbmNlb2YgUmVhZGFibGVTdHJlYW0pcmV0dXJuIHQuZ2V0UmVhZGVyKCk7dGhyb3cgbmV3IEVycm9yKFwiU291cmNlIG9mIGB0b0J5dGVTdHJlYW1SZWFkZXJgIGhhcyB0byBiZSBhIEFycmF5QnVmZmVyIG9yIFJlYWRhYmxlU3RyZWFtXCIpfShcInN0cmluZ1wiPT10eXBlb2YgZT8obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSk6ZSksbmV3IHJkKGUsdCkpO24uYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIHkoaSx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPUdmLFs0LGJkKG4pXTtjYXNlIDE6cmV0dXJuIGUuYXBwbHkodm9pZCAwLFt0LnNlbnQoKSxvLHJdKSxbMl19fSl9KX0pfShuLGUuX2RhdGFiYXNlSWQsdCksdDt2YXIgZSxzLG59ZnVuY3Rpb24gWmcodCl7dmFyIGU9dGhpcyxuPXRoaXMuX2RlbGVnYXRlLHQ9dDtyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgdD10aGlzO3JldHVybiBuLmFzeW5jUXVldWUuZW5xdWV1ZShmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQ7cmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJHZXQgbmFtZWQgcXVlcnlcIixcInJlYWRvbmx5XCIsZnVuY3Rpb24odCl7cmV0dXJuIG4uUWUuZ2V0TmFtZWRRdWVyeSh0LGUpfSl9LFs0LG1kKG4pXTtjYXNlIDE6cmV0dXJuWzIsZS5hcHBseSh2b2lkIDAsW3Quc2VudCgpLHJdKV19fSl9KX0pfShkcChuPWpkKG4saHApKSx0KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0P25ldyBXZChuLG51bGwsdC5xdWVyeSk6bnVsbH0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQ/bmV3IFVnKGUsdCk6bnVsbH0pfXZhciB0bT0oZW0ucHJvdG90eXBlLnNldEluc3RhbnRpYXRpb25Nb2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmluc3RhbnRpYXRpb25Nb2RlPXQsdGhpc30sZW0ucHJvdG90eXBlLnNldE11bHRpcGxlSW5zdGFuY2VzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm11bHRpcGxlSW5zdGFuY2VzPXQsdGhpc30sZW0ucHJvdG90eXBlLnNldFNlcnZpY2VQcm9wcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXJ2aWNlUHJvcHM9dCx0aGlzfSxlbS5wcm90b3R5cGUuc2V0SW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2s9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub25JbnN0YW5jZUNyZWF0ZWQ9dCx0aGlzfSxlbSk7ZnVuY3Rpb24gZW0odCxlLG4pe3RoaXMubmFtZT10LHRoaXMuaW5zdGFuY2VGYWN0b3J5PWUsdGhpcy50eXBlPW4sdGhpcy5tdWx0aXBsZUluc3RhbmNlcz0hMSx0aGlzLnNlcnZpY2VQcm9wcz17fSx0aGlzLmluc3RhbnRpYXRpb25Nb2RlPVwiTEFaWVwiLHRoaXMub25JbnN0YW5jZUNyZWF0ZWQ9bnVsbH12YXIgbm0scm0saW09e0ZpcmVzdG9yZTp2ZyxHZW9Qb2ludDp3cCxUaW1lc3RhbXA6S3IsQmxvYjpnZyxUcmFuc2FjdGlvbjpfZyxXcml0ZUJhdGNoOlNnLERvY3VtZW50UmVmZXJlbmNlOkNnLERvY3VtZW50U25hcHNob3Q6RmcsUXVlcnk6VWcsUXVlcnlEb2N1bWVudFNuYXBzaG90OlZnLFF1ZXJ5U25hcHNob3Q6QmcsQ29sbGVjdGlvblJlZmVyZW5jZTpqZyxGaWVsZFBhdGg6VGUsRmllbGRWYWx1ZTpJLHNldExvZ0xldmVsOmZ1bmN0aW9uKHQpe2tyLnNldExvZ0xldmVsKHQpfSxDQUNIRV9TSVpFX1VOTElNSVRFRDotMX07KG5tPWUuZGVmYXVsdCkuSU5URVJOQUwucmVnaXN0ZXJDb21wb25lbnQobmV3IHRtKFwiZmlyZXN0b3JlXCIsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRQcm92aWRlcihcImFwcFwiKS5nZXRJbW1lZGlhdGUoKTtyZXR1cm4gZT1lLHQ9dC5nZXRQcm92aWRlcihcImF1dGgtaW50ZXJuYWxcIiksbmV3IHZnKGUsbmV3IGhwKGUsdCksbmV3IG1nKX0sXCJQVUJMSUNcIikuc2V0U2VydmljZVByb3BzKE9iamVjdC5hc3NpZ24oe30saW0pKSksbm0ucmVnaXN0ZXJWZXJzaW9uKFwiQGZpcmViYXNlL2ZpcmVzdG9yZVwiLFwiMi4yLjVcIiksKHJtPXZnKS5wcm90b3R5cGUubG9hZEJ1bmRsZT0kZyxybS5wcm90b3R5cGUubmFtZWRRdWVyeT1aZ30uYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKHQpe3Rocm93IGNvbnNvbGUuZXJyb3IodCksbmV3IEVycm9yKFwiQ2Fubm90IGluc3RhbnRpYXRlIGZpcmViYXNlLWZpcmVzdG9yZS5qcyAtIGJlIHN1cmUgdG8gbG9hZCBmaXJlYmFzZS1hcHAuanMgZmlyc3QuXCIpfX0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlyZWJhc2UtZmlyZXN0b3JlLmpzLm1hcFxuIiwiaW1wb3J0IGFwaSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgICAgICAgaW1wb3J0IGNvbnRlbnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9yZXNldC5jc3NcIjtcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJpbXBvcnQgYXBpIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICAgICAgICBpbXBvcnQgY29udGVudCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20pIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxyXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcclxuICAgIHJldHVybiB0bztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiBtYWtlU3dpdGNoKGxhYmVsLCBuYW1lLCBpc0NoZWNrZWQsIG9uQ2hhbmdlKSB7XG4gIGNvbnN0IGlucHV0RWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICBpbnB1dEVsbS5jbGFzc0xpc3QuYWRkKFwic3dpdGNoXCIpO1xuXG4gIGNvbnN0IHRleHRFbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgdGV4dEVsbS50ZXh0Q29udGVudCA9IGxhYmVsO1xuICB0ZXh0RWxtLmNsYXNzTGlzdC5hZGQoXCJzd2l0Y2gtbGFiZWxcIik7XG4gIGlucHV0RWxtLmFwcGVuZENoaWxkKHRleHRFbG0pO1xuXG4gIGNvbnN0IGlucHV0Q2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIGlucHV0Q2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgaW5wdXRDaGVja2JveC5uYW1lID0gbmFtZTtcbiAgaW5wdXRDaGVja2JveC5jaGVja2VkID0gaXNDaGVja2VkO1xuICBpbnB1dENoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT5cbiAgICBvbkNoYW5nZShpbnB1dENoZWNrYm94LmNoZWNrZWQpXG4gICk7XG5cbiAgaW5wdXRFbG0uYXBwZW5kQ2hpbGQoaW5wdXRDaGVja2JveCk7XG5cbiAgY29uc3QgaW5wdXRTcGFuRWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gIGlucHV0U3BhbkVsbS5jbGFzc0xpc3QuYWRkKFwic3dpdGNoLXNwYW5cIik7XG4gIGlucHV0RWxtLmFwcGVuZENoaWxkKGlucHV0U3BhbkVsbSk7XG5cbiAgcmV0dXJuIGlucHV0RWxtO1xufVxuXG4vLyBUT0RPOiBkb24ndCB1c2UgZGl2IGFzIGJ1dHRvblxuLy8gVE9ETzogcGFzcyBjbGFzcyBpbiBhcyBwYXJhbVxuLy8gVE9ETzogb25jZSBhYm92ZSBhcmUgZml4ZWQsIGdpdmUgZ2VuZXJpYyBuYW1lXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xvc2VCdXR0b24ob25DbGljaykge1xuICBjb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNsb3NlQnRuLmNsYXNzTGlzdC5hZGQoXCJjbG9zZS1idG5cIik7XG4gIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkNsaWNrKTtcbiAgcmV0dXJuIGNsb3NlQnRuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJDaGlsZHJlbihlbGVtZW50KSB7XG4gIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gIH1cbn1cbiIsImltcG9ydCBlbnYgZnJvbSBcIi4uLy4uL2VudlwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGFwaUtleTogZW52LkFQSV9LRVksXG4gIGF1dGhEb21haW46IGVudi5BVVRIX0RPTUFJTixcbiAgcHJvamVjdElkOiBlbnYuUFJPSkVDVF9JRCxcbiAgc3RvcmFnZUJ1Y2tldDogZW52LlNUT1JBR0VfQlVDS0VULFxuICBtZXNzYWdpbmdTZW5kZXJJZDogZW52Lk1FU1NBR0lOR19TRU5ERVJfSUQsXG4gIGFwcElkOiBlbnYuQVBQX0lELFxufTtcbiIsImltcG9ydCBmaXJlYmFzZSBmcm9tIFwiZmlyZWJhc2UvYXBwXCI7XG5pbXBvcnQgZmlyZWJhc2VDb25maWcgZnJvbSBcIi4vZmlyZWJhc2UtY29uZmlnXCI7XG5pbXBvcnQgXCJmaXJlYmFzZS9maXJlYmFzZS1maXJlc3RvcmVcIjtcbmltcG9ydCBcImZpcmViYXNlL2ZpcmViYXNlLWF1dGhcIjtcblxuZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhdXRoSGFuZGxlcigpIHtcbiAgY29uc3QgYXV0aCA9IGZpcmViYXNlLmF1dGgoKTtcbiAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKTtcblxuICBhdXRoLm9uQXV0aFN0YXRlQ2hhbmdlZCA9IGF1dGgub25BdXRoU3RhdGVDaGFuZ2VkLmJpbmQoYXV0aCk7XG5cbiAgY29uc3Qgc2lnbmVkSW5TZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN3aGVuLXNpZ25lZC1vdXRcIik7XG4gIGNvbnN0IHNpZ25lZE91dFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3doZW4tc2lnbmVkLWluXCIpO1xuICBjb25zdCBzaWduSW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NpZ24taW4tYnRuXCIpO1xuICBjb25zdCBzaWduT3V0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzaWduLW91dC1idG5cIik7XG5cbiAgc2lnbkluQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgYXV0aC5zaWduSW5XaXRoUG9wdXAocHJvdmlkZXIpO1xuICB9KTtcblxuICBzaWduT3V0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgYXV0aC5zaWduT3V0KCk7XG4gIH0pO1xuXG4gIGNvbnN0IHVzZXJOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdXNlci1uYW1lXCIpO1xuICBjb25zdCB1c2VySWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN1c2VyLWlkXCIpO1xuXG4gIGF1dGgub25BdXRoU3RhdGVDaGFuZ2VkKCh1c2VyKSA9PiB7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIHNpZ25lZEluU2VjdGlvbi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgICAgc2lnbmVkT3V0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICAgICAgdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gdXNlci5kaXNwbGF5TmFtZTtcbiAgICAgIHVzZXJJZEVsZW1lbnQudGV4dENvbnRlbnQgPSB1c2VyLnVpZDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lnbmVkT3V0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgICAgc2lnbmVkSW5TZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gICAgICB1c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBcIm5vIHNpZ25lZCBpbiB1c2VyXCI7XG4gICAgICB1c2VySWRFbGVtZW50LnRleHRDb250ZW50ID0gXCJOL0FcIjtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBhdXRoLm9uQXV0aFN0YXRlQ2hhbmdlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpcmVzdG9yZUhhbmRsZXIob25BdXRoU3RhdGVDaGFuZ2VkKSB7XG4gIGNvbnN0IGRiID0gZmlyZWJhc2UuZmlyZXN0b3JlKCk7XG4gIGNvbnN0IGRhdGFiYXNlVXBkYXRlTGlzdGVuZXJzID0gW107XG4gIGxldCBsaWJyYXJ5UmVmO1xuXG4gIG9uQXV0aFN0YXRlQ2hhbmdlZCh1cGRhdGVMaWJyYXJ5UmVmKTtcblxuICBhc3luYyBmdW5jdGlvbiB1cGRhdGVMaWJyYXJ5UmVmKHVzZXIpIHtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwibm8gdXNlciFcIik7XG4gICAgfVxuXG4gICAgYXdhaXQgZGIuY29sbGVjdGlvbihcInVzZXJzXCIpLmRvYyh1c2VyLnVpZCkuc2V0KHt9LCB7IG1lcmdlOiB0cnVlIH0pO1xuXG4gICAgbGlicmFyeVJlZiA9IGRiLmNvbGxlY3Rpb24oYHVzZXJzLyR7dXNlci51aWR9L2Jvb2tzYCk7XG5cbiAgICBjb25zdCBsaWJyYXJ5U25hcHNob3QgPSBhd2FpdCBsaWJyYXJ5UmVmLmdldCgpO1xuICAgIGNvbnNvbGUubG9nKFwiRG9jdW1lbnQgZGF0YTpcIiwgbGlicmFyeVNuYXBzaG90LmRvY3MpO1xuXG4gICAgLy8gc28gcmVuZGVyIGZ1bmN0aW9ucyBrbm93IHdoZW4gdG8gYWN0dWFsbHkgYmUgY2FsbGVkXG4gICAgaGFuZGxlRGF0YWJhc2VVcGRhdGUoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZURhdGFiYXNlVXBkYXRlKCkge1xuICAgIGRhdGFiYXNlVXBkYXRlTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcigpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRGF0YWJhc2VVcGRhdGUoY2FsbGJhY2spIHtcbiAgICBkYXRhYmFzZVVwZGF0ZUxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8vIGFsbCBvZiB0aGVzZSBmdW5jdGlvbnMgYXJlIGFzeW5jaHJvbm91cywgYmVjYXVzZSBJIHdhbnQgdG8gbWFrZSBzdXJlXG4gIC8vIEkgZG9uJ3QgdHJ5IHRvIHJlLXJlbmRlciBiZWZvcmUgdGhlIGRhdGEgaXMgdXBkYXRlZFxuICBhc3luYyBmdW5jdGlvbiBhZGRCb29rKGJvb2tEYXRhKSB7XG4gICAgY29uc3QgeyBzZXJ2ZXJUaW1lc3RhbXAgfSA9IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlO1xuXG4gICAgYXdhaXQgbGlicmFyeVJlZi5hZGQoe1xuICAgICAgYWRkZWRUaW1lc3RhbXA6IHNlcnZlclRpbWVzdGFtcCgpLFxuICAgICAgbGFzdENoYW5nZWRUaW1lc3RhbXA6IHNlcnZlclRpbWVzdGFtcCgpLFxuICAgICAgLi4uYm9va0RhdGEsXG4gICAgfSk7XG5cbiAgICBoYW5kbGVEYXRhYmFzZVVwZGF0ZSgpO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gc2V0Qm9vayhib29rRGF0YSkge1xuICAgIGNvbnN0IHsgc2VydmVyVGltZXN0YW1wIH0gPSBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZTtcbiAgICBhd2FpdCBsaWJyYXJ5UmVmLmRvYyhib29rRGF0YS5pZCkuc2V0KFxuICAgICAge1xuICAgICAgICBsYXN0Q2hhbmdlZFRpbWVzdGFtcDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICAgIC4uLmJvb2tEYXRhLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgLy8gYi9jIGF0IHRoZSB2ZXJ5IGxlYXN0IEkgd2FudCB0byBrZWVwIGFkZGVkVGltZXN0YW1wXG4gICAgICAgIG1lcmdlOiB0cnVlLFxuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiByZW1vdmVCb29rKGJvb2tJZCkge1xuICAgIGlmICghbGlicmFyeVJlZikge1xuICAgICAgY29uc29sZS5sb2coXCJubyBsaWJyYXJ5IHJlZmVyZW5jZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzZWxlY3RlZEJvb2tSZWYgPSBhd2FpdCBsaWJyYXJ5UmVmLmRvYyhib29rSWQpO1xuICAgIHNlbGVjdGVkQm9va1JlZlxuICAgICAgLmRlbGV0ZSgpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke2Jvb2tJZH0gc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQhYCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYEVycm9yIGRlbGV0aW5nICR7Ym9va0lkfSFgKTtcbiAgICAgIH0pO1xuXG4gICAgaGFuZGxlRGF0YWJhc2VVcGRhdGUoKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGdldEJvb2tzKCkge1xuICAgIGlmICghbGlicmFyeVJlZikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgbGlicmFyeVNuYXBzaG90ID0gYXdhaXQgbGlicmFyeVJlZi5nZXQoKTtcbiAgICByZXR1cm4gbGlicmFyeVNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhZGRCb29rLFxuICAgIHNldEJvb2ssXG4gICAgcmVtb3ZlQm9vayxcbiAgICBnZXRCb29rcyxcbiAgICBvbkRhdGFiYXNlVXBkYXRlLFxuICB9O1xufVxuIiwiLy8gVE9ETzogZml4IHRoaXMgbWVzc1xuLy8gLSBzaG91bGQgYmUgcGFzc2luZyB0aGUgZXZlbnQgZnJvbSB0aGUgZm9ybSBzdWJtaXNzaW9uLFxuLy8gd2hpY2ggaGFzIHRoZSBkYXRhIGZyb20gYWxsIHRoZSBpbnB1dHNcbi8vIC0gc2hvdWxkIHJldHVybiBzb21lIHNvcnQgb2Ygb2JqZWN0IHdoaWNoIGNvbnRhaW5zOlxuLy8gICAtIHRoZSBpbnB1dCB0aGF0IGZhaWxlZCB0byB2YWxpZGF0ZVxuLy8gICAtIHRoZSBlcnJvciBtZXNzYWdlXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2YWxpZGF0ZUZvcm0oZm9ybSwgbGlicmFyeSkge1xuICBjb25zdCBpbnB1dHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFtyZXF1aXJlZF1cIik7XG5cbiAgY29uc3QgZW1wdHlJbnB1dCA9IFsuLi5pbnB1dHNdLmZpbmQoKGlucHV0KSA9PiBpbnB1dC52YWx1ZSA9PT0gXCJcIik7XG5cbiAgaWYgKGVtcHR5SW5wdXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogXCJQbGVhc2UgZmlsbCBvdXQgdGhpcyBmaWVsZCFcIixcbiAgICAgIGlucHV0OiBlbXB0eUlucHV0LFxuICAgIH07XG4gIH1cblxuICAvLyBUT0RPOiBXRUxQLiBET04nVCBMSUtFIFRISVMuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKFxuICAgICAgaW5wdXRzW2ldLm5hbWUgPT09IFwiaWRcIiAmJlxuICAgICAgbGlicmFyeS5zb21lKChib29rKSA9PiBib29rLmlkID09PSBpbnB1dHNbaV0udmFsdWUpXG4gICAgKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgIGlucHV0OiBpbnB1dHNbaV0sXG4gICAgICAgIG1lc3NhZ2U6IFwiaWQgbXVzdCBiZSB1bmlxdWUhXCIsXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoaW5wdXRzW2ldLnR5cGUgPT09IFwibnVtYmVyXCIgJiYgaW5wdXRzW2ldLnZhbHVlIDwgMSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICBpbnB1dDogaW5wdXRzW2ldLFxuICAgICAgICBtZXNzYWdlOiBcIlBhZ2UgY291bnQgY2FuJ3QgYmUgbmVnYXRpdmUhXCIsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuIiwiaW1wb3J0IHsgZ2V0Q2xvc2VCdXR0b24gfSBmcm9tIFwiLi9kb20taGVscGVyc1wiO1xuaW1wb3J0IHZhbGlkYXRlRm9ybSBmcm9tIFwiLi9mb3JtLXZhbGlkYXRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbW9kYWxWaWV3KGFkZEJvb2spIHtcbiAgY29uc3QgbW9kYWxBZGRCb29rQ250ciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtY29udGFpbmVyLWFkZGJvb2tcIik7XG5cbiAgY29uc3QgaW5wdXRzID0gbW9kYWxBZGRCb29rQ250ci5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIik7XG5cbiAgY29uc3Qgc3VibWl0QnV0dG9uID0gbW9kYWxBZGRCb29rQ250clxuICAgIC5xdWVyeVNlbGVjdG9yKFwiZm9ybVwiKVxuICAgIC5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uXCIpO1xuXG4gIGNvbnN0IGNsb3NlTW9kYWxCdG4gPSBnZXRDbG9zZUJ1dHRvbihoYW5kbGVDbG9zZU1vZGFsKTtcbiAgbW9kYWxBZGRCb29rQ250ci5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpLmFwcGVuZENoaWxkKGNsb3NlTW9kYWxCdG4pO1xuXG4gIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlU3VibWl0Rm9ybSk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ2xvc2VNb2RhbCgpIHtcbiAgICBtb2RhbEFkZEJvb2tDbnRyLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICBpbnB1dC5jaGVja2VkID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cblxuICAvLyBUT0RPOiByZWZhY3RvciB0byB1c2UgZXZlbnQgb2JqZWN0ISFcbiAgZnVuY3Rpb24gaGFuZGxlU3VibWl0Rm9ybSgpIHtcbiAgICBjb25zdCB2YWxpZGF0aW9uUmVzcG9uc2UgPSB2YWxpZGF0ZUZvcm0obW9kYWxBZGRCb29rQ250cik7XG5cbiAgICAvLyBuZWVkIHRvIHVzZSAqc3RyaWN0KiBlcXVhbGl0eSwgYmVjYXVzZSBpZiBmYWxzZSBJIHJldHVybiBhbiBlcnJvciBvYmpcbiAgICAvLyAoc29ycnkpXG4gICAgaWYgKHZhbGlkYXRpb25SZXNwb25zZSAhPT0gdHJ1ZSkge1xuICAgICAgdmFsaWRhdGlvbkZhaWxEaXNwbGF5KFxuICAgICAgICB2YWxpZGF0aW9uUmVzcG9uc2UuaW5wdXQsXG4gICAgICAgIHZhbGlkYXRpb25SZXNwb25zZS5tZXNzYWdlXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGJvb2tBcmdzID0ge307XG4gICAgbW9kYWxBZGRCb29rQ250ci5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIikuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGJvb2tBcmdzW2lucHV0Lm5hbWVdID1cbiAgICAgICAgaW5wdXQudHlwZSA9PT0gXCJjaGVja2JveFwiID8gaW5wdXQuY2hlY2tlZCA6IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuXG4gICAgYWRkQm9vayhib29rQXJncyk7XG5cbiAgICBoYW5kbGVDbG9zZU1vZGFsKCk7XG4gIH1cblxuICBmdW5jdGlvbiB2YWxpZGF0aW9uRmFpbERpc3BsYXkoZWxlbWVudCwgbXNnKSB7XG4gICAgY29uc3QgZGVjYXkgPSAxOyAvLyBlcnJvciBtZXNzYWdlIHRpbWVvdXQsIGluIHNlY29uZHNcblxuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInZhbGlkYXRpb24tZmFpbGVkXCIpO1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidmFsaWRhdGlvbi1mYWlsZWRcIik7XG4gICAgZWxlbWVudC5zdHlsZS5hbmltYXRpb25EdXJhdGlvbiA9IGAke2RlY2F5fXNgO1xuXG4gICAgY29uc3QgcG9wdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJjYXJkXCIpO1xuICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJmb3JtLXZhbGlkYXRpb24tZXJyb3JcIik7XG4gICAgcG9wdXAudGV4dENvbnRlbnQgPSBtc2c7XG4gICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHBvcHVwKTtcbiAgICB3aW5kb3cuc2V0VGltZW91dCh0aW1lb3V0LCBkZWNheSAqIDEwMDApO1xuXG4gICAgZnVuY3Rpb24gdGltZW91dCgpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInZhbGlkYXRpb24tZmFpbGVkXCIpO1xuICAgICAgcG9wdXAucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1vZGFsQWRkQm9va0NudHI7XG59XG4iLCJpbXBvcnQgeyBnZXRDbG9zZUJ1dHRvbiwgbWFrZVN3aXRjaCB9IGZyb20gXCIuLi9kb20taGVscGVyc1wiO1xuXG5jb25zdCBib29rVmlldyA9IChib29rLCBvbklzUmVhZENoYW5nZSwgb25EZWxldGVCb29rKSA9PiB7XG4gIGNvbnN0IGdldEJvb2tQcm9wZXJ0eUVsZW1lbnQgPSAocHJvcGVydHkpID0+IHtcbiAgICBjb25zdCBib29rUHJvcGVydHlFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBib29rUHJvcGVydHlFbGVtZW50LnRleHRDb250ZW50ID0gYm9va1twcm9wZXJ0eV07XG4gICAgYm9va1Byb3BlcnR5RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYm9vay1wcm9wXCIpO1xuICAgIGJvb2tQcm9wZXJ0eUVsZW1lbnQuY2xhc3NMaXN0LmFkZChgYm9vay0ke3Byb3BlcnR5fWApO1xuXG4gICAgcmV0dXJuIGJvb2tQcm9wZXJ0eUVsZW1lbnQ7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlSXNSZWFkU3R5bGUgPSAoaXNSZWFkKSA9PiB7XG4gICAgaWYgKGlzUmVhZCkge1xuICAgICAgYm9va0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcInNlbWktdHJhbnNwYXJlbnRcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvb2tFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJzZW1pLXRyYW5zcGFyZW50XCIpO1xuICAgIH1cbiAgfTtcblxuICAvLyogQ29udGFpbmVyXG4gIGNvbnN0IGJvb2tFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgYm9va0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcImJvb2tcIiwgXCJjYXJkXCIpO1xuICB1cGRhdGVJc1JlYWRTdHlsZShib29rLmlzUmVhZCk7XG5cbiAgLy8qIFByb3BlcnR5IGVsZW1lbnRzXG4gIGNvbnN0IHRpdGxlID0gZ2V0Qm9va1Byb3BlcnR5RWxlbWVudChcInRpdGxlXCIpO1xuICBjb25zdCBhdXRob3IgPSBnZXRCb29rUHJvcGVydHlFbGVtZW50KFwiYXV0aG9yXCIpO1xuICBjb25zdCBwYWdlQ291bnQgPSBnZXRCb29rUHJvcGVydHlFbGVtZW50KFwicGFnZUNvdW50XCIpO1xuICBjb25zdCBpc1JlYWQgPSBtYWtlU3dpdGNoKFxuICAgIFwiaXMgcmVhZDpcIixcbiAgICBcImlzUmVhZFwiLFxuICAgIGJvb2suaXNSZWFkLFxuICAgIChzd2l0Y2hWYWx1ZSkgPT4ge1xuICAgICAgb25Jc1JlYWRDaGFuZ2UoYm9vay5pZCwgc3dpdGNoVmFsdWUpO1xuICAgICAgdXBkYXRlSXNSZWFkU3R5bGUoc3dpdGNoVmFsdWUpO1xuICAgIH1cbiAgKTtcblxuICAvLyogRGVsZXRlIGJ1dHRvblxuICBjb25zdCBkZWxldGVCdG4gPSBnZXRDbG9zZUJ1dHRvbigoKSA9PiB7XG4gICAgb25EZWxldGVCb29rKGJvb2suaWQpO1xuICB9KTtcblxuICBkZWxldGVCdG4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgW1wibW91c2VlbnRlclwiLCBcIm1vdXNlbGVhdmVcIl0uZm9yRWFjaCgoZXZlbnRUeXBlKSA9PiB7XG4gICAgYm9va0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsICgpID0+IHtcbiAgICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyogQWRkIGV2ZXJ5dGhpbmcgdG9nZXRoZXJcbiAgW3RpdGxlLCBhdXRob3IsIHBhZ2VDb3VudCwgaXNSZWFkLCBkZWxldGVCdG5dLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICBib29rRWxlbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfSk7XG5cbiAgcmV0dXJuIGJvb2tFbGVtZW50O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYm9va1ZpZXc7XG4iLCJpbXBvcnQgYm9va1ZpZXcgZnJvbSBcIi4vYm9vay12aWV3XCI7XG5cbi8vIFRPRE86IG5vdCBzdXJlIGlmIEkgc2hvdWxkIGdlbmVyYXRlIG9yIHF1ZXJ5IGZvciB0aGUgY29udGFpbmVyXG5jb25zdCBMaWJyYXJ5VmlldyA9IChib29rcywgc2V0Qm9vaywgcmVtb3ZlQm9vaykgPT4ge1xuICAvLyAqIERlZmluZSBodG1sXG4gIGNvbnN0IGJvb2tIZWFkaW5nc0h0bWwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPSdib29rLXByb3AnPlRpdGxlPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPSdib29rLXByb3AnPkF1dGhvcjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz0nYm9vay1wcm9wJz5QYWdlIGNvdW50PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPSdib29rLXByb3AnPlJlYWQgc3RhdHVzPC9kaXY+XG4gIGA7XG4gIGNvbnN0IGJvb2tIZWFkaW5ncyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGJvb2tIZWFkaW5ncy5jbGFzc0xpc3QuYWRkKFwiY2FyZFwiLCBcImJvb2tcIiwgXCJsaWJyYXJ5LWhlYWRlclwiKTtcbiAgYm9va0hlYWRpbmdzLmlubmVySFRNTCA9IGJvb2tIZWFkaW5nc0h0bWw7XG5cbiAgY29uc3QgbGlicmFyeUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBsaWJyYXJ5RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibGlicmFyeVwiKTtcblxuICBsaWJyYXJ5RWxlbWVudC5hcHBlbmRDaGlsZChib29rSGVhZGluZ3MpO1xuXG4gIGJvb2tzLmZvckVhY2goKGJvb2spID0+IHtcbiAgICBsaWJyYXJ5RWxlbWVudC5hcHBlbmRDaGlsZChib29rVmlldyhib29rLCBzZXRCb29rLCByZW1vdmVCb29rKSk7XG4gIH0pO1xuXG4gIHJldHVybiBsaWJyYXJ5RWxlbWVudDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExpYnJhcnlWaWV3O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCIvLyBUT0RPOiByZWZhY3RvciBzdHlsZXMgaW50byBhIFwicHJlbG9hZFwiIGpzIGJ1bmRsZVxuaW1wb3J0IFwiLi4vc3R5bGVzL3Jlc2V0LmNzc1wiO1xuaW1wb3J0IFwiLi4vc3R5bGVzL3N0eWxlLmNzc1wiO1xuXG4vLyBpbXBvcnQgeyBsb2FkLCBzYXZlIH0gZnJvbSBcIi4vaGFuZGxlLWxvY2FsLXN0b3JhZ2VcIjtcbmltcG9ydCBtb2RhbFZpZXcgZnJvbSBcIi4vbW9kYWxcIjtcbmltcG9ydCBMaWJyYXJ5VmlldyBmcm9tIFwiLi92aWV3cy9saWJyYXJ5LXZpZXdcIjtcbmltcG9ydCB7IGNsZWFyQ2hpbGRyZW4gfSBmcm9tIFwiLi9kb20taGVscGVyc1wiO1xuaW1wb3J0IHsgYXV0aEhhbmRsZXIsIGZpcmVzdG9yZUhhbmRsZXIgfSBmcm9tIFwiLi9maXJlYmFzZS1pbml0XCI7XG5cbmNvbnN0IHJlbmRlckxpc3RlbmVycyA9IFtdO1xuXG5mdW5jdGlvbiByZW5kZXIoKSB7XG4gIHJlbmRlckxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoKSk7XG59XG5cbi8vIGRlZmluZSBmdW5jdGlvbiBmb3IgYWRkaW5nIHJlbmRlciBsaXN0ZW5lcnNcbmZ1bmN0aW9uIGFkZFJlbmRlckxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIHJlbmRlckxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyVmlldyh2aWV3LCBjb250YWluZXIpIHtcbiAgY2xlYXJDaGlsZHJlbihjb250YWluZXIpO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQodmlldyk7XG59XG5cbi8vIHByZXR0eSBzdXJlIEkgYWN0dWFsbHkgd2FudCB0byByZXBsYWNlIExpYnJhcnkgd2l0aCBGaXJlc3RvcmUgZW50aXJlbHlcbi8vIGZpcmViYXNlSGFuZGxlciBqdXN0IG5lZWRzIHRvIGJlIHBhc3NlZCBvbkFkZC9vblJlbW92ZS9vblNldFxuY29uc3Qgb25BdXRoU3RhdGVDaGFuZ2UgPSBhdXRoSGFuZGxlcigpO1xuY29uc3QgZGIgPSBmaXJlc3RvcmVIYW5kbGVyKG9uQXV0aFN0YXRlQ2hhbmdlKTtcblxuYXN5bmMgZnVuY3Rpb24gcmVuZGVyTGlicmFyeSgpIHtcbiAgY29uc3QgYm9va3MgPSAoYXdhaXQgZGIuZ2V0Qm9va3MoKSkgPz8gW107XG4gIGNvbnNvbGUubG9nKFwiYm9va3NcIiwgYm9va3MpO1xuICBjb25zdCBsaWJyYXJ5Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5saWJyYXJ5LWNvbnRhaW5lclwiKTtcbiAgY29uc3QgbGlicmFyeVZpZXcgPSBMaWJyYXJ5Vmlldyhib29rcywgZGIuc2V0Qm9vaywgZGIucmVtb3ZlQm9vayk7XG4gIHJlbmRlclZpZXcobGlicmFyeVZpZXcsIGxpYnJhcnlDb250YWluZXIpO1xuICAvLyBzYXZlKGJvb2tzKTtcbn1cblxuYWRkUmVuZGVyTGlzdGVuZXIocmVuZGVyTGlicmFyeSk7XG5cbi8vICogSW5pdGlhbGl6ZSBtb2RhbCBcIkFkZCBCb29rXCIgZm9ybVxuY29uc3QgYWRkQm9va01vZGFsID0gbW9kYWxWaWV3KGRiLmFkZEJvb2spO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1ib29rLWJ0blwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhZGRCb29rTW9kYWwuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcbn0pO1xuXG4vLyBsaWJyYXJ5IHNob3VsZCByZS1yZW5kZXIgd2hlbiB0aGUgZGF0YWJhc2UgY2hhbmdlc1xuZGIub25EYXRhYmFzZVVwZGF0ZShyZW5kZXIpO1xuXG4vLyEgVEVNUCBcIlJFLVJFTkRFUlwiIEJVVFRPTlxuY29uc3QgcmVuZGVyQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbnJlbmRlckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcmVuZGVyKTtcbnJlbmRlckJ0bi50ZXh0Q29udGVudCA9IFwicmUtcmVuZGVyXCI7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpblwiKS5hcHBlbmRDaGlsZChyZW5kZXJCdG4pO1xuXG4vLyBUT0RPOiBpbml0IHN0YXRzIHJlbmRlcmVyXG4iXSwic291cmNlUm9vdCI6IiJ9