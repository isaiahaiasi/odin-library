/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./env.js":
/*!****************!*\
  !*** ./env.js ***!
  \****************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const env = {
  API_KEY: "AIzaSyAwegV7xlbTZlIdLijPYk-cyMgezu0_Ozs",
  AUTH_DOMAIN: "odinlibrary-f5.firebaseapp.com",
  PROJECT_ID: "odinlibrary-f5",
  STORAGE_BUCKET: "odinlibrary-f5.appspot.com",
  MESSAGING_SENDER_ID: "1092737413441",
  APP_ID: "1:1092737413441:web:a879709c9e7f5c3db671c0",
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (env);


/***/ }),

/***/ "./node_modules/@firebase/app/dist/index.esm.js":
/*!******************************************************!*\
  !*** ./node_modules/@firebase/app/dist/index.esm.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "firebase": () => (/* binding */ firebase$1)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _firebase_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @firebase/util */ "./node_modules/@firebase/util/dist/index.esm.js");
/* harmony import */ var _firebase_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @firebase/component */ "./node_modules/@firebase/component/dist/index.esm.js");
/* harmony import */ var _firebase_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @firebase/logger */ "./node_modules/@firebase/logger/dist/index.esm.js");





/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _a;
var ERRORS = (_a = {},
    _a["no-app" /* NO_APP */] = "No Firebase App '{$appName}' has been created - " +
        'call Firebase App.initializeApp()',
    _a["bad-app-name" /* BAD_APP_NAME */] = "Illegal App name: '{$appName}",
    _a["duplicate-app" /* DUPLICATE_APP */] = "Firebase App named '{$appName}' already exists",
    _a["app-deleted" /* APP_DELETED */] = "Firebase App named '{$appName}' already deleted",
    _a["invalid-app-argument" /* INVALID_APP_ARGUMENT */] = 'firebase.{$appName}() takes either no argument or a ' +
        'Firebase App instance.',
    _a["invalid-log-argument" /* INVALID_LOG_ARGUMENT */] = 'First argument to `onLog` must be null or a function.',
    _a);
var ERROR_FACTORY = new _firebase_util__WEBPACK_IMPORTED_MODULE_0__.ErrorFactory('app', 'Firebase', ERRORS);

var name = "@firebase/app";
var version = "0.6.20";

var name$1 = "@firebase/analytics";

var name$2 = "@firebase/auth";

var name$3 = "@firebase/database";

var name$4 = "@firebase/functions";

var name$5 = "@firebase/installations";

var name$6 = "@firebase/messaging";

var name$7 = "@firebase/performance";

var name$8 = "@firebase/remote-config";

var name$9 = "@firebase/storage";

var name$a = "@firebase/firestore";

var name$b = "firebase-wrapper";

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _a$1;
var DEFAULT_ENTRY_NAME = '[DEFAULT]';
var PLATFORM_LOG_STRING = (_a$1 = {},
    _a$1[name] = 'fire-core',
    _a$1[name$1] = 'fire-analytics',
    _a$1[name$2] = 'fire-auth',
    _a$1[name$3] = 'fire-rtdb',
    _a$1[name$4] = 'fire-fn',
    _a$1[name$5] = 'fire-iid',
    _a$1[name$6] = 'fire-fcm',
    _a$1[name$7] = 'fire-perf',
    _a$1[name$8] = 'fire-rc',
    _a$1[name$9] = 'fire-gcs',
    _a$1[name$a] = 'fire-fst',
    _a$1['fire-js'] = 'fire-js',
    _a$1[name$b] = 'fire-js-all',
    _a$1);

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var logger = new _firebase_logger__WEBPACK_IMPORTED_MODULE_2__.Logger('@firebase/app');

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Global context object for a collection of services using
 * a shared authentication state.
 */
var FirebaseAppImpl = /** @class */ (function () {
    function FirebaseAppImpl(options, config, firebase_) {
        var _this = this;
        this.firebase_ = firebase_;
        this.isDeleted_ = false;
        this.name_ = config.name;
        this.automaticDataCollectionEnabled_ =
            config.automaticDataCollectionEnabled || false;
        this.options_ = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_0__.deepCopy)(options);
        this.container = new _firebase_component__WEBPACK_IMPORTED_MODULE_1__.ComponentContainer(config.name);
        // add itself to container
        this._addComponent(new _firebase_component__WEBPACK_IMPORTED_MODULE_1__.Component('app', function () { return _this; }, "PUBLIC" /* PUBLIC */));
        // populate ComponentContainer with existing components
        this.firebase_.INTERNAL.components.forEach(function (component) {
            return _this._addComponent(component);
        });
    }
    Object.defineProperty(FirebaseAppImpl.prototype, "automaticDataCollectionEnabled", {
        get: function () {
            this.checkDestroyed_();
            return this.automaticDataCollectionEnabled_;
        },
        set: function (val) {
            this.checkDestroyed_();
            this.automaticDataCollectionEnabled_ = val;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(FirebaseAppImpl.prototype, "name", {
        get: function () {
            this.checkDestroyed_();
            return this.name_;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(FirebaseAppImpl.prototype, "options", {
        get: function () {
            this.checkDestroyed_();
            return this.options_;
        },
        enumerable: false,
        configurable: true
    });
    FirebaseAppImpl.prototype.delete = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.checkDestroyed_();
            resolve();
        })
            .then(function () {
            _this.firebase_.INTERNAL.removeApp(_this.name_);
            return Promise.all(_this.container.getProviders().map(function (provider) { return provider.delete(); }));
        })
            .then(function () {
            _this.isDeleted_ = true;
        });
    };
    /**
     * Return a service instance associated with this app (creating it
     * on demand), identified by the passed instanceIdentifier.
     *
     * NOTE: Currently storage and functions are the only ones that are leveraging this
     * functionality. They invoke it by calling:
     *
     * ```javascript
     * firebase.app().storage('STORAGE BUCKET ID')
     * ```
     *
     * The service name is passed to this already
     * @internal
     */
    FirebaseAppImpl.prototype._getService = function (name, instanceIdentifier) {
        if (instanceIdentifier === void 0) { instanceIdentifier = DEFAULT_ENTRY_NAME; }
        this.checkDestroyed_();
        // getImmediate will always succeed because _getService is only called for registered components.
        return this.container.getProvider(name).getImmediate({
            identifier: instanceIdentifier
        });
    };
    /**
     * Remove a service instance from the cache, so we will create a new instance for this service
     * when people try to get this service again.
     *
     * NOTE: currently only firestore is using this functionality to support firestore shutdown.
     *
     * @param name The service name
     * @param instanceIdentifier instance identifier in case multiple instances are allowed
     * @internal
     */
    FirebaseAppImpl.prototype._removeServiceInstance = function (name, instanceIdentifier) {
        if (instanceIdentifier === void 0) { instanceIdentifier = DEFAULT_ENTRY_NAME; }
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        this.container.getProvider(name).clearInstance(instanceIdentifier);
    };
    /**
     * @param component the component being added to this app's container
     */
    FirebaseAppImpl.prototype._addComponent = function (component) {
        try {
            this.container.addComponent(component);
        }
        catch (e) {
            logger.debug("Component " + component.name + " failed to register with FirebaseApp " + this.name, e);
        }
    };
    FirebaseAppImpl.prototype._addOrOverwriteComponent = function (component) {
        this.container.addOrOverwriteComponent(component);
    };
    FirebaseAppImpl.prototype.toJSON = function () {
        return {
            name: this.name,
            automaticDataCollectionEnabled: this.automaticDataCollectionEnabled,
            options: this.options
        };
    };
    /**
     * This function will throw an Error if the App has already been deleted -
     * use before performing API actions on the App.
     */
    FirebaseAppImpl.prototype.checkDestroyed_ = function () {
        if (this.isDeleted_) {
            throw ERROR_FACTORY.create("app-deleted" /* APP_DELETED */, { appName: this.name_ });
        }
    };
    return FirebaseAppImpl;
}());
// Prevent dead-code elimination of these methods w/o invalid property
// copying.
(FirebaseAppImpl.prototype.name && FirebaseAppImpl.prototype.options) ||
    FirebaseAppImpl.prototype.delete ||
    console.log('dc');

var version$1 = "8.4.0";

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Because auth can't share code with other components, we attach the utility functions
 * in an internal namespace to share code.
 * This function return a firebase namespace object without
 * any utility functions, so it can be shared between the regular firebaseNamespace and
 * the lite version.
 */
function createFirebaseNamespaceCore(firebaseAppImpl) {
    var apps = {};
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    var components = new Map();
    // A namespace is a plain JavaScript Object.
    var namespace = {
        // Hack to prevent Babel from modifying the object returned
        // as the firebase namespace.
        // @ts-ignore
        __esModule: true,
        initializeApp: initializeApp,
        // @ts-ignore
        app: app,
        registerVersion: registerVersion,
        setLogLevel: _firebase_logger__WEBPACK_IMPORTED_MODULE_2__.setLogLevel,
        onLog: onLog,
        // @ts-ignore
        apps: null,
        SDK_VERSION: version$1,
        INTERNAL: {
            registerComponent: registerComponent,
            removeApp: removeApp,
            components: components,
            useAsService: useAsService
        }
    };
    // Inject a circular default export to allow Babel users who were previously
    // using:
    //
    //   import firebase from 'firebase';
    //   which becomes: var firebase = require('firebase').default;
    //
    // instead of
    //
    //   import * as firebase from 'firebase';
    //   which becomes: var firebase = require('firebase');
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    namespace['default'] = namespace;
    // firebase.apps is a read-only getter.
    Object.defineProperty(namespace, 'apps', {
        get: getApps
    });
    /**
     * Called by App.delete() - but before any services associated with the App
     * are deleted.
     */
    function removeApp(name) {
        delete apps[name];
    }
    /**
     * Get the App object for a given name (or DEFAULT).
     */
    function app(name) {
        name = name || DEFAULT_ENTRY_NAME;
        if (!(0,_firebase_util__WEBPACK_IMPORTED_MODULE_0__.contains)(apps, name)) {
            throw ERROR_FACTORY.create("no-app" /* NO_APP */, { appName: name });
        }
        return apps[name];
    }
    // @ts-ignore
    app['App'] = firebaseAppImpl;
    function initializeApp(options, rawConfig) {
        if (rawConfig === void 0) { rawConfig = {}; }
        if (typeof rawConfig !== 'object' || rawConfig === null) {
            var name_1 = rawConfig;
            rawConfig = { name: name_1 };
        }
        var config = rawConfig;
        if (config.name === undefined) {
            config.name = DEFAULT_ENTRY_NAME;
        }
        var name = config.name;
        if (typeof name !== 'string' || !name) {
            throw ERROR_FACTORY.create("bad-app-name" /* BAD_APP_NAME */, {
                appName: String(name)
            });
        }
        if ((0,_firebase_util__WEBPACK_IMPORTED_MODULE_0__.contains)(apps, name)) {
            throw ERROR_FACTORY.create("duplicate-app" /* DUPLICATE_APP */, { appName: name });
        }
        var app = new firebaseAppImpl(options, config, namespace);
        apps[name] = app;
        return app;
    }
    /*
     * Return an array of all the non-deleted FirebaseApps.
     */
    function getApps() {
        // Make a copy so caller cannot mutate the apps list.
        return Object.keys(apps).map(function (name) { return apps[name]; });
    }
    function registerComponent(component) {
        var componentName = component.name;
        if (components.has(componentName)) {
            logger.debug("There were multiple attempts to register component " + componentName + ".");
            return component.type === "PUBLIC" /* PUBLIC */
                ? // eslint-disable-next-line @typescript-eslint/no-explicit-any
                    namespace[componentName]
                : null;
        }
        components.set(componentName, component);
        // create service namespace for public components
        if (component.type === "PUBLIC" /* PUBLIC */) {
            // The Service namespace is an accessor function ...
            var serviceNamespace = function (appArg) {
                if (appArg === void 0) { appArg = app(); }
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                if (typeof appArg[componentName] !== 'function') {
                    // Invalid argument.
                    // This happens in the following case: firebase.storage('gs:/')
                    throw ERROR_FACTORY.create("invalid-app-argument" /* INVALID_APP_ARGUMENT */, {
                        appName: componentName
                    });
                }
                // Forward service instance lookup to the FirebaseApp.
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                return appArg[componentName]();
            };
            // ... and a container for service-level properties.
            if (component.serviceProps !== undefined) {
                (0,_firebase_util__WEBPACK_IMPORTED_MODULE_0__.deepExtend)(serviceNamespace, component.serviceProps);
            }
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            namespace[componentName] = serviceNamespace;
            // Patch the FirebaseAppImpl prototype
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            firebaseAppImpl.prototype[componentName] =
                // TODO: The eslint disable can be removed and the 'ignoreRestArgs'
                // option added to the no-explicit-any rule when ESlint releases it.
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    var serviceFxn = this._getService.bind(this, componentName);
                    return serviceFxn.apply(this, component.multipleInstances ? args : []);
                };
        }
        // add the component to existing app instances
        for (var _i = 0, _a = Object.keys(apps); _i < _a.length; _i++) {
            var appName = _a[_i];
            apps[appName]._addComponent(component);
        }
        return component.type === "PUBLIC" /* PUBLIC */
            ? // eslint-disable-next-line @typescript-eslint/no-explicit-any
                namespace[componentName]
            : null;
    }
    function registerVersion(libraryKeyOrName, version, variant) {
        var _a;
        // TODO: We can use this check to whitelist strings when/if we set up
        // a good whitelist system.
        var library = (_a = PLATFORM_LOG_STRING[libraryKeyOrName]) !== null && _a !== void 0 ? _a : libraryKeyOrName;
        if (variant) {
            library += "-" + variant;
        }
        var libraryMismatch = library.match(/\s|\//);
        var versionMismatch = version.match(/\s|\//);
        if (libraryMismatch || versionMismatch) {
            var warning = [
                "Unable to register library \"" + library + "\" with version \"" + version + "\":"
            ];
            if (libraryMismatch) {
                warning.push("library name \"" + library + "\" contains illegal characters (whitespace or \"/\")");
            }
            if (libraryMismatch && versionMismatch) {
                warning.push('and');
            }
            if (versionMismatch) {
                warning.push("version name \"" + version + "\" contains illegal characters (whitespace or \"/\")");
            }
            logger.warn(warning.join(' '));
            return;
        }
        registerComponent(new _firebase_component__WEBPACK_IMPORTED_MODULE_1__.Component(library + "-version", function () { return ({ library: library, version: version }); }, "VERSION" /* VERSION */));
    }
    function onLog(logCallback, options) {
        if (logCallback !== null && typeof logCallback !== 'function') {
            throw ERROR_FACTORY.create("invalid-log-argument" /* INVALID_LOG_ARGUMENT */);
        }
        (0,_firebase_logger__WEBPACK_IMPORTED_MODULE_2__.setUserLogHandler)(logCallback, options);
    }
    // Map the requested service to a registered service name
    // (used to map auth to serverAuth service when needed).
    function useAsService(app, name) {
        if (name === 'serverAuth') {
            return null;
        }
        var useService = name;
        return useService;
    }
    return namespace;
}

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Return a firebase namespace object.
 *
 * In production, this will be called exactly once and the result
 * assigned to the 'firebase' global.  It may be called multiple times
 * in unit tests.
 */
function createFirebaseNamespace() {
    var namespace = createFirebaseNamespaceCore(FirebaseAppImpl);
    namespace.INTERNAL = (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_3__.__assign)({}, namespace.INTERNAL), { createFirebaseNamespace: createFirebaseNamespace,
        extendNamespace: extendNamespace,
        createSubscribe: _firebase_util__WEBPACK_IMPORTED_MODULE_0__.createSubscribe,
        ErrorFactory: _firebase_util__WEBPACK_IMPORTED_MODULE_0__.ErrorFactory,
        deepExtend: _firebase_util__WEBPACK_IMPORTED_MODULE_0__.deepExtend });
    /**
     * Patch the top-level firebase namespace with additional properties.
     *
     * firebase.INTERNAL.extendNamespace()
     */
    function extendNamespace(props) {
        (0,_firebase_util__WEBPACK_IMPORTED_MODULE_0__.deepExtend)(namespace, props);
    }
    return namespace;
}
var firebase = createFirebaseNamespace();

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var PlatformLoggerService = /** @class */ (function () {
    function PlatformLoggerService(container) {
        this.container = container;
    }
    // In initial implementation, this will be called by installations on
    // auth token refresh, and installations will send this string.
    PlatformLoggerService.prototype.getPlatformInfoString = function () {
        var providers = this.container.getProviders();
        // Loop through providers and get library/version pairs from any that are
        // version components.
        return providers
            .map(function (provider) {
            if (isVersionServiceProvider(provider)) {
                var service = provider.getImmediate();
                return service.library + "/" + service.version;
            }
            else {
                return null;
            }
        })
            .filter(function (logString) { return logString; })
            .join(' ');
    };
    return PlatformLoggerService;
}());
/**
 *
 * @param provider check if this provider provides a VersionService
 *
 * NOTE: Using Provider<'app-version'> is a hack to indicate that the provider
 * provides VersionService. The provider is not necessarily a 'app-version'
 * provider.
 */
function isVersionServiceProvider(provider) {
    var component = provider.getComponent();
    return (component === null || component === void 0 ? void 0 : component.type) === "VERSION" /* VERSION */;
}

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function registerCoreComponents(firebase, variant) {
    firebase.INTERNAL.registerComponent(new _firebase_component__WEBPACK_IMPORTED_MODULE_1__.Component('platform-logger', function (container) { return new PlatformLoggerService(container); }, "PRIVATE" /* PRIVATE */));
    // Register `app` package.
    firebase.registerVersion(name, version, variant);
    // Register platform SDK identifier (no version).
    firebase.registerVersion('fire-js', '');
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
// Firebase Lite detection test
// eslint-disable-next-line @typescript-eslint/no-explicit-any
if ((0,_firebase_util__WEBPACK_IMPORTED_MODULE_0__.isBrowser)() && self.firebase !== undefined) {
    logger.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");
    // eslint-disable-next-line
    var sdkVersion = self.firebase.SDK_VERSION;
    if (sdkVersion && sdkVersion.indexOf('LITE') >= 0) {
        logger.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ");
    }
}
var initializeApp = firebase.initializeApp;
// TODO: This disable can be removed and the 'ignoreRestArgs' option added to
// the no-explicit-any rule when ESlint releases it.
// eslint-disable-next-line @typescript-eslint/no-explicit-any
firebase.initializeApp = function () {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    // Environment check before initializing app
    // Do the check in initializeApp, so people have a chance to disable it by setting logLevel
    // in @firebase/logger
    if ((0,_firebase_util__WEBPACK_IMPORTED_MODULE_0__.isNode)()) {
        logger.warn("\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the \"main\" field in package.json.\n      \n      If you are using Webpack, you can specify \"main\" as the first item in\n      \"resolve.mainFields\":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify \"main\"\n      as the first item in \"mainFields\", e.g. ['main', 'module'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      ");
    }
    return initializeApp.apply(undefined, args);
};
var firebase$1 = firebase;
registerCoreComponents(firebase$1);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (firebase$1);

//# sourceMappingURL=index.esm.js.map


/***/ }),

/***/ "./node_modules/@firebase/component/dist/index.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/@firebase/component/dist/index.esm.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Component": () => (/* binding */ Component),
/* harmony export */   "ComponentContainer": () => (/* binding */ ComponentContainer),
/* harmony export */   "Provider": () => (/* binding */ Provider)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _firebase_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @firebase/util */ "./node_modules/@firebase/util/dist/index.esm.js");



/**
 * Component for service name T, e.g. `auth`, `auth-internal`
 */
var Component = /** @class */ (function () {
    /**
     *
     * @param name The public service name, e.g. app, auth, firestore, database
     * @param instanceFactory Service factory responsible for creating the public interface
     * @param type whether the service provided by the component is public or private
     */
    function Component(name, instanceFactory, type) {
        this.name = name;
        this.instanceFactory = instanceFactory;
        this.type = type;
        this.multipleInstances = false;
        /**
         * Properties to be added to the service namespace
         */
        this.serviceProps = {};
        this.instantiationMode = "LAZY" /* LAZY */;
        this.onInstanceCreated = null;
    }
    Component.prototype.setInstantiationMode = function (mode) {
        this.instantiationMode = mode;
        return this;
    };
    Component.prototype.setMultipleInstances = function (multipleInstances) {
        this.multipleInstances = multipleInstances;
        return this;
    };
    Component.prototype.setServiceProps = function (props) {
        this.serviceProps = props;
        return this;
    };
    Component.prototype.setInstanceCreatedCallback = function (callback) {
        this.onInstanceCreated = callback;
        return this;
    };
    return Component;
}());

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var DEFAULT_ENTRY_NAME = '[DEFAULT]';

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Provider for instance for service name T, e.g. 'auth', 'auth-internal'
 * NameServiceMapping[T] is an alias for the type of the instance
 */
var Provider = /** @class */ (function () {
    function Provider(name, container) {
        this.name = name;
        this.container = container;
        this.component = null;
        this.instances = new Map();
        this.instancesDeferred = new Map();
    }
    /**
     * @param identifier A provider can provide mulitple instances of a service
     * if this.component.multipleInstances is true.
     */
    Provider.prototype.get = function (identifier) {
        if (identifier === void 0) { identifier = DEFAULT_ENTRY_NAME; }
        // if multipleInstances is not supported, use the default name
        var normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);
        if (!this.instancesDeferred.has(normalizedIdentifier)) {
            var deferred = new _firebase_util__WEBPACK_IMPORTED_MODULE_0__.Deferred();
            this.instancesDeferred.set(normalizedIdentifier, deferred);
            if (this.isInitialized(normalizedIdentifier) ||
                this.shouldAutoInitialize()) {
                // initialize the service if it can be auto-initialized
                try {
                    var instance = this.getOrInitializeService({
                        instanceIdentifier: normalizedIdentifier
                    });
                    if (instance) {
                        deferred.resolve(instance);
                    }
                }
                catch (e) {
                    // when the instance factory throws an exception during get(), it should not cause
                    // a fatal error. We just return the unresolved promise in this case.
                }
            }
        }
        return this.instancesDeferred.get(normalizedIdentifier).promise;
    };
    Provider.prototype.getImmediate = function (options) {
        var _a = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({ identifier: DEFAULT_ENTRY_NAME, optional: false }, options), identifier = _a.identifier, optional = _a.optional;
        // if multipleInstances is not supported, use the default name
        var normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);
        if (this.isInitialized(normalizedIdentifier) ||
            this.shouldAutoInitialize()) {
            try {
                return this.getOrInitializeService({
                    instanceIdentifier: normalizedIdentifier
                });
            }
            catch (e) {
                if (optional) {
                    return null;
                }
                else {
                    throw e;
                }
            }
        }
        else {
            // In case a component is not initialized and should/can not be auto-initialized at the moment, return null if the optional flag is set, or throw
            if (optional) {
                return null;
            }
            else {
                throw Error("Service " + this.name + " is not available");
            }
        }
    };
    Provider.prototype.getComponent = function () {
        return this.component;
    };
    Provider.prototype.setComponent = function (component) {
        var e_1, _a;
        if (component.name !== this.name) {
            throw Error("Mismatching Component " + component.name + " for Provider " + this.name + ".");
        }
        if (this.component) {
            throw Error("Component for " + this.name + " has already been provided");
        }
        this.component = component;
        // return early without attempting to initialize the component if the component requires explicit initialization (calling `Provider.initialize()`)
        if (!this.shouldAutoInitialize()) {
            return;
        }
        // if the service is eager, initialize the default instance
        if (isComponentEager(component)) {
            try {
                this.getOrInitializeService({ instanceIdentifier: DEFAULT_ENTRY_NAME });
            }
            catch (e) {
                // when the instance factory for an eager Component throws an exception during the eager
                // initialization, it should not cause a fatal error.
                // TODO: Investigate if we need to make it configurable, because some component may want to cause
                // a fatal error in this case?
            }
        }
        try {
            // Create service instances for the pending promises and resolve them
            // NOTE: if this.multipleInstances is false, only the default instance will be created
            // and all promises with resolve with it regardless of the identifier.
            for (var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__values)(this.instancesDeferred.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {
                var _d = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__read)(_c.value, 2), instanceIdentifier = _d[0], instanceDeferred = _d[1];
                var normalizedIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);
                try {
                    // `getOrInitializeService()` should always return a valid instance since a component is guaranteed. use ! to make typescript happy.
                    var instance = this.getOrInitializeService({
                        instanceIdentifier: normalizedIdentifier
                    });
                    instanceDeferred.resolve(instance);
                }
                catch (e) {
                    // when the instance factory throws an exception, it should not cause
                    // a fatal error. We just leave the promise unresolved.
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
    };
    Provider.prototype.clearInstance = function (identifier) {
        if (identifier === void 0) { identifier = DEFAULT_ENTRY_NAME; }
        this.instancesDeferred.delete(identifier);
        this.instances.delete(identifier);
    };
    // app.delete() will call this method on every provider to delete the services
    // TODO: should we mark the provider as deleted?
    Provider.prototype.delete = function () {
        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__awaiter)(this, void 0, void 0, function () {
            var services;
            return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__generator)(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        services = Array.from(this.instances.values());
                        return [4 /*yield*/, Promise.all((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)([], (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__read)(services
                                .filter(function (service) { return 'INTERNAL' in service; }) // legacy services
                                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                                .map(function (service) { return service.INTERNAL.delete(); }))), (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__read)(services
                                .filter(function (service) { return '_delete' in service; }) // modularized services
                                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                                .map(function (service) { return service._delete(); }))))];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    Provider.prototype.isComponentSet = function () {
        return this.component != null;
    };
    Provider.prototype.isInitialized = function (identifier) {
        if (identifier === void 0) { identifier = DEFAULT_ENTRY_NAME; }
        return this.instances.has(identifier);
    };
    Provider.prototype.initialize = function (opts) {
        var e_2, _a;
        if (opts === void 0) { opts = {}; }
        var _b = opts.instanceIdentifier, instanceIdentifier = _b === void 0 ? DEFAULT_ENTRY_NAME : _b, _c = opts.options, options = _c === void 0 ? {} : _c;
        var normalizedIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);
        if (this.isInitialized(normalizedIdentifier)) {
            throw Error(this.name + "(" + normalizedIdentifier + ") has already been initialized");
        }
        if (!this.isComponentSet()) {
            throw Error("Component " + this.name + " has not been registered yet");
        }
        var instance = this.getOrInitializeService({
            instanceIdentifier: normalizedIdentifier,
            options: options
        });
        try {
            // resolve any pending promise waiting for the service instance
            for (var _d = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__values)(this.instancesDeferred.entries()), _e = _d.next(); !_e.done; _e = _d.next()) {
                var _f = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__read)(_e.value, 2), instanceIdentifier_1 = _f[0], instanceDeferred = _f[1];
                var normalizedDeferredIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier_1);
                if (normalizedIdentifier === normalizedDeferredIdentifier) {
                    instanceDeferred.resolve(instance);
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return instance;
    };
    Provider.prototype.getOrInitializeService = function (_a) {
        var instanceIdentifier = _a.instanceIdentifier, _b = _a.options, options = _b === void 0 ? {} : _b;
        var instance = this.instances.get(instanceIdentifier);
        if (!instance && this.component) {
            instance = this.component.instanceFactory(this.container, {
                instanceIdentifier: normalizeIdentifierForFactory(instanceIdentifier),
                options: options
            });
            this.instances.set(instanceIdentifier, instance);
            /**
             * Order is important
             * onInstanceCreated() should be called after this.instances.set(instanceIdentifier, instance); which
             * makes `isInitialized()` return true.
             */
            if (this.component.onInstanceCreated) {
                try {
                    this.component.onInstanceCreated(this.container, instanceIdentifier, instance);
                }
                catch (_c) {
                    // ignore errors in the onInstanceCreatedCallback
                }
            }
        }
        return instance || null;
    };
    Provider.prototype.normalizeInstanceIdentifier = function (identifier) {
        if (this.component) {
            return this.component.multipleInstances ? identifier : DEFAULT_ENTRY_NAME;
        }
        else {
            return identifier; // assume multiple instances are supported before the component is provided.
        }
    };
    Provider.prototype.shouldAutoInitialize = function () {
        return (!!this.component &&
            this.component.instantiationMode !== "EXPLICIT" /* EXPLICIT */);
    };
    return Provider;
}());
// undefined should be passed to the service factory for the default instance
function normalizeIdentifierForFactory(identifier) {
    return identifier === DEFAULT_ENTRY_NAME ? undefined : identifier;
}
function isComponentEager(component) {
    return component.instantiationMode === "EAGER" /* EAGER */;
}

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * ComponentContainer that provides Providers for service name T, e.g. `auth`, `auth-internal`
 */
var ComponentContainer = /** @class */ (function () {
    function ComponentContainer(name) {
        this.name = name;
        this.providers = new Map();
    }
    /**
     *
     * @param component Component being added
     * @param overwrite When a component with the same name has already been registered,
     * if overwrite is true: overwrite the existing component with the new component and create a new
     * provider with the new component. It can be useful in tests where you want to use different mocks
     * for different tests.
     * if overwrite is false: throw an exception
     */
    ComponentContainer.prototype.addComponent = function (component) {
        var provider = this.getProvider(component.name);
        if (provider.isComponentSet()) {
            throw new Error("Component " + component.name + " has already been registered with " + this.name);
        }
        provider.setComponent(component);
    };
    ComponentContainer.prototype.addOrOverwriteComponent = function (component) {
        var provider = this.getProvider(component.name);
        if (provider.isComponentSet()) {
            // delete the existing provider from the container, so we can register the new component
            this.providers.delete(component.name);
        }
        this.addComponent(component);
    };
    /**
     * getProvider provides a type safe interface where it can only be called with a field name
     * present in NameServiceMapping interface.
     *
     * Firebase SDKs providing services should extend NameServiceMapping interface to register
     * themselves.
     */
    ComponentContainer.prototype.getProvider = function (name) {
        if (this.providers.has(name)) {
            return this.providers.get(name);
        }
        // create a Provider for a service that hasn't registered with Firebase
        var provider = new Provider(name, this);
        this.providers.set(name, provider);
        return provider;
    };
    ComponentContainer.prototype.getProviders = function () {
        return Array.from(this.providers.values());
    };
    return ComponentContainer;
}());


//# sourceMappingURL=index.esm.js.map


/***/ }),

/***/ "./node_modules/@firebase/logger/dist/index.esm.js":
/*!*********************************************************!*\
  !*** ./node_modules/@firebase/logger/dist/index.esm.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LogLevel": () => (/* binding */ LogLevel),
/* harmony export */   "Logger": () => (/* binding */ Logger),
/* harmony export */   "setLogLevel": () => (/* binding */ setLogLevel),
/* harmony export */   "setUserLogHandler": () => (/* binding */ setUserLogHandler)
/* harmony export */ });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _a;
/**
 * A container for all of the Logger instances
 */
var instances = [];
/**
 * The JS SDK supports 5 log levels and also allows a user the ability to
 * silence the logs altogether.
 *
 * The order is a follows:
 * DEBUG < VERBOSE < INFO < WARN < ERROR
 *
 * All of the log types above the current log level will be captured (i.e. if
 * you set the log level to `INFO`, errors will still be logged, but `DEBUG` and
 * `VERBOSE` logs will not)
 */
var LogLevel;
(function (LogLevel) {
    LogLevel[LogLevel["DEBUG"] = 0] = "DEBUG";
    LogLevel[LogLevel["VERBOSE"] = 1] = "VERBOSE";
    LogLevel[LogLevel["INFO"] = 2] = "INFO";
    LogLevel[LogLevel["WARN"] = 3] = "WARN";
    LogLevel[LogLevel["ERROR"] = 4] = "ERROR";
    LogLevel[LogLevel["SILENT"] = 5] = "SILENT";
})(LogLevel || (LogLevel = {}));
var levelStringToEnum = {
    'debug': LogLevel.DEBUG,
    'verbose': LogLevel.VERBOSE,
    'info': LogLevel.INFO,
    'warn': LogLevel.WARN,
    'error': LogLevel.ERROR,
    'silent': LogLevel.SILENT
};
/**
 * The default log level
 */
var defaultLogLevel = LogLevel.INFO;
/**
 * By default, `console.debug` is not displayed in the developer console (in
 * chrome). To avoid forcing users to have to opt-in to these logs twice
 * (i.e. once for firebase, and once in the console), we are sending `DEBUG`
 * logs to the `console.log` function.
 */
var ConsoleMethod = (_a = {},
    _a[LogLevel.DEBUG] = 'log',
    _a[LogLevel.VERBOSE] = 'log',
    _a[LogLevel.INFO] = 'info',
    _a[LogLevel.WARN] = 'warn',
    _a[LogLevel.ERROR] = 'error',
    _a);
/**
 * The default log handler will forward DEBUG, VERBOSE, INFO, WARN, and ERROR
 * messages on to their corresponding console counterparts (if the log method
 * is supported by the current log level)
 */
var defaultLogHandler = function (instance, logType) {
    var args = [];
    for (var _i = 2; _i < arguments.length; _i++) {
        args[_i - 2] = arguments[_i];
    }
    if (logType < instance.logLevel) {
        return;
    }
    var now = new Date().toISOString();
    var method = ConsoleMethod[logType];
    if (method) {
        console[method].apply(console, __spreadArrays(["[" + now + "]  " + instance.name + ":"], args));
    }
    else {
        throw new Error("Attempted to log a message with an invalid logType (value: " + logType + ")");
    }
};
var Logger = /** @class */ (function () {
    /**
     * Gives you an instance of a Logger to capture messages according to
     * Firebase's logging scheme.
     *
     * @param name The name that the logs will be associated with
     */
    function Logger(name) {
        this.name = name;
        /**
         * The log level of the given Logger instance.
         */
        this._logLevel = defaultLogLevel;
        /**
         * The main (internal) log handler for the Logger instance.
         * Can be set to a new function in internal package code but not by user.
         */
        this._logHandler = defaultLogHandler;
        /**
         * The optional, additional, user-defined log handler for the Logger instance.
         */
        this._userLogHandler = null;
        /**
         * Capture the current instance for later use
         */
        instances.push(this);
    }
    Object.defineProperty(Logger.prototype, "logLevel", {
        get: function () {
            return this._logLevel;
        },
        set: function (val) {
            if (!(val in LogLevel)) {
                throw new TypeError("Invalid value \"" + val + "\" assigned to `logLevel`");
            }
            this._logLevel = val;
        },
        enumerable: false,
        configurable: true
    });
    // Workaround for setter/getter having to be the same type.
    Logger.prototype.setLogLevel = function (val) {
        this._logLevel = typeof val === 'string' ? levelStringToEnum[val] : val;
    };
    Object.defineProperty(Logger.prototype, "logHandler", {
        get: function () {
            return this._logHandler;
        },
        set: function (val) {
            if (typeof val !== 'function') {
                throw new TypeError('Value assigned to `logHandler` must be a function');
            }
            this._logHandler = val;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Logger.prototype, "userLogHandler", {
        get: function () {
            return this._userLogHandler;
        },
        set: function (val) {
            this._userLogHandler = val;
        },
        enumerable: false,
        configurable: true
    });
    /**
     * The functions below are all based on the `console` interface
     */
    Logger.prototype.debug = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        this._userLogHandler && this._userLogHandler.apply(this, __spreadArrays([this, LogLevel.DEBUG], args));
        this._logHandler.apply(this, __spreadArrays([this, LogLevel.DEBUG], args));
    };
    Logger.prototype.log = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        this._userLogHandler && this._userLogHandler.apply(this, __spreadArrays([this, LogLevel.VERBOSE], args));
        this._logHandler.apply(this, __spreadArrays([this, LogLevel.VERBOSE], args));
    };
    Logger.prototype.info = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        this._userLogHandler && this._userLogHandler.apply(this, __spreadArrays([this, LogLevel.INFO], args));
        this._logHandler.apply(this, __spreadArrays([this, LogLevel.INFO], args));
    };
    Logger.prototype.warn = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        this._userLogHandler && this._userLogHandler.apply(this, __spreadArrays([this, LogLevel.WARN], args));
        this._logHandler.apply(this, __spreadArrays([this, LogLevel.WARN], args));
    };
    Logger.prototype.error = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        this._userLogHandler && this._userLogHandler.apply(this, __spreadArrays([this, LogLevel.ERROR], args));
        this._logHandler.apply(this, __spreadArrays([this, LogLevel.ERROR], args));
    };
    return Logger;
}());
function setLogLevel(level) {
    instances.forEach(function (inst) {
        inst.setLogLevel(level);
    });
}
function setUserLogHandler(logCallback, options) {
    var _loop_1 = function (instance) {
        var customLogLevel = null;
        if (options && options.level) {
            customLogLevel = levelStringToEnum[options.level];
        }
        if (logCallback === null) {
            instance.userLogHandler = null;
        }
        else {
            instance.userLogHandler = function (instance, level) {
                var args = [];
                for (var _i = 2; _i < arguments.length; _i++) {
                    args[_i - 2] = arguments[_i];
                }
                var message = args
                    .map(function (arg) {
                    if (arg == null) {
                        return null;
                    }
                    else if (typeof arg === 'string') {
                        return arg;
                    }
                    else if (typeof arg === 'number' || typeof arg === 'boolean') {
                        return arg.toString();
                    }
                    else if (arg instanceof Error) {
                        return arg.message;
                    }
                    else {
                        try {
                            return JSON.stringify(arg);
                        }
                        catch (ignored) {
                            return null;
                        }
                    }
                })
                    .filter(function (arg) { return arg; })
                    .join(' ');
                if (level >= (customLogLevel !== null && customLogLevel !== void 0 ? customLogLevel : instance.logLevel)) {
                    logCallback({
                        level: LogLevel[level].toLowerCase(),
                        message: message,
                        args: args,
                        type: instance.name
                    });
                }
            };
        }
    };
    for (var _i = 0, instances_1 = instances; _i < instances_1.length; _i++) {
        var instance = instances_1[_i];
        _loop_1(instance);
    }
}


//# sourceMappingURL=index.esm.js.map


/***/ }),

/***/ "./node_modules/@firebase/util/dist/index.esm.js":
/*!*******************************************************!*\
  !*** ./node_modules/@firebase/util/dist/index.esm.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CONSTANTS": () => (/* binding */ CONSTANTS),
/* harmony export */   "Deferred": () => (/* binding */ Deferred),
/* harmony export */   "ErrorFactory": () => (/* binding */ ErrorFactory),
/* harmony export */   "FirebaseError": () => (/* binding */ FirebaseError),
/* harmony export */   "MAX_VALUE_MILLIS": () => (/* binding */ MAX_VALUE_MILLIS),
/* harmony export */   "RANDOM_FACTOR": () => (/* binding */ RANDOM_FACTOR),
/* harmony export */   "Sha1": () => (/* binding */ Sha1),
/* harmony export */   "areCookiesEnabled": () => (/* binding */ areCookiesEnabled),
/* harmony export */   "assert": () => (/* binding */ assert),
/* harmony export */   "assertionError": () => (/* binding */ assertionError),
/* harmony export */   "async": () => (/* binding */ async),
/* harmony export */   "base64": () => (/* binding */ base64),
/* harmony export */   "base64Decode": () => (/* binding */ base64Decode),
/* harmony export */   "base64Encode": () => (/* binding */ base64Encode),
/* harmony export */   "calculateBackoffMillis": () => (/* binding */ calculateBackoffMillis),
/* harmony export */   "contains": () => (/* binding */ contains),
/* harmony export */   "createSubscribe": () => (/* binding */ createSubscribe),
/* harmony export */   "decode": () => (/* binding */ decode),
/* harmony export */   "deepCopy": () => (/* binding */ deepCopy),
/* harmony export */   "deepExtend": () => (/* binding */ deepExtend),
/* harmony export */   "errorPrefix": () => (/* binding */ errorPrefix),
/* harmony export */   "extractQuerystring": () => (/* binding */ extractQuerystring),
/* harmony export */   "getModularInstance": () => (/* binding */ getModularInstance),
/* harmony export */   "getUA": () => (/* binding */ getUA),
/* harmony export */   "isAdmin": () => (/* binding */ isAdmin),
/* harmony export */   "isBrowser": () => (/* binding */ isBrowser),
/* harmony export */   "isBrowserExtension": () => (/* binding */ isBrowserExtension),
/* harmony export */   "isElectron": () => (/* binding */ isElectron),
/* harmony export */   "isEmpty": () => (/* binding */ isEmpty),
/* harmony export */   "isIE": () => (/* binding */ isIE),
/* harmony export */   "isIndexedDBAvailable": () => (/* binding */ isIndexedDBAvailable),
/* harmony export */   "isMobileCordova": () => (/* binding */ isMobileCordova),
/* harmony export */   "isNode": () => (/* binding */ isNode),
/* harmony export */   "isNodeSdk": () => (/* binding */ isNodeSdk),
/* harmony export */   "isReactNative": () => (/* binding */ isReactNative),
/* harmony export */   "isSafari": () => (/* binding */ isSafari),
/* harmony export */   "isUWP": () => (/* binding */ isUWP),
/* harmony export */   "isValidFormat": () => (/* binding */ isValidFormat),
/* harmony export */   "isValidTimestamp": () => (/* binding */ isValidTimestamp),
/* harmony export */   "issuedAtTime": () => (/* binding */ issuedAtTime),
/* harmony export */   "jsonEval": () => (/* binding */ jsonEval),
/* harmony export */   "map": () => (/* binding */ map),
/* harmony export */   "ordinal": () => (/* binding */ ordinal),
/* harmony export */   "querystring": () => (/* binding */ querystring),
/* harmony export */   "querystringDecode": () => (/* binding */ querystringDecode),
/* harmony export */   "safeGet": () => (/* binding */ safeGet),
/* harmony export */   "stringLength": () => (/* binding */ stringLength),
/* harmony export */   "stringToByteArray": () => (/* binding */ stringToByteArray$1),
/* harmony export */   "stringify": () => (/* binding */ stringify),
/* harmony export */   "validateArgCount": () => (/* binding */ validateArgCount),
/* harmony export */   "validateCallback": () => (/* binding */ validateCallback),
/* harmony export */   "validateContextObject": () => (/* binding */ validateContextObject),
/* harmony export */   "validateIndexedDBOpenable": () => (/* binding */ validateIndexedDBOpenable),
/* harmony export */   "validateNamespace": () => (/* binding */ validateNamespace)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");


/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @fileoverview Firebase constants.  Some of these (@defines) can be overridden at compile-time.
 */
var CONSTANTS = {
    /**
     * @define {boolean} Whether this is the client Node.js SDK.
     */
    NODE_CLIENT: false,
    /**
     * @define {boolean} Whether this is the Admin Node.js SDK.
     */
    NODE_ADMIN: false,
    /**
     * Firebase SDK Version
     */
    SDK_VERSION: '${JSCORE_VERSION}'
};

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Throws an error if the provided assertion is falsy
 */
var assert = function (assertion, message) {
    if (!assertion) {
        throw assertionError(message);
    }
};
/**
 * Returns an Error object suitable for throwing.
 */
var assertionError = function (message) {
    return new Error('Firebase Database (' +
        CONSTANTS.SDK_VERSION +
        ') INTERNAL ASSERT FAILED: ' +
        message);
};

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var stringToByteArray = function (str) {
    // TODO(user): Use native implementations if/when available
    var out = [];
    var p = 0;
    for (var i = 0; i < str.length; i++) {
        var c = str.charCodeAt(i);
        if (c < 128) {
            out[p++] = c;
        }
        else if (c < 2048) {
            out[p++] = (c >> 6) | 192;
            out[p++] = (c & 63) | 128;
        }
        else if ((c & 0xfc00) === 0xd800 &&
            i + 1 < str.length &&
            (str.charCodeAt(i + 1) & 0xfc00) === 0xdc00) {
            // Surrogate Pair
            c = 0x10000 + ((c & 0x03ff) << 10) + (str.charCodeAt(++i) & 0x03ff);
            out[p++] = (c >> 18) | 240;
            out[p++] = ((c >> 12) & 63) | 128;
            out[p++] = ((c >> 6) & 63) | 128;
            out[p++] = (c & 63) | 128;
        }
        else {
            out[p++] = (c >> 12) | 224;
            out[p++] = ((c >> 6) & 63) | 128;
            out[p++] = (c & 63) | 128;
        }
    }
    return out;
};
/**
 * Turns an array of numbers into the string given by the concatenation of the
 * characters to which the numbers correspond.
 * @param bytes Array of numbers representing characters.
 * @return Stringification of the array.
 */
var byteArrayToString = function (bytes) {
    // TODO(user): Use native implementations if/when available
    var out = [];
    var pos = 0, c = 0;
    while (pos < bytes.length) {
        var c1 = bytes[pos++];
        if (c1 < 128) {
            out[c++] = String.fromCharCode(c1);
        }
        else if (c1 > 191 && c1 < 224) {
            var c2 = bytes[pos++];
            out[c++] = String.fromCharCode(((c1 & 31) << 6) | (c2 & 63));
        }
        else if (c1 > 239 && c1 < 365) {
            // Surrogate Pair
            var c2 = bytes[pos++];
            var c3 = bytes[pos++];
            var c4 = bytes[pos++];
            var u = (((c1 & 7) << 18) | ((c2 & 63) << 12) | ((c3 & 63) << 6) | (c4 & 63)) -
                0x10000;
            out[c++] = String.fromCharCode(0xd800 + (u >> 10));
            out[c++] = String.fromCharCode(0xdc00 + (u & 1023));
        }
        else {
            var c2 = bytes[pos++];
            var c3 = bytes[pos++];
            out[c++] = String.fromCharCode(((c1 & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));
        }
    }
    return out.join('');
};
// We define it as an object literal instead of a class because a class compiled down to es5 can't
// be treeshaked. https://github.com/rollup/rollup/issues/1691
// Static lookup maps, lazily populated by init_()
var base64 = {
    /**
     * Maps bytes to characters.
     */
    byteToCharMap_: null,
    /**
     * Maps characters to bytes.
     */
    charToByteMap_: null,
    /**
     * Maps bytes to websafe characters.
     * @private
     */
    byteToCharMapWebSafe_: null,
    /**
     * Maps websafe characters to bytes.
     * @private
     */
    charToByteMapWebSafe_: null,
    /**
     * Our default alphabet, shared between
     * ENCODED_VALS and ENCODED_VALS_WEBSAFE
     */
    ENCODED_VALS_BASE: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz' + '0123456789',
    /**
     * Our default alphabet. Value 64 (=) is special; it means "nothing."
     */
    get ENCODED_VALS() {
        return this.ENCODED_VALS_BASE + '+/=';
    },
    /**
     * Our websafe alphabet.
     */
    get ENCODED_VALS_WEBSAFE() {
        return this.ENCODED_VALS_BASE + '-_.';
    },
    /**
     * Whether this browser supports the atob and btoa functions. This extension
     * started at Mozilla but is now implemented by many browsers. We use the
     * ASSUME_* variables to avoid pulling in the full useragent detection library
     * but still allowing the standard per-browser compilations.
     *
     */
    HAS_NATIVE_SUPPORT: typeof atob === 'function',
    /**
     * Base64-encode an array of bytes.
     *
     * @param input An array of bytes (numbers with
     *     value in [0, 255]) to encode.
     * @param webSafe Boolean indicating we should use the
     *     alternative alphabet.
     * @return The base64 encoded string.
     */
    encodeByteArray: function (input, webSafe) {
        if (!Array.isArray(input)) {
            throw Error('encodeByteArray takes an array as a parameter');
        }
        this.init_();
        var byteToCharMap = webSafe
            ? this.byteToCharMapWebSafe_
            : this.byteToCharMap_;
        var output = [];
        for (var i = 0; i < input.length; i += 3) {
            var byte1 = input[i];
            var haveByte2 = i + 1 < input.length;
            var byte2 = haveByte2 ? input[i + 1] : 0;
            var haveByte3 = i + 2 < input.length;
            var byte3 = haveByte3 ? input[i + 2] : 0;
            var outByte1 = byte1 >> 2;
            var outByte2 = ((byte1 & 0x03) << 4) | (byte2 >> 4);
            var outByte3 = ((byte2 & 0x0f) << 2) | (byte3 >> 6);
            var outByte4 = byte3 & 0x3f;
            if (!haveByte3) {
                outByte4 = 64;
                if (!haveByte2) {
                    outByte3 = 64;
                }
            }
            output.push(byteToCharMap[outByte1], byteToCharMap[outByte2], byteToCharMap[outByte3], byteToCharMap[outByte4]);
        }
        return output.join('');
    },
    /**
     * Base64-encode a string.
     *
     * @param input A string to encode.
     * @param webSafe If true, we should use the
     *     alternative alphabet.
     * @return The base64 encoded string.
     */
    encodeString: function (input, webSafe) {
        // Shortcut for Mozilla browsers that implement
        // a native base64 encoder in the form of "btoa/atob"
        if (this.HAS_NATIVE_SUPPORT && !webSafe) {
            return btoa(input);
        }
        return this.encodeByteArray(stringToByteArray(input), webSafe);
    },
    /**
     * Base64-decode a string.
     *
     * @param input to decode.
     * @param webSafe True if we should use the
     *     alternative alphabet.
     * @return string representing the decoded value.
     */
    decodeString: function (input, webSafe) {
        // Shortcut for Mozilla browsers that implement
        // a native base64 encoder in the form of "btoa/atob"
        if (this.HAS_NATIVE_SUPPORT && !webSafe) {
            return atob(input);
        }
        return byteArrayToString(this.decodeStringToByteArray(input, webSafe));
    },
    /**
     * Base64-decode a string.
     *
     * In base-64 decoding, groups of four characters are converted into three
     * bytes.  If the encoder did not apply padding, the input length may not
     * be a multiple of 4.
     *
     * In this case, the last group will have fewer than 4 characters, and
     * padding will be inferred.  If the group has one or two characters, it decodes
     * to one byte.  If the group has three characters, it decodes to two bytes.
     *
     * @param input Input to decode.
     * @param webSafe True if we should use the web-safe alphabet.
     * @return bytes representing the decoded value.
     */
    decodeStringToByteArray: function (input, webSafe) {
        this.init_();
        var charToByteMap = webSafe
            ? this.charToByteMapWebSafe_
            : this.charToByteMap_;
        var output = [];
        for (var i = 0; i < input.length;) {
            var byte1 = charToByteMap[input.charAt(i++)];
            var haveByte2 = i < input.length;
            var byte2 = haveByte2 ? charToByteMap[input.charAt(i)] : 0;
            ++i;
            var haveByte3 = i < input.length;
            var byte3 = haveByte3 ? charToByteMap[input.charAt(i)] : 64;
            ++i;
            var haveByte4 = i < input.length;
            var byte4 = haveByte4 ? charToByteMap[input.charAt(i)] : 64;
            ++i;
            if (byte1 == null || byte2 == null || byte3 == null || byte4 == null) {
                throw Error();
            }
            var outByte1 = (byte1 << 2) | (byte2 >> 4);
            output.push(outByte1);
            if (byte3 !== 64) {
                var outByte2 = ((byte2 << 4) & 0xf0) | (byte3 >> 2);
                output.push(outByte2);
                if (byte4 !== 64) {
                    var outByte3 = ((byte3 << 6) & 0xc0) | byte4;
                    output.push(outByte3);
                }
            }
        }
        return output;
    },
    /**
     * Lazy static initialization function. Called before
     * accessing any of the static map variables.
     * @private
     */
    init_: function () {
        if (!this.byteToCharMap_) {
            this.byteToCharMap_ = {};
            this.charToByteMap_ = {};
            this.byteToCharMapWebSafe_ = {};
            this.charToByteMapWebSafe_ = {};
            // We want quick mappings back and forth, so we precompute two maps.
            for (var i = 0; i < this.ENCODED_VALS.length; i++) {
                this.byteToCharMap_[i] = this.ENCODED_VALS.charAt(i);
                this.charToByteMap_[this.byteToCharMap_[i]] = i;
                this.byteToCharMapWebSafe_[i] = this.ENCODED_VALS_WEBSAFE.charAt(i);
                this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]] = i;
                // Be forgiving when decoding and correctly decode both encodings.
                if (i >= this.ENCODED_VALS_BASE.length) {
                    this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)] = i;
                    this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)] = i;
                }
            }
        }
    }
};
/**
 * URL-safe base64 encoding
 */
var base64Encode = function (str) {
    var utf8Bytes = stringToByteArray(str);
    return base64.encodeByteArray(utf8Bytes, true);
};
/**
 * URL-safe base64 decoding
 *
 * NOTE: DO NOT use the global atob() function - it does NOT support the
 * base64Url variant encoding.
 *
 * @param str To be decoded
 * @return Decoded result, if possible
 */
var base64Decode = function (str) {
    try {
        return base64.decodeString(str, true);
    }
    catch (e) {
        console.error('base64Decode failed: ', e);
    }
    return null;
};

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Do a deep-copy of basic JavaScript Objects or Arrays.
 */
function deepCopy(value) {
    return deepExtend(undefined, value);
}
/**
 * Copy properties from source to target (recursively allows extension
 * of Objects and Arrays).  Scalar values in the target are over-written.
 * If target is undefined, an object of the appropriate type will be created
 * (and returned).
 *
 * We recursively copy all child properties of plain Objects in the source- so
 * that namespace- like dictionaries are merged.
 *
 * Note that the target can be a function, in which case the properties in
 * the source Object are copied onto it as static properties of the Function.
 *
 * Note: we don't merge __proto__ to prevent prototype pollution
 */
function deepExtend(target, source) {
    if (!(source instanceof Object)) {
        return source;
    }
    switch (source.constructor) {
        case Date:
            // Treat Dates like scalars; if the target date object had any child
            // properties - they will be lost!
            var dateValue = source;
            return new Date(dateValue.getTime());
        case Object:
            if (target === undefined) {
                target = {};
            }
            break;
        case Array:
            // Always copy the array source and overwrite the target.
            target = [];
            break;
        default:
            // Not a plain Object - treat it as a scalar.
            return source;
    }
    for (var prop in source) {
        // use isValidKey to guard against prototype pollution. See https://snyk.io/vuln/SNYK-JS-LODASH-450202
        if (!source.hasOwnProperty(prop) || !isValidKey(prop)) {
            continue;
        }
        target[prop] = deepExtend(target[prop], source[prop]);
    }
    return target;
}
function isValidKey(key) {
    return key !== '__proto__';
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Deferred = /** @class */ (function () {
    function Deferred() {
        var _this = this;
        this.reject = function () { };
        this.resolve = function () { };
        this.promise = new Promise(function (resolve, reject) {
            _this.resolve = resolve;
            _this.reject = reject;
        });
    }
    /**
     * Our API internals are not promiseified and cannot because our callback APIs have subtle expectations around
     * invoking promises inline, which Promises are forbidden to do. This method accepts an optional node-style callback
     * and returns a node-style callback which will resolve or reject the Deferred's promise.
     */
    Deferred.prototype.wrapCallback = function (callback) {
        var _this = this;
        return function (error, value) {
            if (error) {
                _this.reject(error);
            }
            else {
                _this.resolve(value);
            }
            if (typeof callback === 'function') {
                // Attaching noop handler just in case developer wasn't expecting
                // promises
                _this.promise.catch(function () { });
                // Some of our callbacks don't expect a value and our own tests
                // assert that the parameter length is 1
                if (callback.length === 1) {
                    callback(error);
                }
                else {
                    callback(error, value);
                }
            }
        };
    };
    return Deferred;
}());

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Returns navigator.userAgent string or '' if it's not defined.
 * @return user agent string
 */
function getUA() {
    if (typeof navigator !== 'undefined' &&
        typeof navigator['userAgent'] === 'string') {
        return navigator['userAgent'];
    }
    else {
        return '';
    }
}
/**
 * Detect Cordova / PhoneGap / Ionic frameworks on a mobile device.
 *
 * Deliberately does not rely on checking `file://` URLs (as this fails PhoneGap
 * in the Ripple emulator) nor Cordova `onDeviceReady`, which would normally
 * wait for a callback.
 */
function isMobileCordova() {
    return (typeof window !== 'undefined' &&
        // @ts-ignore Setting up an broadly applicable index signature for Window
        // just to deal with this case would probably be a bad idea.
        !!(window['cordova'] || window['phonegap'] || window['PhoneGap']) &&
        /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA()));
}
/**
 * Detect Node.js.
 *
 * @return true if Node.js environment is detected.
 */
// Node detection logic from: https://github.com/iliakan/detect-node/
function isNode() {
    try {
        return (Object.prototype.toString.call(__webpack_require__.g.process) === '[object process]');
    }
    catch (e) {
        return false;
    }
}
/**
 * Detect Browser Environment
 */
function isBrowser() {
    return typeof self === 'object' && self.self === self;
}
function isBrowserExtension() {
    var runtime = typeof chrome === 'object'
        ? chrome.runtime
        : typeof browser === 'object'
            ? browser.runtime
            : undefined;
    return typeof runtime === 'object' && runtime.id !== undefined;
}
/**
 * Detect React Native.
 *
 * @return true if ReactNative environment is detected.
 */
function isReactNative() {
    return (typeof navigator === 'object' && navigator['product'] === 'ReactNative');
}
/** Detects Electron apps. */
function isElectron() {
    return getUA().indexOf('Electron/') >= 0;
}
/** Detects Internet Explorer. */
function isIE() {
    var ua = getUA();
    return ua.indexOf('MSIE ') >= 0 || ua.indexOf('Trident/') >= 0;
}
/** Detects Universal Windows Platform apps. */
function isUWP() {
    return getUA().indexOf('MSAppHost/') >= 0;
}
/**
 * Detect whether the current SDK build is the Node version.
 *
 * @return true if it's the Node SDK build.
 */
function isNodeSdk() {
    return CONSTANTS.NODE_CLIENT === true || CONSTANTS.NODE_ADMIN === true;
}
/** Returns true if we are running in Safari. */
function isSafari() {
    return (!isNode() &&
        navigator.userAgent.includes('Safari') &&
        !navigator.userAgent.includes('Chrome'));
}
/**
 * This method checks if indexedDB is supported by current browser/service worker context
 * @return true if indexedDB is supported by current browser/service worker context
 */
function isIndexedDBAvailable() {
    return 'indexedDB' in self && indexedDB != null;
}
/**
 * This method validates browser/sw context for indexedDB by opening a dummy indexedDB database and reject
 * if errors occur during the database open operation.
 *
 * @throws exception if current browser/sw context can't run idb.open (ex: Safari iframe, Firefox
 * private browsing)
 */
function validateIndexedDBOpenable() {
    return new Promise(function (resolve, reject) {
        try {
            var preExist_1 = true;
            var DB_CHECK_NAME_1 = 'validate-browser-context-for-indexeddb-analytics-module';
            var request_1 = self.indexedDB.open(DB_CHECK_NAME_1);
            request_1.onsuccess = function () {
                request_1.result.close();
                // delete database only when it doesn't pre-exist
                if (!preExist_1) {
                    self.indexedDB.deleteDatabase(DB_CHECK_NAME_1);
                }
                resolve(true);
            };
            request_1.onupgradeneeded = function () {
                preExist_1 = false;
            };
            request_1.onerror = function () {
                var _a;
                reject(((_a = request_1.error) === null || _a === void 0 ? void 0 : _a.message) || '');
            };
        }
        catch (error) {
            reject(error);
        }
    });
}
/**
 *
 * This method checks whether cookie is enabled within current browser
 * @return true if cookie is enabled within current browser
 */
function areCookiesEnabled() {
    if (!navigator || !navigator.cookieEnabled) {
        return false;
    }
    return true;
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ERROR_NAME = 'FirebaseError';
// Based on code from:
// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Custom_Error_Types
var FirebaseError = /** @class */ (function (_super) {
    (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__extends)(FirebaseError, _super);
    function FirebaseError(code, message, customData) {
        var _this = _super.call(this, message) || this;
        _this.code = code;
        _this.customData = customData;
        _this.name = ERROR_NAME;
        // Fix For ES5
        // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work
        Object.setPrototypeOf(_this, FirebaseError.prototype);
        // Maintains proper stack trace for where our error was thrown.
        // Only available on V8.
        if (Error.captureStackTrace) {
            Error.captureStackTrace(_this, ErrorFactory.prototype.create);
        }
        return _this;
    }
    return FirebaseError;
}(Error));
var ErrorFactory = /** @class */ (function () {
    function ErrorFactory(service, serviceName, errors) {
        this.service = service;
        this.serviceName = serviceName;
        this.errors = errors;
    }
    ErrorFactory.prototype.create = function (code) {
        var data = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            data[_i - 1] = arguments[_i];
        }
        var customData = data[0] || {};
        var fullCode = this.service + "/" + code;
        var template = this.errors[code];
        var message = template ? replaceTemplate(template, customData) : 'Error';
        // Service Name: Error message (service/code).
        var fullMessage = this.serviceName + ": " + message + " (" + fullCode + ").";
        var error = new FirebaseError(fullCode, fullMessage, customData);
        return error;
    };
    return ErrorFactory;
}());
function replaceTemplate(template, data) {
    return template.replace(PATTERN, function (_, key) {
        var value = data[key];
        return value != null ? String(value) : "<" + key + "?>";
    });
}
var PATTERN = /\{\$([^}]+)}/g;

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Evaluates a JSON string into a javascript object.
 *
 * @param {string} str A string containing JSON.
 * @return {*} The javascript object representing the specified JSON.
 */
function jsonEval(str) {
    return JSON.parse(str);
}
/**
 * Returns JSON representing a javascript object.
 * @param {*} data Javascript object to be stringified.
 * @return {string} The JSON contents of the object.
 */
function stringify(data) {
    return JSON.stringify(data);
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Decodes a Firebase auth. token into constituent parts.
 *
 * Notes:
 * - May return with invalid / incomplete claims if there's no native base64 decoding support.
 * - Doesn't check if the token is actually valid.
 */
var decode = function (token) {
    var header = {}, claims = {}, data = {}, signature = '';
    try {
        var parts = token.split('.');
        header = jsonEval(base64Decode(parts[0]) || '');
        claims = jsonEval(base64Decode(parts[1]) || '');
        signature = parts[2];
        data = claims['d'] || {};
        delete claims['d'];
    }
    catch (e) { }
    return {
        header: header,
        claims: claims,
        data: data,
        signature: signature
    };
};
/**
 * Decodes a Firebase auth. token and checks the validity of its time-based claims. Will return true if the
 * token is within the time window authorized by the 'nbf' (not-before) and 'iat' (issued-at) claims.
 *
 * Notes:
 * - May return a false negative if there's no native base64 decoding support.
 * - Doesn't check if the token is actually valid.
 */
var isValidTimestamp = function (token) {
    var claims = decode(token).claims;
    var now = Math.floor(new Date().getTime() / 1000);
    var validSince = 0, validUntil = 0;
    if (typeof claims === 'object') {
        if (claims.hasOwnProperty('nbf')) {
            validSince = claims['nbf'];
        }
        else if (claims.hasOwnProperty('iat')) {
            validSince = claims['iat'];
        }
        if (claims.hasOwnProperty('exp')) {
            validUntil = claims['exp'];
        }
        else {
            // token will expire after 24h by default
            validUntil = validSince + 86400;
        }
    }
    return (!!now &&
        !!validSince &&
        !!validUntil &&
        now >= validSince &&
        now <= validUntil);
};
/**
 * Decodes a Firebase auth. token and returns its issued at time if valid, null otherwise.
 *
 * Notes:
 * - May return null if there's no native base64 decoding support.
 * - Doesn't check if the token is actually valid.
 */
var issuedAtTime = function (token) {
    var claims = decode(token).claims;
    if (typeof claims === 'object' && claims.hasOwnProperty('iat')) {
        return claims['iat'];
    }
    return null;
};
/**
 * Decodes a Firebase auth. token and checks the validity of its format. Expects a valid issued-at time.
 *
 * Notes:
 * - May return a false negative if there's no native base64 decoding support.
 * - Doesn't check if the token is actually valid.
 */
var isValidFormat = function (token) {
    var decoded = decode(token), claims = decoded.claims;
    return !!claims && typeof claims === 'object' && claims.hasOwnProperty('iat');
};
/**
 * Attempts to peer into an auth token and determine if it's an admin auth token by looking at the claims portion.
 *
 * Notes:
 * - May return a false negative if there's no native base64 decoding support.
 * - Doesn't check if the token is actually valid.
 */
var isAdmin = function (token) {
    var claims = decode(token).claims;
    return typeof claims === 'object' && claims['admin'] === true;
};

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function contains(obj, key) {
    return Object.prototype.hasOwnProperty.call(obj, key);
}
function safeGet(obj, key) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
        return obj[key];
    }
    else {
        return undefined;
    }
}
function isEmpty(obj) {
    for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) {
            return false;
        }
    }
    return true;
}
function map(obj, fn, contextObj) {
    var res = {};
    for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) {
            res[key] = fn.call(contextObj, obj[key], key, obj);
        }
    }
    return res;
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Returns a querystring-formatted string (e.g. &arg=val&arg2=val2) from a
 * params object (e.g. {arg: 'val', arg2: 'val2'})
 * Note: You must prepend it with ? when adding it to a URL.
 */
function querystring(querystringParams) {
    var params = [];
    var _loop_1 = function (key, value) {
        if (Array.isArray(value)) {
            value.forEach(function (arrayVal) {
                params.push(encodeURIComponent(key) + '=' + encodeURIComponent(arrayVal));
            });
        }
        else {
            params.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));
        }
    };
    for (var _i = 0, _a = Object.entries(querystringParams); _i < _a.length; _i++) {
        var _b = _a[_i], key = _b[0], value = _b[1];
        _loop_1(key, value);
    }
    return params.length ? '&' + params.join('&') : '';
}
/**
 * Decodes a querystring (e.g. ?arg=val&arg2=val2) into a params object
 * (e.g. {arg: 'val', arg2: 'val2'})
 */
function querystringDecode(querystring) {
    var obj = {};
    var tokens = querystring.replace(/^\?/, '').split('&');
    tokens.forEach(function (token) {
        if (token) {
            var _a = token.split('='), key = _a[0], value = _a[1];
            obj[decodeURIComponent(key)] = decodeURIComponent(value);
        }
    });
    return obj;
}
/**
 * Extract the query string part of a URL, including the leading question mark (if present).
 */
function extractQuerystring(url) {
    var queryStart = url.indexOf('?');
    if (!queryStart) {
        return '';
    }
    var fragmentStart = url.indexOf('#', queryStart);
    return url.substring(queryStart, fragmentStart > 0 ? fragmentStart : undefined);
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @fileoverview SHA-1 cryptographic hash.
 * Variable names follow the notation in FIPS PUB 180-3:
 * http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf.
 *
 * Usage:
 *   var sha1 = new sha1();
 *   sha1.update(bytes);
 *   var hash = sha1.digest();
 *
 * Performance:
 *   Chrome 23:   ~400 Mbit/s
 *   Firefox 16:  ~250 Mbit/s
 *
 */
/**
 * SHA-1 cryptographic hash constructor.
 *
 * The properties declared here are discussed in the above algorithm document.
 * @constructor
 * @final
 * @struct
 */
var Sha1 = /** @class */ (function () {
    function Sha1() {
        /**
         * Holds the previous values of accumulated variables a-e in the compress_
         * function.
         * @private
         */
        this.chain_ = [];
        /**
         * A buffer holding the partially computed hash result.
         * @private
         */
        this.buf_ = [];
        /**
         * An array of 80 bytes, each a part of the message to be hashed.  Referred to
         * as the message schedule in the docs.
         * @private
         */
        this.W_ = [];
        /**
         * Contains data needed to pad messages less than 64 bytes.
         * @private
         */
        this.pad_ = [];
        /**
         * @private {number}
         */
        this.inbuf_ = 0;
        /**
         * @private {number}
         */
        this.total_ = 0;
        this.blockSize = 512 / 8;
        this.pad_[0] = 128;
        for (var i = 1; i < this.blockSize; ++i) {
            this.pad_[i] = 0;
        }
        this.reset();
    }
    Sha1.prototype.reset = function () {
        this.chain_[0] = 0x67452301;
        this.chain_[1] = 0xefcdab89;
        this.chain_[2] = 0x98badcfe;
        this.chain_[3] = 0x10325476;
        this.chain_[4] = 0xc3d2e1f0;
        this.inbuf_ = 0;
        this.total_ = 0;
    };
    /**
     * Internal compress helper function.
     * @param buf Block to compress.
     * @param offset Offset of the block in the buffer.
     * @private
     */
    Sha1.prototype.compress_ = function (buf, offset) {
        if (!offset) {
            offset = 0;
        }
        var W = this.W_;
        // get 16 big endian words
        if (typeof buf === 'string') {
            for (var i = 0; i < 16; i++) {
                // TODO(user): [bug 8140122] Recent versions of Safari for Mac OS and iOS
                // have a bug that turns the post-increment ++ operator into pre-increment
                // during JIT compilation.  We have code that depends heavily on SHA-1 for
                // correctness and which is affected by this bug, so I've removed all uses
                // of post-increment ++ in which the result value is used.  We can revert
                // this change once the Safari bug
                // (https://bugs.webkit.org/show_bug.cgi?id=109036) has been fixed and
                // most clients have been updated.
                W[i] =
                    (buf.charCodeAt(offset) << 24) |
                        (buf.charCodeAt(offset + 1) << 16) |
                        (buf.charCodeAt(offset + 2) << 8) |
                        buf.charCodeAt(offset + 3);
                offset += 4;
            }
        }
        else {
            for (var i = 0; i < 16; i++) {
                W[i] =
                    (buf[offset] << 24) |
                        (buf[offset + 1] << 16) |
                        (buf[offset + 2] << 8) |
                        buf[offset + 3];
                offset += 4;
            }
        }
        // expand to 80 words
        for (var i = 16; i < 80; i++) {
            var t = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];
            W[i] = ((t << 1) | (t >>> 31)) & 0xffffffff;
        }
        var a = this.chain_[0];
        var b = this.chain_[1];
        var c = this.chain_[2];
        var d = this.chain_[3];
        var e = this.chain_[4];
        var f, k;
        // TODO(user): Try to unroll this loop to speed up the computation.
        for (var i = 0; i < 80; i++) {
            if (i < 40) {
                if (i < 20) {
                    f = d ^ (b & (c ^ d));
                    k = 0x5a827999;
                }
                else {
                    f = b ^ c ^ d;
                    k = 0x6ed9eba1;
                }
            }
            else {
                if (i < 60) {
                    f = (b & c) | (d & (b | c));
                    k = 0x8f1bbcdc;
                }
                else {
                    f = b ^ c ^ d;
                    k = 0xca62c1d6;
                }
            }
            var t = (((a << 5) | (a >>> 27)) + f + e + k + W[i]) & 0xffffffff;
            e = d;
            d = c;
            c = ((b << 30) | (b >>> 2)) & 0xffffffff;
            b = a;
            a = t;
        }
        this.chain_[0] = (this.chain_[0] + a) & 0xffffffff;
        this.chain_[1] = (this.chain_[1] + b) & 0xffffffff;
        this.chain_[2] = (this.chain_[2] + c) & 0xffffffff;
        this.chain_[3] = (this.chain_[3] + d) & 0xffffffff;
        this.chain_[4] = (this.chain_[4] + e) & 0xffffffff;
    };
    Sha1.prototype.update = function (bytes, length) {
        // TODO(johnlenz): tighten the function signature and remove this check
        if (bytes == null) {
            return;
        }
        if (length === undefined) {
            length = bytes.length;
        }
        var lengthMinusBlock = length - this.blockSize;
        var n = 0;
        // Using local instead of member variables gives ~5% speedup on Firefox 16.
        var buf = this.buf_;
        var inbuf = this.inbuf_;
        // The outer while loop should execute at most twice.
        while (n < length) {
            // When we have no data in the block to top up, we can directly process the
            // input buffer (assuming it contains sufficient data). This gives ~25%
            // speedup on Chrome 23 and ~15% speedup on Firefox 16, but requires that
            // the data is provided in large chunks (or in multiples of 64 bytes).
            if (inbuf === 0) {
                while (n <= lengthMinusBlock) {
                    this.compress_(bytes, n);
                    n += this.blockSize;
                }
            }
            if (typeof bytes === 'string') {
                while (n < length) {
                    buf[inbuf] = bytes.charCodeAt(n);
                    ++inbuf;
                    ++n;
                    if (inbuf === this.blockSize) {
                        this.compress_(buf);
                        inbuf = 0;
                        // Jump to the outer loop so we use the full-block optimization.
                        break;
                    }
                }
            }
            else {
                while (n < length) {
                    buf[inbuf] = bytes[n];
                    ++inbuf;
                    ++n;
                    if (inbuf === this.blockSize) {
                        this.compress_(buf);
                        inbuf = 0;
                        // Jump to the outer loop so we use the full-block optimization.
                        break;
                    }
                }
            }
        }
        this.inbuf_ = inbuf;
        this.total_ += length;
    };
    /** @override */
    Sha1.prototype.digest = function () {
        var digest = [];
        var totalBits = this.total_ * 8;
        // Add pad 0x80 0x00*.
        if (this.inbuf_ < 56) {
            this.update(this.pad_, 56 - this.inbuf_);
        }
        else {
            this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));
        }
        // Add # bits.
        for (var i = this.blockSize - 1; i >= 56; i--) {
            this.buf_[i] = totalBits & 255;
            totalBits /= 256; // Don't use bit-shifting here!
        }
        this.compress_(this.buf_);
        var n = 0;
        for (var i = 0; i < 5; i++) {
            for (var j = 24; j >= 0; j -= 8) {
                digest[n] = (this.chain_[i] >> j) & 255;
                ++n;
            }
        }
        return digest;
    };
    return Sha1;
}());

/**
 * Helper to make a Subscribe function (just like Promise helps make a
 * Thenable).
 *
 * @param executor Function which can make calls to a single Observer
 *     as a proxy.
 * @param onNoObservers Callback when count of Observers goes to zero.
 */
function createSubscribe(executor, onNoObservers) {
    var proxy = new ObserverProxy(executor, onNoObservers);
    return proxy.subscribe.bind(proxy);
}
/**
 * Implement fan-out for any number of Observers attached via a subscribe
 * function.
 */
var ObserverProxy = /** @class */ (function () {
    /**
     * @param executor Function which can make calls to a single Observer
     *     as a proxy.
     * @param onNoObservers Callback when count of Observers goes to zero.
     */
    function ObserverProxy(executor, onNoObservers) {
        var _this = this;
        this.observers = [];
        this.unsubscribes = [];
        this.observerCount = 0;
        // Micro-task scheduling by calling task.then().
        this.task = Promise.resolve();
        this.finalized = false;
        this.onNoObservers = onNoObservers;
        // Call the executor asynchronously so subscribers that are called
        // synchronously after the creation of the subscribe function
        // can still receive the very first value generated in the executor.
        this.task
            .then(function () {
            executor(_this);
        })
            .catch(function (e) {
            _this.error(e);
        });
    }
    ObserverProxy.prototype.next = function (value) {
        this.forEachObserver(function (observer) {
            observer.next(value);
        });
    };
    ObserverProxy.prototype.error = function (error) {
        this.forEachObserver(function (observer) {
            observer.error(error);
        });
        this.close(error);
    };
    ObserverProxy.prototype.complete = function () {
        this.forEachObserver(function (observer) {
            observer.complete();
        });
        this.close();
    };
    /**
     * Subscribe function that can be used to add an Observer to the fan-out list.
     *
     * - We require that no event is sent to a subscriber sychronously to their
     *   call to subscribe().
     */
    ObserverProxy.prototype.subscribe = function (nextOrObserver, error, complete) {
        var _this = this;
        var observer;
        if (nextOrObserver === undefined &&
            error === undefined &&
            complete === undefined) {
            throw new Error('Missing Observer.');
        }
        // Assemble an Observer object when passed as callback functions.
        if (implementsAnyMethods(nextOrObserver, [
            'next',
            'error',
            'complete'
        ])) {
            observer = nextOrObserver;
        }
        else {
            observer = {
                next: nextOrObserver,
                error: error,
                complete: complete
            };
        }
        if (observer.next === undefined) {
            observer.next = noop;
        }
        if (observer.error === undefined) {
            observer.error = noop;
        }
        if (observer.complete === undefined) {
            observer.complete = noop;
        }
        var unsub = this.unsubscribeOne.bind(this, this.observers.length);
        // Attempt to subscribe to a terminated Observable - we
        // just respond to the Observer with the final error or complete
        // event.
        if (this.finalized) {
            // eslint-disable-next-line @typescript-eslint/no-floating-promises
            this.task.then(function () {
                try {
                    if (_this.finalError) {
                        observer.error(_this.finalError);
                    }
                    else {
                        observer.complete();
                    }
                }
                catch (e) {
                    // nothing
                }
                return;
            });
        }
        this.observers.push(observer);
        return unsub;
    };
    // Unsubscribe is synchronous - we guarantee that no events are sent to
    // any unsubscribed Observer.
    ObserverProxy.prototype.unsubscribeOne = function (i) {
        if (this.observers === undefined || this.observers[i] === undefined) {
            return;
        }
        delete this.observers[i];
        this.observerCount -= 1;
        if (this.observerCount === 0 && this.onNoObservers !== undefined) {
            this.onNoObservers(this);
        }
    };
    ObserverProxy.prototype.forEachObserver = function (fn) {
        if (this.finalized) {
            // Already closed by previous event....just eat the additional values.
            return;
        }
        // Since sendOne calls asynchronously - there is no chance that
        // this.observers will become undefined.
        for (var i = 0; i < this.observers.length; i++) {
            this.sendOne(i, fn);
        }
    };
    // Call the Observer via one of it's callback function. We are careful to
    // confirm that the observe has not been unsubscribed since this asynchronous
    // function had been queued.
    ObserverProxy.prototype.sendOne = function (i, fn) {
        var _this = this;
        // Execute the callback asynchronously
        // eslint-disable-next-line @typescript-eslint/no-floating-promises
        this.task.then(function () {
            if (_this.observers !== undefined && _this.observers[i] !== undefined) {
                try {
                    fn(_this.observers[i]);
                }
                catch (e) {
                    // Ignore exceptions raised in Observers or missing methods of an
                    // Observer.
                    // Log error to console. b/31404806
                    if (typeof console !== 'undefined' && console.error) {
                        console.error(e);
                    }
                }
            }
        });
    };
    ObserverProxy.prototype.close = function (err) {
        var _this = this;
        if (this.finalized) {
            return;
        }
        this.finalized = true;
        if (err !== undefined) {
            this.finalError = err;
        }
        // Proxy is no longer needed - garbage collect references
        // eslint-disable-next-line @typescript-eslint/no-floating-promises
        this.task.then(function () {
            _this.observers = undefined;
            _this.onNoObservers = undefined;
        });
    };
    return ObserverProxy;
}());
/** Turn synchronous function into one called asynchronously. */
// eslint-disable-next-line @typescript-eslint/ban-types
function async(fn, onError) {
    return function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        Promise.resolve(true)
            .then(function () {
            fn.apply(void 0, args);
        })
            .catch(function (error) {
            if (onError) {
                onError(error);
            }
        });
    };
}
/**
 * Return true if the object passed in implements any of the named methods.
 */
function implementsAnyMethods(obj, methods) {
    if (typeof obj !== 'object' || obj === null) {
        return false;
    }
    for (var _i = 0, methods_1 = methods; _i < methods_1.length; _i++) {
        var method = methods_1[_i];
        if (method in obj && typeof obj[method] === 'function') {
            return true;
        }
    }
    return false;
}
function noop() {
    // do nothing
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Check to make sure the appropriate number of arguments are provided for a public function.
 * Throws an error if it fails.
 *
 * @param fnName The function name
 * @param minCount The minimum number of arguments to allow for the function call
 * @param maxCount The maximum number of argument to allow for the function call
 * @param argCount The actual number of arguments provided.
 */
var validateArgCount = function (fnName, minCount, maxCount, argCount) {
    var argError;
    if (argCount < minCount) {
        argError = 'at least ' + minCount;
    }
    else if (argCount > maxCount) {
        argError = maxCount === 0 ? 'none' : 'no more than ' + maxCount;
    }
    if (argError) {
        var error = fnName +
            ' failed: Was called with ' +
            argCount +
            (argCount === 1 ? ' argument.' : ' arguments.') +
            ' Expects ' +
            argError +
            '.';
        throw new Error(error);
    }
};
/**
 * Generates a string to prefix an error message about failed argument validation
 *
 * @param fnName The function name
 * @param argName The name of the argument
 * @return The prefix to add to the error thrown for validation.
 */
function errorPrefix(fnName, argName) {
    return fnName + " failed: " + argName + " argument ";
}
/**
 * @param fnName
 * @param argumentNumber
 * @param namespace
 * @param optional
 */
function validateNamespace(fnName, namespace, optional) {
    if (optional && !namespace) {
        return;
    }
    if (typeof namespace !== 'string') {
        //TODO: I should do more validation here. We only allow certain chars in namespaces.
        throw new Error(errorPrefix(fnName, 'namespace') + 'must be a valid firebase namespace.');
    }
}
function validateCallback(fnName, argumentName, 
// eslint-disable-next-line @typescript-eslint/ban-types
callback, optional) {
    if (optional && !callback) {
        return;
    }
    if (typeof callback !== 'function') {
        throw new Error(errorPrefix(fnName, argumentName) + 'must be a valid function.');
    }
}
function validateContextObject(fnName, argumentName, context, optional) {
    if (optional && !context) {
        return;
    }
    if (typeof context !== 'object' || context === null) {
        throw new Error(errorPrefix(fnName, argumentName) + 'must be a valid context object.');
    }
}

/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
// Code originally came from goog.crypt.stringToUtf8ByteArray, but for some reason they
// automatically replaced '\r\n' with '\n', and they didn't handle surrogate pairs,
// so it's been modified.
// Note that not all Unicode characters appear as single characters in JavaScript strings.
// fromCharCode returns the UTF-16 encoding of a character - so some Unicode characters
// use 2 characters in Javascript.  All 4-byte UTF-8 characters begin with a first
// character in the range 0xD800 - 0xDBFF (the first character of a so-called surrogate
// pair).
// See http://www.ecma-international.org/ecma-262/5.1/#sec-15.1.3
/**
 * @param {string} str
 * @return {Array}
 */
var stringToByteArray$1 = function (str) {
    var out = [];
    var p = 0;
    for (var i = 0; i < str.length; i++) {
        var c = str.charCodeAt(i);
        // Is this the lead surrogate in a surrogate pair?
        if (c >= 0xd800 && c <= 0xdbff) {
            var high = c - 0xd800; // the high 10 bits.
            i++;
            assert(i < str.length, 'Surrogate pair missing trail surrogate.');
            var low = str.charCodeAt(i) - 0xdc00; // the low 10 bits.
            c = 0x10000 + (high << 10) + low;
        }
        if (c < 128) {
            out[p++] = c;
        }
        else if (c < 2048) {
            out[p++] = (c >> 6) | 192;
            out[p++] = (c & 63) | 128;
        }
        else if (c < 65536) {
            out[p++] = (c >> 12) | 224;
            out[p++] = ((c >> 6) & 63) | 128;
            out[p++] = (c & 63) | 128;
        }
        else {
            out[p++] = (c >> 18) | 240;
            out[p++] = ((c >> 12) & 63) | 128;
            out[p++] = ((c >> 6) & 63) | 128;
            out[p++] = (c & 63) | 128;
        }
    }
    return out;
};
/**
 * Calculate length without actually converting; useful for doing cheaper validation.
 * @param {string} str
 * @return {number}
 */
var stringLength = function (str) {
    var p = 0;
    for (var i = 0; i < str.length; i++) {
        var c = str.charCodeAt(i);
        if (c < 128) {
            p++;
        }
        else if (c < 2048) {
            p += 2;
        }
        else if (c >= 0xd800 && c <= 0xdbff) {
            // Lead surrogate of a surrogate pair.  The pair together will take 4 bytes to represent.
            p += 4;
            i++; // skip trail surrogate.
        }
        else {
            p += 3;
        }
    }
    return p;
};

/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * The amount of milliseconds to exponentially increase.
 */
var DEFAULT_INTERVAL_MILLIS = 1000;
/**
 * The factor to backoff by.
 * Should be a number greater than 1.
 */
var DEFAULT_BACKOFF_FACTOR = 2;
/**
 * The maximum milliseconds to increase to.
 *
 * <p>Visible for testing
 */
var MAX_VALUE_MILLIS = 4 * 60 * 60 * 1000; // Four hours, like iOS and Android.
/**
 * The percentage of backoff time to randomize by.
 * See
 * http://go/safe-client-behavior#step-1-determine-the-appropriate-retry-interval-to-handle-spike-traffic
 * for context.
 *
 * <p>Visible for testing
 */
var RANDOM_FACTOR = 0.5;
/**
 * Based on the backoff method from
 * https://github.com/google/closure-library/blob/master/closure/goog/math/exponentialbackoff.js.
 * Extracted here so we don't need to pass metadata and a stateful ExponentialBackoff object around.
 */
function calculateBackoffMillis(backoffCount, intervalMillis, backoffFactor) {
    if (intervalMillis === void 0) { intervalMillis = DEFAULT_INTERVAL_MILLIS; }
    if (backoffFactor === void 0) { backoffFactor = DEFAULT_BACKOFF_FACTOR; }
    // Calculates an exponentially increasing value.
    // Deviation: calculates value from count and a constant interval, so we only need to save value
    // and count to restore state.
    var currBaseValue = intervalMillis * Math.pow(backoffFactor, backoffCount);
    // A random "fuzz" to avoid waves of retries.
    // Deviation: randomFactor is required.
    var randomWait = Math.round(
    // A fraction of the backoff value to add/subtract.
    // Deviation: changes multiplication order to improve readability.
    RANDOM_FACTOR *
        currBaseValue *
        // A random float (rounded to int by Math.round above) in the range [-1, 1]. Determines
        // if we add or subtract.
        (Math.random() - 0.5) *
        2);
    // Limits backoff to max to avoid effectively permanent backoff.
    return Math.min(MAX_VALUE_MILLIS, currBaseValue + randomWait);
}

/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Provide English ordinal letters after a number
 */
function ordinal(i) {
    if (!Number.isFinite(i)) {
        return "" + i;
    }
    return i + indicator(i);
}
function indicator(i) {
    i = Math.abs(i);
    var cent = i % 100;
    if (cent >= 10 && cent <= 20) {
        return 'th';
    }
    var dec = i % 10;
    if (dec === 1) {
        return 'st';
    }
    if (dec === 2) {
        return 'nd';
    }
    if (dec === 3) {
        return 'rd';
    }
    return 'th';
}

/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function getModularInstance(service) {
    if (service && service._delegate) {
        return service._delegate;
    }
    else {
        return service;
    }
}


//# sourceMappingURL=index.esm.js.map


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/styles/reset.css":
/*!********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/styles/reset.css ***!
  \********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}", "",{"version":3,"sources":["webpack://./src/styles/reset.css"],"names":[],"mappings":"AAAA;;;CAGC;;AAED;;;;;;;;;;;;;CAaC,SAAS;CACT,UAAU;CACV,SAAS;CACT,eAAe;CACf,aAAa;CACb,wBAAwB;AACzB;AACA,gDAAgD;AAChD;;CAEC,cAAc;AACf;AACA;CACC,cAAc;AACf;AACA;CACC,gBAAgB;AACjB;AACA;CACC,YAAY;AACb;AACA;;CAEC,WAAW;CACX,aAAa;AACd;AACA;CACC,yBAAyB;CACzB,iBAAiB;AAClB","sourcesContent":["/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/styles/style.css":
/*!********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/styles/style.css ***!
  \********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _imgs_x_icon_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../imgs/x-icon.svg */ "./src/imgs/x-icon.svg");
// Imports




var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(_imgs_x_icon_svg__WEBPACK_IMPORTED_MODULE_3__);
// Module
___CSS_LOADER_EXPORT___.push([module.id, ":root {\n  --col-base-light: #c5edff;\n  --col-base-mid: #93bfd3;\n  --col-base-mid2: #729db1;\n  --col-base-dark: #427597;\n  --col-darkest: #000;\n  --col-light: #ffffff;\n  --col-btn-light: rgb(46, 149, 209);\n  --col-btn-mid: rgb(30, 138, 201);\n  --col-btn-dark: rgb(23, 89, 175);\n\n  --card-scale: .3em;\n\n  --transition-speed: .3s;\n}\nhtml {\n  height:100%;\n}\nbody {\n  position:relative;\n  min-height:100%;\n  max-width:900px;\n  margin:auto;\n  background-color: var(--col-base-dark);\n  color:var(--col-light);\n  display:flex;\n  flex-direction:column;\n}\n\nh1 {\n  padding:10px;\n  font-weight: 700;\n  font-size: 2em;\n  text-shadow:2px 2px 4px  rgb(2, 44, 99);\n  transition:var(--transition-speed);\n}\n\nh1::after {\n  display:block;\n  content:'';\n  margin-top:.2em;\n  border-bottom:1px solid white;\n}\n\nh2 {\n  font-weight:bold;\n  margin-bottom:1em;\n}\n\nmain.card {\n  margin-bottom:2em;\n}\n\nfooter {\n  position: absolute;\n  bottom:0;\n  padding:.5em;\n}\n\nform {\n  margin:0 .5em 0 .5em;\n}\n\nbutton {\n  appearance:none;\n  display:block;\n  margin:.3em;\n  padding:.3em .6em;\n  border:none;\n  font-size:1.2em;\n  color:var(--col-light);\n  border-bottom: 4px solid var(--col-btn-dark);\n  border-radius: 5px;\n  background:var(--col-btn-mid);\n}\n\nbutton:hover {\n  background:var(--col-btn-light);\n}\n\nbutton:focus {\n  outline:none;\n  border:none;\n  border-top: 4px solid var(--col-btn-dark);\n  background:var(--col-btn-dark);\n}\n\nform>button {\n  margin-top:.7em;\n}\n\na:visited, a:link {\n  color:var(--col-light);\n}\n\nb {\n  font-weight:bold;\n}\n\n.center-children {\n  display:flex;\n  justify-content: center;\n}\n\n.hidden {\n  display:none;\n}\n\n.card {\n  position:relative;\n  color: var(--col-darkest);\n  margin: calc(var(--card-scale)*2) var(--card-scale);\n  padding: var(--card-scale);\n  background: var(--col-light);\n  border-radius: var(--card-scale);\n  box-shadow: 1.5px 1.5px calc(var(--card-scale) * .7) var(--col-base-dark);\n}\n\n.card.semi-transparent {\n  background:rgba(255,255,255,.5);\n}\n\n.card.library-header {\n  display:none; /* Only visible if screen width > mobile */\n}\n\n.book {\n  display:flex;\n  flex-direction:column;\n}\n\n.book-prop {\n  margin-right:2em;\n  padding:.3em 0;\n}\n\n.book-prop.book-title {\n  font-weight:bold;\n}\n.book-prop.book-title::after {\n  content:\"\";\n  display:block;\n  border-top: solid 1px var(--col-base-dark); \n}\n.book-prop.book-author::before {\n  content:'by ';\n}\n.book-prop.book-pageCount::after {\n  content:' pages';\n}\n\n.container-foot {\n  margin-left:.3em;\n}\n\n/* * MODAL */\n.modal-bg {\n  position:fixed;\n  z-index:10;\n  left:0;\n  top:0;\n  width:100%;\n  height:100%;\n  overflow:auto;\n  background-color:rgba(0,0,0,.2);\n}\n\n.modal {\n  /* center */\n  z-index: 11;\n  position:fixed;\n  top:50%;\n  left:50%;\n  transform:translate(-50%,-50%);\n\n  box-sizing:border-box;\n  width:fit-content;\n  max-width:95%;\n  padding: .7em;\n  padding-bottom:0;\n  margin: 0;\n\n  font-size: 150%;\n}\n\n.modal > p {\n  padding-right:2em;\n}\n\n.form-item {\n  display: flex;\n  justify-content: space-between;\n  margin: .5em .2em;\n  position:relative;\n}\n\n.form-item > label {\n  padding-right:.4em;\n}\n\n.close-btn {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 1.5em;\n  height: 1.5em;\n  margin:.3em;\n  background: red;\n  border-radius:50%;\n  content: url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ");\n  user-select:none;\n}\n\n.close-btn:hover {\n  background:rgb(255, 93, 142);\n  transform:rotate(90deg);\n  transition:.3s;\n}\n\n.switch {\n  position:relative;\n  display:flex;\n  align-items:center;\n}\n\n.switch input {\n  display:none;\n}\n\n.switch-label {\n  padding-right: 1em;\n}\n.switch-span {\n  background:var(--col-base-dark);\n  width:1.7em;\n  height:1em;\n  border-radius:.5em;\n}\n\n.switch-span::before {\n  position:absolute;\n  box-sizing:border-box;\n  content:\"\";\n  height: 1em;\n  width: 1em;\n  border: .15em solid var(--col-base-dark);\n  border-radius:50%;\n  background:var(--col-base-light);\n  transition: .1s;\n}\n\ninput:checked + .switch-span::before {\n  transform:translateX(.7em);\n  background:lightgreen;\n  border-color: green;\n}\n\ninput:checked + .switch-span {\n  background: green;\n}\n\ninput[type='text'], input[type='number'] {\n  appearance:none;\n  border:1px solid var(--col-darkest);\n  border-radius: 4px;\n}\n\n.validation-failed {\n  background-color:red;\n  animation-name: anim-fade;\n  animation-duration: 3s;\n}\n\n.card.form-validation-error {\n  z-index:15;\n  box-sizing:border-box;\n  position:absolute;\n  top:1.6em;\n  right:0;\n  margin:0;\n  background:rgb(243, 174, 174);\n  font-size:.7em;\n}\n\n@keyframes anim-fade {\n  0% { background-color:red; }\n  100% { background-color: white; }\n}\n\n@media (min-width:35em) {\n  h1 {\n    font-size:3.6em;\n  }\n  .book {\n    display: grid;\n    grid-template-columns: 6fr 5fr 3fr 4fr;\n  }\n  .card.library-header {\n    display:grid;\n    font-weight: bold;\n  }\n  .close-btn {\n    top: 0;\n  }\n\n  .book-prop.book-author::before {\n    content:'';\n  }\n\n  .book-prop.book-pageCount::after {\n    content:'';\n  }\n\n  .book-prop.book-title {\n    font-weight:normal;\n  }\n\n  .book-prop.book-title::after {\n    display:none; \n  }\n}", "",{"version":3,"sources":["webpack://./src/styles/style.css"],"names":[],"mappings":"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","sourcesContent":[":root {\n  --col-base-light: #c5edff;\n  --col-base-mid: #93bfd3;\n  --col-base-mid2: #729db1;\n  --col-base-dark: #427597;\n  --col-darkest: #000;\n  --col-light: #ffffff;\n  --col-btn-light: rgb(46, 149, 209);\n  --col-btn-mid: rgb(30, 138, 201);\n  --col-btn-dark: rgb(23, 89, 175);\n\n  --card-scale: .3em;\n\n  --transition-speed: .3s;\n}\nhtml {\n  height:100%;\n}\nbody {\n  position:relative;\n  min-height:100%;\n  max-width:900px;\n  margin:auto;\n  background-color: var(--col-base-dark);\n  color:var(--col-light);\n  display:flex;\n  flex-direction:column;\n}\n\nh1 {\n  padding:10px;\n  font-weight: 700;\n  font-size: 2em;\n  text-shadow:2px 2px 4px  rgb(2, 44, 99);\n  transition:var(--transition-speed);\n}\n\nh1::after {\n  display:block;\n  content:'';\n  margin-top:.2em;\n  border-bottom:1px solid white;\n}\n\nh2 {\n  font-weight:bold;\n  margin-bottom:1em;\n}\n\nmain.card {\n  margin-bottom:2em;\n}\n\nfooter {\n  position: absolute;\n  bottom:0;\n  padding:.5em;\n}\n\nform {\n  margin:0 .5em 0 .5em;\n}\n\nbutton {\n  appearance:none;\n  display:block;\n  margin:.3em;\n  padding:.3em .6em;\n  border:none;\n  font-size:1.2em;\n  color:var(--col-light);\n  border-bottom: 4px solid var(--col-btn-dark);\n  border-radius: 5px;\n  background:var(--col-btn-mid);\n}\n\nbutton:hover {\n  background:var(--col-btn-light);\n}\n\nbutton:focus {\n  outline:none;\n  border:none;\n  border-top: 4px solid var(--col-btn-dark);\n  background:var(--col-btn-dark);\n}\n\nform>button {\n  margin-top:.7em;\n}\n\na:visited, a:link {\n  color:var(--col-light);\n}\n\nb {\n  font-weight:bold;\n}\n\n.center-children {\n  display:flex;\n  justify-content: center;\n}\n\n.hidden {\n  display:none;\n}\n\n.card {\n  position:relative;\n  color: var(--col-darkest);\n  margin: calc(var(--card-scale)*2) var(--card-scale);\n  padding: var(--card-scale);\n  background: var(--col-light);\n  border-radius: var(--card-scale);\n  box-shadow: 1.5px 1.5px calc(var(--card-scale) * .7) var(--col-base-dark);\n}\n\n.card.semi-transparent {\n  background:rgba(255,255,255,.5);\n}\n\n.card.library-header {\n  display:none; /* Only visible if screen width > mobile */\n}\n\n.book {\n  display:flex;\n  flex-direction:column;\n}\n\n.book-prop {\n  margin-right:2em;\n  padding:.3em 0;\n}\n\n.book-prop.book-title {\n  font-weight:bold;\n}\n.book-prop.book-title::after {\n  content:\"\";\n  display:block;\n  border-top: solid 1px var(--col-base-dark); \n}\n.book-prop.book-author::before {\n  content:'by ';\n}\n.book-prop.book-pageCount::after {\n  content:' pages';\n}\n\n.container-foot {\n  margin-left:.3em;\n}\n\n/* * MODAL */\n.modal-bg {\n  position:fixed;\n  z-index:10;\n  left:0;\n  top:0;\n  width:100%;\n  height:100%;\n  overflow:auto;\n  background-color:rgba(0,0,0,.2);\n}\n\n.modal {\n  /* center */\n  z-index: 11;\n  position:fixed;\n  top:50%;\n  left:50%;\n  transform:translate(-50%,-50%);\n\n  box-sizing:border-box;\n  width:fit-content;\n  max-width:95%;\n  padding: .7em;\n  padding-bottom:0;\n  margin: 0;\n\n  font-size: 150%;\n}\n\n.modal > p {\n  padding-right:2em;\n}\n\n.form-item {\n  display: flex;\n  justify-content: space-between;\n  margin: .5em .2em;\n  position:relative;\n}\n\n.form-item > label {\n  padding-right:.4em;\n}\n\n.close-btn {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 1.5em;\n  height: 1.5em;\n  margin:.3em;\n  background: red;\n  border-radius:50%;\n  content: url(../imgs/x-icon.svg);\n  user-select:none;\n}\n\n.close-btn:hover {\n  background:rgb(255, 93, 142);\n  transform:rotate(90deg);\n  transition:.3s;\n}\n\n.switch {\n  position:relative;\n  display:flex;\n  align-items:center;\n}\n\n.switch input {\n  display:none;\n}\n\n.switch-label {\n  padding-right: 1em;\n}\n.switch-span {\n  background:var(--col-base-dark);\n  width:1.7em;\n  height:1em;\n  border-radius:.5em;\n}\n\n.switch-span::before {\n  position:absolute;\n  box-sizing:border-box;\n  content:\"\";\n  height: 1em;\n  width: 1em;\n  border: .15em solid var(--col-base-dark);\n  border-radius:50%;\n  background:var(--col-base-light);\n  transition: .1s;\n}\n\ninput:checked + .switch-span::before {\n  transform:translateX(.7em);\n  background:lightgreen;\n  border-color: green;\n}\n\ninput:checked + .switch-span {\n  background: green;\n}\n\ninput[type='text'], input[type='number'] {\n  appearance:none;\n  border:1px solid var(--col-darkest);\n  border-radius: 4px;\n}\n\n.validation-failed {\n  background-color:red;\n  animation-name: anim-fade;\n  animation-duration: 3s;\n}\n\n.card.form-validation-error {\n  z-index:15;\n  box-sizing:border-box;\n  position:absolute;\n  top:1.6em;\n  right:0;\n  margin:0;\n  background:rgb(243, 174, 174);\n  font-size:.7em;\n}\n\n@keyframes anim-fade {\n  0% { background-color:red; }\n  100% { background-color: white; }\n}\n\n@media (min-width:35em) {\n  h1 {\n    font-size:3.6em;\n  }\n  .book {\n    display: grid;\n    grid-template-columns: 6fr 5fr 3fr 4fr;\n  }\n  .card.library-header {\n    display:grid;\n    font-weight: bold;\n  }\n  .close-btn {\n    top: 0;\n  }\n\n  .book-prop.book-author::before {\n    content:'';\n  }\n\n  .book-prop.book-pageCount::after {\n    content:'';\n  }\n\n  .book-prop.book-title {\n    font-weight:normal;\n  }\n\n  .book-prop.book-title::after {\n    display:none; \n  }\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
// eslint-disable-next-line func-names
module.exports = function (cssWithMappingToString) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item);

      if (item[2]) {
        return "@media ".concat(item[2], " {").concat(content, "}");
      }

      return content;
    }).join("");
  }; // import a list of modules into the list
  // eslint-disable-next-line func-names


  list.i = function (modules, mediaQuery, dedupe) {
    if (typeof modules === "string") {
      // eslint-disable-next-line no-param-reassign
      modules = [[null, modules, ""]];
    }

    var alreadyImportedModules = {};

    if (dedupe) {
      for (var i = 0; i < this.length; i++) {
        // eslint-disable-next-line prefer-destructuring
        var id = this[i][0];

        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }

    for (var _i = 0; _i < modules.length; _i++) {
      var item = [].concat(modules[_i]);

      if (dedupe && alreadyImportedModules[item[0]]) {
        // eslint-disable-next-line no-continue
        continue;
      }

      if (mediaQuery) {
        if (!item[2]) {
          item[2] = mediaQuery;
        } else {
          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);
        }
      }

      list.push(item);
    }
  };

  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js":
/*!************************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/cssWithMappingToString.js ***!
  \************************************************************************/
/***/ ((module) => {

"use strict";


function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

module.exports = function cssWithMappingToString(item) {
  var _item = _slicedToArray(item, 4),
      content = _item[1],
      cssMapping = _item[3];

  if (typeof btoa === "function") {
    // eslint-disable-next-line no-undef
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot || "").concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join("\n");
  }

  return [content].join("\n");
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/getUrl.js":
/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (url, options) {
  if (!options) {
    // eslint-disable-next-line no-param-reassign
    options = {};
  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign


  url = url && url.__esModule ? url.default : url;

  if (typeof url !== "string") {
    return url;
  } // If url is already wrapped in quotes, remove them


  if (/^['"].*['"]$/.test(url)) {
    // eslint-disable-next-line no-param-reassign
    url = url.slice(1, -1);
  }

  if (options.hash) {
    // eslint-disable-next-line no-param-reassign
    url += options.hash;
  } // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls


  if (/["'() \t\n]/.test(url) || options.needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, "\\n"), "\"");
  }

  return url;
};

/***/ }),

/***/ "./node_modules/firebase/app/dist/index.esm.js":
/*!*****************************************************!*\
  !*** ./node_modules/firebase/app/dist/index.esm.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _firebase_app__WEBPACK_IMPORTED_MODULE_0__.default)
/* harmony export */ });
/* harmony import */ var _firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @firebase/app */ "./node_modules/@firebase/app/dist/index.esm.js");



var name = "firebase";
var version = "8.4.2";

/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
_firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.registerVersion(name, version, 'app');
//# sourceMappingURL=index.esm.js.map


/***/ }),

/***/ "./node_modules/firebase/firebase-auth.js":
/*!************************************************!*\
  !*** ./node_modules/firebase/firebase-auth.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

!function(t,e){ true?e(__webpack_require__(/*! @firebase/app */ "./node_modules/@firebase/app/dist/index.esm.js")):0}(this,function(e){"use strict";try{!function(){function t(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var zl=t(e);!function(){var t,o="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var u=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof __webpack_require__.g&&__webpack_require__.g,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function c(t){var e,n,i="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return i?i.call(t):{next:(e=t,n=0,function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})}}!function(t,e){if(e){var n=u;t=t.split(".");for(var i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&o(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function a(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function e(){this.a=null}function s(e){return e instanceof a?e:new a(function(t){t(e)})}if(t)return t;e.prototype.b=function(t){var e;null==this.a&&(this.a=[],(e=this).c(function(){e.g()})),this.a.push(t)};var n=u.setTimeout;e.prototype.c=function(t){n(t,0)},e.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},e.prototype.f=function(t){this.c(function(){throw t})},a.prototype.f=function(){function t(e){return function(t){i||(i=!0,e.call(n,t))}}var n=this,i=!1;return{resolve:t(this.m),reject:t(this.g)}},a.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof a)this.s(t);else{t:switch(typeof t){case"object":var e=null!=t;break t;case"function":e=!0;break t;default:e=!1}e?this.v(t):this.h(t)}},a.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},a.prototype.g=function(t){this.i(2,t)},a.prototype.h=function(t){this.i(1,t)},a.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},a.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)r.b(this.a[t]);this.a=null}};var r=new e;return a.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},a.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},a.prototype.then=function(t,e){function n(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(t){r(t)}}:t}var i,r,o=new a(function(t,e){i=t,r=e});return this.Qa(n(t,i),n(e,r)),o},a.prototype.catch=function(t){return this.then(void 0,t)},a.prototype.Qa=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?r.b(n):this.a.push(n)},a.resolve=s,a.reject=function(n){return new a(function(t,e){e(n)})},a.race=function(r){return new a(function(t,e){for(var n=c(r),i=n.next();!i.done;i=n.next())s(i.value).Qa(t,e)})},a.all=function(t){var e=c(t),o=e.next();return o.done?s([]):new a(function(n,t){for(var i=[],r=0;i.push(void 0),r++,s(o.value).Qa(function(e){return function(t){i[e]=t,0==--r&&n(i)}}(i.length-1),t),o=e.next(),!o.done;);})},a});var h=h||{},l=this||self,e=/^[\w+/_-]+[=]{0,2}$/,s=null;function f(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&e.test(t)?t:""}function a(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==d(t)}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var n="closure_uid_"+(1e9*Math.random()>>>0),i=0;function r(t,e,n){return t.call.apply(t.bind,arguments)}function g(e,n,t){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,i),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:g).apply(null,arguments)}function y(e){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function w(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t){return t}function T(t,e,n){this.code=k+t,this.message=e||S[t]||"",this.a=n||null}function E(t){var e=t&&t.code;return e?new T(e.substring(k.length),t.message,t.serverResponse):null}w(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var A,k="auth/",S={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function _(t){for(var e in N)if(N[e].id===t)return t=N[e],{firebaseEndpoint:t.Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function O(t){if(t)try{return t.$goog_Thenable}catch(t){return}}function C(t){var e;Error.captureStackTrace?Error.captureStackTrace(this,C):(e=Error().stack)&&(this.stack=e),t&&(this.message=String(t))}function R(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");C.call(this,n+t[i])}function D(t){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}function x(){this.b=this.a=null}A=_("__EID__")?"__EID__":void 0,w(C,Error),C.prototype.name="CustomError",w(R,C),R.prototype.name="AssertionError",P.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t};var M=new P(function(){return new j},function(t){t.reset()});function j(){this.next=this.b=this.a=null}x.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},V=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};var F=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n,i=t.length,r=[],o=0,a="string"==typeof t?t.split(""):t,s=0;s<i;s++)s in a&&(n=a[s],e.call(void 0,n,s,t)&&(r[o++]=n));return r},q=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},H=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function K(t,e){return 0<=U(t,e)}function G(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function B(n,i){!function(t,e){for(var n="string"==typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(n,function(t,e){i.call(void 0,t,e,n)&&1==Array.prototype.splice.call(n,e,1).length&&0})}function W(){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var J,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},z=/&/g,$=/</g,Z=/>/g,Q=/"/g,tt=/'/g,et=/\x00/g,nt=/[\x00&<>"']/;function it(t,e){return-1!=t.indexOf(e)}function rt(t,e){return t<e?-1:e<t?1:0}t:{var ot=l.navigator;if(ot){ot=ot.userAgent;if(ot){J=ot;break t}}J=""}function at(t){return it(J,t)}function st(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ut(t){for(var e in t)return;return 1}function ct(t){var e,n={};for(e in t)n[e]=t[e];return n}var ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(t){for(var e,n,i=1;i<arguments.length;i++){for(e in n=arguments[i])t[e]=n[e];for(var r=0;r<ht.length;r++)e=ht[r],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function ft(t,e){t:{try{var n=t&&t.ownerDocument,n=n&&(n.defaultView||n.parentWindow);if((n=n||l).Element&&n.Location){var i=n;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(m(t))try{var r=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){r="<object could not be stringified>"}else r=void 0===t?"undefined":null===t?"null":typeof t;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,r)}}function dt(t,e){this.a=t===gt&&e||"",this.b=mt}function pt(t){return t instanceof dt&&t.constructor===dt&&t.b===mt?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}dt.prototype.sa=!0,dt.prototype.ra=function(){return this.a},dt.prototype.toString=function(){return"Const{"+this.a+"}"};var vt,mt={},gt={};function bt(){if(void 0===vt){var t=null,e=l.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:I,createScript:I,createScriptURL:I})}catch(t){l.console&&l.console.error(t.message)}vt=t}else vt=t}return vt}function yt(t,e){this.a=e===At?t:""}function wt(t){return t instanceof yt&&t.constructor===yt?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function It(t,n){var e,i=pt(t);if(!Et.test(i))throw Error("Invalid TrustedResourceUrl format: "+i);return t=i.replace(Tt,function(t,e){if(!Object.prototype.hasOwnProperty.call(n,e))throw Error('Found marker, "'+e+'", in format string, "'+i+'", but no valid label mapping found in args: '+JSON.stringify(n));return(t=n[e])instanceof dt?pt(t):encodeURIComponent(String(t))}),e=t,t=bt(),new yt(e=t?t.createScriptURL(e):e,At)}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a.toString()},yt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,Et=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={};function kt(t,e){this.a=e===Dt?t:""}function St(t){return t instanceof kt&&t.constructor===kt?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}kt.prototype.sa=!0,kt.prototype.ra=function(){return this.a.toString()},kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,_t=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ot=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ct(t){return t instanceof kt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),t=Ot.test(t)||(e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(_t))&&Nt.test(e[1])?new kt(t,Dt):null);var e}function Rt(t){return t instanceof kt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),new kt(t=!Ot.test(t)?"about:invalid#zClosurez":t,Dt))}var Dt={},Pt=new kt("about:invalid#zClosurez",Dt);function Lt(t,e,n){this.a=n===xt?t:""}Lt.prototype.sa=!0,Lt.prototype.ra=function(){return this.a.toString()},Lt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var xt={};function Mt(t,e,n,i){return t=t instanceof kt?t:Rt(t),e=e||l,n=n instanceof dt?pt(n):n||"",e.open(St(t),n,i,void 0)}function jt(t){for(var e=t.split("%s"),n="",i=Array.prototype.slice.call(arguments,1);i.length&&1<e.length;)n+=e.shift()+i.shift();return n+e.join("%s")}function Ut(t){return nt.test(t)&&(-1!=(t=-1!=(t=-1!=(t=-1!=(t=-1!=(t=-1!=t.indexOf("&")?t.replace(z,"&amp;"):t).indexOf("<")?t.replace($,"&lt;"):t).indexOf(">")?t.replace(Z,"&gt;"):t).indexOf('"')?t.replace(Q,"&quot;"):t).indexOf("'")?t.replace(tt,"&#39;"):t).indexOf("\0")&&(t=t.replace(et,"&#0;"))),t}function Vt(t){return Vt[" "](t),t}Vt[" "]=a;var Ft,qt=at("Opera"),Ht=at("Trident")||at("MSIE"),Kt=at("Edge"),Gt=Kt||Ht,Bt=at("Gecko")&&!(it(J.toLowerCase(),"webkit")&&!at("Edge"))&&!(at("Trident")||at("MSIE"))&&!at("Edge"),Wt=it(J.toLowerCase(),"webkit")&&!at("Edge");function Xt(){var t=l.document;return t?t.documentMode:void 0}t:{var Jt="",Yt=(Yt=J,Bt?/rv:([^\);]+)(\)|;)/.exec(Yt):Kt?/Edge\/([\d\.]+)/.exec(Yt):Ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Yt):Wt?/WebKit\/(\S+)/.exec(Yt):qt?/(?:Version)[ \/]?(\S+)/.exec(Yt):void 0);if(Yt&&(Jt=Yt?Yt[1]:""),Ht){Yt=Xt();if(null!=Yt&&Yt>parseFloat(Jt)){Ft=String(Yt);break t}}Ft=Jt}var zt={};function $t(s){return t=s,e=function(){for(var t=0,e=Y(String(Ft)).split("."),n=Y(String(s)).split("."),i=Math.max(e.length,n.length),r=0;0==t&&r<i;r++)for(var o=e[r]||"",a=n[r]||"";o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],(0!=o[0].length||0!=a[0].length)&&(t=rt(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||rt(0==o[2].length,0==a[2].length)||rt(o[2],a[2]),o=o[3],a=a[3],0==t););return 0<=t},n=zt,Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t);var t,e,n}var Zt=l.document&&Ht&&(Xt()||parseInt(Ft,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var Qt=!Ht||9<=Number(Zt);function te(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ee(n,t){st(t,function(t,e){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==e?n.style.cssText=t:"class"==e?n.className=t:"for"==e?n.htmlFor=t:re.hasOwnProperty(e)?n.setAttribute(re[e],t):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?n.setAttribute(e,t):n[e]=t})}var ne,ie,re={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function oe(){var t,e=arguments,n=document,i=String(e[0]),r=e[1];return!Qt&&r&&(r.name||r.type)&&(i=["<",i],r.name&&i.push(' name="',Ut(r.name),'"'),r.type&&(i.push(' type="',Ut(r.type),'"'),lt(t={},r),delete t.type,r=t),i.push(">"),i=i.join("")),i=ae(n,i),r&&("string"==typeof r?i.className=r:Array.isArray(r)?i.className=r.join(" "):ee(i,r)),2<e.length&&function(e,n,t){function i(t){t&&n.appendChild("string"==typeof t?e.createTextNode(t):t)}for(var r=2;r<t.length;r++){var o=t[r];if(!p(o)||m(o)&&0<o.nodeType)i(o);else{t:{if(o&&"number"==typeof o.length){if(m(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(v(o)){a="function"==typeof o.item;break t}}a=!1}V(a?X(o):o,i)}}}(n,i,e),i}function ae(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function se(t){l.setTimeout(function(){throw t},0)}function ue(t,e){ie||function(){{var t;ie=l.Promise&&l.Promise.resolve?(t=l.Promise.resolve(void 0),function(){t.then(le)}):function(){var t=le;!v(l.setImmediate)||l.Window&&l.Window.prototype&&!at("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(ne=ne||function(){var t=l.MessageChannel;if(void 0===(t=void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!at("Presto")?function(){var t=ae(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}:t)||at("Trident")||at("MSIE"))return function(t){l.setTimeout(t,0)};var e=new t,n={},i=n;return e.port1.onmessage=function(){var t;void 0!==n.next&&(t=(n=n.next).Gb,n.Gb=null,t())},function(t){i.next={Gb:t},i=i.next,e.port2.postMessage(0)}}())(t):l.setImmediate(t)}}}(),ce||(ie(),ce=!0),he.add(t,e)}var ce=!1,he=new x;function le(){for(var t,e,n;n=e=void 0,n=null,(e=he).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){se(t)}L(M,t)}ce=!1}function fe(t,e){if(this.a=de,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=a)try{var n=this;t.call(e,function(t){ke(n,pe,t)},function(t){if(!(t instanceof De))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}ke(n,ve,t)})}catch(t){ke(this,ve,t)}}var de=0,pe=2,ve=3;function me(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}me.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ge=new P(function(){return new me},function(t){t.reset()});function be(t,e,n){var i=ge.get();return i.g=t,i.b=e,i.f=n,i}function ye(t){if(t instanceof fe)return t;var e=new fe(a);return ke(e,pe,t),e}function we(n){return new fe(function(t,e){e(n)})}function Ie(t,e,n){Se(t,e,n,null)||ue(y(e,t))}function Te(n){return new fe(function(i){var r=n.length,o=[];if(r)for(var t=function(t,e,n){r--,o[t]=e?{Pb:!0,value:n}:{Pb:!1,reason:n},0==r&&i(o)},e=0;e<n.length;e++)Ie(n[e],y(t,e,!0),y(t,e,!1));else i(o)})}function Ee(t,e){t.b||t.a!=pe&&t.a!=ve||Ne(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ae(t,r,o,a){var e=be(null,null,null);return e.a=new fe(function(n,i){e.g=r?function(t){try{var e=r.call(a,t);n(e)}catch(t){i(t)}}:n,e.b=o?function(t){try{var e=o.call(a,t);void 0===e&&t instanceof De?i(t):n(e)}catch(t){i(t)}}:i}),Ee(e.a.c=t,e),e.a}function ke(t,e,n){var i,r;t.a==de&&(t===n&&(e=ve,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Se(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Ne(t),e!=ve||n instanceof De||(r=n,(i=t).g=!0,ue(function(){i.g&&Re.call(null,r)}))))}function Se(t,e,n,i){if(t instanceof fe)return Ee(t,be(e||a,n||null,i)),1;if(O(t))return t.then(e,n,i),1;if(m(t))try{var r=t.then;if(v(r))return function(t,e,n,i,r){function o(t){a||(a=!0,i.call(r,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(r,t))},o)}catch(t){o(t)}}(t,r,e,n,i),1}catch(t){return n.call(i,t),1}}function Ne(t){t.h||(t.h=!0,ue(t.gc,t))}function _e(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Oe(t,e,n,i){if(n==ve&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ce(e,n,i);else try{e.c?e.g.call(e.f):Ce(e,n,i)}catch(t){Re.call(null,t)}L(ge,e)}function Ce(t,e,n){e==pe?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}fe.prototype.then=function(t,e,n){return Ae(this,v(t)?t:null,v(e)?e:null,n)},fe.prototype.$goog_Thenable=!0,(t=fe.prototype).oa=function(t,e){return(t=be(t,t,e)).c=!0,Ee(this,t),this},t.o=function(t,e){return Ae(this,null,t,e)},t.cancel=function(t){var e;this.a==de&&(e=new De(t),ue(function(){!function t(e,n){if(e.a==de)if(e.c){var i=e.c;if(i.b){for(var r=0,o=null,a=null,s=i.b;s&&(s.c||(r++,!((o=s.a==e?s:o)&&1<r)));s=s.next)o||(a=s);o&&(i.a==de&&1==r?t(i,n):(a?((r=a).next==i.f&&(i.f=r),r.next=r.next.next):_e(i),Oe(i,o,ve,n)))}e.c=null}else ke(e,ve,n)}(this,e)},this))},t.$c=function(t){this.a=de,ke(this,pe,t)},t.ad=function(t){this.a=de,ke(this,ve,t)},t.gc=function(){for(var t;t=_e(this);)Oe(this,t,this.a,this.i);this.h=!1};var Re=se;function De(t){C.call(this,t)}function Pe(){this.xa=this.xa,this.pa=this.pa}w(De,C);var Le=0;function xe(t){t.xa||(t.xa=!0,t.Da(),0==Le)||(t=t,Object.prototype.hasOwnProperty.call(t,n)&&t[n]||(t[n]=++i))}Pe.prototype.xa=!(De.prototype.name="cancel"),Pe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Me=Object.freeze||function(t){return t},je=!Ht||9<=Number(Zt),Ue=Ht&&!$t("9"),Ve=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{l.addEventListener("test",a,e),l.removeEventListener("test",a,e)}catch(t){}return t}();function Fe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function qe(t,e){if(Fe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Bt){t:{try{Vt(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:He[t.pointerType]||"",(this.a=t).defaultPrevented&&this.preventDefault()}}Fe.prototype.preventDefault=function(){this.defaultPrevented=!0},w(qe,Fe);var He=Me({2:"touch",3:"pen",4:"mouse"});qe.prototype.preventDefault=function(){qe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ue)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},qe.prototype.g=function(){return this.a};var Ke="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function Be(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Va=r,this.key=++Ge,this.va=this.Pa=!1}function We(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function Xe(t){this.src=t,this.a={},this.b=0}function Je(t,e){var n=e.type;n in t.a&&G(t.a[n],e)&&(We(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Ye(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==i)return r}return-1}Xe.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Ye(t,e,i,r);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new Be(e,this.src,o,!!i,r)).Pa=n,t.push(e)),e};var ze="closure_lm_"+(1e6*Math.random()|0),$e={};function Ze(t,e,n,i,r){if(i&&i.once)tn(t,e,n,i,r);else if(Array.isArray(e))for(var o=0;o<e.length;o++)Ze(t,e[o],n,i,r);else n=hn(n),t&&t[Ke]?fn(t,e,n,m(i)?!!i.capture:!!i,r):Qe(t,e,n,!1,i,r)}function Qe(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a,s,u=m(r)?!!r.capture:!!r,c=un(t);if(c||(t[ze]=c=new Xe(t)),!(n=c.add(e,n,i,u,o)).proxy)if(a=sn,i=s=je?function(t){return a.call(s.src,s.listener,t)}:function(t){if(!(t=a.call(s.src,s.listener,t)))return t},(n.proxy=i).src=t,i.listener=n,t.addEventListener)void 0===(r=!Ve?u:r)&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(rn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function tn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)tn(t,e[o],n,i,r);else n=hn(n),t&&t[Ke]?dn(t,e,n,m(i)?!!i.capture:!!i,r):Qe(t,e,n,!0,i,r)}function en(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)en(t,e[o],n,i,r);else i=m(i)?!!i.capture:!!i,n=hn(n),t&&t[Ke]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=Ye(o=t.a[e],n,i,r))&&(We(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):(t=t&&un(t))&&(e=t.a[e.toString()],(n=(t=-1)<(t=e?Ye(e,n,i,r):t)?e[t]:null)&&nn(n))}function nn(t){var e,n,i;"number"!=typeof t&&t&&!t.va&&((e=t.src)&&e[Ke]?Je(e.v,t):(n=t.type,i=t.proxy,e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(rn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=un(e))?(Je(n,t),0==n.b&&(n.src=null,e[ze]=null)):We(t)))}function rn(t){return t in $e?$e[t]:$e[t]="on"+t}function on(t,e,n,i){var r=!0;if((t=un(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=an(o,i),r=r&&!1!==o)}return r}function an(t,e){var n=t.listener,i=t.Va||t.src;return t.Pa&&nn(t),n.call(i,e)}function sn(t,e){if(t.va)return!0;if(je)return an(t,new qe(e,this));if(!e)t:{e=["window","event"];for(var n=l,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new qe(i=e,this),n=!0,!(i.keyCode<0||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){r=!0}!r&&null!=i.returnValue||(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=on(i[r],t,!0,e),n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=on(i[r],t,!1,e),n=n&&o}return n}function un(t){return(t=t[ze])instanceof Xe?t:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function hn(e){return v(e)?e:(e[cn]||(e[cn]=function(t){return e.handleEvent(t)}),e[cn])}function ln(){Pe.call(this),this.v=new Xe(this),(this.ac=this).gb=null}function fn(t,e,n,i,r){t.v.add(String(e),n,!1,i,r)}function dn(t,e,n,i,r){t.v.add(String(e),n,!0,i,r)}function pn(t,e,n,i){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.va&&u.capture==n&&(a=u.listener,s=u.Va||u.src,u.Pa&&Je(t.v,u),r=!1!==a.call(s,i)&&r)}return r&&!i.defaultPrevented}function vn(t,e,n){if(v(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:l.setTimeout(t,e||0)}function mn(n){var i=null;return new fe(function(t,e){-1==(i=vn(function(){t(void 0)},n))&&e(Error("Failed to schedule timer."))}).o(function(t){throw l.clearTimeout(i),t})}function gn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function bn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function yn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof yn)for(n=t.Y(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function wn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];In(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){for(var r={},n=e=0;e<t.a.length;)In(r,i=t.a[e])||(r[t.a[n++]=i]=1),e++;t.a.length=n}}function In(t,e){return Object.prototype.hasOwnProperty.call(t,e)}w(ln,Pe),ln.prototype[Ke]=!0,ln.prototype.addEventListener=function(t,e,n,i){Ze(this,t,e,n,i)},ln.prototype.removeEventListener=function(t,e,n,i){en(this,t,e,n,i)},ln.prototype.dispatchEvent=function(t){var e;if(n=this.gb)for(e=[];n;n=n.gb)e.push(n);var n=this.ac,i=t.type||t;if("string"==typeof t?t=new Fe(t,n):t instanceof Fe?t.target=t.target||n:(a=t,lt(t=new Fe(i,n),a)),a=!0,e)for(var r=e.length-1;0<=r;r--)var o=t.b=e[r],a=pn(o,i,!0,t)&&a;if(a=pn(o=t.b=n,i,!0,t)&&a,a=pn(o,i,!1,t)&&a,e)for(r=0;r<e.length;r++)a=pn(o=t.b=e[r],i,!1,t)&&a;return a},ln.prototype.Da=function(){if(ln.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)We(n[i]);delete e.a[t],e.b--}}this.gb=null},(t=yn.prototype).W=function(){wn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return wn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return In(this.b,t)?this.b[t]:e},t.set=function(t,e){In(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Tn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function En(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof En?(this.i=void 0!==e?e:t.i,An(this,t.c),this.l=t.l,this.a=t.a,kn(this,t.g),this.f=t.f,Sn(this,Bn(t.b)),this.h=t.h):t&&(n=String(t).match(Tn))?(this.i=!!e,An(this,n[1]||"",!0),this.l=Rn(n[2]||""),this.a=Rn(n[3]||"",!0),kn(this,n[4]),this.f=Rn(n[5]||"",!0),Sn(this,n[6]||"",!0),this.h=Rn(n[7]||"")):(this.i=!!e,this.b=new Vn(null,this.i))}function An(t,e,n){t.c=n?Rn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function kn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Sn(t,e,n){var i,r;e instanceof Vn?(t.b=e,i=t.b,(r=t.i)&&!i.f&&(Fn(i),i.c=null,i.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Hn(this,e),Gn(this,n,t))},i)),i.f=r):(n||(e=Dn(e,jn)),t.b=new Vn(e,t.i))}function Nn(t,e,n){t.b.set(e,n)}function _n(t,e){return t.b.get(e)}function On(t){return t instanceof En?new En(t):new En(t,void 0)}function Cn(t,e,n,i){var r=new En(null,void 0);return t&&An(r,t),e&&(r.a=e),n&&kn(r,n),i&&(r.f=i),r}function Rn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Dn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Pn),t=n?t.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):t):null}function Pn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}En.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Dn(e,Ln,!0),":");var n=this.a;return!n&&"file"!=e||(t.push("//"),(e=this.l)&&t.push(Dn(e,Ln,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Dn(n,"/"==n.charAt(0)?Mn:xn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Dn(n,Un)),t.join("")},En.prototype.resolve=function(t){var e=new En(this),n=!!t.c;n?An(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var i=t.f;if(n)kn(e,t.g);else if(n=!!t.f)if("/"!=i.charAt(0)&&(this.a&&!this.f?i="/"+i:-1!=(r=e.f.lastIndexOf("/"))&&(i=e.f.substr(0,r+1)+i)),".."==(r=i)||"."==r)i="";else if(it(r,"./")||it(r,"/.")){for(var i=0==r.lastIndexOf("/",0),r=r.split("/"),o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r;return n?e.f=i:n=""!==t.b.toString(),n?Sn(e,Bn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Ln=/[#\/\?@]/g,xn=/[#\?:]/g,Mn=/[#\?]/g,jn=/[#\?@]/g,Un=/#/g;function Vn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Fn(n){n.a||(n.a=new yn,n.b=0,n.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i,r=t[n].indexOf("="),o=null;0<=r?(i=t[n].substring(0,r),o=t[n].substring(r+1)):i=t[n],e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.c,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function qn(t){var e=bn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Vn(null,void 0);t=gn(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];Array.isArray(o)?Gn(n,r,o):n.add(r,o)}return n}function Hn(t,e){Fn(t),e=Wn(t,e),In(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,In((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&wn(t)))}function Kn(t,e){return Fn(t),e=Wn(t,e),In(t.a.b,e)}function Gn(t,e,n){Hn(t,e),0<n.length&&(t.c=null,t.a.set(Wn(t,e),X(n)),t.b+=n.length)}function Bn(t){var e=new Vn;return e.c=t.c,t.a&&(e.a=new yn(t.a),e.b=t.b),e}function Wn(t,e){return e=String(e),e=t.f?e.toLowerCase():e}function Xn(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var r=n;n=r.length,i.push("[");for(var o="",a=0;a<n;a++)i.push(o),t(e,r[a],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&(a=n[r],"function"!=typeof a&&(i.push(o),$n(r,i),i.push(":"),t(e,a,i),o=","));return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":$n(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Jn,t,e),e.join("")}function Jn(){}(t=Vn.prototype).add=function(t,e){Fn(this),this.c=null,t=Wn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(n,i){Fn(this),this.a.forEach(function(t,e){V(t,function(t){n.call(i,t,e,this)},this)},this)},t.Y=function(){Fn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.W=function(t){Fn(this);var e=[];if("string"==typeof t)Kn(this,t)&&(e=W(e,this.a.get(Wn(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},t.set=function(t,e){return Fn(this),this.c=null,Kn(this,t=Wn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++)for(var i=e[n],r=encodeURIComponent(String(i)),i=this.W(i),o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}return this.c=t.join("&")};var Yn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},zn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function $n(t,e){e.push('"',t.replace(zn,function(t){var e=Yn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Yn[t]=e),e}),'"')}function Zn(){var t=gi();return Ht&&Zt&&11==Zt||/Edge\/\d+/.test(t)}function Qn(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function ti(t,e){e=e||l.window;var n="about:blank";t&&(n=St(Ct(t)||Pt)),e.location.href=n}function ei(t){return!!((t=(t||gi()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ni(t){t=t||l.window;try{t.close()}catch(t){}}function ii(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=gi().toLowerCase(),i&&(e.target=i,it(n,"crios/")&&(e.target="_blank")),pi(gi())==fi&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof kt?n:Ct(void 0!==n.href?n.href:String(n))||Pt,n=t.target||n.target,r=[],t)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(t[a]?1:0))}var a=r.join(",");if((at("iPhone")&&!at("iPod")&&!at("iPad")||at("iPad")||at("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(ft(a=ae(document,"A"),"HTMLAnchorElement"),e=e instanceof kt?e:Rt(e),a.href=St(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Mt("",i,n,a),t=St(e),a&&(Gt&&it(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ut(t)+'">',t=new Lt(t=(i=bt())?i.createHTML(t):t,0,xt),i=a.document)&&(i.write((o=t)instanceof Lt&&o.constructor===Lt?o.a:(D("expected object of type SafeHtml, got '"+o+"' of type "+d(o)),"type_error:SafeHtml")),i.close())):(a=Mt(e,i,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var ri=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oi=/^[^@]+@[^@]+$/;function ai(){var e=null;return new fe(function(t){"complete"==l.document.readyState?t():(e=function(){t()},tn(window,"load",e))}).o(function(t){throw en(window,"load",e),t})}function si(t){return t=t||gi(),!("file:"!==Ti()&&"ionic:"!==Ti()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function ui(){var t=l.window;try{return t&&t!=t.top}catch(t){return}}function ci(){return void 0!==l.WorkerGlobalScope&&"function"==typeof l.importScripts}function hi(){return zl.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":zl.default.INTERNAL.hasOwnProperty("node")?"Node":ci()?"Worker":"Browser"}function li(){var t=hi();return"ReactNative"===t||"Node"===t}var fi="Firefox",di="Chrome";function pi(t){var e=t.toLowerCase();return it(e,"opera/")||it(e,"opr/")||it(e,"opios/")?"Opera":it(e,"iemobile")?"IEMobile":it(e,"msie")||it(e,"trident/")?"IE":it(e,"edge/")?"Edge":it(e,"firefox/")?fi:it(e,"silk/")?"Silk":it(e,"blackberry")?"Blackberry":it(e,"webos")?"Webos":!it(e,"safari/")||it(e,"chrome/")||it(e,"crios/")||it(e,"android")?!it(e,"chrome/")&&!it(e,"crios/")||it(e,"edge/")?it(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":di:"Safari"}var vi={md:"FirebaseCore-web",od:"FirebaseUI-web"};function mi(t,e){e=e||[];var n,i=[],r={};for(n in vi)r[vi[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=hi())?i=pi(r=gi()):"Worker"===i&&(i=pi(r=gi())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function gi(){return l.navigator&&l.navigator.userAgent||""}function bi(t,e){t=t.split("."),e=e||l;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return e=n!=t.length?void 0:e}function yi(){try{var t=l.localStorage,e=Ni();if(t)return t.setItem(e,"1"),t.removeItem(e),!Zn()||!!l.indexedDB}catch(t){return ci()&&!!l.indexedDB}return!1}function wi(){return(Ii()||"chrome-extension:"===Ti()||si())&&!li()&&yi()&&!ci()}function Ii(){return"http:"===Ti()||"https:"===Ti()}function Ti(){return l.location&&l.location.protocol||null}function Ei(t){return!ei(t=t||gi())&&pi(t)!=fi}function Ai(t){return void 0===t?null:Xn(t)}function ki(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Si(t){if(null!==t)return JSON.parse(t)}function Ni(t){return t||Math.floor(1e9*Math.random()).toString()}function _i(t){return"Safari"!=pi(t=t||gi())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Oi(){var t=l.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ci(t,e){if(e<t)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=gi(),e=hi(),this.b=ei(t)||"ReactNative"===e}function Ri(){var t=l.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Di(){var e=l.document,n=null;return Ri()||!e?ye():new fe(function(t){n=function(){Ri()&&(e.removeEventListener("visibilitychange",n,!1),t())},e.addEventListener("visibilitychange",n,!1)}).o(function(t){throw e.removeEventListener("visibilitychange",n,!1),t})}function Pi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Li(){return bi("fireauth.oauthhelper",l)||bi("fireauth.iframe",l)}Ci.prototype.get=function(){var t=l.navigator;return!t||"boolean"!=typeof t.onLine||!Ii()&&"chrome-extension:"!==Ti()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var xi,Mi={};function ji(t){Mi[t]||(Mi[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Ui={};Object.defineProperty(Ui,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ui,"abcd",{configurable:!0,enumerable:!0,value:2}),xi=2==Ui.abcd}catch(t){xi=!1}function Vi(t,e,n){xi?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Fi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Vi(t,n,e[n])}function qi(t){var e={};return Fi(e,t),e}function Hi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Vi(e,n,Hi(t[n]));return e}function Ki(t){var e=t&&(t[Ji]?"phone":null);if(!(e&&t&&t[Xi]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Vi(this,"uid",t[Xi]),Vi(this,"displayName",t[Bi]||null);var n=null;Vi(this,"enrollmentTime",n=t[Wi]?new Date(t[Wi]).toUTCString():n),Vi(this,"factorId",e)}function Gi(t){try{var e=new Yi(t)}catch(t){e=null}return e}Ki.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Bi="displayName",Wi="enrolledAt",Xi="mfaEnrollmentId",Ji="phoneInfo";function Yi(t){Ki.call(this,t),Vi(this,"phoneNumber",t[Ji])}function zi(t){var e={},n=t[tr],i=t[nr],r=t[ir];if(t=Gi(t[er]),!r||r!=Zi&&r!=Qi&&!n||r==Qi&&!i||r==$i&&!t)throw Error("Invalid checkActionCode response!");r==Qi?(e[or]=n||null,e[sr]=n||null,e[rr]=i):(e[or]=i||null,e[sr]=i||null,e[rr]=n||null),e[ar]=t||null,Vi(this,cr,r),Vi(this,ur,Hi(e))}w(Yi,Ki),Yi.prototype.w=function(){var t=Yi.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var $i="REVERT_SECOND_FACTOR_ADDITION",Zi="EMAIL_SIGNIN",Qi="VERIFY_AND_CHANGE_EMAIL",tr="email",er="mfaInfo",nr="newEmail",ir="requestType",rr="email",or="fromEmail",ar="multiFactorInfo",sr="previousEmail",ur="data",cr="operation";function hr(t){var e=_n(t=On(t),lr)||null,n=_n(t,fr)||null,i=(i=_n(t,vr)||null)&&gr[i]||null;if(!e||!n||!i)throw new T("argument-error",lr+", "+fr+"and "+vr+" are required in a valid action code URL.");Fi(this,{apiKey:e,operation:i,code:n,continueUrl:_n(t,dr)||null,languageCode:_n(t,pr)||null,tenantId:_n(t,mr)||null})}var lr="apiKey",fr="oobCode",dr="continueUrl",pr="languageCode",vr="mode",mr="tenantId",gr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:$i,signIn:Zi,verifyAndChangeEmail:Qi,verifyEmail:"VERIFY_EMAIL"};function br(t){try{return new hr(t)}catch(t){return null}}function yr(t){if(void 0===(e=t[Ar]))throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");if(this.h=e,this.b=this.a=null,this.g=!1,(i=t[wr])&&"object"==typeof i){var e=i[Nr],n=i[kr],i=i[Sr];if("string"==typeof e&&e.length){if(this.a=e,void 0!==n&&"boolean"!=typeof n)throw new T("argument-error",kr+" property must be a boolean when specified.");if(this.g=!!n,void 0!==i&&("string"!=typeof i||"string"==typeof i&&!i.length))throw new T("argument-error",Sr+" property must be a non empty string when specified.");this.b=i||null}else{if(void 0!==e)throw new T("argument-error",Nr+" property must be a non empty string when specified.");if(void 0!==n||void 0!==i)throw new T("missing-android-pkg-name")}}else if(void 0!==i)throw new T("argument-error",wr+" property must be a non null object when specified.");if(this.f=null,(e=t[Er])&&"object"==typeof e){if("string"==typeof(e=e[_r])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",_r+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Er+" property must be a non null object when specified.");if(void 0!==(e=t[Tr])&&"boolean"!=typeof e)throw new T("argument-error",Tr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ir])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Ir+" property must be a non empty string when specified.");this.i=t||null}var wr="android",Ir="dynamicLinkDomain",Tr="handleCodeInApp",Er="iOS",Ar="url",kr="installApp",Sr="minimumVersion",Nr="packageName",_r="bundleId";function Or(t){var e,n={};for(e in n.continueUrl=t.h,n.canHandleCodeInApp=t.c,(n.androidPackageName=t.a)&&(n.androidMinimumVersion=t.b,n.androidInstallApp=t.g),n.iOSBundleId=t.f,n.dynamicLinkDomain=t.i,n)null===n[e]&&delete n[e];return n}var Cr=null;function Rr(t){var e=[];return function(i,t){function e(t){for(;r<i.length;){var e=i.charAt(r++),n=Cr[e];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(e))throw Error("Unknown base64 encoding at char: "+e)}return t}!function(){if(!Cr){Cr={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var i=t.concat(e[n].split("")),r=0;r<i.length;r++){var o=i[r];void 0===Cr[o]&&(Cr[o]=r)}}}();for(var r=0;;){var n=e(-1),o=e(0),a=e(64),s=e(64);if(64===s&&-1===n)break;t(n<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(t,function(t){e.push(t)}),e}function Dr(t){var e=Lr(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Pr(t){try{return new Dr(t)}catch(t){return null}}function Lr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var i=Rr(t);for(t=[],n=e=0;e<i.length;){var r,o,a,s=i[e++];s<128?t[n++]=String.fromCharCode(s):191<s&&s<224?(r=i[e++],t[n++]=String.fromCharCode((31&s)<<6|63&r)):239<s&&s<365?(a=((7&s)<<18|(63&(r=i[e++]))<<12|(63&(o=i[e++]))<<6|63&i[e++])-65536,t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))):(r=i[e++],o=i[e++],t[n++]=String.fromCharCode((15&s)<<12|(63&r)<<6|63&o))}return JSON.parse(t.join(""))}catch(t){}return null}Dr.prototype.T=function(){return this.f},Dr.prototype.l=function(){return this.c},Dr.prototype.toString=function(){return this.h};var xr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Mr=["client_id","response_type","scope","redirect_uri","state"],jr={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Mr},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Mr},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Mr},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:xr},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Ur(t){for(var e in jr)if(jr[e].fa==t)return jr[e];return null}function Vr(t){var e={};e["facebook.com"]=Gr,e["google.com"]=Wr,e["github.com"]=Br,e["twitter.com"]=Xr;var n=t&&t[qr];try{if(n)return new(e[n]||Kr)(t);if(void 0!==t[Fr])return new Hr(t)}catch(t){}return null}var Fr="idToken",qr="providerId";function Hr(t){var e,n=t[qr];if(n||!t[Fr]||(e=Pr(t[Fr]))&&e.b&&(n=e.b),!n)throw Error("Invalid additional user info!");"anonymous"!=n&&"custom"!=n||(n=null),e=!1,void 0!==t.isNewUser?e=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(e=!0),Vi(this,"providerId",n),Vi(this,"isNewUser",e)}function Kr(t){Hr.call(this,t),Vi(this,"profile",Hi((t=Si(t.rawUserInfo||"{}"))||{}))}function Gr(t){if(Kr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Br(t){if(Kr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Vi(this,"username",this.profile&&this.profile.login||null)}function Wr(t){if(Kr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xr(t){if(Kr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Vi(this,"username",t.screenName||null)}function Jr(t){var e=_n(i=On(t),"link"),n=_n(On(e),"link"),i=_n(i,"deep_link_id");return _n(On(i),"link")||i||n||e||t}function Yr(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?zr:$r}w(Kr,Hr),w(Gr,Kr),w(Br,Kr),w(Wr,Kr),w(Xr,Kr);var zr="enroll",$r="signin";function Zr(){}function Qr(t,n){return t.then(function(t){if(t[Ha]){var e=Pr(t[Ha]);if(!e||n!=e.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==k+"user-not-found"?new T("user-mismatch"):t})}function to(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Vi(this,"providerId",t),Vi(this,"signInMethod",t)}function eo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function no(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new to(t.providerId,t.pendingToken)}catch(t){}return null}function io(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Vi(this,"idToken",e.idToken),e.accessToken&&Vi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Vi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Vi(this,"accessToken",e.oauthToken),Vi(this,"secret",e.oauthTokenSecret)}Vi(this,"providerId",t),Vi(this,"signInMethod",n)}function ro(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function oo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new io(t.providerId,e,t.signInMethod)}catch(t){}}return null}function ao(t,e){this.Qc=e||[],Fi(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Ur(t)||{}).Ja||null,this.ob=null}function so(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');ao.call(this,t,[])}function uo(t){ao.call(this,t,Mr),this.a=[]}function co(){uo.call(this,"facebook.com")}function ho(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new co).credential({accessToken:e})}function lo(){uo.call(this,"github.com")}function fo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new lo).credential({accessToken:e})}function po(){uo.call(this,"google.com"),this.Ca("profile")}function vo(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new po).credential({idToken:n,accessToken:e})}function mo(){ao.call(this,"twitter.com",xr)}function go(t,e){var n=t;if(!(n=!m(n)?{oauthToken:t,oauthTokenSecret:e}:n).oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new io("twitter.com",n,"twitter.com")}function bo(t,e,n){this.a=t,this.f=e,Vi(this,"providerId","password"),Vi(this,"signInMethod",n===wo.EMAIL_LINK_SIGN_IN_METHOD?wo.EMAIL_LINK_SIGN_IN_METHOD:wo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function yo(t){return t&&t.email&&t.password?new bo(t.email,t.password,t.signInMethod):null}function wo(){Fi(this,{providerId:"password",isOAuthProvider:!1})}function Io(t,e){if(!(e=To(e)))throw new T("argument-error","Invalid email link!");return new bo(t,e.code,wo.EMAIL_LINK_SIGN_IN_METHOD)}function To(t){return(t=br(t=Jr(t)))&&t.operation===Zi?t:null}function Eo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,Vi(this,"providerId","phone"),this.fa="phone",Vi(this,"signInMethod","phone")}function Ao(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var n={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(t){e[t]&&(n[t]=e[t])}),new Eo(n)}return null}function ko(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function So(t){try{this.a=t||zl.default.auth()}catch(t){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Fi(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Eo({eb:t,cb:e})}function _o(t){if(t.temporaryProof&&t.phoneNumber)return new Eo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return vo(o,n);case"facebook.com":return ho(n);case"github.com":return fo(n);case"twitter.com":return go(n,i);default:return n||i||o||a?a?0==e.indexOf("saml.")?new to(e,a):new io(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new uo(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(t){return null}}function Oo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Co(t,e,n,i,r,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=a||null,this.a=r||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Ro(t){return(t=t||{}).type?new Co(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&E(t.error),t.postBody,t.tenantId):null}function Do(){this.b=null,this.a=[]}Yr.prototype.Ha=function(){return this.a?ye(this.a):ye(this.b)},Yr.prototype.w=function(){return this.type==zr?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Zr.prototype.ka=function(){},Zr.prototype.b=function(){},Zr.prototype.c=function(){},Zr.prototype.w=function(){},to.prototype.ka=function(t){return hs(t,eo(this))},to.prototype.b=function(t,e){var n=eo(this);return n.idToken=e,ls(t,n)},to.prototype.c=function(t,e){return Qr(fs(t,eo(this)),e)},to.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},io.prototype.ka=function(t){return hs(t,ro(this))},io.prototype.b=function(t,e){var n=ro(this);return n.idToken=e,ls(t,n)},io.prototype.c=function(t,e){return Qr(fs(t,ro(this)),e)},io.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},ao.prototype.Ka=function(t){return this.Ib=ct(t),this},w(so,ao),w(uo,ao),uo.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},uo.prototype.Qb=function(){return X(this.a)},uo.prototype.credential=function(t,e){e=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null};if(!e.idToken&&!e.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new io(this.providerId,e,this.providerId)},w(co,uo),Vi(co,"PROVIDER_ID","facebook.com"),Vi(co,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),w(lo,uo),Vi(lo,"PROVIDER_ID","github.com"),Vi(lo,"GITHUB_SIGN_IN_METHOD","github.com"),w(po,uo),Vi(po,"PROVIDER_ID","google.com"),Vi(po,"GOOGLE_SIGN_IN_METHOD","google.com"),w(mo,ao),Vi(mo,"PROVIDER_ID","twitter.com"),Vi(mo,"TWITTER_SIGN_IN_METHOD","twitter.com"),bo.prototype.ka=function(t){return this.signInMethod==wo.EMAIL_LINK_SIGN_IN_METHOD?Xs(t,ws,{email:this.a,oobCode:this.f}):Xs(t,Hs,{email:this.a,password:this.f})},bo.prototype.b=function(t,e){return this.signInMethod==wo.EMAIL_LINK_SIGN_IN_METHOD?Xs(t,Is,{idToken:e,email:this.a,oobCode:this.f}):Xs(t,Ls,{idToken:e,email:this.a,password:this.f})},bo.prototype.c=function(t,e){return Qr(this.ka(t),e)},bo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Fi(wo,{PROVIDER_ID:"password"}),Fi(wo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Fi(wo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Eo.prototype.ka=function(t){return t.fb(ko(this))},Eo.prototype.b=function(t,e){var n=ko(this);return n.idToken=e,Xs(t,Gs,n)},Eo.prototype.c=function(t,e){var n=ko(this);return n.operation="REAUTH",Qr(t=Xs(t,Bs,n),e)},Eo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},So.prototype.fb=function(i,r){var o=this.a.a;return ye(r.verify()).then(function(n){if("string"!=typeof n)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==r.type)throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var t=m(i)?i.session:null,e=m(i)?i.phoneNumber:i,t=t&&t.type==zr?t.Ha().then(function(t){return Xs(o,Ms,{idToken:t,phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:n}}).then(function(t){return t.phoneSessionInfo.sessionInfo})}):t&&t.type==$r?t.Ha().then(function(t){return e=o,t={mfaPendingCredential:t,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:n}},Xs(e,js,t).then(function(t){return t.phoneResponseInfo.sessionInfo});var e}):Xs(o,Ds,{phoneNumber:e,recaptchaToken:n});return t.then(function(t){return"function"==typeof r.reset&&r.reset(),t},function(t){throw"function"==typeof r.reset&&r.reset(),t})})},Fi(So,{PROVIDER_ID:"phone"}),Fi(So,{PHONE_SIGN_IN_METHOD:"phone"}),Co.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Co.prototype.T=function(){return this.h},Co.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Po,Lo=null;function xo(t){var e="unauthorized-domain",n=void 0,i=On(t);t=i.a,"chrome-extension"==(i=i.c)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Mo(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&Vi(this,"email",t.Jb),t.ea&&Vi(this,"phoneNumber",t.ea),t.credential&&Vi(this,"credential",t.credential),t.Zb&&Vi(this,"tenantId",t.Zb)}function jo(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:_o(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Mo(e,n,t.message)}return null}function Uo(){}function Vo(t){return t.c||(t.c=t.b())}function Fo(){}function qo(t){if(t.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return t.f;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function Ho(){}function Ko(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Go(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Bo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Wo(t){this.f=t,this.b=this.c=this.a=null}function Xo(t,e){this.name=t,this.value=e}w(xo,T),w(Mo,T),Mo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&lt(t,e),t},Mo.prototype.toJSON=function(){return this.w()},Uo.prototype.c=null,w(Fo,Uo),Fo.prototype.a=function(){var t=qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Fo.prototype.b=function(){var t={};return qo(this)&&(t[0]=!0,t[1]=!0),t},Po=new Fo,w(Ho,Uo),Ho.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ko;throw Error("Unsupported browser")},Ho.prototype.b=function(){return{}},(t=Ko.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Go(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Go(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Go(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Bo.prototype.a=null,Bo.prototype.reset=function(t,e,n,i,r){delete this.a},Xo.prototype.toString=function(){return this.name};var Jo=new Xo("SEVERE",1e3),Yo=new Xo("WARNING",900),zo=new Xo("CONFIG",700),$o=new Xo("FINE",500);Wo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c||(e.a?t(e.a):(D("Root logger has no level set."),null))}(this).value)for(v(e)&&(e=e()),t=new Bo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Zo,Qo={},ta=null;function ea(t){var e,n,i;return ta||(ta=new Wo(""),(Qo[""]=ta).c=zo),(e=Qo[t])||(e=new Wo(t),i=t.lastIndexOf("."),n=t.substr(i+1),(i=ea(t.substr(0,i))).b||(i.b={}),(i.b[n]=e).a=i,Qo[t]=e),e}function na(t,e){t&&t.log($o,e,void 0)}function ia(t){this.f=t}function ra(t){ln.call(this),this.u=t,this.h=void 0,this.readyState=oa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ea("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}w(ia,Uo),ia.prototype.a=function(){return new ra(this.f)},ia.prototype.b=(Zo={},function(){return Zo}),w(ra,ln);var oa=0;function aa(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function sa(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ua(t)}function ua(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ca(t){ln.call(this),this.headers=new yn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ha,this.u=this.S=!1}(t=ra.prototype).open=function(t,e){if(this.readyState!=oa)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ua(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,sa(this)),this.readyState=oa},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ua(this)),this.a&&(this.readyState=3,ua(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==l.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,aa(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){var e;this.a&&((e=this.m.decode(t.value||new Uint8Array(0),{stream:!t.done}))&&(this.response=this.responseText+=e),(t.done?sa:ua)(this),3==this.readyState&&aa(this))},t.tc=function(t){this.a&&(this.response=this.responseText=t,sa(this))},t.sc=function(t){this.a&&(this.response=t,sa(this))},t.Ua=function(t){var e=this.i;e&&e.log(Yo,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&sa(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(Yo,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(Yo,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}for(var t=[],e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),w(ca,ln);var ha="";ca.prototype.b=ea("goog.net.XhrIo");var la=/^https?$/i,fa=["POST","PUT"];function da(e,t,n,i,r){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=(e.D||Po).a(),e.C=e.D?Vo(e.D):Vo(Po),e.a.onreadystatechange=b(e.Vb,e);try{na(e.b,Ta(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(t){return na(e.b,Ta(e,"Error opening Xhr: "+t.message)),void va(e,t)}t=i||"";var o,a=new yn(e.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)V(t,e,void 0);else for(var n=bn(t),i=gn(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,function(t,e){a.set(e,t)}),r=function(t){t:{for(var e=pa,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(a.Y()),i=l.FormData&&t instanceof l.FormData,!K(fa,n)||r||i||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(t,e){this.a.setRequestHeader(e,t)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{ya(e),0<e.g&&(e.u=(o=e.a,Ht&&$t(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),na(e.b,Ta(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=b(e.Ma,e)):e.s=vn(e.Ma,e.g,e)),na(e.b,Ta(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){na(e.b,Ta(e,"Send error: "+t.message)),va(e,t)}}function pa(t){return"content-type"==t.toLowerCase()}function va(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ma(t),ba(t)}function ma(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ga(e){if(e.c&&void 0!==h)if(e.C[1]&&4==wa(e)&&2==Ia(e))na(e.b,Ta(e,"Local request error detected and ignored"));else if(e.i&&4==wa(e))vn(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==wa(e)){na(e.b,Ta(e,"Request complete")),e.c=!1;try{var t,n,i,r,o=Ia(e);t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break t;default:a=!1}if((t=a)||((n=0===o)&&(!(r=String(e.l).match(Tn)[1]||null)&&l.self&&l.self.location&&(r=(i=l.self.location.protocol).substr(0,i.length-1)),n=!la.test(r?r.toLowerCase():"")),t=n),t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var s=2<wa(e)?e.a.statusText:""}catch(t){na(e.b,"Can not get status: "+t.message),s=""}e.h=s+" ["+Ia(e)+"]",ma(e)}}finally{ba(e)}}}function ba(e,t){if(e.a){ya(e);var n=e.a,i=e.C[0]?a:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=i}catch(t){(e=e.b)&&e.log(Jo,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function ya(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(l.clearTimeout(t.s),t.s=null)}function wa(t){return t.a?t.a.readyState:0}function Ia(t){try{return 2<wa(t)?t.a.status:-1}catch(t){return-1}}function Ta(t,e){return e+" ["+t.R+" "+t.l+" "+Ia(t)+"]"}function Ea(t){var e=La;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Aa(t,e,n){t.a=!0,t.c=n,t.f=!e,_a(t)}function ka(t){if(t.a){if(!t.v)throw new Oa;t.v=!1}}function Sa(t,e,n,i){t.g.push([e,n,i]),t.a&&_a(t)}function Na(t){return H(t.g,function(t){return v(t[1])})}function _a(e){var n;e.h&&e.a&&Na(e)&&(i=e.h,(n=Da[i])&&(l.clearTimeout(n.a),delete Da[i]),e.h=0),e.b&&(e.b.l--,delete e.b);for(var i=e.c,t=n=!1;e.g.length&&!e.i;){var r=(a=e.g.shift())[0],o=a[1],a=a[2];if(r=e.f?o:r)try{var s=r.call(a||e.s,i);void 0!==s&&(e.f=e.f&&(s==i||s instanceof Error),e.c=i=s),(O(i)||"function"==typeof l.Promise&&i instanceof l.Promise)&&(t=!0,e.i=!0)}catch(t){i=t,e.f=!0,Na(e)||(n=!0)}}e.c=i,t&&(s=b(e.m,e,!0),t=b(e.m,e,!1),i instanceof Ea?(Sa(i,s,t),i.C=!0):i.then(s,t)),n&&(i=new Ra(i),Da[i.a]=i,e.h=i.a)}function Oa(){C.call(this)}function Ca(){C.call(this)}function Ra(t){this.a=l.setTimeout(b(this.c,this),0),this.b=t}(t=ca.prototype).Ma=function(){void 0!==h&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",na(this.b,Ta(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(na(this.b,Ta(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ba(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ba(this,!0)),ca.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?ga(this):this.Jc())},t.Jc=function(){ga(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ha:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Jo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return na(this.b,"Can not get response: "+t.message),null}},Ea.prototype.cancel=function(t){var e;this.a?this.c instanceof Ea&&this.c.cancel():(this.b&&(e=this.b,delete this.b,t?e.cancel(t):(e.l--,e.l<=0&&e.cancel())),this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ca,ka(this),Aa(this,!1,t)))},Ea.prototype.m=function(t,e){this.i=!1,Aa(this,t,e)},Ea.prototype.then=function(t,e,n){var i,r,o=new fe(function(t,e){i=t,r=e});return Sa(this,i,function(t){t instanceof Ca?o.cancel():r(t)}),o.then(t,e,n)},Ea.prototype.$goog_Thenable=!0,w(Oa,C),Oa.prototype.message="Deferred has already fired",Oa.prototype.name="AlreadyCalledError",w(Ca,C),Ca.prototype.message="Deferred was canceled",Ca.prototype.name="CanceledError",Ra.prototype.c=function(){throw delete Da[this.a],this.b};var Da={};function Pa(t){var e=document,n=wt(t).toString(),i=ae(document,"SCRIPT"),r={Wb:i,Ma:void 0},o=new Ea(r),a=window.setTimeout(function(){xa(i,!0);var t=new Ua(ja,"Timeout reached for loading script "+n);ka(o),Aa(o,!1,t)},5e3);return r.Ma=a,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(xa(i,!1,a),ka(o),Aa(o,!0,null))},i.onerror=function(){xa(i,!0,a);var t=new Ua(Ma,"Error while loading script "+n);ka(o),Aa(o,!1,t)},lt(r={},{type:"text/javascript",charset:"UTF-8"}),ee(i,r),r=t,ft(t=i,"HTMLScriptElement"),t.src=wt(r),(r=(r=t.ownerDocument&&t.ownerDocument.defaultView)&&r!=l?f(r.document):s=null===s?f(l.document):s)&&t.setAttribute("nonce",r),((e=((r=e)||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:r.documentElement).appendChild(i),o}function La(){var t;this&&this.Wb&&((t=this.Wb)&&"SCRIPT"==t.tagName&&xa(t,!0,this.Ma))}function xa(t,e,n){null!=n&&l.clearTimeout(n),t.onload=a,t.onerror=a,t.onreadystatechange=a,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Ma=0,ja=1;function Ua(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),C.call(this,n),this.code=t}function Va(t){this.f=t}function Fa(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ka,this.g=ct(t.secureTokenHeaders||Ga),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Ba,this.a=ct(t.firebaseHeaders||Wa),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==hi(),!(n=l.XMLHttpRequest||n&&zl.default.INTERNAL.node&&zl.default.INTERNAL.node.XMLHttpRequest)&&!ci())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ci()?this.f=new ia(self):li()?this.f=new Va(n):this.f=new Ho,this.b=null}w(Ua,C),w(Va,Uo),Va.prototype.a=function(){return new this.f},Va.prototype.b=function(){return{}};var qa,Ha="idToken",Ka=new Ci(3e4,6e4),Ga={"Content-Type":"application/x-www-form-urlencoded"},Ba=new Ci(3e4,6e4),Wa={"Content-Type":"application/json"};function Xa(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ja(t,e){e&&(t.l=Ya("https://securetoken.googleapis.com/v1/token",e),t.h=Ya("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Ya("https://identitytoolkit.googleapis.com/v2/",e))}function Ya(t,e){return t=On(t),e=On(e.url),t.f=t.a+t.f,An(t,e.c),t.a=e.a,kn(t,e.g),t.toString()}function za(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function $a(t,e,n,i,r,o,a){var s;(t=((s=pi(s=gi())==di&&(s=s.match(/\sChrome\/(\d+)/i))&&2==s.length?parseInt(s[1],10):null)&&s<30||Ht&&Zt&&!(9<Zt))&&!ci()?(qa=qa||new fe(function(t,e){var n,i;n=t,i=e,((window.gapi||{}).client||{}).request?n():(l[Qa]=function(){((window.gapi||{}).client||{}).request?n():i(Error("CORS_UNSUPPORTED"))},function(t,e){Sa(t,null,e,void 0)}(Pa(It(Za,{onload:Qa})),function(){i(Error("CORS_UNSUPPORTED"))}))}),b(t.s,t)):b(t.u,t))(e,n,i,r,o,a)}Fa.prototype.T=function(){return this.b},Fa.prototype.u=function(t,n,e,i,r,o){if(ci()&&(void 0===l.fetch||void 0===l.Headers||void 0===l.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a,s=new ca(this.f);o&&(s.g=Math.max(0,o),a=setTimeout(function(){s.dispatchEvent("timeout")},o)),fn(s,"complete",function(){a&&clearTimeout(a);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return na(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}n&&n(e)}),dn(s,"ready",function(){a&&clearTimeout(a),xe(this)}),dn(s,"timeout",function(){a&&clearTimeout(a),xe(this),n&&n(null)}),da(s,t,e,i,r)};var Za=new dt(gt,"https://apis.google.com/js/client.js?onload=%{onload}"),Qa="__fcb"+Math.floor(1e6*Math.random()).toString();function ts(t,e,n,i,r,o,a){var s=On(e+n);Nn(s,"key",t.c),a&&Nn(s,"cb",Date.now().toString());var u="GET"==i;if(u)for(var c in r)r.hasOwnProperty(c)&&Nn(s,c,r[c]);return new fe(function(e,n){$a(t,s.toString(),function(t){t?t.error?n(Ys(t,o||{})):e(t):n(new T("network-request-failed"))},i,u?void 0:Xn(ki(r)),t.a,t.v.get())})}function es(t){if("string"!=typeof(t=t.email)||!oi.test(t))throw new T("invalid-email")}function ns(t){"email"in t&&es(t)}function is(t){if(!t[Ha]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ct(t));throw new T("internal-error")}}function rs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Fa.prototype.s=function(t,n,i,r,o){var a=this;qa.then(function(){window.gapi.client.setApiKey(a.c);var e=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:i,body:r,headers:o,authType:"none",callback:function(t){window.gapi.auth.setToken(e),n&&n(t)}})}).o(function(t){n&&n({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Fa.prototype.zb=function(){return Xs(this,xs,{})},Fa.prototype.Bb=function(t,e){return Xs(this,Ps,{idToken:t,email:e})},Fa.prototype.Cb=function(t,e){return Xs(this,Ls,{idToken:t,password:e})};var os={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function as(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ss(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function us(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Kn(t=new Vn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function cs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=jo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=jo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=jo(t)):t.errorMessage&&(e=Js(t.errorMessage)),e)throw e;is(t)}function hs(t,e){return e.returnIdpCredential=!0,Xs(t,Us,e)}function ls(t,e){return e.returnIdpCredential=!0,Xs(t,Fs,e)}function fs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Xs(t,Vs,e)}function ds(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Fa.prototype).Db=function(t,i){var r={idToken:t},o=[];return st(os,function(t,e){var n=i[e];null===n?o.push(t):e in i&&(r[e]=n)}),o.length&&(r.deleteAttribute=o),Xs(this,Ps,r)},t.vb=function(t,e){return lt(t={requestType:"PASSWORD_RESET",email:t},e),Xs(this,_s,t)},t.wb=function(t,e){return lt(t={requestType:"EMAIL_SIGNIN",email:t},e),Xs(this,ks,t)},t.ub=function(t,e){return lt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Xs(this,Ss,t)},t.Eb=function(t,e,n){return lt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Xs(this,Ns,t)},t.fb=function(t){return Xs(this,Ks,t)},t.nb=function(t,e){return Xs(this,Rs,{oobCode:t,newPassword:e})},t.Ra=function(t){return Xs(this,vs,{oobCode:t})},t.jb=function(t){return Xs(this,ps,{oobCode:t})};var ps={endpoint:"setAccountInfo",A:ds,Z:"email",B:!0},vs={endpoint:"resetPassword",A:ds,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},ms={endpoint:"signupNewUser",A:function(t){if(es(t),!t.password)throw new T("weak-password")},G:is,V:!0,B:!0},gs={endpoint:"createAuthUri",B:!0},bs={endpoint:"deleteAccount",N:["idToken"]},ys={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},ws={endpoint:"emailLinkSignin",N:["email","oobCode"],A:es,G:is,V:!0,B:!0},Is={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:es,G:is,V:!0},Ts={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:as,G:is,B:!0,Na:!0},Es={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:as,G:is,B:!0,Na:!0},As={endpoint:"getAccountInfo"},ks={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");es(t)},Z:"email",B:!0},Ss={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Ns={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},_s={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");es(t)},Z:"email",B:!0},Os={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Cs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Rs={endpoint:"resetPassword",A:ds,Z:"email",B:!0},Ds={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ps={endpoint:"setAccountInfo",N:["idToken"],A:ns,V:!0},Ls={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ns(t),!t.password)throw new T("weak-password")},G:is,V:!0},xs={endpoint:"signupNewUser",G:is,V:!0,B:!0},Ms={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},js={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Us={endpoint:"verifyAssertion",A:ss,Ya:us,G:cs,V:!0,B:!0},Vs={endpoint:"verifyAssertion",A:ss,Ya:us,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw Js(t.errorMessage);is(t)},V:!0,B:!0},Fs={endpoint:"verifyAssertion",A:function(t){if(ss(t),!t.idToken)throw new T("internal-error")},Ya:us,G:cs,V:!0},qs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:is,V:!0,B:!0},Hs={endpoint:"verifyPassword",A:function(t){if(es(t),!t.password)throw new T("wrong-password")},G:is,V:!0,B:!0},Ks={endpoint:"verifyPhoneNumber",A:rs,G:is,B:!0},Gs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");rs(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",jo(t);is(t)}},Bs={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:rs,G:is,B:!0},Ws={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ha]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function Xs(t,e,n){if(!function(t,e){if(!e||!e.length)return 1;if(t){for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return}return 1}}(n,e.N))return we(new T("internal-error"));var i,r=!!e.Na,o=e.Ub||"POST";return ye(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ts(t,r?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return i=t,e.Ya?e.Ya(n,i):i}).then(e.G).then(function(){if(!e.Z)return i;if(!(e.Z in i))throw new T("internal-error");return i[e.Z]})}function Js(t){return Ys({error:{errors:[{message:t}],code:400,message:t}})}function Ys(t,e){var n,i=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(i=r[i]?new T(r[i]):null)return i;for(n in i=t.error&&t.error.message||"",lt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=i.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===i.indexOf(n))return new T(r[n],e);return new T("internal-error",e=!e&&t?Ai(t):e)}function zs(t){var o;this.b=t,this.a=null,this.rb=(o=this,(tu=tu||new fe(function(t,e){function n(){Oi(),bi("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Oi(),e(Error("Network Error"))},timeout:Zs.get()})}var i;bi("gapi.iframes.Iframe")?t():bi("gapi.load")?n():(i="__iframefcb"+Math.floor(1e6*Math.random()).toString(),l[i]=function(){bi("gapi.load")?n():e(Error("Network Error"))},ye(Pa(i=It($s,{onload:i}))).o(function(){e(Error("Network Error"))}))}).o(function(t){throw tu=null,t})).then(function(){return new fe(function(i,r){bi("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:bi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(t){function e(){clearTimeout(n),i()}o.a=t,o.a.restyle({setHideOnLeave:!1});var n=setTimeout(function(){r(Error("Network Error"))},Qs.get());t.ping(e).then(e,function(){r(Error("Network Error"))})})})}))}var $s=new dt(gt,"https://apis.google.com/js/api.js?onload=%{onload}"),Zs=new Ci(3e4,6e4),Qs=new Ci(5e3,15e3),tu=null;function eu(t,e,n,i){this.l=t,this.h=e,this.i=n,this.g=i,this.f=null,t=this.g?Cn((t=On(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Cn("https",this.l,null,"/__/auth/iframe"),this.a=t,Nn(this.a,"apiKey",this.h),Nn(this.a,"appName",this.i),this.b=null,this.c=[]}function nu(t,e,n,i,r,o){this.u=t,this.s=e,this.c=n,this.m=i,this.v=o,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function iu(t){try{return zl.default.app(t).auth().Ga()}catch(t){return[]}}function ru(t,e,n,i,r,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=i||null,this.i=r||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function ou(t){var s=Qn();return Xs(t,Os,{}).then(function(t){return t.authorizedDomains||[]}).then(function(t){t:{for(var e=(n=On(s)).c,n=n.a,i=0;i<t.length;i++){var r=t[i],o=n,a=e;if(o=0==r.indexOf("chrome-extension://")?On(r).a==o&&"chrome-extension"==a:("http"==a||"https"==a)&&(ri.test(r)?o==r:(r=r.split(".").join("\\."),new RegExp("^(.+\\."+r+"|"+r+")$","i").test(o)))){t=!0;break t}}t=!1}if(!t)throw new xo(Qn())})}function au(r){return r.m||(r.m=ai().then(function(){var t,e,n,i;r.u||(t=r.c,e=r.i,n=iu(r.b),(i=new eu(r.s,r.g,r.b,r.f)).f=t,i.b=e,i.c=X(n||[]),r.u=i.toString()),r.v=new zs(r.u),function(i){if(!i.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,bi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(i.v,function(t){var e={};if(t&&t.authEvent){var n=!1;for(t=Ro(t.authEvent),e=0;e<i.h.length;e++)n=i.h[e](t)||n;return(e={}).status=n?"ACK":"ERROR",ye(e)}return e.status="ERROR",ye(e)})}(r)}),r.m)}function su(t){return t.l||(t.C=t.c?mi(t.c,iu(t.b)):null,t.l=new Fa(t.g,_(t.i),t.C),t.f&&Ja(t.l,t.f)),t.l}function uu(t,e,n,i,r,o,a,s,u,c,h,l){return(t=new nu(t,e,n,i,r,l)).l=o,t.g=a,t.i=s,t.b=ct(u||null),t.f=c,t.yb(h).toString()}function cu(t){if(this.a=t||zl.default.INTERNAL.reactNative&&zl.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function hu(t){this.b=t,this.a={},this.f=b(this.c,this)}eu.prototype.toString=function(){return this.f?Nn(this.a,"v",this.f):Hn(this.a.b,"v"),this.b?Nn(this.a,"eid",this.b):Hn(this.a.b,"eid"),this.c.length?Nn(this.a,"fw",this.c.join(",")):Hn(this.a.b,"fw"),this.a.toString()},nu.prototype.yb=function(t){return this.h=t,this},nu.prototype.toString=function(){var t;if(Nn(t=this.v?Cn((t=On(this.v.url)).c,t.a,t.g,"/emulator/auth/handler"):Cn("https",this.u,null,"/__/auth/handler"),"apiKey",this.s),Nn(t,"appName",this.c),Nn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=zl.default.app(this.c).auth().la()}catch(t){n=null}for(i in e.ob=n,Nn(t,"providerId",this.a.providerId),e=ki((n=this.a).Ib))e[i]=e[i].toString();for(var i=n.Qc,e=ct(e),r=0;r<i.length;r++){var o=i[r];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),ut(e)||Nn(t,"customParameters",Ai(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&Nn(t,"scopes",n.join(","))),this.l?Nn(t,"redirectUrl",this.l):Hn(t.b,"redirectUrl"),this.g?Nn(t,"eventId",this.g):Hn(t.b,"eventId"),this.i?Nn(t,"v",this.i):Hn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!_n(t,a)&&Nn(t,a,this.b[a]);return this.h?Nn(t,"tid",this.h):Hn(t.b,"tid"),this.f?Nn(t,"eid",this.f):Hn(t.b,"eid"),(a=iu(this.c)).length&&Nn(t,"fw",a.join(",")),t.toString()},(t=ru.prototype).Ob=function(e,n,t){var i=new T("popup-closed-by-user"),r=new T("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){var t,i;i={type:"webStorageSupport"},au(t=o).then(function(){return e=t.v,n=i,e.rb.then(function(){return new fe(function(t){e.a.send(n.type,n,t,bi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})});var e,n}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}).then(function(t){t||(e&&ni(e),n(r),a=!0)})}).o(function(){}).then(function(){if(!a)return n=e,new fe(function(e){return function t(){mn(2e3).then(function(){return n&&!n.closed?t():void e()})}()});var n}).then(function(){if(!a)return mn(t).then(function(){n(i)})})},t.Xb=function(){var t=gi();return!Ei(t)&&!_i(t)},t.Tb=function(){return!1},t.Mb=function(e,t,n,i,r,o,a,s){if(!e)return we(new T("popup-blocked"));if(a&&!Ei())return this.ma().o(function(t){ni(e),r(t)}),i(),ye();this.a||(this.a=ou(su(this)));var u=this;return this.a.then(function(){var t=u.ma().o(function(t){throw ni(e),r(t),t});return i(),t}).then(function(){Oo(n),a||ti(uu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Nb=function(t,e,n,i){this.a||(this.a=ou(su(this)));var r=this;return this.a.then(function(){Oo(e),ti(uu(r.s,r.g,r.b,t,e,Qn(),n,r.c,void 0,r.i,i,r.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ma=function(){var t=this;return au(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new T("network-request-failed")})},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(e){B(this.h,function(t){return t==e})},(t=cu.prototype).get=function(t){return ye(this.a.getItem(t)).then(function(t){return t&&Si(t)})},t.set=function(t,e){return ye(this.a.setItem(t,Ai(e)))},t.U=function(t){return ye(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var lu,fu=[];function du(t,e,n){ut(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function pu(t){this.a=t}function vu(t){this.c=t,this.b=!1,this.a=[]}function mu(i,t,e,n){var r,o,a,s,u=e||{},c=null;if(i.b)return we(Error("connection_unavailable"));var h=n?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new fe(function(e,n){l?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),a=setTimeout(function(){n(Error("unsupported_event"))},h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){n(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?e(t.data.response):n(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),n(Error("invalid_response"))))}},i.a.push(c),l.port1.addEventListener("message",o),i.c.postMessage({eventType:t,eventId:r,data:u},[l.port2])):n(Error("connection_unavailable"))}).then(function(t){return gu(i,c),t}).o(function(t){throw gu(i,c),t})}function gu(t,e){var n,i;e&&(n=e.messageChannel,i=e.onMessage,n&&(n.port1.removeEventListener("message",i),n.port1.close()),B(t.a,function(t){return t==e}))}function bu(){if(!Tu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t,e,n,i=this;ci()&&self?(this.v=(n=ci()?self:null,V(fu,function(t){t.b==n&&(e=t)}),e||(e=new hu(n),fu.push(e)),e),du(this.v,"keyChanged",function(t,n){return Nu(i).then(function(e){return 0<e.length&&V(i.a,function(t){t(e)}),{keyProcessed:K(e,n.key)}})}),du(this.v,"ping",function(){return ye(["keyChanged"])})):((t=l.navigator)&&t.serviceWorker?ye().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):ye(null)).then(function(t){(i.h=t)&&(i.g=new vu(new pu(t)),mu(i.g,"ping",null,!0).then(function(t){t[0].fulfilled&&K(t[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}function yu(r){return new fe(function(e,n){var t=r.m.open("firebaseLocalStorageDb",1);t.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},t.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},t.onsuccess=function(t){var i;(t=t.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(t):(i=r,new fe(function(t,e){var n=i.m.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){t()},n.onerror=function(t){e(Error(t.target.error))}}).then(function(){return yu(r)}).then(function(t){e(t)}).o(function(t){n(t)}))}})}function wu(t){return t.i||(t.i=yu(t)),t.i}function Iu(r,t){var o=0;return new fe(function e(n,i){wu(r).then(t).then(n).o(function(t){return 3<++o?void i(t):wu(r).then(function(t){return t.close(),r.i=void 0,e(n,i)}).o(function(t){i(t)})})})}function Tu(){try{return l.indexedDB}catch(t){return}}function Eu(t){return t.objectStore("firebaseLocalStorage")}function Au(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ku(t){return new fe(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Su(t,e){return t.g&&t.h&&((n=l.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===t.h?mu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):ye();var n}function Nu(i){return wu(i).then(function(t){var r=Eu(Au(t,!1));return r.getAll?ku(r.getAll()):new fe(function(e,n){var i=[],t=r.openCursor();t.onsuccess=function(t){(t=t.target.result)?(i.push(t.value),t.continue()):e(i)},t.onerror=function(t){n(t.target.error)}})}).then(function(t){var e={},n=[];if(0==i.b){for(n=0;n<t.length;n++)e[t[n].fbase_key]=t[n].value;n=function t(e,n){var i,r=[];for(i in e)i in n&&typeof e[i]==typeof n[i]?"object"==typeof e[i]&&null!=e[i]&&null!=n[i]?0<t(e[i],n[i]).length&&r.push(i):e[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in e||r.push(i);return r}(i.c,e),i.c=e}return n})}function _u(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ou(t){var i=this,r=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ye().then(function(){if(Tu()){var e=Ni(),n="__sak"+e;return lu=lu||new bu,(r=lu).set(n,e).then(function(){return r.get(n)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return r.U(n)}).then(function(){return r}).o(function(){return i.c})}return i.c}).then(function(t){return i.type=t.type,t.ca(function(e){V(i.a,function(t){t(e)})}),t})}function Cu(){this.a={},this.type="inMemory"}function Ru(){if(!function(){var t="Node"==hi();if(!(t=Du()||t&&zl.default.INTERNAL.node&&zl.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==hi())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Du()||zl.default.INTERNAL.node.localStorage,this.type="localStorage"}function Du(){try{var t=l.localStorage,e=Ni();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Pu(){this.type="nullStorage"}function Lu(){if(!function(){var t="Node"==hi();if(!(t=xu()||t&&zl.default.INTERNAL.node&&zl.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==hi())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=xu()||zl.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function xu(){try{var t=l.sessionStorage,e=Ni();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Mu(){var t={};t.Browser=Vu,t.Node=Fu,t.ReactNative=qu,t.Worker=Hu,this.a=t[hi()]}hu.prototype.c=function(n){var e,i=n.data.eventType,r=n.data.eventId,t=this.a[i];t&&0<t.length&&(n.ports[0].postMessage({status:"ack",eventId:r,eventType:i,response:null}),e=[],V(t,function(t){e.push(ye().then(function(){return t(n.origin,n.data.data)}))}),Te(e).then(function(t){var e=[];V(t,function(t){e.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),V(e,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:e})}))},pu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},vu.prototype.close=function(){for(;0<this.a.length;)gu(this,this.a[0]);this.b=!0},(t=bu.prototype).set=function(i,r){var o=this,a=!1;return Iu(this,function(t){return ku((t=Eu(Au(t,!0))).get(i))}).then(function(n){return Iu(o,function(t){if(t=Eu(Au(t,!0)),n)return n.value=r,ku(t.put(n));o.b++,a=!0;var e={};return e.fbase_key=i,e.value=r,ku(t.add(e))})}).then(function(){return o.c[i]=r,Su(o,i)}).oa(function(){a&&o.b--})},t.get=function(e){return Iu(this,function(t){return ku(Eu(Au(t,!1)).get(e))}).then(function(t){return t&&t.value})},t.U=function(e){var n=this,i=!1;return Iu(this,function(t){return i=!0,n.b++,ku(Eu(Au(t,!0)).delete(e))}).then(function(){return delete n.c[e],Su(n,e)}).oa(function(){i&&n.b--})},t.ca=function(t){var n;0==this.a.length&&(_u(n=this),function e(){n.f=setTimeout(function(){n.l=Nu(n).then(function(e){0<e.length&&V(n.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()),this.a.push(t)},t.ia=function(e){B(this.a,function(t){return t==e}),0==this.a.length&&_u(this)},(t=Ou.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},t.set=function(e,n){return this.b.then(function(t){return t.set(e,n)})},t.U=function(e){return this.b.then(function(t){return t.U(e)})},t.ca=function(t){this.a.push(t)},t.ia=function(e){B(this.a,function(t){return t==e})},(t=Cu.prototype).get=function(t){return ye(this.a[t])},t.set=function(t,e){return this.a[t]=e,ye()},t.U=function(t){return delete this.a[t],ye()},t.ca=function(){},t.ia=function(){},(t=Ru.prototype).get=function(t){var e=this;return ye().then(function(){return Si(e.a.getItem(t))})},t.set=function(e,n){var i=this;return ye().then(function(){var t=Ai(n);null===t?i.U(e):i.a.setItem(e,t)})},t.U=function(t){var e=this;return ye().then(function(){e.a.removeItem(t)})},t.ca=function(t){l.window&&Ze(l.window,"storage",t)},t.ia=function(t){l.window&&en(l.window,"storage",t)},(t=Pu.prototype).get=function(){return ye(null)},t.set=function(){return ye()},t.U=function(){return ye()},t.ca=function(){},t.ia=function(){},(t=Lu.prototype).get=function(t){var e=this;return ye().then(function(){return Si(e.a.getItem(t))})},t.set=function(e,n){var i=this;return ye().then(function(){var t=Ai(n);null===t?i.U(e):i.a.setItem(e,t)})},t.U=function(t){var e=this;return ye().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var ju,Uu,Vu={F:Ru,bb:Lu},Fu={F:Ru,bb:Lu},qu={F:cu,bb:Pu},Hu={F:Ru,bb:Pu},Ku={rd:"local",NONE:"none",td:"session"};function Gu(){var t=!(_i(gi())||!ui()),e=Ei(),n=yi();this.m=t,this.h=e,this.l=n,this.a={},t=ju=ju||new Mu;try{this.g=!Zn()&&Li()||!l.indexedDB?new t.a.F:new Ou(new(ci()?Cu:t.a.F))}catch(t){this.g=new Cu,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new Cu}this.v=new Cu,this.f=b(this.Yb,this),this.b={}}function Bu(){return Uu=Uu||new Gu}function Wu(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Xu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ju(t,e,n){return n=Xu(e,n),"local"==e.F&&(t.b[n]=null),Wu(t,e.F).U(n)}function Yu(t){t.c&&(clearInterval(t.c),t.c=null)}function zu(t){this.a=t,this.b=Bu()}(t=Gu.prototype).get=function(t,e){return Wu(this,t.F).get(Xu(t,e))},t.set=function(e,t,n){var i=Xu(e,n),r=this,o=Wu(this,e.F);return o.set(i,t).then(function(){return o.get(i)}).then(function(t){"local"==e.F&&(r.b[i]=t)})},t.addListener=function(t,e,n){var i;t=Xu(t,e),this.l&&(this.b[t]=l.localStorage.getItem(t)),ut(this.a)&&(Wu(this,"local").ca(this.f),this.h||(Zn()||!Li())&&l.indexedDB||!this.l||(Yu(i=this),i.c=setInterval(function(){for(var t in i.a){var e=l.localStorage.getItem(t),n=i.b[t];e!=n&&(i.b[t]=e,e=new qe({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),i.Yb(e))}},1e3))),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Xu(t,e),this.a[t]&&(B(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),ut(this.a)&&(Wu(this,"local").ia(this.f),Yu(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=l.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Wu(this,"local").ia(this.f):Yu(this),this.m)if(n=l.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?l.localStorage.setItem(e,i):l.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var o=this,n=function(){void 0===t.a.a&&o.b[e]===l.localStorage.getItem(e)||(o.b[e]=l.localStorage.getItem(e),o.mb(e))};Ht&&Zt&&10==Zt&&l.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else V(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&V(this.a[t],function(t){t()})};var $u,Zu={name:"authEvent",F:"local"};function Qu(){this.a=Bu()}function tc(t,e){this.b=ec,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=l.Int32Array?new Int32Array(64):Array(64),void 0===$u&&($u=l.Int32Array?new Int32Array(uc):uc),this.reset()}w(tc,function(){this.b=-1});for(var ec=64,nc=ec-1,ic=[],rc=0;rc<nc;rc++)ic[rc]=0;var oc=W(128,ic);function ac(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;e<64;e++){var r=0|n[e-15],i=0|n[e-2],o=(0|n[e-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[e-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+a|0}i=0|t.a[0],r=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;e<64;e++){var f=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&h^~c&l)+(0|$u[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+a|0,u=s,s=r,r=i,i=a+f|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function sc(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if("string"==typeof e)for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(ac(t),r=0);else{if(!p(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(ac(t),r=0)}}t.c=r,t.g+=n}tc.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):X(this.h)};var uc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cc(){tc.call(this,8,hc)}w(cc,tc);var hc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function lc(t,e,n,i,r,o){this.v=t,this.i=e,this.l=n,this.m=i||null,this.u=r||null,this.s=o,this.h=e+":"+n,this.C=new Qu,this.g=new zu(this.h),this.f=null,this.b=[],this.a=this.c=null}function fc(t){return new T("invalid-cordova-configuration",t)}function dc(t){var e=new cc;sc(e,t),t=[];var n=8*e.g;e.c<56?sc(e,oc,56-e.c):sc(e,oc,e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(ac(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return q(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}function pc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function vc(s){return s.f||(s.f=s.ma().then(function(){return new fe(function(n){function e(i){t=!0,a&&a.cancel(),mc(r).then(function(t){var e,n=o;t&&i&&i.url&&(e=null,n=(e=-1!=(n=Jr(i.url)).indexOf("/__/auth/callback")?(e="object"==typeof(e=Si(_n(e=On(n),"firebaseError")||null))?E(e):null)?new Co(t.c,t.b,null,null,e,null,t.T()):new Co(t.c,t.b,n,t.f,null,null,t.T()):e)||o),pc(r,n)})}var r,o,t,a,i;s.Ea(function t(e){return n(e),s.Sa(t),!1}),r=s,o=new Co("unknown",null,null,null,new T("no-auth-event")),t=!1,a=mn(500).then(function(){return mc(r).then(function(){t||pc(r,o)})}),i=l.handleOpenURL,l.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(bi("BuildInfo.packageName",l).toLowerCase()+"://")&&e({url:t}),"function"==typeof i)try{i(t)}catch(t){console.error(t)}},Lo=Lo||new Do,function(t){var n=Lo;n.a.push(t),n.b||(n.b=function(t){for(var e=0;e<n.a.length;e++)n.a[e](t)},"function"==typeof(t=bi("universalLinks.subscribe",l))&&t(null,n.b))}(e)})})),s.f}function mc(e){var t,n=null;return(t=e.g).b.get(Zu,t.a).then(Ro).then(function(t){return n=t,Ju((t=e.g).b,Zu,t.a)}).then(function(){return n})}function gc(t){this.a=t,this.b=Bu()}(t=lc.prototype).ma=function(){return this.Ia||(this.Ia=(si(void 0)?ai().then(function(){return new fe(function(t,e){var n=l.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):we(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof bi("universalLinks.subscribe",l))throw fc("cordova-universal-links-plugin-fix is not installed");if(void 0===bi("BuildInfo.packageName",l))throw fc("cordova-plugin-buildinfo is not installed");if("function"!=typeof bi("cordova.plugins.browsertab.openUrl",l))throw fc("cordova-plugin-browsertab is not installed");if("function"!=typeof bi("cordova.InAppBrowser.open",l))throw fc("cordova-plugin-inappbrowser is not installed")},function(){throw new T("cordova-not-ready")}))},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),ye()},t.Mb=function(){return we(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,i){if(this.c)return we(new T("redirect-operation-pending"));var r=this,o=l.document,a=null,s=null,u=null,c=null;return this.c=ye().then(function(){return Oo(e),vc(r)}).then(function(){return function(n,t,e,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Co(t,i,null,o,new T("no-auth-event"),null,r),s=bi("BuildInfo.packageName",l);if("string"!=typeof s)throw new T("invalid-cordova-configuration");var u=bi("BuildInfo.displayName",l),c={};if(gi().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!gi().toLowerCase().match(/android/))return we(new T("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=dc(o),c.sessionId=o;var h=uu(n.v,n.i,n.l,t,e,null,i,n.m,c,n.u,r,n.s);return n.ma().then(function(){var t=n.h;return n.C.a.set(Zu,a.w(),t)}).then(function(){var t=bi("cordova.plugins.browsertab.isAvailable",l);if("function"!=typeof t)throw new T("invalid-cordova-configuration");var e=null;t(function(t){if(t){if("function"!=typeof(e=bi("cordova.plugins.browsertab.openUrl",l)))throw new T("invalid-cordova-configuration");e(h)}else{if("function"!=typeof(e=bi("cordova.InAppBrowser.open",l)))throw new T("invalid-cordova-configuration");t=gi(),n.a=e(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(r,t,e,n,i)}).then(function(){return new fe(function(e,t){s=function(){var t=bi("cordova.plugins.browsertab.close",l);return e(),"function"==typeof t&&t(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ea(s),u=function(){a=a||mn(2e3).then(function(){t(new T("redirect-cancelled-by-user"))})},c=function(){Ri()&&u()},o.addEventListener("resume",u,!1),gi().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).o(function(t){return mc(r).then(function(){throw t})})}).oa(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&r.Sa(s),r.c=null})},t.Ea=function(e){this.b.push(e),vc(this).o(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Co("unknown",null,null,null,new T("no-auth-event")),e(t))})},t.Sa=function(e){B(this.b,function(t){return t==e})};var bc={name:"pendingRedirect",F:"session"};function yc(t){return Ju(t.b,bc,t.a)}function wc(t,e,n,i){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=i,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new xc,this.C=new Fc,this.g=new gc(Pc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Ic(this.D,this.v,this.m,A,this.J)}function Ic(t,e,n,i,r){var o=zl.default.SDK_VERSION||null;return new(si()?lc:ru)(t,e,n,o,i,r)}function Tc(e){e.f||(e.f=!0,e.a.Ea(e.l));var n=e.a;return e.a.ma().o(function(t){throw e.a==n&&e.reset(),t})}function Ec(n){n.a.Xb()&&Tc(n).o(function(t){var e=new Co("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Oc(t)&&n.s(e)}),n.a.Tb()||Mc(n.b)}function Ac(n,t){K(n.h,t)||n.h.push(t),n.f||(t=n.g).b.get(bc,t.a).then(function(t){return"pending"==t}).then(function(t){t?yc(n.g).then(function(){Tc(n).o(function(t){var e=new Co("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Oc(t)&&n.s(e)})}):Ec(n)}).o(function(){Ec(n)})}function kc(t,e){B(t.h,function(t){return t==e})}wc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Ic(this.D,this.v,this.m,null,this.J),this.i={}},wc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Mc(this.b),e};var Sc=new Ci(2e3,1e4),Nc=new Ci(3e4,6e4);function _c(t,e,n,i,r,o,a){return t.a.Mb(e,n,i,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},r,o,a)}function Oc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Cc(e,t,n,i,r){var o,a;return(a=e.g).b.set(bc,"pending",a.a).then(function(){return e.a.Nb(t,n,i,r).o(function(t){if(Oc(t))throw new T("operation-not-supported-in-this-environment");return o=t,yc(e.g).then(function(){throw o})}).then(function(){return e.a.$b()?new fe(function(){}):yc(e.g).then(function(){return e.qa()}).then(function(){}).o(function(){})})})}function Rc(t,e,n,i,r){return t.a.Ob(i,function(t){e.na(n,null,t,r)},Sc.get())}wc.prototype.qa=function(){return this.b.qa()};var Dc={};function Pc(t,e,n){return t=t+":"+e,t=n?t+":"+n.url:t}function Lc(t,e,n,i){var r=Pc(e,n,i);return Dc[r]||(Dc[r]=new wc(t,e,n,i)),Dc[r]}function xc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Mc(t){t.g||(t.g=!0,Vc(t,!1,null,null))}function jc(t){t.g&&!t.i&&Vc(t,!1,null,null)}function Uc(t,e){if(t.b=function(){return ye(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Vc(t,e,n,i){e?i?function(t,e){if(t.b=function(){return we(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):Uc(t,n):Uc(t,{user:null}),t.f=[],t.c=[]}function Fc(){}function qc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Hc(t,e){this.a=e,Vi(this,"verificationId",t)}function Kc(t,e,n,i){return new So(t).fb(e,n).then(function(t){return new Hc(t,i)})}function Gc(t){var e=Lr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Fi(this,{token:t,expirationTime:Pi(1e3*e.exp),authTime:Pi(1e3*e.auth_time),issuedAtTime:Pi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Bc(t,e,n){var i=e&&e[Xc];if(!i)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ct(e),this.g=n,this.c=new Yr(null,i),this.b=[];var r=this;V(e[Wc]||[],function(t){(t=Gi(t))&&r.b.push(t)}),Vi(this,"auth",this.a),Vi(this,"session",this.c),Vi(this,"hints",this.b)}xc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},xc.prototype.h=function(t,e){var n,i,r,o;t?(this.reset(),this.g=!0,n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code,this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(Vc(this,!0,null,t.a),ye()):e.Fa(n,i)?function(e,t,n){n=n.Fa(t.c,t.b);var i=t.g,r=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(i,r,a,o).then(function(t){Vc(e,s,t,null)}).o(function(t){Vc(e,s,null,t)})}(this,t,e):we(new T("invalid-auth-event")):(Vc(this,!1,null,null),ye())):we(new T("invalid-auth-event"))},xc.prototype.qa=function(){var r=this;return new fe(function(t,e){var n,i;r.b?r.b().then(t,e):(r.f.push(t),r.c.push(e),n=r,i=new T("timeout"),n.a&&n.a.cancel(),n.a=mn(Nc.get()).then(function(){n.b||(n.g=!0,Vc(n,!0,null,i))}))})},Fc.prototype.h=function(t,e){var n,i,r,o,a;t?(n=t.c,i=t.b,t.a?(e.na(t.c,null,t.a,t.b),ye()):e.Fa(n,i)?(r=e,o=(t=t).b,a=t.c,r.Fa(a,o)(t.g,t.f,t.T(),t.i).then(function(t){r.na(a,t,null,o)}).o(function(t){r.na(a,null,t,o)})):we(new T("invalid-auth-event"))):we(new T("invalid-auth-event"))},Hc.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var Wc="mfaInfo",Xc="mfaPendingCredential";function Jc(t,e,n,i){T.call(this,"multi-factor-auth-required",i,e),this.b=new Bc(t,e,n),Vi(this,"resolver",this.b)}function Yc(t,e,n){if(t&&m(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Jc(e,t.serverResponse,n,t.message)}catch(t){}return null}function zc(){}function $c(t){Vi(this,"factorId",t.fa),this.a=t}function Zc(t){if($c.call(this,t),this.a.fa!=So.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Qc(t,e){for(var n in Fe.call(this,t),e)this[n]=e[n]}function th(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),Ze(this.a,"userReloaded",this.c);var i=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&V(e.multiFactor.enrolledFactors,function(t){var e=null,n={};if(t){t.uid&&(n[Xi]=t.uid),t.displayName&&(n[Bi]=t.displayName),t.enrollmentTime&&(n[Wi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(n[Ji]=t.phoneNumber);try{e=new Yi(n)}catch(t){}t=e}else t=null;t&&i.push(t)}),eh(this,i)}function eh(t,e){t.b=e,Vi(t,"enrolledFactors",e)}function nh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ih(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function rh(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function oh(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function ah(t,e){t.b=Pr(e[Ha]||""),t.a=e.refreshToken,oh(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function sh(e,t){return i=e.f,r=t,new fe(function(e,n){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?$a(i,i.l+"?key="+encodeURIComponent(i.c),function(t){t?t.error?n(Ys(t)):t.access_token&&t.refresh_token?e(t):n(new T("internal-error")):n(new T("network-request-failed"))},"POST",qn(r).toString(),i.g,i.m.get()):n(new T("internal-error"))}).then(function(t){return e.b=Pr(t.access_token),e.a=t.refresh_token,oh(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t});var i,r}function uh(t,e){this.a=t||null,this.b=e||null,Fi(this,{lastSignInTime:Pi(e||null),creationTime:Pi(t||null)})}function ch(t,e,n,i,r,o){Fi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function hh(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i,r=zl.default.SDK_VERSION?mi(zl.default.SDK_VERSION):null;this.a=new Fa(this.l,_(A),r),t.emulatorConfig&&Ja(this.a,t.emulatorConfig),this.b=new rh(this.a),bh(this,e[Ha]),ah(this.b,e),Vi(this,"refreshToken",this.b.a),Ih(this,n||{}),ln.call(this),this.R=!1,this.s&&wi()&&(this.i=Lc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=(i=this,new nh(function(){return i.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var t=i.b.c-Date.now()-3e5;return 0<t?t:0})),this.aa=b(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){Ja(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){dh(o,t.f)},this.ba=null,this.O=new th(this,n),Vi(this,"multiFactor",this.O)}function lh(t,e){t.ja&&en(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&Ze(e,"languageCodeChanged",t.Oa)}function fh(t,e){t.X&&en(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&Ze(e,"emulatorConfigChanged",t.Aa)}function dh(t,e){t.$=e,za(t.a,zl.default.SDK_VERSION?mi(zl.default.SDK_VERSION,t.$):null)}function ph(t,e){t.ba&&en(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&Ze(e,"frameworkChanged",t.Ba)}function vh(e){try{return zl.default.app(e.m).auth()}catch(t){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function mh(t){t.D||t.u.b||(t.u.start(),en(t,"tokenChanged",t.aa),Ze(t,"tokenChanged",t.aa))}function gh(t){en(t,"tokenChanged",t.aa),t.u.stop()}function bh(t,e){t.za=e,Vi(t,"_lat",e)}function yh(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Te(e).then(function(){return t})}function wh(t){t.i&&!t.R&&(t.R=!0,Ac(t.i,t))}function Ih(t,e){Fi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new uh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Th(){}function Eh(t){return ye().then(function(){if(t.D)throw new T("app-deleted")})}function Ah(t){return q(t.providerData,function(t){return t.providerId})}function kh(t,e){e&&(Sh(t,e.providerId),t.providerData.push(e))}function Sh(t,e){B(t.providerData,function(t){return t.providerId==e})}function Nh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Vi(t,e,n)}function _h(e,t){var n,i;e!=t&&(Fi(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Vi(e,"metadata",new uh((i=t.metadata).a,i.b)):Vi(e,"metadata",new uh),V(t.providerData,function(t){kh(e,t)}),n=e.b,i=t.b,n.b=i.b,n.a=i.a,n.c=i.c,Vi(e,"refreshToken",e.b.a),eh(e.O,t.O.b))}function Oh(r){return r.I().then(function(t){var e,n,i=r.isAnonymous;return n=t,Xs((e=r).a,As,{idToken:n}).then(b(e.Kc,e)).then(function(){return i||Nh(r,"isAnonymous",!1),t})})}function Ch(t,e){e[Ha]&&t.za!=e[Ha]&&(ah(t.b,e),t.dispatchEvent(new Qc("tokenChanged")),bh(t,e[Ha]),Nh(t,"refreshToken",t.b.a))}function Rh(t,e){return Oh(t).then(function(){if(K(Ah(t),e))return yh(t).then(function(){throw new T("provider-already-linked")})})}function Dh(t,e,n){return qi({user:t,credential:_o(e),additionalUserInfo:e=Vr(e),operationType:n})}function Ph(t,e){return Ch(t,e),t.reload().then(function(){return t})}function Lh(n,i,t,e,r){if(!wi())return we(new T("operation-not-supported-in-this-environment"));if(n.h&&!r)return we(n.h);var o=Ur(t.providerId),a=Ni(n.uid+":::"),s=null,u=ii(s=(!Ei()||ui())&&n.s&&t.isOAuthProvider?uu(n.s,n.l,n.m,i,t,null,a,zl.default.SDK_VERSION||null,null,null,n.tenantId):s,o&&o.ua,o&&o.ta);return e=e().then(function(){if(Mh(n),!r)return n.I().then(function(){})}).then(function(){return _c(n.i,u,i,t,a,!!s,n.tenantId)}).then(function(){return new fe(function(t,e){n.na(i,null,new T("cancelled-popup-request"),n.g||null),n.f=t,n.C=e,n.g=a,n.c=Rc(n.i,n,i,u,a)})}).then(function(t){return u&&ni(u),t?qi(t):null}).o(function(t){throw u&&ni(u),t}),jh(n,e,r)}function xh(e,t,n,i,r){if(!wi())return we(new T("operation-not-supported-in-this-environment"));if(e.h&&!r)return we(e.h);var o=null,a=Ni(e.uid+":::");return i=i().then(function(){if(Mh(e),!r)return e.I().then(function(){})}).then(function(){return e.ga=a,yh(e)}).then(function(t){return t=e.ha?(t=e.ha).b.set(Fh,e.w(),t.a):t}).then(function(){return Cc(e.i,t,n,a,e.tenantId)}).o(function(t){if(o=t,e.ha)return qh(e.ha);throw o}).then(function(){if(o)throw o}),jh(e,i,r)}function Mh(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function jh(n,t,e){var i,r=(t=t,e=e,(i=n).h&&!e?(t.cancel(),we(i.h)):t.o(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(i.h||i.dispatchEvent(new Qc("userInvalidated")),i.h=t),t}));return n.J.push(r),r.oa(function(){G(n.J,r)}),r.o(function(t){var e=null;throw(e=t&&"auth/multi-factor-auth-required"===t.code?Yc(t.w(),vh(n),b(n.jc,n)):e)||t})}function Uh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ha]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=t.stsTokenManager.expirationTime;i&&(n.expiresIn=(i-Date.now())/1e3);var r=new hh(e,n,t);return t.providerData&&V(t.providerData,function(t){t&&kh(r,qi(t))}),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Vh(t){this.a=t,this.b=Bu()}Bc.prototype.Rc=function(t){var n=this;return t.sb(this.a.a,this.c).then(function(t){var e=ct(n.f);return delete e[Wc],delete e[Xc],lt(e,t),n.g(e)})},w(Jc,T),zc.prototype.sb=function(t,e,n){return e.type==zr?(o=this,a=t,s=n,e.Ha().then(function(t){return t={idToken:t},void 0!==s&&(t.displayName=s),lt(t,{phoneVerificationInfo:ko(o.a)}),Xs(a,Ts,t)})):(i=this,r=t,e.Ha().then(function(t){return lt(t={mfaPendingCredential:t},{phoneVerificationInfo:ko(i.a)}),Xs(r,Es,t)}));var i,r,o,a,s},w($c,zc),w(Zc,$c),w(Qc,Fe),(t=th.prototype).yc=function(t){var e;eh(this,(t=t.hd,e=[],V(t.mfaInfo||[],function(t){(t=Gi(t))&&e.push(t)}),e))},t.Rb=function(){return this.a.I().then(function(t){return new Yr(t,null)})},t.fc=function(e,n){var i=this,r=this.a.a;return this.Rb().then(function(t){return e.sb(r,t,n)}).then(function(t){return Ch(i.a,t),i.a.reload()})},t.bd=function(t){var n=this,i="string"==typeof t?t:t.uid,e=this.a.a;return this.a.I().then(function(t){return Xs(e,Ws,{idToken:t,mfaEnrollmentId:i})}).then(function(t){var e=F(n.b,function(t){return t.uid!=i});return eh(n,e),Ch(n.a,t),n.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:q(this.b,function(t){return t.w()})}}},nh.prototype.start=function(){this.a=this.c,function e(n,t){n.stop();n.b=mn(ih(n,t)).then(Di).then(function(){return n.h()}).then(function(){e(n,!0)}).o(function(t){n.i(t)&&e(n,!1)})}(this,!0)},nh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},rh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},rh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?we(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?sh(this,{grant_type:"refresh_token",refresh_token:this.a}):ye(null):ye({accessToken:this.b.toString(),refreshToken:this.a})},uh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(hh,ln),hh.prototype.wa=function(t){this.ya=t,Xa(this.a,t)},hh.prototype.la=function(){return this.ya},hh.prototype.Ga=function(){return X(this.$)},hh.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Vi(hh.prototype,"providerId","firebase"),(t=hh.prototype).reload=function(){var t=this;return jh(this,Eh(this).then(function(){return Oh(t).then(function(){return yh(t)}).then(Th)}))},t.oc=function(t){return this.I(t).then(function(t){return new Gc(t)})},t.I=function(t){var e=this;return jh(this,Eh(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(bh(e,t.accessToken),e.dispatchEvent(new Qc("tokenChanged"))),Nh(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Ih(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e,n=(e=(e=t).providerUserInfo)&&e.length?q(e,function(t){return new ch(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[],i=0;i<n.length;i++)kh(this,n[i]);Nh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Qc("userReloaded",{hd:t}))},t.Lc=function(t){return ji("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return jh(this,t.c(this.a,this.uid).then(function(t){return Ch(e,t),n=Dh(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return ji("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(e){var n=this,i=null;return jh(this,Rh(this,e.providerId).then(function(){return n.I()}).then(function(t){return e.b(n.a,t)}).then(function(t){return i=Dh(n,t,"link"),Ph(n,t)}).then(function(){return i}))},t.Dc=function(t,e){var n=this;return jh(this,Rh(this,"phone").then(function(){return Kc(vh(n),t,e,b(n.qb,n))}))},t.Mc=function(t,e){var n=this;return jh(this,ye().then(function(){return Kc(vh(n),t,e,b(n.tb,n))}),!0)},t.Bb=function(e){var n=this;return jh(this,this.I().then(function(t){return n.a.Bb(t,e)}).then(function(t){return Ch(n,t),n.reload()}))},t.ed=function(e){var n=this;return jh(this,this.I().then(function(t){return e.b(n.a,t)}).then(function(t){return Ch(n,t),n.reload()}))},t.Cb=function(e){var n=this;return jh(this,this.I().then(function(t){return n.a.Cb(t,e)}).then(function(t){return Ch(n,t),n.reload()}))},t.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Eh(this);var n=this;return jh(this,this.I().then(function(t){return n.a.Db(t,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(t){return Ch(n,t),Nh(n,"displayName",t.displayName||null),Nh(n,"photoURL",t.photoUrl||null),V(n.providerData,function(t){"password"===t.providerId&&(Vi(t,"displayName",n.displayName),Vi(t,"photoURL",n.photoURL))}),yh(n)}).then(Th))},t.cd=function(e){var n=this;return jh(this,Oh(this).then(function(t){return K(Ah(n),e)?Xs(n.a,ys,{idToken:t,deleteProvider:[e]}).then(function(t){var e={};return V(t.providerUserInfo||[],function(t){e[t.providerId]=!0}),V(Ah(n),function(t){e[t]||Sh(n,t)}),e[So.PROVIDER_ID]||Vi(n,"phoneNumber",null),yh(n)}):yh(n).then(function(){throw new T("no-such-provider")})}))},t.delete=function(){var e=this;return jh(this,this.I().then(function(t){return Xs(e.a,bs,{idToken:t})}).then(function(){e.dispatchEvent(new Qc("userDeleted"))})).then(function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");lh(e,null),fh(e,null),ph(e,null),e.J=[],e.D=!0,gh(e),Vi(e,"refreshToken",null),e.i&&kc(e.i,e)})},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return Lh(this,"linkViaPopup",t,function(){return Rh(e,t.providerId).then(function(){return yh(e)})},!1)},t.Nc=function(t){return Lh(this,"reauthViaPopup",t,function(){return ye()},!0)},t.Fc=function(t){var e=this;return xh(this,"linkViaRedirect",t,function(){return Rh(e,t.providerId)},!1)},t.Oc=function(t){return xh(this,"reauthViaRedirect",t,function(){return ye()},!0)},t.Kb=function(e,n,t,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return t=this.I().then(function(t){return ls(r.a,{requestUri:e,postBody:i,sessionId:n,idToken:t})}).then(function(t){return o=Dh(r,t,"link"),Ph(r,t)}).then(function(){return o}),jh(this,t)},t.Lb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return jh(this,ye().then(function(){return Qr(fs(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)}).then(function(t){return o=Dh(r,t,"reauthenticate"),Ch(r,t),r.h=null,r.reload()}).then(function(){return o}),!0)},t.ub=function(e){var n=this,i=null;return jh(this,this.I().then(function(t){return i=t,void 0===e||ut(e)?{}:Or(new yr(e))}).then(function(t){return n.a.ub(i,t)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.Eb=function(e,n){var i=this,r=null;return jh(this,this.I().then(function(t){return r=t,void 0===n||ut(n)?{}:Or(new yr(n))}).then(function(t){return i.a.Eb(r,e,t)}).then(function(t){if(i.email!=t)return i.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return jh(this,t=Qr(ye(t),n.uid).then(function(t){return e=Dh(n,t,"reauthenticate"),Ch(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&lt(e,this.metadata.w()),V(this.providerData,function(t){e.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(t))}),lt(e,this.O.w()),e};var Fh={name:"redirectUser",F:"session"};function qh(t){return Ju(t.b,Fh,t.a)}function Hh(t){var e,n,i,r;this.a=t,this.b=Bu(),this.c=null,this.f=(n=Bh("local"),i=Bh("session"),r=Bh("none"),function(n,i,r){var o=Xu(i,r),a=Wu(n,i.F);return n.get(i,r).then(function(t){var e=null;try{e=Si(l.localStorage.getItem(o))}catch(t){}if(e&&!t)return l.localStorage.removeItem(o),n.set(i,e,r);e&&t&&"localStorage"!=a.type&&l.localStorage.removeItem(o)})}((e=this).b,n,e.a).then(function(){return e.b.get(i,e.a)}).then(function(t){return t?i:e.b.get(r,e.a).then(function(t){return t?r:e.b.get(n,e.a).then(function(t){return t?n:e.b.get(Gh,e.a).then(function(t){return t?Bh(t):n})})})}).then(function(t){return e.c=t,Kh(e,t.F)}).o(function(){e.c||(e.c=n)})),this.b.addListener(Bh("local"),this.a,b(this.g,this))}function Kh(t,e){var n,s,i=[];for(n in Ku)Ku[n]!==e&&i.push(Ju(t.b,Bh(Ku[n]),t.a));return i.push(Ju(t.b,Gh,t.a)),s=i,new fe(function(n,e){var i=s.length,r=[];if(i)for(var t=function(t,e){i--,r[t]=e,0==i&&n(r)},o=function(t){e(t)},a=0;a<s.length;a++)Ie(s[a],y(t,a),o);else n(r)})}Hh.prototype.g=function(){var e=this,n=Bh("local");Yh(this,function(){return ye().then(function(){return e.c&&"local"!=e.c.F?e.b.get(n,e.a):null}).then(function(t){if(t)return Kh(e,"local").then(function(){e.c=n})})})};var Gh={name:"persistence",F:"session"};function Bh(t){return{name:"authUser",F:t}}function Wh(t,e){return Yh(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Xh(t){return Yh(t,function(){return Ju(t.b,t.c,t.a)})}function Jh(t,e,n){return Yh(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Uh(t||{})})})}function Yh(t,e){return t.f=t.f.then(e,e),t.f}function zh(t){if(this.l=!1,Vi(this,"settings",new qc),Vi(this,"app",t),!this.app.options||!this.app.options.apiKey)throw new T("invalid-api-key");var n,e,i,r,o,a;t=zl.default.SDK_VERSION?mi(zl.default.SDK_VERSION):null,this.a=new Fa(this.app.options&&this.app.options.apiKey,_(A),t),this.R=[],this.s=[],this.O=[],this.hb=zl.default.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=zl.default.INTERNAL.createSubscribe(b(this.Ac,this)),il(this,null),this.i=new Hh(this.app.options.apiKey+":"+this.app.name),this.D=new Vh(this.app.options.apiKey+":"+this.app.name),this.$=ul(this,(e=(n=this).app.options.authDomain,t=function(e){var t=function(t,e){return t.b.get(Fh,t.a).then(function(t){return t&&e&&(t.authDomain=e),Uh(t||{})})}(e.D,e.app.options.authDomain).then(function(t){return(e.m=t)&&(t.ha=e.D),qh(e.D)});return ul(e,t)}(n).then(function(){return Jh(n.i,e,n.P)}).then(function(e){return e?(e.ha=n.D,n.m&&(n.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Wh(n.i,e).then(function(){return e})}).o(function(t){return"auth/network-request-failed"==t.code?e:Xh(n.i)})):null}).then(function(t){il(n,t||null)}),ul(n,t))),this.h=ul(this,(i=this).$.then(function(){return el(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){var t;i.l||(i.ba=!0,(t=i.i).b.addListener(Bh("local"),t.a,i.ja))})),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,o=(r=this).app.options.authDomain,a=r.app.options.apiKey,o&&wi()&&(r.Oa=r.$.then(function(){var t;if(!r.l)return r.b=Lc(o,a,r.app.name,r.P),Ac(r.b,r),ol(r)&&wh(ol(r)),r.m&&(wh(r.m),(t=r.m).wa(r.la()),lh(t,r),dh(t=r.m,r.J),ph(t,r),Ja((t=r.m).a,r.P),fh(t,r),r.m=null),r.b})),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,ln.call(this),t=this,Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){var t;return t=this.P?qi({protocol:(t=On(this.P.url)).c,host:t.a,port:t.g,options:qi({disableWarnings:this.P.ec})}):null},enumerable:!1}),this.J=[],this.P=null}function $h(t){Fe.call(this,"languageCodeChanged"),this.h=t}function Zh(t){Fe.call(this,"emulatorConfigChanged"),this.c=t}function Qh(t){Fe.call(this,"frameworkChanged"),this.f=t}function tl(t){return t.Oa||we(new T("auth-domain-config-required"))}function el(t){if(!wi())return we(new T("operation-not-supported-in-this-environment"));var e=tl(t).then(function(){return t.b.qa()}).then(function(t){return t?qi(t):null});return ul(t,e)}function nl(o,a){var s={};return s.apiKey=o.app.options.apiKey,s.authDomain=o.app.options.authDomain,s.appName=o.app.name,o.P&&(s.emulatorConfig=o.P),o.$.then(function(){return t=s,e=a,n=o.D,i=o.Ga(),r=new hh(t,e),n&&(r.ha=n),i&&dh(r,i),r.reload().then(function(){return r});var t,e,n,i,r}).then(function(t){return ol(o)&&t.uid==ol(o).uid?_h(ol(o),t):(il(o,t),wh(t)),o.da(t)}).then(function(){sl(o)})}function il(t,e){var n,i;ol(t)&&(n=ol(t),i=t.Ba,B(n.S,function(t){return t==i}),en(ol(t),"tokenChanged",t.ya),en(ol(t),"userDeleted",t.za),en(ol(t),"userInvalidated",t.Aa),gh(ol(t))),e&&(e.S.push(t.Ba),Ze(e,"tokenChanged",t.ya),Ze(e,"userDeleted",t.za),Ze(e,"userInvalidated",t.Aa),0<t.u&&mh(e)),Vi(t,"currentUser",e),e&&(e.wa(t.la()),lh(e,t),dh(e,t.J),ph(e,t),Ja(e.a,t.P),fh(e,t))}function rl(n,t){var e=null,i=null;return ul(n,t.then(function(t){return e=_o(t),i=Vr(t),nl(n,t)},function(t){var e=null;throw(e=t&&"auth/multi-factor-auth-required"===t.code?Yc(t.w(),n,b(n.kc,n)):e)||t}).then(function(){return qi({user:ol(n),credential:e,additionalUserInfo:i,operationType:"signIn"})}))}function ol(t){return t.currentUser}function al(t){return ol(t)&&ol(t)._lat||null}function sl(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](al(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](al(t))}}function ul(t,e){return t.R.push(e),e.oa(function(){G(t.R,e)}),e}function cl(){}function hl(){this.a={},this.b=1e12}Hh.prototype.xb=function(e){var n=null,i=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(i in Ku)if(Ku[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(hi()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Tu()&&"none"!==t)throw n;break;default:if(!yi()&&"none"!==t)throw n}}(e),Yh(this,function(){return e!=i.c.F?i.b.get(i.c,i.a).then(function(t){return n=t,Kh(i,e)}).then(function(){if(i.c=Bh(e),n)return i.b.set(i.c,n,i.a)}):ye()})},w(zh,ln),w($h,Fe),w(Zh,Fe),w(Qh,Fe),(t=zh.prototype).xb=function(t){return t=this.i.xb(t),ul(this,t)},t.wa=function(t){this.aa===t||this.l||(this.aa=t,Xa(this.a,this.aa),this.dispatchEvent(new $h(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=l.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");e=!!e&&!!e.disableWarnings,n=e,"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!n&&ai().then(function(){var t=l.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),l.document.body.appendChild(t)}),this.P={url:t,ec:e},this.settings.ib=!0,Ja(this.a,this.P),this.dispatchEvent(new Zh(this.P))}var n},t.Gc=function(t){this.J.push(t),za(this.a,zl.default.SDK_VERSION?mi(zl.default.SDK_VERSION,this.J):null),this.dispatchEvent(new Qh(this.J))},t.Ga=function(){return X(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:ol(this)&&ol(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,i){var r=this,o={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.$.then(function(){return rl(r,hs(r.a,o))})},t.Xc=function(e){if(!wi())return we(new T("operation-not-supported-in-this-environment"));var n=this,t=Ur(e.providerId),i=Ni(),r=null,o=ii(r=(!Ei()||ui())&&this.app.options.authDomain&&e.isOAuthProvider?uu(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",e,null,i,zl.default.SDK_VERSION||null,null,null,this.T(),this.P):r,t&&t.ua,t&&t.ta);return ul(this,t=tl(this).then(function(t){return _c(t,o,"signInViaPopup",e,i,!!r,n.T())}).then(function(){return new fe(function(t,e){n.na("signInViaPopup",null,new T("cancelled-popup-request"),n.g),n.f=t,n.C=e,n.g=i,n.c=Rc(n.b,n,"signInViaPopup",o,i)})}).then(function(t){return o&&ni(o),t?qi(t):null}).o(function(t){throw o&&ni(o),t}))},t.Yc=function(t){if(!wi())return we(new T("operation-not-supported-in-this-environment"));var e=this;return ul(this,tl(this).then(function(){return Yh(t=e.i,function(){return t.b.set(Gh,t.c.F,t.a)});var t}).then(function(){return Cc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.qa=function(){var e=this;return el(this).then(function(t){return e.b&&jc(e.b.b),t}).o(function(t){throw e.b&&jc(e.b.b),t})},t.dd=function(t){if(!t)return we(new T("null-user"));if(this.S!=t.tenantId)return we(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var i,r,o,a,s,u=(i=t,r=n,o=e.D,a=e.Ga(),s=i.b,(n={})[Ha]=s.b&&s.b.toString(),n.refreshToken=s.a,r=new hh(r||{apiKey:i.l,authDomain:i.s,appName:i.m},n),o&&(r.ha=o),a&&dh(r,a),_h(r,i),r);return ul(this,this.h.then(function(){if(e.app.options.apiKey!=t.l)return u.reload()}).then(function(){return ol(e)&&t.uid==ol(e).uid?(_h(ol(e),t),e.da(t)):(il(e,u),wh(u),e.da(u))}).then(function(){sl(e)}))},t.Ab=function(){var t=this,e=this.h.then(function(){return t.b&&jc(t.b.b),ol(t)?(il(t,null),Xh(t.i).then(function(){sl(t)})):ye()});return ul(this,e)},t.Zc=function(){var i=this;return Jh(this.i,this.app.options.authDomain).then(function(t){if(!i.l){var e,n;if((e=ol(i)&&t)&&(e=ol(i).uid,n=t.uid,e=null!=e&&""!==e&&null!=n&&""!==n&&e==n),e)return _h(ol(i),t),ol(i).I();(ol(i)||t)&&(il(i,t),t&&(wh(t),t.ha=i.D),i.b&&Ac(i.b,i),sl(i))}})},t.da=function(t){return Wh(this.i,t)},t.mc=function(){sl(this),this.da(ol(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then(function(){return rl(e,ye(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(ol(e))})},t.Ac=function(t){var e,n,i=this;n=function(){t.next(ol(i))},(e=this).O.push(n),ul(e,e.h.then(function(){!e.l&&K(e.O,n)&&e.X!==e.getUid()&&(e.X=e.getUid(),n(al(e)))}))},t.Ic=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(ol(i)):"function"==typeof t.next&&t.next(ol(i))}),this.hb(t,e,n)},t.Hc=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then(function(){i.X=i.getUid(),"function"==typeof t?t(ol(i)):"function"==typeof t.next&&t.next(ol(i))}),this.bc(t,e,n)},t.nc=function(t){var e=this,n=this.h.then(function(){return ol(e)?ol(e).I(t).then(function(t){return{accessToken:t}}):null});return ul(this,n)},t.Tc=function(t){var n=this;return this.h.then(function(){return rl(n,Xs(n.a,qs,{token:t}))}).then(function(t){var e=t.user;return Nh(e,"isAnonymous",!1),n.da(e),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return rl(n,Xs(n.a,Hs,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return rl(n,Xs(n.a,ms,{email:t,password:e}))})},t.$a=function(t){var e=this;return this.h.then(function(){return rl(e,t.ka(e.a))})},t.Sc=function(t){return ji("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var n=this;return this.h.then(function(){var t=ol(n);if(t&&t.isAnonymous){var e=qi({providerId:null,isNewUser:!1});return qi({user:t,credential:null,additionalUserInfo:e,operationType:"signIn"})}return rl(n,n.a.zb()).then(function(t){var e=t.user;return Nh(e,"isAnonymous",!0),n.da(e),t})})},t.getUid=function(){return ol(this)&&ol(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ol(this)&&mh(ol(this))},t.Pc=function(e){var n=this;V(this.s,function(t){t==e&&n.u--}),this.u<0&&(this.u=0),0==this.u&&ol(this)&&gh(ol(this)),this.removeAuthTokenListener(e)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),ul(this,this.h.then(function(){e.l||K(e.s,t)&&t(al(e))}))},t.removeAuthTokenListener=function(e){B(this.s,function(t){return t==e})},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Bh("local"),t.a,this.ja),this.b&&(kc(this.b,this),jc(this.b.b)),Promise.resolve()},t.hc=function(t){return ul(this,Xs(this.a,gs,{identifier:t,continueUri:Ii()?Qn():"http://localhost"}).then(function(t){return t.signinMethods||[]}))},t.Bc=function(t){return!!To(t)},t.wb=function(e,n){var i=this;return ul(this,ye().then(function(){var t=new yr(n);if(!t.c)throw new T("argument-error",Tr+" must be true when sending sign in link to email");return Or(t)}).then(function(t){return i.a.wb(e,t)}).then(function(){}))},t.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},t.nb=function(t,e){return ul(this,this.a.nb(t,e).then(function(){}))},t.Ra=function(t){return ul(this,this.a.Ra(t).then(function(t){return new zi(t)}))},t.jb=function(t){return ul(this,this.a.jb(t).then(function(){}))},t.vb=function(e,t){var n=this;return ul(this,ye().then(function(){return void 0===t||ut(t)?{}:Or(new yr(t))}).then(function(t){return n.a.vb(e,t)}).then(function(){}))},t.Wc=function(t,e){return ul(this,Kc(this,t,e,b(this.$a,this)))},t.Vc=function(n,i){var r=this;return ul(this,ye().then(function(){var t=i||Qn(),e=Io(n,t);if(!(t=To(t)))throw new T("argument-error","Invalid email link!");if(t.tenantId!==r.T())throw new T("tenant-id-mismatch");return r.$a(e)}))},cl.prototype.render=function(){},cl.prototype.reset=function(){},cl.prototype.getResponse=function(){},cl.prototype.execute=function(){};var ll=null;function fl(t,e){return(e=dl(e))&&t.a[e]||null}function dl(t){return(t=void 0===t?1e12:t)?t.toString():null}function pl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=te(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ze(this.f,"click",this.i)}function vl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function ml(){}function gl(){}hl.prototype.render=function(t,e){return this.a[this.b.toString()]=new pl(t,e),this.b++},hl.prototype.reset=function(t){var e=fl(this,t);t=dl(t),e&&t&&(e.delete(),delete this.a[t])},hl.prototype.getResponse=function(t){return(t=fl(this,t))?t.getResponse():null},hl.prototype.execute=function(t){(t=fl(this,t))&&t.execute()},pl.prototype.getResponse=function(){return vl(this),this.b},pl.prototype.execute=function(){vl(this);var n=this;this.a||(this.a=setTimeout(function(){n.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var t=n.c.callback,e=n.c["expired-callback"];if(t)try{t(n.b)}catch(t){}n.a=setTimeout(function(){if(n.a=null,n.b=null,e)try{e()}catch(t){}n.h&&n.execute()},6e4)},500))},pl.prototype.delete=function(){vl(this),this.g=!0,clearTimeout(this.a),this.a=null,en(this.f,"click",this.i)},Vi(ml,"FACTOR_ID","phone"),gl.prototype.g=function(){return ye(ll=ll||new hl)},gl.prototype.c=function(){};var bl=null;function yl(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var wl=new dt(gt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Il=new Ci(3e4,6e4);yl.prototype.g=function(r){var o=this;return new fe(function(t,e){var i=setTimeout(function(){e(new T("network-request-failed"))},Il.get());!l.grecaptcha||r!==o.f&&!o.b?(l[o.a]=function(){var n;l.grecaptcha?(o.f=r,n=l.grecaptcha.render,l.grecaptcha.render=function(t,e){return t=n(t,e),o.b++,t},clearTimeout(i),t(l.grecaptcha)):(clearTimeout(i),e(new T("internal-error"))),delete l[o.a]},ye(Pa(It(wl,{onload:o.a,hl:r||""}))).o(function(){clearTimeout(i),e(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),t(l.grecaptcha))})},yl.prototype.c=function(){this.b--};var Tl=null;function El(t,e,n,i,r,o,a){if(Vi(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a=a?bl=bl||new gl:Tl=Tl||new yl,this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Sl])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Nl],!l.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!te(e)||!this.i&&te(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Fa(t,o||null,r||null),this.u=i||function(){return null};var s=this;this.l=[];var u=this.a[Al];this.a[Al]=function(t){var e;_l(s,t),"function"==typeof u?u(t):"string"!=typeof u||"function"==typeof(e=bi(u,l))&&e(t)};var c=this.a[kl];this.a[kl]=function(){var t;_l(s,null),"function"==typeof c?c():"string"!=typeof c||"function"==typeof(t=bi(c,l))&&t()}}var Al="callback",kl="expired-callback",Sl="sitekey",Nl="size";function _l(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Ol(t,e){return t.h.push(e),e.oa(function(){G(t.h,e)}),e}function Cl(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Rl(t,e,n){var i=!1;try{this.b=n||zl.default.app()}catch(t){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var r=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=zl.default.SDK_VERSION?mi(zl.default.SDK_VERSION,o):null,El.call(this,n,t,e,function(){try{var e=r.b.auth().la()}catch(t){e=null}return e},o,_(A),i)}function Dl(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].M(n[r])&&!o){if(e=e[r],r<0||r>=Pl.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Pl[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}i=null}}if(i)throw new T("argument-error",t+" failed: "+i)}(t=El.prototype).Ia=function(){var e=this;return this.f||(this.f=Ol(this,ye().then(function(){if(Ii()&&!ci())return ai();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.u())}).then(function(t){return e.g=t,Xs(e.s,Cs,{})}).then(function(t){e.a[Sl]=t.recaptchaSiteKey}).o(function(t){throw e.f=null,t})))},t.render=function(){Cl(this);var n=this;return Ol(this,this.Ia().then(function(){var t,e;return null===n.c&&(e=n.v,n.i||(t=te(e),e=oe("DIV"),t.appendChild(e)),n.c=n.g.render(e,n.a)),n.c}))},t.verify=function(){Cl(this);var r=this;return Ol(this,this.render().then(function(e){return new fe(function(n){var i,t=r.g.getResponse(e);t?n(t):(i=function(t){var e;t&&(e=i,B(r.l,function(t){return t==e}),n(t))},r.l.push(i),r.i&&r.g.execute(r.c))})}))},t.reset=function(){Cl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Cl(this),this.D=!0,this.m.c();for(var t,e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=te(this.v);for(;t=e.firstChild;)e.removeChild(t)}},w(Rl,El);var Pl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ll(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function xl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Ml(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:m}}function jl(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Ul(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Vl(n){return{name:n?n+"Credential":"credential",K:n?"a valid "+n+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var e=!n||t.providerId===n;return!(!t.ka||!e)}}}function Fl(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}}function ql(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Hl(t,e){return m(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Kl(t){return m(t)&&"string"==typeof t.uid}function Gl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}}function Bl(e,n,t,i){return{name:t||"",K:e.K+" or "+n.K,optional:!!i,M:function(t){return e.M(t)||n.M(t)}}}function Wl(t,e){for(var n in e){var i=e[n].name;t[i]=Yl(i,t[n],e[n].j)}}function Xl(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:y(function(t){return this[t]},n),set:y(function(t,e,n,i){Dl(t,[n],[i],!0),this[e]=i},i,n,e[n].kb),enumerable:!0})}}function Jl(t,e,n,i){t[e]=Yl(e,n,i)}function Yl(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return Dl(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=(t=(t=t).split("."))[t.length-1];for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}Wl(zh.prototype,{jb:{name:"applyActionCode",j:[Ll("code")]},Ra:{name:"checkActionCode",j:[Ll("code")]},nb:{name:"confirmPasswordReset",j:[Ll("code"),Ll("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ll("email"),Ll("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Ll("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Ll("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Bl(Ml(),jl(),"nextOrObserver"),jl("opt_error",!0),jl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Bl(Ml(),jl(),"nextOrObserver"),jl("opt_error",!0),jl("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Ll("email"),Bl(Ml("opt_actionCodeSettings",!0),Ul(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Ll("email"),Ml("actionCodeSettings")]},xb:{name:"setPersistence",j:[Ll("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Vl()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Vl()]},Tc:{name:"signInWithCustomToken",j:[Ll("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Ll("email"),Ll("password")]},Vc:{name:"signInWithEmailLink",j:[Ll("email"),Ll("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Ll("phoneNumber"),Gl()]},Xc:{name:"signInWithPopup",j:[ql()]},Yc:{name:"signInWithRedirect",j:[ql()]},dd:{name:"updateCurrentUser",j:[Bl({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof hh)}},Ul(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ll(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Ll("url"),Ml("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Ll("code")]}}),Xl(zh.prototype,{lc:{name:"languageCode",kb:Bl(Ll(),Ul(),"languageCode")},ti:{name:"tenantId",kb:Bl(Ll(),Ul(),"tenantId")}}),(zh.Persistence=Ku).LOCAL="local",zh.Persistence.SESSION="session",zh.Persistence.NONE="none",Wl(hh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[xl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[xl("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Vl()]},qb:{name:"linkWithCredential",j:[Vl()]},Dc:{name:"linkWithPhoneNumber",j:[Ll("phoneNumber"),Gl()]},Ec:{name:"linkWithPopup",j:[ql()]},Fc:{name:"linkWithRedirect",j:[ql()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Vl()]},tb:{name:"reauthenticateWithCredential",j:[Vl()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Ll("phoneNumber"),Gl()]},Nc:{name:"reauthenticateWithPopup",j:[ql()]},Oc:{name:"reauthenticateWithRedirect",j:[ql()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Bl(Ml("opt_actionCodeSettings",!0),Ul(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ll(null,!0)]},cd:{name:"unlink",j:[Ll("provider")]},Bb:{name:"updateEmail",j:[Ll("email")]},Cb:{name:"updatePassword",j:[Ll("password")]},ed:{name:"updatePhoneNumber",j:[Vl("phone")]},Db:{name:"updateProfile",j:[Ml("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Ll("email"),Bl(Ml("opt_actionCodeSettings",!0),Ul(null,!0),"opt_actionCodeSettings",!0)]}}),Wl(hl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Wl(cl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Wl(fe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Xl(qc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:xl("appVerificationDisabledForTesting")}}),Wl(Hc.prototype,{confirm:{name:"confirm",j:[Ll("verificationCode")]}}),Jl(Zr,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[oo,yo,Ao,no],i=0;i<n.length;i++)if(e=n[i](t))return e;return null},[Bl(Ll(),Ml(),"json")]),Jl(wo,"credential",function(t,e){return new bo(t,e)},[Ll("email"),Ll("password")]),Wl(bo.prototype,{w:{name:"toJSON",j:[Ll(null,!0)]}}),Wl(co.prototype,{Ca:{name:"addScope",j:[Ll("scope")]},Ka:{name:"setCustomParameters",j:[Ml("customOAuthParameters")]}}),Jl(co,"credential",ho,[Bl(Ll(),Ml(),"token")]),Jl(wo,"credentialWithLink",Io,[Ll("email"),Ll("emailLink")]),Wl(lo.prototype,{Ca:{name:"addScope",j:[Ll("scope")]},Ka:{name:"setCustomParameters",j:[Ml("customOAuthParameters")]}}),Jl(lo,"credential",fo,[Bl(Ll(),Ml(),"token")]),Wl(po.prototype,{Ca:{name:"addScope",j:[Ll("scope")]},Ka:{name:"setCustomParameters",j:[Ml("customOAuthParameters")]}}),Jl(po,"credential",vo,[Bl(Ll(),Bl(Ml(),Ul()),"idToken"),Bl(Ll(),Ul(),"accessToken",!0)]),Wl(mo.prototype,{Ka:{name:"setCustomParameters",j:[Ml("customOAuthParameters")]}}),Jl(mo,"credential",go,[Bl(Ll(),Ml(),"token"),Ll("secret",!0)]),Wl(uo.prototype,{Ca:{name:"addScope",j:[Ll("scope")]},credential:{name:"credential",j:[Bl(Ll(),Bl(Ml(),Ul()),"optionsOrIdToken"),Bl(Ll(),Ul(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ml("customOAuthParameters")]}}),Wl(io.prototype,{w:{name:"toJSON",j:[Ll(null,!0)]}}),Wl(to.prototype,{w:{name:"toJSON",j:[Ll(null,!0)]}}),Jl(So,"credential",No,[Ll("verificationId"),Ll("verificationCode")]),Wl(So.prototype,{fb:{name:"verifyPhoneNumber",j:[Bl(Ll(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Hl(t.session,zr)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Hl(t.session,$r)&&Kl(t.multiFactorHint):t.session&&t.multiFactorUid?Hl(t.session,$r)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Gl()]}}),Wl(Eo.prototype,{w:{name:"toJSON",j:[Ll(null,!0)]}}),Wl(T.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),Wl(Mo.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),Wl(xo.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),Wl(Jc.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),Wl(Bc.prototype,{Rc:{name:"resolveSignIn",j:[Fl()]}}),Wl(th.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Fl(),Ll("displayName",!0)]},bd:{name:"unenroll",j:[Bl({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Kl},Ll(),"multiFactorInfoIdentifier")]}}),Wl(Rl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Jl(hr,"parseLink",br,[Ll("link")]),Jl(ml,"assertion",function(t){return new Zc(t)},[Vl("phone")]),function(){if(void 0===zl.default||!zl.default.INTERNAL||!zl.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:$i,VERIFY_AND_CHANGE_EMAIL:Qi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:zh,AuthCredential:Zr,Error:T};Jl(t,"EmailAuthProvider",wo,[]),Jl(t,"FacebookAuthProvider",co,[]),Jl(t,"GithubAuthProvider",lo,[]),Jl(t,"GoogleAuthProvider",po,[]),Jl(t,"TwitterAuthProvider",mo,[]),Jl(t,"OAuthProvider",uo,[Ll("providerId")]),Jl(t,"SAMLAuthProvider",so,[Ll("providerId")]),Jl(t,"PhoneAuthProvider",So,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof zh)}}]),Jl(t,"RecaptchaVerifier",Rl,[Bl(Ll(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Ml("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof zl.default.app.App)}}]),Jl(t,"ActionCodeURL",hr,[]),Jl(t,"PhoneMultiFactorGenerator",ml,[]),zl.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new zh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),zl.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),zl.default.registerVersion("@firebase/auth","0.16.5"),zl.default.INTERNAL.extendNamespace({User:hh})}()}.apply("undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}.apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-auth.js - be sure to load firebase-app.js first.")}});
//# sourceMappingURL=firebase-auth.js.map


/***/ }),

/***/ "./node_modules/firebase/firebase-firestore.js":
/*!*****************************************************!*\
  !*** ./node_modules/firebase/firebase-firestore.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

!function(t,e){ true?e(__webpack_require__(/*! @firebase/app */ "./node_modules/@firebase/app/dist/index.esm.js")):0}(this,function(om){"use strict";try{!function(){function t(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var e=t(om),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function y(t,s,a,u){return new(a=a||Promise)(function(n,e){function r(t){try{o(u.next(t))}catch(t){e(t)}}function i(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(r,i)}o((u=u.apply(t,s||[])).next())})}function g(n,r){var i,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function s(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var i,o="FirebaseError",a=(n(u,i=Error),u);function u(t,e,n){e=i.call(this,e)||this;return e.code=t,e.customData=n,e.name=o,Object.setPrototypeOf(e,u.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,c.prototype.create),e}var c=(l.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=e[0]||{},o=this.service+"/"+t,t=this.errors[t],t=t?(r=i,t.replace(d,function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"})):"Error",t=this.serviceName+": "+t+" ("+o+").";return new a(o,t,i)},l);function l(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var f,d=/\{\$([^}]+)}/g;function m(t){return t&&t._delegate?t._delegate:t}(Ee=f=f||{})[Ee.DEBUG=0]="DEBUG",Ee[Ee.VERBOSE=1]="VERBOSE",Ee[Ee.INFO=2]="INFO",Ee[Ee.WARN=3]="WARN",Ee[Ee.ERROR=4]="ERROR",Ee[Ee.SILENT=5]="SILENT";function p(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=w[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,s(["["+i+"]  "+t.name+":"],n))}}var v={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},b=f.INFO,w=((Te={})[f.DEBUG]="log",Te[f.VERBOSE]="log",Te[f.INFO]="info",Te[f.WARN]="warn",Te[f.ERROR]="error",Te),I=(Object.defineProperty(E.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in f))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),E.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?v[t]:t},Object.defineProperty(E.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),E.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,f.DEBUG],t)),this._logHandler.apply(this,s([this,f.DEBUG],t))},E.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,f.VERBOSE],t)),this._logHandler.apply(this,s([this,f.VERBOSE],t))},E.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,f.INFO],t)),this._logHandler.apply(this,s([this,f.INFO],t))},E.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,f.WARN],t)),this._logHandler.apply(this,s([this,f.WARN],t))},E.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,f.ERROR],t)),this._logHandler.apply(this,s([this,f.ERROR],t))},E);function E(t){this.name=t,this._logLevel=b,this._logHandler=p,this._userLogHandler=null}var T=function(t,e){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function _(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var S,N="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},D={},A=N||self;function k(){}function C(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function R(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var x="closure_uid_"+(1e9*Math.random()>>>0),O=0;function L(t,e,n){return t.call.apply(t.bind,arguments)}function P(e,n,t){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function M(t,e,n){return(M=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?L:P).apply(null,arguments)}function F(e){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function V(){return Date.now()}function U(t,o){function e(){}e.prototype=o.prototype,t.X=o.prototype,t.prototype=new e,(t.prototype.constructor=t).Kb=function(t,e,n){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return o.prototype[e].apply(t,r)}}function q(){this.j=this.j,this.i=this.i}q.prototype.j=!1,q.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,x)&&t[x]||(t[x]=++O))},q.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},j=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function K(){return Array.prototype.concat.apply([],arguments)}function G(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Q(t){return/^[\s\xa0]*$/.test(t)}var z,H=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function W(t,e){return-1!=t.indexOf(e)}function Y(t,e){return t<e?-1:e<t?1:0}t:{var X=A.navigator;if(X){X=X.userAgent;if(X){z=X;break t}}z=""}function J(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function $(t){var e,n={};for(e in t)n[e]=t[e];return n}var Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<Z.length;i++)e=Z[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function et(t){return et[" "](t),t}et[" "]=k;var nt,rt=W(z,"Opera"),it=W(z,"Trident")||W(z,"MSIE"),ot=W(z,"Edge"),st=ot||it,at=W(z,"Gecko")&&!(W(z.toLowerCase(),"webkit")&&!W(z,"Edge"))&&!(W(z,"Trident")||W(z,"MSIE"))&&!W(z,"Edge"),ut=W(z.toLowerCase(),"webkit")&&!W(z,"Edge");function ct(){var t=A.document;return t?t.documentMode:void 0}t:{var ht="",lt=(lt=z,at?/rv:([^\);]+)(\)|;)/.exec(lt):ot?/Edge\/([\d\.]+)/.exec(lt):it?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(lt):ut?/WebKit\/(\S+)/.exec(lt):rt?/(?:Version)[ \/]?(\S+)/.exec(lt):void 0);if(lt&&(ht=lt?lt[1]:""),it){lt=ct();if(null!=lt&&lt>parseFloat(ht)){nt=String(lt);break t}}nt=ht}var ft={};function dt(a){return t=a,e=function(){for(var t=0,e=H(String(nt)).split("."),n=H(String(a)).split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++)for(var o=e[i]||"",s=n[i]||"";o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=o[0].length||0!=s[0].length)&&(t=Y(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||Y(0==o[2].length,0==s[2].length)||Y(o[2],s[2]),o=o[3],s=s[3],0==t););return 0<=t},n=ft,Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t);var t,e,n}var pt=A.document&&it&&(ct()||parseInt(nt,10))||void 0,yt=!it||9<=Number(pt),gt=it&&!dt("9"),mt=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{A.addEventListener("test",k,e),A.removeEventListener("test",k,e)}catch(t){}return t}();function vt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function bt(t,e){if(vt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(at){t:{try{et(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:wt[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}vt.prototype.b=function(){this.defaultPrevented=!0},U(bt,vt);var wt={2:"touch",3:"pen",4:"mouse"};bt.prototype.b=function(){bt.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,gt)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var It="closure_listenable_"+(1e6*Math.random()|0),Et=0;function Tt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Et,this.Y=this.Z=!1}function _t(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function St(t){this.src=t,this.a={},this.b=0}function Nt(t,e){var n,r,i,o=e.type;o in t.a&&(n=t.a[o],(i=0<=(r=B(n,e)))&&Array.prototype.splice.call(n,r,1),i&&(_t(e),0==t.a[o].length&&(delete t.a[o],t.b--)))}function Dt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}St.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Dt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Tt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var At="closure_lm_"+(1e6*Math.random()|0),kt={};function Ct(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}r=Vt(r);return e&&e[It]?e.wa(n,r,R(i)?!!i.capture:!!i,o):Rt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ct(t,e[o],n,r,i);return null}return n=Vt(n),t&&t[It]?t.va(e,n,R(r)?!!r.capture:!!r,i):Rt(t,e,n,!1,r,i)}function Rt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=R(i)?!!i.capture:!!i;if(s&&!yt)return null;var a,u,c=Mt(t);if(c||(t[At]=c=new St(t)),(n=c.add(e,n,r,s,o)).proxy)return n;if(a=Pt,r=u=yt?function(t){return a.call(u.src,u.listener,t)}:function(t){if(!(t=a.call(u.src,u.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)void 0===(i=!mt?s:i)&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ot(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function xt(t){var e,n,r;"number"!=typeof t&&t&&!t.Y&&((e=t.src)&&e[It]?Nt(e.c,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ot(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Mt(e))?(Nt(n,t),0==n.b&&(n.src=null,e[At]=null)):_t(t)))}function Ot(t){return t in kt?kt[t]:kt[t]="on"+t}function Lt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&xt(t),n.call(r,e)}function Pt(t,e){if(t.Y)return!0;if(yt)return Lt(t,new bt(e,this));if(!e)t:{e=["window","event"];for(var n=A,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Lt(t,e=new bt(e,this))}function Mt(t){return(t=t[At])instanceof St?t:null}var Ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vt(e){return"function"==typeof e?e:(e[Ft]||(e[Ft]=function(t){return e.handleEvent(t)}),e[Ft])}function Ut(){q.call(this),this.c=new St(this),(this.J=this).C=null}function qt(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e?e=new vt(e,t):e instanceof vt?e.target=e.target||t:(s=e,tt(e=new vt(r,t),s)),s=!0,n)for(var i=n.length-1;0<=i;i--)var o=e.a=n[i],s=Bt(o,r,!0,e)&&s;if(s=Bt(o=e.a=t,r,!0,e)&&s,s=Bt(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)s=Bt(o=e.a=n[i],r,!1,e)&&s}function Bt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s,a,u=e[o];u&&!u.Y&&u.capture==n&&(s=u.listener,a=u.ca||u.src,u.Z&&Nt(t.c,u),i=!1!==s.call(a,r)&&i)}return i&&!r.defaultPrevented}U(Ut,q),Ut.prototype[It]=!0,(S=Ut.prototype).addEventListener=function(t,e,n,r){Ct(this,t,e,n,r)},S.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=R(i)?!!i.capture:!!i,r=Vt(r),e&&e[It]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Dt(s=e.a[n],r,i,o))&&(_t(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):(e=e&&Mt(e))&&(n=e.a[n.toString()],(r=(e=-1)<(e=n?Dt(n,r,i,o):e)?n[e]:null)&&xt(r))}(this,t,e,n,r)},S.G=function(){if(Ut.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)_t(n[r]);delete e.a[t],e.b--}}this.C=null},S.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},S.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var jt=A.JSON.stringify;function Kt(){this.b=this.a=null}var Gt,Qt=(zt.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},new zt(function(){return new Ht},function(t){t.reset()}));function zt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Ht(){this.next=this.b=this.a=null}function Wt(t,e){var n;Gt||(n=A.Promise.resolve(void 0),Gt=function(){n.then(Jt)}),Yt||(Gt(),Yt=!0),Xt.add(t,e)}Kt.prototype.add=function(t,e){var n=Qt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ht.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var Yt=!(Ht.prototype.reset=function(){this.next=this.b=this.a=null}),Xt=new Kt;function Jt(){for(var t,e;n=e=void 0,n=null,(e=Xt).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){!function(t){A.setTimeout(function(){throw t},0)}(t)}var n=Qt;n.f(t),n.b<100&&(n.b++,t.next=n.a,n.a=t)}Yt=!1}function $t(t,e){Ut.call(this),this.b=t||1,this.a=e||A,this.f=M(this.Za,this),this.g=V()}function Zt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function te(t,e,n){if("function"==typeof t)n&&(t=M(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=M(t.handleEvent,t)}return 2147483647<Number(e)?-1:A.setTimeout(t,e||0)}U($t,Ut),(S=$t.prototype).aa=!1,S.M=null,S.Za=function(){var t;this.aa&&(0<(t=V()-this.g)&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),qt(this,"tick"),this.aa&&(Zt(this),this.start())))},S.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=V())},S.G=function(){$t.X.G.call(this),Zt(this),delete this.a};var ee,ne,re,ie=(T(ne=se,re=ee=q),ne.prototype=null===re?Object.create(re):(oe.prototype=re.prototype,new oe),se.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=te(function(){e.a=null,e.c&&(e.c=!1,t(e))},e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},se.prototype.G=function(){ee.prototype.G.call(this),this.a&&(A.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},se);function oe(){this.constructor=ne}function se(t,e){var n=ee.call(this)||this;return n.g=t,n.h=e,n.b=null,n.c=!1,n.a=null,n}function ae(t){q.call(this),this.b=t,this.a={}}U(ae,q);var ue=[];function ce(t,e,n,r){Array.isArray(n)||(n&&(ue[0]=n.toString()),n=ue);for(var i=0;i<n.length;i++){var o=Ct(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function he(t){J(t.a,function(t,e){this.a.hasOwnProperty(e)&&xt(t)},t),t.a={}}function le(){this.a=!0}function fe(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)){r=i[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(var o=1;o<i.length;o++)i[o]=""}}}return jt(n)}catch(t){return e}}(t,n)+(r?" "+r:"")})}ae.prototype.G=function(){ae.X.G.call(this),he(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},le.prototype.info=function(){};var de={},pe=null;function ye(){return pe=pe||new Ut}function ge(t){vt.call(this,de.Fa,t)}function me(t){var e=ye();qt(e,new ge(e))}function ve(t,e){vt.call(this,de.STAT_EVENT,t),this.stat=e}function be(t){var e=ye();qt(e,new ve(e,t))}function we(t){vt.call(this,de.Ga,t)}function Ie(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){t()},e)}de.Fa="serverreachability",U(ge,vt),de.STAT_EVENT="statevent",U(ve,vt),de.Ga="timingevent",U(we,vt);var Ee={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Te={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function _e(){}function Se(t){var e;return e=!(e=t.a)?t.a={}:e}function Ne(){}_e.prototype.a=null;N={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function De(){vt.call(this,"d")}function Ae(){vt.call(this,"c")}function ke(){}function Ce(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ae(this),this.P=xe,t=st?125:void 0,this.R=new $t(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}U(De,vt),U(Ae,vt),U(ke,_e);var Re=new ke,xe=45e3,Oe={},Le={};function Pe(t,e,n){t.H=1,t.i=nn(Xe(e)),t.j=n,t.I=!0,Me(t,null)}function Me(t,e){t.u=V(),Ve(t),t.l=Xe(t.i);var s,a,u,c,h,l,n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),gn(n.b,"t",r),t.D=0,t.a=cr(t.g,t.g.C?e:null),0<t.O&&(t.F=new ie(M(t.Ca,t,t.a),t.O)),ce(t.J,t.a,"readystatechange",t.Xa),e=t.B?$(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),me(1),s=t.c,a=t.m,u=t.l,c=t.f,h=t.S,l=t.j,s.info(function(){if(s.a)if(l)for(var t="",e=l.split("&"),n=0;n<e.length;n++){var r,i,o=e[n].split("=");1<o.length&&(r=o[0],o=o[1],t=2<=(i=r.split("_")).length&&"type"==i[1]?t+(r+"=")+o+"&":t+(r+"=redacted&"))}else t=null;else t=l;return"XMLHTTP REQ ("+c+") [attempt "+h+"]: "+a+"\n"+u+"\n"+t})}function Fe(t,e,n){for(var r,i,o,s=!0;!t.A&&t.D<n.length;){var a=(a=n,o=i=void 0,i=(r=t).D,-1==(o=a.indexOf("\n",i))?Le:(i=Number(a.substring(i,o)),isNaN(i)?Oe:(o+=1)+i>a.length?Le:(a=a.substr(o,i),r.D=o+i,a)));if(a==Le){4==e&&(t.h=4,be(14),s=!1),fe(t.c,t.f,null,"[Incomplete Response]");break}if(a==Oe){t.h=4,be(15),fe(t.c,t.f,n,"[Invalid Chunk]"),s=!1;break}fe(t.c,t.f,a,null),Ke(t,a)}4==e&&0==n.length&&(t.h=1,be(16),s=!1),t.b=t.b&&s,s?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),er(e),e.F=!0,be(11))):(fe(t.c,t.f,n,"[Invalid Chunked Response]"),je(t),Be(t))}function Ve(t){t.T=V()+t.P,Ue(t,t.P)}function Ue(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ie(M(t.Va,t),e)}function qe(t){t.o&&(A.clearTimeout(t.o),t.o=null)}function Be(t){0==t.g.v||t.A||ir(t.g,t)}function je(t){qe(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Zt(t.R),he(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ke(t,e){try{var n,r,i,o,s,a=t.g;if(0!=a.v&&(a.a==t||Tn(a.b,t)))if(a.I=t.N,!t.C&&Tn(a.b,t)&&3==a.v){try{var u=a.ka.a.parse(e)}catch(t){u=null}if(Array.isArray(u)&&3==u.length){var c=u;if(0==c[0]){t:if(!a.j){if(a.a){if(!(a.a.u+3e3<t.u))break t;rr(a),zn(a)}tr(a),be(18)}}else a.oa=c[1],0<a.oa-a.P&&c[2]<37500&&a.H&&0==a.o&&!a.m&&(a.m=Ie(M(a.Sa,a),6e3));if(En(a.b)<=1&&a.ea){try{a.ea()}catch(t){}a.ea=void 0}}else sr(a,11)}else if(!t.C&&a.a!=t||rr(a),!Q(e))for(e=u=a.ka.a.parse(e),u=0;u<e.length;u++)c=e[u],a.P=c[0],c=c[1],2==a.v?"c"==c[0]?(a.J=c[1],a.ga=c[2],null!=(r=c[3])&&(a.ha=r,a.c.info("VER="+a.ha)),null!=(o=c[4])&&(a.pa=o,a.c.info("SVER="+a.pa)),null!=(r=c[5])&&"number"==typeof r&&0<r&&(n=1.5*r,a.D=n,a.c.info("backChannelRequestTimeoutMs_="+n)),n=a,(o=t.a)&&(!(r=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)||!(i=n.b).a&&(W(r,"spdy")||W(r,"quic")||W(r,"h2"))&&(i.f=i.g,i.a=new Set,i.b&&(_n(i,i.b),i.b=null)),!n.A||(s=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(n.na=s,en(n.B,n.A,s))),a.v=3,a.f&&a.f.ta(),a.U&&(a.N=V()-t.u,a.c.info("Handshake RTT: "+a.N+"ms")),i=t,(n=a).la=ur(n,n.C?n.ga:null,n.fa),i.C?(Sn(n.b,i),o=i,(s=n.D)&&o.setTimeout(s),o.o&&(qe(o),Ve(o)),n.a=i):Zn(n),0<a.g.length&&Yn(a)):"stop"!=c[0]&&"close"!=c[0]||sr(a,7):3==a.v&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?sr(a,7):Qn(a):"noop"!=c[0]&&a.f&&a.f.sa(c),a.o=0);me(4)}catch(t){}}function Ge(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(C(t)||"string"==typeof t)j(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(C(t)||"string"==typeof t)for(var n=[],r=t.length,i=0;i<r;i++)n.push(i);else for(i in n=[],r=0,t)n[r++]=i;for(var i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(C(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Qe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Qe)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ze(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];He(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){for(var i={},n=e=0;e<t.a.length;)He(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function He(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(S=Ce.prototype).setTimeout=function(t){this.P=t},S.Xa=function(t){t=t.target;var e=this.F;e&&3==Bn(t)?e.f():this.Ca(t)},S.Ca=function(t){try{if(t==this.a)t:{var e=Bn(this.a),n=this.a.ua(),r=this.a.W();if(!(e<3||3==e&&!st&&!this.a.$())){this.A||4!=e||7==n||me(8==n||r<=0?3:2),qe(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,r=this.c,u=this.m,c=this.l,h=this.f,l=this.S,f=e,d=i,r.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+l+"]: "+u+"\n"+c+"\n"+f+" "+d}),this.b){if(this.U&&!this.C){e:{if(this.a){var s=this.a;if((s=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,be(12),je(this),Be(this);break t}fe(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ke(this,a)}this.I?(Fe(this,e,o),st&&this.b&&3==e&&(ce(this.J,this.R,"tick",this.Wa),this.R.start())):(fe(this.c,this.f,o,null),Ke(this,o)),4==e&&je(this),this.b&&!this.A&&(4==e?ir(this.g,this):(this.b=!1,Ve(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,be(12)):(this.h=0,be(13)),je(this),Be(this)}}}catch(t){}var u,c,h,l,f,d},S.Wa=function(){var t,e;this.a&&(t=Bn(this.a),e=this.a.$(),this.D<e.length&&(qe(this),Fe(this,t,e),this.b&&4!=t&&Ve(this)))},S.cancel=function(){this.A=!0,je(this)},S.Va=function(){this.o=null;var t,e,n=V();0<=n-this.T?(t=this.c,e=this.l,t.info(function(){return"TIMEOUT: "+e}),2!=this.H&&(me(3),be(17)),je(this),this.h=2,Be(this)):Ue(this,this.T-n)},(S=Qe.prototype).K=function(){ze(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},S.L=function(){return ze(this),this.a.concat()},S.get=function(t,e){return He(this.b,t)?this.b[t]:e},S.set=function(t,e){He(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},S.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var We=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ye(t,e){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ye?(this.a=void 0!==e?e:t.a,Je(this,t.f),this.j=t.j,$e(this,t.c),Ze(this,t.h),this.g=t.g,e=t.b,(n=new fn).c=e.c,e.a&&(n.a=new Qe(e.a),n.b=e.b),tn(this,n),this.i=t.i):t&&(n=String(t).match(We))?(this.a=!!e,Je(this,n[1]||"",!0),this.j=rn(n[2]||""),$e(this,n[3]||"",!0),Ze(this,n[4]),this.g=rn(n[5]||"",!0),tn(this,n[6]||"",!0),this.i=rn(n[7]||"")):(this.a=!!e,this.b=new fn(null,this.a))}function Xe(t){return new Ye(t)}function Je(t,e,n){t.f=n?rn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function $e(t,e,n){t.c=n?rn(e,!0):e}function Ze(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function tn(t,e,n){var r,i;e instanceof fn?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(dn(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(pn(this,e),gn(this,n,t))},r)),r.f=i):(n||(e=on(e,hn)),t.b=new fn(e,t.a))}function en(t,e,n){t.b.set(e,n)}function nn(t){return en(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^V()).toString(36)),t}function rn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function on(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,sn),t=n?t.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):t):null}function sn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ye.prototype.toString=function(){var t=[],e=this.f;e&&t.push(on(e,an,!0),":");var n=this.c;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(on(e,an,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(on(n,"/"==n.charAt(0)?cn:un,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",on(n,ln)),t.join("")};var an=/[#\/\?@]/g,un=/[#\?:]/g,cn=/[#\?]/g,hn=/[#\?@]/g,ln=/#/g;function fn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function dn(n){n.a||(n.a=new Qe,n.b=0,n.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.c,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function pn(t,e){dn(t),e=mn(t,e),He(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,He((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ze(t)))}function yn(t,e){return dn(t),e=mn(t,e),He(t.a.b,e)}function gn(t,e,n){pn(t,e),0<n.length&&(t.c=null,t.a.set(mn(t,e),G(n)),t.b+=n.length)}function mn(t,e){return e=String(e),e=t.f?e.toLowerCase():e}(S=fn.prototype).add=function(t,e){dn(this),this.c=null,t=mn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},S.forEach=function(n,r){dn(this),this.a.forEach(function(t,e){j(t,function(t){n.call(r,t,e,this)},this)},this)},S.L=function(){dn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},S.K=function(t){dn(this);var e=[];if("string"==typeof t)yn(this,t)&&(e=K(e,this.a.get(mn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=K(e,t[n])}return e},S.set=function(t,e){return dn(this),this.c=null,yn(this,t=mn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},S.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},S.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),r=this.K(r),o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}return this.c=t.join("&")};var vn=function(t,e){this.b=t,this.a=e};function bn(t){this.g=t||wn,t=A.PerformanceNavigationTiming?0<(t=A.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(A.ia&&A.ia.ya&&A.ia.ya()&&A.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var wn=10;function In(t){return t.b||t.a&&t.a.size>=t.f}function En(t){return t.b?1:t.a?t.a.size:0}function Tn(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function _n(t,e){t.a?t.a.add(e):t.b=e}function Sn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Nn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null==t.a||0===t.a.size)return G(t.c);var r=t.c;try{for(var i=_(t.a.values()),o=i.next();!o.done;o=i.next())var s=o.value,r=r.concat(s.s)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Dn(){}function An(){this.a=new Dn}function kn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}bn.prototype.cancel=function(){var e,t;if(this.c=Nn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=_(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},Dn.prototype.stringify=function(t){return A.JSON.stringify(t,void 0)},Dn.prototype.parse=function(t){return A.JSON.parse(t,void 0)};var Cn=A.JSON.parse;function Rn(t){Ut.call(this),this.headers=new Qe,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=xn,this.D=this.F=!1}U(Rn,Ut);var xn="",On=/^https?$/i,Ln=["POST","PUT"];function Pn(t){return"content-type"==t.toLowerCase()}function Mn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Fn(t),Un(t)}function Fn(t){t.u||(t.u=!0,qt(t,"complete"),qt(t,"error"))}function Vn(t){if(t.b&&void 0!==D&&(!t.s[1]||4!=Bn(t)||2!=t.W()))if(t.l&&4==Bn(t))te(t.za,0,t);else if(qt(t,"readystatechange"),4==Bn(t)){t.b=!1;try{var e,n,r,i,o=t.W();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}(e=s)||((n=0===o)&&(!(i=String(t.B).match(We)[1]||null)&&A.self&&A.self.location&&(i=(r=A.self.location.protocol).substr(0,r.length-1)),n=!On.test(i?i.toLowerCase():"")),e=n);if(e)qt(t,"complete"),qt(t,"success");else{t.h=6;try{var a=2<Bn(t)?t.a.statusText:""}catch(o){a=""}t.f=a+" ["+t.W()+"]",Fn(t)}}finally{Un(t)}}}function Un(t,e){if(t.a){qn(t);var n=t.a,r=t.s[0]?k:null;t.a=null,t.s=null,e||qt(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function qn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(A.clearTimeout(t.m),t.m=null)}function Bn(t){return t.a?t.a.readyState:0}function jn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",J(n,function(t,e){i+=e,i+=":",i+=t,i+="\r\n"}),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):en(t,e,n))}function Kn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Gn(t){this.pa=0,this.g=[],this.c=new le,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Kn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Kn("baseRetryDelayMs",5e3,t),this.Ra=Kn("retryDelaySeedMs",1e4,t),this.Ma=Kn("forwardChannelMaxRetries",2,t),this.ma=Kn("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new bn(t&&t.concurrentRequestLimit),this.ka=new An,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Qn(t){var e,n;Hn(t),3==t.v&&(e=t.R++,en(n=Xe(t.B),"SID",t.J),en(n,"RID",e),en(n,"TYPE","terminate"),Jn(t,n),(e=new Ce(t,t.c,e,void 0)).H=2,e.i=nn(Xe(n)),n=!1,!(n=A.navigator&&A.navigator.sendBeacon?A.navigator.sendBeacon(e.i.toString(),""):n)&&A.Image&&((new Image).src=e.i,n=!0),n||(e.a=cr(e.g,null),e.a.ba(e.i)),e.u=V(),Ve(e)),ar(t)}function zn(t){t.a&&(er(t),t.a.cancel(),t.a=null)}function Hn(t){zn(t),t.j&&(A.clearTimeout(t.j),t.j=null),rr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&A.clearTimeout(t.h),t.h=null)}function Wn(t,e){t.g.push(new vn(t.Oa++,e)),3==t.v&&Yn(t)}function Yn(t){In(t.b)||t.h||(t.h=!0,Wt(t.Ba,t),t.u=0)}function Xn(t,e){var n=e?e.f:t.R++,r=Xe(t.B);en(r,"SID",t.J),en(r,"RID",n),en(r,"AID",t.P),Jn(t,r),t.i&&t.l&&jn(r,t.i,t.l),n=new Ce(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=$n(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),_n(t.b,n),Pe(n,r,e)}function Jn(t,n){t.f&&Ge({},function(t,e){en(n,e,t)})}function $n(t,e,n){n=Math.min(t.g.length,n);var r=t.f?M(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),a=!1;else try{!function(t,r,e){var i=e||"";try{Ge(t,function(t,e){var n=t;R(t)&&(n=jt(t)),r.push(i+e+"="+encodeURIComponent(n))})}catch(t){throw r.push(i+"type="+encodeURIComponent("_badmap")),t}}(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Zn(t){t.a||t.j||(t.T=1,Wt(t.Aa,t),t.o=0)}function tr(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Ie(M(t.Aa,t),or(t,t.o)),t.o++,1)}function er(t){null!=t.s&&(A.clearTimeout(t.s),t.s=null)}function nr(t){t.a=new Ce(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Xe(t.la);en(e,"RID","rpc"),en(e,"SID",t.J),en(e,"CI",t.H?"0":"1"),en(e,"AID",t.P),Jn(t,e),en(e,"TYPE","xmlhttp"),t.i&&t.l&&jn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=nn(Xe(e)),n.j=null,n.I=!0,Me(n,t)}function rr(t){null!=t.m&&(A.clearTimeout(t.m),t.m=null)}function ir(t,e){var n,r,i,o=null;if(t.a==e){rr(t),er(t),t.a=null;var s=2}else{if(!Tn(t.b,e))return;o=e.s,Sn(t.b,e),s=1}if(t.I=e.N,0!=t.v)if(e.b)1==s?(o=e.j?e.j.length:0,e=V()-e.u,n=t.u,qt(s=ye(),new we(s)),Yn(t)):Zn(t);else if(3==(n=e.h)||0==n&&0<t.I||(1!=s||(i=e,En((r=t).b)>=r.b.f-(r.h?1:0)||(r.h?(r.g=i.s.concat(r.g),0):1==r.v||2==r.v||r.u>=(r.La?0:r.Ma)||(r.h=Ie(M(r.Ba,r,i),or(r,r.u)),r.u++,0))))&&(2!=s||!tr(t)))switch(o&&0<o.length&&(e=t.b,e.c=e.c.concat(o)),n){case 1:sr(t,5);break;case 4:sr(t,10);break;case 3:sr(t,6);break;default:sr(t,2)}}function or(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function sr(t,e){var n,r,i,o;t.c.info("Error code "+e),2==e?(r=null,t.f&&(r=null),o=M(t.Ya,t),r||(r=new Ye("//www.google.com/images/cleardot.gif"),A.location&&"http"==A.location.protocol||Je(r,"https"),nn(r)),n=r.toString(),r=o,o=new le,A.Image?((i=new Image).onload=F(kn,o,i,"TestLoadImage: loaded",!0,r),i.onerror=F(kn,o,i,"TestLoadImage: error",!1,r),i.onabort=F(kn,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=F(kn,o,i,"TestLoadImage: timeout",!1,r),A.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n):r(!1)):be(2),t.v=0,t.f&&t.f.ra(e),ar(t),Hn(t)}function ar(t){t.v=0,t.I=-1,t.f&&(0==Nn(t.b).length&&0==t.g.length||(t.b.c.length=0,G(t.g),t.g.length=0),t.f.qa())}function ur(t,e,n){var r,i,o,s,a,u=(s=n)instanceof Ye?Xe(s):new Ye(s,void 0);return""!=u.c?(e&&$e(u,e+"."+u.c),Ze(u,u.h)):(a=A.location,r=a.protocol,i=e?e+"."+a.hostname:a.hostname,o=+a.port,s=n,a=new Ye(null,void 0),r&&Je(a,r),i&&$e(a,i),o&&Ze(a,o),s&&(a.g=s),u=a),t.V&&J(t.V,function(t,e){en(u,e,t)}),e=t.A,n=t.na,e&&n&&en(u,e,n),en(u,"VER",t.ha),Jn(t,u),u}function cr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rn(t.Na)).F=t.C,e}function hr(){}function lr(){if(it&&!(10<=Number(pt)))throw Error("Environmental error: no available transport.")}function fr(t,e){Ut.call(this),this.a=new Gn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Q(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Q(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new yr(this)}function dr(t){De.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function pr(){Ae.call(this),this.status=1}function yr(t){this.a=t}(S=Rn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Se(this.H):Se(Re),this.a.onreadystatechange=M(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Mn(this,t)}t=n||"";var i,o=new Qe(this.headers);r&&Ge(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=Pn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.L()),n=A.FormData&&t instanceof A.FormData,0<=B(Ln,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{qn(this),0<this.o&&((this.D=(i=this.a,it&&dt(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=M(this.xa,this)):this.m=te(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Mn(this,t)}},S.xa=function(){void 0!==D&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,qt(this,"timeout"),this.abort(8))},S.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,qt(this,"complete"),qt(this,"abort"),Un(this))},S.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Un(this,!0)),Rn.X.G.call(this)},S.za=function(){this.j||(this.A||this.l||this.g?Vn(this):this.Ua())},S.Ua=function(){Vn(this)},S.W=function(){try{return 2<Bn(this)?this.a.status:-1}catch(t){return-1}},S.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},S.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cn(e)}},S.ua=function(){return this.h},S.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(S=Gn.prototype).ha=8,S.v=1,S.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ce(this,this.c,t,void 0),r=this.l;if(this.O&&(r?tt(r=$(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if("__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o=o.length:o=void 0,void 0===o)break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=$n(this,n,e),en(i=Xe(this.B),"RID",t),en(i,"CVER",22),this.A&&en(i,"X-HTTP-Session-Id",this.A),Jn(this,i),this.i&&r&&jn(i,this.i,r),_n(this.b,n),this.Ia&&en(i,"TYPE","init"),this.da?(en(i,"$req",e),en(i,"SID","null"),n.U=!0,Pe(n,i,null)):Pe(n,i,e),this.v=2}}else 3==this.v&&(t?Xn(this,t):0==this.g.length||In(this.b)||Xn(this))},S.Aa=function(){var t;this.j=null,nr(this),this.U&&!(this.F||null==this.a||this.N<=0)&&(t=2*this.N,this.c.info("BP detection timer enabled: "+t),this.s=Ie(M(this.Ta,this),t))},S.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,be(10),zn(this),nr(this))},S.Sa=function(){null!=this.m&&(this.m=null,zn(this),tr(this),be(19))},S.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),be(2)):(this.c.info("Failed to ping google.com"),be(1))},(S=hr.prototype).ta=function(){},S.sa=function(){},S.ra=function(){},S.qa=function(){},S.Ja=function(){},lr.prototype.a=function(t,e){return new fr(t,e)},U(fr,Ut),fr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;be(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ur(t,null,t.fa),Yn(t)},fr.prototype.close=function(){Qn(this.a)},fr.prototype.h=function(t){var e;"string"==typeof t?((e={}).__data__=t,Wn(this.a,e)):this.l?((e={}).__data__=jt(t),Wn(this.a,e)):Wn(this.a,t)},fr.prototype.G=function(){this.a.f=null,delete this.f,Qn(this.a),delete this.a,fr.X.G.call(this)},U(dr,De),U(pr,Ae),U(yr,hr),yr.prototype.ta=function(){qt(this.a,"a")},yr.prototype.sa=function(t){qt(this.a,new dr(t))},yr.prototype.ra=function(t){qt(this.a,new pr)},yr.prototype.qa=function(){qt(this.a,"b")},lr.prototype.createWebChannel=lr.prototype.a,fr.prototype.send=fr.prototype.h,fr.prototype.open=fr.prototype.g,Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Te.COMPLETE="complete",(Ne.EventType=N).OPEN="a",N.CLOSE="b",N.ERROR="c",N.MESSAGE="d",Ut.prototype.listen=Ut.prototype.va,Rn.prototype.listenOnce=Rn.prototype.wa,Rn.prototype.getLastError=Rn.prototype.Qa,Rn.prototype.getLastErrorCode=Rn.prototype.ua,Rn.prototype.getStatus=Rn.prototype.W,Rn.prototype.getResponseJson=Rn.prototype.Pa,Rn.prototype.getResponseText=Rn.prototype.$,Rn.prototype.send=Rn.prototype.ba;var gr=ye,mr=Ee,vr=Te,br=de,wr=10,Ir=11,Er=Ne,Tr=Rn,_r=(Sr.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},Sr.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},Sr);function Sr(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}_r.o=-1;var Nr,Dr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ar=(n(Cr,Nr=Error),Cr),kr=new I("@firebase/firestore");function Cr(t,e){var n=this;return(n=Nr.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Rr(){return kr.logLevel}function xr(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];kr.logLevel<=f.DEBUG&&(e=n.map(Pr),kr.debug.apply(kr,s(["Firestore (8.4.2): "+t],e)))}function Or(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];kr.logLevel<=f.ERROR&&(e=n.map(Pr),kr.error.apply(kr,s(["Firestore (8.4.2): "+t],e)))}function Lr(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];kr.logLevel<=f.WARN&&(e=n.map(Pr),kr.warn.apply(kr,s(["Firestore (8.4.2): "+t],e)))}function Pr(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Mr(t){t="FIRESTORE (8.4.2) INTERNAL ASSERTION FAILED: "+(t=void 0===t?"Unexpected state":t);throw Or(t),new Error(t)}function Fr(t){t||Mr()}var Vr=(Ur.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},Ur);function Ur(){}function qr(t,e){return t<e?-1:e<t?1:0}function Br(t,n,r){return t.length===n.length&&t.every(function(t,e){return r(t,n[e])})}function jr(t){return t+"\0"}var Kr=(zr.now=function(){return zr.fromMillis(Date.now())},zr.fromDate=function(t){return zr.fromMillis(t.getTime())},zr.fromMillis=function(t){var e=Math.floor(t/1e3);return new zr(e,Math.floor(1e6*(t-1e3*e)))},zr.prototype.toDate=function(){return new Date(this.toMillis())},zr.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},zr.prototype._compareTo=function(t){return this.seconds===t.seconds?qr(this.nanoseconds,t.nanoseconds):qr(this.seconds,t.seconds)},zr.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},zr.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},zr.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},zr.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},zr),Gr=(Qr.fromTimestamp=function(t){return new Qr(t)},Qr.min=function(){return new Qr(new Kr(0,0))},Qr.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},Qr.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},Qr.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},Qr.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},Qr.prototype.toTimestamp=function(){return this.timestamp},Qr);function Qr(t){this.timestamp=t}function zr(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new Ar(Dr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new Ar(Dr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ar(Dr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new Ar(Dr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function Hr(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function Wr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Xr,Jr,Te=(Object.defineProperty(ai.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),ai.prototype.isEqual=function(t){return 0===ai.comparator(this,t)},ai.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach(function(t){e.push(t)}):e.push(t),this.construct(e)},ai.prototype.limit=function(){return this.offset+this.length},ai.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},ai.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},ai.prototype.firstSegment=function(){return this.segments[this.offset]},ai.prototype.lastSegment=function(){return this.get(this.length-1)},ai.prototype.get=function(t){return this.segments[this.offset+t]},ai.prototype.isEmpty=function(){return 0===this.length},ai.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},ai.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},ai.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},ai.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},ai.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},ai),$r=(n(si,Jr=Te),si.prototype.construct=function(t,e,n){return new si(t,e,n)},si.prototype.canonicalString=function(){return this.toArray().join("/")},si.prototype.toString=function(){return this.canonicalString()},si.fromString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter(function(t){return 0<t.length}))}return new si(n)},si.emptyPath=function(){return new si([])},si),Zr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ti=(n(oi,Xr=Te),oi.prototype.construct=function(t,e,n){return new oi(t,e,n)},oi.isValidIdentifier=function(t){return Zr.test(t)},oi.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t=!oi.isValidIdentifier(t)?"`"+t+"`":t}).join(".")},oi.prototype.toString=function(){return this.canonicalString()},oi.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},oi.keyField=function(){return new oi(["__name__"])},oi.fromServerFormat=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new Ar(Dr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[r+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new Ar(Dr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=a,r+=2}else"`"===s?o=!o:"."!==s||o?n+=s:i(),r++}if(i(),o)throw new Ar(Dr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new oi(e)},oi.emptyPath=function(){return new oi([])},oi),ei=(ii.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},ii.prototype.isEqual=function(t){return Br(this.fields,t.fields,function(t,e){return t.isEqual(e)})},ii),ni=(ri.fromBase64String=function(t){return new ri(atob(t))},ri.fromUint8Array=function(t){return new ri(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},ri.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},ri.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},ri.prototype.approximateByteSize=function(){return 2*this.binaryString.length},ri.prototype.compareTo=function(t){return qr(this.binaryString,t.binaryString)},ri.prototype.isEqual=function(t){return this.binaryString===t.binaryString},ri);function ri(t){this.binaryString=t}function ii(t){(this.fields=t).sort(ti.comparator)}function oi(){return null!==Xr&&Xr.apply(this,arguments)||this}function si(){return null!==Jr&&Jr.apply(this,arguments)||this}function ai(t,e,n){void 0===e?e=0:e>t.length&&Mr(),void 0===n?n=t.length-e:n>t.length-e&&Mr(),this.segments=t,this.offset=e,this.len=n}ni.EMPTY_BYTE_STRING=new ni("");var ui=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ci(t){if(Fr(!!t),"string"!=typeof t)return{seconds:hi(t.seconds),nanos:hi(t.nanos)};var e=0,n=ui.exec(t);Fr(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),e=Number(n));t=new Date(t);return{seconds:Math.floor(t.getTime()/1e3),nanos:e}}function hi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function li(t){return"string"==typeof t?ni.fromBase64String(t):ni.fromUint8Array(t)}function fi(t){return"server_timestamp"===(null===(t=((null===(t=null==t?void 0:t.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function di(t){t=ci(t.mapValue.fields.__local_write_time__.timestampValue);return new Kr(t.seconds,t.nanos)}function pi(t){return null==t}function yi(t){return 0===t&&1/t==-1/0}function gi(t){return"number"==typeof t&&Number.isInteger(t)&&!yi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var mi=(vi.fromPath=function(t){return new vi($r.fromString(t))},vi.fromName=function(t){return new vi($r.fromString(t).popFirst(5))},vi.prototype.hasCollectionId=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},vi.prototype.isEqual=function(t){return null!==t&&0===$r.comparator(this.path,t.path)},vi.prototype.toString=function(){return this.path.toString()},vi.comparator=function(t,e){return $r.comparator(t.path,e.path)},vi.isDocumentKey=function(t){return t.length%2==0},vi.fromSegments=function(t){return new vi(new $r(t.slice()))},vi);function vi(t){this.path=t}function bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fi(t)?4:10:Mr()}function wi(r,i){var t,e,n=bi(r);if(n!==bi(i))return!1;switch(n){case 0:return!0;case 1:return r.booleanValue===i.booleanValue;case 4:return di(r).isEqual(di(i));case 3:return function(t){if("string"==typeof r.timestampValue&&"string"==typeof t.timestampValue&&r.timestampValue.length===t.timestampValue.length)return r.timestampValue===t.timestampValue;var e=ci(r.timestampValue),t=ci(t.timestampValue);return e.seconds===t.seconds&&e.nanos===t.nanos}(i);case 5:return r.stringValue===i.stringValue;case 6:return e=i,li(r.bytesValue).isEqual(li(e.bytesValue));case 7:return r.referenceValue===i.referenceValue;case 8:return t=i,hi((e=r).geoPointValue.latitude)===hi(t.geoPointValue.latitude)&&hi(e.geoPointValue.longitude)===hi(t.geoPointValue.longitude);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return hi(t.integerValue)===hi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){t=hi(t.doubleValue),e=hi(e.doubleValue);return t===e?yi(t)===yi(e):isNaN(t)&&isNaN(e)}return!1}(r,i);case 9:return Br(r.arrayValue.values||[],i.arrayValue.values||[],wi);case 10:return function(){var t,e=r.mapValue.fields||{},n=i.mapValue.fields||{};if(Hr(e)!==Hr(n))return!1;for(t in e)if(e.hasOwnProperty(t)&&(void 0===n[t]||!wi(e[t],n[t])))return!1;return!0}();default:return Mr()}}function Ii(t,e){return void 0!==(t.values||[]).find(function(t){return wi(t,e)})}function Ei(t,e){var n,r,i,o=bi(t),s=bi(e);if(o!==s)return qr(o,s);switch(o){case 0:return 0;case 1:return qr(t.booleanValue,e.booleanValue);case 2:return r=e,i=hi(t.integerValue||t.doubleValue),r=hi(r.integerValue||r.doubleValue),i<r?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return Ti(t.timestampValue,e.timestampValue);case 4:return Ti(di(t),di(e));case 5:return qr(t.stringValue,e.stringValue);case 6:return function(t,e){t=li(t),e=li(e);return t.compareTo(e)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=qr(n[i],r[i]);if(0!==o)return o}return qr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return n=t.geoPointValue,i=e.geoPointValue,0!==(r=qr(hi(n.latitude),hi(i.latitude)))?r:qr(hi(n.longitude),hi(i.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ei(n[i],r[i]);if(o)return o}return qr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=qr(r[s],o[s]);if(0!==a)return a;a=Ei(n[r[s]],i[o[s]]);if(0!==a)return a}return qr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Mr()}}function Ti(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return qr(t,e);var n=ci(t),t=ci(e),e=qr(n.seconds,t.seconds);return 0!==e?e:qr(n.nanos,t.nanos)}function _i(t){return function s(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var t=ci(t);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?li(t.bytesValue).toBase64():"referenceValue"in t?(e=t.referenceValue,mi.fromName(e).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=s(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+s(t.fields[o])}return e+"}"}(t.mapValue):Mr();var e}(t)}function Si(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ni(t){return t&&"integerValue"in t}function Di(t){return!!t&&"arrayValue"in t}function Ai(t){return t&&"nullValue"in t}function ki(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ci(t){return t&&"mapValue"in t}var Ri=(xi.empty=function(){return new xi({mapValue:{}})},xi.prototype.field=function(t){return xi.extractNestedValue(this.buildProto(),t)},xi.prototype.toProto=function(){return this.field(ti.emptyPath())},xi.prototype.set=function(t,e){this.setOverlay(t,e)},xi.prototype.setAll=function(t){var n=this;t.forEach(function(t,e){t?n.set(e,t):n.delete(e)})},xi.prototype.delete=function(t){this.setOverlay(t,null)},xi.prototype.isEqual=function(t){return wi(this.buildProto(),t.buildProto())},xi.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r)var i=t.get(r),o=n.get(i),n=(o instanceof Map||(o=o&&10===bi(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),o);n.set(t.lastSegment(),e)},xi.prototype.applyOverlay=function(r,t){var i=this,o=!1,e=xi.extractNestedValue(this.partialValue,r),s=Ci(e)?Object.assign({},e.mapValue.fields):{};return t.forEach(function(t,e){var n;t instanceof Map?null!=(n=i.applyOverlay(r.child(e),t))&&(s[e]=n,o=!0):null!==t?(s[e]=t,o=!0):s.hasOwnProperty(e)&&(delete s[e],o=!0)}),o?{mapValue:{fields:s}}:null},xi.prototype.buildProto=function(){var t=this.applyOverlay(ti.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},xi.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Ci(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},xi.prototype.clone=function(){return new xi(this.buildProto())},xi);function xi(t){this.overlayMap=new Map,this.partialValue=t}var Oi=(Pi.newInvalidDocument=function(t){return new Pi(t,0,Gr.min(),Ri.empty(),0)},Pi.newFoundDocument=function(t,e,n){return new Pi(t,1,e,n,0)},Pi.newNoDocument=function(t,e){return new Pi(t,2,e,Ri.empty(),0)},Pi.newUnknownDocument=function(t,e){return new Pi(t,3,e,Ri.empty(),2)},Pi.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},Pi.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ri.empty(),this.documentState=0,this},Pi.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ri.empty(),this.documentState=2,this},Pi.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},Pi.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(Pi.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(Pi.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(Pi.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),Pi.prototype.isValidDocument=function(){return 0!==this.documentType},Pi.prototype.isFoundDocument=function(){return 1===this.documentType},Pi.prototype.isNoDocument=function(){return 2===this.documentType},Pi.prototype.isUnknownDocument=function(){return 3===this.documentType},Pi.prototype.isEqual=function(t){return t instanceof Pi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},Pi.prototype.clone=function(){return new Pi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},Pi.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},Pi),Li=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Pi(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}function Mi(t,e,n,r,i,o,s){return new Li(t,e=void 0===e?null:e,n=void 0===n?[]:n,r=void 0===r?[]:r,i=void 0===i?null:i,o=void 0===o?null:o,s=void 0===s?null:s)}function Fi(t){var e=t;return null===e.h&&(t=e.path.canonicalString(),null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(function(t){return(t=t).field.canonicalString()+t.op.toString()+_i(t.value)}).join(","),t+="|ob:",t+=e.orderBy.map(function(t){return(t=t).field.canonicalString()+t.dir}).join(","),pi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=fo(e.startAt)),e.endAt&&(t+="|ub:",t+=fo(e.endAt)),e.h=t),e.h}function Vi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i=0;i<t.orderBy.length;i++)if(n=t.orderBy[i],r=e.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(t.filters.length!==e.filters.length)return!1;for(var o,s,a=0;a<t.filters.length;a++)if(o=t.filters[a],s=e.filters[a],o.op!==s.op||!o.field.isEqual(s.field)||!wi(o.value,s.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!go(t.startAt,e.startAt)&&go(t.endAt,e.endAt)}function Ui(t){return mi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var qi,Bi=(n(ji,qi=function(){}),ji.create=function(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.l(t,e,n):new zi(t,e,n):"array-contains"===e?new ro(t,n):"in"===e?new io(t,n):"not-in"===e?new oo(t,n):"array-contains-any"===e?new so(t,n):new ji(t,e,n)},ji.l=function(t,e,n){return new("in"===e?Hi:Wi)(t,n)},ji.prototype.matches=function(t){t=t.data.field(this.field);return"!="===this.op?null!==t&&this.m(Ei(t,this.value)):null!==t&&bi(this.value)===bi(t)&&this.m(Ei(t,this.value))},ji.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return 0<t;case">=":return 0<=t;default:return Mr()}},ji.prototype.g=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},ji);function ji(t,e,n){var r=this;return(r=qi.call(this)||this).field=t,r.op=e,r.value=n,r}var Ki,Gi,Qi,zi=(n(Ji,Qi=Bi),Ji.prototype.matches=function(t){t=mi.comparator(t.key,this.key);return this.m(t)},Ji),Hi=(n(Xi,Gi=Bi),Xi.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},Xi),Wi=(n(Yi,Ki=Bi),Yi.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},Yi);function Yi(t,e){var n=this;return(n=Ki.call(this,t,"not-in",e)||this).keys=$i(0,e),n}function Xi(t,e){var n=this;return(n=Gi.call(this,t,"in",e)||this).keys=$i(0,e),n}function Ji(t,e,n){var r=this;return(r=Qi.call(this,t,e,n)||this).key=mi.fromName(n.referenceValue),r}function $i(t,e){return((null===(e=e.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(t){return mi.fromName(t.referenceValue)})}var Zi,to,eo,no,ro=(n(lo,no=Bi),lo.prototype.matches=function(t){t=t.data.field(this.field);return Di(t)&&Ii(t.arrayValue,this.value)},lo),io=(n(ho,eo=Bi),ho.prototype.matches=function(t){t=t.data.field(this.field);return null!==t&&Ii(this.value.arrayValue,t)},ho),oo=(n(co,to=Bi),co.prototype.matches=function(t){if(Ii(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;t=t.data.field(this.field);return null!==t&&!Ii(this.value.arrayValue,t)},co),so=(n(uo,Zi=Bi),uo.prototype.matches=function(t){var e=this,t=t.data.field(this.field);return!(!Di(t)||!t.arrayValue.values)&&t.arrayValue.values.some(function(t){return Ii(e.value.arrayValue,t)})},uo),ao=function(t,e){this.position=t,this.before=e};function uo(t,e){return Zi.call(this,t,"array-contains-any",e)||this}function co(t,e){return to.call(this,t,"not-in",e)||this}function ho(t,e){return eo.call(this,t,"in",e)||this}function lo(t,e){return no.call(this,t,"array-contains",e)||this}function fo(t){return(t.before?"b":"a")+":"+t.position.map(_i).join(",")}var po=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function yo(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i],r=o.field.isKeyField()?mi.comparator(mi.fromName(s.referenceValue),n.key):Ei(s,n.data.field(o.field));if("desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function go(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!wi(t.position[n],e.position[n]))return!1;return!0}var mo=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function vo(t,e,n,r,i,o,s,a){return new mo(t,e,n,r,i,o,s,a)}function bo(t){return new mo(t)}function wo(t){return!pi(t.limit)&&"F"===t.limitType}function Io(t){return!pi(t.limit)&&"L"===t.limitType}function Eo(t){return 0<t.explicitOrderBy.length?t.explicitOrderBy[0].field:null}function To(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function _o(t){return null!==t.collectionGroup}function So(t){var e=t;if(null===e.p){e.p=[];var n=To(e),t=Eo(e);if(null!==n&&null===t)n.isKeyField()||e.p.push(new po(n)),e.p.push(new po(ti.keyField(),"asc"));else{for(var r=!1,i=0,o=e.explicitOrderBy;i<o.length;i++){var s=o[i];e.p.push(s),s.field.isKeyField()&&(r=!0)}r||(n=0<e.explicitOrderBy.length?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",e.p.push(new po(ti.keyField(),n)))}}return e.p}function No(t){var e=t;if(!e.T)if("F"===e.limitType)e.T=Mi(e.path,e.collectionGroup,So(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=So(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new po(o.field,s))}var a=e.endAt?new ao(e.endAt.position,!e.endAt.before):null,t=e.startAt?new ao(e.startAt.position,!e.startAt.before):null;e.T=Mi(e.path,e.collectionGroup,n,e.filters,e.limit,a,t)}return e.T}function Do(t,e,n){return new mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ao(t,e){return Vi(No(t),No(e))&&t.limitType===e.limitType}function ko(t){return Fi(No(t))+"|lt:"+t.limitType}function Co(t){return"Query(target="+(e=No(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(n+=", filters: ["+e.filters.map(function(t){return(t=t).field.canonicalString()+" "+t.op+" "+_i(t.value)}).join(", ")+"]"),pi(e.limit)||(n+=", limit: "+e.limit),0<e.orderBy.length&&(n+=", orderBy: ["+e.orderBy.map(function(t){return(t=t).field.canonicalString()+" ("+t.dir+")"}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+fo(e.startAt)),e.endAt&&(n+=", endAt: "+fo(e.endAt)),"Target("+n+")")+"; limitType="+t.limitType+")";var e,n}function Ro(i,t){return t.isFoundDocument()&&(e=i,n=t.key.path,null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):mi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n))&&function(t){for(var e=0,n=i.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&null===t.data.field(r.field))return}return 1}(t)&&function(t){for(var e=0,n=i.filters;e<n.length;e++)if(!n[e].matches(t))return;return 1}(t)&&(n=t,(!(t=i).startAt||yo(t.startAt,So(t),n))&&(!t.endAt||!yo(t.endAt,So(t),n)));var e,n}function xo(a){return function(t,e){for(var n=!1,r=0,i=So(a);r<i.length;r++){var o=i[r],s=function(t,r,e){var n=t.field.isKeyField()?mi.comparator(r.key,e.key):function(t,e){var n=r.data.field(t),t=e.data.field(t);return null!==n&&null!==t?Ei(n,t):Mr()}(t.field,e);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Mr()}}(o,t,e);if(0!==s)return s;n=n||o.field.isKeyField()}return 0}}function Oo(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yi(e)?"-0":e}}function Lo(t){return{integerValue:""+t}}function Po(t,e){return gi(e)?Lo(e):Oo(t,e)}I=function(){this._=void 0};function Mo(t,e){return t instanceof Yo?Ni(t=e)||t&&"doubleValue"in t?e:{integerValue:0}:null}var Fo,Vo,Uo=(n(jo,Vo=I),jo),qo=(n(Bo,Fo=I),Bo);function Bo(t){var e=this;return(e=Fo.call(this)||this).elements=t,e}function jo(){return null!==Vo&&Vo.apply(this,arguments)||this}function Ko(t,e){for(var n=$o(e),r=0,i=t.elements;r<i.length;r++)!function(e){n.some(function(t){return wi(t,e)})||n.push(e)}(i[r]);return{arrayValue:{values:n}}}var Go,Qo=(n(zo,Go=I),zo);function zo(t){var e=this;return(e=Go.call(this)||this).elements=t,e}function Ho(t,e){for(var n=$o(e),r=0,i=t.elements;r<i.length;r++)!function(e){n=n.filter(function(t){return!wi(t,e)})}(i[r]);return{arrayValue:{values:n}}}var Wo,Yo=(n(Xo,Wo=I),Xo);function Xo(t,e){var n=this;return(n=Wo.call(this)||this).R=t,n.A=e,n}function Jo(t){return hi(t.integerValue||t.doubleValue)}function $o(t){return Di(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Zo(t,e){this.version=t,this.transformResults=e}var ts=function(t,e){this.field=t,this.transform=e},es=(ns.none=function(){return new ns},ns.exists=function(t){return new ns(void 0,t)},ns.updateTime=function(t){return new ns(t)},Object.defineProperty(ns.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),ns.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},ns);function ns(t,e){this.updateTime=t,this.exists=e}function rs(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}Te=function(){};function is(t,e,n){var r,i,o,s;t instanceof cs?(i=e,o=n,rs((r=t).precondition,i)&&(s=r.value.clone(),o=ys(r.fieldTransforms,o,i),s.setAll(o),i.convertToFoundDocument(ss(i),s).setHasLocalMutations())):t instanceof hs?(o=e,i=n,rs((s=t).precondition,o)&&(n=ys(s.fieldTransforms,i,o),(i=o.data).setAll(ds(s)),i.setAll(n),o.convertToFoundDocument(ss(o),i).setHasLocalMutations())):(e=e,rs(t.precondition,e)&&e.convertToNoDocument(Gr.min()))}function os(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Br(n,r,function(t,e){return e=e,(t=t).field.isEqual(e.field)&&(t=t.transform,e=e.transform,t instanceof qo&&e instanceof qo||t instanceof Qo&&e instanceof Qo?Br(t.elements,e.elements,wi):t instanceof Yo&&e instanceof Yo?wi(t.A,e.A):t instanceof Uo&&e instanceof Uo)})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function ss(t){return t.isFoundDocument()?t.version:Gr.min()}var as,us,cs=(n(fs,us=Te),fs),hs=(n(ls,as=Te),ls);function ls(t,e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=as.call(this)||this).key=t,o.data=e,o.fieldMask=n,o.precondition=r,o.fieldTransforms=i,o.type=1,o}function fs(t,e,n,r){void 0===r&&(r=[]);var i=this;return(i=us.call(this)||this).key=t,i.value=e,i.precondition=n,i.fieldTransforms=r,i.type=0,i}function ds(n){var r=new Map;return n.fieldMask.fields.forEach(function(t){var e;t.isEmpty()||(e=n.data.field(t),r.set(t,e))}),r}function ps(t,e,n){var r=new Map;Fr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,(o=s,s=a,a=n[i],o instanceof qo?Ko(o,s):o instanceof Qo?Ho(o,s):a))}return r}function ys(t,e,n){for(var r,i=new Map,o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=n.data.field(a.field);i.set(a.field,(r=c,a=e,c=void 0,(u=u)instanceof Uo?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}},r&&(c.fields.__previous_value__=r),{mapValue:c}):u instanceof qo?Ko(u,r):u instanceof Qo?Ho(u,r):(u=Mo(c=u,r),r=Jo(u)+Jo(c.A),Ni(u)&&Ni(c.A)?Lo(r):Oo(c.R,r))))}return i}function gs(t){this.count=t}var ms,vs,bs,ws=(n(Ts,bs=Te),Ts),Is=(n(Es,vs=Te),Es);function Es(t,e){var n=this;return(n=vs.call(this)||this).key=t,n.precondition=e,n.type=3,n.fieldTransforms=[],n}function Ts(t,e){var n=this;return(n=bs.call(this)||this).key=t,n.precondition=e,n.type=2,n.fieldTransforms=[],n}function _s(t){switch(t){case Dr.OK:return Mr(),0;case Dr.CANCELLED:case Dr.UNKNOWN:case Dr.DEADLINE_EXCEEDED:case Dr.RESOURCE_EXHAUSTED:case Dr.INTERNAL:case Dr.UNAVAILABLE:case Dr.UNAUTHENTICATED:return;case Dr.INVALID_ARGUMENT:case Dr.NOT_FOUND:case Dr.ALREADY_EXISTS:case Dr.PERMISSION_DENIED:case Dr.FAILED_PRECONDITION:case Dr.ABORTED:case Dr.OUT_OF_RANGE:case Dr.UNIMPLEMENTED:case Dr.DATA_LOSS:return 1;default:return Mr(),0}}function Ss(t){if(void 0===t)return Or("GRPC error has no .code"),Dr.UNKNOWN;switch(t){case ms.OK:return Dr.OK;case ms.CANCELLED:return Dr.CANCELLED;case ms.UNKNOWN:return Dr.UNKNOWN;case ms.DEADLINE_EXCEEDED:return Dr.DEADLINE_EXCEEDED;case ms.RESOURCE_EXHAUSTED:return Dr.RESOURCE_EXHAUSTED;case ms.INTERNAL:return Dr.INTERNAL;case ms.UNAVAILABLE:return Dr.UNAVAILABLE;case ms.UNAUTHENTICATED:return Dr.UNAUTHENTICATED;case ms.INVALID_ARGUMENT:return Dr.INVALID_ARGUMENT;case ms.NOT_FOUND:return Dr.NOT_FOUND;case ms.ALREADY_EXISTS:return Dr.ALREADY_EXISTS;case ms.PERMISSION_DENIED:return Dr.PERMISSION_DENIED;case ms.FAILED_PRECONDITION:return Dr.FAILED_PRECONDITION;case ms.ABORTED:return Dr.ABORTED;case ms.OUT_OF_RANGE:return Dr.OUT_OF_RANGE;case ms.UNIMPLEMENTED:return Dr.UNIMPLEMENTED;case ms.DATA_LOSS:return Dr.DATA_LOSS;default:return Mr()}}(I=ms=ms||{})[I.OK=0]="OK",I[I.CANCELLED=1]="CANCELLED",I[I.UNKNOWN=2]="UNKNOWN",I[I.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",I[I.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",I[I.NOT_FOUND=5]="NOT_FOUND",I[I.ALREADY_EXISTS=6]="ALREADY_EXISTS",I[I.PERMISSION_DENIED=7]="PERMISSION_DENIED",I[I.UNAUTHENTICATED=16]="UNAUTHENTICATED",I[I.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",I[I.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",I[I.ABORTED=10]="ABORTED",I[I.OUT_OF_RANGE=11]="OUT_OF_RANGE",I[I.UNIMPLEMENTED=12]="UNIMPLEMENTED",I[I.INTERNAL=13]="INTERNAL",I[I.UNAVAILABLE=14]="UNAVAILABLE",I[I.DATA_LOSS=15]="DATA_LOSS";var Ns=(Rs.prototype.insert=function(t,e){return new Rs(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,As.BLACK,null,null))},Rs.prototype.remove=function(t){return new Rs(this.comparator,this.root.remove(t,this.comparator).copy(null,null,As.BLACK,null,null))},Rs.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},Rs.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},Rs.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(Rs.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),Rs.prototype.minKey=function(){return this.root.minKey()},Rs.prototype.maxKey=function(){return this.root.maxKey()},Rs.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},Rs.prototype.forEach=function(n){this.inorderTraversal(function(t,e){return n(t,e),!1})},Rs.prototype.toString=function(){var n=[];return this.inorderTraversal(function(t,e){return n.push(t+":"+e),!1}),"{"+n.join(", ")+"}"},Rs.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},Rs.prototype.getIterator=function(){return new Ds(this.root,null,this.comparator,!1)},Rs.prototype.getIteratorFrom=function(t){return new Ds(this.root,t,this.comparator,!1)},Rs.prototype.getReverseIterator=function(){return new Ds(this.root,null,this.comparator,!0)},Rs.prototype.getReverseIteratorFrom=function(t){return new Ds(this.root,t,this.comparator,!0)},Rs),Ds=(Cs.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},Cs.prototype.hasNext=function(){return 0<this.nodeStack.length},Cs.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},Cs),As=(ks.prototype.copy=function(t,e,n,r,i){return new ks(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},ks.prototype.isEmpty=function(){return!1},ks.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},ks.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},ks.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},ks.prototype.minKey=function(){return this.min().key},ks.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},ks.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},ks.prototype.removeMin=function(){if(this.left.isEmpty())return ks.EMPTY;var t=this;return(t=(t=!t.left.isRed()&&!t.left.left.isRed()?t.moveRedLeft():t).copy(null,null,null,t.left.removeMin(),null)).fixUp()},ks.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r=(r=!(r.left.isEmpty()||r.left.isRed()||r.left.left.isRed())?r.moveRedLeft():r).copy(null,null,null,r.left.remove(t,e),null);else{if(0===e(t,(r=!((r=r.left.isRed()?r.rotateRight():r).right.isEmpty()||r.right.isRed()||r.right.left.isRed())?r.moveRedRight():r).key)){if(r.right.isEmpty())return ks.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()},ks.prototype.isRed=function(){return this.color},ks.prototype.fixUp=function(){var t=this;return t=(t=(t=t.right.isRed()&&!t.left.isRed()?t.rotateLeft():t).left.isRed()&&t.left.left.isRed()?t.rotateRight():t).left.isRed()&&t.right.isRed()?t.colorFlip():t},ks.prototype.moveRedLeft=function(){var t=this.colorFlip();return t=t.right.left.isRed()?(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip():t},ks.prototype.moveRedRight=function(){var t=this.colorFlip();return t=t.left.left.isRed()?(t=t.rotateRight()).colorFlip():t},ks.prototype.rotateLeft=function(){var t=this.copy(null,null,ks.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},ks.prototype.rotateRight=function(){var t=this.copy(null,null,ks.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},ks.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},ks.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},ks.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Mr();if(this.right.isRed())throw Mr();var t=this.left.check();if(t!==this.right.check())throw Mr();return t+(this.isRed()?0:1)},ks);function ks(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:ks.RED,this.left=null!=r?r:ks.EMPTY,this.right=null!=i?i:ks.EMPTY,this.size=this.left.size+1+this.right.size}function Cs(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}function Rs(t,e){this.comparator=t,this.root=e||As.EMPTY}function xs(){this.size=0}As.EMPTY=null,As.RED=!0,As.BLACK=!1,As.EMPTY=(Object.defineProperty(xs.prototype,"key",{get:function(){throw Mr()},enumerable:!1,configurable:!0}),Object.defineProperty(xs.prototype,"value",{get:function(){throw Mr()},enumerable:!1,configurable:!0}),Object.defineProperty(xs.prototype,"color",{get:function(){throw Mr()},enumerable:!1,configurable:!0}),Object.defineProperty(xs.prototype,"left",{get:function(){throw Mr()},enumerable:!1,configurable:!0}),Object.defineProperty(xs.prototype,"right",{get:function(){throw Mr()},enumerable:!1,configurable:!0}),xs.prototype.copy=function(t,e,n,r,i){return this},xs.prototype.insert=function(t,e,n){return new As(t,e)},xs.prototype.remove=function(t,e){return this},xs.prototype.isEmpty=function(){return!0},xs.prototype.inorderTraversal=function(t){return!1},xs.prototype.reverseTraversal=function(t){return!1},xs.prototype.minKey=function(){return null},xs.prototype.maxKey=function(){return null},xs.prototype.isRed=function(){return!1},xs.prototype.checkMaxDepth=function(){return!0},xs.prototype.check=function(){return 0},new xs);var Os=(Fs.prototype.has=function(t){return null!==this.data.get(t)},Fs.prototype.first=function(){return this.data.minKey()},Fs.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(Fs.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),Fs.prototype.indexOf=function(t){return this.data.indexOf(t)},Fs.prototype.forEach=function(n){this.data.inorderTraversal(function(t,e){return n(t),!1})},Fs.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,t[1]))return;e(r.key)}},Fs.prototype.forEachWhile=function(t,e){for(var n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},Fs.prototype.firstAfterOrEqual=function(t){t=this.data.getIteratorFrom(t);return t.hasNext()?t.getNext().key:null},Fs.prototype.getIterator=function(){return new Ls(this.data.getIterator())},Fs.prototype.getIteratorFrom=function(t){return new Ls(this.data.getIteratorFrom(t))},Fs.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},Fs.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},Fs.prototype.isEmpty=function(){return this.data.isEmpty()},Fs.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},Fs.prototype.isEqual=function(t){if(!(t instanceof Fs))return!1;if(this.size!==t.size)return!1;for(var e=this.data.getIterator(),n=t.data.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},Fs.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},Fs.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},Fs.prototype.copy=function(t){var e=new Fs(this.comparator);return e.data=t,e},Fs),Ls=(Ms.prototype.getNext=function(){return this.iter.getNext().key},Ms.prototype.hasNext=function(){return this.iter.hasNext()},Ms),Ps=new Ns(mi.comparator);function Ms(t){this.iter=t}function Fs(t){this.comparator=t,this.data=new Ns(this.comparator)}var Vs=new Ns(mi.comparator);var Us=new Ns(mi.comparator);var qs=new Os(mi.comparator);function Bs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=qs,r=0,i=t;r<i.length;r++)var o=i[r],n=n.add(o);return n}var js=new Os(qr);var Ks=(Zs.createSynthesizedRemoteEventForCurrentChange=function(t,e){var n=new Map;return n.set(t,Gs.createSynthesizedTargetChangeForCurrentChange(t,e)),new Zs(Gr.min(),n,js,Ps,Bs())},Zs),Gs=($s.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new $s(ni.EMPTY_BYTE_STRING,e,Bs(),Bs(),Bs())},$s),Qs=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},zs=function(t,e){this.targetId=t,this.V=e},Hs=function(t,e,n,r){void 0===n&&(n=ni.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ws=(Object.defineProperty(Js.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(Js.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(Js.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(Js.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),Js.prototype.$=function(t){0<t.approximateByteSize()&&(this.F=!0,this.C=t)},Js.prototype.M=function(){var n=Bs(),r=Bs(),i=Bs();return this.D.forEach(function(t,e){switch(e){case 0:n=n.add(t);break;case 2:r=r.add(t);break;case 1:i=i.add(t);break;default:Mr()}}),new Gs(this.C,this.N,n,r,i)},Js.prototype.L=function(){this.F=!1,this.D=ea()},Js.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},Js.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},Js.prototype.U=function(){this.S+=1},Js.prototype.K=function(){--this.S},Js.prototype.j=function(){this.F=!0,this.N=!0},Js),Ys=(Xs.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},Xs.prototype.et=function(n){var r=this;this.forEachTarget(n,function(t){var e=r.nt(t);switch(n.state){case 0:r.st(t)&&e.$(n.resumeToken);break;case 1:e.K(),e.k||e.L(),e.$(n.resumeToken);break;case 2:e.K(),e.k||r.removeTarget(t);break;case 3:r.st(t)&&(e.j(),e.$(n.resumeToken));break;case 4:r.st(t)&&(r.it(t),e.$(n.resumeToken));break;default:Mr()}})},Xs.prototype.forEachTarget=function(t,n){var r=this;0<t.targetIds.length?t.targetIds.forEach(n):this.G.forEach(function(t,e){r.st(e)&&n(e)})},Xs.prototype.rt=function(t){var e=t.targetId,n=t.V.count,t=this.ot(e);t&&(Ui(t=t.target)?0===n?(t=new mi(t.path),this.tt(e,t,Oi.newNoDocument(t,Gr.min()))):Fr(1===n):this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e)))},Xs.prototype.ut=function(r){var i=this,o=new Map;this.G.forEach(function(t,e){var n=i.ot(e);n&&(t.current&&Ui(n.target)&&(n=new mi(n.target.path),null!==i.H.get(n)||i.at(e,n)||i.tt(e,n,Oi.newNoDocument(n,r))),t.O&&(o.set(e,t.M()),t.L()))});var s=Bs();this.J.forEach(function(t,e){var n=!0;e.forEachWhile(function(t){t=i.ot(t);return!t||2===t.purpose||(n=!1)}),n&&(s=s.add(t))});var t=new Ks(r,o,this.Y,this.H,s);return this.H=Ps,this.J=ta(),this.Y=new Os(qr),t},Xs.prototype.Z=function(t,e){var n;this.st(t)&&(n=this.at(t,e.key)?2:0,this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t)))},Xs.prototype.tt=function(t,e,n){var r;this.st(t)&&(r=this.nt(t),this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n)))},Xs.prototype.removeTarget=function(t){this.G.delete(t)},Xs.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},Xs.prototype.U=function(t){this.nt(t).U()},Xs.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Ws,this.G.set(t,e)),e},Xs.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Os(qr),this.J=this.J.insert(t,e)),e},Xs.prototype.st=function(t){var e=null!==this.ot(t);return e||xr("WatchChangeAggregator","Detected inactive target",t),e},Xs.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},Xs.prototype.it=function(e){var n=this;this.G.set(e,new Ws),this.W.getRemoteKeysForTarget(e).forEach(function(t){n.tt(e,t,null)})},Xs.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},Xs);function Xs(t){this.W=t,this.G=new Map,this.H=Ps,this.J=ta(),this.Y=new Os(qr)}function Js(){this.S=0,this.D=ea(),this.C=ni.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}function $s(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}function Zs(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}function ta(){return new Ns(mi.comparator)}function ea(){return new Ns(mi.comparator)}var na={asc:"ASCENDING",desc:"DESCENDING"},ra={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ia=function(t,e){this.databaseId=t,this.I=e};function oa(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function sa(t,e){return t.I?e.toBase64():e.toUint8Array()}function aa(t){return Fr(!!t),Gr.fromTimestamp((t=ci(t),new Kr(t.seconds,t.nanos)))}function ua(t,e){return new $r(["projects",t.projectId,"databases",t.database]).child("documents").child(e).canonicalString()}function ca(t){t=$r.fromString(t);return Fr(ka(t)),t}function ha(t,e){return ua(t.databaseId,e.path)}function la(t,e){e=ca(e);if(e.get(1)!==t.databaseId.projectId)throw new Ar(Dr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new Ar(Dr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.databaseId.database);return new mi(ya(e))}function fa(t,e){return ua(t.databaseId,e)}function da(t){t=ca(t);return 4===t.length?$r.emptyPath():ya(t)}function pa(t){return new $r(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ya(t){return Fr(4<t.length&&"documents"===t.get(4)),t.popFirst(5)}function ga(t,e,n){return{name:ha(t,e),fields:n.toProto().mapValue.fields}}function ma(t,e,n){var r=la(t,e.name),t=aa(e.updateTime),e=new Ri({mapValue:{fields:e.fields}}),e=Oi.newFoundDocument(r,t,e);return n&&e.setHasCommittedMutations(),n?e.setHasCommittedMutations():e}function va(t,e){var n,r,i;if(e instanceof cs)n={update:ga(t,e.key,e.value)};else if(e instanceof ws)n={delete:ha(t,e.key)};else if(e instanceof hs)n={update:ga(t,e.key,e.data),updateMask:(i=e.fieldMask,r=[],i.fields.forEach(function(t){return r.push(t.canonicalString())}),{fieldPaths:r})};else{if(!(e instanceof Is))return Mr();n={verify:ha(t,e.key)}}return 0<e.fieldTransforms.length&&(n.updateTransforms=e.fieldTransforms.map(function(t){var e=t.transform;if(e instanceof Uo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(e instanceof qo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:e.elements}};if(e instanceof Qo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:e.elements}};if(e instanceof Yo)return{fieldPath:t.field.canonicalString(),increment:e.A};throw Mr()})),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:(e=t,t=i.updateTime,oa(e,t.toTimestamp()))}:void 0!==i.exists?{exists:i.exists}:Mr()),n}function ba(e,t){var n=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?es.updateTime(aa(s.updateTime)):void 0!==s.exists?es.exists(s.exists):es.none():es.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(t,e){var n,r=null;"setToServerValue"in e?(Fr("REQUEST_TIME"===e.setToServerValue),r=new Uo):"appendMissingElements"in e?(n=e.appendMissingElements.values||[],r=new qo(n)):"removeAllFromArray"in e?(n=e.removeAllFromArray.values||[],r=new Qo(n)):"increment"in e?r=new Yo(t,e.increment):Mr();e=ti.fromServerFormat(e.fieldPath);return new ts(e,r)}(e,t)}):[];if(t.update){t.update.name;var i=la(e,t.update.name),o=new Ri({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=(s=t.updateMask.fieldPaths||[],new ei(s.map(function(t){return ti.fromServerFormat(t)})));return new hs(i,o,s,n,r)}return new cs(i,o,n,r)}if(t.delete){r=la(e,t.delete);return new ws(r,n)}if(t.verify){t=la(e,t.verify);return new Is(t,n)}return Mr()}function wa(t,e){return{documents:[fa(t,e.path)]}}function Ia(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fa(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fa(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);r=function(t){if(0!==t.length){t=t.map(function(t){if("=="===t.op){if(ki(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NAN"}};if(Ai(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ki(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NOT_NAN"}};if(Ai(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(t.field),op:(e=t.op,ra[e]),value:t.value}};var e});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(e.filters);r&&(n.structuredQuery.where=r);r=function(t){if(0!==t.length)return t.map(function(t){return{field:Sa((t=t).field),direction:(t=t.dir,na[t])}})}(e.orderBy);r&&(n.structuredQuery.orderBy=r);r=e.limit,r=t.I||pi(r)?r:{value:r};return null!==r&&(n.structuredQuery.limit=r),e.startAt&&(n.structuredQuery.startAt=Ta(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ta(e.endAt)),n}function Ea(t){var e=da(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;0<r&&(Fr(1===r),(a=n.from[0]).allDescendants?i=a.collectionId:e=e.child(a.collectionId));var o=[];n.where&&(o=function e(t){return t?void 0!==t.unaryFilter?[Aa(t)]:void 0!==t.fieldFilter?[Da(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e(t)}).reduce(function(t,e){return t.concat(e)}):Mr():[]}(n.where));var s=[],t=null,r=null,a=null;return vo(e,i,s=n.orderBy?n.orderBy.map(function(t){return new po(Na((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e}):s,o,t=n.limit?pi(o="object"==typeof(o=n.limit)?o.value:o)?null:o:t,"F",r=n.startAt?_a(n.startAt):r,a=n.endAt?_a(n.endAt):a)}function Ta(t){return{before:t.before,values:t.position}}function _a(t){var e=!!t.before,t=t.values||[];return new ao(t,e)}function Sa(t){return{fieldPath:t.canonicalString()}}function Na(t){return ti.fromServerFormat(t.fieldPath)}function Da(t){return Bi.create(Na(t.fieldFilter.field),function(){switch(t.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Mr()}}(),t.fieldFilter.value)}function Aa(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Na(t.unaryFilter.field);return Bi.create(e,"==",{doubleValue:NaN});case"IS_NULL":e=Na(t.unaryFilter.field);return Bi.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=Na(t.unaryFilter.field);return Bi.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":n=Na(t.unaryFilter.field);return Bi.create(n,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Mr()}}function ka(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}function Ca(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=Ra(e)),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(t.get(n),e);return Ra(e)}function Ra(t){return t+"\x01\x01"}function xa(t){var e=t.length;if(Fr(2<=e),2===e)return Fr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),$r.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||n<s)&&Mr(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Mr()}o=s+2}return new $r(r)}function Oa(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}var La=function(t,e){this.seconds=t,this.nanoseconds=e};Oa.store="owner",Oa.key="owner";function Pa(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}Pa.store="mutationQueues",Pa.keyPath="userId";function Ma(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}Ma.store="mutations",Ma.keyPath="batchId",Ma.userMutationsIndex="userMutationsIndex",Ma.userMutationsKeyPath=["userId","batchId"];var Fa=(Va.prefixForUser=function(t){return[t]},Va.prefixForPath=function(t,e){return[t,Ca(e)]},Va.key=function(t,e,n){return[t,Ca(e),n]},Va);function Va(){}Fa.store="documentMutations",Fa.PLACEHOLDER=new Fa;function Ua(t,e){this.path=t,this.readTime=e}function qa(t,e){this.path=t,this.version=e}var Ba=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ba.store="remoteDocuments",Ba.readTimeIndex="readTimeIndex",Ba.readTimeIndexPath="readTime",Ba.collectionReadTimeIndex="collectionReadTimeIndex",Ba.collectionReadTimeIndexPath=["parentPath","readTime"];function ja(t){this.byteSize=t}ja.store="remoteDocumentGlobal",ja.key="remoteDocumentGlobalKey";function Ka(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}Ka.store="targets",Ka.keyPath="targetId",Ka.queryTargetsIndexName="queryTargetsIndex",Ka.queryTargetsKeyPath=["canonicalId","targetId"];var Ga=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ga.store="targetDocuments",Ga.keyPath=["targetId","path"],Ga.documentTargetsIndex="documentTargetsIndex",Ga.documentTargetsKeyPath=["path","targetId"];function Qa(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}Qa.key="targetGlobalKey",Qa.store="targetGlobal";function za(t,e){this.collectionId=t,this.parent=e}za.store="collectionParents",za.keyPath=["collectionId","parent"];function Ha(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}Ha.store="clientMetadata",Ha.keyPath="clientId";function Wa(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}Wa.store="bundles",Wa.keyPath="bundleId";function Ya(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}Ya.store="namedQueries",Ya.keyPath="name";var Xa,Ja=s(s([],s(s([],s(s([],s(s([],[Pa.store,Ma.store,Fa.store,Ba.store,Ka.store,Oa.store,Qa.store,Ga.store]),[Ha.store])),[ja.store])),[za.store])),[Wa.store,Ya.store]),$a="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Te=(hu.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},hu.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},hu),Za=function(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})},tu=(cu.prototype.catch=function(t){return this.next(void 0,t)},cu.prototype.next=function(r,i){var o=this;return this.callbackAttached&&Mr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new cu(function(e,n){o.nextCallback=function(t){o.wrapSuccess(r,t).next(e,n)},o.catchCallback=function(t){o.wrapFailure(i,t).next(e,n)}})},cu.prototype.toPromise=function(){var n=this;return new Promise(function(t,e){n.next(t,e)})},cu.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof cu?e:cu.resolve(e)}catch(t){return cu.reject(t)}},cu.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):cu.resolve(e)},cu.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):cu.reject(e)},cu.resolve=function(n){return new cu(function(t,e){t(n)})},cu.reject=function(n){return new cu(function(t,e){e(n)})},cu.waitFor=function(t){return new cu(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(t){return n(t)})}),o=!0,i===r&&e()})},cu.or=function(t){for(var n=cu.resolve(!1),e=0,r=t;e<r.length;e++)!function(e){n=n.next(function(t){return t?cu.resolve(t):e()})}(r[e]);return n},cu.forEach=function(t,n){var r=this,i=[];return t.forEach(function(t,e){i.push(n.call(r,t,e))}),this.waitFor(i)},cu),eu=(uu.open=function(t,e,n,r){try{return new uu(e,t.transaction(r,n))}catch(t){throw new iu(e,t)}},Object.defineProperty(uu.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),uu.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(xr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},uu.prototype.store=function(t){t=this.transaction.objectStore(t);return new fu(t)},uu),nu=(au.delete=function(t){return xr("SimpleDb","Removing database:",t),pu(window.indexedDB.deleteDatabase(t)).toPromise()},au.yt=function(){if("undefined"==typeof indexedDB)return!1;if(au.gt())return!0;var t=h(),e=au._t(t),n=0<e&&e<10,e=au.Et(t),e=0<e&&e<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||n||e)},au.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},au.It=function(t,e){return t.store(e)},au._t=function(t){t=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),t=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(t)},au.Et=function(t){t=t.match(/Android ([\d.]+)/i),t=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(t)},au.prototype.At=function(o){return y(this,void 0,void 0,function(){var e,i=this;return g(this,function(t){switch(t.label){case 0:return this.db?[3,2]:(xr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,n){var r=indexedDB.open(i.name,i.version);r.onsuccess=function(t){t=t.target.result;e(t)},r.onblocked=function(){n(new iu(o,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){t=t.target.error;"VersionError"===t.name?n(new Ar(Dr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new iu(o,t))},r.onupgradeneeded=function(t){xr("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;i.wt.Rt(e,r.transaction,t.oldVersion,i.version).next(function(){xr("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:e.db=t.sent(),t.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return i.bt(t)}),this.db)]}})})},au.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},au.prototype.runTransaction=function(a,n,u,c){return y(this,void 0,void 0,function(){var i,o,s,e;return g(this,function(t){switch(t.label){case 0:i="readonly"===n,o=0,e=function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:++o,t.label=1;case 1:return t.trys.push([1,4,,5]),[4,s.At(a)];case 2:return s.db=t.sent(),e=eu.open(s.db,a,i?"readonly":"readwrite",u),n=c(e).catch(function(t){return e.abort(t),tu.reject(t)}).toPromise(),r={},n.catch(function(){}),[4,e.dt];case 3:return[2,(r.value=(t.sent(),n),r)];case 4:return n=t.sent(),r="FirebaseError"!==n.name&&o<3,xr("SimpleDb","Transaction failed with error:",n.message,"Retrying:",r),s.close(),r?[3,5]:[2,{value:Promise.reject(n)}];case 5:return[2]}})},s=this,t.label=1;case 1:return[5,e()];case 2:if("object"==typeof(e=t.sent()))return[2,e.value];t.label=3;case 3:return[3,1];case 4:return[2]}})})},au.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},au),ru=(Object.defineProperty(su.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(su.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(su.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),su.prototype.done=function(){this.Vt=!0},su.prototype.Ct=function(t){this.St=t},su.prototype.delete=function(){return pu(this.Pt.delete())},su),iu=(n(ou,Xa=Ar),ou);function ou(t,e){var n=this;return(n=Xa.call(this,Dr.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+e)||this).name="IndexedDbTransactionError",n}function su(t){this.Pt=t,this.Vt=!1,this.St=null}function au(t,e,n){this.name=t,this.version=e,this.wt=n,12.2===au._t(h())&&Or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function uu(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Za,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new iu(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){t=gu(t.target.error);n.ft.reject(new iu(e,t))}}function cu(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}function hu(){this.onCommittedListeners=[]}function lu(t){return"IndexedDbTransactionError"===t.name}var fu=(du.prototype.put=function(t,e){t=void 0!==e?(xr("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(xr("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t));return pu(t)},du.prototype.add=function(t){return xr("SimpleDb","ADD",this.store.name,t,t),pu(this.store.add(t))},du.prototype.get=function(e){var n=this;return pu(this.store.get(e)).next(function(t){return void 0===t&&(t=null),xr("SimpleDb","GET",n.store.name,e,t),t})},du.prototype.delete=function(t){return xr("SimpleDb","DELETE",this.store.name,t),pu(this.store.delete(t))},du.prototype.count=function(){return xr("SimpleDb","COUNT",this.store.name),pu(this.store.count())},du.prototype.Nt=function(t,e){var e=this.cursor(this.options(t,e)),n=[];return this.xt(e,function(t,e){n.push(e)}).next(function(){return n})},du.prototype.Ft=function(t,e){xr("SimpleDb","DELETE ALL",this.store.name);e=this.options(t,e);e.kt=!1;e=this.cursor(e);return this.xt(e,function(t,e,n){return n.delete()})},du.prototype.Ot=function(t,e){e?n=t:(n={},e=t);var n=this.cursor(n);return this.xt(n,e)},du.prototype.$t=function(r){var t=this.cursor({});return new tu(function(n,e){t.onerror=function(t){t=gu(t.target.error);e(t)},t.onsuccess=function(t){var e=t.target.result;e?r(e.primaryKey,e.value).next(function(t){t?e.continue():n()}):n()}})},du.prototype.xt=function(t,i){var o=[];return new tu(function(r,e){t.onerror=function(t){e(t.target.error)},t.onsuccess=function(t){var e,n=t.target.result;n?(e=new ru(n),(t=i(n.primaryKey,n.value,e))instanceof tu&&(t=t.catch(function(t){return e.done(),tu.reject(t)}),o.push(t)),e.isDone?r():null===e.Dt?n.continue():n.continue(e.Dt)):r()}}).next(function(){return tu.waitFor(o)})},du.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},du.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},du);function du(t){this.store=t}function pu(t){return new tu(function(e,n){t.onsuccess=function(t){t=t.target.result;e(t)},t.onerror=function(t){t=gu(t.target.error);n(t)}})}var yu=!1;function gu(t){var e=nu._t(h());if(12.2<=e&&e<13){e="An internal error was encountered in the Indexed Database server";if(0<=t.message.indexOf(e)){var n=new Ar("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return yu||(yu=!0,setTimeout(function(){throw n},0)),n}}return t}var mu,vu=(n(bu,mu=Te),bu);function bu(t,e){var n=this;return(n=mu.call(this)||this).Mt=t,n.currentSequenceNumber=e,n}function wu(t,e){return nu.It(t.Mt,e)}var Iu=(Du.prototype.applyToRemoteDocument=function(t,e){for(var n,r,i,o,s,a,u=e.mutationResults,c=0;c<this.mutations.length;c++){var h=this.mutations[c];h.key.isEqual(t.key)&&(n=h,r=t,i=u[c],h=a=s=o=void 0,n instanceof cs?(s=r,a=i,h=(o=n).value.clone(),o=ps(o.fieldTransforms,s,a.transformResults),h.setAll(o),s.convertToFoundDocument(a.version,h).setHasCommittedMutations()):n instanceof hs?(o=r,s=i,rs((a=n).precondition,o)?(h=ps(a.fieldTransforms,o,s.transformResults),(n=o.data).setAll(ds(a)),n.setAll(h),o.convertToFoundDocument(s.version,n).setHasCommittedMutations()):o.convertToUnknownDocument(s.version)):r.convertToNoDocument(i.version).setHasCommittedMutations())}},Du.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(r=n[e]).key.isEqual(t.key)&&is(r,t,this.localWriteTime);for(var r,i=0,o=this.mutations;i<o.length;i++)(r=o[i]).key.isEqual(t.key)&&is(r,t,this.localWriteTime)},Du.prototype.applyToLocalDocumentSet=function(n){var r=this;this.mutations.forEach(function(t){var e=n.get(t.key),t=e;r.applyToLocalView(t),e.isValidDocument()||t.convertToNoDocument(Gr.min())})},Du.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Bs())},Du.prototype.isEqual=function(t){return this.batchId===t.batchId&&Br(this.mutations,t.mutations,os)&&Br(this.baseMutations,t.baseMutations,os)},Du),Eu=(Nu.from=function(t,e,n){Fr(t.mutations.length===n.length);for(var r=Us,i=t.mutations,o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Nu(t,e,n,r)},Nu),Tu=(Su.prototype.withSequenceNumber=function(t){return new Su(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Su.prototype.withResumeToken=function(t,e){return new Su(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Su.prototype.withLastLimboFreeSnapshotVersion=function(t){return new Su(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},Su),_u=function(t){this.Lt=t};function Su(t,e,n,r,i,o,s){void 0===i&&(i=Gr.min()),void 0===o&&(o=Gr.min()),void 0===s&&(s=ni.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}function Nu(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}function Du(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}function Au(t,e){if(e.document)return ma(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=mi.fromSegments(e.noDocument.path),r=Ou(e.noDocument.readTime),n=Oi.newNoDocument(n,r);return e.hasCommittedMutations?n.setHasCommittedMutations():n}if(e.unknownDocument){n=mi.fromSegments(e.unknownDocument.path),r=Ou(e.unknownDocument.version);return Oi.newUnknownDocument(n,r)}return Mr()}function ku(t,e,n){var r=Cu(n),n=e.key.path.popLast().toArray();if(e.isFoundDocument()){var i={name:ha(o=t.Lt,(s=e).key),fields:s.data.toProto().mapValue.fields,updateTime:oa(o,s.version.toTimestamp())},o=e.hasCommittedMutations;return new Ba(null,null,i,o,r,n)}if(e.isNoDocument()){var s=e.key.path.toArray(),i=xu(e.version),o=e.hasCommittedMutations;return new Ba(null,new Ua(s,i),null,o,r,n)}if(e.isUnknownDocument()){o=e.key.path.toArray(),e=xu(e.version);return new Ba(new qa(o,e),null,null,!0,r,n)}return Mr()}function Cu(t){t=t.toTimestamp();return[t.seconds,t.nanoseconds]}function Ru(t){t=new Kr(t[0],t[1]);return Gr.fromTimestamp(t)}function xu(t){t=t.toTimestamp();return new La(t.seconds,t.nanoseconds)}function Ou(t){t=new Kr(t.seconds,t.nanoseconds);return Gr.fromTimestamp(t)}function Lu(e,t){for(var n=(t.baseMutations||[]).map(function(t){return ba(e.Lt,t)}),r=0;r<t.mutations.length-1;++r){var i,o=t.mutations[r];r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(i=t.mutations[r+1],o.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(r+1,1),++r)}var s=t.mutations.map(function(t){return ba(e.Lt,t)}),a=Kr.fromMillis(t.localWriteTimeMs);return new Iu(t.batchId,a,n,s)}function Pu(t){var e=Ou(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Ou(t.lastLimboFreeSnapshotVersion):Gr.min(),r=void 0!==t.query.documents?(Fr(1===(r=t.query).documents.length),No(bo(da(r.documents[0])))):No(Ea(t.query));return new Tu(r,t.targetId,0,t.lastListenSequenceNumber,e,n,ni.fromBase64String(t.resumeToken))}function Mu(t,e){var n=xu(e.snapshotVersion),r=xu(e.lastLimboFreeSnapshotVersion),i=(Ui(e.target)?wa:Ia)(t.Lt,e.target),t=e.resumeToken.toBase64();return new Ka(e.targetId,Fi(e.target),n,t,e.sequenceNumber,r,i)}function Fu(t){var e=Ea({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Do(e,e.limit,"L"):e}var Vu=(Uu.prototype.getBundleMetadata=function(t,e){return qu(t).get(e).next(function(t){if(t)return{id:(t=t).bundleId,createTime:Ou(t.createTime),version:t.version}})},Uu.prototype.saveBundleMetadata=function(t,e){return qu(t).put({bundleId:(e=e).id,createTime:xu(aa(e.createTime)),version:e.version})},Uu.prototype.getNamedQuery=function(t,e){return Bu(t).get(e).next(function(t){if(t)return{name:(t=t).name,query:Fu(t.bundledQuery),readTime:Ou(t.readTime)}})},Uu.prototype.saveNamedQuery=function(t,e){return Bu(t).put({name:(e=e).name,readTime:xu(aa(e.readTime)),bundledQuery:e.bundledQuery})},Uu);function Uu(){}function qu(t){return wu(t,Wa.store)}function Bu(t){return wu(t,Ya.store)}var ju=(Hu.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),tu.resolve()},Hu.prototype.getCollectionParents=function(t,e){return tu.resolve(this.Bt.getEntries(e))},Hu),Ku=(zu.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Os($r.comparator),t=!r.has(n);return this.index[e]=r.add(n),t},zu.prototype.has=function(t){var e=t.lastSegment(),t=t.popLast(),e=this.index[e];return e&&e.has(t)},zu.prototype.getEntries=function(t){return(this.index[t]||new Os($r.comparator)).toArray()},zu),Gu=(Qu.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(this.qt.has(e))return tu.resolve();var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});i={collectionId:r,parent:Ca(i)};return Wu(t).put(i)},Qu.prototype.getCollectionParents=function(t,i){var o=[],e=IDBKeyRange.bound([i,""],[jr(i),""],!1,!0);return Wu(t).Nt(e).next(function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.collectionId!==i)break;o.push(xa(r.parent))}return o})},Qu);function Qu(){this.qt=new Ku}function zu(){this.index={}}function Hu(){this.Bt=new Ku}function Wu(t){return wu(t,za.store)}var Yu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xu=(Ju.withCacheSize=function(t){return new Ju(t,Ju.DEFAULT_COLLECTION_PERCENTILE,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},Ju);function Ju(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}function $u(t,e,n){var r=t.store(Ma.store),i=t.store(Fa.store),o=[],t=IDBKeyRange.only(n.batchId),s=0,t=r.Ot({range:t},function(t,e,n){return s++,n.delete()});o.push(t.next(function(){Fr(1===s)}));for(var a=[],u=0,c=n.mutations;u<c.length;u++){var h=c[u],l=Fa.key(e,h.key.path,n.batchId);o.push(i.delete(l)),a.push(h.key)}return tu.waitFor(o).next(function(){return a})}function Zu(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Mr();e=t.noDocument}return JSON.stringify(e).length}Xu.DEFAULT_COLLECTION_PERCENTILE=10,Xu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xu.DEFAULT=new Xu(41943040,Xu.DEFAULT_COLLECTION_PERCENTILE,Xu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xu.DISABLED=new Xu(-1,0,0);var tc=(ec.Kt=function(t,e,n,r){return Fr(""!==t.uid),new ec(t.isAuthenticated()?t.uid:"",e,n,r)},ec.prototype.checkEmpty=function(t){var r=!0,e=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rc(t).Ot({index:Ma.userMutationsIndex,range:e},function(t,e,n){r=!1,n.done()}).next(function(){return r})},ec.prototype.addMutationBatch=function(p,y,g,m){var v=this,b=ic(p),w=rc(p);return w.add({}).next(function(t){Fr("number"==typeof t);for(var e,n,r,i,o,s=new Iu(t,y,g,m),a=(e=v.R,n=v.userId,i=(r=s).baseMutations.map(function(t){return va(e.Lt,t)}),o=r.mutations.map(function(t){return va(e.Lt,t)}),new Ma(n,r.batchId,r.localWriteTime.toMillis(),i,o)),u=[],c=new Os(function(t,e){return qr(t.canonicalString(),e.canonicalString())}),h=0,l=m;h<l.length;h++){var f=l[h],d=Fa.key(v.userId,f.key.path,t),c=c.add(f.key.path.popLast());u.push(w.put(a)),u.push(b.put(d,Fa.PLACEHOLDER))}return c.forEach(function(t){u.push(v.Ut.addToCollectionParentIndex(p,t))}),p.addOnCommittedListener(function(){v.Qt[t]=s.keys()}),tu.waitFor(u).next(function(){return s})})},ec.prototype.lookupMutationBatch=function(t,e){var n=this;return rc(t).get(e).next(function(t){return t?(Fr(t.userId===n.userId),Lu(n.R,t)):null})},ec.prototype.jt=function(t,e){var n=this;return this.Qt[e]?tu.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){t=t.keys();return n.Qt[e]=t}return null})},ec.prototype.getNextMutationBatchAfterBatchId=function(t,e){var r=this,i=e+1,e=IDBKeyRange.lowerBound([this.userId,i]),o=null;return rc(t).Ot({index:Ma.userMutationsIndex,range:e},function(t,e,n){e.userId===r.userId&&(Fr(e.batchId>=i),o=Lu(r.R,e)),n.done()}).next(function(){return o})},ec.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return rc(t).Ot({index:Ma.userMutationsIndex,range:e,reverse:!0},function(t,e,n){r=e.batchId,n.done()}).next(function(){return r})},ec.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rc(t).Nt(Ma.userMutationsIndex,n).next(function(t){return t.map(function(t){return Lu(e.R,t)})})},ec.prototype.getAllMutationBatchesAffectingDocumentKey=function(o,s){var a=this,t=Fa.prefixForPath(this.userId,s.path),t=IDBKeyRange.lowerBound(t),u=[];return ic(o).Ot({range:t},function(t,e,n){var r=t[0],i=t[1],t=t[2],i=xa(i);if(r===a.userId&&s.path.isEqual(i))return rc(o).get(t).next(function(t){if(!t)throw Mr();Fr(t.userId===a.userId),u.push(Lu(a.R,t))});n.done()}).next(function(){return u})},ec.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var s=this,a=new Os(qr),n=[];return t.forEach(function(o){var t=Fa.prefixForPath(s.userId,o.path),t=IDBKeyRange.lowerBound(t),t=ic(e).Ot({range:t},function(t,e,n){var r=t[0],i=t[1],t=t[2],i=xa(i);r===s.userId&&o.path.isEqual(i)?a=a.add(t):n.done()});n.push(t)}),tu.waitFor(n).next(function(){return s.Wt(e,a)})},ec.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var o=this,s=e.path,a=s.length+1,e=Fa.prefixForPath(this.userId,s),e=IDBKeyRange.lowerBound(e),u=new Os(qr);return ic(t).Ot({range:e},function(t,e,n){var r=t[0],i=t[1],t=t[2],i=xa(i);r===o.userId&&s.isPrefixOf(i)?i.length===a&&(u=u.add(t)):n.done()}).next(function(){return o.Wt(t,u)})},ec.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(rc(e).get(t).next(function(t){if(null===t)throw Mr();Fr(t.userId===n.userId),r.push(Lu(n.R,t))}))}),tu.waitFor(i).next(function(){return r})},ec.prototype.removeMutationBatch=function(e,n){var r=this;return $u(e.Mt,this.userId,n).next(function(t){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),tu.forEach(t,function(t){return r.referenceDelegate.markPotentiallyOrphaned(e,t)})})},ec.prototype.Gt=function(t){delete this.Qt[t]},ec.prototype.performConsistencyCheck=function(e){var i=this;return this.checkEmpty(e).next(function(t){if(!t)return tu.resolve();var t=IDBKeyRange.lowerBound(Fa.prefixForUser(i.userId)),r=[];return ic(e).Ot({range:t},function(t,e,n){t[0]===i.userId?(t=xa(t[1]),r.push(t)):n.done()}).next(function(){Fr(0===r.length)})})},ec.prototype.containsKey=function(t,e){return nc(t,this.userId,e)},ec.prototype.zt=function(t){var e=this;return oc(t).get(this.userId).next(function(t){return t||new Pa(e.userId,-1,"")})},ec);function ec(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}function nc(t,o,e){var e=Fa.prefixForPath(o,e.path),s=e[1],e=IDBKeyRange.lowerBound(e),a=!1;return ic(t).Ot({range:e,kt:!0},function(t,e,n){var r=t[0],i=t[1];t[2],r===o&&i===s&&(a=!0),n.done()}).next(function(){return a})}function rc(t){return wu(t,Ma.store)}function ic(t){return wu(t,Fa.store)}function oc(t){return wu(t,Pa.store)}var sc=(cc.prototype.next=function(){return this.Ht+=2,this.Ht},cc.Jt=function(){return new cc(0)},cc.Yt=function(){return new cc(-1)},cc),ac=(uc.prototype.allocateTargetId=function(n){var r=this;return this.Xt(n).next(function(t){var e=new sc(t.highestTargetId);return t.highestTargetId=e.next(),r.Zt(n,t).next(function(){return t.highestTargetId})})},uc.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Gr.fromTimestamp(new Kr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},uc.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},uc.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.Xt(e).next(function(t){return t.highestListenSequenceNumber=n,r&&(t.lastRemoteSnapshotVersion=r.toTimestamp()),n>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=n),i.Zt(e,t)})},uc.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(t){return t.targetCount+=1,r.ee(n,t),r.Zt(e,t)})})},uc.prototype.updateTargetData=function(t,e){return this.te(t,e)},uc.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return hc(e).delete(t.targetId)}).next(function(){return n.Xt(e)}).next(function(t){return Fr(0<t.targetCount),--t.targetCount,n.Zt(e,t)})},uc.prototype.removeTargets=function(n,r,i){var o=this,s=0,a=[];return hc(n).Ot(function(t,e){e=Pu(e);e.sequenceNumber<=r&&null===i.get(e.targetId)&&(s++,a.push(o.removeTargetData(n,e)))}).next(function(){return tu.waitFor(a)}).next(function(){return s})},uc.prototype.forEachTarget=function(t,n){return hc(t).Ot(function(t,e){e=Pu(e);n(e)})},uc.prototype.Xt=function(t){return lc(t).get(Qa.key).next(function(t){return Fr(null!==t),t})},uc.prototype.Zt=function(t,e){return lc(t).put(Qa.key,e)},uc.prototype.te=function(t,e){return hc(t).put(Mu(this.R,e))},uc.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},uc.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},uc.prototype.getTargetData=function(t,r){var e=Fi(r),e=IDBKeyRange.bound([e,Number.NEGATIVE_INFINITY],[e,Number.POSITIVE_INFINITY]),i=null;return hc(t).Ot({range:e,index:Ka.queryTargetsIndexName},function(t,e,n){e=Pu(e);Vi(r,e.target)&&(i=e,n.done())}).next(function(){return i})},uc.prototype.addMatchingKeys=function(n,t,r){var i=this,o=[],s=fc(n);return t.forEach(function(t){var e=Ca(t.path);o.push(s.put(new Ga(r,e))),o.push(i.referenceDelegate.addReference(n,r,t))}),tu.waitFor(o)},uc.prototype.removeMatchingKeys=function(n,t,r){var i=this,o=fc(n);return tu.forEach(t,function(t){var e=Ca(t.path);return tu.waitFor([o.delete([r,e]),i.referenceDelegate.removeReference(n,r,t)])})},uc.prototype.removeMatchingKeysForTargetId=function(t,e){t=fc(t),e=IDBKeyRange.bound([e],[e+1],!1,!0);return t.delete(e)},uc.prototype.getMatchingKeysForTargetId=function(t,e){var e=IDBKeyRange.bound([e],[e+1],!1,!0),t=fc(t),r=Bs();return t.Ot({range:e,kt:!0},function(t,e,n){t=xa(t[1]),t=new mi(t);r=r.add(t)}).next(function(){return r})},uc.prototype.containsKey=function(t,e){var e=Ca(e.path),e=IDBKeyRange.bound([e],[jr(e)],!1,!0),i=0;return fc(t).Ot({index:Ga.documentTargetsIndex,kt:!0,range:e},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return 0<i})},uc.prototype.lt=function(t,e){return hc(t).get(e).next(function(t){return t?Pu(t):null})},uc);function uc(t,e){this.referenceDelegate=t,this.R=e}function cc(t){this.Ht=t}function hc(t){return wu(t,Ka.store)}function lc(t){return wu(t,Qa.store)}function fc(t){return wu(t,Ga.store)}function dc(e){return y(this,void 0,void 0,function(){return g(this,function(t){if(e.code!==Dr.FAILED_PRECONDITION||e.message!==$a)throw e;return xr("LocalStore","Unexpectedly lost primary lease"),[2]})})}function pc(t,e){var n=t[0],r=t[1],t=e[0],e=e[1],t=qr(n,t);return 0===t?qr(r,e):t}var yc=(Ec.prototype.ie=function(){return++this.se},Ec.prototype.re=function(t){var e=[t,this.ie()];this.buffer.size<this.ne?this.buffer=this.buffer.add(e):pc(e,t=this.buffer.last())<0&&(this.buffer=this.buffer.delete(t).add(e))},Object.defineProperty(Ec.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),Ec),gc=(Ic.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},Ic.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(Ic.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),Ic.prototype.ue=function(n){var t=this,e=this.oe?3e5:6e4;xr("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:this.ce=null,this.oe=!0,t.label=1;case 1:return t.trys.push([1,3,,7]),[4,n.collectGarbage(this.garbageCollector)];case 2:return t.sent(),[3,7];case 3:return lu(e=t.sent())?(xr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,dc(e)];case 5:t.sent(),t.label=6;case 6:return[3,7];case 7:return[4,this.ue(n)];case 8:return t.sent(),[2]}})})})},Ic),mc=(wc.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},wc.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return tu.resolve(_r.o);var r=new yc(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},wc.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},wc.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},wc.prototype.collect=function(e,n){var r=this;return-1===this.params.cacheSizeCollectionThreshold?(xr("LruGarbageCollector","Garbage collection skipped; disabled"),tu.resolve(Yu)):this.getCacheSize(e).next(function(t){return t<r.params.cacheSizeCollectionThreshold?(xr("LruGarbageCollector","Garbage collection skipped; Cache size "+t+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),Yu):r.fe(e,n)})},wc.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},wc.prototype.fe=function(e,n){var r,i,o,s,a,u,c,h=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return i=t>h.params.maximumSequenceNumbersToCollect?(xr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.maximumSequenceNumbersToCollect+" from "+t),h.params.maximumSequenceNumbersToCollect):t,s=Date.now(),h.nthSequenceNumber(e,i)}).next(function(t){return r=t,a=Date.now(),h.removeTargets(e,r,n)}).next(function(t){return o=t,u=Date.now(),h.removeOrphanedDocuments(e,r)}).next(function(t){return c=Date.now(),Rr()<=f.DEBUG&&xr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+i+" in "+(a-s)+"ms\n\tRemoved "+o+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-l)+"ms"),tu.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:t})})},wc),vc=(bc.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(e){return n.next(function(t){return e+t})})},bc.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},bc.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},bc.prototype.le=function(t,n){return this.we(t,function(t,e){return n(e)})},bc.prototype.addReference=function(t,e,n){return Tc(t,n)},bc.prototype.removeReference=function(t,e,n){return Tc(t,n)},bc.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},bc.prototype.markPotentiallyOrphaned=Tc,bc.prototype._e=function(t,e){return r=e,i=!1,oc(n=t).$t(function(t){return nc(n,t,r).next(function(t){return t&&(i=!0),tu.resolve(!t)})}).next(function(){return i});var n,r,i},bc.prototype.removeOrphanedDocuments=function(n,r){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(n,function(e,t){t<=r&&(t=i._e(n,e).next(function(t){if(!t)return a++,o.getEntry(n,e).next(function(){return o.removeEntry(e),fc(n).delete([0,Ca(e.path)])})}),s.push(t))}).next(function(){return tu.waitFor(s)}).next(function(){return o.apply(n)}).next(function(){return a})},bc.prototype.removeTarget=function(t,e){e=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,e)},bc.prototype.updateLimboDocument=Tc,bc.prototype.we=function(t,r){var i,t=fc(t),o=_r.o;return t.Ot({index:Ga.documentTargetsIndex},function(t,e){var n=t[0],t=(t[1],e.path),e=e.sequenceNumber;0===n?(o!==_r.o&&r(new mi(xa(i)),o),o=e,i=t):o=_r.o}).next(function(){o!==_r.o&&r(new mi(xa(i)),o)})},bc.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},bc);function bc(t,e){this.db=t,this.garbageCollector=new mc(this,e)}function wc(t,e){this.ae=t,this.params=e}function Ic(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}function Ec(t){this.ne=t,this.buffer=new Os(pc),this.se=0}function Tc(t,e){return fc(t).put((t=t.currentSequenceNumber,new Ga(0,Ca(e.path),t)))}var _c,Sc=(Rc.prototype.get=function(t){var e=this.mapKeyFn(t),e=this.inner[e];if(void 0!==e)for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],i=i[1];if(this.equalsFn(o,t))return i}},Rc.prototype.has=function(t){return void 0!==this.get(t)},Rc.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},Rc.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},Rc.prototype.forEach=function(s){Wr(this.inner,function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],i=i[1];s(o,i)}})},Rc.prototype.isEmpty=function(){return Yr(this.inner)},Rc),I=(Cc.prototype.getReadTime=function(t){t=this.changes.get(t);return t?t.readTime:Gr.min()},Cc.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},Cc.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Oi.newInvalidDocument(t),readTime:e})},Cc.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?tu.resolve(n.document):this.getFromCache(t,e)},Cc.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},Cc.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},Cc.prototype.assertNotApplied=function(){},Cc),Nc=(kc.prototype.addEntry=function(t,e,n){return Oc(t).put(Lc(e),n)},kc.prototype.removeEntry=function(t,e){t=Oc(t),e=Lc(e);return t.delete(e)},kc.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(t){return t.byteSize+=n,r.me(e,t)})},kc.prototype.getEntry=function(t,e){var n=this;return Oc(t).get(Lc(e)).next(function(t){return n.ye(e,t)})},kc.prototype.ge=function(t,e){var n=this;return Oc(t).get(Lc(e)).next(function(t){return{document:n.ye(e,t),size:Zu(t)}})},kc.prototype.getEntries=function(t,e){var n=this,r=Ps;return this.pe(t,e,function(t,e){e=n.ye(t,e);r=r.insert(t,e)}).next(function(){return r})},kc.prototype.Ee=function(t,e){var r=this,i=Ps,o=new Ns(mi.comparator);return this.pe(t,e,function(t,e){var n=r.ye(t,e);i=i.insert(t,n),o=o.insert(t,Zu(e))}).next(function(){return{documents:i,Te:o}})},kc.prototype.pe=function(t,e,i){if(e.isEmpty())return tu.resolve();var n=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),o=e.getIterator(),s=o.getNext();return Oc(t).Ot({range:n},function(t,e,n){for(var r=mi.fromSegments(t);s&&mi.comparator(s,r)<0;)i(s,null),s=o.getNext();s&&s.isEqual(r)&&(i(s,e),s=o.hasNext()?o.getNext():null),s?n.Ct(s.path.toArray()):n.done()}).next(function(){for(;s;)i(s,null),s=o.hasNext()?o.getNext():null})},kc.prototype.getDocumentsMatchingQuery=function(t,r,e){var n,i=this,o=Ps,s=r.path.length+1,a={};return e.isEqual(Gr.min())?(n=r.path.toArray(),a.range=IDBKeyRange.lowerBound(n)):(n=r.path.toArray(),e=Cu(e),a.range=IDBKeyRange.lowerBound([n,e],!0),a.index=Ba.collectionReadTimeIndex),Oc(t).Ot(a,function(t,e,n){t.length===s&&(e=Au(i.R,e),r.path.isPrefixOf(e.key.path)?Ro(r,e)&&(o=o.insert(e.key,e)):n.done())}).next(function(){return o})},kc.prototype.newChangeBuffer=function(t){return new Dc(this,!!t&&t.trackRemovals)},kc.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},kc.prototype.getMetadata=function(t){return xc(t).get(ja.key).next(function(t){return Fr(!!t),t})},kc.prototype.me=function(t,e){return xc(t).put(ja.key,e)},kc.prototype.ye=function(t,e){if(e){e=Au(this.R,e);if(!e.isNoDocument()||!e.version.isEqual(Gr.min()))return e}return Oi.newInvalidDocument(t)},kc),Dc=(n(Ac,_c=I),Ac.prototype.applyChanges=function(i){var o=this,s=[],a=0,u=new Os(function(t,e){return qr(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(t,e){var n,r=o.Ae.get(t);e.document.isValidDocument()?(n=ku(o.Ie.R,e.document,o.getReadTime(t)),u=u.add(t.path.popLast()),e=Zu(n),a+=e-r,s.push(o.Ie.addEntry(i,t,n))):(a-=r,o.trackRemovals?(r=ku(o.Ie.R,Oi.newNoDocument(t,Gr.min()),o.getReadTime(t)),s.push(o.Ie.addEntry(i,t,r))):s.push(o.Ie.removeEntry(i,t)))}),u.forEach(function(t){s.push(o.Ie.Ut.addToCollectionParentIndex(i,t))}),s.push(this.Ie.updateMetadata(i,a)),tu.waitFor(s)},Ac.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},Ac.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},Ac);function Ac(t,e){var n=this;return(n=_c.call(this)||this).Ie=t,n.trackRemovals=e,n.Ae=new Sc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),n}function kc(t,e){this.R=t,this.Ut=e}function Cc(){this.changes=new Sc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}function Rc(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}function xc(t){return wu(t,ja.store)}function Oc(t){return wu(t,Ba.store)}function Lc(t){return t.path.toArray()}var Pc=(Mc.prototype.Rt=function(e,n,t,r){var i=this;Fr(t<r&&0<=t&&r<=11);var o=new eu("createOrUpgrade",n);t<1&&1<=r&&(e.createObjectStore(Oa.store),(s=e).createObjectStore(Pa.store,{keyPath:Pa.keyPath}),s.createObjectStore(Ma.store,{keyPath:Ma.keyPath,autoIncrement:!0}).createIndex(Ma.userMutationsIndex,Ma.userMutationsKeyPath,{unique:!0}),s.createObjectStore(Fa.store),Fc(e),e.createObjectStore(Ba.store));var s,a=tu.resolve();return t<3&&3<=r&&(0!==t&&((s=e).deleteObjectStore(Ga.store),s.deleteObjectStore(Ka.store),s.deleteObjectStore(Qa.store),Fc(e)),a=a.next(function(){return t=o.store(Qa.store),e=new Qa(0,0,Gr.min().toTimestamp(),0),t.put(Qa.key,e);var t,e})),t<4&&4<=r&&(a=(a=0!==t?a.next(function(){return n=e,(r=o).store(Ma.store).Nt().next(function(t){n.deleteObjectStore(Ma.store),n.createObjectStore(Ma.store,{keyPath:Ma.keyPath,autoIncrement:!0}).createIndex(Ma.userMutationsIndex,Ma.userMutationsKeyPath,{unique:!0});var e=r.store(Ma.store),t=t.map(function(t){return e.put(t)});return tu.waitFor(t)});var n,r}):a).next(function(){e.createObjectStore(Ha.store,{keyPath:Ha.keyPath})})),t<5&&5<=r&&(a=a.next(function(){return i.Re(o)})),t<6&&6<=r&&(a=a.next(function(){return e.createObjectStore(ja.store),i.be(o)})),t<7&&7<=r&&(a=a.next(function(){return i.ve(o)})),t<8&&8<=r&&(a=a.next(function(){return i.Pe(e,o)})),t<9&&9<=r&&(a=a.next(function(){var t;(t=e).objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges"),(t=n.objectStore(Ba.store)).createIndex(Ba.readTimeIndex,Ba.readTimeIndexPath,{unique:!1}),t.createIndex(Ba.collectionReadTimeIndex,Ba.collectionReadTimeIndexPath,{unique:!1})})),t<10&&10<=r&&(a=a.next(function(){return i.Ve(o)})),a=t<11&&11<=r?a.next(function(){e.createObjectStore(Wa.store,{keyPath:Wa.keyPath}),e.createObjectStore(Ya.store,{keyPath:Ya.keyPath})}):a},Mc.prototype.be=function(e){var n=0;return e.store(Ba.store).Ot(function(t,e){n+=Zu(e)}).next(function(){var t=new ja(n);return e.store(ja.store).put(ja.key,t)})},Mc.prototype.Re=function(n){var r=this,t=n.store(Pa.store),i=n.store(Ma.store);return t.Nt().next(function(t){return tu.forEach(t,function(e){var t=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return i.Nt(Ma.userMutationsIndex,t).next(function(t){return tu.forEach(t,function(t){Fr(t.userId===e.userId);t=Lu(r.R,t);return $u(n,e.userId,t).next(function(){})})})})})},Mc.prototype.ve=function(t){var o=t.store(Ga.store),e=t.store(Ba.store);return t.store(Qa.store).get(Qa.key).next(function(r){var i=[];return e.Ot(function(t,e){var n=new $r(t),t=[0,Ca(n)];i.push(o.get(t).next(function(t){return t?tu.resolve():o.put(new Ga(0,Ca(n),r.highestListenSequenceNumber))}))}).next(function(){return tu.waitFor(i)})})},Mc.prototype.Pe=function(t,e){t.createObjectStore(za.store,{keyPath:za.keyPath});function r(t){if(i.add(t)){var e=t.lastSegment(),t=t.popLast();return n.put({collectionId:e,parent:Ca(t)})}}var n=e.store(za.store),i=new Ku;return e.store(Ba.store).Ot({kt:!0},function(t,e){t=new $r(t);return r(t.popLast())}).next(function(){return e.store(Fa.store).Ot({kt:!0},function(t,e){t[0];var n=t[1],n=(t[2],xa(n));return r(n.popLast())})})},Mc.prototype.Ve=function(t){var n=this,r=t.store(Ka.store);return r.Ot(function(t,e){e=Pu(e),e=Mu(n.R,e);return r.put(e)})},Mc);function Mc(t){this.R=t}function Fc(t){t.createObjectStore(Ga.store,{keyPath:Ga.keyPath}).createIndex(Ga.documentTargetsIndex,Ga.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ka.store,{keyPath:Ka.keyPath}).createIndex(Ka.queryTargetsIndexName,Ka.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Qa.store)}var Vc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Uc=(qc.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ar(Dr.FAILED_PRECONDITION,Vc);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new _r(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},qc.prototype.He=function(n){var t=this;return this.Me=function(e){return y(t,void 0,void 0,function(){return g(this,function(t){return this.started?[2,n(e)]:[2]})})},n(this.isPrimary)},qc.prototype.setDatabaseDeletedListener=function(n){var t=this;this.Be.vt(function(e){return y(t,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return null===e.newVersion?[4,n()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},qc.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return y(e,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},qc.prototype.je=function(){var n=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return jc(e).put(new Ha(n.clientId,Date.now(),n.networkEnabled,n.inForeground)).next(function(){if(n.isPrimary)return n.Je(e).next(function(t){t||(n.isPrimary=!1,n.Se.enqueueRetryable(function(){return n.Me(!1)}))})}).next(function(){return n.Ye(e)}).next(function(t){return n.isPrimary&&!t?n.Xe(e).next(function(){return!1}):!!t&&n.Ze(e).next(function(){return!0})})}).catch(function(t){if(lu(t))return xr("IndexedDbPersistence","Failed to extend owner lease: ",t),n.isPrimary;if(!n.allowTabSynchronization)throw t;return xr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){n.isPrimary!==t&&n.Se.enqueueRetryable(function(){return n.Me(t)}),n.isPrimary=t})},qc.prototype.Je=function(t){var e=this;return Bc(t).get(Oa.key).next(function(t){return tu.resolve(e.tn(t))})},qc.prototype.en=function(t){return jc(t).delete(this.clientId)},qc.prototype.nn=function(){return y(this,void 0,void 0,function(){var e,n,r,i,o=this;return g(this,function(t){switch(t.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var r=wu(t,Ha.store);return r.Nt().next(function(t){var e=o.rn(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)});return tu.forEach(n,function(t){return r.delete(t.clientId)}).next(function(){return n})})}).catch(function(){return[]})]);case 1:if(e=t.sent(),this.Ke)for(n=0,r=e;n<r.length;n++)i=r[n],this.Ke.removeItem(this.on(i.clientId));t.label=2;case 2:return[2]}})})},qc.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},qc.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},qc.prototype.Ye=function(e){var r=this;return this.Ce?tu.resolve(!0):Bc(e).get(Oa.key).next(function(t){if(null!==t&&r.sn(t.leaseTimestampMs,5e3)&&!r.cn(t.ownerId)){if(r.tn(t)&&r.networkEnabled)return!0;if(!r.tn(t)){if(!t.allowTabSynchronization)throw new Ar(Dr.FAILED_PRECONDITION,Vc);return!1}}return!(!r.networkEnabled||!r.inForeground)||jc(e).Nt().next(function(t){return void 0===r.rn(t,5e3).find(function(t){if(r.clientId!==t.clientId){var e=!r.networkEnabled&&t.networkEnabled,n=!r.inForeground&&t.inForeground,t=r.networkEnabled===t.networkEnabled;if(e||n&&t)return!0}return!1})})}).next(function(t){return r.isPrimary!==t&&xr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},qc.prototype.shutdown=function(){return y(this,void 0,void 0,function(){var n=this;return g(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Oa.store,Ha.store],function(t){var e=new vu(t,_r.o);return n.Xe(e).next(function(){return n.en(e)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},qc.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},qc.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return jc(t).Nt().next(function(t){return e.rn(t,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(qc.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),qc.prototype.getMutationQueue=function(t){return tc.Kt(t,this.R,this.Ut,this.referenceDelegate)},qc.prototype.getTargetCache=function(){return this.qe},qc.prototype.getRemoteDocumentCache=function(){return this.Ue},qc.prototype.getIndexManager=function(){return this.Ut},qc.prototype.getBundleCache=function(){return this.Qe},qc.prototype.runTransaction=function(e,n,r){var i=this;xr("IndexedDbPersistence","Starting transaction:",e);var o,t="readonly"===n?"readonly":"readwrite";return this.Be.runTransaction(e,t,Ja,function(t){return o=new vu(t,i.Ne?i.Ne.next():_r.o),"readwrite-primary"===n?i.Je(o).next(function(t){return!!t||i.Ye(o)}).next(function(t){if(!t)throw Or("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Ar(Dr.FAILED_PRECONDITION,$a);return r(o)}).next(function(t){return i.Ze(o).next(function(){return t})}):i.dn(o).next(function(){return r(o)})}).then(function(t){return o.raiseOnCommittedEvent(),t})},qc.prototype.dn=function(t){var e=this;return Bc(t).get(Oa.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ar(Dr.FAILED_PRECONDITION,Vc)})},qc.prototype.Ze=function(t){var e=new Oa(this.clientId,this.allowTabSynchronization,Date.now());return Bc(t).put(Oa.key,e)},qc.yt=function(){return nu.yt()},qc.prototype.Xe=function(t){var e=this,n=Bc(t);return n.get(Oa.key).next(function(t){return e.tn(t)?(xr("IndexedDbPersistence","Releasing primary lease."),n.delete(Oa.key)):tu.resolve()})},qc.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Or("Detected an update time that is in the future: "+t+" > "+n),1))},qc.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},qc.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},qc.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},qc.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},qc.prototype.cn=function(t){try{var e=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return xr("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return Or("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},qc.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Or("Failed to set zombie client id.",t)}},qc.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},qc.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},qc);function qc(t,e,n,r,i,o,s,a,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Se=i,this.window=o,this.document=s,this.De=u,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!qc.yt())throw new Ar(Dr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vc(this,r),this.Le=e+"main",this.R=new _u(a),this.Be=new nu(this.Le,11,new Pc(this.R)),this.qe=new ac(this.referenceDelegate,this.R),this.Ut=new Gu,this.Ue=(e=this.R,a=this.Ut,new Nc(e,a)),this.Qe=new Vu,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===c&&Or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function Bc(t){return wu(t,Oa.store)}function jc(t){return wu(t,Ha.store)}function Kc(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}function Gc(t,e){this.progress=t,this.wn=e}var Qc=($c.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(t){return r.yn(e,n,t)})},$c.prototype.yn=function(t,e,r){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,n=r;e<n.length;e++)n[e].applyToLocalView(t);return t})},$c.prototype.gn=function(t,i){t.forEach(function(t,e){for(var n=0,r=i;n<r.length;n++)r[n].applyToLocalView(e)})},$c.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next(function(t){return n.En(e,t).next(function(){return t})})},$c.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},$c.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,mi.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):_o(e)?this.In(t,e,n):this.An(t,e,n);var r},$c.prototype.Tn=function(t,e){return this.mn(t,new mi(e)).next(function(t){var e=Vs;return e=t.isFoundDocument()?e.insert(t.key,t):e})},$c.prototype.In=function(n,r,i){var o=this,s=r.collectionGroup,a=Vs;return this.Ut.getCollectionParents(n,s).next(function(t){return tu.forEach(t,function(t){var e,e=(e=r,t=t.child(s),new mo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt));return o.An(n,e,i).next(function(t){t.forEach(function(t,e){a=a.insert(t,e)})})}).next(function(){return a})})},$c.prototype.An=function(e,n,t){var c,h,r=this;return this.Ue.getDocumentsMatchingQuery(e,n,t).next(function(t){return c=t,r._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(t){return h=t,r.Rn(e,h,c).next(function(t){c=t;for(var e=0,n=h;e<n.length;e++)for(var r=n[e],i=0,o=r.mutations;i<o.length;i++){var s=o[i],a=s.key,u=c.get(a);null==u&&(u=Oi.newInvalidDocument(a),c=c.insert(a,u)),is(s,u,r.localWriteTime),u.isFoundDocument()||(c=c.remove(a))}})}).next(function(){return c.forEach(function(t,e){Ro(n,e)||(c=c.remove(t))}),c})},$c.prototype.Rn=function(t,e,n){for(var r=Bs(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof hs&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},$c),zc=(Jc.Pn=function(t,e){for(var n=Bs(),r=Bs(),i=0,o=e.docChanges;i<o.length;i++){var s=o[i];switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}}return new Jc(t,e.fromCache,n,r)},Jc),Hc=(Xc.prototype.Vn=function(t){this.Sn=t},Xc.prototype.getDocumentsMatchingQuery=function(e,r,i,o){var s=this;return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())||i.isEqual(Gr.min())?this.Dn(e,r):this.Sn.pn(e,o).next(function(t){var n=s.Cn(r,t);return(wo(r)||Io(r))&&s.Nn(r.limitType,n,o,i)?s.Dn(e,r):(Rr()<=f.DEBUG&&xr("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Co(r)),s.Sn.getDocumentsMatchingQuery(e,r,i).next(function(e){return n.forEach(function(t){e=e.insert(t.key,t)}),e}))})},Xc.prototype.Cn=function(n,t){var r=new Os(xo(n));return t.forEach(function(t,e){Ro(n,e)&&(r=r.add(e))}),r},Xc.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;e="F"===t?e.last():e.first();return!!e&&(e.hasPendingWrites||0<e.version.compareTo(r))},Xc.prototype.Dn=function(t,e){return Rr()<=f.DEBUG&&xr("QueryEngine","Using full collection scan to execute query:",Co(e)),this.Sn.getDocumentsMatchingQuery(t,e,Gr.min())},Xc),Wc=(Yc.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(t){return e.collect(t,n.Fn)})},Yc);function Yc(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Ns(qr),this.kn=new Sc(Fi,Vi),this.On=Gr.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Qc(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}function Xc(){}function Jc(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}function $c(t,e,n){this.Ue=t,this._n=e,this.Ut=n}function Zc(t,e,n,r){return new Wc(t,e,n,r)}function th(i,o){return y(this,void 0,void 0,function(){var e,n,v,r;return g(this,function(t){switch(t.label){case 0:return n=(e=i)._n,v=e.Mn,[4,e.persistence.runTransaction("Handle user change","readonly",function(g){var m;return e._n.getAllMutationBatches(g).next(function(t){return m=t,n=e.persistence.getMutationQueue(o),v=new Qc(e.$n,n,e.persistence.getIndexManager()),n.getAllMutationBatches(g)}).next(function(t){for(var e=[],n=[],r=Bs(),i=0,o=m;i<o.length;i++){var s=o[i];e.push(s.batchId);for(var a=0,u=s.mutations;a<u.length;a++)var c=u[a],r=r.add(c.key)}for(var h=0,l=t;h<l.length;h++){var f=l[h];n.push(f.batchId);for(var d=0,p=f.mutations;d<p.length;d++){var y=p[d];r=r.add(y.key)}}return v.pn(g,r).next(function(t){return{Ln:t,removedBatchIds:e,addedBatchIds:n}})})})];case 1:return r=t.sent(),[2,(e._n=n,e.Mn=v,e.xn.Vn(e.Mn),r)]}})})}function eh(t,h){var l=t;return l.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var e,r,i,o,s,n,a,u=h.batch.keys(),c=l.$n.newChangeBuffer({trackRemovals:!0});return e=l,r=t,o=c,s=(i=h).batch,n=s.keys(),a=tu.resolve(),n.forEach(function(n){a=a.next(function(){return o.getEntry(r,n)}).next(function(t){var e=i.docVersions.get(n);Fr(null!==e),t.version.compareTo(e)<0&&(s.applyToRemoteDocument(t,i),t.isValidDocument()&&o.addEntry(t,i.commitVersion))})}),a.next(function(){return e._n.removeMutationBatch(r,s)}).next(function(){return c.apply(t)}).next(function(){return l._n.performConsistencyCheck(t)}).next(function(){return l.Mn.pn(t,u)})})}function nh(t){var e=t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function rh(t,r){var u=t,c=r.snapshotVersion,h=u.Fn;return u.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var t=u.$n.newChangeBuffer({trackRemovals:!0});h=u.Fn;var a=[];r.targetChanges.forEach(function(t,e){var n,r,i,o=h.get(e);o&&(a.push(u.qe.removeMatchingKeys(s,t.removedDocuments,e).next(function(){return u.qe.addMatchingKeys(s,t.addedDocuments,e)})),0<(i=t.resumeToken).approximateByteSize()&&(n=o.withResumeToken(i,c).withSequenceNumber(s.currentSequenceNumber),h=h.insert(e,n),r=o,i=t,Fr(0<(o=n).resumeToken.approximateByteSize()),(0===r.resumeToken.approximateByteSize()||3e8<=o.snapshotVersion.toMicroseconds()-r.snapshotVersion.toMicroseconds()||0<i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size)&&a.push(u.qe.updateTargetData(s,n))))});var e,n=Ps;return r.documentUpdates.forEach(function(t,e){r.resolvedLimboDocuments.has(t)&&a.push(u.persistence.referenceDelegate.updateLimboDocument(s,t))}),a.push(ih(s,t,r.documentUpdates,c,void 0).next(function(t){n=t})),c.isEqual(Gr.min())||(e=u.qe.getLastRemoteSnapshotVersion(s).next(function(t){return u.qe.setTargetsMetadata(s,s.currentSequenceNumber,c)}),a.push(e)),tu.waitFor(a).next(function(){return t.apply(s)}).next(function(){return u.Mn.En(s,n)}).next(function(){return n})}).then(function(t){return u.Fn=h,t})}function ih(t,s,e,a,u){var n=Bs();return e.forEach(function(t){return n=n.add(t)}),s.getEntries(t,n).next(function(i){var o=Ps;return e.forEach(function(t,e){var n=i.get(t),r=(null==u?void 0:u.get(t))||a;e.isNoDocument()&&e.version.isEqual(Gr.min())?(s.removeEntry(t,r),o=o.insert(t,e)):!n.isValidDocument()||0<e.version.compareTo(n.version)||0===e.version.compareTo(n.version)&&n.hasPendingWrites?(s.addEntry(e,r),o=o.insert(t,e)):xr("LocalStore","Ignoring outdated watch update for ",t,". Current version:",n.version," Watch version:",e.version)}),o})}function oh(t,r){var i=t;return i.persistence.runTransaction("Allocate target","readwrite",function(e){var n;return i.qe.getTargetData(e,r).next(function(t){return t?(n=t,tu.resolve(n)):i.qe.allocateTargetId(e).next(function(t){return n=new Tu(r,t,0,e.currentSequenceNumber),i.qe.addTargetData(e,n).next(function(){return n})})})}).then(function(t){var e=i.Fn.get(t.targetId);return(null===e||0<t.snapshotVersion.compareTo(e.snapshotVersion))&&(i.Fn=i.Fn.insert(t.targetId,t),i.kn.set(r,t.targetId)),t})}function sh(i,o,s){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:n=(e=i).Fn.get(o),r=s?"readwrite":"readwrite-primary",t.label=1;case 1:return t.trys.push([1,4,,5]),s?[3,3]:[4,e.persistence.runTransaction("Release target",r,function(t){return e.persistence.referenceDelegate.removeTarget(t,n)})];case 2:t.sent(),t.label=3;case 3:return[3,5];case 4:if(!lu(r=t.sent()))throw r;return xr("LocalStore","Failed to update sequence numbers for target "+o+": "+r),[3,5];case 5:return e.Fn=e.Fn.remove(o),e.kn.delete(n.target),[2]}})})}function ah(t,o,s){var a=t,u=Gr.min(),c=Bs();return a.persistence.runTransaction("Execute query","readonly",function(e){return t=a,n=e,r=No(o),(void 0!==(t=(i=t).kn.get(r))?tu.resolve(i.Fn.get(t)):i.qe.getTargetData(n,r)).next(function(t){if(t)return u=t.lastLimboFreeSnapshotVersion,a.qe.getMatchingKeysForTargetId(e,t.targetId).next(function(t){c=t})}).next(function(){return a.xn.getDocumentsMatchingQuery(e,o,s?u:Gr.min(),s?c:Bs())}).next(function(t){return{documents:t,Bn:c}});var t,n,r,i})}function uh(t,e){var n=t,r=n.qe,t=n.Fn.get(e);return t?Promise.resolve(t.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function ch(t){var s=t;return s.persistence.runTransaction("Get new document changes","readonly",function(t){return e=s.$n,n=t,t=s.On,r=e,i=Ps,o=Cu(t),t=Oc(n),n=IDBKeyRange.lowerBound(o,!0),t.Ot({index:Ba.readTimeIndex,range:n},function(t,e){var n=Au(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Ru(o)}});var e,n,r,i,o}).then(function(t){var e=t.wn,t=t.readTime;return s.On=t,e})}function hh(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){return[2,(e=n).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return t=Oc(t),r=Gr.min(),t.Ot({index:Ba.readTimeIndex,reverse:!0},function(t,e,n){e.readTime&&(r=Ru(e.readTime)),n.done()}).next(function(){return r});var r}).then(function(t){e.On=t})]})})}var lh,fh,dh=(Lh.prototype.getBundleMetadata=function(t,e){return tu.resolve(this.Kn.get(e))},Lh.prototype.saveBundleMetadata=function(t,e){return this.Kn.set(e.id,{id:e.id,version:e.version,createTime:aa(e.createTime)}),tu.resolve()},Lh.prototype.getNamedQuery=function(t,e){return tu.resolve(this.jn.get(e))},Lh.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(e=e).name,query:Fu(e.bundledQuery),readTime:aa(e.readTime)}),tu.resolve()},Lh),ph=(Oh.prototype.isEmpty=function(){return this.Wn.isEmpty()},Oh.prototype.addReference=function(t,e){e=new yh(t,e);this.Wn=this.Wn.add(e),this.zn=this.zn.add(e)},Oh.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},Oh.prototype.removeReference=function(t,e){this.Yn(new yh(t,e))},Oh.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},Oh.prototype.Zn=function(t){var e=this,n=new mi(new $r([])),r=new yh(n,t),t=new yh(n,t+1),i=[];return this.zn.forEachInRange([r,t],function(t){e.Yn(t),i.push(t.key)}),i},Oh.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},Oh.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},Oh.prototype.es=function(t){var e=new mi(new $r([])),n=new yh(e,t),t=new yh(e,t+1),r=Bs();return this.zn.forEachInRange([n,t],function(t){r=r.add(t.key)}),r},Oh.prototype.containsKey=function(t){var e=new yh(t,0),e=this.Wn.firstAfterOrEqual(e);return null!==e&&t.isEqual(e.key)},Oh),yh=(xh.Gn=function(t,e){return mi.comparator(t.key,e.key)||qr(t.ns,e.ns)},xh.Hn=function(t,e){return qr(t.ns,e.ns)||mi.comparator(t.key,e.key)},xh),gh=(Rh.prototype.checkEmpty=function(t){return tu.resolve(0===this._n.length)},Rh.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,0<this._n.length&&this._n[this._n.length-1];n=new Iu(i,e,n,r);this._n.push(n);for(var o=0,s=r;o<s.length;o++){var a=s[o];this.rs=this.rs.add(new yh(a.key,i)),this.Ut.addToCollectionParentIndex(t,a.key.path.popLast())}return tu.resolve(n)},Rh.prototype.lookupMutationBatch=function(t,e){return tu.resolve(this.os(e))},Rh.prototype.getNextMutationBatchAfterBatchId=function(t,e){e+=1,e=this.cs(e),e=e<0?0:e;return tu.resolve(this._n.length>e?this._n[e]:null)},Rh.prototype.getHighestUnacknowledgedBatchId=function(){return tu.resolve(0===this._n.length?-1:this.ss-1)},Rh.prototype.getAllMutationBatches=function(t){return tu.resolve(this._n.slice())},Rh.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new yh(e,0),e=new yh(e,Number.POSITIVE_INFINITY),i=[];return this.rs.forEachInRange([r,e],function(t){t=n.os(t.ns);i.push(t)}),tu.resolve(i)},Rh.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Os(qr);return e.forEach(function(t){var e=new yh(t,0),t=new yh(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,t],function(t){r=r.add(t.ns)})}),tu.resolve(this.us(r))},Rh.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,e=n;mi.isDocumentKey(e)||(e=e.child(""));var e=new yh(new mi(e),0),i=new Os(qr);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(i=i.add(t.ns)),!0)},e),tu.resolve(this.us(i))},Rh.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){t=e.os(t);null!==t&&n.push(t)}),n},Rh.prototype.removeMutationBatch=function(n,r){var i=this;Fr(0===this.hs(r.batchId,"removed")),this._n.shift();var o=this.rs;return tu.forEach(r.mutations,function(t){var e=new yh(t.key,r.batchId);return o=o.delete(e),i.referenceDelegate.markPotentiallyOrphaned(n,t.key)}).next(function(){i.rs=o})},Rh.prototype.Gt=function(t){},Rh.prototype.containsKey=function(t,e){var n=new yh(e,0),n=this.rs.firstAfterOrEqual(n);return tu.resolve(e.isEqual(n&&n.key))},Rh.prototype.performConsistencyCheck=function(t){return this._n.length,tu.resolve()},Rh.prototype.hs=function(t,e){return this.cs(t)},Rh.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},Rh.prototype.os=function(t){t=this.cs(t);return t<0||t>=this._n.length?null:this._n[t]},Rh),mh=(Ch.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,i=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:i,readTime:n}),this.size+=i-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},Ch.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},Ch.prototype.getEntry=function(t,e){var n=this.docs.get(e);return tu.resolve(n?n.document.clone():Oi.newInvalidDocument(e))},Ch.prototype.getEntries=function(t,e){var n=this,r=Ps;return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Oi.newInvalidDocument(t))}),tu.resolve(r)},Ch.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Ps,i=new mi(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,s=u.document,u=u.readTime;if(!e.path.isPrefixOf(a.path))break;u.compareTo(n)<=0||Ro(e,s)&&(r=r.insert(s.key,s.clone()))}return tu.resolve(r)},Ch.prototype.fs=function(t,e){return tu.forEach(this.docs,function(t){return e(t)})},Ch.prototype.newChangeBuffer=function(t){return new vh(this)},Ch.prototype.getSize=function(t){return tu.resolve(this.size)},Ch),vh=(n(kh,fh=I),kh.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(t,e){e.document.isValidDocument()?i.push(r.Ie.addEntry(n,e.document,r.getReadTime(t))):r.Ie.removeEntry(t)}),tu.waitFor(i)},kh.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},kh.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},kh),bh=(Ah.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(t,e){return n(e)}),tu.resolve()},Ah.prototype.getLastRemoteSnapshotVersion=function(t){return tu.resolve(this.lastRemoteSnapshotVersion)},Ah.prototype.getHighestSequenceNumber=function(t){return tu.resolve(this.ws)},Ah.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),tu.resolve(this.highestTargetId)},Ah.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),tu.resolve()},Ah.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new sc(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},Ah.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,tu.resolve()},Ah.prototype.updateTargetData=function(t,e){return this.te(e),tu.resolve()},Ah.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),--this.targetCount,tu.resolve()},Ah.prototype.removeTargets=function(n,r,i){var o=this,s=0,a=[];return this.ds.forEach(function(t,e){e.sequenceNumber<=r&&null===i.get(e.targetId)&&(o.ds.delete(t),a.push(o.removeMatchingKeysForTargetId(n,e.targetId)),s++)}),tu.waitFor(a).next(function(){return s})},Ah.prototype.getTargetCount=function(t){return tu.resolve(this.targetCount)},Ah.prototype.getTargetData=function(t,e){e=this.ds.get(e)||null;return tu.resolve(e)},Ah.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),tu.resolve()},Ah.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),tu.waitFor(i)},Ah.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),tu.resolve()},Ah.prototype.getMatchingKeysForTargetId=function(t,e){e=this._s.es(e);return tu.resolve(e)},Ah.prototype.containsKey=function(t,e){return tu.resolve(this._s.containsKey(e))},Ah),wh=(Dh.prototype.start=function(){return Promise.resolve()},Dh.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(Dh.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),Dh.prototype.setDatabaseDeletedListener=function(){},Dh.prototype.setNetworkEnabled=function(){},Dh.prototype.getIndexManager=function(){return this.Ut},Dh.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new gh(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},Dh.prototype.getTargetCache=function(){return this.qe},Dh.prototype.getRemoteDocumentCache=function(){return this.Ue},Dh.prototype.getBundleCache=function(){return this.Qe},Dh.prototype.runTransaction=function(t,e,n){var r=this;xr("MemoryPersistence","Starting transaction:",t);var i=new Ih(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},Dh.prototype.Is=function(e,n){return tu.or(Object.values(this.gs).map(function(t){return function(){return t.containsKey(e,n)}}))},Dh),Ih=(n(Nh,lh=Te),Nh),Eh=(Sh.bs=function(t){return new Sh(t)},Object.defineProperty(Sh.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Mr()},enumerable:!1,configurable:!0}),Sh.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),tu.resolve()},Sh.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),tu.resolve()},Sh.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),tu.resolve()},Sh.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},Sh.prototype.Es=function(){this.Rs=new Set},Sh.prototype.Ts=function(n){var r=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tu.forEach(this.vs,function(t){var e=mi.fromPath(t);return r.Ps(n,e).next(function(t){t||i.removeEntry(e)})}).next(function(){return r.Rs=null,i.apply(n)})},Sh.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},Sh.prototype.ps=function(t){return 0},Sh.prototype.Ps=function(t,e){var n=this;return tu.or([function(){return tu.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},Sh),Th=(_h.prototype.isAuthenticated=function(){return null!=this.uid},_h.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},_h.prototype.isEqual=function(t){return t.uid===this.uid},_h);function _h(t){this.uid=t}function Sh(t){this.persistence=t,this.As=new ph,this.Rs=null}function Nh(t){var e=this;return(e=lh.call(this)||this).currentSequenceNumber=t,e}function Dh(t,e){var n=this;this.gs={},this.Ne=new _r(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new bh(this),this.Ut=new ju,this.Ue=(t=this.Ut,new mh(t,function(t){return n.referenceDelegate.ps(t)})),this.R=new _u(e),this.Qe=new dh(this.R)}function Ah(t){this.persistence=t,this.ds=new Sc(Fi,Vi),this.lastRemoteSnapshotVersion=Gr.min(),this.highestTargetId=0,this.ws=0,this._s=new ph,this.targetCount=0,this.ys=sc.Jt()}function kh(t){var e=this;return(e=fh.call(this)||this).Ie=t,e}function Ch(t,e){this.Ut=t,this.ls=e,this.docs=new Ns(mi.comparator),this.size=0}function Rh(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Os(yh.Gn)}function xh(t,e){this.key=t,this.ns=e}function Oh(){this.Wn=new Os(yh.Gn),this.zn=new Os(yh.Hn)}function Lh(t){this.R=t,this.Kn=new Map,this.jn=new Map}function Ph(t,e){return"firestore_clients_"+t+"_"+e}function Mh(t,e,n){n="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(n+="_"+e.uid),n}function Fh(t,e){return"firestore_targets_"+t+"_"+e}Th.UNAUTHENTICATED=new Th(null),Th.GOOGLE_CREDENTIALS=new Th("google-credentials-uid"),Th.FIRST_PARTY=new Th("first-party-uid");var Vh,Uh=(ul.Vs=function(t,e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ar(i.error.code,i.error.message)),o?new ul(t,e,i.state,r):(Or("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},ul.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},ul),qh=(al.Vs=function(t,e){var n,r=JSON.parse(e),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(n=new Ar(r.error.code,r.error.message)),i?new al(t,r.state,n):(Or("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},al.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},al),Bh=(sl.Vs=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=js,o=0;r&&o<n.activeTargetIds.length;++o)r=gi(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new sl(t,i):(Or("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},sl),jh=(ol.Vs=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new ol(e.clientId,e.onlineState):(Or("SharedClientState","Failed to parse online state: "+t),null)},ol),Kh=(il.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},il.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},il.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},il),Gh=(rl.yt=function(t){return!(!t||!t.localStorage)},rl.prototype.start=function(){return y(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c,h,l=this;return g(this,function(t){switch(t.label){case 0:return[4,this.syncEngine.fn()];case 1:for(s=t.sent(),e=0,n=s;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Ph(this.persistenceKey,r)))&&(o=Bh.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)h=c[u],this.Fs(h);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},rl.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},rl.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},rl.prototype.isActiveQueryTarget=function(n){var r=!1;return this.ks.forEach(function(t,e){e.activeTargetIds.has(n)&&(r=!0)}),r},rl.prototype.addPendingMutation=function(t){this.zs(t,"pending")},rl.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},rl.prototype.addLocalQueryTarget=function(t){var e,n="not-current";return this.isActiveQueryTarget(t)&&(!(e=this.storage.getItem(Fh(this.persistenceKey,t)))||(e=qh.Vs(t,e))&&(n=e.state)),this.Js.Ds(t),this.Ks(),n},rl.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},rl.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},rl.prototype.clearQueryState=function(t){this.removeItem(Fh(this.persistenceKey,t))},rl.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},rl.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},rl.prototype.setOnlineState=function(t){this.Xs(t)},rl.prototype.notifyBundleLoaded=function(){this.Zs()},rl.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},rl.prototype.getItem=function(t){var e=this.storage.getItem(t);return xr("SharedClientState","READ",t,e),e},rl.prototype.setItem=function(t,e){xr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},rl.prototype.removeItem=function(t){xr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},rl.prototype.Fs=function(t){var e=this,o=t;o.storageArea===this.storage&&(xr("SharedClientState","EVENT",o.key,o.newValue),o.key!==this.$s?this.Se.enqueueRetryable(function(){return y(e,void 0,void 0,function(){var e,n,r,i;return g(this,function(t){if(this.started){if(null!==o.key)if(this.Ls.test(o.key)){if(null==o.newValue)return e=this.ti(o.key),[2,this.ei(e,null)];if(e=this.ni(o.key,o.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(o.key)){if(null!==o.newValue&&(n=this.si(o.key,o.newValue)))return[2,this.ii(n)]}else if(this.qs.test(o.key)){if(null!==o.newValue&&(r=this.ri(o.key,o.newValue)))return[2,this.oi(r)]}else if(o.key===this.Us){if(null!==o.newValue&&(i=this.js(o.newValue)))return[2,this.Ws(i)]}else if(o.key===this.Ms)(i=function(t){var e=_r.o;if(null!=t)try{var n=JSON.parse(t);Fr("number"==typeof n),e=n}catch(t){Or("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(o.newValue))!==_r.o&&this.sequenceNumberHandler(i);else if(o.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(o);return[2]})})}):Or("Received WebStorage notification for local change. Another client might have garbage-collected our state"))},Object.defineProperty(rl.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),rl.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},rl.prototype.zs=function(t,e,n){n=new Uh(this.currentUser,t,e,n),t=Mh(this.persistenceKey,this.currentUser,t);this.setItem(t,n.Ss())},rl.prototype.Hs=function(t){t=Mh(this.persistenceKey,this.currentUser,t);this.removeItem(t)},rl.prototype.Xs=function(t){t={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(t))},rl.prototype.Ys=function(t,e,n){var r=Fh(this.persistenceKey,t),n=new qh(t,e,n);this.setItem(r,n.Ss())},rl.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},rl.prototype.ti=function(t){t=this.Ls.exec(t);return t?t[1]:null},rl.prototype.ni=function(t,e){t=this.ti(t);return Bh.Vs(t,e)},rl.prototype.si=function(t,e){var n=this.Bs.exec(t),t=Number(n[1]),n=void 0!==n[2]?n[2]:null;return Uh.Vs(new Th(n),t,e)},rl.prototype.ri=function(t,e){t=this.qs.exec(t),t=Number(t[1]);return qh.Vs(t,e)},rl.prototype.js=function(t){return jh.Vs(t)},rl.prototype.ii=function(e){return y(this,void 0,void 0,function(){return g(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(xr("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},rl.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},rl.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},rl.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},rl.prototype.Gs=function(t){var n=js;return t.forEach(function(t,e){n=n.unionWith(e.activeTargetIds)}),n},rl),Qh=(nl.prototype.addPendingMutation=function(t){},nl.prototype.updateMutationState=function(t,e,n){},nl.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},nl.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},nl.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},nl.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},nl.prototype.clearQueryState=function(t){delete this.fi[t]},nl.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},nl.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},nl.prototype.start=function(){return this.li=new Kh,Promise.resolve()},nl.prototype.handleUserChange=function(t,e,n){},nl.prototype.setOnlineState=function(t){},nl.prototype.shutdown=function(){},nl.prototype.writeSequenceNumber=function(t){},nl.prototype.notifyBundleLoaded=function(){},nl),zh=(el.prototype.di=function(t){},el.prototype.shutdown=function(){},el),Hh=(tl.prototype.di=function(t){this.gi.push(t)},tl.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},tl.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},tl.prototype._i=function(){xr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},tl.prototype.yi=function(){xr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},tl.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},tl),Wh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Yh=(Zh.prototype.Ii=function(t){this.Ai=t},Zh.prototype.Ri=function(t){this.bi=t},Zh.prototype.onMessage=function(t){this.vi=t},Zh.prototype.close=function(){this.Ti()},Zh.prototype.send=function(t){this.Ei(t)},Zh.prototype.Pi=function(){this.Ai()},Zh.prototype.Vi=function(t){this.bi(t)},Zh.prototype.Si=function(t){this.vi(t)},Zh),Xh=($h.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);xr("RestConnection","Sending: ",i,n);t={};return this.Fi(t,r),this.ki(e,i,t,n).then(function(t){return xr("RestConnection","Received: ",t),t},function(t){throw Lr("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t})},$h.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},$h.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},$h.prototype.xi=function(t,e){t=Wh[t];return this.Di+"/v1/"+e+":"+t},n(Jh,Vh=$h),Jh.prototype.ki=function(o,e,s,a){return new Promise(function(n,r){var i=new Tr;i.listenOnce(vr.COMPLETE,function(){try{switch(i.getLastErrorCode()){case mr.NO_ERROR:var t=i.getResponseJson();xr("Connection","XHR received:",JSON.stringify(t)),n(t);break;case mr.TIMEOUT:xr("Connection",'RPC "'+o+'" timed out'),r(new Ar(Dr.DEADLINE_EXCEEDED,"Request time out"));break;case mr.HTTP_ERROR:var e=i.getStatus();xr("Connection",'RPC "'+o+'" failed with status:',e,"response text:",i.getResponseText()),0<e?(t=i.getResponseJson().error)&&t.status&&t.message?(e=t.status.toLowerCase().replace(/_/g,"-"),e=0<=Object.values(Dr).indexOf(e)?e:Dr.UNKNOWN,r(new Ar(e,t.message))):r(new Ar(Dr.UNKNOWN,"Server responded with status "+i.getStatus())):r(new Ar(Dr.UNAVAILABLE,"Connection failed."));break;default:Mr()}}finally{xr("Connection",'RPC "'+o+'" completed.')}});var t=JSON.stringify(a);i.send(e,"POST",t,s,15)})},Jh.prototype.$i=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new lr,o=gr(),t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(t.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())||"object"==typeof navigator&&"ReactNative"===navigator.product||0<=h().indexOf("Electron/")||(0<=(n=h()).indexOf("MSIE ")||0<=n.indexOf("Trident/"))||0<=h().indexOf("MSAppHost/")||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(t.httpHeadersOverwriteParam="$httpHeaders");r=r.join("");xr("Connection","Creating WebChannel: "+r,t);var s=i.createWebChannel(r,t),a=!1,u=!1,c=new Yh({Ei:function(t){u?xr("Connection","Not sending because WebChannel is closed:",t):(a||(xr("Connection","Opening WebChannel transport."),s.open(),a=!0),xr("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),t=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return t(s,Er.EventType.OPEN,function(){u||xr("Connection","WebChannel transport opened.")}),t(s,Er.EventType.CLOSE,function(){u||(u=!0,xr("Connection","WebChannel transport closed"),c.Vi())}),t(s,Er.EventType.ERROR,function(t){u||(u=!0,Lr("Connection","WebChannel transport errored:",t),c.Vi(new Ar(Dr.UNAVAILABLE,"The operation could not be completed")))}),t(s,Er.EventType.MESSAGE,function(t){var e,n,r,i;u||(Fr(!!(e=t.data[0])),(n=e.error||(null===(i=e[0])||void 0===i?void 0:i.error))?(xr("Connection","WebChannel received error:",n),r=n.status,t=function(){var t=ms[r];if(void 0!==t)return Ss(t)}(),i=n.message,void 0===t&&(t=Dr.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),u=!0,c.Vi(new Ar(t,i)),s.close()):(xr("Connection","WebChannel received:",e),c.Si(e)))}),t(o,br.STAT_EVENT,function(t){t.stat===wr?xr("Connection","Detected buffering proxy"):t.stat===Ir&&xr("Connection","Detected no buffering proxy")}),setTimeout(function(){c.Pi()},0),c},Jh);function Jh(t){var e=this;return(e=Vh.call(this,t)||this).forceLongPolling=t.forceLongPolling,e.autoDetectLongPolling=t.autoDetectLongPolling,e}function $h(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}function Zh(t){this.Ei=t.Ei,this.Ti=t.Ti}function tl(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}function el(){}function nl(){this.li=new Kh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}function rl(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Ns(qr),this.started=!1,this.Os=[];n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Ph(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Kh),this.Ls=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Qs="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}function il(){this.activeTargetIds=js}function ol(t,e){this.clientId=t,this.onlineState=e}function sl(t,e){this.clientId=t,this.activeTargetIds=e}function al(t,e,n){this.targetId=t,this.state=e,this.error=n}function ul(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function cl(){return"undefined"!=typeof window?window:null}function hl(){return"undefined"!=typeof document?document:null}function ll(t){return new ia(t,!0)}function fl(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return y(o,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return Pl(this)?(xr("RemoteStore","Restarting streams for network reachability change."),[4,function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return(e=n).$r.add(4),[4,Al(e)];case 1:return t.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Dl(e)];case 2:return t.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new wl(n,r)}var dl,pl,yl,gl=(Nl.prototype.reset=function(){this.qi=0},Nl.prototype.Ki=function(){this.qi=this.Bi},Nl.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);0<i&&xr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},Nl.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},Nl.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},Nl.prototype.Wi=function(){return(Math.random()-.5)*this.qi},Nl),I=(Sl.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},Sl.prototype.er=function(){return 2===this.state},Sl.prototype.start=function(){3!==this.state?this.auth():this.nr()},Sl.prototype.stop=function(){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},Sl.prototype.sr=function(){this.state=0,this.Zi.reset()},Sl.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},Sl.prototype.cr=function(t){this.ur(),this.stream.send(t)},Sl.prototype.rr=function(){return y(this,void 0,void 0,function(){return g(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},Sl.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},Sl.prototype.close=function(e,n){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():n&&n.code===Dr.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):n&&n.code===Dr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return t.sent(),[2]}})})},Sl.prototype.ar=function(){},Sl.prototype.auth=function(){var n=this;this.state=1;var t=this.hr(this.Yi),e=this.Yi;this.Ji.getToken().then(function(t){n.Yi===e&&n.lr(t)},function(e){t(function(){var t=new Ar(Dr.UNKNOWN,"Fetching auth token failed: "+e.message);return n.dr(t)})})},Sl.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},Sl.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return y(t,void 0,void 0,function(){return g(this,function(t){return this.state=0,this.start(),[2]})})})},Sl.prototype.dr=function(t){return xr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},Sl.prototype.hr=function(e){var n=this;return function(t){n.Se.enqueueAndForget(function(){return n.Yi===e?t():(xr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},Sl),ml=(n(_l,yl=I),_l.prototype.wr=function(t){return this.Hi.$i("Listen",t)},_l.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){if("targetChange"in e){e.targetChange;var n="NO_CHANGE"===(o=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:Mr(),r=e.targetChange.targetIds||[],i=(s=e.targetChange.resumeToken,t.I?(Fr(void 0===s||"string"==typeof s),ni.fromBase64String(s||"")):(Fr(void 0===s||s instanceof Uint8Array),ni.fromUint8Array(s||new Uint8Array))),o=(a=e.targetChange.cause)&&(u=void 0===(c=a).code?Dr.UNKNOWN:Ss(c.code),new Ar(u,c.message||"")),s=new Hs(n,r,i,o||null)}else if("documentChange"in e){e.documentChange,(n=e.documentChange).document,n.document.name,n.document.updateTime;var r=la(t,n.document.name),i=aa(n.document.updateTime),a=new Ri({mapValue:{fields:n.document.fields}}),u=(o=Oi.newFoundDocument(r,i,a),n.targetIds||[]),c=n.removedTargetIds||[];s=new Qs(u,c,o.key,o)}else if("documentDelete"in e)e.documentDelete,(n=e.documentDelete).document,r=la(t,n.document),i=n.readTime?aa(n.readTime):Gr.min(),a=Oi.newNoDocument(r,i),o=n.removedTargetIds||[],s=new Qs([],o,a.key,a);else if("documentRemove"in e)e.documentRemove,(n=e.documentRemove).document,r=la(t,n.document),i=n.removedTargetIds||[],s=new Qs([],i,r,null);else{if(!("filter"in e))return Mr();e.filter;e=e.filter;e.targetId,n=e.count||0,r=new gs(n),i=e.targetId,s=new zs(i,r)}return s}(this.R,t),t=function(t){if(!("targetChange"in t))return Gr.min();t=t.targetChange;return(!t.targetIds||!t.targetIds.length)&&t.readTime?aa(t.readTime):Gr.min()}(t);return this.listener._r(e,t)},_l.prototype.mr=function(t){var e,n,r,i={};i.database=pa(this.R),i.addTarget=(e=this.R,(r=Ui(r=(n=t).target)?{documents:wa(e,r)}:{query:Ia(e,r)}).targetId=n.targetId,0<n.resumeToken.approximateByteSize()?r.resumeToken=sa(e,n.resumeToken):0<n.snapshotVersion.compareTo(Gr.min())&&(r.readTime=oa(e,n.snapshotVersion.toTimestamp())),r);var o,t=(this.R,o=t,null==(t=function(){switch(o.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mr()}}())?null:{"goog-listen-tags":t});t&&(i.labels=t),this.cr(i)},_l.prototype.yr=function(t){var e={};e.database=pa(this.R),e.removeTarget=t,this.cr(e)},_l),vl=(n(Tl,pl=I),Object.defineProperty(Tl.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),Tl.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,pl.prototype.start.call(this)},Tl.prototype.ar=function(){this.gr&&this.Er([])},Tl.prototype.wr=function(t){return this.Hi.$i("Write",t)},Tl.prototype.onMessage=function(t){if(Fr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(n=t.writeResults,r=t.commitTime,n&&0<n.length?(Fr(void 0!==r),n.map(function(t){return n=r,(t=(e=t).updateTime?aa(e.updateTime):aa(n)).isEqual(Gr.min())&&(t=aa(n)),new Zo(t,e.transformResults||[]);var e,n})):[]),n=aa(t.commitTime);return this.listener.Tr(n,e)}var n,r;return Fr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},Tl.prototype.Ar=function(){var t={};t.database=pa(this.R),this.cr(t)},Tl.prototype.Er=function(t){var e=this,t={streamToken:this.lastStreamToken,writes:t.map(function(t){return va(e.R,t)})};this.cr(t)},Tl),bl=(n(El,dl=function(){}),El.prototype.br=function(){if(this.Rr)throw new Ar(Dr.FAILED_PRECONDITION,"The client has already been terminated.")},El.prototype.Ni=function(e,n,r){var i=this;return this.br(),this.credentials.getToken().then(function(t){return i.Hi.Ni(e,n,r,t)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Dr.UNAUTHENTICATED&&i.credentials.invalidateToken(),t):new Ar(Dr.UNKNOWN,t.toString())})},El.prototype.Oi=function(e,n,r){var i=this;return this.br(),this.credentials.getToken().then(function(t){return i.Hi.Oi(e,n,r,t)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Dr.UNAUTHENTICATED&&i.credentials.invalidateToken(),t):new Ar(Dr.UNKNOWN,t.toString())})},El.prototype.terminate=function(){this.Rr=!0},El),wl=(Il.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},Il.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,1<=this.vr&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},Il.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},Il.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},Il.prototype.Cr=function(t){t="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Or(t),this.Vr=!1):xr("OnlineStateTracker",t)},Il.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},Il);function Il(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}function El(t,e,n){var r=this;return(r=dl.call(this)||this).credentials=t,r.Hi=e,r.R=n,r.Rr=!1,r}function Tl(t,e,n,r,i){var o=this;return(o=pl.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).R=r,o.gr=!1,o}function _l(t,e,n,r,i){var o=this;return(o=yl.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).R=r,o}function Sl(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new gl(t,e)}function Nl(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}function Dl(r){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:if(!Pl(r))return[3,4];e=0,n=r.Mr,t.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Al(r){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:e=0,n=r.Mr,t.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function kl(t,e){t.Or.has(e.targetId)||(t.Or.set(e.targetId,e),Ll(t)?Ol(t):Gl(t).er()&&Rl(t,e))}function Cl(t,e){var n=t,t=Gl(n);n.Or.delete(e),t.er()&&xl(n,e),0===n.Or.size&&(t.er()?t.ir():Pl(n)&&n.Br.set("Unknown"))}function Rl(t,e){t.qr.U(e.targetId),Gl(t).mr(e)}function xl(t,e){t.qr.U(e),Gl(t).yr(e)}function Ol(e){e.qr=new Ys({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),Gl(e).start(),e.Br.Sr()}function Ll(t){return Pl(t)&&!Gl(t).tr()&&0<t.Or.size}function Pl(t){return 0===t.$r.size}function Ml(t){t.qr=void 0}function Fl(s,a,u){return y(this,void 0,void 0,function(){var n,o;return g(this,function(t){switch(t.label){case 0:if(s.Br.set("Online"),!(a instanceof Hs&&2===a.state&&a.cause))return[3,6];t.label=1;case 1:return t.trys.push([1,3,,5]),[4,function(o,s){return y(this,void 0,void 0,function(){var e,n,r,i;return g(this,function(t){switch(t.label){case 0:e=s.cause,n=0,r=s.targetIds,t.label=1;case 1:return n<r.length?(i=r[n],o.Or.has(i)?[4,o.remoteSyncer.rejectListen(i,e)]:[3,3]):[3,5];case 2:t.sent(),o.Or.delete(i),o.qr.removeTarget(i),t.label=3;case 3:t.label=4;case 4:return n++,[3,1];case 5:return[2]}})})}(s,a)];case 2:return t.sent(),[3,5];case 3:return n=t.sent(),xr("RemoteStore","Failed to remove targets %s: %s ",a.targetIds.join(","),n),[4,Vl(s,n)];case 4:return t.sent(),[3,5];case 5:return[3,13];case 6:if(a instanceof Qs?s.qr.X(a):a instanceof zs?s.qr.rt(a):s.qr.et(a),u.isEqual(Gr.min()))return[3,13];t.label=7;case 7:return t.trys.push([7,11,,13]),[4,nh(s.localStore)];case 8:return o=t.sent(),0<=u.compareTo(o)?[4,(i=u,(e=(r=s).qr.ut(i)).targetChanges.forEach(function(t,e){var n;0<t.resumeToken.approximateByteSize()&&((n=r.Or.get(e))&&r.Or.set(e,n.withResumeToken(t.resumeToken,i)))}),e.targetMismatches.forEach(function(t){var e=r.Or.get(t);e&&(r.Or.set(t,e.withResumeToken(ni.EMPTY_BYTE_STRING,e.snapshotVersion)),xl(r,t),e=new Tu(e.target,t,1,e.sequenceNumber),Rl(r,e))}),r.remoteSyncer.applyRemoteEvent(e))]:[3,10];case 9:t.sent(),t.label=10;case 10:return[3,13];case 11:return xr("RemoteStore","Failed to raise snapshot:",o=t.sent()),[4,Vl(s,o)];case 12:return t.sent(),[3,13];case 13:return[2]}var r,i,e})})}function Vl(n,r,i){return y(this,void 0,void 0,function(){var e=this;return g(this,function(t){switch(t.label){case 0:if(!lu(r))throw r;return n.$r.add(1),[4,Al(n)];case 1:return t.sent(),n.Br.set("Offline"),i=i||function(){return nh(n.localStore)},n.asyncQueue.enqueueRetryable(function(){return y(e,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return xr("RemoteStore","Retrying IndexedDB access"),[4,i()];case 1:return t.sent(),n.$r.delete(1),[4,Dl(n)];case 2:return t.sent(),[2]}})})}),[2]}})})}function Ul(e,n){return n().catch(function(t){return Vl(e,t,n)})}function ql(u){return y(this,void 0,void 0,function(){var i,o,s,a;return g(this,function(t){switch(t.label){case 0:o=Ql(i=u),s=0<i.kr.length?i.kr[i.kr.length-1].batchId:-1,t.label=1;case 1:if(!(Pl(i)&&i.kr.length<10))return[3,7];t.label=2;case 2:return t.trys.push([2,4,,6]),[4,(e=i.localStore,n=s,(r=e).persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===n&&(n=-1),r._n.getNextMutationBatchAfterBatchId(t,n)}))];case 3:return null===(a=t.sent())?(0===i.kr.length&&o.ir(),[3,7]):(s=a.batchId,function(t,e){t.kr.push(e);t=Ql(t);t.er()&&t.pr&&t.Er(e.mutations)}(i,a),[3,6]);case 4:return a=t.sent(),[4,Vl(i,a)];case 5:return t.sent(),[3,6];case 6:return[3,1];case 7:return Bl(i)&&jl(i),[2]}var e,n,r})})}function Bl(t){return Pl(t)&&!Ql(t).tr()&&0<t.kr.length}function jl(t){Ql(t).start()}function Kl(n,r){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=n,r?(e.$r.delete(2),[4,Dl(e)]):[3,2];case 1:return t.sent(),[3,5];case 2:return r?[3,4]:(e.$r.add(2),[4,Al(e)]);case 3:t.sent(),e.Br.set("Unknown"),t.label=4;case 4:t.label=5;case 5:return[2]}})})}function Gl(n){var t,e,r,i=this;return n.Ur||(n.Ur=(t=n.datastore,e=n.asyncQueue,r={Ii:function(n){return y(this,void 0,void 0,function(){return g(this,function(t){return n.Or.forEach(function(t,e){Rl(n,t)}),[2]})})}.bind(null,n),Ri:function(e,n){return y(this,void 0,void 0,function(){return g(this,function(t){return Ml(e),Ll(e)?(e.Br.Nr(n),Ol(e)):e.Br.set("Unknown"),[2]})})}.bind(null,n),_r:Fl.bind(null,n)},t.br(),new ml(e,t.Hi,t.credentials,t.R,r)),n.Mr.push(function(e){return y(i,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return e?(n.Ur.sr(),Ll(n)?Ol(n):n.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,n.Ur.stop()];case 2:t.sent(),Ml(n),t.label=3;case 3:return[2]}})})})),n.Ur}function Ql(n){var t,e,r,i=this;return n.Qr||(n.Qr=(t=n.datastore,e=n.asyncQueue,r={Ii:function(e){return y(this,void 0,void 0,function(){return g(this,function(t){return Ql(e).Ar(),[2]})})}.bind(null,n),Ri:function(e,n){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return n&&Ql(e).pr?[4,function(r,i){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return _s(n=i.code)&&n!==Dr.ABORTED?(e=r.kr.shift(),Ql(r).sr(),[4,Ul(r,function(){return r.remoteSyncer.rejectFailedWrite(e.batchId,i)})]):[3,3];case 1:return t.sent(),[4,ql(r)];case 2:t.sent(),t.label=3;case 3:return[2]}})})}(e,n)]:[3,2];case 1:t.sent(),t.label=2;case 2:return Bl(e)&&jl(e),[2]}})})}.bind(null,n),Ir:function(o){return y(this,void 0,void 0,function(){var e,n,r,i;return g(this,function(t){for(e=Ql(o),n=0,r=o.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}.bind(null,n),Tr:function(r,i,o){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return e=r.kr.shift(),n=Eu.from(e,i,o),[4,Ul(r,function(){return r.remoteSyncer.applySuccessfulWrite(n)})];case 1:return t.sent(),[4,ql(r)];case 2:return t.sent(),[2]}})})}.bind(null,n)},t.br(),new vl(e,t.Hi,t.credentials,t.R,r)),n.Mr.push(function(e){return y(i,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return e?(n.Qr.sr(),[4,ql(n)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,n.Qr.stop()];case 3:t.sent(),0<n.kr.length&&(xr("RemoteStore","Stopping write stream with "+n.kr.length+" pending writes"),n.kr=[]),t.label=4;case 4:return[2]}})})})),n.Qr}var zl=(Hl.createAndSchedule=function(t,e,n,r,i){i=new Hl(t,e,Date.now()+n,r,i);return i.start(n),i},Hl.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},Hl.prototype.skipDelay=function(){return this.handleDelayElapsed()},Hl.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ar(Dr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},Hl.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},Hl.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},Hl);function Hl(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}function Wl(t,e){if(Or("AsyncQueue",e+": "+t),lu(t))return new Ar(Dr.UNAVAILABLE,e+": "+t);throw t}function Yl(){this.queries=new Sc(ko,Ao),this.onlineState="Unknown",this.Gr=new Set}var Xl=(nf.emptySet=function(t){return new nf(t.comparator)},nf.prototype.has=function(t){return null!=this.keyedMap.get(t)},nf.prototype.get=function(t){return this.keyedMap.get(t)},nf.prototype.first=function(){return this.sortedSet.minKey()},nf.prototype.last=function(){return this.sortedSet.maxKey()},nf.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},nf.prototype.indexOf=function(t){t=this.keyedMap.get(t);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(nf.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),nf.prototype.forEach=function(n){this.sortedSet.inorderTraversal(function(t,e){return n(t),!1})},nf.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},nf.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},nf.prototype.isEqual=function(t){if(!(t instanceof nf))return!1;if(this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},nf.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},nf.prototype.copy=function(t,e){var n=new nf;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n},nf),Jl=(ef.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);!n||0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Mr()},ef.prototype.jr=function(){var n=[];return this.Kr.inorderTraversal(function(t,e){n.push(e)}),n},ef),$l=(tf.fromInitialDocuments=function(t,e,n,r){var i=[];return e.forEach(function(t){i.push({type:0,doc:t})}),new tf(t,e,Xl.emptySet(e),i,n,r,!0,!1)},Object.defineProperty(tf.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),tf.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ao(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},tf),Zl=function(){this.Wr=void 0,this.listeners=[]};function tf(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}function ef(){this.Kr=new Ns(mi.comparator)}function nf(n){this.comparator=n?function(t,e){return n(t,e)||mi.comparator(t.key,e.key)}:function(t,e){return mi.comparator(t.key,e.key)},this.keyedMap=Vs,this.sortedSet=new Ns(this.comparator)}function rf(s,a){return y(this,void 0,void 0,function(){var e,n,r,i,o;return g(this,function(t){switch(t.label){case 0:if(e=s,n=a.query,r=!1,(i=e.queries.get(n))||(r=!0,i=new Zl),!r)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),o=i,[4,e.onListen(n)];case 2:return o.Wr=t.sent(),[3,4];case 3:return o=t.sent(),o=Wl(o,"Initialization of query '"+Co(a.query)+"' failed"),[2,void a.onError(o)];case 4:return e.queries.set(n,i),i.listeners.push(a),a.zr(e.onlineState),i.Wr&&a.Hr(i.Wr)&&sf(e),[2]}})})}function of(s,a){return y(this,void 0,void 0,function(){var e,n,r,i,o;return g(this,function(t){return e=s,n=a.query,r=!1,(i=e.queries.get(n))&&0<=(o=i.listeners.indexOf(a))&&(i.listeners.splice(o,1),r=0===i.listeners.length),r?[2,(e.queries.delete(n),e.onUnlisten(n))]:[2]})})}function sf(t){t.Gr.forEach(function(t){t.next()})}var af=(pf.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new $l(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},pf.prototype.onError=function(t){this.Jr.error(t)},pf.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},pf.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},pf.prototype.Zr=function(t){if(0<t.docChanges.length)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},pf.prototype.no=function(t){t=$l.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},pf),uf=(df.prototype.io=function(){return"metadata"in this.payload},df),cf=(ff.prototype.qn=function(t){return la(this.R,t)},ff.prototype.Un=function(t){return t.metadata.exists?ma(this.R,t.document,!1):Oi.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},ff.prototype.Qn=aa,ff),hf=(lf.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},lf.prototype.co=function(t){for(var e=new Map,n=new cf(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],h=(e.get(c)||Bs()).add(s);e.set(c,h)}}return e},lf.prototype.complete=function(){return y(this,void 0,void 0,function(){var e,n,r,i;return g(this,function(t){switch(t.label){case 0:return[4,function(l,f,d,p){return y(this,void 0,void 0,function(){var n,r,i,o,e,s,a,u,c,h;return g(this,function(t){switch(t.label){case 0:for(n=l,r=Bs(),i=Ps,o=Us,e=0,s=d;e<s.length;e++)a=s[e],u=f.qn(a.metadata.name),a.document&&(r=r.add(u)),i=i.insert(u,f.Un(a)),o=o.insert(u,f.Qn(a.metadata.readTime));return c=n.$n.newChangeBuffer({trackRemovals:!0}),[4,oh(n,No(bo($r.fromString("__bundle__/docs/"+p))))];case 1:return h=t.sent(),[2,n.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return ih(e,c,i,Gr.min(),o).next(function(t){return c.apply(e),t}).next(function(t){return n.qe.removeMatchingKeysForTargetId(e,h.targetId).next(function(){return n.qe.addMatchingKeys(e,r,h.targetId)}).next(function(){return n.Mn.En(e,t)}).next(function(){return t})})})]}})})}(this.localStore,new cf(this.R),this.documents,this.ro.id)];case 1:e=t.sent(),n=this.co(this.documents),r=0,i=this.queries,t.label=2;case 2:return r<i.length?(i=i[r],[4,function(e,i,o){return void 0===o&&(o=Bs()),y(this,void 0,void 0,function(){var n,r;return g(this,function(t){switch(t.label){case 0:return[4,oh(e,No(Fu(i.bundledQuery)))];case 1:return n=t.sent(),[2,(r=e).persistence.runTransaction("Save named query","readwrite",function(t){var e=aa(i.readTime);if(0<=n.snapshotVersion.compareTo(e))return r.Qe.saveNamedQuery(t,i);e=n.withResumeToken(ni.EMPTY_BYTE_STRING,e);return r.Fn=r.Fn.insert(e.targetId,e),r.qe.updateTargetData(t,e).next(function(){return r.qe.removeMatchingKeysForTargetId(t,n.targetId)}).next(function(){return r.qe.addMatchingKeys(t,o,n.targetId)}).next(function(){return r.Qe.saveNamedQuery(t,i)})})]}})})}(this.localStore,i,n.get(i.name))]):[3,5];case 3:t.sent(),t.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Gc(Object.assign({},this.progress),e))]}})})},lf);function lf(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=yf(t)}function ff(t){this.R=t}function df(t,e){this.payload=t,this.byteLength=e}function pf(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}function yf(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var gf=function(t){this.key=t},mf=function(t){this.key=t},vf=(Object.defineProperty(Tf.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),Tf.prototype._o=function(t,e){var s=this,a=e?e.mo:new Jl,u=(e||this).fo,c=(e||this).mutatedKeys,h=u,l=!1,f=wo(this.query)&&u.size===this.query.limit?u.last():null,d=Io(this.query)&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal(function(t,e){var n=u.get(t),r=Ro(s.query,e)?e:null,i=!!n&&s.mutatedKeys.has(n.key),o=!!r&&(r.hasLocalMutations||s.mutatedKeys.has(r.key)&&r.hasCommittedMutations),e=!1;n&&r?n.data.isEqual(r.data)?i!==o&&(a.track({type:3,doc:r}),e=!0):s.yo(n,r)||(a.track({type:2,doc:r}),e=!0,(f&&0<s.lo(r,f)||d&&s.lo(r,d)<0)&&(l=!0)):!n&&r?(a.track({type:0,doc:r}),e=!0):n&&!r&&(a.track({type:1,doc:n}),e=!0,(f||d)&&(l=!0)),e&&(c=r?(h=h.add(r),o?c.add(t):c.delete(t)):(h=h.delete(t),c.delete(t)))}),wo(this.query)||Io(this.query))for(;h.size>this.query.limit;){var n=wo(this.query)?h.last():h.first(),h=h.delete(n.key),c=c.delete(n.key);a.track({type:1,doc:n})}return{fo:h,mo:a,Nn:l,mutatedKeys:c}},Tf.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},Tf.prototype.applyChanges=function(t,e,n){var o=this,r=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var i=t.mo.jr();i.sort(function(t,e){return r=t.type,i=e.type,n(r)-n(i)||o.lo(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mr()}}var r,i}),this.po(n);var s=e?this.Eo():[],n=0===this.ho.size&&this.current?1:0,e=n!==this.ao;return this.ao=n,0!==i.length||e?{snapshot:new $l(this.query,t.fo,r,i,t.mutatedKeys,0==n,e,!1),To:s}:{To:s}},Tf.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Jl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},Tf.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},Tf.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},Tf.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=Bs(),this.fo.forEach(function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))});var r=[];return n.forEach(function(t){e.ho.has(t)||r.push(new mf(t))}),this.ho.forEach(function(t){n.has(t)||r.push(new gf(t))}),r},Tf.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Bs();t=this._o(t.documents);return this.applyChanges(t,!0)},Tf.prototype.Ro=function(){return $l.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},Tf),bf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},wf=function(t){this.key=t,this.bo=!1},If=(Object.defineProperty(Ef.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),Ef);function Ef(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Sc(ko,Ao),this.Vo=new Map,this.So=new Set,this.Do=new Ns(mi.comparator),this.Co=new Map,this.No=new ph,this.xo={},this.Fo=new Map,this.ko=sc.Yt(),this.onlineState="Unknown",this.Oo=void 0}function Tf(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Bs(),this.mutatedKeys=Bs(),this.lo=xo(t),this.fo=new Xl(this.lo)}function _f(i,o,s,a){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return i.$o=function(t,e,n){return function(r,i,o,s){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return(e=i.view._o(o)).Nn?[4,ah(r.localStore,i.query,!1).then(function(t){t=t.documents;return i.view._o(t,e)})]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return n=s&&s.targetChanges.get(i.targetId),n=i.view.applyChanges(e,r.isPrimaryClient,n),[2,(Lf(r,i.targetId,n.To),n.snapshot)]}})})}(i,t,e,n)},[4,ah(i.localStore,o,!0)];case 1:return n=t.sent(),r=new vf(o,n.Bn),e=r._o(n.documents),n=Gs.createSynthesizedTargetChangeForCurrentChange(s,a&&"Offline"!==i.onlineState),n=r.applyChanges(e,i.isPrimaryClient,n),Lf(i,s,n.To),r=new bf(o,s,r),[2,(i.Po.set(o,r),i.Vo.has(s)?i.Vo.get(s).push(o):i.Vo.set(s,[o]),n.snapshot)]}})})}function Sf(f,d,p){return y(this,void 0,void 0,function(){var s,l;return g(this,function(t){switch(t.label){case 0:l=Kf(f),t.label=1;case 1:return t.trys.push([1,5,,6]),[4,(i=l.localStore,a=d,c=i,h=Kr.now(),o=a.reduce(function(t,e){return t.add(e.key)},Bs()),c.persistence.runTransaction("Locally write mutations","readwrite",function(s){return c.Mn.pn(s,o).next(function(t){u=t;for(var e=[],n=0,r=a;n<r.length;n++){var i=r[n],o=function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),s=Mo(o.transform,s||null);null!=s&&(n=null==n?Ri.empty():n).set(o.field,s)}return n||null}(i,u.get(i.key));null!=o&&e.push(new hs(i.key,o,function s(t){var a=[];return Wr(t.fields||{},function(t,e){var n=new ti([t]);if(Ci(e))if(0===(e=s(e.mapValue).fields).length)a.push(n);else for(var r=0,i=e;r<i.length;r++){var o=i[r];a.push(n.child(o))}else a.push(n)}),new ei(a)}(o.toProto().mapValue),es.exists(!0)))}return c._n.addMutationBatch(s,h,e,a)})}).then(function(t){return t.applyToLocalDocumentSet(u),{batchId:t.batchId,changes:u}}))];case 2:return s=t.sent(),l.sharedClientState.addPendingMutation(s.batchId),e=l,n=s.batchId,r=p,i=(i=(i=e.xo[e.currentUser.toKey()])||new Ns(qr)).insert(n,r),e.xo[e.currentUser.toKey()]=i,[4,Mf(l,s.changes)];case 3:return t.sent(),[4,ql(l.remoteStore)];case 4:return t.sent(),[3,6];case 5:return l=t.sent(),l=Wl(l,"Failed to persist write"),p.reject(l),[3,6];case 6:return[2]}var e,n,r,i,a,u,c,h,o})})}function Nf(r,i){return y(this,void 0,void 0,function(){var n,e;return g(this,function(t){switch(t.label){case 0:n=r,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,rh(n.localStore,i)];case 2:return e=t.sent(),i.targetChanges.forEach(function(t,e){e=n.Co.get(e);e&&(Fr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),0<t.addedDocuments.size?e.bo=!0:0<t.modifiedDocuments.size?Fr(e.bo):0<t.removedDocuments.size&&(Fr(e.bo),e.bo=!1))}),[4,Mf(n,e,i)];case 3:return t.sent(),[3,6];case 4:return[4,dc(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})}function Df(t,n,e){var r,t=t;(t.isPrimaryClient&&0===e||!t.isPrimaryClient&&1===e)&&(r=[],t.Po.forEach(function(t,e){e=e.view.zr(n);e.snapshot&&r.push(e.snapshot)}),function(t,i){t.onlineState=i;var o=!1;t.queries.forEach(function(t,e){for(var n=0,r=e.listeners;n<r.length;n++)r[n].zr(i)&&(o=!0)}),o&&sf(t)}(t.eventManager,n),r.length&&t.vo._r(r),t.onlineState=n,t.isPrimaryClient&&t.sharedClientState.setOnlineState(n))}function Af(s,a,u){return y(this,void 0,void 0,function(){var n,o;return g(this,function(t){switch(t.label){case 0:n=s,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,(e=n.localStore,r=a,(i=e).persistence.runTransaction("Reject batch","readwrite-primary",function(e){var n;return i._n.lookupMutationBatch(e,r).next(function(t){return Fr(null!==t),n=t.keys(),i._n.removeMutationBatch(e,t)}).next(function(){return i._n.performConsistencyCheck(e)}).next(function(){return i.Mn.pn(e,n)})}))];case 2:return o=t.sent(),Rf(n,a,u),Cf(n,a),n.sharedClientState.updateMutationState(a,"rejected",u),[4,Mf(n,o)];case 3:return t.sent(),[3,6];case 4:return[4,dc(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}var e,r,i})})}function kf(o,s){return y(this,void 0,void 0,function(){var n,r,i;return g(this,function(t){switch(t.label){case 0:Pl((n=o).remoteStore)||xr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(e=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})];case 2:return-1===(r=t.sent())?[2,void s.resolve()]:((i=n.Fo.get(r)||[]).push(s),n.Fo.set(r,i),[3,4]);case 3:return i=t.sent(),i=Wl(i,"Initialization of waitForPendingWrites() operation failed"),s.reject(i),[3,4];case 4:return[2]}var e})})}function Cf(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Rf(t,e,n){var r=t,i=r.xo[r.currentUser.toKey()];i&&((t=i.get(e))&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i)}function xf(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(t){e.No.containsKey(t)||Of(e,t)})}function Of(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Cl(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Pf(t))}function Lf(t,e,n){for(var r,i,o,s=0,a=n;s<a.length;s++){var u=a[s];u instanceof gf?(t.No.addReference(u.key,e),r=t,o=void 0,i=(o=(i=u).key).path.canonicalString(),r.Do.get(o)||r.So.has(i)||(xr("SyncEngine","New document in limbo: "+o),r.So.add(i),Pf(r))):u instanceof mf?(xr("SyncEngine","Document no longer in limbo: "+u.key),t.No.removeReference(u.key,e),t.No.containsKey(u.key)||Of(t,u.key)):Mr()}}function Pf(t){for(;0<t.So.size&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new mi($r.fromString(e)),e=t.ko.next();t.Co.set(e,new wf(n)),t.Do=t.Do.insert(n,e),kl(t.remoteStore,new Tu(No(bo(n.path)),e,2,_r.o))}}function Mf(e,s,a){return y(this,void 0,void 0,function(){var n,r,i,o;return g(this,function(t){switch(t.label){case 0:return r=[],i=[],o=[],(n=e).Po.isEmpty()?[3,3]:(n.Po.forEach(function(t,e){o.push(n.$o(e,s,a).then(function(t){t&&(n.isPrimaryClient&&n.sharedClientState.updateQueryState(e.targetId,t.fromCache?"not-current":"current"),r.push(t),t=zc.Pn(e.targetId,t),i.push(t))}))}),[4,Promise.all(o)]);case 1:return t.sent(),n.vo._r(r),[4,function(u,c){return y(this,void 0,void 0,function(){var r,e,n,i,o,s,a;return g(this,function(t){switch(t.label){case 0:r=u,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return tu.forEach(c,function(e){return tu.forEach(e.bn,function(t){return r.persistence.referenceDelegate.addReference(n,e.targetId,t)}).next(function(){return tu.forEach(e.vn,function(t){return r.persistence.referenceDelegate.removeReference(n,e.targetId,t)})})})})];case 2:return t.sent(),[3,4];case 3:if(!lu(e=t.sent()))throw e;return xr("LocalStore","Failed to update sequence numbers: "+e),[3,4];case 4:for(n=0,i=c;n<i.length;n++)a=i[n],o=a.targetId,a.fromCache||(s=r.Fn.get(o),a=s.snapshotVersion,a=s.withLastLimboFreeSnapshotVersion(a),r.Fn=r.Fn.insert(o,a));return[2]}})})}(n.localStore,i)];case 2:t.sent(),t.label=3;case 3:return[2]}})})}function Ff(i,o){return y(this,void 0,void 0,function(){var n,r;return g(this,function(t){switch(t.label){case 0:return(n=i).currentUser.isEqual(o)?[3,3]:(xr("SyncEngine","User change. New user:",o.toKey()),[4,th(n.localStore,o)]);case 1:return r=t.sent(),n.currentUser=o,(e=n).Fo.forEach(function(t){t.forEach(function(t){t.reject(new Ar(Dr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Fo.clear(),n.sharedClientState.handleUserChange(o,r.removedBatchIds,r.addedBatchIds),[4,Mf(n,r.Ln)];case 2:t.sent(),t.label=3;case 3:return[2]}var e})})}function Vf(a,u,c,h){return y(this,void 0,void 0,function(){var o,s;return g(this,function(t){switch(t.label){case 0:return[4,(e=(o=a).localStore,n=u,i=(r=e)._n,r.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return i.jt(e,n).next(function(t){return t?r.Mn.pn(e,t):tu.resolve(null)})}))];case 1:return null===(s=t.sent())?[3,6]:"pending"!==c?[3,3]:[4,ql(o.remoteStore)];case 2:return t.sent(),[3,4];case 3:"acknowledged"===c||"rejected"===c?(Rf(o,u,h||null),Cf(o,u),o.localStore._n.Gt(u)):Mr(),t.label=4;case 4:return[4,Mf(o,s)];case 5:return t.sent(),[3,7];case 6:xr("SyncEngine","Cannot apply mutation batch with id: "+u),t.label=7;case 7:return[2]}var e,n,r,i})})}function Uf(h,l){return y(this,void 0,void 0,function(){var r,e,i,o,s,a,u,c;return g(this,function(t){switch(t.label){case 0:return jf(r=h),Kf(r),!0!==l||!0===r.Oo?[3,3]:(e=r.sharedClientState.getAllActiveQueryTargets(),[4,qf(r,e.toArray())]);case 1:return i=t.sent(),r.Oo=!0,[4,Kl(r.remoteStore,!0)];case 2:for(t.sent(),o=0,s=i;o<s.length;o++)a=s[o],kl(r.remoteStore,a);return[3,7];case 3:return!1!==l||!1===r.Oo?[3,7]:(u=[],c=Promise.resolve(),r.Vo.forEach(function(t,e){r.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then(function(){return xf(r,e),sh(r.localStore,e,!0)}),Cl(r.remoteStore,e)}),[4,c]);case 4:return t.sent(),[4,qf(r,u)];case 5:return t.sent(),(n=r).Co.forEach(function(t,e){Cl(n.remoteStore,e)}),n.No.ts(),n.Co=new Map,n.Do=new Ns(mi.comparator),r.Oo=!1,[4,Kl(r.remoteStore,!1)];case 6:t.sent(),t.label=7;case 7:return[2]}var n})})}function qf(d,p){return y(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c,h,l,f;return g(this,function(t){switch(t.label){case 0:e=d,n=[],r=[],i=0,o=p,t.label=1;case 1:return i<o.length?(s=o[i],a=void 0,(u=e.Vo.get(s))&&0!==u.length?[4,oh(e.localStore,No(u[0]))]:[3,7]):[3,13];case 2:a=t.sent(),c=0,h=u,t.label=3;case 3:return c<h.length?(l=h[c],l=e.Po.get(l),[4,function(r,i){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return[4,ah((e=r).localStore,i.query,!0)];case 1:return n=t.sent(),n=i.view.Ao(n),[2,(e.isPrimaryClient&&Lf(e,i.targetId,n.To),n)]}})})}(e,l)]):[3,6];case 4:(l=t.sent()).snapshot&&r.push(l.snapshot),t.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,uh(e.localStore,s)];case 8:return f=t.sent(),[4,oh(e.localStore,f)];case 9:return a=t.sent(),[4,_f(e,Bf(f),s,!1)];case 10:t.sent(),t.label=11;case 11:n.push(a),t.label=12;case 12:return i++,[3,1];case 13:return[2,(e.vo._r(r),n)]}})})}function Bf(t){return vo(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function jf(t){return t.remoteStore.remoteSyncer.applyRemoteEvent=Nf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(t,e){var n=t;if((t=n.Co.get(e))&&t.bo)return Bs().add(t.key);var r=Bs();if(!(e=n.Vo.get(e)))return r;for(var i=0,o=e;i<o.length;i++)var s=o[i],s=n.Po.get(s),r=r.unionWith(s.view.wo);return r}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=function(o,s,a){return y(this,void 0,void 0,function(){var e,n,r,i;return g(this,function(t){switch(t.label){case 0:return(e=o).sharedClientState.updateQueryState(s,"rejected",a),i=e.Co.get(s),(n=i&&i.key)?(r=(r=new Ns(mi.comparator)).insert(n,Oi.newNoDocument(n,Gr.min())),i=Bs().add(n),i=new Ks(Gr.min(),new Map,new Os(qr),r,i),[4,Nf(e,i)]):[3,2];case 1:return t.sent(),e.Do=e.Do.remove(n),e.Co.delete(s),Pf(e),[3,4];case 2:return[4,sh(e.localStore,s,!1).then(function(){return xf(e,s,a)}).catch(dc)];case 3:t.sent(),t.label=4;case 4:return[2]}})})}.bind(null,t),t.vo._r=function(t,e){for(var n=t,r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,a=n.queries.get(a);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&sf(n)}.bind(null,t.eventManager),t.vo.Mo=function(t,e,n){var r=t;if(t=r.queries.get(e))for(var i=0,o=t.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(e)}.bind(null,t.eventManager),t}function Kf(t){return t.remoteStore.remoteSyncer.applySuccessfulWrite=function(i,o){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:e=i,n=o.batch.batchId,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,eh(e.localStore,o)];case 2:return r=t.sent(),Rf(e,n,null),Cf(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),[4,Mf(e,r)];case 3:return t.sent(),[3,6];case 4:return[4,dc(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})}.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Af.bind(null,t),t}function Gf(t,e,n){var r=t;!function(f,d,p){return y(this,void 0,void 0,function(){var a,u,c,h,l;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,14,,15]),[4,d.getMetadata()];case 1:return a=t.sent(),[4,(r=f.localStore,o=r,s=aa((i=a).createTime),o.persistence.runTransaction("hasNewerBundle","readonly",function(t){return o.Qe.getBundleMetadata(t,i.id)}).then(function(t){return!!t&&0<=t.createTime.compareTo(s)}))];case 2:return t.sent()?[4,d.close()]:[3,4];case 3:return[2,(t.sent(),void p._completeWith({taskState:"Success",documentsLoaded:a.totalDocuments,bytesLoaded:a.totalBytes,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}))];case 4:return p._updateProgress(yf(a)),u=new hf(a,f.localStore,d.R),[4,d.Lo()];case 5:c=t.sent(),t.label=6;case 6:return c?[4,u.oo(c)]:[3,10];case 7:return(h=t.sent())&&p._updateProgress(h),[4,d.Lo()];case 8:c=t.sent(),t.label=9;case 9:return[3,6];case 10:return[4,u.complete()];case 11:return l=t.sent(),[4,Mf(f,l.wn,void 0)];case 12:return t.sent(),[4,(r=f.localStore,e=a,(n=r).persistence.runTransaction("Save bundle","readwrite",function(t){return n.Qe.saveBundleMetadata(t,e)}))];case 13:return t.sent(),p._completeWith(l.progress),[3,15];case 14:return Lr("SyncEngine","Loading bundle failed with "+(l=t.sent())),p._failWith(l),[3,15];case 15:return[2]}var e,n,r,i,o,s})})}(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var Qf,zf,Hf=(td.prototype.initialize=function(e){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.R=ll(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}})})},td.prototype.Uo=function(t){return null},td.prototype.Qo=function(t){return Zc(this.persistence,new Hc,t.initialUser,this.R)},td.prototype.qo=function(t){return new wh(Eh.bs,this.R)},td.prototype.Bo=function(t){return new Qh},td.prototype.terminate=function(){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},td),Wf=(n(Zf,zf=Hf),Zf.prototype.initialize=function(e){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,zf.prototype.initialize.call(this,e)];case 1:return t.sent(),[4,hh(this.localStore)];case 2:return t.sent(),[4,this.Ko.initialize(this,e)];case 3:return t.sent(),[4,Kf(this.Ko.syncEngine)];case 4:return t.sent(),[4,ql(this.Ko.remoteStore)];case 5:return t.sent(),[2]}})})},Zf.prototype.Qo=function(t){return Zc(this.persistence,new Hc,t.initialUser,this.R)},Zf.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new gc(e,t.asyncQueue)},Zf.prototype.qo=function(t){var e=Kc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Xu.withCacheSize(this.cacheSizeBytes):Xu.DEFAULT;return new Uc(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,cl(),hl(),this.R,this.sharedClientState,!!this.forceOwnership)},Zf.prototype.Bo=function(t){return new Qh},Zf),Yf=(n($f,Qf=Wf),$f.prototype.initialize=function(r){return y(this,void 0,void 0,function(){var e,n=this;return g(this,function(t){switch(t.label){case 0:return[4,Qf.prototype.initialize.call(this,r)];case 1:return t.sent(),e=this.Ko.syncEngine,this.sharedClientState instanceof Gh?(this.sharedClientState.syncEngine={ui:Vf.bind(null,e),ai:function(i,o,s,a){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return(e=i).Oo?(xr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!e.Vo.has(o))return[3,8];switch(s){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ch(e.localStore)];case 3:return n=t.sent(),r=Ks.createSynthesizedRemoteEventForCurrentChange(o,"current"===s),[4,Mf(e,n,r)];case 4:return t.sent(),[3,8];case 5:return[4,sh(e.localStore,o,!0)];case 6:return t.sent(),xf(e,o,a),[3,8];case 7:Mr(),t.label=8;case 8:return[2]}})})}.bind(null,e),hi:function(c,h,l){return y(this,void 0,void 0,function(){var n,e,r,i,o,s,a,u;return g(this,function(t){switch(t.label){case 0:if(!(n=jf(c)).Oo)return[3,10];e=0,r=h,t.label=1;case 1:return e<r.length?(r=r[e],n.Vo.has(r)?(xr("SyncEngine","Adding an already active target "+r),[3,5]):[4,uh(n.localStore,r)]):[3,6];case 2:return i=t.sent(),[4,oh(n.localStore,i)];case 3:return o=t.sent(),[4,_f(n,Bf(i),o.targetId,!1)];case 4:t.sent(),kl(n.remoteStore,o),t.label=5;case 5:return e++,[3,1];case 6:s=function(e){return g(this,function(t){switch(t.label){case 0:return n.Vo.has(e)?[4,sh(n.localStore,e,!1).then(function(){Cl(n.remoteStore,e),xf(n,e)}).catch(dc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},a=0,u=l,t.label=7;case 7:return a<u.length?(u=u[a],[5,s(u)]):[3,10];case 8:t.sent(),t.label=9;case 9:return a++,[3,7];case 10:return[2]}})})}.bind(null,e),fn:function(t){return t.localStore.persistence.fn()}.bind(null,e),ci:function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){return[2,ch((e=n).localStore).then(function(t){return Mf(e,t)})]})})}.bind(null,e)},[4,this.sharedClientState.start()]):[3,3];case 2:t.sent(),t.label=3;case 3:return[4,this.persistence.He(function(e){return y(n,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,Uf(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}})})})];case 4:return t.sent(),[2]}})})},$f.prototype.Bo=function(t){var e=cl();if(!Gh.yt(e))throw new Ar(Dr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Kc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Gh(e,t.asyncQueue,n,t.clientId,t.initialUser)},$f),Xf=(Jf.prototype.initialize=function(n,r){return y(this,void 0,void 0,function(){var e=this;return g(this,function(t){switch(t.label){case 0:return this.localStore?[3,2]:(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Df(e.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ff.bind(null,this.syncEngine),[4,Kl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},Jf.prototype.createEventManager=function(t){return new Yl},Jf.prototype.createDatastore=function(t){var e=ll(t.databaseInfo.databaseId),n=(n=t.databaseInfo,new Xh(n));return t=t.credentials,new bl(t,n,e)},Jf.prototype.createRemoteStore=function(t){var e=this,n=this.localStore,r=this.datastore,i=t.asyncQueue,o=function(t){return Df(e.syncEngine,t,0)},t=new(Hh.yt()?Hh:zh);return new fl(n,r,i,o,t)},Jf.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){o=new If(t,e,n,r,i,o);return s&&(o.Oo=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},Jf.prototype.terminate=function(){return function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=n,xr("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Al(e)];case 1:return t.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},Jf);function Jf(){}function $f(t,e){var n=this;return(n=Qf.call(this,t,e,!1)||this).Ko=t,n.cacheSizeBytes=e,n.synchronizeTabs=!0,n}function Zf(t,e,n){var r=this;return(r=zf.call(this)||this).Ko=t,r.cacheSizeBytes=e,r.forceOwnership=n,r.synchronizeTabs=!1,r}function td(){this.synchronizeTabs=!1}function ed(n,r){void 0===r&&(r=10240);var i=0;return{read:function(){return y(this,void 0,void 0,function(){var e;return g(this,function(t){return i<n.byteLength?(e={value:n.slice(i,i+r),done:!1},[2,(i+=r,e)]):[2,{done:!0}]})})},cancel:function(){return y(this,void 0,void 0,function(){return g(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var nd=(ld.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},ld.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},ld.prototype.Wo=function(){this.muted=!0},ld.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},ld),rd=(hd.prototype.close=function(){return this.Go.cancel()},hd.prototype.getMetadata=function(){return y(this,void 0,void 0,function(){return g(this,function(t){return[2,this.metadata.promise]})})},hd.prototype.Lo=function(){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},hd.prototype.Ho=function(){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return[4,this.Jo()];case 1:return null===(e=t.sent())?[2,null]:(r=this.zo.decode(e),n=Number(r),isNaN(n)&&this.Yo("length string ("+r+") is not valid number"),[4,this.Xo(n)]);case 2:return r=t.sent(),[2,new uf(JSON.parse(r),e.length+n)]}})})},hd.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},hd.prototype.Jo=function(){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(t.sent())return[3,3];t.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},hd.prototype.Xo=function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return this.buffer.length<n?[4,this.tc()]:[3,3];case 1:t.sent()&&this.Yo("Reached the end of bundle when more is expected."),t.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,n)),[2,(this.buffer=this.buffer.slice(n),e)]}})})},hd.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},hd.prototype.tc=function(){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return[4,this.Go.read()];case 1:return(e=t.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},hd),id=(cd.prototype.lookup=function(r){return y(this,void 0,void 0,function(){var e,n=this;return g(this,function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new Ar(Dr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return y(this,void 0,void 0,function(){var n,e,r,i,o;return g(this,function(t){switch(t.label){case 0:return e=pa((n=s).R)+"/documents",r={documents:a.map(function(t){return ha(n.R,t)})},[4,n.Oi("BatchGetDocuments",e,r)];case 1:return r=t.sent(),i=new Map,r.forEach(function(t){var e,t=(e=n.R,"found"in(t=t)?function(t,e){Fr(!!e.found),e.found.name,e.found.updateTime;var n=la(t,e.found.name),t=aa(e.found.updateTime),e=new Ri({mapValue:{fields:e.found.fields}});return Oi.newFoundDocument(n,t,e)}(e,t):"missing"in t?function(t,e){Fr(!!e.missing),Fr(!!e.readTime);t=la(t,e.missing),e=aa(e.readTime);return Oi.newNoDocument(t,e)}(e,t):Mr());i.set(t.key.toString(),t)}),o=[],[2,(a.forEach(function(t){t=i.get(t.toString());Fr(!!t),o.push(t)}),o)]}})})}(this.datastore,r)];case 1:return[2,((e=t.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},cd.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},cd.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},cd.prototype.delete=function(t){this.write(new ws(t,this.precondition(t))),this.writtenDocs.add(t.toString())},cd.prototype.commit=function(){return y(this,void 0,void 0,function(){var e,n=this;return g(this,function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(t,e){e=mi.fromPath(e);n.mutations.push(new Is(e,n.precondition(e)))}),[4,function(i,o){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return n=pa((e=i).R)+"/documents",r={writes:o.map(function(t){return va(e.R,t)})},[4,e.Ni("Commit",n,r)];case 1:return t.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}})})},cd.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Mr();e=Gr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ar(Dr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},cd.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?es.updateTime(e):es.none()},cd.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(this.writtenDocs.has(t.toString())||!e)return es.exists(!0);if(e.isEqual(Gr.min()))throw new Ar(Dr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return es.updateTime(e)},cd.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},cd.prototype.ensureCommitNotCalled=function(){},cd),od=(ud.prototype.run=function(){this.nc()},ud.prototype.nc=function(){var t=this;this.Zi.ji(function(){return y(t,void 0,void 0,function(){var e,n,r=this;return g(this,function(t){return e=new id(this.datastore),(n=this.sc(e))&&n.then(function(t){r.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){r.deferred.resolve(t)}).catch(function(t){r.ic(t)})})}).catch(function(t){r.ic(t)}),[2]})})})},ud.prototype.sc=function(t){try{var e=this.updateFunction(t);return!pi(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},ud.prototype.ic=function(t){var e=this;0<this.ec&&this.rc(t)?(--this.ec,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},ud.prototype.rc=function(t){if("FirebaseError"!==t.name)return!1;t=t.code;return"aborted"===t||"failed-precondition"===t||!_s(t)},ud),sd=(ad.prototype.getConfiguration=function(){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},ad.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},ad.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ar(Dr.FAILED_PRECONDITION,"The client has already been terminated.")},ad.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:t.sent(),t.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return e=t.sent(),e=Wl(e,"Failed to shutdown persistence"),n.reject(e),[3,6];case 6:return[2]}})})}),n.promise},ad);function ad(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Th.UNAUTHENTICATED,this.clientId=Vr.u(),this.credentialListener=function(){},this.receivedInitialUser=new Za,this.credentials.setChangeListener(function(t){xr("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}function ud(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new gl(this.asyncQueue,"transaction_retry")}function cd(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}function hd(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Za,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}function ld(t){this.observer=t,this.muted=!1}function fd(i,o){return y(this,void 0,void 0,function(){var e,n,r=this;return g(this,function(t){switch(t.label){case 0:return i.asyncQueue.verifyOperationInProgress(),xr("FirestoreClient","Initializing OfflineComponentProvider"),[4,i.getConfiguration()];case 1:return e=t.sent(),[4,o.initialize(e)];case 2:return t.sent(),n=e.initialUser,i.setCredentialChangeListener(function(e){n.isEqual(e)||(n=e,i.asyncQueue.enqueueRetryable(function(){return y(r,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,th(o.localStore,e)];case 1:return t.sent(),[2]}})})}))}),o.persistence.setDatabaseDeletedListener(function(){return i.terminate()}),i.offlineComponents=o,[2]}})})}function dd(r,i){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return r.asyncQueue.verifyOperationInProgress(),[4,pd(r)];case 1:return e=t.sent(),xr("FirestoreClient","Initializing OnlineComponentProvider"),[4,r.getConfiguration()];case 2:return n=t.sent(),[4,i.initialize(e,n)];case 3:return t.sent(),r.setCredentialChangeListener(function(t){return r.asyncQueue.enqueueRetryable(function(){return function(r,i){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return(e=r).asyncQueue.verifyOperationInProgress(),xr("RemoteStore","RemoteStore received new credentials"),n=Pl(e),e.$r.add(3),[4,Al(e)];case 1:return t.sent(),n&&e.Br.set("Unknown"),[4,e.remoteSyncer.handleCredentialChange(i)];case 2:return t.sent(),e.$r.delete(3),[4,Dl(e)];case 3:return t.sent(),[2]}})})}(i.remoteStore,t)})}),r.onlineComponents=i,[2]}})})}function pd(e){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(xr("FirestoreClient","Using default OfflineComponentProvider"),[4,fd(e,new Hf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function yd(e){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(xr("FirestoreClient","Using default OnlineComponentProvider"),[4,dd(e,new Xf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function gd(t){return pd(t).then(function(t){return t.persistence})}function md(t){return pd(t).then(function(t){return t.localStore})}function vd(t){return yd(t).then(function(t){return t.remoteStore})}function bd(t){return yd(t).then(function(t){return t.syncEngine})}function wd(r){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return[4,yd(r)];case 1:return e=t.sent(),[2,((n=e.eventManager).onListen=function(s,a){return y(this,void 0,void 0,function(){var e,n,r,i,o;return g(this,function(t){switch(t.label){case 0:return e=jf(s),(o=e.Po.get(a))?(n=o.targetId,e.sharedClientState.addLocalQueryTarget(n),r=o.view.Ro(),[3,4]):[3,1];case 1:return[4,oh(e.localStore,No(a))];case 2:return i=t.sent(),o=e.sharedClientState.addLocalQueryTarget(i.targetId),n=i.targetId,[4,_f(e,a,n,"current"===o)];case 3:r=t.sent(),e.isPrimaryClient&&kl(e.remoteStore,i),t.label=4;case 4:return[2,r]}})})}.bind(null,e.syncEngine),n.onUnlisten=function(i,o){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return n=(e=i).Po.get(o),1<(r=e.Vo.get(n.targetId)).length?[2,(e.Vo.set(n.targetId,r.filter(function(t){return!Ao(t,o)})),void e.Po.delete(o))]:e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)?[3,2]:[4,sh(e.localStore,n.targetId,!1).then(function(){e.sharedClientState.clearQueryState(n.targetId),Cl(e.remoteStore,n.targetId),xf(e,n.targetId)}).catch(dc)]):[3,3];case 1:t.sent(),t.label=2;case 2:return[3,5];case 3:return xf(e,n.targetId),[4,sh(e.localStore,n.targetId,!0)];case 4:t.sent(),t.label=5;case 5:return[2]}})})}.bind(null,e.syncEngine),n)]}})})}function Id(n,r,i){var t=this;void 0===i&&(i={});var o=new Za;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(n,r,i,o,s){var t=new nd({next:function(t){r.enqueueAndForget(function(){return of(n,a)});var e=t.docs.has(i);!e&&t.fromCache?s.reject(new Ar(Dr.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&o&&"server"===o.source?s.reject(new Ar(Dr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(t)},error:function(t){return s.reject(t)}}),a=new af(bo(i.path),t,{includeMetadataChanges:!0,so:!0});return rf(n,a)},[4,wd(n)];case 1:return[2,e.apply(void 0,[t.sent(),n.asyncQueue,r,i,o])]}})})}),o.promise}function Ed(n,r,i){var t=this;void 0===i&&(i={});var o=new Za;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(e,n,t,r,i){var o=new nd({next:function(t){n.enqueueAndForget(function(){return of(e,s)}),t.fromCache&&"server"===r.source?i.reject(new Ar(Dr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(t)},error:function(t){return i.reject(t)}}),s=new af(t,o,{includeMetadataChanges:!0,so:!0});return rf(e,s)},[4,wd(n)];case 1:return[2,e.apply(void 0,[t.sent(),n.asyncQueue,r,i,o])]}})})}),o.promise}function Td(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t}var _d=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},Sd=(Object.defineProperty(Pd.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),Pd.prototype.isEqual=function(t){return t instanceof Pd&&t.projectId===this.projectId&&t.database===this.database},Pd),Nd=new Map,Dd=(Ld.prototype.getToken=function(){return Promise.resolve(null)},Ld.prototype.invalidateToken=function(){},Ld.prototype.setChangeListener=function(t){(this.changeListener=t)(Th.UNAUTHENTICATED)},Ld.prototype.removeChangeListener=function(){this.changeListener=null},Ld),Ad=(Od.prototype.getToken=function(){var e=this,n=this.cc,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(function(t){return e.cc!==n?(xr("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):t?(Fr("string"==typeof t.accessToken),new Td(t.accessToken,e.currentUser)):null}):Promise.resolve(null)},Od.prototype.invalidateToken=function(){this.forceRefresh=!0},Od.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},Od.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},Od.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Fr(null===t||"string"==typeof t),new Th(t)},Od),kd=(Object.defineProperty(xd.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),xd),Cd=(Rd.prototype.getToken=function(){return Promise.resolve(new kd(this.ac,this.hc,this.lc))},Rd.prototype.setChangeListener=function(t){t(Th.FIRST_PARTY)},Rd.prototype.removeChangeListener=function(){},Rd.prototype.invalidateToken=function(){},Rd);function Rd(t,e,n){this.ac=t,this.hc=e,this.lc=n}function xd(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=Th.FIRST_PARTY}function Od(t){var e=this;this.oc=null,this.currentUser=Th.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}function Ld(){this.changeListener=null}function Pd(t,e){this.projectId=t,this.database=e||"(default)"}function Md(t,e,n){if(!n)throw new Ar(Dr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Fd(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Vd(t,e,n,r){if(!0===e&&!0===r)throw new Ar(Dr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ud(t){if(!mi.isDocumentKey(t))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function qd(t){if(mi.isDocumentKey(t))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Bd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":Mr();if(e instanceof Array)return"an array";var t=function(){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}();return t?"a custom "+t+" object":"an object"}function jd(t,e){if((t="_delegate"in t?t._delegate:t)instanceof e)return t;if(e.name===t.constructor.name)throw new Ar(Dr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");t=Bd(t);throw new Ar(Dr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}function Kd(t,e){if(e<=0)throw new Ar(Dr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Gd,Qd=(tp.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},tp),zd=(Object.defineProperty(Zd.prototype,"app",{get:function(){if(!this._app)throw new Ar(Dr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(Zd.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(Zd.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),Zd.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ar(Dr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qd(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Dd;switch(t.type){case"gapi":var e=t.client;return Fr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Cd(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ar(Dr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},Zd.prototype._getSettings=function(){return this._settings},Zd.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},Zd.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},Zd.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},Zd.prototype._terminate=function(){return(t=Nd.get(this))&&(xr("ComponentProvider","Removing Datastore"),Nd.delete(this),t.terminate()),Promise.resolve();var t},Zd),Hd=(Object.defineProperty($d.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty($d.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty($d.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty($d.prototype,"parent",{get:function(){return new Yd(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),$d.prototype.withConverter=function(t){return new $d(this.firestore,t,this._key)},$d),Wd=(Jd.prototype.withConverter=function(t){return new Jd(this.firestore,t,this._query)},Jd),Yd=(n(Xd,Gd=Wd),Object.defineProperty(Xd.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(Xd.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(Xd.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Hd(this.firestore,null,new mi(t))},enumerable:!1,configurable:!0}),Xd.prototype.withConverter=function(t){return new Xd(this.firestore,t,this._path)},Xd);function Xd(t,e,n){var r=this;return(r=Gd.call(this,t,e,bo(n))||this)._path=n,r.type="collection",r}function Jd(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}function $d(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}function Zd(t,e){this._persistenceKey="(lite)",this._settings=new Qd({}),this._settingsFrozen=!1,t instanceof Sd?(this._databaseId=t,this._credentials=new Dd):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ar(Dr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sd(t.options.projectId)}(t),this._credentials=new Ad(e))}function tp(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ar(Dr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ar(Dr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Vd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}function ep(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=m(t),Md("collection","path",e),t instanceof zd)return qd(n=$r.fromString.apply($r,s([e],r))),new Yd(t,null,n);if(!(t instanceof Hd||t instanceof Yd))throw new Ar(Dr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return qd(n=$r.fromString.apply($r,s([t.path],r)).child($r.fromString(e))),new Yd(t.firestore,null,n)}function np(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=m(t),Md("doc","path",e=1===arguments.length?Vr.u():e),t instanceof zd)return Ud(n=$r.fromString.apply($r,s([e],r))),new Hd(t,null,new mi(n));if(!(t instanceof Hd||t instanceof Yd))throw new Ar(Dr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ud(n=t._path.child($r.fromString.apply($r,s([e],r)))),new Hd(t.firestore,t instanceof Yd?t._converter:null,new mi(n))}function rp(t,e){return t=m(t),e=m(e),(t instanceof Hd||t instanceof Yd)&&(e instanceof Hd||e instanceof Yd)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function ip(t,e){return t=m(t),e=m(e),t instanceof Wd&&e instanceof Wd&&t.firestore===e.firestore&&Ao(t._query,e._query)&&t._converter===e._converter}var op=(Object.defineProperty(sp.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),sp.prototype.enqueueAndForget=function(t){this.enqueue(t)},sp.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},sp.prototype.enterRestrictedMode=function(){var t;this.wc||(this.wc=!0,(t=hl())&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec))},sp.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},sp.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},sp.prototype.Ac=function(){return y(this,void 0,void 0,function(){var e,n=this;return g(this,function(t){switch(t.label){case 0:if(0===this.dc.length)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return t.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!lu(e=t.sent()))throw e;return xr("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:0<this.dc.length&&this.Zi.ji(function(){return n.Ac()}),t.label=5;case 5:return[2]}})})},sp.prototype.Ic=function(t){var r=this,e=this.fc.then(function(){return r.yc=!0,t().catch(function(t){throw r.mc=t,r.yc=!1,Or("INTERNAL UNHANDLED ERROR: ",(n=(e=t).message||"",n=e.stack?e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack:n)),t;var e,n}).then(function(t){return r.yc=!1,t})});return this.fc=e},sp.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),-1<this.gc.indexOf(t)&&(e=0);n=zl.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(n),n},sp.prototype.Tc=function(){this.mc&&Mr()},sp.prototype.verifyOperationInProgress=function(){},sp.prototype.bc=function(){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return[4,e=this.fc];case 1:t.sent(),t.label=2;case 2:if(e!==this.fc)return[3,0];t.label=3;case 3:return[2]}})})},sp.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},sp.prototype.Pc=function(r){var i=this;return this.bc().then(function(){i._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var t=0,e=i._c;t<e.length;t++){var n=e[t];if(n.skipDelay(),"all"!==r&&n.timerId===r)break}return i.bc()})},sp.prototype.Vc=function(t){this.gc.push(t)},sp.prototype.Rc=function(t){t=this._c.indexOf(t);this._c.splice(t,1)},sp);function sp(){var e=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new gl(this,"async_queue_retry"),this.Ec=function(){var t=hl();t&&xr("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=hl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ec)}function ap(i){return function(){if("object"==typeof i&&null!==i)for(var t=i,e=0,n=["next","error","complete"];e<n.length;e++){var r=n[e];if(r in t&&"function"==typeof t[r])return 1}}()}var up,cp=(fp.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},fp.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},fp.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},fp.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},fp.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},fp.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},fp),hp=(n(lp,up=zd),lp.prototype._terminate=function(){return this._firestoreClient||pp(this),this._firestoreClient.terminate()},lp);function lp(t,e){var n=this;return(n=up.call(this,t,e)||this)._queue=new op,n._persistenceKey="name"in t?t.name:"[DEFAULT]",n}function fp(){this._progressObserver={},this._taskCompletionResolver=new Za,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}function dp(t){return t._firestoreClient||pp(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function pp(t){var e,n,r,i=t._freezeSettings(),i=(e=t._databaseId,n=(null===(r=t._app)||void 0===r?void 0:r.options.appId)||"",r=t._persistenceKey,new _d(e,n,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling));t._firestoreClient=new sd(t._credentials,t._queue,i)}function yp(r,i,o){var t=this,s=new Za;return r.asyncQueue.enqueue(function(){return y(t,void 0,void 0,function(){var n;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,fd(r,o)];case 1:return t.sent(),[4,dd(r,i)];case 2:return t.sent(),s.resolve(),[3,4];case 3:if(!("FirebaseError"===(e=n=t.sent()).name?e.code===Dr.FAILED_PRECONDITION||e.code===Dr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code))throw n;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+n),s.reject(n),[3,4];case 4:return[2]}var e})})}).then(function(){return s.promise})}function gp(t){if(t._initialized||t._terminated)throw new Ar(Dr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var mp=(Ap.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},Ap),vp=(Dp.fromBase64String=function(t){try{return new Dp(ni.fromBase64String(t))}catch(t){throw new Ar(Dr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},Dp.fromUint8Array=function(t){return new Dp(ni.fromUint8Array(t))},Dp.prototype.toBase64=function(){return this._byteString.toBase64()},Dp.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},Dp.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},Dp.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},Dp),bp=function(t){this._methodName=t},wp=(Object.defineProperty(Np.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(Np.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),Np.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},Np.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},Np.prototype._compareTo=function(t){return qr(this._lat,t._lat)||qr(this._long,t._long)},Np),Ip=/^__.*__$/,Ep=(Sp.prototype.toMutation=function(t,e){return null!==this.fieldMask?new hs(t,this.data,this.fieldMask,e,this.fieldTransforms):new cs(t,this.data,e,this.fieldTransforms)},Sp),Tp=(_p.prototype.toMutation=function(t,e){return new hs(t,this.data,this.fieldMask,e,this.fieldTransforms)},_p);function _p(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}function Sp(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}function Np(t,e){if(!isFinite(t)||t<-90||90<t)throw new Ar(Dr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new Ar(Dr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}function Dp(t){this._byteString=t}function Ap(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(t)}function kp(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Mr()}}var Cp=(Object.defineProperty(Op.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(Op.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),Op.prototype.Cc=function(t){return new Op(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},Op.prototype.Nc=function(t){var e=null===(e=this.path)||void 0===e?void 0:e.child(t),e=this.Cc({path:e,xc:!1});return e.Fc(t),e},Op.prototype.kc=function(t){var e,t=null===(e=this.path)||void 0===e?void 0:e.child(t),t=this.Cc({path:t,xc:!1});return t.Sc(),t},Op.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},Op.prototype.$c=function(t){return uy(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},Op.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},Op.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},Op.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(kp(this.Dc)&&Ip.test(t))throw this.$c('Document fields cannot begin and end with "__"')},Op),Rp=(xp.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new Cp({Dc:t,methodName:e,Lc:n,path:ti.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},xp);function xp(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||ll(t)}function Op(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}function Lp(t){var e=t._freezeSettings(),n=ll(t._databaseId);return new Rp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pp(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);iy("Data must be an object, but it was:",s,r);var a,u,r=ny(r,s);if(o.merge)a=new ei(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,l=o.mergeFields;h<l.length;h++){var f=oy(e,l[h],n);if(!s.contains(f))throw new Ar(Dr.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");cy(c,f)||c.push(f)}a=new ei(c),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Ep(new Ri(r),a,u)}var Mp,Fp=(n(Vp,Mp=bp),Vp.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw 1===t.Dc?t.$c(this._methodName+"() can only appear at the top level of your update data"):t.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},Vp.prototype.isEqual=function(t){return t instanceof Vp},Vp);function Vp(){return null!==Mp&&Mp.apply(this,arguments)||this}function Up(t,e,n){return new Cp({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var qp,Bp,jp,Kp,Gp=(n(Jp,Kp=bp),Jp.prototype._toFieldTransform=function(t){return new ts(t.path,new Uo)},Jp.prototype.isEqual=function(t){return t instanceof Jp},Jp),Qp=(n(Xp,jp=bp),Xp.prototype._toFieldTransform=function(t){var e=Up(this,t,!0),n=this.qc.map(function(t){return ey(t,e)}),n=new qo(n);return new ts(t.path,n)},Xp.prototype.isEqual=function(t){return this===t},Xp),zp=(n(Yp,Bp=bp),Yp.prototype._toFieldTransform=function(t){var e=Up(this,t,!0),n=this.qc.map(function(t){return ey(t,e)}),n=new Qo(n);return new ts(t.path,n)},Yp.prototype.isEqual=function(t){return this===t},Yp),Hp=(n(Wp,qp=bp),Wp.prototype._toFieldTransform=function(t){var e=new Yo(t.R,Po(t.R,this.Uc));return new ts(t.path,e)},Wp.prototype.isEqual=function(t){return this===t},Wp);function Wp(t,e){var n=this;return(n=qp.call(this,t)||this).Uc=e,n}function Yp(t,e){var n=this;return(n=Bp.call(this,t)||this).qc=e,n}function Xp(t,e){var n=this;return(n=jp.call(this,t)||this).qc=e,n}function Jp(){return null!==Kp&&Kp.apply(this,arguments)||this}function $p(t,r,i,e){var o=t.Bc(1,r,i);iy("Data must be an object, but it was:",o,e);var s=[],a=Ri.empty();Wr(e,function(t,e){var n=ay(r,t,i);e=m(e);t=o.kc(n);e instanceof Fp?s.push(n):null!=(t=ey(e,t))&&(s.push(n),a.set(n,t))});e=new ei(s);return new Tp(a,e,o.fieldTransforms)}function Zp(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[oy(e,r,n)],u=[i];if(o.length%2!=0)throw new Ar(Dr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(oy(e,o[c])),u.push(o[c+1]);for(var h,l,f,d=[],p=Ri.empty(),y=a.length-1;0<=y;--y)cy(d,a[y])||(h=a[y],l=m(l=u[y]),f=s.kc(h),l instanceof Fp?d.push(h):null!=(f=ey(l,f))&&(d.push(h),p.set(h,f)));i=new ei(d);return new Tp(p,i,s.fieldTransforms)}function ty(t,e,n,r){return void 0===r&&(r=!1),ey(n,t.Bc(r?4:3,e))}function ey(s,t){if(ry(s=m(s)))return iy("Unsupported field value:",t,s),ny(s,t);if(s instanceof bp)return function(t,e){if(!kp(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");t=t._toFieldTransform(e);t&&e.fieldTransforms.push(t)}(s,t),null;if(void 0===s&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.xc&&4!==t.Dc)throw t.$c("Nested arrays are not supported");return function(t){for(var e=[],n=0,r=0,i=s;r<i.length;r++){var o=ey(i[r],t.Oc(n));null==o&&(o={nullValue:"NULL_VALUE"}),e.push(o),n++}return{arrayValue:{values:e}}}(t)}return function(t,e){if(null===(t=m(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Po(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Kr.fromDate(t);return{timestampValue:oa(e.R,n)}}if(t instanceof Kr)return n=new Kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:oa(e.R,n)};if(t instanceof wp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof vp)return{bytesValue:sa(e.R,t._byteString)};if(t instanceof Hd){var n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ua(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Bd(t))}(s,t)}function ny(t,n){var r={};return Yr(t)?n.path&&0<n.path.length&&n.fieldMask.push(n.path):Wr(t,function(t,e){e=ey(e,n.Nc(t));null!=e&&(r[t]=e)}),{mapValue:{fields:r}}}function ry(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Kr||t instanceof wp||t instanceof vp||t instanceof Hd||t instanceof bp)}function iy(t,e,n){if(!ry(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){n=Bd(n);throw"an object"===n?e.$c(t+" a custom object"):e.$c(t+" "+n)}var r}function oy(t,e,n){if((e=m(e))instanceof mp)return e._internalPath;if("string"==typeof e)return ay(t,e);throw uy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var sy=new RegExp("[~\\*/\\[\\]]");function ay(e,n,r){if(0<=n.search(sy))throw uy("Invalid field path ("+n+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,r);try{return(new(mp.bind.apply(mp,s([void 0],n.split(".")))))._internalPath}catch(t){throw uy("Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,r)}}function uy(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,e="Function "+e+"() called with invalid data";n&&(e+=" (via `toFirestore()`)");n="";return(o||s)&&(n+=" (found",o&&(n+=" in field "+r),s&&(n+=" in document "+i),n+=")"),new Ar(Dr.INVALID_ARGUMENT,(e+=". ")+t+n)}function cy(t,e){return t.some(function(t){return t.isEqual(e)})}var hy,ly=(Object.defineProperty(py.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(py.prototype,"ref",{get:function(){return new Hd(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),py.prototype.exists=function(){return null!==this._document},py.prototype.data=function(){if(this._document){if(this._converter){var t=new fy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},py.prototype.get=function(t){if(this._document){t=this._document.data.field(yy("DocumentSnapshot.get",t));if(null!==t)return this._userDataWriter.convertValue(t)}},py),fy=(n(dy,hy=ly),dy.prototype.data=function(){return hy.prototype.data.call(this)},dy);function dy(){return null!==hy&&hy.apply(this,arguments)||this}function py(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}function yy(t,e){return"string"==typeof e?ay(t,e):(e instanceof mp?e:e._delegate)._internalPath}var gy,my,vy=(Sy.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},Sy),by=(n(_y,my=ly),_y.prototype.exists=function(){return my.prototype.exists.call(this)},_y.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new wy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},_y.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){t=this._document.data.field(yy("DocumentSnapshot.get",t));if(null!==t)return this._userDataWriter.convertValue(t,e.serverTimestamps)}},_y),wy=(n(Ty,gy=by),Ty.prototype.data=function(t){return void 0===t&&(t={}),gy.prototype.data.call(this,t)},Ty),Iy=(Object.defineProperty(Ey.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(Ey.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(Ey.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),Ey.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(t){e.call(n,new wy(r._firestore,r._userDataWriter,t.key,t,new vy(r._snapshot.mutatedKeys.has(t.key),r._snapshot.fromCache),r.query._converter))})},Ey.prototype.docChanges=function(t){t=!!(t=void 0===t?{}:t).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ar(Dr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,e){if(i._snapshot.oldDocs.isEmpty()){var n=0;return i._snapshot.docChanges.map(function(t){var e=new wy(i._firestore,i._userDataWriter,t.doc.key,t.doc,new vy(i._snapshot.mutatedKeys.has(t.doc.key),i._snapshot.fromCache),i.query._converter);return t.doc,{type:"added",doc:e,oldIndex:-1,newIndex:n++}})}var o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(t){var e=new wy(i._firestore,i._userDataWriter,t.doc.key,t.doc,new vy(i._snapshot.mutatedKeys.has(t.doc.key),i._snapshot.fromCache),i.query._converter),n=-1,r=-1;return 0!==t.type&&(n=o.indexOf(t.doc.key),o=o.delete(t.doc.key)),1!==t.type&&(r=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mr()}}(t.type),doc:e,oldIndex:n,newIndex:r}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},Ey);function Ey(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new vy(r.hasPendingWrites,r.fromCache),this.query=n}function Ty(){return null!==gy&&gy.apply(this,arguments)||this}function _y(t,e,n,r,i,o){var s=this;return(s=my.call(this,t,e,n,r,o)||this)._firestore=t,s._firestoreImpl=t,s.metadata=i,s}function Sy(t,e){this.hasPendingWrites=t,this.fromCache=e}function Ny(t,e){return t instanceof by&&e instanceof by?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Iy&&e instanceof Iy&&t._firestore===e._firestore&&ip(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Dy(t){if(Io(t)&&0===t.explicitOrderBy.length)throw new Ar(Dr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}Te=function(){};function Ay(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++)t=i[r]._apply(t);return t}var ky,Cy,Ry,xy,Oy,Ly=(n(Ky,Oy=Te),Ky.prototype._apply=function(t){var e=Lp(t.firestore),e=function(t,e,n,r,i,o){if(r.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){zy(o,i);for(var s=[],a=0,u=o;a<u.length;a++){var c=u[a];s.push(Qy(n,t,c))}h={arrayValue:{values:s}}}else h=Qy(n,t,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||zy(o,i),h=ty(e,"where",o,"in"===i||"not-in"===i);var h=Bi.create(r,i,h);return function(t,e){if(e.g()){var n=To(t);if(null!==n&&!n.isEqual(e.field))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");n=Eo(t);null!==n&&Hy(0,e.field,n)}t=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(0<=e.indexOf(i.op))return i.op}return null}(t,function(){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==t)throw t===e.op?new Ar(Dr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Ar(Dr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+t.toString()+"' filters.")}(t,h),h}(t._query,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Wd(t.firestore,t._converter,(t=t._query,e=t.filters.concat([e]),new mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),e,t.limit,t.limitType,t.startAt,t.endAt)))},Ky),Py=(n(jy,xy=Te),jy.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new po(e,n);return e=r,null!==Eo(n=t)||null!==(t=To(n))&&Hy(0,t,e.field),r}(t._query,this.Qc,this.Wc);return new Wd(t.firestore,t._converter,(t=t._query,e=t.explicitOrderBy.concat([e]),new mo(t.path,t.collectionGroup,e,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},jy),My=(n(By,Ry=Te),By.prototype._apply=function(t){return new Wd(t.firestore,t._converter,Do(t._query,this.Gc,this.zc))},By),Fy=(n(qy,Cy=Te),qy.prototype._apply=function(t){var e=Gy(t,this.type,this.Hc,this.Jc);return new Wd(t.firestore,t._converter,(t=t._query,e=e,new mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)))},qy),Vy=(n(Uy,ky=Te),Uy.prototype._apply=function(t){var e=Gy(t,this.type,this.Hc,this.Jc);return new Wd(t.firestore,t._converter,(t=t._query,e=e,new mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)))},Uy);function Uy(t,e,n){var r=this;return(r=ky.call(this)||this).type=t,r.Hc=e,r.Jc=n,r}function qy(t,e,n){var r=this;return(r=Cy.call(this)||this).type=t,r.Hc=e,r.Jc=n,r}function By(t,e,n){var r=this;return(r=Ry.call(this)||this).type=t,r.Gc=e,r.zc=n,r}function jy(t,e){var n=this;return(n=xy.call(this)||this).Qc=t,n.Wc=e,n.type="orderBy",n}function Ky(t,e,n){var r=this;return(r=Oy.call(this)||this).Qc=t,r.Kc=e,r.jc=n,r.type="where",r}function Gy(t,c,e,n){if(e[0]=m(e[0]),e[0]instanceof ly)return function(t,e,n,r){if(!n)throw new Ar(Dr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var i=[],o=0,s=So(t);o<s.length;o++){var a=s[o];if(a.field.isKeyField())i.push(Si(e,n.key));else{var u=n.data.field(a.field);if(fi(u))throw new Ar(Dr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){a=a.field.canonicalString();throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}i.push(u)}}return new ao(i,r)}(t._query,t.firestore._databaseId,e[0]._document,n);var r=Lp(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Ar(Dr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!_o(t)&&-1!==c.indexOf("/"))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child($r.fromString(c));if(!mi.isDocumentKey(h))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");h=new mi(h);a.push(Si(e,h))}else{c=ty(n,r,c);a.push(c)}}return new ao(a,o)}(t._query,t.firestore._databaseId,r,c,e,n)}function Qy(t,e,n){if("string"==typeof(n=m(n))){if(""===n)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_o(e)&&-1!==n.indexOf("/"))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");e=e.path.child($r.fromString(n));if(!mi.isDocumentKey(e))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Si(t,new mi(e))}if(n instanceof Hd)return Si(t,n._key);throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Bd(n)+".")}function zy(t,e){if(!Array.isArray(t)||0===t.length)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Hy(t,e,n){if(!n.isEqual(e))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}Wy.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),bi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return hi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(li(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Mr()}},Wy.prototype.convertObject=function(t,n){var r=this,i={};return Wr(t.fields||{},function(t,e){i[t]=r.convertValue(e,n)}),i},Wy.prototype.convertGeoPoint=function(t){return new wp(hi(t.latitude),hi(t.longitude))},Wy.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},Wy.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){e=e.mapValue.fields.__previous_value__;return fi(e)?t(e):e}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(di(t));default:return null}},Wy.prototype.convertTimestamp=function(t){t=ci(t);return new Kr(t.seconds,t.nanos)},Wy.prototype.convertDocumentKey=function(t,e){var n=$r.fromString(t);Fr(ka(n));t=new Sd(n.get(1),n.get(3)),n=new mi(n.popFirst(5));return t.isEqual(e)||Or("Document "+n+" contains a document reference within a different database ("+t.projectId+"/"+t.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),n},I=Wy;function Wy(){}function Yy(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Xy,Jy=(n(tg,Xy=I),tg.prototype.convertBytes=function(t){return new vp(t)},tg.prototype.convertReference=function(t){t=this.convertDocumentKey(t,this.firestore._databaseId);return new Hd(this.firestore,null,t)},tg),$y=(Zy.prototype.set=function(t,e,n){this._verifyNotCommitted();t=eg(t,this._firestore),e=Yy(t._converter,e,n),n=Pp(this._dataReader,"WriteBatch.set",t._key,e,null!==t._converter,n);return this._mutations.push(n.toMutation(t._key,es.none())),this},Zy.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();t=eg(t,this._firestore),e="string"==typeof(e=m(e))||e instanceof mp?Zp(this._dataReader,"WriteBatch.update",t._key,e,n,r):$p(this._dataReader,"WriteBatch.update",t._key,e);return this._mutations.push(e.toMutation(t._key,es.exists(!0))),this},Zy.prototype.delete=function(t){this._verifyNotCommitted();t=eg(t,this._firestore);return this._mutations=this._mutations.concat(new ws(t._key,es.none())),this},Zy.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,0<this._mutations.length?this._commitHandler(this._mutations):Promise.resolve()},Zy.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ar(Dr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Zy);function Zy(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Lp(t)}function tg(t){var e=this;return(e=Xy.call(this)||this).firestore=t,e}function eg(t,e){if((t=m(t)).firestore!==e)throw new Ar(Dr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ng,rg=(n(ig,ng=I),ig.prototype.convertBytes=function(t){return new vp(t)},ig.prototype.convertReference=function(t){t=this.convertDocumentKey(t,this.firestore._databaseId);return new Hd(this.firestore,null,t)},ig);function ig(t){var e=this;return(e=ng.call(this)||this).firestore=t,e}function og(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=jd(t,Hd);var o=jd(t.firestore,hp),s=Lp(o);return ag(o,[("string"==typeof(e=m(e))||e instanceof mp?Zp(s,"updateDoc",t._key,e,n,r):$p(s,"updateDoc",t._key,e)).toMutation(t._key,es.exists(!0))])}function sg(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];e=m(e);var r={includeMetadataChanges:!1},i=0;"object"!=typeof n[i]||ap(n[i])||(r=n[i],i++);var o,s,a,u,c,h,l={includeMetadataChanges:r.includeMetadataChanges};return ap(n[i])&&(o=n[i],n[i]=null===(r=o.next)||void 0===r?void 0:r.bind(o),n[i+1]=null===(r=o.error)||void 0===r?void 0:r.bind(o),n[i+2]=null===(r=o.complete)||void 0===r?void 0:r.bind(o)),e instanceof Hd?(a=jd(e.firestore,hp),u=bo(e._key.path),h={next:function(t){n[i]&&n[i](ug(a,e,t))},error:n[i+1],complete:n[i+2]}):(s=jd(e,Wd),a=jd(s.firestore,hp),u=s._query,c=new rg(a),h={next:function(t){n[i]&&n[i](new Iy(a,c,s,t))},error:n[i+1],complete:n[i+2]},Dy(e._query)),function(n,t,e){var r=this,i=new nd(h),o=new af(t,i,e);return n.asyncQueue.enqueueAndForget(function(){return y(r,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=rf,[4,wd(n)];case 1:return[2,e.apply(void 0,[t.sent(),o])]}})})}),function(){i.Wo(),n.asyncQueue.enqueueAndForget(function(){return y(r,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=of,[4,wd(n)];case 1:return[2,e.apply(void 0,[t.sent(),o])]}})})})}}(dp(a),u,l)}function ag(t,e){return function(n,r){var t=this,i=new Za;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=Sf,[4,bd(n)];case 1:return[2,e.apply(void 0,[t.sent(),r,i])]}})})}),i.promise}(dp(t),e)}function ug(t,e,n){var r=n.docs.get(e._key),i=new rg(t);return new by(t,i,e._key,r,new vy(n.hasPendingWrites,n.fromCache),e._converter)}var cg,hg=(fg.prototype.get=function(t){var e=this,n=eg(t,this._firestore),r=new Jy(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Mr();t=t[0];if(t.isFoundDocument())return new ly(e._firestore,r,t.key,t,n._converter);if(t.isNoDocument())return new ly(e._firestore,r,n._key,null,n._converter);throw Mr()})},fg.prototype.set=function(t,e,n){t=eg(t,this._firestore),e=Yy(t._converter,e,n),n=Pp(this._dataReader,"Transaction.set",t._key,e,null!==t._converter,n);return this._transaction.set(t._key,n),this},fg.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=eg(t,this._firestore),e="string"==typeof(e=m(e))||e instanceof mp?Zp(this._dataReader,"Transaction.update",t._key,e,n,r):$p(this._dataReader,"Transaction.update",t._key,e);return this._transaction.update(t._key,e),this},fg.prototype.delete=function(t){t=eg(t,this._firestore);return this._transaction.delete(t._key),this},n(lg,cg=fg),lg.prototype.get=function(t){var e=this,n=eg(t,this._firestore),r=new rg(this._firestore);return cg.prototype.get.call(this,t).then(function(t){return new by(e._firestore,r,n._key,t._document,new vy(!1,!1),n._converter)})},lg);function lg(t,e){var n=this;return(n=cg.call(this,t,e)||this)._firestore=t,n}function fg(t,e){this._firestore=t,this._transaction=e,this._dataReader=Lp(t)}function dg(){if("undefined"==typeof Uint8Array)throw new Ar(Dr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function pg(){if("undefined"==typeof atob)throw new Ar(Dr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var yg,gg=(Tg.fromBase64String=function(t){return pg(),new Tg(vp.fromBase64String(t))},Tg.fromUint8Array=function(t){return dg(),new Tg(vp.fromUint8Array(t))},Tg.prototype.toBase64=function(){return pg(),this._delegate.toBase64()},Tg.prototype.toUint8Array=function(){return dg(),this._delegate.toUint8Array()},Tg.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},Tg.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Tg),mg=(Eg.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){gp(t=jd(t,hp));var n=dp(t),r=t._freezeSettings(),t=new Xf;return yp(n,t,new Wf(t,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},Eg.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){gp(t=jd(t,hp));var e=dp(t),n=t._freezeSettings(),t=new Xf;return yp(e,t,new Yf(t,n.cacheSizeBytes))}(t._delegate)},Eg.prototype.clearIndexedDbPersistence=function(t){return function(n){var t=this;if(n._initialized&&!n._terminated)throw new Ar(Dr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var r=new Za;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return nu.yt()?(e=n+"main",[4,nu.delete(e)]):[2,Promise.resolve()];case 1:return t.sent(),[2]}})})}(Kc(n._databaseId,n._persistenceKey))];case 1:return t.sent(),r.resolve(),[3,3];case 2:return e=t.sent(),r.reject(e),[3,3];case 3:return[2]}})})}),r.promise}(t._delegate)},Eg),vg=(Object.defineProperty(Ig.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),Ig.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},Ig.prototype.useEmulator=function(t,e){var n,r;n=this._delegate,r=t,t=e,"firestore.googleapis.com"!==(e=(n=jd(n,zd))._getSettings()).host&&e.host!==r&&Lr("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},e),{host:r+":"+t,ssl:!1}))},Ig.prototype.enableNetwork=function(){return function(i){var t=this;return i.asyncQueue.enqueue(function(){return y(t,void 0,void 0,function(){var n,r;return g(this,function(t){switch(t.label){case 0:return[4,gd(i)];case 1:return n=t.sent(),[4,vd(i)];case 2:return r=t.sent(),[2,(n.setNetworkEnabled(!0),(e=r).$r.delete(0),Dl(e))]}var e})})})}(dp(jd(this._delegate,hp)))},Ig.prototype.disableNetwork=function(){return function(r){var t=this;return r.asyncQueue.enqueue(function(){return y(t,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return[4,gd(r)];case 1:return e=t.sent(),[4,vd(r)];case 2:return n=t.sent(),[2,(e.setNetworkEnabled(!1),function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return(e=n).$r.add(0),[4,Al(e)];case 1:return t.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(dp(jd(this._delegate,hp)))},Ig.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Vd("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},Ig.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},Ig.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},Ig.prototype.waitForPendingWrites=function(){return function(n){var t=this,r=new Za;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=kf,[4,bd(n)];case 1:return[2,e.apply(void 0,[t.sent(),r])]}})})}),r.promise}(dp(jd(this._delegate,hp)))},Ig.prototype.onSnapshotsInSync=function(t){return e=this._delegate,t=t,function(n,t){var e=this,r=new nd(t);return n.asyncQueue.enqueueAndForget(function(){return y(e,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(t,e){t.Gr.add(e),e.next()},[4,wd(n)];case 1:return[2,e.apply(void 0,[t.sent(),r])]}})})}),function(){r.Wo(),n.asyncQueue.enqueueAndForget(function(){return y(e,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(t,e){t.Gr.delete(e)},[4,wd(n)];case 1:return[2,e.apply(void 0,[t.sent(),r])]}})})})}}(dp(jd(e,hp)),ap(t)?t:{next:t});var e},Object.defineProperty(Ig.prototype,"app",{get:function(){if(!this.Xc)throw new Ar(Dr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),Ig.prototype.collection=function(t){try{return new jg(this,ep(this._delegate,t))}catch(t){throw xg(t,"collection()","Firestore.collection()")}},Ig.prototype.doc=function(t){try{return new Cg(this,np(this._delegate,t))}catch(t){throw xg(t,"doc()","Firestore.doc()")}},Ig.prototype.collectionGroup=function(t){try{return new Ug(this,function(t,e){if(t=jd(t,zd),Md("collectionGroup","collection id",e),0<=e.indexOf("/"))throw new Ar(Dr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Wd(t,null,(e=e,new mo($r.emptyPath(),e)))}(this._delegate,t))}catch(t){throw xg(t,"collectionGroup()","Firestore.collectionGroup()")}},Ig.prototype.runTransaction=function(e){var n,r=this;return function(n,r){var t=this,i=new Za;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return[4,yd(n).then(function(t){return t.datastore})];case 1:return e=t.sent(),new od(n.asyncQueue,e,r,i).run(),[2]}})})}),i.promise}(dp(n=this._delegate),function(t){return t=new hg(n,t),e(new _g(r,t))})},Ig.prototype.batch=function(){var e=this;return dp(this._delegate),new Sg(new $y(this._delegate,function(t){return ag(e._delegate,t)}))},Ig.prototype.loadBundle=function(t){throw new Ar(Dr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},Ig.prototype.namedQuery=function(t){throw new Ar(Dr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},Ig),bg=(n(wg,yg=I),wg.prototype.convertBytes=function(t){return new gg(new vp(t))},wg.prototype.convertReference=function(t){t=this.convertDocumentKey(t,this.firestore._databaseId);return Cg.Zc(t,this.firestore,null)},wg);function wg(t){var e=this;return(e=yg.call(this)||this).firestore=t,e}function Ig(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Sd||(this.Xc=t)}function Eg(){}function Tg(t){this._delegate=t}var _g=(kg.prototype.get=function(t){var e=this,n=Yg(t);return this._delegate.get(n).then(function(t){return new Fg(e._firestore,new by(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},kg.prototype.set=function(t,e,n){t=Yg(t);return n?(Fd("Transaction.set",n),this._delegate.set(t,e,n)):this._delegate.set(t,e),this},kg.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Yg(t);return 2===arguments.length?this._delegate.update(o,e):(t=this._delegate).update.apply(t,s([o,e,n],r)),this},kg.prototype.delete=function(t){t=Yg(t);return this._delegate.delete(t),this},kg),Sg=(Ag.prototype.set=function(t,e,n){t=Yg(t);return n?(Fd("WriteBatch.set",n),this._delegate.set(t,e,n)):this._delegate.set(t,e),this},Ag.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Yg(t);return 2===arguments.length?this._delegate.update(o,e):(t=this._delegate).update.apply(t,s([o,e,n],r)),this},Ag.prototype.delete=function(t){t=Yg(t);return this._delegate.delete(t),this},Ag.prototype.commit=function(){return this._delegate.commit()},Ag),Ng=(Dg.prototype.fromFirestore=function(t,e){t=new wy(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Vg(this._firestore,t),null!=e?e:{})},Dg.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},Dg.tu=function(t,e){var n=Dg.eu,r=n.get(t);r||(r=new WeakMap,n.set(t,r));n=r.get(e);return n||(n=new Dg(t,new bg(t),e),r.set(e,n)),n},Dg);function Dg(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}function Ag(t){this._delegate=t}function kg(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new bg(t)}Ng.eu=new WeakMap;var Cg=(Rg.nu=function(t,e,n){if(t.length%2!=0)throw new Ar(Dr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new Rg(e,new Hd(e._delegate,n,new mi(t)))},Rg.Zc=function(t,e,n){return new Rg(e,new Hd(e._delegate,n,t))},Object.defineProperty(Rg.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Rg.prototype,"parent",{get:function(){return new jg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(Rg.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Rg.prototype.collection=function(t){try{return new jg(this.firestore,ep(this._delegate,t))}catch(t){throw xg(t,"collection()","DocumentReference.collection()")}},Rg.prototype.isEqual=function(t){return(t=m(t))instanceof Hd&&rp(this._delegate,t)},Rg.prototype.set=function(t,e){e=Fd("DocumentReference.set",e);try{return function(t,e,n){t=jd(t,Hd);var r=jd(t.firestore,hp),e=Yy(t._converter,e,n);return ag(r,[Pp(Lp(r),"setDoc",t._key,e,null!==t._converter,n).toMutation(t._key,es.none())])}(this._delegate,t,e)}catch(t){throw xg(t,"setDoc()","DocumentReference.set()")}},Rg.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?og(this._delegate,t):og.apply(void 0,s([this._delegate,t,e],n))}catch(t){throw xg(t,"updateDoc()","DocumentReference.update()")}},Rg.prototype.delete=function(){return ag(jd((t=this._delegate).firestore,hp),[new ws(t._key,es.none())]);var t},Rg.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Og(t),i=Lg(t,function(t){return new Fg(e.firestore,new by(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))});return sg(this._delegate,r,i)},Rg.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(e){e=jd(e,Hd);var n=jd(e.firestore,hp),t=dp(n),r=new rg(n);return function(n,r){var t=this,i=new Za;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(o,s,a){return y(this,void 0,void 0,function(){var r,i;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(e=s,(n=o).persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)}))];case 1:return(i=t.sent()).isFoundDocument()?a.resolve(i):i.isNoDocument()?a.resolve(null):a.reject(new Ar(Dr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=t.sent(),i=Wl(r,"Failed to get document '"+s+" from cache"),a.reject(i),[3,3];case 3:return[2]}var e,n})})},[4,md(n)];case 1:return[2,e.apply(void 0,[t.sent(),r,i])]}})})}),i.promise}(t,e._key).then(function(t){return new by(n,r,e._key,t,new vy(null!==t&&t.hasLocalMutations,!0),e._converter)})}:"server"===(null==t?void 0:t.source)?function(e){e=jd(e,Hd);var n=jd(e.firestore,hp);return Id(dp(n),e._key,{source:"server"}).then(function(t){return ug(n,e,t)})}:function(e){e=jd(e,Hd);var n=jd(e.firestore,hp);return Id(dp(n),e._key).then(function(t){return ug(n,e,t)})})(this._delegate).then(function(t){return new Fg(e.firestore,new by(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},Rg.prototype.withConverter=function(t){return new Rg(this.firestore,t?this._delegate.withConverter(Ng.tu(this.firestore,t)):this._delegate.withConverter(null))},Rg);function Rg(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new bg(t)}function xg(t,e,n){return t.message=t.message.replace(e,n),t}function Og(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!ap(r))return r}return{}}function Lg(t,e){var n;return{next:function(t){n.next&&n.next(e(t))},error:null===(t=(n=ap(t[0])?t[0]:ap(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===t?void 0:t.bind(n),complete:null===(t=n.complete)||void 0===t?void 0:t.bind(n)}}var Pg,Mg,Fg=(Object.defineProperty(Wg.prototype,"ref",{get:function(){return new Cg(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(Wg.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Wg.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(Wg.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),Wg.prototype.data=function(t){return this._delegate.data(t)},Wg.prototype.get=function(t,e){return this._delegate.get(t,e)},Wg.prototype.isEqual=function(t){return Ny(this._delegate,t._delegate)},Wg),Vg=(n(Hg,Mg=Fg),Hg.prototype.data=function(t){return this._delegate.data(t)},Hg),Ug=(zg.prototype.where=function(t,e,n){try{return new zg(this.firestore,Ay(this._delegate,(r=n,i=e,o=yy("where",t),new Ly(o,i,r))))}catch(t){throw xg(t,/(orderBy|where)\(\)/,"Query.$1()")}var r,i,o},zg.prototype.orderBy=function(t,e){try{return new zg(this.firestore,Ay(this._delegate,(n=void 0===e?"asc":e,r=yy("orderBy",t),new Py(r,n))))}catch(t){throw xg(t,/(orderBy|where)\(\)/,"Query.$1()")}var n,r},zg.prototype.limit=function(t){try{return new zg(this.firestore,Ay(this._delegate,(Kd("limit",e=t),new My("limit",e,"F"))))}catch(t){throw xg(t,"limit()","Query.limit()")}var e},zg.prototype.limitToLast=function(t){try{return new zg(this.firestore,Ay(this._delegate,(Kd("limitToLast",e=t),new My("limitToLast",e,"L"))))}catch(t){throw xg(t,"limitToLast()","Query.limitToLast()")}var e},zg.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new zg(this.firestore,Ay(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fy("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw xg(t,"startAt()","Query.startAt()")}},zg.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new zg(this.firestore,Ay(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fy("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw xg(t,"startAfter()","Query.startAfter()")}},zg.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new zg(this.firestore,Ay(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vy("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw xg(t,"endBefore()","Query.endBefore()")}},zg.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new zg(this.firestore,Ay(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vy("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw xg(t,"endAt()","Query.endAt()")}},zg.prototype.isEqual=function(t){return ip(this._delegate,t._delegate)},zg.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(e){e=jd(e,Wd);var n=jd(e.firestore,hp),t=dp(n),r=new rg(n);return function(n,r){var t=this,i=new Za;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(i,o,s){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,ah(i,o,!0)];case 1:return r=t.sent(),e=new vf(o,r.Bn),n=e._o(r.documents),n=e.applyChanges(n,!1),s.resolve(n.snapshot),[3,3];case 2:return n=t.sent(),r=Wl(n,"Failed to execute query '"+o+" against cache"),s.reject(r),[3,3];case 3:return[2]}})})},[4,md(n)];case 1:return[2,e.apply(void 0,[t.sent(),r,i])]}})})}),i.promise}(t,e._query).then(function(t){return new Iy(n,r,e,t)})}:"server"===(null==t?void 0:t.source)?function(e){e=jd(e,Wd);var n=jd(e.firestore,hp),t=dp(n),r=new rg(n);return Ed(t,e._query,{source:"server"}).then(function(t){return new Iy(n,r,e,t)})}:function(e){e=jd(e,Wd);var n=jd(e.firestore,hp),t=dp(n),r=new rg(n);return Dy(e._query),Ed(t,e._query).then(function(t){return new Iy(n,r,e,t)})})(this._delegate).then(function(t){return new Bg(e.firestore,new Iy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},zg.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Og(t),i=Lg(t,function(t){return new Bg(e.firestore,new Iy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return sg(this._delegate,r,i)},zg.prototype.withConverter=function(t){return new zg(this.firestore,t?this._delegate.withConverter(Ng.tu(this.firestore,t)):this._delegate.withConverter(null))},zg),qg=(Object.defineProperty(Qg.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(Qg.prototype,"doc",{get:function(){return new Vg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(Qg.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(Qg.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),Qg),Bg=(Object.defineProperty(Gg.prototype,"query",{get:function(){return new Ug(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(Gg.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(Gg.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(Gg.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(Gg.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new Vg(e._firestore,t)})},enumerable:!1,configurable:!0}),Gg.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new qg(e._firestore,t)})},Gg.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(t){e.call(n,new Vg(r._firestore,t))})},Gg.prototype.isEqual=function(t){return Ny(this._delegate,t._delegate)},Gg),jg=(n(Kg,Pg=Ug),Object.defineProperty(Kg.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Kg.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(Kg.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Cg(this.firestore,t):null},enumerable:!1,configurable:!0}),Kg.prototype.doc=function(t){try{return new Cg(this.firestore,void 0===t?np(this._delegate):np(this._delegate,t))}catch(t){throw xg(t,"doc()","CollectionReference.doc()")}},Kg.prototype.add=function(t){var e,n,r,i=this;return e=this._delegate,n=t,t=jd(e.firestore,hp),r=np(e),n=Yy(e._converter,n),ag(t,[Pp(Lp(e.firestore),"addDoc",r._key,n,null!==e._converter,{}).toMutation(r._key,es.exists(!1))]).then(function(){return r}).then(function(t){return new Cg(i.firestore,t)})},Kg.prototype.isEqual=function(t){return rp(this._delegate,t._delegate)},Kg.prototype.withConverter=function(t){return new Kg(this.firestore,t?this._delegate.withConverter(Ng.tu(this.firestore,t)):this._delegate.withConverter(null))},Kg);function Kg(t,e){var n=this;return(n=Pg.call(this,t,e)||this).firestore=t,n._delegate=e,n}function Gg(t,e){this._firestore=t,this._delegate=e}function Qg(t,e){this._firestore=t,this._delegate=e}function zg(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new bg(t)}function Hg(){return null!==Mg&&Mg.apply(this,arguments)||this}function Wg(t,e){this._firestore=t,this._delegate=e}function Yg(t){return jd(t,Hd)}Jg.documentId=function(){return new Jg(ti.keyField().canonicalString())},Jg.prototype.isEqual=function(t){return(t=m(t))instanceof mp&&this._delegate._internalPath.isEqual(t._internalPath)},Te=Jg,Xg.serverTimestamp=function(){var t=new Gp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new Xg(t)},Xg.delete=function(){var t=new Fp("deleteField");return t._methodName="FieldValue.delete",new Xg(t)},Xg.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qp("arrayUnion",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayUnion",new Xg(n)},Xg.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zp("arrayRemove",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayRemove",new Xg(n)},Xg.increment=function(t){t=new Hp("increment",t);return t._methodName="FieldValue.increment",new Xg(t)},Xg.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},I=Xg;function Xg(t){this._delegate=t}function Jg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(mp.bind.apply(mp,s([void 0],t)))}function $g(t){return e=this._delegate,s=t,n=dp(e=jd(e,hp)),t=new cp,function(n,t,r){var e,i=this,o=(e=s,t=ll(t),e=function(t){if(t instanceof Uint8Array)return ed(t,void 0);if(t instanceof ArrayBuffer)return ed(new Uint8Array(t),void 0);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),new rd(e,t));n.asyncQueue.enqueueAndForget(function(){return y(i,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=Gf,[4,bd(n)];case 1:return e.apply(void 0,[t.sent(),o,r]),[2]}})})})}(n,e._databaseId,t),t;var e,s,n}function Zg(t){var e=this,n=this._delegate,t=t;return function(n,r){var t=this;return n.asyncQueue.enqueue(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(t,e){var n=t;return n.persistence.runTransaction("Get named query","readonly",function(t){return n.Qe.getNamedQuery(t,e)})},[4,md(n)];case 1:return[2,e.apply(void 0,[t.sent(),r])]}})})})}(dp(n=jd(n,hp)),t).then(function(t){return t?new Wd(n,null,t.query):null}).then(function(t){return t?new Ug(e,t):null})}var tm=(em.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},em.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},em.prototype.setServiceProps=function(t){return this.serviceProps=t,this},em.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},em);function em(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}var nm,rm,im={Firestore:vg,GeoPoint:wp,Timestamp:Kr,Blob:gg,Transaction:_g,WriteBatch:Sg,DocumentReference:Cg,DocumentSnapshot:Fg,Query:Ug,QueryDocumentSnapshot:Vg,QuerySnapshot:Bg,CollectionReference:jg,FieldPath:Te,FieldValue:I,setLogLevel:function(t){kr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(nm=e.default).INTERNAL.registerComponent(new tm("firestore",function(t){var e=t.getProvider("app").getImmediate();return e=e,t=t.getProvider("auth-internal"),new vg(e,new hp(e,t),new mg)},"PUBLIC").setServiceProps(Object.assign({},im))),nm.registerVersion("@firebase/firestore","2.2.5"),(rm=vg).prototype.loadBundle=$g,rm.prototype.namedQuery=Zg}.apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-firestore.js - be sure to load firebase-app.js first.")}});
//# sourceMappingURL=firebase-firestore.js.map


/***/ }),

/***/ "./src/styles/reset.css":
/*!******************************!*\
  !*** ./src/styles/reset.css ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_reset_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./reset.css */ "./node_modules/css-loader/dist/cjs.js!./src/styles/reset.css");

            

var options = {};

options.insert = "head";
options.singleton = false;

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_reset_css__WEBPACK_IMPORTED_MODULE_1__.default, options);



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_reset_css__WEBPACK_IMPORTED_MODULE_1__.default.locals || {});

/***/ }),

/***/ "./src/styles/style.css":
/*!******************************!*\
  !*** ./src/styles/style.css ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./src/styles/style.css");

            

var options = {};

options.insert = "head";
options.singleton = false;

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_1__.default, options);



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_1__.default.locals || {});

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var isOldIE = function isOldIE() {
  var memo;
  return function memorize() {
    if (typeof memo === 'undefined') {
      // Test for IE <= 9 as proposed by Browserhacks
      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
      // Tests for existence of standard globals is to allow style-loader
      // to operate correctly into non-standard environments
      // @see https://github.com/webpack-contrib/style-loader/issues/177
      memo = Boolean(window && document && document.all && !window.atob);
    }

    return memo;
  };
}();

var getTarget = function getTarget() {
  var memo = {};
  return function memorize(target) {
    if (typeof memo[target] === 'undefined') {
      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself

      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
        try {
          // This will throw an exception if access to iframe is blocked
          // due to cross-origin restrictions
          styleTarget = styleTarget.contentDocument.head;
        } catch (e) {
          // istanbul ignore next
          styleTarget = null;
        }
      }

      memo[target] = styleTarget;
    }

    return memo[target];
  };
}();

var stylesInDom = [];

function getIndexByIdentifier(identifier) {
  var result = -1;

  for (var i = 0; i < stylesInDom.length; i++) {
    if (stylesInDom[i].identifier === identifier) {
      result = i;
      break;
    }
  }

  return result;
}

function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];

  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var index = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3]
    };

    if (index !== -1) {
      stylesInDom[index].references++;
      stylesInDom[index].updater(obj);
    } else {
      stylesInDom.push({
        identifier: identifier,
        updater: addStyle(obj, options),
        references: 1
      });
    }

    identifiers.push(identifier);
  }

  return identifiers;
}

function insertStyleElement(options) {
  var style = document.createElement('style');
  var attributes = options.attributes || {};

  if (typeof attributes.nonce === 'undefined') {
    var nonce =  true ? __webpack_require__.nc : 0;

    if (nonce) {
      attributes.nonce = nonce;
    }
  }

  Object.keys(attributes).forEach(function (key) {
    style.setAttribute(key, attributes[key]);
  });

  if (typeof options.insert === 'function') {
    options.insert(style);
  } else {
    var target = getTarget(options.insert || 'head');

    if (!target) {
      throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
    }

    target.appendChild(style);
  }

  return style;
}

function removeStyleElement(style) {
  // istanbul ignore if
  if (style.parentNode === null) {
    return false;
  }

  style.parentNode.removeChild(style);
}
/* istanbul ignore next  */


var replaceText = function replaceText() {
  var textStore = [];
  return function replace(index, replacement) {
    textStore[index] = replacement;
    return textStore.filter(Boolean).join('\n');
  };
}();

function applyToSingletonTag(style, index, remove, obj) {
  var css = remove ? '' : obj.media ? "@media ".concat(obj.media, " {").concat(obj.css, "}") : obj.css; // For old IE

  /* istanbul ignore if  */

  if (style.styleSheet) {
    style.styleSheet.cssText = replaceText(index, css);
  } else {
    var cssNode = document.createTextNode(css);
    var childNodes = style.childNodes;

    if (childNodes[index]) {
      style.removeChild(childNodes[index]);
    }

    if (childNodes.length) {
      style.insertBefore(cssNode, childNodes[index]);
    } else {
      style.appendChild(cssNode);
    }
  }
}

function applyToTag(style, options, obj) {
  var css = obj.css;
  var media = obj.media;
  var sourceMap = obj.sourceMap;

  if (media) {
    style.setAttribute('media', media);
  } else {
    style.removeAttribute('media');
  }

  if (sourceMap && typeof btoa !== 'undefined') {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  } // For old IE

  /* istanbul ignore if  */


  if (style.styleSheet) {
    style.styleSheet.cssText = css;
  } else {
    while (style.firstChild) {
      style.removeChild(style.firstChild);
    }

    style.appendChild(document.createTextNode(css));
  }
}

var singleton = null;
var singletonCounter = 0;

function addStyle(obj, options) {
  var style;
  var update;
  var remove;

  if (options.singleton) {
    var styleIndex = singletonCounter++;
    style = singleton || (singleton = insertStyleElement(options));
    update = applyToSingletonTag.bind(null, style, styleIndex, false);
    remove = applyToSingletonTag.bind(null, style, styleIndex, true);
  } else {
    style = insertStyleElement(options);
    update = applyToTag.bind(null, style, options);

    remove = function remove() {
      removeStyleElement(style);
    };
  }

  update(obj);
  return function updateStyle(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {
        return;
      }

      update(obj = newObj);
    } else {
      remove();
    }
  };
}

module.exports = function (list, options) {
  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
  // tags it will allow on a page

  if (!options.singleton && typeof options.singleton !== 'boolean') {
    options.singleton = isOldIE();
  }

  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];

    if (Object.prototype.toString.call(newList) !== '[object Array]') {
      return;
    }

    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDom[index].references--;
    }

    var newLastIdentifiers = modulesToDom(newList, options);

    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];

      var _index = getIndexByIdentifier(_identifier);

      if (stylesInDom[_index].references === 0) {
        stylesInDom[_index].updater();

        stylesInDom.splice(_index, 1);
      }
    }

    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/tslib/tslib.es6.js":
/*!*****************************************!*\
  !*** ./node_modules/tslib/tslib.es6.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "__extends": () => (/* binding */ __extends),
/* harmony export */   "__assign": () => (/* binding */ __assign),
/* harmony export */   "__rest": () => (/* binding */ __rest),
/* harmony export */   "__decorate": () => (/* binding */ __decorate),
/* harmony export */   "__param": () => (/* binding */ __param),
/* harmony export */   "__metadata": () => (/* binding */ __metadata),
/* harmony export */   "__awaiter": () => (/* binding */ __awaiter),
/* harmony export */   "__generator": () => (/* binding */ __generator),
/* harmony export */   "__createBinding": () => (/* binding */ __createBinding),
/* harmony export */   "__exportStar": () => (/* binding */ __exportStar),
/* harmony export */   "__values": () => (/* binding */ __values),
/* harmony export */   "__read": () => (/* binding */ __read),
/* harmony export */   "__spread": () => (/* binding */ __spread),
/* harmony export */   "__spreadArrays": () => (/* binding */ __spreadArrays),
/* harmony export */   "__spreadArray": () => (/* binding */ __spreadArray),
/* harmony export */   "__await": () => (/* binding */ __await),
/* harmony export */   "__asyncGenerator": () => (/* binding */ __asyncGenerator),
/* harmony export */   "__asyncDelegator": () => (/* binding */ __asyncDelegator),
/* harmony export */   "__asyncValues": () => (/* binding */ __asyncValues),
/* harmony export */   "__makeTemplateObject": () => (/* binding */ __makeTemplateObject),
/* harmony export */   "__importStar": () => (/* binding */ __importStar),
/* harmony export */   "__importDefault": () => (/* binding */ __importDefault),
/* harmony export */   "__classPrivateFieldGet": () => (/* binding */ __classPrivateFieldGet),
/* harmony export */   "__classPrivateFieldSet": () => (/* binding */ __classPrivateFieldSet)
/* harmony export */ });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    if (typeof b !== "function" && b !== null)
        throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

var __createBinding = Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
});

function __exportStar(m, o) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);
}

function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

/** @deprecated */
function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

/** @deprecated */
function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
}

function __spreadArray(to, from) {
    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
        to[j] = from[i];
    return to;
}

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

var __setModuleDefault = Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, state, kind, f) {
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
}

function __classPrivateFieldSet(receiver, state, value, kind, f) {
    if (kind === "m") throw new TypeError("Private method is not writable");
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
}


/***/ }),

/***/ "./src/imgs/x-icon.svg":
/*!*****************************!*\
  !*** ./src/imgs/x-icon.svg ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "15b3c085a3a44605a8b6.svg";

/***/ }),

/***/ "./src/scripts/dom-helpers.js":
/*!************************************!*\
  !*** ./src/scripts/dom-helpers.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "makeSwitch": () => (/* binding */ makeSwitch),
/* harmony export */   "getCloseButton": () => (/* binding */ getCloseButton),
/* harmony export */   "clearChildren": () => (/* binding */ clearChildren)
/* harmony export */ });
function makeSwitch(label, name, isChecked, onChange) {
  const inputElm = document.createElement("label");
  inputElm.classList.add("switch");

  const textElm = document.createElement("span");
  textElm.textContent = label;
  textElm.classList.add("switch-label");
  inputElm.appendChild(textElm);

  const inputCheckbox = document.createElement("input");
  inputCheckbox.type = "checkbox";
  inputCheckbox.name = name;
  inputCheckbox.checked = isChecked;
  inputCheckbox.addEventListener("change", () =>
    onChange(inputCheckbox.checked)
  );

  inputElm.appendChild(inputCheckbox);

  const inputSpanElm = document.createElement("span");
  inputSpanElm.classList.add("switch-span");
  inputElm.appendChild(inputSpanElm);

  return inputElm;
}

// TODO: don't use div as button
// TODO: pass class in as param
// TODO: once above are fixed, give generic name
function getCloseButton(onClick) {
  const closeBtn = document.createElement("div");
  closeBtn.classList.add("close-btn");
  closeBtn.addEventListener("click", onClick);
  return closeBtn;
}

function clearChildren(element) {
  while (element.firstChild) {
    element.removeChild(element.firstChild);
  }
}


/***/ }),

/***/ "./src/scripts/firebase-config.js":
/*!****************************************!*\
  !*** ./src/scripts/firebase-config.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../env */ "./env.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  apiKey: _env__WEBPACK_IMPORTED_MODULE_0__.default.API_KEY,
  authDomain: _env__WEBPACK_IMPORTED_MODULE_0__.default.AUTH_DOMAIN,
  projectId: _env__WEBPACK_IMPORTED_MODULE_0__.default.PROJECT_ID,
  storageBucket: _env__WEBPACK_IMPORTED_MODULE_0__.default.STORAGE_BUCKET,
  messagingSenderId: _env__WEBPACK_IMPORTED_MODULE_0__.default.MESSAGING_SENDER_ID,
  appId: _env__WEBPACK_IMPORTED_MODULE_0__.default.APP_ID,
});


/***/ }),

/***/ "./src/scripts/firebase-init.js":
/*!**************************************!*\
  !*** ./src/scripts/firebase-init.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "authHandler": () => (/* binding */ authHandler),
/* harmony export */   "firestoreHandler": () => (/* binding */ firestoreHandler)
/* harmony export */ });
/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ "./node_modules/firebase/app/dist/index.esm.js");
/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase-config */ "./src/scripts/firebase-config.js");
/* harmony import */ var firebase_firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firebase-firestore */ "./node_modules/firebase/firebase-firestore.js");
/* harmony import */ var firebase_firebase_firestore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(firebase_firebase_firestore__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var firebase_firebase_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firebase-auth */ "./node_modules/firebase/firebase-auth.js");
/* harmony import */ var firebase_firebase_auth__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(firebase_firebase_auth__WEBPACK_IMPORTED_MODULE_3__);





firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.initializeApp(_firebase_config__WEBPACK_IMPORTED_MODULE_1__.default);

function authHandler() {
  const auth = firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.auth();
  const provider = new firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.auth.GoogleAuthProvider();

  auth.onAuthStateChanged = auth.onAuthStateChanged.bind(auth);

  const signedInSection = document.querySelector("#when-signed-out");
  const signedOutSection = document.querySelector("#when-signed-in");
  const signInBtn = document.querySelector("#sign-in-btn");
  const signOutBtn = document.querySelector("#sign-out-btn");

  signInBtn.addEventListener("click", () => {
    auth.signInWithPopup(provider);
  });

  signOutBtn.addEventListener("click", () => {
    auth.signOut();
  });

  const userNameElement = document.querySelector("#user-name");
  const userIdElement = document.querySelector("#user-id");

  auth.onAuthStateChanged((user) => {
    if (user) {
      signedInSection.classList.add("hidden");
      signedOutSection.classList.remove("hidden");
      userNameElement.textContent = user.displayName;
      userIdElement.textContent = user.uid;
    } else {
      signedOutSection.classList.add("hidden");
      signedInSection.classList.remove("hidden");
      userNameElement.textContent = "no signed in user";
      userIdElement.textContent = "N/A";
    }
  });

  return auth.onAuthStateChanged;
}

function firestoreHandler(onAuthStateChanged) {
  const db = firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.firestore();
  let libraryRef;

  onAuthStateChanged(updateLibraryRef);

  async function updateLibraryRef(user) {
    if (!user) {
      console.log("no user!");
    }

    await db.collection("users").doc(user.uid).set({}, { merge: true });

    libraryRef = db.collection(`users/${user.uid}/books`);

    const librarySnapshot = await libraryRef.get();
    console.log("Document data:", librarySnapshot.docs);
  }

  // all of these functions are asynchronous, because I want to make sure
  // I don't try to re-render before the data is updated
  async function addBook(bookData) {
    const { serverTimestamp } = firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.firestore.FieldValue;

    await libraryRef.add({
      addedTimestamp: serverTimestamp(),
      lastChangedTimestamp: serverTimestamp(),
      ...bookData,
    });
  }

  async function setBook(bookData) {
    const { serverTimestamp } = firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.firestore.FieldValue;
    await libraryRef.doc(bookData.id).set(
      {
        lastChangedTimestamp: serverTimestamp(),
        ...bookData,
      },
      {
        // b/c at the very least I want to keep addedTimestamp
        merge: true,
      }
    );
  }

  async function removeBook(bookId) {
    await libraryRef
      .doc(bookId)
      .then(() => {
        console.log(`TODO: Book ${bookId} removed from database!`);
      })
      .catch(() => {
        console.log("Error removing book from database!");
      });
  }

  async function getBooks() {
    if (!libraryRef) {
      return null;
    }

    const librarySnapshot = await libraryRef.get();
    return librarySnapshot.docs.map((doc) => doc.data());
  }

  return {
    addBook,
    setBook,
    removeBook,
    getBooks,
  };
}


/***/ }),

/***/ "./src/scripts/form-validation.js":
/*!****************************************!*\
  !*** ./src/scripts/form-validation.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ validateForm)
/* harmony export */ });
// TODO: fix this mess
// - should be passing the event from the form submission,
// which has the data from all the inputs
// - should return some sort of object which contains:
//   - the input that failed to validate
//   - the error message
function validateForm(form, library) {
  const inputs = form.querySelectorAll("input[required]");

  const emptyInput = [...inputs].find((input) => input.value === "");

  if (emptyInput) {
    return {
      valid: false,
      message: "Please fill out this field!",
      input: emptyInput,
    };
  }

  // TODO: WELP. DON'T LIKE THIS.
  for (let i = 0; i < inputs.length; i++) {
    if (
      inputs[i].name === "id" &&
      library.some((book) => book.id === inputs[i].value)
    ) {
      return {
        valid: false,
        input: inputs[i],
        message: "id must be unique!",
      };
    }
    if (inputs[i].type === "number" && inputs[i].value < 1) {
      return {
        valid: false,
        input: inputs[i],
        message: "Page count can't be negative!",
      };
    }
  }

  return true;
}


/***/ }),

/***/ "./src/scripts/modal.js":
/*!******************************!*\
  !*** ./src/scripts/modal.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ modalView)
/* harmony export */ });
/* harmony import */ var _dom_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom-helpers */ "./src/scripts/dom-helpers.js");
/* harmony import */ var _form_validation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./form-validation */ "./src/scripts/form-validation.js");



function modalView(addBook) {
  const modalAddBookCntr = document.querySelector("#modal-container-addbook");

  const inputs = modalAddBookCntr.querySelectorAll("input");

  const submitButton = modalAddBookCntr
    .querySelector("form")
    .querySelector("button");

  const closeModalBtn = (0,_dom_helpers__WEBPACK_IMPORTED_MODULE_0__.getCloseButton)(handleCloseModal);
  modalAddBookCntr.querySelector(".modal").appendChild(closeModalBtn);

  submitButton.addEventListener("click", handleSubmitForm);

  function handleCloseModal() {
    modalAddBookCntr.classList.add("hidden");
    inputs.forEach((input) => {
      input.value = "";
      input.checked = false;
    });
  }

  // TODO: refactor to use event object!!
  function handleSubmitForm() {
    const validationResponse = (0,_form_validation__WEBPACK_IMPORTED_MODULE_1__.default)(modalAddBookCntr);

    // need to use *strict* equality, because if false I return an error obj
    // (sorry)
    if (validationResponse !== true) {
      validationFailDisplay(
        validationResponse.input,
        validationResponse.message
      );
      return;
    }

    const bookArgs = {};
    modalAddBookCntr.querySelectorAll("input").forEach((input) => {
      bookArgs[input.name] =
        input.type === "checkbox" ? input.checked : input.value;
    });

    addBook(bookArgs);

    handleCloseModal();
  }

  function validationFailDisplay(element, msg) {
    const decay = 1; // error message timeout, in seconds

    element.classList.remove("validation-failed");
    window.clearTimeout(timeout);
    element.classList.add("validation-failed");
    element.style.animationDuration = `${decay}s`;

    const popup = document.createElement("div");
    popup.classList.add("card");
    popup.classList.add("form-validation-error");
    popup.textContent = msg;
    element.parentElement.appendChild(popup);
    window.setTimeout(timeout, decay * 1000);

    function timeout() {
      element.classList.remove("validation-failed");
      popup.remove();
    }
  }

  return modalAddBookCntr;
}


/***/ }),

/***/ "./src/scripts/views/book-view.js":
/*!****************************************!*\
  !*** ./src/scripts/views/book-view.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _dom_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom-helpers */ "./src/scripts/dom-helpers.js");


const bookView = (book, onIsReadChange, onDeleteBook) => {
  const getBookPropertyElement = (property) => {
    const bookPropertyElement = document.createElement("div");
    bookPropertyElement.textContent = book[property];
    bookPropertyElement.classList.add("book-prop");
    bookPropertyElement.classList.add(`book-${property}`);

    return bookPropertyElement;
  };

  const updateIsReadStyle = (isRead) => {
    if (isRead) {
      bookElement.classList.add("semi-transparent");
    } else {
      bookElement.classList.remove("semi-transparent");
    }
  };

  //* Container
  const bookElement = document.createElement("div");
  bookElement.classList.add("book", "card");
  updateIsReadStyle(book.isRead);

  //* Property elements
  const title = getBookPropertyElement("title");
  const author = getBookPropertyElement("author");
  const pageCount = getBookPropertyElement("pageCount");
  const isRead = (0,_dom_helpers__WEBPACK_IMPORTED_MODULE_0__.makeSwitch)(
    "is read:",
    "isRead",
    book.isRead,
    (switchValue) => {
      onIsReadChange(book.id, switchValue);
      updateIsReadStyle(switchValue);
    }
  );

  //* Delete button
  const deleteBtn = (0,_dom_helpers__WEBPACK_IMPORTED_MODULE_0__.getCloseButton)(() => {
    onDeleteBook(book.id);
  });

  deleteBtn.classList.add("hidden");
  ["mouseenter", "mouseleave"].forEach((eventType) => {
    bookElement.addEventListener(eventType, () => {
      deleteBtn.classList.toggle("hidden");
    });
  });

  //* Add everything together
  [title, author, pageCount, isRead, deleteBtn].forEach((element) => {
    bookElement.appendChild(element);
  });

  return bookElement;
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (bookView);


/***/ }),

/***/ "./src/scripts/views/library-view.js":
/*!*******************************************!*\
  !*** ./src/scripts/views/library-view.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _book_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./book-view */ "./src/scripts/views/book-view.js");


// TODO: not sure if I should generate or query for the container
const LibraryView = (books, setBook, removeBook) => {
  // * Define html
  const bookHeadingsHtml = `
      <div class='book-prop'>Title</div>
      <div class='book-prop'>Author</div>
      <div class='book-prop'>Page count</div>
      <div class='book-prop'>Read status</div>
  `;
  const bookHeadings = document.createElement("div");
  bookHeadings.classList.add("card", "book", "library-header");
  bookHeadings.innerHTML = bookHeadingsHtml;

  const libraryElement = document.createElement("div");
  libraryElement.classList.add("library");

  libraryElement.appendChild(bookHeadings);

  books.forEach((book) => {
    libraryElement.appendChild((0,_book_view__WEBPACK_IMPORTED_MODULE_0__.default)(book, setBook, removeBook));
  });

  return libraryElement;
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LibraryView);


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!******************************!*\
  !*** ./src/scripts/index.js ***!
  \******************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _styles_reset_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../styles/reset.css */ "./src/styles/reset.css");
/* harmony import */ var _styles_style_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/style.css */ "./src/styles/style.css");
/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modal */ "./src/scripts/modal.js");
/* harmony import */ var _views_library_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./views/library-view */ "./src/scripts/views/library-view.js");
/* harmony import */ var _dom_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dom-helpers */ "./src/scripts/dom-helpers.js");
/* harmony import */ var _firebase_init__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./firebase-init */ "./src/scripts/firebase-init.js");
// TODO: refactor styles into a "preload" js bundle



// import { load, save } from "./handle-local-storage";





const renderListeners = [];

function render() {
  renderListeners.forEach((listener) => listener());
}

// define function for adding render listeners
function addRenderListener(listener) {
  renderListeners.push(listener);
}

function renderView(view, container) {
  (0,_dom_helpers__WEBPACK_IMPORTED_MODULE_4__.clearChildren)(container);
  container.appendChild(view);
}

// pretty sure I actually want to replace Library with Firestore entirely
// firebaseHandler just needs to be passed onAdd/onRemove/onSet
const onAuthStateChange = (0,_firebase_init__WEBPACK_IMPORTED_MODULE_5__.authHandler)();
const fb = (0,_firebase_init__WEBPACK_IMPORTED_MODULE_5__.firestoreHandler)(onAuthStateChange);

async function renderLibrary() {
  const books = (await fb.getBooks()) ?? [];
  console.log("books", books);
  const libraryContainer = document.querySelector(".library-container");
  const libraryView = (0,_views_library_view__WEBPACK_IMPORTED_MODULE_3__.default)(books);
  renderView(libraryView, libraryContainer);
  // save(books);
}

addRenderListener(renderLibrary);

// * Initialize modal "Add Book" form
const addBookModal = (0,_modal__WEBPACK_IMPORTED_MODULE_2__.default)(fb.addBook);

document.querySelector(".add-book-btn").addEventListener("click", () => {
  addBookModal.classList.toggle("hidden");
});

onAuthStateChange(render);

//! TEMP
const renderBtn = document.createElement("button");
renderBtn.addEventListener("click", render);
renderBtn.textContent = "re-render";
document.querySelector("main").appendChild(renderBtn);

// TODO: init stats renderer

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvLi9lbnYuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9jb21wb25lbnQvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9sb2dnZXIvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL2Rpc3QvaW5kZXguZXNtLmpzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL3NyYy9zdHlsZXMvcmVzZXQuY3NzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL3NyYy9zdHlsZXMvc3R5bGUuY3NzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qcyIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvLi9ub2RlX21vZHVsZXMvZmlyZWJhc2UvYXBwL2Rpc3QvaW5kZXguZXNtLmpzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL25vZGVfbW9kdWxlcy9maXJlYmFzZS9maXJlYmFzZS1hdXRoLmpzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL25vZGVfbW9kdWxlcy9maXJlYmFzZS9maXJlYmFzZS1maXJlc3RvcmUuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vc3JjL3N0eWxlcy9yZXNldC5jc3M/NGNmYiIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvLi9zcmMvc3R5bGVzL3N0eWxlLmNzcz9mZjk0Iiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL3NyYy9zY3JpcHRzL2RvbS1oZWxwZXJzLmpzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL3NyYy9zY3JpcHRzL2ZpcmViYXNlLWNvbmZpZy5qcyIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvLi9zcmMvc2NyaXB0cy9maXJlYmFzZS1pbml0LmpzIiwid2VicGFjazovL29kaW4tbGlicmFyeS8uL3NyYy9zY3JpcHRzL2Zvcm0tdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvLi9zcmMvc2NyaXB0cy9tb2RhbC5qcyIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvLi9zcmMvc2NyaXB0cy92aWV3cy9ib29rLXZpZXcuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vc3JjL3NjcmlwdHMvdmlld3MvbGlicmFyeS12aWV3LmpzIiwid2VicGFjazovL29kaW4tbGlicmFyeS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vc3JjL3NjcmlwdHMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlFQUFlLEdBQUcsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDVGM7QUFDaUY7QUFDOUM7QUFDTTs7QUFFMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixtREFBbUQsU0FBUztBQUM1RDtBQUNBLGlFQUFpRSxTQUFTO0FBQzFFLG9FQUFvRSxTQUFTO0FBQzdFLGdFQUFnRSxTQUFTO0FBQ3pFLHVFQUF1RSxTQUFTO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3REFBWTs7QUFFcEM7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRWtEO0FBQ25EOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDellBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpREFBaUQsUUFBUTtBQUN6RCx3Q0FBd0MsUUFBUTtBQUNoRCx3REFBd0QsUUFBUTtBQUNoRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRCQUE0QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1QkFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHVCQUF1QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsNENBQTRDLFlBQVksRUFBRTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx5QkFBeUI7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7O0FBRTREO0FBQzVEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDOVJrQzs7QUFFbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixlQUFlO0FBQ25DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdCQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtCQUFrQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0JBQWtCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw4QkFBOEI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkMsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsRUFBRTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxxQkFBTTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1QkFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUJBQWlCLE1BQU0sSUFBSTs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsWUFBWSxFQUFFO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixhQUFhLFdBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDJCQUEyQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFD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LFVBQVUsWUFBWSxhQUFhLFdBQVcsWUFBWSxPQUFPLEtBQUssVUFBVSxZQUFZLFdBQVcsWUFBWSxhQUFhLE9BQU8sS0FBSyxVQUFVLFVBQVUsVUFBVSxZQUFZLE9BQU8sS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksV0FBVyxVQUFVLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsVUFBVSxZQUFZLFdBQVcsVUFBVSxZQUFZLGFBQWEsYUFBYSxhQUFhLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFlBQVksT0FBTyxLQUFLLFVBQVUsTUFBTSxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLHNCQUFzQixPQUFPLEtBQUssVUFBVSxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsT0FBTyxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsVUFBVSxZQUFZLE1BQU0sS0FBSyxVQUFVLEtBQUssS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sVUFBVSxLQUFLLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsWUFBWSxPQUFPLEtBQUssVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLGFBQWEsYUFBYSxhQUFhLFdBQVcsVUFBVSxZQUFZLFlBQVksVUFBVSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssVUFBVSxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLFdBQVcsT0FBTyxLQUFLLFlBQVksV0FBVyxZQUFZLE9BQU8sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLFdB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Q0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTs7VUFFQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTs7Ozs7V0N0QkE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLGdDQUFnQyxZQUFZO1dBQzVDO1dBQ0EsRTs7Ozs7V0NQQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLHdDQUF3Qyx5Q0FBeUM7V0FDakY7V0FDQTtXQUNBLEU7Ozs7O1dDUEE7V0FDQTtXQUNBO1dBQ0E7V0FDQSxFQUFFO1dBQ0Y7V0FDQTtXQUNBLENBQUMsSTs7Ozs7V0NQRCx3Rjs7Ozs7V0NBQTtXQUNBO1dBQ0E7V0FDQSxzREFBc0Qsa0JBQWtCO1dBQ3hFO1dBQ0EsK0NBQStDLGNBQWM7V0FDN0QsRTs7Ozs7V0NOQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQSxrQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDZkE7QUFDNkI7QUFDQTs7QUFFN0IsV0FBVyxhQUFhO0FBQ1E7QUFDZTtBQUNEO0FBQ2tCOztBQUVoRTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLDJEQUFhO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMEJBQTBCLDJEQUFXO0FBQ3JDLFdBQVcsZ0VBQWdCOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBVztBQUNqQztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxxQkFBcUIsK0NBQVM7O0FBRTlCO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoibGlicmFyeS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlbnYgPSB7XG4gIEFQSV9LRVk6IFwiQUl6YVN5QXdlZ1Y3eGxiVFpsSWRMaWpQWWstY3lNZ2V6dTBfT3pzXCIsXG4gIEFVVEhfRE9NQUlOOiBcIm9kaW5saWJyYXJ5LWY1LmZpcmViYXNlYXBwLmNvbVwiLFxuICBQUk9KRUNUX0lEOiBcIm9kaW5saWJyYXJ5LWY1XCIsXG4gIFNUT1JBR0VfQlVDS0VUOiBcIm9kaW5saWJyYXJ5LWY1LmFwcHNwb3QuY29tXCIsXG4gIE1FU1NBR0lOR19TRU5ERVJfSUQ6IFwiMTA5MjczNzQxMzQ0MVwiLFxuICBBUFBfSUQ6IFwiMToxMDkyNzM3NDEzNDQxOndlYjphODc5NzA5YzllN2Y1YzNkYjY3MWMwXCIsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBlbnY7XG4iLCJpbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gJ3RzbGliJztcbmltcG9ydCB7IEVycm9yRmFjdG9yeSwgZGVlcENvcHksIGNvbnRhaW5zLCBkZWVwRXh0ZW5kLCBjcmVhdGVTdWJzY3JpYmUsIGlzQnJvd3NlciwgaXNOb2RlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgQ29tcG9uZW50Q29udGFpbmVyLCBDb21wb25lbnQgfSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IExvZ2dlciwgc2V0TG9nTGV2ZWwsIHNldFVzZXJMb2dIYW5kbGVyIH0gZnJvbSAnQGZpcmViYXNlL2xvZ2dlcic7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBfYTtcclxudmFyIEVSUk9SUyA9IChfYSA9IHt9LFxyXG4gICAgX2FbXCJuby1hcHBcIiAvKiBOT19BUFAgKi9dID0gXCJObyBGaXJlYmFzZSBBcHAgJ3skYXBwTmFtZX0nIGhhcyBiZWVuIGNyZWF0ZWQgLSBcIiArXHJcbiAgICAgICAgJ2NhbGwgRmlyZWJhc2UgQXBwLmluaXRpYWxpemVBcHAoKScsXHJcbiAgICBfYVtcImJhZC1hcHAtbmFtZVwiIC8qIEJBRF9BUFBfTkFNRSAqL10gPSBcIklsbGVnYWwgQXBwIG5hbWU6ICd7JGFwcE5hbWV9XCIsXHJcbiAgICBfYVtcImR1cGxpY2F0ZS1hcHBcIiAvKiBEVVBMSUNBVEVfQVBQICovXSA9IFwiRmlyZWJhc2UgQXBwIG5hbWVkICd7JGFwcE5hbWV9JyBhbHJlYWR5IGV4aXN0c1wiLFxyXG4gICAgX2FbXCJhcHAtZGVsZXRlZFwiIC8qIEFQUF9ERUxFVEVEICovXSA9IFwiRmlyZWJhc2UgQXBwIG5hbWVkICd7JGFwcE5hbWV9JyBhbHJlYWR5IGRlbGV0ZWRcIixcclxuICAgIF9hW1wiaW52YWxpZC1hcHAtYXJndW1lbnRcIiAvKiBJTlZBTElEX0FQUF9BUkdVTUVOVCAqL10gPSAnZmlyZWJhc2UueyRhcHBOYW1lfSgpIHRha2VzIGVpdGhlciBubyBhcmd1bWVudCBvciBhICcgK1xyXG4gICAgICAgICdGaXJlYmFzZSBBcHAgaW5zdGFuY2UuJyxcclxuICAgIF9hW1wiaW52YWxpZC1sb2ctYXJndW1lbnRcIiAvKiBJTlZBTElEX0xPR19BUkdVTUVOVCAqL10gPSAnRmlyc3QgYXJndW1lbnQgdG8gYG9uTG9nYCBtdXN0IGJlIG51bGwgb3IgYSBmdW5jdGlvbi4nLFxyXG4gICAgX2EpO1xyXG52YXIgRVJST1JfRkFDVE9SWSA9IG5ldyBFcnJvckZhY3RvcnkoJ2FwcCcsICdGaXJlYmFzZScsIEVSUk9SUyk7XG5cbnZhciBuYW1lID0gXCJAZmlyZWJhc2UvYXBwXCI7XG52YXIgdmVyc2lvbiA9IFwiMC42LjIwXCI7XG5cbnZhciBuYW1lJDEgPSBcIkBmaXJlYmFzZS9hbmFseXRpY3NcIjtcblxudmFyIG5hbWUkMiA9IFwiQGZpcmViYXNlL2F1dGhcIjtcblxudmFyIG5hbWUkMyA9IFwiQGZpcmViYXNlL2RhdGFiYXNlXCI7XG5cbnZhciBuYW1lJDQgPSBcIkBmaXJlYmFzZS9mdW5jdGlvbnNcIjtcblxudmFyIG5hbWUkNSA9IFwiQGZpcmViYXNlL2luc3RhbGxhdGlvbnNcIjtcblxudmFyIG5hbWUkNiA9IFwiQGZpcmViYXNlL21lc3NhZ2luZ1wiO1xuXG52YXIgbmFtZSQ3ID0gXCJAZmlyZWJhc2UvcGVyZm9ybWFuY2VcIjtcblxudmFyIG5hbWUkOCA9IFwiQGZpcmViYXNlL3JlbW90ZS1jb25maWdcIjtcblxudmFyIG5hbWUkOSA9IFwiQGZpcmViYXNlL3N0b3JhZ2VcIjtcblxudmFyIG5hbWUkYSA9IFwiQGZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuXG52YXIgbmFtZSRiID0gXCJmaXJlYmFzZS13cmFwcGVyXCI7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBfYSQxO1xyXG52YXIgREVGQVVMVF9FTlRSWV9OQU1FID0gJ1tERUZBVUxUXSc7XHJcbnZhciBQTEFURk9STV9MT0dfU1RSSU5HID0gKF9hJDEgPSB7fSxcclxuICAgIF9hJDFbbmFtZV0gPSAnZmlyZS1jb3JlJyxcclxuICAgIF9hJDFbbmFtZSQxXSA9ICdmaXJlLWFuYWx5dGljcycsXHJcbiAgICBfYSQxW25hbWUkMl0gPSAnZmlyZS1hdXRoJyxcclxuICAgIF9hJDFbbmFtZSQzXSA9ICdmaXJlLXJ0ZGInLFxyXG4gICAgX2EkMVtuYW1lJDRdID0gJ2ZpcmUtZm4nLFxyXG4gICAgX2EkMVtuYW1lJDVdID0gJ2ZpcmUtaWlkJyxcclxuICAgIF9hJDFbbmFtZSQ2XSA9ICdmaXJlLWZjbScsXHJcbiAgICBfYSQxW25hbWUkN10gPSAnZmlyZS1wZXJmJyxcclxuICAgIF9hJDFbbmFtZSQ4XSA9ICdmaXJlLXJjJyxcclxuICAgIF9hJDFbbmFtZSQ5XSA9ICdmaXJlLWdjcycsXHJcbiAgICBfYSQxW25hbWUkYV0gPSAnZmlyZS1mc3QnLFxyXG4gICAgX2EkMVsnZmlyZS1qcyddID0gJ2ZpcmUtanMnLFxyXG4gICAgX2EkMVtuYW1lJGJdID0gJ2ZpcmUtanMtYWxsJyxcclxuICAgIF9hJDEpO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgbG9nZ2VyID0gbmV3IExvZ2dlcignQGZpcmViYXNlL2FwcCcpO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogR2xvYmFsIGNvbnRleHQgb2JqZWN0IGZvciBhIGNvbGxlY3Rpb24gb2Ygc2VydmljZXMgdXNpbmdcclxuICogYSBzaGFyZWQgYXV0aGVudGljYXRpb24gc3RhdGUuXHJcbiAqL1xyXG52YXIgRmlyZWJhc2VBcHBJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRmlyZWJhc2VBcHBJbXBsKG9wdGlvbnMsIGNvbmZpZywgZmlyZWJhc2VfKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmZpcmViYXNlXyA9IGZpcmViYXNlXztcclxuICAgICAgICB0aGlzLmlzRGVsZXRlZF8gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm5hbWVfID0gY29uZmlnLm5hbWU7XHJcbiAgICAgICAgdGhpcy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWRfID1cclxuICAgICAgICAgICAgY29uZmlnLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLm9wdGlvbnNfID0gZGVlcENvcHkob3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBuZXcgQ29tcG9uZW50Q29udGFpbmVyKGNvbmZpZy5uYW1lKTtcclxuICAgICAgICAvLyBhZGQgaXRzZWxmIHRvIGNvbnRhaW5lclxyXG4gICAgICAgIHRoaXMuX2FkZENvbXBvbmVudChuZXcgQ29tcG9uZW50KCdhcHAnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpczsgfSwgXCJQVUJMSUNcIiAvKiBQVUJMSUMgKi8pKTtcclxuICAgICAgICAvLyBwb3B1bGF0ZSBDb21wb25lbnRDb250YWluZXIgd2l0aCBleGlzdGluZyBjb21wb25lbnRzXHJcbiAgICAgICAgdGhpcy5maXJlYmFzZV8uSU5URVJOQUwuY29tcG9uZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9hZGRDb21wb25lbnQoY29tcG9uZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLCBcImF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tEZXN0cm95ZWRfKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZF87XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZF8oKTtcclxuICAgICAgICAgICAgdGhpcy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWRfID0gdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLCBcIm5hbWVcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkXygpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uYW1lXztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJvcHRpb25zXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZF8oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc187XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgICAgICAgX3RoaXMuY2hlY2tEZXN0cm95ZWRfKCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmZpcmViYXNlXy5JTlRFUk5BTC5yZW1vdmVBcHAoX3RoaXMubmFtZV8pO1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoX3RoaXMuY29udGFpbmVyLmdldFByb3ZpZGVycygpLm1hcChmdW5jdGlvbiAocHJvdmlkZXIpIHsgcmV0dXJuIHByb3ZpZGVyLmRlbGV0ZSgpOyB9KSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5pc0RlbGV0ZWRfID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiBhIHNlcnZpY2UgaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIHRoaXMgYXBwIChjcmVhdGluZyBpdFxyXG4gICAgICogb24gZGVtYW5kKSwgaWRlbnRpZmllZCBieSB0aGUgcGFzc2VkIGluc3RhbmNlSWRlbnRpZmllci5cclxuICAgICAqXHJcbiAgICAgKiBOT1RFOiBDdXJyZW50bHkgc3RvcmFnZSBhbmQgZnVuY3Rpb25zIGFyZSB0aGUgb25seSBvbmVzIHRoYXQgYXJlIGxldmVyYWdpbmcgdGhpc1xyXG4gICAgICogZnVuY3Rpb25hbGl0eS4gVGhleSBpbnZva2UgaXQgYnkgY2FsbGluZzpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqYXZhc2NyaXB0XHJcbiAgICAgKiBmaXJlYmFzZS5hcHAoKS5zdG9yYWdlKCdTVE9SQUdFIEJVQ0tFVCBJRCcpXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBUaGUgc2VydmljZSBuYW1lIGlzIHBhc3NlZCB0byB0aGlzIGFscmVhZHlcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLl9nZXRTZXJ2aWNlID0gZnVuY3Rpb24gKG5hbWUsIGluc3RhbmNlSWRlbnRpZmllcikge1xyXG4gICAgICAgIGlmIChpbnN0YW5jZUlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpbnN0YW5jZUlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUU7IH1cclxuICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkXygpO1xyXG4gICAgICAgIC8vIGdldEltbWVkaWF0ZSB3aWxsIGFsd2F5cyBzdWNjZWVkIGJlY2F1c2UgX2dldFNlcnZpY2UgaXMgb25seSBjYWxsZWQgZm9yIHJlZ2lzdGVyZWQgY29tcG9uZW50cy5cclxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0UHJvdmlkZXIobmFtZSkuZ2V0SW1tZWRpYXRlKHtcclxuICAgICAgICAgICAgaWRlbnRpZmllcjogaW5zdGFuY2VJZGVudGlmaWVyXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgYSBzZXJ2aWNlIGluc3RhbmNlIGZyb20gdGhlIGNhY2hlLCBzbyB3ZSB3aWxsIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZSBmb3IgdGhpcyBzZXJ2aWNlXHJcbiAgICAgKiB3aGVuIHBlb3BsZSB0cnkgdG8gZ2V0IHRoaXMgc2VydmljZSBhZ2Fpbi5cclxuICAgICAqXHJcbiAgICAgKiBOT1RFOiBjdXJyZW50bHkgb25seSBmaXJlc3RvcmUgaXMgdXNpbmcgdGhpcyBmdW5jdGlvbmFsaXR5IHRvIHN1cHBvcnQgZmlyZXN0b3JlIHNodXRkb3duLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBzZXJ2aWNlIG5hbWVcclxuICAgICAqIEBwYXJhbSBpbnN0YW5jZUlkZW50aWZpZXIgaW5zdGFuY2UgaWRlbnRpZmllciBpbiBjYXNlIG11bHRpcGxlIGluc3RhbmNlcyBhcmUgYWxsb3dlZFxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIEZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGUuX3JlbW92ZVNlcnZpY2VJbnN0YW5jZSA9IGZ1bmN0aW9uIChuYW1lLCBpbnN0YW5jZUlkZW50aWZpZXIpIHtcclxuICAgICAgICBpZiAoaW5zdGFuY2VJZGVudGlmaWVyID09PSB2b2lkIDApIHsgaW5zdGFuY2VJZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRQcm92aWRlcihuYW1lKS5jbGVhckluc3RhbmNlKGluc3RhbmNlSWRlbnRpZmllcik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IHRoZSBjb21wb25lbnQgYmVpbmcgYWRkZWQgdG8gdGhpcyBhcHAncyBjb250YWluZXJcclxuICAgICAqL1xyXG4gICAgRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZS5fYWRkQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFkZENvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoXCJDb21wb25lbnQgXCIgKyBjb21wb25lbnQubmFtZSArIFwiIGZhaWxlZCB0byByZWdpc3RlciB3aXRoIEZpcmViYXNlQXBwIFwiICsgdGhpcy5uYW1lLCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZS5fYWRkT3JPdmVyd3JpdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkT3JPdmVyd3JpdGVDb21wb25lbnQoY29tcG9uZW50KTtcclxuICAgIH07XHJcbiAgICBGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgIGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZDogdGhpcy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9uc1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgdGhyb3cgYW4gRXJyb3IgaWYgdGhlIEFwcCBoYXMgYWxyZWFkeSBiZWVuIGRlbGV0ZWQgLVxyXG4gICAgICogdXNlIGJlZm9yZSBwZXJmb3JtaW5nIEFQSSBhY3Rpb25zIG9uIHRoZSBBcHAuXHJcbiAgICAgKi9cclxuICAgIEZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGUuY2hlY2tEZXN0cm95ZWRfID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGVsZXRlZF8pIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJhcHAtZGVsZXRlZFwiIC8qIEFQUF9ERUxFVEVEICovLCB7IGFwcE5hbWU6IHRoaXMubmFtZV8gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBGaXJlYmFzZUFwcEltcGw7XHJcbn0oKSk7XHJcbi8vIFByZXZlbnQgZGVhZC1jb2RlIGVsaW1pbmF0aW9uIG9mIHRoZXNlIG1ldGhvZHMgdy9vIGludmFsaWQgcHJvcGVydHlcclxuLy8gY29weWluZy5cclxuKEZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGUubmFtZSAmJiBGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLm9wdGlvbnMpIHx8XHJcbiAgICBGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLmRlbGV0ZSB8fFxyXG4gICAgY29uc29sZS5sb2coJ2RjJyk7XG5cbnZhciB2ZXJzaW9uJDEgPSBcIjguNC4wXCI7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBCZWNhdXNlIGF1dGggY2FuJ3Qgc2hhcmUgY29kZSB3aXRoIG90aGVyIGNvbXBvbmVudHMsIHdlIGF0dGFjaCB0aGUgdXRpbGl0eSBmdW5jdGlvbnNcclxuICogaW4gYW4gaW50ZXJuYWwgbmFtZXNwYWNlIHRvIHNoYXJlIGNvZGUuXHJcbiAqIFRoaXMgZnVuY3Rpb24gcmV0dXJuIGEgZmlyZWJhc2UgbmFtZXNwYWNlIG9iamVjdCB3aXRob3V0XHJcbiAqIGFueSB1dGlsaXR5IGZ1bmN0aW9ucywgc28gaXQgY2FuIGJlIHNoYXJlZCBiZXR3ZWVuIHRoZSByZWd1bGFyIGZpcmViYXNlTmFtZXNwYWNlIGFuZFxyXG4gKiB0aGUgbGl0ZSB2ZXJzaW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlRmlyZWJhc2VOYW1lc3BhY2VDb3JlKGZpcmViYXNlQXBwSW1wbCkge1xyXG4gICAgdmFyIGFwcHMgPSB7fTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICB2YXIgY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcclxuICAgIC8vIEEgbmFtZXNwYWNlIGlzIGEgcGxhaW4gSmF2YVNjcmlwdCBPYmplY3QuXHJcbiAgICB2YXIgbmFtZXNwYWNlID0ge1xyXG4gICAgICAgIC8vIEhhY2sgdG8gcHJldmVudCBCYWJlbCBmcm9tIG1vZGlmeWluZyB0aGUgb2JqZWN0IHJldHVybmVkXHJcbiAgICAgICAgLy8gYXMgdGhlIGZpcmViYXNlIG5hbWVzcGFjZS5cclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgX19lc01vZHVsZTogdHJ1ZSxcclxuICAgICAgICBpbml0aWFsaXplQXBwOiBpbml0aWFsaXplQXBwLFxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBhcHA6IGFwcCxcclxuICAgICAgICByZWdpc3RlclZlcnNpb246IHJlZ2lzdGVyVmVyc2lvbixcclxuICAgICAgICBzZXRMb2dMZXZlbDogc2V0TG9nTGV2ZWwsXHJcbiAgICAgICAgb25Mb2c6IG9uTG9nLFxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBhcHBzOiBudWxsLFxyXG4gICAgICAgIFNES19WRVJTSU9OOiB2ZXJzaW9uJDEsXHJcbiAgICAgICAgSU5URVJOQUw6IHtcclxuICAgICAgICAgICAgcmVnaXN0ZXJDb21wb25lbnQ6IHJlZ2lzdGVyQ29tcG9uZW50LFxyXG4gICAgICAgICAgICByZW1vdmVBcHA6IHJlbW92ZUFwcCxcclxuICAgICAgICAgICAgY29tcG9uZW50czogY29tcG9uZW50cyxcclxuICAgICAgICAgICAgdXNlQXNTZXJ2aWNlOiB1c2VBc1NlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gSW5qZWN0IGEgY2lyY3VsYXIgZGVmYXVsdCBleHBvcnQgdG8gYWxsb3cgQmFiZWwgdXNlcnMgd2hvIHdlcmUgcHJldmlvdXNseVxyXG4gICAgLy8gdXNpbmc6XHJcbiAgICAvL1xyXG4gICAgLy8gICBpbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnO1xyXG4gICAgLy8gICB3aGljaCBiZWNvbWVzOiB2YXIgZmlyZWJhc2UgPSByZXF1aXJlKCdmaXJlYmFzZScpLmRlZmF1bHQ7XHJcbiAgICAvL1xyXG4gICAgLy8gaW5zdGVhZCBvZlxyXG4gICAgLy9cclxuICAgIC8vICAgaW1wb3J0ICogYXMgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnO1xyXG4gICAgLy8gICB3aGljaCBiZWNvbWVzOiB2YXIgZmlyZWJhc2UgPSByZXF1aXJlKCdmaXJlYmFzZScpO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgIG5hbWVzcGFjZVsnZGVmYXVsdCddID0gbmFtZXNwYWNlO1xyXG4gICAgLy8gZmlyZWJhc2UuYXBwcyBpcyBhIHJlYWQtb25seSBnZXR0ZXIuXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmFtZXNwYWNlLCAnYXBwcycsIHtcclxuICAgICAgICBnZXQ6IGdldEFwcHNcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsZWQgYnkgQXBwLmRlbGV0ZSgpIC0gYnV0IGJlZm9yZSBhbnkgc2VydmljZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBBcHBcclxuICAgICAqIGFyZSBkZWxldGVkLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiByZW1vdmVBcHAobmFtZSkge1xyXG4gICAgICAgIGRlbGV0ZSBhcHBzW25hbWVdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIEFwcCBvYmplY3QgZm9yIGEgZ2l2ZW4gbmFtZSAob3IgREVGQVVMVCkuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFwcChuYW1lKSB7XHJcbiAgICAgICAgbmFtZSA9IG5hbWUgfHwgREVGQVVMVF9FTlRSWV9OQU1FO1xyXG4gICAgICAgIGlmICghY29udGFpbnMoYXBwcywgbmFtZSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJuby1hcHBcIiAvKiBOT19BUFAgKi8sIHsgYXBwTmFtZTogbmFtZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFwcHNbbmFtZV07XHJcbiAgICB9XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBhcHBbJ0FwcCddID0gZmlyZWJhc2VBcHBJbXBsO1xyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZUFwcChvcHRpb25zLCByYXdDb25maWcpIHtcclxuICAgICAgICBpZiAocmF3Q29uZmlnID09PSB2b2lkIDApIHsgcmF3Q29uZmlnID0ge307IH1cclxuICAgICAgICBpZiAodHlwZW9mIHJhd0NvbmZpZyAhPT0gJ29iamVjdCcgfHwgcmF3Q29uZmlnID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lXzEgPSByYXdDb25maWc7XHJcbiAgICAgICAgICAgIHJhd0NvbmZpZyA9IHsgbmFtZTogbmFtZV8xIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb25maWcgPSByYXdDb25maWc7XHJcbiAgICAgICAgaWYgKGNvbmZpZy5uYW1lID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uZmlnLm5hbWUgPSBERUZBVUxUX0VOVFJZX05BTUU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBuYW1lID0gY29uZmlnLm5hbWU7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCAhbmFtZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImJhZC1hcHAtbmFtZVwiIC8qIEJBRF9BUFBfTkFNRSAqLywge1xyXG4gICAgICAgICAgICAgICAgYXBwTmFtZTogU3RyaW5nKG5hbWUpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29udGFpbnMoYXBwcywgbmFtZSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJkdXBsaWNhdGUtYXBwXCIgLyogRFVQTElDQVRFX0FQUCAqLywgeyBhcHBOYW1lOiBuYW1lIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYXBwID0gbmV3IGZpcmViYXNlQXBwSW1wbChvcHRpb25zLCBjb25maWcsIG5hbWVzcGFjZSk7XHJcbiAgICAgICAgYXBwc1tuYW1lXSA9IGFwcDtcclxuICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgfVxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhbiBhcnJheSBvZiBhbGwgdGhlIG5vbi1kZWxldGVkIEZpcmViYXNlQXBwcy5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0QXBwcygpIHtcclxuICAgICAgICAvLyBNYWtlIGEgY29weSBzbyBjYWxsZXIgY2Fubm90IG11dGF0ZSB0aGUgYXBwcyBsaXN0LlxyXG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhhcHBzKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIGFwcHNbbmFtZV07IH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnQubmFtZTtcclxuICAgICAgICBpZiAoY29tcG9uZW50cy5oYXMoY29tcG9uZW50TmFtZSkpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKFwiVGhlcmUgd2VyZSBtdWx0aXBsZSBhdHRlbXB0cyB0byByZWdpc3RlciBjb21wb25lbnQgXCIgKyBjb21wb25lbnROYW1lICsgXCIuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50LnR5cGUgPT09IFwiUFVCTElDXCIgLyogUFVCTElDICovXHJcbiAgICAgICAgICAgICAgICA/IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlW2NvbXBvbmVudE5hbWVdXHJcbiAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbXBvbmVudHMuc2V0KGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgLy8gY3JlYXRlIHNlcnZpY2UgbmFtZXNwYWNlIGZvciBwdWJsaWMgY29tcG9uZW50c1xyXG4gICAgICAgIGlmIChjb21wb25lbnQudHlwZSA9PT0gXCJQVUJMSUNcIiAvKiBQVUJMSUMgKi8pIHtcclxuICAgICAgICAgICAgLy8gVGhlIFNlcnZpY2UgbmFtZXNwYWNlIGlzIGFuIGFjY2Vzc29yIGZ1bmN0aW9uIC4uLlxyXG4gICAgICAgICAgICB2YXIgc2VydmljZU5hbWVzcGFjZSA9IGZ1bmN0aW9uIChhcHBBcmcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcHBBcmcgPT09IHZvaWQgMCkgeyBhcHBBcmcgPSBhcHAoKTsgfVxyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXBwQXJnW2NvbXBvbmVudE5hbWVdICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSW52YWxpZCBhcmd1bWVudC5cclxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaW4gdGhlIGZvbGxvd2luZyBjYXNlOiBmaXJlYmFzZS5zdG9yYWdlKCdnczovJylcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImludmFsaWQtYXBwLWFyZ3VtZW50XCIgLyogSU5WQUxJRF9BUFBfQVJHVU1FTlQgKi8sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwTmFtZTogY29tcG9uZW50TmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gRm9yd2FyZCBzZXJ2aWNlIGluc3RhbmNlIGxvb2t1cCB0byB0aGUgRmlyZWJhc2VBcHAuXHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcEFyZ1tjb21wb25lbnROYW1lXSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyAuLi4gYW5kIGEgY29udGFpbmVyIGZvciBzZXJ2aWNlLWxldmVsIHByb3BlcnRpZXMuXHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQuc2VydmljZVByb3BzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGRlZXBFeHRlbmQoc2VydmljZU5hbWVzcGFjZSwgY29tcG9uZW50LnNlcnZpY2VQcm9wcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgbmFtZXNwYWNlW2NvbXBvbmVudE5hbWVdID0gc2VydmljZU5hbWVzcGFjZTtcclxuICAgICAgICAgICAgLy8gUGF0Y2ggdGhlIEZpcmViYXNlQXBwSW1wbCBwcm90b3R5cGVcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgZmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZVtjb21wb25lbnROYW1lXSA9XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBUaGUgZXNsaW50IGRpc2FibGUgY2FuIGJlIHJlbW92ZWQgYW5kIHRoZSAnaWdub3JlUmVzdEFyZ3MnXHJcbiAgICAgICAgICAgICAgICAvLyBvcHRpb24gYWRkZWQgdG8gdGhlIG5vLWV4cGxpY2l0LWFueSBydWxlIHdoZW4gRVNsaW50IHJlbGVhc2VzIGl0LlxyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlcnZpY2VGeG4gPSB0aGlzLl9nZXRTZXJ2aWNlLmJpbmQodGhpcywgY29tcG9uZW50TmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2VGeG4uYXBwbHkodGhpcywgY29tcG9uZW50Lm11bHRpcGxlSW5zdGFuY2VzID8gYXJncyA6IFtdKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFkZCB0aGUgY29tcG9uZW50IHRvIGV4aXN0aW5nIGFwcCBpbnN0YW5jZXNcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMoYXBwcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBhcHBOYW1lID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBhcHBzW2FwcE5hbWVdLl9hZGRDb21wb25lbnQoY29tcG9uZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudC50eXBlID09PSBcIlBVQkxJQ1wiIC8qIFBVQkxJQyAqL1xyXG4gICAgICAgICAgICA/IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2VbY29tcG9uZW50TmFtZV1cclxuICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJWZXJzaW9uKGxpYnJhcnlLZXlPck5hbWUsIHZlcnNpb24sIHZhcmlhbnQpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgLy8gVE9ETzogV2UgY2FuIHVzZSB0aGlzIGNoZWNrIHRvIHdoaXRlbGlzdCBzdHJpbmdzIHdoZW4vaWYgd2Ugc2V0IHVwXHJcbiAgICAgICAgLy8gYSBnb29kIHdoaXRlbGlzdCBzeXN0ZW0uXHJcbiAgICAgICAgdmFyIGxpYnJhcnkgPSAoX2EgPSBQTEFURk9STV9MT0dfU1RSSU5HW2xpYnJhcnlLZXlPck5hbWVdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBsaWJyYXJ5S2V5T3JOYW1lO1xyXG4gICAgICAgIGlmICh2YXJpYW50KSB7XHJcbiAgICAgICAgICAgIGxpYnJhcnkgKz0gXCItXCIgKyB2YXJpYW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbGlicmFyeU1pc21hdGNoID0gbGlicmFyeS5tYXRjaCgvXFxzfFxcLy8pO1xyXG4gICAgICAgIHZhciB2ZXJzaW9uTWlzbWF0Y2ggPSB2ZXJzaW9uLm1hdGNoKC9cXHN8XFwvLyk7XHJcbiAgICAgICAgaWYgKGxpYnJhcnlNaXNtYXRjaCB8fCB2ZXJzaW9uTWlzbWF0Y2gpIHtcclxuICAgICAgICAgICAgdmFyIHdhcm5pbmcgPSBbXHJcbiAgICAgICAgICAgICAgICBcIlVuYWJsZSB0byByZWdpc3RlciBsaWJyYXJ5IFxcXCJcIiArIGxpYnJhcnkgKyBcIlxcXCIgd2l0aCB2ZXJzaW9uIFxcXCJcIiArIHZlcnNpb24gKyBcIlxcXCI6XCJcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgaWYgKGxpYnJhcnlNaXNtYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgd2FybmluZy5wdXNoKFwibGlicmFyeSBuYW1lIFxcXCJcIiArIGxpYnJhcnkgKyBcIlxcXCIgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzICh3aGl0ZXNwYWNlIG9yIFxcXCIvXFxcIilcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGxpYnJhcnlNaXNtYXRjaCAmJiB2ZXJzaW9uTWlzbWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIHdhcm5pbmcucHVzaCgnYW5kJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZlcnNpb25NaXNtYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgd2FybmluZy5wdXNoKFwidmVyc2lvbiBuYW1lIFxcXCJcIiArIHZlcnNpb24gKyBcIlxcXCIgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzICh3aGl0ZXNwYWNlIG9yIFxcXCIvXFxcIilcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4od2FybmluZy5qb2luKCcgJykpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlZ2lzdGVyQ29tcG9uZW50KG5ldyBDb21wb25lbnQobGlicmFyeSArIFwiLXZlcnNpb25cIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gKHsgbGlicmFyeTogbGlicmFyeSwgdmVyc2lvbjogdmVyc2lvbiB9KTsgfSwgXCJWRVJTSU9OXCIgLyogVkVSU0lPTiAqLykpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gb25Mb2cobG9nQ2FsbGJhY2ssIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAobG9nQ2FsbGJhY2sgIT09IG51bGwgJiYgdHlwZW9mIGxvZ0NhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW52YWxpZC1sb2ctYXJndW1lbnRcIiAvKiBJTlZBTElEX0xPR19BUkdVTUVOVCAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldFVzZXJMb2dIYW5kbGVyKGxvZ0NhbGxiYWNrLCBvcHRpb25zKTtcclxuICAgIH1cclxuICAgIC8vIE1hcCB0aGUgcmVxdWVzdGVkIHNlcnZpY2UgdG8gYSByZWdpc3RlcmVkIHNlcnZpY2UgbmFtZVxyXG4gICAgLy8gKHVzZWQgdG8gbWFwIGF1dGggdG8gc2VydmVyQXV0aCBzZXJ2aWNlIHdoZW4gbmVlZGVkKS5cclxuICAgIGZ1bmN0aW9uIHVzZUFzU2VydmljZShhcHAsIG5hbWUpIHtcclxuICAgICAgICBpZiAobmFtZSA9PT0gJ3NlcnZlckF1dGgnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdXNlU2VydmljZSA9IG5hbWU7XHJcbiAgICAgICAgcmV0dXJuIHVzZVNlcnZpY2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmFtZXNwYWNlO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBSZXR1cm4gYSBmaXJlYmFzZSBuYW1lc3BhY2Ugb2JqZWN0LlxyXG4gKlxyXG4gKiBJbiBwcm9kdWN0aW9uLCB0aGlzIHdpbGwgYmUgY2FsbGVkIGV4YWN0bHkgb25jZSBhbmQgdGhlIHJlc3VsdFxyXG4gKiBhc3NpZ25lZCB0byB0aGUgJ2ZpcmViYXNlJyBnbG9iYWwuICBJdCBtYXkgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzXHJcbiAqIGluIHVuaXQgdGVzdHMuXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVGaXJlYmFzZU5hbWVzcGFjZSgpIHtcclxuICAgIHZhciBuYW1lc3BhY2UgPSBjcmVhdGVGaXJlYmFzZU5hbWVzcGFjZUNvcmUoRmlyZWJhc2VBcHBJbXBsKTtcclxuICAgIG5hbWVzcGFjZS5JTlRFUk5BTCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBuYW1lc3BhY2UuSU5URVJOQUwpLCB7IGNyZWF0ZUZpcmViYXNlTmFtZXNwYWNlOiBjcmVhdGVGaXJlYmFzZU5hbWVzcGFjZSxcclxuICAgICAgICBleHRlbmROYW1lc3BhY2U6IGV4dGVuZE5hbWVzcGFjZSxcclxuICAgICAgICBjcmVhdGVTdWJzY3JpYmU6IGNyZWF0ZVN1YnNjcmliZSxcclxuICAgICAgICBFcnJvckZhY3Rvcnk6IEVycm9yRmFjdG9yeSxcclxuICAgICAgICBkZWVwRXh0ZW5kOiBkZWVwRXh0ZW5kIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBQYXRjaCB0aGUgdG9wLWxldmVsIGZpcmViYXNlIG5hbWVzcGFjZSB3aXRoIGFkZGl0aW9uYWwgcHJvcGVydGllcy5cclxuICAgICAqXHJcbiAgICAgKiBmaXJlYmFzZS5JTlRFUk5BTC5leHRlbmROYW1lc3BhY2UoKVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBleHRlbmROYW1lc3BhY2UocHJvcHMpIHtcclxuICAgICAgICBkZWVwRXh0ZW5kKG5hbWVzcGFjZSwgcHJvcHMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5hbWVzcGFjZTtcclxufVxyXG52YXIgZmlyZWJhc2UgPSBjcmVhdGVGaXJlYmFzZU5hbWVzcGFjZSgpO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlKGNvbnRhaW5lcikge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgfVxyXG4gICAgLy8gSW4gaW5pdGlhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3aWxsIGJlIGNhbGxlZCBieSBpbnN0YWxsYXRpb25zIG9uXHJcbiAgICAvLyBhdXRoIHRva2VuIHJlZnJlc2gsIGFuZCBpbnN0YWxsYXRpb25zIHdpbGwgc2VuZCB0aGlzIHN0cmluZy5cclxuICAgIFBsYXRmb3JtTG9nZ2VyU2VydmljZS5wcm90b3R5cGUuZ2V0UGxhdGZvcm1JbmZvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwcm92aWRlcnMgPSB0aGlzLmNvbnRhaW5lci5nZXRQcm92aWRlcnMoKTtcclxuICAgICAgICAvLyBMb29wIHRocm91Z2ggcHJvdmlkZXJzIGFuZCBnZXQgbGlicmFyeS92ZXJzaW9uIHBhaXJzIGZyb20gYW55IHRoYXQgYXJlXHJcbiAgICAgICAgLy8gdmVyc2lvbiBjb21wb25lbnRzLlxyXG4gICAgICAgIHJldHVybiBwcm92aWRlcnNcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAocHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgaWYgKGlzVmVyc2lvblNlcnZpY2VQcm92aWRlcihwcm92aWRlcikpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlID0gcHJvdmlkZXIuZ2V0SW1tZWRpYXRlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VydmljZS5saWJyYXJ5ICsgXCIvXCIgKyBzZXJ2aWNlLnZlcnNpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGxvZ1N0cmluZykgeyByZXR1cm4gbG9nU3RyaW5nOyB9KVxyXG4gICAgICAgICAgICAuam9pbignICcpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQbGF0Zm9ybUxvZ2dlclNlcnZpY2U7XHJcbn0oKSk7XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gcHJvdmlkZXIgY2hlY2sgaWYgdGhpcyBwcm92aWRlciBwcm92aWRlcyBhIFZlcnNpb25TZXJ2aWNlXHJcbiAqXHJcbiAqIE5PVEU6IFVzaW5nIFByb3ZpZGVyPCdhcHAtdmVyc2lvbic+IGlzIGEgaGFjayB0byBpbmRpY2F0ZSB0aGF0IHRoZSBwcm92aWRlclxyXG4gKiBwcm92aWRlcyBWZXJzaW9uU2VydmljZS4gVGhlIHByb3ZpZGVyIGlzIG5vdCBuZWNlc3NhcmlseSBhICdhcHAtdmVyc2lvbidcclxuICogcHJvdmlkZXIuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1ZlcnNpb25TZXJ2aWNlUHJvdmlkZXIocHJvdmlkZXIpIHtcclxuICAgIHZhciBjb21wb25lbnQgPSBwcm92aWRlci5nZXRDb21wb25lbnQoKTtcclxuICAgIHJldHVybiAoY29tcG9uZW50ID09PSBudWxsIHx8IGNvbXBvbmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tcG9uZW50LnR5cGUpID09PSBcIlZFUlNJT05cIiAvKiBWRVJTSU9OICovO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyQ29yZUNvbXBvbmVudHMoZmlyZWJhc2UsIHZhcmlhbnQpIHtcclxuICAgIGZpcmViYXNlLklOVEVSTkFMLnJlZ2lzdGVyQ29tcG9uZW50KG5ldyBDb21wb25lbnQoJ3BsYXRmb3JtLWxvZ2dlcicsIGZ1bmN0aW9uIChjb250YWluZXIpIHsgcmV0dXJuIG5ldyBQbGF0Zm9ybUxvZ2dlclNlcnZpY2UoY29udGFpbmVyKTsgfSwgXCJQUklWQVRFXCIgLyogUFJJVkFURSAqLykpO1xyXG4gICAgLy8gUmVnaXN0ZXIgYGFwcGAgcGFja2FnZS5cclxuICAgIGZpcmViYXNlLnJlZ2lzdGVyVmVyc2lvbihuYW1lLCB2ZXJzaW9uLCB2YXJpYW50KTtcclxuICAgIC8vIFJlZ2lzdGVyIHBsYXRmb3JtIFNESyBpZGVudGlmaWVyIChubyB2ZXJzaW9uKS5cclxuICAgIGZpcmViYXNlLnJlZ2lzdGVyVmVyc2lvbignZmlyZS1qcycsICcnKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vLyBGaXJlYmFzZSBMaXRlIGRldGVjdGlvbiB0ZXN0XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbmlmIChpc0Jyb3dzZXIoKSAmJiBzZWxmLmZpcmViYXNlICE9PSB1bmRlZmluZWQpIHtcclxuICAgIGxvZ2dlci53YXJuKFwiXFxuICAgIFdhcm5pbmc6IEZpcmViYXNlIGlzIGFscmVhZHkgZGVmaW5lZCBpbiB0aGUgZ2xvYmFsIHNjb3BlLiBQbGVhc2UgbWFrZSBzdXJlXFxuICAgIEZpcmViYXNlIGxpYnJhcnkgaXMgb25seSBsb2FkZWQgb25jZS5cXG4gIFwiKTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4gICAgdmFyIHNka1ZlcnNpb24gPSBzZWxmLmZpcmViYXNlLlNES19WRVJTSU9OO1xyXG4gICAgaWYgKHNka1ZlcnNpb24gJiYgc2RrVmVyc2lvbi5pbmRleE9mKCdMSVRFJykgPj0gMCkge1xyXG4gICAgICAgIGxvZ2dlci53YXJuKFwiXFxuICAgIFdhcm5pbmc6IFlvdSBhcmUgdHJ5aW5nIHRvIGxvYWQgRmlyZWJhc2Ugd2hpbGUgdXNpbmcgRmlyZWJhc2UgUGVyZm9ybWFuY2Ugc3RhbmRhbG9uZSBzY3JpcHQuXFxuICAgIFlvdSBzaG91bGQgbG9hZCBGaXJlYmFzZSBQZXJmb3JtYW5jZSB3aXRoIHRoaXMgaW5zdGFuY2Ugb2YgRmlyZWJhc2UgdG8gYXZvaWQgbG9hZGluZyBkdXBsaWNhdGUgY29kZS5cXG4gICAgXCIpO1xyXG4gICAgfVxyXG59XHJcbnZhciBpbml0aWFsaXplQXBwID0gZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcDtcclxuLy8gVE9ETzogVGhpcyBkaXNhYmxlIGNhbiBiZSByZW1vdmVkIGFuZCB0aGUgJ2lnbm9yZVJlc3RBcmdzJyBvcHRpb24gYWRkZWQgdG9cclxuLy8gdGhlIG5vLWV4cGxpY2l0LWFueSBydWxlIHdoZW4gRVNsaW50IHJlbGVhc2VzIGl0LlxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG5maXJlYmFzZS5pbml0aWFsaXplQXBwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgLy8gRW52aXJvbm1lbnQgY2hlY2sgYmVmb3JlIGluaXRpYWxpemluZyBhcHBcclxuICAgIC8vIERvIHRoZSBjaGVjayBpbiBpbml0aWFsaXplQXBwLCBzbyBwZW9wbGUgaGF2ZSBhIGNoYW5jZSB0byBkaXNhYmxlIGl0IGJ5IHNldHRpbmcgbG9nTGV2ZWxcclxuICAgIC8vIGluIEBmaXJlYmFzZS9sb2dnZXJcclxuICAgIGlmIChpc05vZGUoKSkge1xyXG4gICAgICAgIGxvZ2dlci53YXJuKFwiXFxuICAgICAgV2FybmluZzogVGhpcyBpcyBhIGJyb3dzZXItdGFyZ2V0ZWQgRmlyZWJhc2UgYnVuZGxlIGJ1dCBpdCBhcHBlYXJzIGl0IGlzIGJlaW5nXFxuICAgICAgcnVuIGluIGEgTm9kZSBlbnZpcm9ubWVudC4gIElmIHJ1bm5pbmcgaW4gYSBOb2RlIGVudmlyb25tZW50LCBtYWtlIHN1cmUgeW91XFxuICAgICAgYXJlIHVzaW5nIHRoZSBidW5kbGUgc3BlY2lmaWVkIGJ5IHRoZSBcXFwibWFpblxcXCIgZmllbGQgaW4gcGFja2FnZS5qc29uLlxcbiAgICAgIFxcbiAgICAgIElmIHlvdSBhcmUgdXNpbmcgV2VicGFjaywgeW91IGNhbiBzcGVjaWZ5IFxcXCJtYWluXFxcIiBhcyB0aGUgZmlyc3QgaXRlbSBpblxcbiAgICAgIFxcXCJyZXNvbHZlLm1haW5GaWVsZHNcXFwiOlxcbiAgICAgIGh0dHBzOi8vd2VicGFjay5qcy5vcmcvY29uZmlndXJhdGlvbi9yZXNvbHZlLyNyZXNvbHZlbWFpbmZpZWxkc1xcbiAgICAgIFxcbiAgICAgIElmIHVzaW5nIFJvbGx1cCwgdXNlIHRoZSBAcm9sbHVwL3BsdWdpbi1ub2RlLXJlc29sdmUgcGx1Z2luIGFuZCBzcGVjaWZ5IFxcXCJtYWluXFxcIlxcbiAgICAgIGFzIHRoZSBmaXJzdCBpdGVtIGluIFxcXCJtYWluRmllbGRzXFxcIiwgZS5nLiBbJ21haW4nLCAnbW9kdWxlJ10uXFxuICAgICAgaHR0cHM6Ly9naXRodWIuY29tL3JvbGx1cC9Acm9sbHVwL3BsdWdpbi1ub2RlLXJlc29sdmVcXG4gICAgICBcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5pdGlhbGl6ZUFwcC5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xyXG59O1xyXG52YXIgZmlyZWJhc2UkMSA9IGZpcmViYXNlO1xyXG5yZWdpc3RlckNvcmVDb21wb25lbnRzKGZpcmViYXNlJDEpO1xuXG5leHBvcnQgZGVmYXVsdCBmaXJlYmFzZSQxO1xuZXhwb3J0IHsgZmlyZWJhc2UkMSBhcyBmaXJlYmFzZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgX19hc3NpZ24sIF9fdmFsdWVzLCBfX3JlYWQsIF9fYXdhaXRlciwgX19nZW5lcmF0b3IsIF9fc3ByZWFkQXJyYXkgfSBmcm9tICd0c2xpYic7XG5pbXBvcnQgeyBEZWZlcnJlZCB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuLyoqXHJcbiAqIENvbXBvbmVudCBmb3Igc2VydmljZSBuYW1lIFQsIGUuZy4gYGF1dGhgLCBgYXV0aC1pbnRlcm5hbGBcclxuICovXHJcbnZhciBDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgcHVibGljIHNlcnZpY2UgbmFtZSwgZS5nLiBhcHAsIGF1dGgsIGZpcmVzdG9yZSwgZGF0YWJhc2VcclxuICAgICAqIEBwYXJhbSBpbnN0YW5jZUZhY3RvcnkgU2VydmljZSBmYWN0b3J5IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGUgcHVibGljIGludGVyZmFjZVxyXG4gICAgICogQHBhcmFtIHR5cGUgd2hldGhlciB0aGUgc2VydmljZSBwcm92aWRlZCBieSB0aGUgY29tcG9uZW50IGlzIHB1YmxpYyBvciBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIENvbXBvbmVudChuYW1lLCBpbnN0YW5jZUZhY3RvcnksIHR5cGUpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VGYWN0b3J5ID0gaW5zdGFuY2VGYWN0b3J5O1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBsZUluc3RhbmNlcyA9IGZhbHNlO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gdGhlIHNlcnZpY2UgbmFtZXNwYWNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlUHJvcHMgPSB7fTtcclxuICAgICAgICB0aGlzLmluc3RhbnRpYXRpb25Nb2RlID0gXCJMQVpZXCIgLyogTEFaWSAqLztcclxuICAgICAgICB0aGlzLm9uSW5zdGFuY2VDcmVhdGVkID0gbnVsbDtcclxuICAgIH1cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0SW5zdGFudGlhdGlvbk1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFudGlhdGlvbk1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0TXVsdGlwbGVJbnN0YW5jZXMgPSBmdW5jdGlvbiAobXVsdGlwbGVJbnN0YW5jZXMpIHtcclxuICAgICAgICB0aGlzLm11bHRpcGxlSW5zdGFuY2VzID0gbXVsdGlwbGVJbnN0YW5jZXM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTZXJ2aWNlUHJvcHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuICAgICAgICB0aGlzLnNlcnZpY2VQcm9wcyA9IHByb3BzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0SW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLm9uSW5zdGFuY2VDcmVhdGVkID0gY2FsbGJhY2s7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbXBvbmVudDtcclxufSgpKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIERFRkFVTFRfRU5UUllfTkFNRSA9ICdbREVGQVVMVF0nO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUHJvdmlkZXIgZm9yIGluc3RhbmNlIGZvciBzZXJ2aWNlIG5hbWUgVCwgZS5nLiAnYXV0aCcsICdhdXRoLWludGVybmFsJ1xyXG4gKiBOYW1lU2VydmljZU1hcHBpbmdbVF0gaXMgYW4gYWxpYXMgZm9yIHRoZSB0eXBlIG9mIHRoZSBpbnN0YW5jZVxyXG4gKi9cclxudmFyIFByb3ZpZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUHJvdmlkZXIobmFtZSwgY29udGFpbmVyKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZCA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGlkZW50aWZpZXIgQSBwcm92aWRlciBjYW4gcHJvdmlkZSBtdWxpdHBsZSBpbnN0YW5jZXMgb2YgYSBzZXJ2aWNlXHJcbiAgICAgKiBpZiB0aGlzLmNvbXBvbmVudC5tdWx0aXBsZUluc3RhbmNlcyBpcyB0cnVlLlxyXG4gICAgICovXHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcclxuICAgICAgICBpZiAoaWRlbnRpZmllciA9PT0gdm9pZCAwKSB7IGlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUU7IH1cclxuICAgICAgICAvLyBpZiBtdWx0aXBsZUluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLCB1c2UgdGhlIGRlZmF1bHQgbmFtZVxyXG4gICAgICAgIHZhciBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xyXG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5oYXMobm9ybWFsaXplZElkZW50aWZpZXIpKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlc0RlZmVycmVkLnNldChub3JtYWxpemVkSWRlbnRpZmllciwgZGVmZXJyZWQpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG91bGRBdXRvSW5pdGlhbGl6ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplIHRoZSBzZXJ2aWNlIGlmIGl0IGNhbiBiZSBhdXRvLWluaXRpYWxpemVkXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplZElkZW50aWZpZXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSBpbnN0YW5jZSBmYWN0b3J5IHRocm93cyBhbiBleGNlcHRpb24gZHVyaW5nIGdldCgpLCBpdCBzaG91bGQgbm90IGNhdXNlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBmYXRhbCBlcnJvci4gV2UganVzdCByZXR1cm4gdGhlIHVucmVzb2x2ZWQgcHJvbWlzZSBpbiB0aGlzIGNhc2UuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZ2V0KG5vcm1hbGl6ZWRJZGVudGlmaWVyKS5wcm9taXNlO1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5nZXRJbW1lZGlhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfYSA9IF9fYXNzaWduKHsgaWRlbnRpZmllcjogREVGQVVMVF9FTlRSWV9OQU1FLCBvcHRpb25hbDogZmFsc2UgfSwgb3B0aW9ucyksIGlkZW50aWZpZXIgPSBfYS5pZGVudGlmaWVyLCBvcHRpb25hbCA9IF9hLm9wdGlvbmFsO1xyXG4gICAgICAgIC8vIGlmIG11bHRpcGxlSW5zdGFuY2VzIGlzIG5vdCBzdXBwb3J0ZWQsIHVzZSB0aGUgZGVmYXVsdCBuYW1lXHJcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRJZGVudGlmaWVyID0gdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIoaWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZChub3JtYWxpemVkSWRlbnRpZmllcikgfHxcclxuICAgICAgICAgICAgdGhpcy5zaG91bGRBdXRvSW5pdGlhbGl6ZSgpKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJbiBjYXNlIGEgY29tcG9uZW50IGlzIG5vdCBpbml0aWFsaXplZCBhbmQgc2hvdWxkL2NhbiBub3QgYmUgYXV0by1pbml0aWFsaXplZCBhdCB0aGUgbW9tZW50LCByZXR1cm4gbnVsbCBpZiB0aGUgb3B0aW9uYWwgZmxhZyBpcyBzZXQsIG9yIHRocm93XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25hbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlNlcnZpY2UgXCIgKyB0aGlzLm5hbWUgKyBcIiBpcyBub3QgYXZhaWxhYmxlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5nZXRDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5zZXRDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdmFyIGVfMSwgX2E7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudC5uYW1lICE9PSB0aGlzLm5hbWUpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJNaXNtYXRjaGluZyBDb21wb25lbnQgXCIgKyBjb21wb25lbnQubmFtZSArIFwiIGZvciBQcm92aWRlciBcIiArIHRoaXMubmFtZSArIFwiLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiQ29tcG9uZW50IGZvciBcIiArIHRoaXMubmFtZSArIFwiIGhhcyBhbHJlYWR5IGJlZW4gcHJvdmlkZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xyXG4gICAgICAgIC8vIHJldHVybiBlYXJseSB3aXRob3V0IGF0dGVtcHRpbmcgdG8gaW5pdGlhbGl6ZSB0aGUgY29tcG9uZW50IGlmIHRoZSBjb21wb25lbnQgcmVxdWlyZXMgZXhwbGljaXQgaW5pdGlhbGl6YXRpb24gKGNhbGxpbmcgYFByb3ZpZGVyLmluaXRpYWxpemUoKWApXHJcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZEF1dG9Jbml0aWFsaXplKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiB0aGUgc2VydmljZSBpcyBlYWdlciwgaW5pdGlhbGl6ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZVxyXG4gICAgICAgIGlmIChpc0NvbXBvbmVudEVhZ2VyKGNvbXBvbmVudCkpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7IGluc3RhbmNlSWRlbnRpZmllcjogREVGQVVMVF9FTlRSWV9OQU1FIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSBpbnN0YW5jZSBmYWN0b3J5IGZvciBhbiBlYWdlciBDb21wb25lbnQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBkdXJpbmcgdGhlIGVhZ2VyXHJcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXphdGlvbiwgaXQgc2hvdWxkIG5vdCBjYXVzZSBhIGZhdGFsIGVycm9yLlxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogSW52ZXN0aWdhdGUgaWYgd2UgbmVlZCB0byBtYWtlIGl0IGNvbmZpZ3VyYWJsZSwgYmVjYXVzZSBzb21lIGNvbXBvbmVudCBtYXkgd2FudCB0byBjYXVzZVxyXG4gICAgICAgICAgICAgICAgLy8gYSBmYXRhbCBlcnJvciBpbiB0aGlzIGNhc2U/XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHNlcnZpY2UgaW5zdGFuY2VzIGZvciB0aGUgcGVuZGluZyBwcm9taXNlcyBhbmQgcmVzb2x2ZSB0aGVtXHJcbiAgICAgICAgICAgIC8vIE5PVEU6IGlmIHRoaXMubXVsdGlwbGVJbnN0YW5jZXMgaXMgZmFsc2UsIG9ubHkgdGhlIGRlZmF1bHQgaW5zdGFuY2Ugd2lsbCBiZSBjcmVhdGVkXHJcbiAgICAgICAgICAgIC8vIGFuZCBhbGwgcHJvbWlzZXMgd2l0aCByZXNvbHZlIHdpdGggaXQgcmVnYXJkbGVzcyBvZiB0aGUgaWRlbnRpZmllci5cclxuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLmluc3RhbmNlc0RlZmVycmVkLmVudHJpZXMoKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfZCA9IF9fcmVhZChfYy52YWx1ZSwgMiksIGluc3RhbmNlSWRlbnRpZmllciA9IF9kWzBdLCBpbnN0YW5jZURlZmVycmVkID0gX2RbMV07XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpbnN0YW5jZUlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBgZ2V0T3JJbml0aWFsaXplU2VydmljZSgpYCBzaG91bGQgYWx3YXlzIHJldHVybiBhIHZhbGlkIGluc3RhbmNlIHNpbmNlIGEgY29tcG9uZW50IGlzIGd1YXJhbnRlZWQuIHVzZSAhIHRvIG1ha2UgdHlwZXNjcmlwdCBoYXBweS5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VEZWZlcnJlZC5yZXNvbHZlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiB0aGUgaW5zdGFuY2UgZmFjdG9yeSB0aHJvd3MgYW4gZXhjZXB0aW9uLCBpdCBzaG91bGQgbm90IGNhdXNlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBmYXRhbCBlcnJvci4gV2UganVzdCBsZWF2ZSB0aGUgcHJvbWlzZSB1bnJlc29sdmVkLlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuY2xlYXJJbnN0YW5jZSA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5kZWxldGUoaWRlbnRpZmllcik7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXMuZGVsZXRlKGlkZW50aWZpZXIpO1xyXG4gICAgfTtcclxuICAgIC8vIGFwcC5kZWxldGUoKSB3aWxsIGNhbGwgdGhpcyBtZXRob2Qgb24gZXZlcnkgcHJvdmlkZXIgdG8gZGVsZXRlIHRoZSBzZXJ2aWNlc1xyXG4gICAgLy8gVE9ETzogc2hvdWxkIHdlIG1hcmsgdGhlIHByb3ZpZGVyIGFzIGRlbGV0ZWQ/XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNlcnZpY2VzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlcyA9IEFycmF5LmZyb20odGhpcy5pbnN0YW5jZXMudmFsdWVzKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBQcm9taXNlLmFsbChfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChzZXJ2aWNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHNlcnZpY2UpIHsgcmV0dXJuICdJTlRFUk5BTCcgaW4gc2VydmljZTsgfSkgLy8gbGVnYWN5IHNlcnZpY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChzZXJ2aWNlKSB7IHJldHVybiBzZXJ2aWNlLklOVEVSTkFMLmRlbGV0ZSgpOyB9KSkpLCBfX3JlYWQoc2VydmljZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChzZXJ2aWNlKSB7IHJldHVybiAnX2RlbGV0ZScgaW4gc2VydmljZTsgfSkgLy8gbW9kdWxhcml6ZWQgc2VydmljZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHNlcnZpY2UpIHsgcmV0dXJuIHNlcnZpY2UuX2RlbGV0ZSgpOyB9KSkpKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmlzQ29tcG9uZW50U2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudCAhPSBudWxsO1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5pc0luaXRpYWxpemVkID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcclxuICAgICAgICBpZiAoaWRlbnRpZmllciA9PT0gdm9pZCAwKSB7IGlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUU7IH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXMuaGFzKGlkZW50aWZpZXIpO1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKG9wdHMpIHtcclxuICAgICAgICB2YXIgZV8yLCBfYTtcclxuICAgICAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7IG9wdHMgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfYiA9IG9wdHMuaW5zdGFuY2VJZGVudGlmaWVyLCBpbnN0YW5jZUlkZW50aWZpZXIgPSBfYiA9PT0gdm9pZCAwID8gREVGQVVMVF9FTlRSWV9OQU1FIDogX2IsIF9jID0gb3B0cy5vcHRpb25zLCBvcHRpb25zID0gX2MgPT09IHZvaWQgMCA/IHt9IDogX2M7XHJcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRJZGVudGlmaWVyID0gdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIoaW5zdGFuY2VJZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcih0aGlzLm5hbWUgKyBcIihcIiArIG5vcm1hbGl6ZWRJZGVudGlmaWVyICsgXCIpIGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5pc0NvbXBvbmVudFNldCgpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiQ29tcG9uZW50IFwiICsgdGhpcy5uYW1lICsgXCIgaGFzIG5vdCBiZWVuIHJlZ2lzdGVyZWQgeWV0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xyXG4gICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gcmVzb2x2ZSBhbnkgcGVuZGluZyBwcm9taXNlIHdhaXRpbmcgZm9yIHRoZSBzZXJ2aWNlIGluc3RhbmNlXHJcbiAgICAgICAgICAgIGZvciAodmFyIF9kID0gX192YWx1ZXModGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5lbnRyaWVzKCkpLCBfZSA9IF9kLm5leHQoKTsgIV9lLmRvbmU7IF9lID0gX2QubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2YgPSBfX3JlYWQoX2UudmFsdWUsIDIpLCBpbnN0YW5jZUlkZW50aWZpZXJfMSA9IF9mWzBdLCBpbnN0YW5jZURlZmVycmVkID0gX2ZbMV07XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplZERlZmVycmVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGluc3RhbmNlSWRlbnRpZmllcl8xKTtcclxuICAgICAgICAgICAgICAgIGlmIChub3JtYWxpemVkSWRlbnRpZmllciA9PT0gbm9ybWFsaXplZERlZmVycmVkSWRlbnRpZmllcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlRGVmZXJyZWQucmVzb2x2ZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChfZSAmJiAhX2UuZG9uZSAmJiAoX2EgPSBfZC5yZXR1cm4pKSBfYS5jYWxsKF9kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuZ2V0T3JJbml0aWFsaXplU2VydmljZSA9IGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgIHZhciBpbnN0YW5jZUlkZW50aWZpZXIgPSBfYS5pbnN0YW5jZUlkZW50aWZpZXIsIF9iID0gX2Eub3B0aW9ucywgb3B0aW9ucyA9IF9iID09PSB2b2lkIDAgPyB7fSA6IF9iO1xyXG4gICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2VzLmdldChpbnN0YW5jZUlkZW50aWZpZXIpO1xyXG4gICAgICAgIGlmICghaW5zdGFuY2UgJiYgdGhpcy5jb21wb25lbnQpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UgPSB0aGlzLmNvbXBvbmVudC5pbnN0YW5jZUZhY3RvcnkodGhpcy5jb250YWluZXIsIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplSWRlbnRpZmllckZvckZhY3RvcnkoaW5zdGFuY2VJZGVudGlmaWVyKSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzLnNldChpbnN0YW5jZUlkZW50aWZpZXIsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIE9yZGVyIGlzIGltcG9ydGFudFxyXG4gICAgICAgICAgICAgKiBvbkluc3RhbmNlQ3JlYXRlZCgpIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgdGhpcy5pbnN0YW5jZXMuc2V0KGluc3RhbmNlSWRlbnRpZmllciwgaW5zdGFuY2UpOyB3aGljaFxyXG4gICAgICAgICAgICAgKiBtYWtlcyBgaXNJbml0aWFsaXplZCgpYCByZXR1cm4gdHJ1ZS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBvbmVudC5vbkluc3RhbmNlQ3JlYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5vbkluc3RhbmNlQ3JlYXRlZCh0aGlzLmNvbnRhaW5lciwgaW5zdGFuY2VJZGVudGlmaWVyLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoX2MpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgZXJyb3JzIGluIHRoZSBvbkluc3RhbmNlQ3JlYXRlZENhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIHx8IG51bGw7XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllciA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5tdWx0aXBsZUluc3RhbmNlcyA/IGlkZW50aWZpZXIgOiBERUZBVUxUX0VOVFJZX05BTUU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gaWRlbnRpZmllcjsgLy8gYXNzdW1lIG11bHRpcGxlIGluc3RhbmNlcyBhcmUgc3VwcG9ydGVkIGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHByb3ZpZGVkLlxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuc2hvdWxkQXV0b0luaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICghIXRoaXMuY29tcG9uZW50ICYmXHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50Lmluc3RhbnRpYXRpb25Nb2RlICE9PSBcIkVYUExJQ0lUXCIgLyogRVhQTElDSVQgKi8pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQcm92aWRlcjtcclxufSgpKTtcclxuLy8gdW5kZWZpbmVkIHNob3VsZCBiZSBwYXNzZWQgdG8gdGhlIHNlcnZpY2UgZmFjdG9yeSBmb3IgdGhlIGRlZmF1bHQgaW5zdGFuY2VcclxuZnVuY3Rpb24gbm9ybWFsaXplSWRlbnRpZmllckZvckZhY3RvcnkoaWRlbnRpZmllcikge1xyXG4gICAgcmV0dXJuIGlkZW50aWZpZXIgPT09IERFRkFVTFRfRU5UUllfTkFNRSA/IHVuZGVmaW5lZCA6IGlkZW50aWZpZXI7XHJcbn1cclxuZnVuY3Rpb24gaXNDb21wb25lbnRFYWdlcihjb21wb25lbnQpIHtcclxuICAgIHJldHVybiBjb21wb25lbnQuaW5zdGFudGlhdGlvbk1vZGUgPT09IFwiRUFHRVJcIiAvKiBFQUdFUiAqLztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQ29tcG9uZW50Q29udGFpbmVyIHRoYXQgcHJvdmlkZXMgUHJvdmlkZXJzIGZvciBzZXJ2aWNlIG5hbWUgVCwgZS5nLiBgYXV0aGAsIGBhdXRoLWludGVybmFsYFxyXG4gKi9cclxudmFyIENvbXBvbmVudENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENvbXBvbmVudENvbnRhaW5lcihuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLnByb3ZpZGVycyA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgQ29tcG9uZW50IGJlaW5nIGFkZGVkXHJcbiAgICAgKiBAcGFyYW0gb3ZlcndyaXRlIFdoZW4gYSBjb21wb25lbnQgd2l0aCB0aGUgc2FtZSBuYW1lIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCxcclxuICAgICAqIGlmIG92ZXJ3cml0ZSBpcyB0cnVlOiBvdmVyd3JpdGUgdGhlIGV4aXN0aW5nIGNvbXBvbmVudCB3aXRoIHRoZSBuZXcgY29tcG9uZW50IGFuZCBjcmVhdGUgYSBuZXdcclxuICAgICAqIHByb3ZpZGVyIHdpdGggdGhlIG5ldyBjb21wb25lbnQuIEl0IGNhbiBiZSB1c2VmdWwgaW4gdGVzdHMgd2hlcmUgeW91IHdhbnQgdG8gdXNlIGRpZmZlcmVudCBtb2Nrc1xyXG4gICAgICogZm9yIGRpZmZlcmVudCB0ZXN0cy5cclxuICAgICAqIGlmIG92ZXJ3cml0ZSBpcyBmYWxzZTogdGhyb3cgYW4gZXhjZXB0aW9uXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgIHZhciBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXIoY29tcG9uZW50Lm5hbWUpO1xyXG4gICAgICAgIGlmIChwcm92aWRlci5pc0NvbXBvbmVudFNldCgpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbXBvbmVudCBcIiArIGNvbXBvbmVudC5uYW1lICsgXCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIHdpdGggXCIgKyB0aGlzLm5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcm92aWRlci5zZXRDb21wb25lbnQoY29tcG9uZW50KTtcclxuICAgIH07XHJcbiAgICBDb21wb25lbnRDb250YWluZXIucHJvdG90eXBlLmFkZE9yT3ZlcndyaXRlQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgIHZhciBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXIoY29tcG9uZW50Lm5hbWUpO1xyXG4gICAgICAgIGlmIChwcm92aWRlci5pc0NvbXBvbmVudFNldCgpKSB7XHJcbiAgICAgICAgICAgIC8vIGRlbGV0ZSB0aGUgZXhpc3RpbmcgcHJvdmlkZXIgZnJvbSB0aGUgY29udGFpbmVyLCBzbyB3ZSBjYW4gcmVnaXN0ZXIgdGhlIG5ldyBjb21wb25lbnRcclxuICAgICAgICAgICAgdGhpcy5wcm92aWRlcnMuZGVsZXRlKGNvbXBvbmVudC5uYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoY29tcG9uZW50KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIGdldFByb3ZpZGVyIHByb3ZpZGVzIGEgdHlwZSBzYWZlIGludGVyZmFjZSB3aGVyZSBpdCBjYW4gb25seSBiZSBjYWxsZWQgd2l0aCBhIGZpZWxkIG5hbWVcclxuICAgICAqIHByZXNlbnQgaW4gTmFtZVNlcnZpY2VNYXBwaW5nIGludGVyZmFjZS5cclxuICAgICAqXHJcbiAgICAgKiBGaXJlYmFzZSBTREtzIHByb3ZpZGluZyBzZXJ2aWNlcyBzaG91bGQgZXh0ZW5kIE5hbWVTZXJ2aWNlTWFwcGluZyBpbnRlcmZhY2UgdG8gcmVnaXN0ZXJcclxuICAgICAqIHRoZW1zZWx2ZXMuXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudENvbnRhaW5lci5wcm90b3R5cGUuZ2V0UHJvdmlkZXIgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3ZpZGVycy5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzLmdldChuYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY3JlYXRlIGEgUHJvdmlkZXIgZm9yIGEgc2VydmljZSB0aGF0IGhhc24ndCByZWdpc3RlcmVkIHdpdGggRmlyZWJhc2VcclxuICAgICAgICB2YXIgcHJvdmlkZXIgPSBuZXcgUHJvdmlkZXIobmFtZSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5wcm92aWRlcnMuc2V0KG5hbWUsIHByb3ZpZGVyKTtcclxuICAgICAgICByZXR1cm4gcHJvdmlkZXI7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50Q29udGFpbmVyLnByb3RvdHlwZS5nZXRQcm92aWRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5wcm92aWRlcnMudmFsdWVzKCkpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDb21wb25lbnRDb250YWluZXI7XHJcbn0oKSk7XG5cbmV4cG9ydCB7IENvbXBvbmVudCwgQ29tcG9uZW50Q29udGFpbmVyLCBQcm92aWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtLmpzLm1hcFxuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbmZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIF9hO1xyXG4vKipcclxuICogQSBjb250YWluZXIgZm9yIGFsbCBvZiB0aGUgTG9nZ2VyIGluc3RhbmNlc1xyXG4gKi9cclxudmFyIGluc3RhbmNlcyA9IFtdO1xyXG4vKipcclxuICogVGhlIEpTIFNESyBzdXBwb3J0cyA1IGxvZyBsZXZlbHMgYW5kIGFsc28gYWxsb3dzIGEgdXNlciB0aGUgYWJpbGl0eSB0b1xyXG4gKiBzaWxlbmNlIHRoZSBsb2dzIGFsdG9nZXRoZXIuXHJcbiAqXHJcbiAqIFRoZSBvcmRlciBpcyBhIGZvbGxvd3M6XHJcbiAqIERFQlVHIDwgVkVSQk9TRSA8IElORk8gPCBXQVJOIDwgRVJST1JcclxuICpcclxuICogQWxsIG9mIHRoZSBsb2cgdHlwZXMgYWJvdmUgdGhlIGN1cnJlbnQgbG9nIGxldmVsIHdpbGwgYmUgY2FwdHVyZWQgKGkuZS4gaWZcclxuICogeW91IHNldCB0aGUgbG9nIGxldmVsIHRvIGBJTkZPYCwgZXJyb3JzIHdpbGwgc3RpbGwgYmUgbG9nZ2VkLCBidXQgYERFQlVHYCBhbmRcclxuICogYFZFUkJPU0VgIGxvZ3Mgd2lsbCBub3QpXHJcbiAqL1xyXG52YXIgTG9nTGV2ZWw7XHJcbihmdW5jdGlvbiAoTG9nTGV2ZWwpIHtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiREVCVUdcIl0gPSAwXSA9IFwiREVCVUdcIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiVkVSQk9TRVwiXSA9IDFdID0gXCJWRVJCT1NFXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIklORk9cIl0gPSAyXSA9IFwiSU5GT1wiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJXQVJOXCJdID0gM10gPSBcIldBUk5cIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiRVJST1JcIl0gPSA0XSA9IFwiRVJST1JcIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiU0lMRU5UXCJdID0gNV0gPSBcIlNJTEVOVFwiO1xyXG59KShMb2dMZXZlbCB8fCAoTG9nTGV2ZWwgPSB7fSkpO1xyXG52YXIgbGV2ZWxTdHJpbmdUb0VudW0gPSB7XHJcbiAgICAnZGVidWcnOiBMb2dMZXZlbC5ERUJVRyxcclxuICAgICd2ZXJib3NlJzogTG9nTGV2ZWwuVkVSQk9TRSxcclxuICAgICdpbmZvJzogTG9nTGV2ZWwuSU5GTyxcclxuICAgICd3YXJuJzogTG9nTGV2ZWwuV0FSTixcclxuICAgICdlcnJvcic6IExvZ0xldmVsLkVSUk9SLFxyXG4gICAgJ3NpbGVudCc6IExvZ0xldmVsLlNJTEVOVFxyXG59O1xyXG4vKipcclxuICogVGhlIGRlZmF1bHQgbG9nIGxldmVsXHJcbiAqL1xyXG52YXIgZGVmYXVsdExvZ0xldmVsID0gTG9nTGV2ZWwuSU5GTztcclxuLyoqXHJcbiAqIEJ5IGRlZmF1bHQsIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgZGlzcGxheWVkIGluIHRoZSBkZXZlbG9wZXIgY29uc29sZSAoaW5cclxuICogY2hyb21lKS4gVG8gYXZvaWQgZm9yY2luZyB1c2VycyB0byBoYXZlIHRvIG9wdC1pbiB0byB0aGVzZSBsb2dzIHR3aWNlXHJcbiAqIChpLmUuIG9uY2UgZm9yIGZpcmViYXNlLCBhbmQgb25jZSBpbiB0aGUgY29uc29sZSksIHdlIGFyZSBzZW5kaW5nIGBERUJVR2BcclxuICogbG9ncyB0byB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbi5cclxuICovXHJcbnZhciBDb25zb2xlTWV0aG9kID0gKF9hID0ge30sXHJcbiAgICBfYVtMb2dMZXZlbC5ERUJVR10gPSAnbG9nJyxcclxuICAgIF9hW0xvZ0xldmVsLlZFUkJPU0VdID0gJ2xvZycsXHJcbiAgICBfYVtMb2dMZXZlbC5JTkZPXSA9ICdpbmZvJyxcclxuICAgIF9hW0xvZ0xldmVsLldBUk5dID0gJ3dhcm4nLFxyXG4gICAgX2FbTG9nTGV2ZWwuRVJST1JdID0gJ2Vycm9yJyxcclxuICAgIF9hKTtcclxuLyoqXHJcbiAqIFRoZSBkZWZhdWx0IGxvZyBoYW5kbGVyIHdpbGwgZm9yd2FyZCBERUJVRywgVkVSQk9TRSwgSU5GTywgV0FSTiwgYW5kIEVSUk9SXHJcbiAqIG1lc3NhZ2VzIG9uIHRvIHRoZWlyIGNvcnJlc3BvbmRpbmcgY29uc29sZSBjb3VudGVycGFydHMgKGlmIHRoZSBsb2cgbWV0aG9kXHJcbiAqIGlzIHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCBsb2cgbGV2ZWwpXHJcbiAqL1xyXG52YXIgZGVmYXVsdExvZ0hhbmRsZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIGxvZ1R5cGUpIHtcclxuICAgIHZhciBhcmdzID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICBpZiAobG9nVHlwZSA8IGluc3RhbmNlLmxvZ0xldmVsKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICAgIHZhciBtZXRob2QgPSBDb25zb2xlTWV0aG9kW2xvZ1R5cGVdO1xyXG4gICAgaWYgKG1ldGhvZCkge1xyXG4gICAgICAgIGNvbnNvbGVbbWV0aG9kXS5hcHBseShjb25zb2xlLCBfX3NwcmVhZEFycmF5cyhbXCJbXCIgKyBub3cgKyBcIl0gIFwiICsgaW5zdGFuY2UubmFtZSArIFwiOlwiXSwgYXJncykpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGxvZyBhIG1lc3NhZ2Ugd2l0aCBhbiBpbnZhbGlkIGxvZ1R5cGUgKHZhbHVlOiBcIiArIGxvZ1R5cGUgKyBcIilcIik7XHJcbiAgICB9XHJcbn07XHJcbnZhciBMb2dnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIEdpdmVzIHlvdSBhbiBpbnN0YW5jZSBvZiBhIExvZ2dlciB0byBjYXB0dXJlIG1lc3NhZ2VzIGFjY29yZGluZyB0b1xyXG4gICAgICogRmlyZWJhc2UncyBsb2dnaW5nIHNjaGVtZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSB0aGF0IHRoZSBsb2dzIHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIExvZ2dlcihuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgbG9nIGxldmVsIG9mIHRoZSBnaXZlbiBMb2dnZXIgaW5zdGFuY2UuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSBkZWZhdWx0TG9nTGV2ZWw7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIG1haW4gKGludGVybmFsKSBsb2cgaGFuZGxlciBmb3IgdGhlIExvZ2dlciBpbnN0YW5jZS5cclxuICAgICAgICAgKiBDYW4gYmUgc2V0IHRvIGEgbmV3IGZ1bmN0aW9uIGluIGludGVybmFsIHBhY2thZ2UgY29kZSBidXQgbm90IGJ5IHVzZXIuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlciA9IGRlZmF1bHRMb2dIYW5kbGVyO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBvcHRpb25hbCwgYWRkaXRpb25hbCwgdXNlci1kZWZpbmVkIGxvZyBoYW5kbGVyIGZvciB0aGUgTG9nZ2VyIGluc3RhbmNlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyID0gbnVsbDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDYXB0dXJlIHRoZSBjdXJyZW50IGluc3RhbmNlIGZvciBsYXRlciB1c2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBpbnN0YW5jZXMucHVzaCh0aGlzKTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb2dnZXIucHJvdG90eXBlLCBcImxvZ0xldmVsXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvZ0xldmVsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgIGlmICghKHZhbCBpbiBMb2dMZXZlbCkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHZhbHVlIFxcXCJcIiArIHZhbCArIFwiXFxcIiBhc3NpZ25lZCB0byBgbG9nTGV2ZWxgXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ0xldmVsID0gdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8vIFdvcmthcm91bmQgZm9yIHNldHRlci9nZXR0ZXIgaGF2aW5nIHRvIGJlIHRoZSBzYW1lIHR5cGUuXHJcbiAgICBMb2dnZXIucHJvdG90eXBlLnNldExvZ0xldmVsID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgIHRoaXMuX2xvZ0xldmVsID0gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyBsZXZlbFN0cmluZ1RvRW51bVt2YWxdIDogdmFsO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb2dnZXIucHJvdG90eXBlLCBcImxvZ0hhbmRsZXJcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9nSGFuZGxlcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgYXNzaWduZWQgdG8gYGxvZ0hhbmRsZXJgIG11c3QgYmUgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIgPSB2YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvZ2dlci5wcm90b3R5cGUsIFwidXNlckxvZ0hhbmRsZXJcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXNlckxvZ0hhbmRsZXI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgPSB2YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgZnVuY3Rpb25zIGJlbG93IGFyZSBhbGwgYmFzZWQgb24gdGhlIGBjb25zb2xlYCBpbnRlcmZhY2VcclxuICAgICAqL1xyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiYgdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheXMoW3RoaXMsIExvZ0xldmVsLkRFQlVHXSwgYXJncykpO1xyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheXMoW3RoaXMsIExvZ0xldmVsLkRFQlVHXSwgYXJncykpO1xyXG4gICAgfTtcclxuICAgIExvZ2dlci5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5cyhbdGhpcywgTG9nTGV2ZWwuVkVSQk9TRV0sIGFyZ3MpKTtcclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsIF9fc3ByZWFkQXJyYXlzKFt0aGlzLCBMb2dMZXZlbC5WRVJCT1NFXSwgYXJncykpO1xyXG4gICAgfTtcclxuICAgIExvZ2dlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiYgdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheXMoW3RoaXMsIExvZ0xldmVsLklORk9dLCBhcmdzKSk7XHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5cyhbdGhpcywgTG9nTGV2ZWwuSU5GT10sIGFyZ3MpKTtcclxuICAgIH07XHJcbiAgICBMb2dnZXIucHJvdG90eXBlLndhcm4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMsIF9fc3ByZWFkQXJyYXlzKFt0aGlzLCBMb2dMZXZlbC5XQVJOXSwgYXJncykpO1xyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheXMoW3RoaXMsIExvZ0xldmVsLldBUk5dLCBhcmdzKSk7XHJcbiAgICB9O1xyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiYgdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheXMoW3RoaXMsIExvZ0xldmVsLkVSUk9SXSwgYXJncykpO1xyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheXMoW3RoaXMsIExvZ0xldmVsLkVSUk9SXSwgYXJncykpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBMb2dnZXI7XHJcbn0oKSk7XHJcbmZ1bmN0aW9uIHNldExvZ0xldmVsKGxldmVsKSB7XHJcbiAgICBpbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbiAoaW5zdCkge1xyXG4gICAgICAgIGluc3Quc2V0TG9nTGV2ZWwobGV2ZWwpO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gc2V0VXNlckxvZ0hhbmRsZXIobG9nQ2FsbGJhY2ssIG9wdGlvbnMpIHtcclxuICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XHJcbiAgICAgICAgdmFyIGN1c3RvbUxvZ0xldmVsID0gbnVsbDtcclxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmxldmVsKSB7XHJcbiAgICAgICAgICAgIGN1c3RvbUxvZ0xldmVsID0gbGV2ZWxTdHJpbmdUb0VudW1bb3B0aW9ucy5sZXZlbF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsb2dDYWxsYmFjayA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS51c2VyTG9nSGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS51c2VyTG9nSGFuZGxlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgbGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGFyZ3NcclxuICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChhcmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJnID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8IHR5cGVvZiBhcmcgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmcubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoaWdub3JlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGFyZykgeyByZXR1cm4gYXJnOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcgJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPj0gKGN1c3RvbUxvZ0xldmVsICE9PSBudWxsICYmIGN1c3RvbUxvZ0xldmVsICE9PSB2b2lkIDAgPyBjdXN0b21Mb2dMZXZlbCA6IGluc3RhbmNlLmxvZ0xldmVsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ0NhbGxiYWNrKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWw6IExvZ0xldmVsW2xldmVsXS50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBhcmdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBpbnN0YW5jZS5uYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGZvciAodmFyIF9pID0gMCwgaW5zdGFuY2VzXzEgPSBpbnN0YW5jZXM7IF9pIDwgaW5zdGFuY2VzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gaW5zdGFuY2VzXzFbX2ldO1xyXG4gICAgICAgIF9sb29wXzEoaW5zdGFuY2UpO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IExvZ0xldmVsLCBMb2dnZXIsIHNldExvZ0xldmVsLCBzZXRVc2VyTG9nSGFuZGxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSAndHNsaWInO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGZpbGVvdmVydmlldyBGaXJlYmFzZSBjb25zdGFudHMuICBTb21lIG9mIHRoZXNlIChAZGVmaW5lcykgY2FuIGJlIG92ZXJyaWRkZW4gYXQgY29tcGlsZS10aW1lLlxyXG4gKi9cclxudmFyIENPTlNUQU5UUyA9IHtcclxuICAgIC8qKlxyXG4gICAgICogQGRlZmluZSB7Ym9vbGVhbn0gV2hldGhlciB0aGlzIGlzIHRoZSBjbGllbnQgTm9kZS5qcyBTREsuXHJcbiAgICAgKi9cclxuICAgIE5PREVfQ0xJRU5UOiBmYWxzZSxcclxuICAgIC8qKlxyXG4gICAgICogQGRlZmluZSB7Ym9vbGVhbn0gV2hldGhlciB0aGlzIGlzIHRoZSBBZG1pbiBOb2RlLmpzIFNESy5cclxuICAgICAqL1xyXG4gICAgTk9ERV9BRE1JTjogZmFsc2UsXHJcbiAgICAvKipcclxuICAgICAqIEZpcmViYXNlIFNESyBWZXJzaW9uXHJcbiAgICAgKi9cclxuICAgIFNES19WRVJTSU9OOiAnJHtKU0NPUkVfVkVSU0lPTn0nXHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIHByb3ZpZGVkIGFzc2VydGlvbiBpcyBmYWxzeVxyXG4gKi9cclxudmFyIGFzc2VydCA9IGZ1bmN0aW9uIChhc3NlcnRpb24sIG1lc3NhZ2UpIHtcclxuICAgIGlmICghYXNzZXJ0aW9uKSB7XHJcbiAgICAgICAgdGhyb3cgYXNzZXJ0aW9uRXJyb3IobWVzc2FnZSk7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGFuIEVycm9yIG9iamVjdCBzdWl0YWJsZSBmb3IgdGhyb3dpbmcuXHJcbiAqL1xyXG52YXIgYXNzZXJ0aW9uRXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgcmV0dXJuIG5ldyBFcnJvcignRmlyZWJhc2UgRGF0YWJhc2UgKCcgK1xyXG4gICAgICAgIENPTlNUQU5UUy5TREtfVkVSU0lPTiArXHJcbiAgICAgICAgJykgSU5URVJOQUwgQVNTRVJUIEZBSUxFRDogJyArXHJcbiAgICAgICAgbWVzc2FnZSk7XHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBzdHJpbmdUb0J5dGVBcnJheSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIC8vIFRPRE8odXNlcik6IFVzZSBuYXRpdmUgaW1wbGVtZW50YXRpb25zIGlmL3doZW4gYXZhaWxhYmxlXHJcbiAgICB2YXIgb3V0ID0gW107XHJcbiAgICB2YXIgcCA9IDA7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGMgPCAxMjgpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSBjO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgMjA0OCkge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDYpIHwgMTkyO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgoYyAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJlxyXG4gICAgICAgICAgICBpICsgMSA8IHN0ci5sZW5ndGggJiZcclxuICAgICAgICAgICAgKHN0ci5jaGFyQ29kZUF0KGkgKyAxKSAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xyXG4gICAgICAgICAgICAvLyBTdXJyb2dhdGUgUGFpclxyXG4gICAgICAgICAgICBjID0gMHgxMDAwMCArICgoYyAmIDB4MDNmZikgPDwgMTApICsgKHN0ci5jaGFyQ29kZUF0KCsraSkgJiAweDAzZmYpO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDE4KSB8IDI0MDtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gMTIpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gMTIpIHwgMjI0O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0O1xyXG59O1xyXG4vKipcclxuICogVHVybnMgYW4gYXJyYXkgb2YgbnVtYmVycyBpbnRvIHRoZSBzdHJpbmcgZ2l2ZW4gYnkgdGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlXHJcbiAqIGNoYXJhY3RlcnMgdG8gd2hpY2ggdGhlIG51bWJlcnMgY29ycmVzcG9uZC5cclxuICogQHBhcmFtIGJ5dGVzIEFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGNoYXJhY3RlcnMuXHJcbiAqIEByZXR1cm4gU3RyaW5naWZpY2F0aW9uIG9mIHRoZSBhcnJheS5cclxuICovXHJcbnZhciBieXRlQXJyYXlUb1N0cmluZyA9IGZ1bmN0aW9uIChieXRlcykge1xyXG4gICAgLy8gVE9ETyh1c2VyKTogVXNlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMgaWYvd2hlbiBhdmFpbGFibGVcclxuICAgIHZhciBvdXQgPSBbXTtcclxuICAgIHZhciBwb3MgPSAwLCBjID0gMDtcclxuICAgIHdoaWxlIChwb3MgPCBieXRlcy5sZW5ndGgpIHtcclxuICAgICAgICB2YXIgYzEgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgaWYgKGMxIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZShjMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMxID4gMTkxICYmIGMxIDwgMjI0KSB7XHJcbiAgICAgICAgICAgIHZhciBjMiA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYzEgJiAzMSkgPDwgNikgfCAoYzIgJiA2MykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjMSA+IDIzOSAmJiBjMSA8IDM2NSkge1xyXG4gICAgICAgICAgICAvLyBTdXJyb2dhdGUgUGFpclxyXG4gICAgICAgICAgICB2YXIgYzIgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIHZhciBjMyA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgdmFyIGM0ID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICB2YXIgdSA9ICgoKGMxICYgNykgPDwgMTgpIHwgKChjMiAmIDYzKSA8PCAxMikgfCAoKGMzICYgNjMpIDw8IDYpIHwgKGM0ICYgNjMpKSAtXHJcbiAgICAgICAgICAgICAgICAweDEwMDAwO1xyXG4gICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHhkODAwICsgKHUgPj4gMTApKTtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ZGMwMCArICh1ICYgMTAyMykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICB2YXIgYzMgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGMxICYgMTUpIDw8IDEyKSB8ICgoYzIgJiA2MykgPDwgNikgfCAoYzMgJiA2MykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvdXQuam9pbignJyk7XHJcbn07XHJcbi8vIFdlIGRlZmluZSBpdCBhcyBhbiBvYmplY3QgbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY2xhc3MgYmVjYXVzZSBhIGNsYXNzIGNvbXBpbGVkIGRvd24gdG8gZXM1IGNhbid0XHJcbi8vIGJlIHRyZWVzaGFrZWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9yb2xsdXAvcm9sbHVwL2lzc3Vlcy8xNjkxXHJcbi8vIFN0YXRpYyBsb29rdXAgbWFwcywgbGF6aWx5IHBvcHVsYXRlZCBieSBpbml0XygpXHJcbnZhciBiYXNlNjQgPSB7XHJcbiAgICAvKipcclxuICAgICAqIE1hcHMgYnl0ZXMgdG8gY2hhcmFjdGVycy5cclxuICAgICAqL1xyXG4gICAgYnl0ZVRvQ2hhck1hcF86IG51bGwsXHJcbiAgICAvKipcclxuICAgICAqIE1hcHMgY2hhcmFjdGVycyB0byBieXRlcy5cclxuICAgICAqL1xyXG4gICAgY2hhclRvQnl0ZU1hcF86IG51bGwsXHJcbiAgICAvKipcclxuICAgICAqIE1hcHMgYnl0ZXMgdG8gd2Vic2FmZSBjaGFyYWN0ZXJzLlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgYnl0ZVRvQ2hhck1hcFdlYlNhZmVfOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIHdlYnNhZmUgY2hhcmFjdGVycyB0byBieXRlcy5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGNoYXJUb0J5dGVNYXBXZWJTYWZlXzogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogT3VyIGRlZmF1bHQgYWxwaGFiZXQsIHNoYXJlZCBiZXR3ZWVuXHJcbiAgICAgKiBFTkNPREVEX1ZBTFMgYW5kIEVOQ09ERURfVkFMU19XRUJTQUZFXHJcbiAgICAgKi9cclxuICAgIEVOQ09ERURfVkFMU19CQVNFOiAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVonICsgJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JyArICcwMTIzNDU2Nzg5JyxcclxuICAgIC8qKlxyXG4gICAgICogT3VyIGRlZmF1bHQgYWxwaGFiZXQuIFZhbHVlIDY0ICg9KSBpcyBzcGVjaWFsOyBpdCBtZWFucyBcIm5vdGhpbmcuXCJcclxuICAgICAqL1xyXG4gICAgZ2V0IEVOQ09ERURfVkFMUygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRSArICcrLz0nO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogT3VyIHdlYnNhZmUgYWxwaGFiZXQuXHJcbiAgICAgKi9cclxuICAgIGdldCBFTkNPREVEX1ZBTFNfV0VCU0FGRSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRSArICctXy4nO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGlzIGJyb3dzZXIgc3VwcG9ydHMgdGhlIGF0b2IgYW5kIGJ0b2EgZnVuY3Rpb25zLiBUaGlzIGV4dGVuc2lvblxyXG4gICAgICogc3RhcnRlZCBhdCBNb3ppbGxhIGJ1dCBpcyBub3cgaW1wbGVtZW50ZWQgYnkgbWFueSBicm93c2Vycy4gV2UgdXNlIHRoZVxyXG4gICAgICogQVNTVU1FXyogdmFyaWFibGVzIHRvIGF2b2lkIHB1bGxpbmcgaW4gdGhlIGZ1bGwgdXNlcmFnZW50IGRldGVjdGlvbiBsaWJyYXJ5XHJcbiAgICAgKiBidXQgc3RpbGwgYWxsb3dpbmcgdGhlIHN0YW5kYXJkIHBlci1icm93c2VyIGNvbXBpbGF0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIEhBU19OQVRJVkVfU1VQUE9SVDogdHlwZW9mIGF0b2IgPT09ICdmdW5jdGlvbicsXHJcbiAgICAvKipcclxuICAgICAqIEJhc2U2NC1lbmNvZGUgYW4gYXJyYXkgb2YgYnl0ZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlucHV0IEFuIGFycmF5IG9mIGJ5dGVzIChudW1iZXJzIHdpdGhcclxuICAgICAqICAgICB2YWx1ZSBpbiBbMCwgMjU1XSkgdG8gZW5jb2RlLlxyXG4gICAgICogQHBhcmFtIHdlYlNhZmUgQm9vbGVhbiBpbmRpY2F0aW5nIHdlIHNob3VsZCB1c2UgdGhlXHJcbiAgICAgKiAgICAgYWx0ZXJuYXRpdmUgYWxwaGFiZXQuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXHJcbiAgICAgKi9cclxuICAgIGVuY29kZUJ5dGVBcnJheTogZnVuY3Rpb24gKGlucHV0LCB3ZWJTYWZlKSB7XHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGlucHV0KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignZW5jb2RlQnl0ZUFycmF5IHRha2VzIGFuIGFycmF5IGFzIGEgcGFyYW1ldGVyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5pdF8oKTtcclxuICAgICAgICB2YXIgYnl0ZVRvQ2hhck1hcCA9IHdlYlNhZmVcclxuICAgICAgICAgICAgPyB0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlX1xyXG4gICAgICAgICAgICA6IHRoaXMuYnl0ZVRvQ2hhck1hcF87XHJcbiAgICAgICAgdmFyIG91dHB1dCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpICs9IDMpIHtcclxuICAgICAgICAgICAgdmFyIGJ5dGUxID0gaW5wdXRbaV07XHJcbiAgICAgICAgICAgIHZhciBoYXZlQnl0ZTIgPSBpICsgMSA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIGJ5dGUyID0gaGF2ZUJ5dGUyID8gaW5wdXRbaSArIDFdIDogMDtcclxuICAgICAgICAgICAgdmFyIGhhdmVCeXRlMyA9IGkgKyAyIDwgaW5wdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgYnl0ZTMgPSBoYXZlQnl0ZTMgPyBpbnB1dFtpICsgMl0gOiAwO1xyXG4gICAgICAgICAgICB2YXIgb3V0Qnl0ZTEgPSBieXRlMSA+PiAyO1xyXG4gICAgICAgICAgICB2YXIgb3V0Qnl0ZTIgPSAoKGJ5dGUxICYgMHgwMykgPDwgNCkgfCAoYnl0ZTIgPj4gNCk7XHJcbiAgICAgICAgICAgIHZhciBvdXRCeXRlMyA9ICgoYnl0ZTIgJiAweDBmKSA8PCAyKSB8IChieXRlMyA+PiA2KTtcclxuICAgICAgICAgICAgdmFyIG91dEJ5dGU0ID0gYnl0ZTMgJiAweDNmO1xyXG4gICAgICAgICAgICBpZiAoIWhhdmVCeXRlMykge1xyXG4gICAgICAgICAgICAgICAgb3V0Qnl0ZTQgPSA2NDtcclxuICAgICAgICAgICAgICAgIGlmICghaGF2ZUJ5dGUyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0Qnl0ZTMgPSA2NDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvdXRwdXQucHVzaChieXRlVG9DaGFyTWFwW291dEJ5dGUxXSwgYnl0ZVRvQ2hhck1hcFtvdXRCeXRlMl0sIGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTNdLCBieXRlVG9DaGFyTWFwW291dEJ5dGU0XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRwdXQuam9pbignJyk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBCYXNlNjQtZW5jb2RlIGEgc3RyaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbnB1dCBBIHN0cmluZyB0byBlbmNvZGUuXHJcbiAgICAgKiBAcGFyYW0gd2ViU2FmZSBJZiB0cnVlLCB3ZSBzaG91bGQgdXNlIHRoZVxyXG4gICAgICogICAgIGFsdGVybmF0aXZlIGFscGhhYmV0LlxyXG4gICAgICogQHJldHVybiBUaGUgYmFzZTY0IGVuY29kZWQgc3RyaW5nLlxyXG4gICAgICovXHJcbiAgICBlbmNvZGVTdHJpbmc6IGZ1bmN0aW9uIChpbnB1dCwgd2ViU2FmZSkge1xyXG4gICAgICAgIC8vIFNob3J0Y3V0IGZvciBNb3ppbGxhIGJyb3dzZXJzIHRoYXQgaW1wbGVtZW50XHJcbiAgICAgICAgLy8gYSBuYXRpdmUgYmFzZTY0IGVuY29kZXIgaW4gdGhlIGZvcm0gb2YgXCJidG9hL2F0b2JcIlxyXG4gICAgICAgIGlmICh0aGlzLkhBU19OQVRJVkVfU1VQUE9SVCAmJiAhd2ViU2FmZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYnRvYShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmVuY29kZUJ5dGVBcnJheShzdHJpbmdUb0J5dGVBcnJheShpbnB1dCksIHdlYlNhZmUpO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQmFzZTY0LWRlY29kZSBhIHN0cmluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgdG8gZGVjb2RlLlxyXG4gICAgICogQHBhcmFtIHdlYlNhZmUgVHJ1ZSBpZiB3ZSBzaG91bGQgdXNlIHRoZVxyXG4gICAgICogICAgIGFsdGVybmF0aXZlIGFscGhhYmV0LlxyXG4gICAgICogQHJldHVybiBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBkZWNvZGVkIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBkZWNvZGVTdHJpbmc6IGZ1bmN0aW9uIChpbnB1dCwgd2ViU2FmZSkge1xyXG4gICAgICAgIC8vIFNob3J0Y3V0IGZvciBNb3ppbGxhIGJyb3dzZXJzIHRoYXQgaW1wbGVtZW50XHJcbiAgICAgICAgLy8gYSBuYXRpdmUgYmFzZTY0IGVuY29kZXIgaW4gdGhlIGZvcm0gb2YgXCJidG9hL2F0b2JcIlxyXG4gICAgICAgIGlmICh0aGlzLkhBU19OQVRJVkVfU1VQUE9SVCAmJiAhd2ViU2FmZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXRvYihpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBieXRlQXJyYXlUb1N0cmluZyh0aGlzLmRlY29kZVN0cmluZ1RvQnl0ZUFycmF5KGlucHV0LCB3ZWJTYWZlKSk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBCYXNlNjQtZGVjb2RlIGEgc3RyaW5nLlxyXG4gICAgICpcclxuICAgICAqIEluIGJhc2UtNjQgZGVjb2RpbmcsIGdyb3VwcyBvZiBmb3VyIGNoYXJhY3RlcnMgYXJlIGNvbnZlcnRlZCBpbnRvIHRocmVlXHJcbiAgICAgKiBieXRlcy4gIElmIHRoZSBlbmNvZGVyIGRpZCBub3QgYXBwbHkgcGFkZGluZywgdGhlIGlucHV0IGxlbmd0aCBtYXkgbm90XHJcbiAgICAgKiBiZSBhIG11bHRpcGxlIG9mIDQuXHJcbiAgICAgKlxyXG4gICAgICogSW4gdGhpcyBjYXNlLCB0aGUgbGFzdCBncm91cCB3aWxsIGhhdmUgZmV3ZXIgdGhhbiA0IGNoYXJhY3RlcnMsIGFuZFxyXG4gICAgICogcGFkZGluZyB3aWxsIGJlIGluZmVycmVkLiAgSWYgdGhlIGdyb3VwIGhhcyBvbmUgb3IgdHdvIGNoYXJhY3RlcnMsIGl0IGRlY29kZXNcclxuICAgICAqIHRvIG9uZSBieXRlLiAgSWYgdGhlIGdyb3VwIGhhcyB0aHJlZSBjaGFyYWN0ZXJzLCBpdCBkZWNvZGVzIHRvIHR3byBieXRlcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgSW5wdXQgdG8gZGVjb2RlLlxyXG4gICAgICogQHBhcmFtIHdlYlNhZmUgVHJ1ZSBpZiB3ZSBzaG91bGQgdXNlIHRoZSB3ZWItc2FmZSBhbHBoYWJldC5cclxuICAgICAqIEByZXR1cm4gYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSBkZWNvZGVkIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBkZWNvZGVTdHJpbmdUb0J5dGVBcnJheTogZnVuY3Rpb24gKGlucHV0LCB3ZWJTYWZlKSB7XHJcbiAgICAgICAgdGhpcy5pbml0XygpO1xyXG4gICAgICAgIHZhciBjaGFyVG9CeXRlTWFwID0gd2ViU2FmZVxyXG4gICAgICAgICAgICA/IHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfXHJcbiAgICAgICAgICAgIDogdGhpcy5jaGFyVG9CeXRlTWFwXztcclxuICAgICAgICB2YXIgb3V0cHV0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7KSB7XHJcbiAgICAgICAgICAgIHZhciBieXRlMSA9IGNoYXJUb0J5dGVNYXBbaW5wdXQuY2hhckF0KGkrKyldO1xyXG4gICAgICAgICAgICB2YXIgaGF2ZUJ5dGUyID0gaSA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIGJ5dGUyID0gaGF2ZUJ5dGUyID8gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSldIDogMDtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICB2YXIgaGF2ZUJ5dGUzID0gaSA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIGJ5dGUzID0gaGF2ZUJ5dGUzID8gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSldIDogNjQ7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgdmFyIGhhdmVCeXRlNCA9IGkgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBieXRlNCA9IGhhdmVCeXRlNCA/IGNoYXJUb0J5dGVNYXBbaW5wdXQuY2hhckF0KGkpXSA6IDY0O1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIGlmIChieXRlMSA9PSBudWxsIHx8IGJ5dGUyID09IG51bGwgfHwgYnl0ZTMgPT0gbnVsbCB8fCBieXRlNCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBvdXRCeXRlMSA9IChieXRlMSA8PCAyKSB8IChieXRlMiA+PiA0KTtcclxuICAgICAgICAgICAgb3V0cHV0LnB1c2gob3V0Qnl0ZTEpO1xyXG4gICAgICAgICAgICBpZiAoYnl0ZTMgIT09IDY0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3V0Qnl0ZTIgPSAoKGJ5dGUyIDw8IDQpICYgMHhmMCkgfCAoYnl0ZTMgPj4gMik7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChvdXRCeXRlMik7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnl0ZTQgIT09IDY0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG91dEJ5dGUzID0gKChieXRlMyA8PCA2KSAmIDB4YzApIHwgYnl0ZTQ7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2gob3V0Qnl0ZTMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBMYXp5IHN0YXRpYyBpbml0aWFsaXphdGlvbiBmdW5jdGlvbi4gQ2FsbGVkIGJlZm9yZVxyXG4gICAgICogYWNjZXNzaW5nIGFueSBvZiB0aGUgc3RhdGljIG1hcCB2YXJpYWJsZXMuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBpbml0XzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5ieXRlVG9DaGFyTWFwXykge1xyXG4gICAgICAgICAgICB0aGlzLmJ5dGVUb0NoYXJNYXBfID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF8gPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV8gPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV8gPSB7fTtcclxuICAgICAgICAgICAgLy8gV2Ugd2FudCBxdWljayBtYXBwaW5ncyBiYWNrIGFuZCBmb3J0aCwgc28gd2UgcHJlY29tcHV0ZSB0d28gbWFwcy5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLkVOQ09ERURfVkFMUy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwX1tpXSA9IHRoaXMuRU5DT0RFRF9WQUxTLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF9bdGhpcy5ieXRlVG9DaGFyTWFwX1tpXV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV9baV0gPSB0aGlzLkVOQ09ERURfVkFMU19XRUJTQUZFLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfW3RoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfW2ldXSA9IGk7XHJcbiAgICAgICAgICAgICAgICAvLyBCZSBmb3JnaXZpbmcgd2hlbiBkZWNvZGluZyBhbmQgY29ycmVjdGx5IGRlY29kZSBib3RoIGVuY29kaW5ncy5cclxuICAgICAgICAgICAgICAgIGlmIChpID49IHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwX1t0aGlzLkVOQ09ERURfVkFMU19XRUJTQUZFLmNoYXJBdChpKV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfW3RoaXMuRU5DT0RFRF9WQUxTLmNoYXJBdChpKV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogVVJMLXNhZmUgYmFzZTY0IGVuY29kaW5nXHJcbiAqL1xyXG52YXIgYmFzZTY0RW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgdmFyIHV0ZjhCeXRlcyA9IHN0cmluZ1RvQnl0ZUFycmF5KHN0cik7XHJcbiAgICByZXR1cm4gYmFzZTY0LmVuY29kZUJ5dGVBcnJheSh1dGY4Qnl0ZXMsIHRydWUpO1xyXG59O1xyXG4vKipcclxuICogVVJMLXNhZmUgYmFzZTY0IGRlY29kaW5nXHJcbiAqXHJcbiAqIE5PVEU6IERPIE5PVCB1c2UgdGhlIGdsb2JhbCBhdG9iKCkgZnVuY3Rpb24gLSBpdCBkb2VzIE5PVCBzdXBwb3J0IHRoZVxyXG4gKiBiYXNlNjRVcmwgdmFyaWFudCBlbmNvZGluZy5cclxuICpcclxuICogQHBhcmFtIHN0ciBUbyBiZSBkZWNvZGVkXHJcbiAqIEByZXR1cm4gRGVjb2RlZCByZXN1bHQsIGlmIHBvc3NpYmxlXHJcbiAqL1xyXG52YXIgYmFzZTY0RGVjb2RlID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gYmFzZTY0LmRlY29kZVN0cmluZyhzdHIsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdiYXNlNjREZWNvZGUgZmFpbGVkOiAnLCBlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRG8gYSBkZWVwLWNvcHkgb2YgYmFzaWMgSmF2YVNjcmlwdCBPYmplY3RzIG9yIEFycmF5cy5cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBDb3B5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gZGVlcEV4dGVuZCh1bmRlZmluZWQsIHZhbHVlKTtcclxufVxyXG4vKipcclxuICogQ29weSBwcm9wZXJ0aWVzIGZyb20gc291cmNlIHRvIHRhcmdldCAocmVjdXJzaXZlbHkgYWxsb3dzIGV4dGVuc2lvblxyXG4gKiBvZiBPYmplY3RzIGFuZCBBcnJheXMpLiAgU2NhbGFyIHZhbHVlcyBpbiB0aGUgdGFyZ2V0IGFyZSBvdmVyLXdyaXR0ZW4uXHJcbiAqIElmIHRhcmdldCBpcyB1bmRlZmluZWQsIGFuIG9iamVjdCBvZiB0aGUgYXBwcm9wcmlhdGUgdHlwZSB3aWxsIGJlIGNyZWF0ZWRcclxuICogKGFuZCByZXR1cm5lZCkuXHJcbiAqXHJcbiAqIFdlIHJlY3Vyc2l2ZWx5IGNvcHkgYWxsIGNoaWxkIHByb3BlcnRpZXMgb2YgcGxhaW4gT2JqZWN0cyBpbiB0aGUgc291cmNlLSBzb1xyXG4gKiB0aGF0IG5hbWVzcGFjZS0gbGlrZSBkaWN0aW9uYXJpZXMgYXJlIG1lcmdlZC5cclxuICpcclxuICogTm90ZSB0aGF0IHRoZSB0YXJnZXQgY2FuIGJlIGEgZnVuY3Rpb24sIGluIHdoaWNoIGNhc2UgdGhlIHByb3BlcnRpZXMgaW5cclxuICogdGhlIHNvdXJjZSBPYmplY3QgYXJlIGNvcGllZCBvbnRvIGl0IGFzIHN0YXRpYyBwcm9wZXJ0aWVzIG9mIHRoZSBGdW5jdGlvbi5cclxuICpcclxuICogTm90ZTogd2UgZG9uJ3QgbWVyZ2UgX19wcm90b19fIHRvIHByZXZlbnQgcHJvdG90eXBlIHBvbGx1dGlvblxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcEV4dGVuZCh0YXJnZXQsIHNvdXJjZSkge1xyXG4gICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgT2JqZWN0KSkge1xyXG4gICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKHNvdXJjZS5jb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIGNhc2UgRGF0ZTpcclxuICAgICAgICAgICAgLy8gVHJlYXQgRGF0ZXMgbGlrZSBzY2FsYXJzOyBpZiB0aGUgdGFyZ2V0IGRhdGUgb2JqZWN0IGhhZCBhbnkgY2hpbGRcclxuICAgICAgICAgICAgLy8gcHJvcGVydGllcyAtIHRoZXkgd2lsbCBiZSBsb3N0IVxyXG4gICAgICAgICAgICB2YXIgZGF0ZVZhbHVlID0gc291cmNlO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVZhbHVlLmdldFRpbWUoKSk7XHJcbiAgICAgICAgY2FzZSBPYmplY3Q6XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBBcnJheTpcclxuICAgICAgICAgICAgLy8gQWx3YXlzIGNvcHkgdGhlIGFycmF5IHNvdXJjZSBhbmQgb3ZlcndyaXRlIHRoZSB0YXJnZXQuXHJcbiAgICAgICAgICAgIHRhcmdldCA9IFtdO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAvLyBOb3QgYSBwbGFpbiBPYmplY3QgLSB0cmVhdCBpdCBhcyBhIHNjYWxhci5cclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgIH1cclxuICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XHJcbiAgICAgICAgLy8gdXNlIGlzVmFsaWRLZXkgdG8gZ3VhcmQgYWdhaW5zdCBwcm90b3R5cGUgcG9sbHV0aW9uLiBTZWUgaHR0cHM6Ly9zbnlrLmlvL3Z1bG4vU05ZSy1KUy1MT0RBU0gtNDUwMjAyXHJcbiAgICAgICAgaWYgKCFzb3VyY2UuaGFzT3duUHJvcGVydHkocHJvcCkgfHwgIWlzVmFsaWRLZXkocHJvcCkpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IGRlZXBFeHRlbmQodGFyZ2V0W3Byb3BdLCBzb3VyY2VbcHJvcF0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRhcmdldDtcclxufVxyXG5mdW5jdGlvbiBpc1ZhbGlkS2V5KGtleSkge1xyXG4gICAgcmV0dXJuIGtleSAhPT0gJ19fcHJvdG9fXyc7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIERlZmVycmVkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRGVmZXJyZWQoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnJlamVjdCA9IGZ1bmN0aW9uICgpIHsgfTtcclxuICAgICAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbiAoKSB7IH07XHJcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICBfdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcclxuICAgICAgICAgICAgX3RoaXMucmVqZWN0ID0gcmVqZWN0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgQVBJIGludGVybmFscyBhcmUgbm90IHByb21pc2VpZmllZCBhbmQgY2Fubm90IGJlY2F1c2Ugb3VyIGNhbGxiYWNrIEFQSXMgaGF2ZSBzdWJ0bGUgZXhwZWN0YXRpb25zIGFyb3VuZFxyXG4gICAgICogaW52b2tpbmcgcHJvbWlzZXMgaW5saW5lLCB3aGljaCBQcm9taXNlcyBhcmUgZm9yYmlkZGVuIHRvIGRvLiBUaGlzIG1ldGhvZCBhY2NlcHRzIGFuIG9wdGlvbmFsIG5vZGUtc3R5bGUgY2FsbGJhY2tcclxuICAgICAqIGFuZCByZXR1cm5zIGEgbm9kZS1zdHlsZSBjYWxsYmFjayB3aGljaCB3aWxsIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBEZWZlcnJlZCdzIHByb21pc2UuXHJcbiAgICAgKi9cclxuICAgIERlZmVycmVkLnByb3RvdHlwZS53cmFwQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXJyb3IsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnJlc29sdmUodmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIC8vIEF0dGFjaGluZyBub29wIGhhbmRsZXIganVzdCBpbiBjYXNlIGRldmVsb3BlciB3YXNuJ3QgZXhwZWN0aW5nXHJcbiAgICAgICAgICAgICAgICAvLyBwcm9taXNlc1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7IH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gU29tZSBvZiBvdXIgY2FsbGJhY2tzIGRvbid0IGV4cGVjdCBhIHZhbHVlIGFuZCBvdXIgb3duIHRlc3RzXHJcbiAgICAgICAgICAgICAgICAvLyBhc3NlcnQgdGhhdCB0aGUgcGFyYW1ldGVyIGxlbmd0aCBpcyAxXHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2subGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERlZmVycmVkO1xyXG59KCkpO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUmV0dXJucyBuYXZpZ2F0b3IudXNlckFnZW50IHN0cmluZyBvciAnJyBpZiBpdCdzIG5vdCBkZWZpbmVkLlxyXG4gKiBAcmV0dXJuIHVzZXIgYWdlbnQgc3RyaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRVQSgpIHtcclxuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3JbJ3VzZXJBZ2VudCddID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3JbJ3VzZXJBZ2VudCddO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3QgQ29yZG92YSAvIFBob25lR2FwIC8gSW9uaWMgZnJhbWV3b3JrcyBvbiBhIG1vYmlsZSBkZXZpY2UuXHJcbiAqXHJcbiAqIERlbGliZXJhdGVseSBkb2VzIG5vdCByZWx5IG9uIGNoZWNraW5nIGBmaWxlOi8vYCBVUkxzIChhcyB0aGlzIGZhaWxzIFBob25lR2FwXHJcbiAqIGluIHRoZSBSaXBwbGUgZW11bGF0b3IpIG5vciBDb3Jkb3ZhIGBvbkRldmljZVJlYWR5YCwgd2hpY2ggd291bGQgbm9ybWFsbHlcclxuICogd2FpdCBmb3IgYSBjYWxsYmFjay5cclxuICovXHJcbmZ1bmN0aW9uIGlzTW9iaWxlQ29yZG92YSgpIHtcclxuICAgIHJldHVybiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICAvLyBAdHMtaWdub3JlIFNldHRpbmcgdXAgYW4gYnJvYWRseSBhcHBsaWNhYmxlIGluZGV4IHNpZ25hdHVyZSBmb3IgV2luZG93XHJcbiAgICAgICAgLy8ganVzdCB0byBkZWFsIHdpdGggdGhpcyBjYXNlIHdvdWxkIHByb2JhYmx5IGJlIGEgYmFkIGlkZWEuXHJcbiAgICAgICAgISEod2luZG93Wydjb3Jkb3ZhJ10gfHwgd2luZG93WydwaG9uZWdhcCddIHx8IHdpbmRvd1snUGhvbmVHYXAnXSkgJiZcclxuICAgICAgICAvaW9zfGlwaG9uZXxpcG9kfGlwYWR8YW5kcm9pZHxibGFja2JlcnJ5fGllbW9iaWxlL2kudGVzdChnZXRVQSgpKSk7XHJcbn1cclxuLyoqXHJcbiAqIERldGVjdCBOb2RlLmpzLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHRydWUgaWYgTm9kZS5qcyBlbnZpcm9ubWVudCBpcyBkZXRlY3RlZC5cclxuICovXHJcbi8vIE5vZGUgZGV0ZWN0aW9uIGxvZ2ljIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9pbGlha2FuL2RldGVjdC1ub2RlL1xyXG5mdW5jdGlvbiBpc05vZGUoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3QgQnJvd3NlciBFbnZpcm9ubWVudFxyXG4gKi9cclxuZnVuY3Rpb24gaXNCcm93c2VyKCkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBzZWxmID09PSAnb2JqZWN0JyAmJiBzZWxmLnNlbGYgPT09IHNlbGY7XHJcbn1cclxuZnVuY3Rpb24gaXNCcm93c2VyRXh0ZW5zaW9uKCkge1xyXG4gICAgdmFyIHJ1bnRpbWUgPSB0eXBlb2YgY2hyb21lID09PSAnb2JqZWN0J1xyXG4gICAgICAgID8gY2hyb21lLnJ1bnRpbWVcclxuICAgICAgICA6IHR5cGVvZiBicm93c2VyID09PSAnb2JqZWN0J1xyXG4gICAgICAgICAgICA/IGJyb3dzZXIucnVudGltZVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgIHJldHVybiB0eXBlb2YgcnVudGltZSA9PT0gJ29iamVjdCcgJiYgcnVudGltZS5pZCAhPT0gdW5kZWZpbmVkO1xyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3QgUmVhY3QgTmF0aXZlLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHRydWUgaWYgUmVhY3ROYXRpdmUgZW52aXJvbm1lbnQgaXMgZGV0ZWN0ZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1JlYWN0TmF0aXZlKCkge1xyXG4gICAgcmV0dXJuICh0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyAmJiBuYXZpZ2F0b3JbJ3Byb2R1Y3QnXSA9PT0gJ1JlYWN0TmF0aXZlJyk7XHJcbn1cclxuLyoqIERldGVjdHMgRWxlY3Ryb24gYXBwcy4gKi9cclxuZnVuY3Rpb24gaXNFbGVjdHJvbigpIHtcclxuICAgIHJldHVybiBnZXRVQSgpLmluZGV4T2YoJ0VsZWN0cm9uLycpID49IDA7XHJcbn1cclxuLyoqIERldGVjdHMgSW50ZXJuZXQgRXhwbG9yZXIuICovXHJcbmZ1bmN0aW9uIGlzSUUoKSB7XHJcbiAgICB2YXIgdWEgPSBnZXRVQSgpO1xyXG4gICAgcmV0dXJuIHVhLmluZGV4T2YoJ01TSUUgJykgPj0gMCB8fCB1YS5pbmRleE9mKCdUcmlkZW50LycpID49IDA7XHJcbn1cclxuLyoqIERldGVjdHMgVW5pdmVyc2FsIFdpbmRvd3MgUGxhdGZvcm0gYXBwcy4gKi9cclxuZnVuY3Rpb24gaXNVV1AoKSB7XHJcbiAgICByZXR1cm4gZ2V0VUEoKS5pbmRleE9mKCdNU0FwcEhvc3QvJykgPj0gMDtcclxufVxyXG4vKipcclxuICogRGV0ZWN0IHdoZXRoZXIgdGhlIGN1cnJlbnQgU0RLIGJ1aWxkIGlzIHRoZSBOb2RlIHZlcnNpb24uXHJcbiAqXHJcbiAqIEByZXR1cm4gdHJ1ZSBpZiBpdCdzIHRoZSBOb2RlIFNESyBidWlsZC5cclxuICovXHJcbmZ1bmN0aW9uIGlzTm9kZVNkaygpIHtcclxuICAgIHJldHVybiBDT05TVEFOVFMuTk9ERV9DTElFTlQgPT09IHRydWUgfHwgQ09OU1RBTlRTLk5PREVfQURNSU4gPT09IHRydWU7XHJcbn1cclxuLyoqIFJldHVybnMgdHJ1ZSBpZiB3ZSBhcmUgcnVubmluZyBpbiBTYWZhcmkuICovXHJcbmZ1bmN0aW9uIGlzU2FmYXJpKCkge1xyXG4gICAgcmV0dXJuICghaXNOb2RlKCkgJiZcclxuICAgICAgICBuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdTYWZhcmknKSAmJlxyXG4gICAgICAgICFuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdDaHJvbWUnKSk7XHJcbn1cclxuLyoqXHJcbiAqIFRoaXMgbWV0aG9kIGNoZWNrcyBpZiBpbmRleGVkREIgaXMgc3VwcG9ydGVkIGJ5IGN1cnJlbnQgYnJvd3Nlci9zZXJ2aWNlIHdvcmtlciBjb250ZXh0XHJcbiAqIEByZXR1cm4gdHJ1ZSBpZiBpbmRleGVkREIgaXMgc3VwcG9ydGVkIGJ5IGN1cnJlbnQgYnJvd3Nlci9zZXJ2aWNlIHdvcmtlciBjb250ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0luZGV4ZWREQkF2YWlsYWJsZSgpIHtcclxuICAgIHJldHVybiAnaW5kZXhlZERCJyBpbiBzZWxmICYmIGluZGV4ZWREQiAhPSBudWxsO1xyXG59XHJcbi8qKlxyXG4gKiBUaGlzIG1ldGhvZCB2YWxpZGF0ZXMgYnJvd3Nlci9zdyBjb250ZXh0IGZvciBpbmRleGVkREIgYnkgb3BlbmluZyBhIGR1bW15IGluZGV4ZWREQiBkYXRhYmFzZSBhbmQgcmVqZWN0XHJcbiAqIGlmIGVycm9ycyBvY2N1ciBkdXJpbmcgdGhlIGRhdGFiYXNlIG9wZW4gb3BlcmF0aW9uLlxyXG4gKlxyXG4gKiBAdGhyb3dzIGV4Y2VwdGlvbiBpZiBjdXJyZW50IGJyb3dzZXIvc3cgY29udGV4dCBjYW4ndCBydW4gaWRiLm9wZW4gKGV4OiBTYWZhcmkgaWZyYW1lLCBGaXJlZm94XHJcbiAqIHByaXZhdGUgYnJvd3NpbmcpXHJcbiAqL1xyXG5mdW5jdGlvbiB2YWxpZGF0ZUluZGV4ZWREQk9wZW5hYmxlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgcHJlRXhpc3RfMSA9IHRydWU7XHJcbiAgICAgICAgICAgIHZhciBEQl9DSEVDS19OQU1FXzEgPSAndmFsaWRhdGUtYnJvd3Nlci1jb250ZXh0LWZvci1pbmRleGVkZGItYW5hbHl0aWNzLW1vZHVsZSc7XHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0XzEgPSBzZWxmLmluZGV4ZWREQi5vcGVuKERCX0NIRUNLX05BTUVfMSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3RfMS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0XzEucmVzdWx0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgZGF0YWJhc2Ugb25seSB3aGVuIGl0IGRvZXNuJ3QgcHJlLWV4aXN0XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByZUV4aXN0XzEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShEQl9DSEVDS19OQU1FXzEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmVxdWVzdF8xLm9udXBncmFkZW5lZWRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHByZUV4aXN0XzEgPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmVxdWVzdF8xLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoKChfYSA9IHJlcXVlc3RfMS5lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1lc3NhZ2UpIHx8ICcnKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqXHJcbiAqIFRoaXMgbWV0aG9kIGNoZWNrcyB3aGV0aGVyIGNvb2tpZSBpcyBlbmFibGVkIHdpdGhpbiBjdXJyZW50IGJyb3dzZXJcclxuICogQHJldHVybiB0cnVlIGlmIGNvb2tpZSBpcyBlbmFibGVkIHdpdGhpbiBjdXJyZW50IGJyb3dzZXJcclxuICovXHJcbmZ1bmN0aW9uIGFyZUNvb2tpZXNFbmFibGVkKCkge1xyXG4gICAgaWYgKCFuYXZpZ2F0b3IgfHwgIW5hdmlnYXRvci5jb29raWVFbmFibGVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIEVSUk9SX05BTUUgPSAnRmlyZWJhc2VFcnJvcic7XHJcbi8vIEJhc2VkIG9uIGNvZGUgZnJvbTpcclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRXJyb3IjQ3VzdG9tX0Vycm9yX1R5cGVzXHJcbnZhciBGaXJlYmFzZUVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEZpcmViYXNlRXJyb3IsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBGaXJlYmFzZUVycm9yKGNvZGUsIG1lc3NhZ2UsIGN1c3RvbURhdGEpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvZGUgPSBjb2RlO1xyXG4gICAgICAgIF90aGlzLmN1c3RvbURhdGEgPSBjdXN0b21EYXRhO1xyXG4gICAgICAgIF90aGlzLm5hbWUgPSBFUlJPUl9OQU1FO1xyXG4gICAgICAgIC8vIEZpeCBGb3IgRVM1XHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0LXdpa2kvYmxvYi9tYXN0ZXIvQnJlYWtpbmctQ2hhbmdlcy5tZCNleHRlbmRpbmctYnVpbHQtaW5zLWxpa2UtZXJyb3ItYXJyYXktYW5kLW1hcC1tYXktbm8tbG9uZ2VyLXdvcmtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIEZpcmViYXNlRXJyb3IucHJvdG90eXBlKTtcclxuICAgICAgICAvLyBNYWludGFpbnMgcHJvcGVyIHN0YWNrIHRyYWNlIGZvciB3aGVyZSBvdXIgZXJyb3Igd2FzIHRocm93bi5cclxuICAgICAgICAvLyBPbmx5IGF2YWlsYWJsZSBvbiBWOC5cclxuICAgICAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcclxuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoX3RoaXMsIEVycm9yRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEZpcmViYXNlRXJyb3I7XHJcbn0oRXJyb3IpKTtcclxudmFyIEVycm9yRmFjdG9yeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEVycm9yRmFjdG9yeShzZXJ2aWNlLCBzZXJ2aWNlTmFtZSwgZXJyb3JzKSB7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlID0gc2VydmljZTtcclxuICAgICAgICB0aGlzLnNlcnZpY2VOYW1lID0gc2VydmljZU5hbWU7XHJcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XHJcbiAgICB9XHJcbiAgICBFcnJvckZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChjb2RlKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBkYXRhW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3VzdG9tRGF0YSA9IGRhdGFbMF0gfHwge307XHJcbiAgICAgICAgdmFyIGZ1bGxDb2RlID0gdGhpcy5zZXJ2aWNlICsgXCIvXCIgKyBjb2RlO1xyXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXMuZXJyb3JzW2NvZGVdO1xyXG4gICAgICAgIHZhciBtZXNzYWdlID0gdGVtcGxhdGUgPyByZXBsYWNlVGVtcGxhdGUodGVtcGxhdGUsIGN1c3RvbURhdGEpIDogJ0Vycm9yJztcclxuICAgICAgICAvLyBTZXJ2aWNlIE5hbWU6IEVycm9yIG1lc3NhZ2UgKHNlcnZpY2UvY29kZSkuXHJcbiAgICAgICAgdmFyIGZ1bGxNZXNzYWdlID0gdGhpcy5zZXJ2aWNlTmFtZSArIFwiOiBcIiArIG1lc3NhZ2UgKyBcIiAoXCIgKyBmdWxsQ29kZSArIFwiKS5cIjtcclxuICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRmlyZWJhc2VFcnJvcihmdWxsQ29kZSwgZnVsbE1lc3NhZ2UsIGN1c3RvbURhdGEpO1xyXG4gICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRXJyb3JGYWN0b3J5O1xyXG59KCkpO1xyXG5mdW5jdGlvbiByZXBsYWNlVGVtcGxhdGUodGVtcGxhdGUsIGRhdGEpIHtcclxuICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKFBBVFRFUk4sIGZ1bmN0aW9uIChfLCBrZXkpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBkYXRhW2tleV07XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgPyBTdHJpbmcodmFsdWUpIDogXCI8XCIgKyBrZXkgKyBcIj8+XCI7XHJcbiAgICB9KTtcclxufVxyXG52YXIgUEFUVEVSTiA9IC9cXHtcXCQoW159XSspfS9nO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRXZhbHVhdGVzIGEgSlNPTiBzdHJpbmcgaW50byBhIGphdmFzY3JpcHQgb2JqZWN0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIEEgc3RyaW5nIGNvbnRhaW5pbmcgSlNPTi5cclxuICogQHJldHVybiB7Kn0gVGhlIGphdmFzY3JpcHQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3BlY2lmaWVkIEpTT04uXHJcbiAqL1xyXG5mdW5jdGlvbiBqc29uRXZhbChzdHIpIHtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKHN0cik7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgSlNPTiByZXByZXNlbnRpbmcgYSBqYXZhc2NyaXB0IG9iamVjdC5cclxuICogQHBhcmFtIHsqfSBkYXRhIEphdmFzY3JpcHQgb2JqZWN0IHRvIGJlIHN0cmluZ2lmaWVkLlxyXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBKU09OIGNvbnRlbnRzIG9mIHRoZSBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBzdHJpbmdpZnkoZGF0YSkge1xyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gaW50byBjb25zdGl0dWVudCBwYXJ0cy5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiB3aXRoIGludmFsaWQgLyBpbmNvbXBsZXRlIGNsYWltcyBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbnZhciBkZWNvZGUgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIHZhciBoZWFkZXIgPSB7fSwgY2xhaW1zID0ge30sIGRhdGEgPSB7fSwgc2lnbmF0dXJlID0gJyc7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHZhciBwYXJ0cyA9IHRva2VuLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgaGVhZGVyID0ganNvbkV2YWwoYmFzZTY0RGVjb2RlKHBhcnRzWzBdKSB8fCAnJyk7XHJcbiAgICAgICAgY2xhaW1zID0ganNvbkV2YWwoYmFzZTY0RGVjb2RlKHBhcnRzWzFdKSB8fCAnJyk7XHJcbiAgICAgICAgc2lnbmF0dXJlID0gcGFydHNbMl07XHJcbiAgICAgICAgZGF0YSA9IGNsYWltc1snZCddIHx8IHt9O1xyXG4gICAgICAgIGRlbGV0ZSBjbGFpbXNbJ2QnXTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7IH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVyOiBoZWFkZXIsXHJcbiAgICAgICAgY2xhaW1zOiBjbGFpbXMsXHJcbiAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICBzaWduYXR1cmU6IHNpZ25hdHVyZVxyXG4gICAgfTtcclxufTtcclxuLyoqXHJcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBhbmQgY2hlY2tzIHRoZSB2YWxpZGl0eSBvZiBpdHMgdGltZS1iYXNlZCBjbGFpbXMuIFdpbGwgcmV0dXJuIHRydWUgaWYgdGhlXHJcbiAqIHRva2VuIGlzIHdpdGhpbiB0aGUgdGltZSB3aW5kb3cgYXV0aG9yaXplZCBieSB0aGUgJ25iZicgKG5vdC1iZWZvcmUpIGFuZCAnaWF0JyAoaXNzdWVkLWF0KSBjbGFpbXMuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbnZhciBpc1ZhbGlkVGltZXN0YW1wID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICB2YXIgY2xhaW1zID0gZGVjb2RlKHRva2VuKS5jbGFpbXM7XHJcbiAgICB2YXIgbm93ID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApO1xyXG4gICAgdmFyIHZhbGlkU2luY2UgPSAwLCB2YWxpZFVudGlsID0gMDtcclxuICAgIGlmICh0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGlmIChjbGFpbXMuaGFzT3duUHJvcGVydHkoJ25iZicpKSB7XHJcbiAgICAgICAgICAgIHZhbGlkU2luY2UgPSBjbGFpbXNbJ25iZiddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2lhdCcpKSB7XHJcbiAgICAgICAgICAgIHZhbGlkU2luY2UgPSBjbGFpbXNbJ2lhdCddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2xhaW1zLmhhc093blByb3BlcnR5KCdleHAnKSkge1xyXG4gICAgICAgICAgICB2YWxpZFVudGlsID0gY2xhaW1zWydleHAnXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRva2VuIHdpbGwgZXhwaXJlIGFmdGVyIDI0aCBieSBkZWZhdWx0XHJcbiAgICAgICAgICAgIHZhbGlkVW50aWwgPSB2YWxpZFNpbmNlICsgODY0MDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuICghIW5vdyAmJlxyXG4gICAgICAgICEhdmFsaWRTaW5jZSAmJlxyXG4gICAgICAgICEhdmFsaWRVbnRpbCAmJlxyXG4gICAgICAgIG5vdyA+PSB2YWxpZFNpbmNlICYmXHJcbiAgICAgICAgbm93IDw9IHZhbGlkVW50aWwpO1xyXG59O1xyXG4vKipcclxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGFuZCByZXR1cm5zIGl0cyBpc3N1ZWQgYXQgdGltZSBpZiB2YWxpZCwgbnVsbCBvdGhlcndpc2UuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gbnVsbCBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbnZhciBpc3N1ZWRBdFRpbWUgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIHZhciBjbGFpbXMgPSBkZWNvZGUodG9rZW4pLmNsYWltcztcclxuICAgIGlmICh0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0JyAmJiBjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2lhdCcpKSB7XHJcbiAgICAgICAgcmV0dXJuIGNsYWltc1snaWF0J107XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufTtcclxuLyoqXHJcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBhbmQgY2hlY2tzIHRoZSB2YWxpZGl0eSBvZiBpdHMgZm9ybWF0LiBFeHBlY3RzIGEgdmFsaWQgaXNzdWVkLWF0IHRpbWUuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbnZhciBpc1ZhbGlkRm9ybWF0ID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICB2YXIgZGVjb2RlZCA9IGRlY29kZSh0b2tlbiksIGNsYWltcyA9IGRlY29kZWQuY2xhaW1zO1xyXG4gICAgcmV0dXJuICEhY2xhaW1zICYmIHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnICYmIGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnaWF0Jyk7XHJcbn07XHJcbi8qKlxyXG4gKiBBdHRlbXB0cyB0byBwZWVyIGludG8gYW4gYXV0aCB0b2tlbiBhbmQgZGV0ZXJtaW5lIGlmIGl0J3MgYW4gYWRtaW4gYXV0aCB0b2tlbiBieSBsb29raW5nIGF0IHRoZSBjbGFpbXMgcG9ydGlvbi5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiBhIGZhbHNlIG5lZ2F0aXZlIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxyXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxyXG4gKi9cclxudmFyIGlzQWRtaW4gPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIHZhciBjbGFpbXMgPSBkZWNvZGUodG9rZW4pLmNsYWltcztcclxuICAgIHJldHVybiB0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0JyAmJiBjbGFpbXNbJ2FkbWluJ10gPT09IHRydWU7XHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGNvbnRhaW5zKG9iaiwga2V5KSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcclxufVxyXG5mdW5jdGlvbiBzYWZlR2V0KG9iaiwga2V5KSB7XHJcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xyXG4gICAgICAgIHJldHVybiBvYmpba2V5XTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaXNFbXB0eShvYmopIHtcclxuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcclxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuZnVuY3Rpb24gbWFwKG9iaiwgZm4sIGNvbnRleHRPYmopIHtcclxuICAgIHZhciByZXMgPSB7fTtcclxuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcclxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xyXG4gICAgICAgICAgICByZXNba2V5XSA9IGZuLmNhbGwoY29udGV4dE9iaiwgb2JqW2tleV0sIGtleSwgb2JqKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgcXVlcnlzdHJpbmctZm9ybWF0dGVkIHN0cmluZyAoZS5nLiAmYXJnPXZhbCZhcmcyPXZhbDIpIGZyb20gYVxyXG4gKiBwYXJhbXMgb2JqZWN0IChlLmcuIHthcmc6ICd2YWwnLCBhcmcyOiAndmFsMid9KVxyXG4gKiBOb3RlOiBZb3UgbXVzdCBwcmVwZW5kIGl0IHdpdGggPyB3aGVuIGFkZGluZyBpdCB0byBhIFVSTC5cclxuICovXHJcbmZ1bmN0aW9uIHF1ZXJ5c3RyaW5nKHF1ZXJ5c3RyaW5nUGFyYW1zKSB7XHJcbiAgICB2YXIgcGFyYW1zID0gW107XHJcbiAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGFycmF5VmFsKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChhcnJheVZhbCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3QuZW50cmllcyhxdWVyeXN0cmluZ1BhcmFtcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgdmFyIF9iID0gX2FbX2ldLCBrZXkgPSBfYlswXSwgdmFsdWUgPSBfYlsxXTtcclxuICAgICAgICBfbG9vcF8xKGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhcmFtcy5sZW5ndGggPyAnJicgKyBwYXJhbXMuam9pbignJicpIDogJyc7XHJcbn1cclxuLyoqXHJcbiAqIERlY29kZXMgYSBxdWVyeXN0cmluZyAoZS5nLiA/YXJnPXZhbCZhcmcyPXZhbDIpIGludG8gYSBwYXJhbXMgb2JqZWN0XHJcbiAqIChlLmcuIHthcmc6ICd2YWwnLCBhcmcyOiAndmFsMid9KVxyXG4gKi9cclxuZnVuY3Rpb24gcXVlcnlzdHJpbmdEZWNvZGUocXVlcnlzdHJpbmcpIHtcclxuICAgIHZhciBvYmogPSB7fTtcclxuICAgIHZhciB0b2tlbnMgPSBxdWVyeXN0cmluZy5yZXBsYWNlKC9eXFw/LywgJycpLnNwbGl0KCcmJyk7XHJcbiAgICB0b2tlbnMuZm9yRWFjaChmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICAgICAgdmFyIF9hID0gdG9rZW4uc3BsaXQoJz0nKSwga2V5ID0gX2FbMF0sIHZhbHVlID0gX2FbMV07XHJcbiAgICAgICAgICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQoa2V5KV0gPSBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG9iajtcclxufVxyXG4vKipcclxuICogRXh0cmFjdCB0aGUgcXVlcnkgc3RyaW5nIHBhcnQgb2YgYSBVUkwsIGluY2x1ZGluZyB0aGUgbGVhZGluZyBxdWVzdGlvbiBtYXJrIChpZiBwcmVzZW50KS5cclxuICovXHJcbmZ1bmN0aW9uIGV4dHJhY3RRdWVyeXN0cmluZyh1cmwpIHtcclxuICAgIHZhciBxdWVyeVN0YXJ0ID0gdXJsLmluZGV4T2YoJz8nKTtcclxuICAgIGlmICghcXVlcnlTdGFydCkge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICAgIHZhciBmcmFnbWVudFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnLCBxdWVyeVN0YXJ0KTtcclxuICAgIHJldHVybiB1cmwuc3Vic3RyaW5nKHF1ZXJ5U3RhcnQsIGZyYWdtZW50U3RhcnQgPiAwID8gZnJhZ21lbnRTdGFydCA6IHVuZGVmaW5lZCk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEBmaWxlb3ZlcnZpZXcgU0hBLTEgY3J5cHRvZ3JhcGhpYyBoYXNoLlxyXG4gKiBWYXJpYWJsZSBuYW1lcyBmb2xsb3cgdGhlIG5vdGF0aW9uIGluIEZJUFMgUFVCIDE4MC0zOlxyXG4gKiBodHRwOi8vY3NyYy5uaXN0Lmdvdi9wdWJsaWNhdGlvbnMvZmlwcy9maXBzMTgwLTMvZmlwczE4MC0zX2ZpbmFsLnBkZi5cclxuICpcclxuICogVXNhZ2U6XHJcbiAqICAgdmFyIHNoYTEgPSBuZXcgc2hhMSgpO1xyXG4gKiAgIHNoYTEudXBkYXRlKGJ5dGVzKTtcclxuICogICB2YXIgaGFzaCA9IHNoYTEuZGlnZXN0KCk7XHJcbiAqXHJcbiAqIFBlcmZvcm1hbmNlOlxyXG4gKiAgIENocm9tZSAyMzogICB+NDAwIE1iaXQvc1xyXG4gKiAgIEZpcmVmb3ggMTY6ICB+MjUwIE1iaXQvc1xyXG4gKlxyXG4gKi9cclxuLyoqXHJcbiAqIFNIQS0xIGNyeXB0b2dyYXBoaWMgaGFzaCBjb25zdHJ1Y3Rvci5cclxuICpcclxuICogVGhlIHByb3BlcnRpZXMgZGVjbGFyZWQgaGVyZSBhcmUgZGlzY3Vzc2VkIGluIHRoZSBhYm92ZSBhbGdvcml0aG0gZG9jdW1lbnQuXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZmluYWxcclxuICogQHN0cnVjdFxyXG4gKi9cclxudmFyIFNoYTEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTaGExKCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhvbGRzIHRoZSBwcmV2aW91cyB2YWx1ZXMgb2YgYWNjdW11bGF0ZWQgdmFyaWFibGVzIGEtZSBpbiB0aGUgY29tcHJlc3NfXHJcbiAgICAgICAgICogZnVuY3Rpb24uXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmNoYWluXyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgYnVmZmVyIGhvbGRpbmcgdGhlIHBhcnRpYWxseSBjb21wdXRlZCBoYXNoIHJlc3VsdC5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuYnVmXyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFuIGFycmF5IG9mIDgwIGJ5dGVzLCBlYWNoIGEgcGFydCBvZiB0aGUgbWVzc2FnZSB0byBiZSBoYXNoZWQuICBSZWZlcnJlZCB0b1xyXG4gICAgICAgICAqIGFzIHRoZSBtZXNzYWdlIHNjaGVkdWxlIGluIHRoZSBkb2NzLlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5XXyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbnRhaW5zIGRhdGEgbmVlZGVkIHRvIHBhZCBtZXNzYWdlcyBsZXNzIHRoYW4gNjQgYnl0ZXMuXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnBhZF8gPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcHJpdmF0ZSB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuaW5idWZfID0gMDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcHJpdmF0ZSB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMudG90YWxfID0gMDtcclxuICAgICAgICB0aGlzLmJsb2NrU2l6ZSA9IDUxMiAvIDg7XHJcbiAgICAgICAgdGhpcy5wYWRfWzBdID0gMTI4O1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5ibG9ja1NpemU7ICsraSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhZF9baV0gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcbiAgICBTaGExLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNoYWluX1swXSA9IDB4Njc0NTIzMDE7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMV0gPSAweGVmY2RhYjg5O1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzJdID0gMHg5OGJhZGNmZTtcclxuICAgICAgICB0aGlzLmNoYWluX1szXSA9IDB4MTAzMjU0NzY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bNF0gPSAweGMzZDJlMWYwO1xyXG4gICAgICAgIHRoaXMuaW5idWZfID0gMDtcclxuICAgICAgICB0aGlzLnRvdGFsXyA9IDA7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnRlcm5hbCBjb21wcmVzcyBoZWxwZXIgZnVuY3Rpb24uXHJcbiAgICAgKiBAcGFyYW0gYnVmIEJsb2NrIHRvIGNvbXByZXNzLlxyXG4gICAgICogQHBhcmFtIG9mZnNldCBPZmZzZXQgb2YgdGhlIGJsb2NrIGluIHRoZSBidWZmZXIuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBTaGExLnByb3RvdHlwZS5jb21wcmVzc18gPSBmdW5jdGlvbiAoYnVmLCBvZmZzZXQpIHtcclxuICAgICAgICBpZiAoIW9mZnNldCkge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgVyA9IHRoaXMuV187XHJcbiAgICAgICAgLy8gZ2V0IDE2IGJpZyBlbmRpYW4gd29yZHNcclxuICAgICAgICBpZiAodHlwZW9mIGJ1ZiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPKHVzZXIpOiBbYnVnIDgxNDAxMjJdIFJlY2VudCB2ZXJzaW9ucyBvZiBTYWZhcmkgZm9yIE1hYyBPUyBhbmQgaU9TXHJcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGEgYnVnIHRoYXQgdHVybnMgdGhlIHBvc3QtaW5jcmVtZW50ICsrIG9wZXJhdG9yIGludG8gcHJlLWluY3JlbWVudFxyXG4gICAgICAgICAgICAgICAgLy8gZHVyaW5nIEpJVCBjb21waWxhdGlvbi4gIFdlIGhhdmUgY29kZSB0aGF0IGRlcGVuZHMgaGVhdmlseSBvbiBTSEEtMSBmb3JcclxuICAgICAgICAgICAgICAgIC8vIGNvcnJlY3RuZXNzIGFuZCB3aGljaCBpcyBhZmZlY3RlZCBieSB0aGlzIGJ1Zywgc28gSSd2ZSByZW1vdmVkIGFsbCB1c2VzXHJcbiAgICAgICAgICAgICAgICAvLyBvZiBwb3N0LWluY3JlbWVudCArKyBpbiB3aGljaCB0aGUgcmVzdWx0IHZhbHVlIGlzIHVzZWQuICBXZSBjYW4gcmV2ZXJ0XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGNoYW5nZSBvbmNlIHRoZSBTYWZhcmkgYnVnXHJcbiAgICAgICAgICAgICAgICAvLyAoaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEwOTAzNikgaGFzIGJlZW4gZml4ZWQgYW5kXHJcbiAgICAgICAgICAgICAgICAvLyBtb3N0IGNsaWVudHMgaGF2ZSBiZWVuIHVwZGF0ZWQuXHJcbiAgICAgICAgICAgICAgICBXW2ldID1cclxuICAgICAgICAgICAgICAgICAgICAoYnVmLmNoYXJDb2RlQXQob2Zmc2V0KSA8PCAyNCkgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoYnVmLmNoYXJDb2RlQXQob2Zmc2V0ICsgMSkgPDwgMTYpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCArIDIpIDw8IDgpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmLmNoYXJDb2RlQXQob2Zmc2V0ICsgMyk7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gNDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBXW2ldID1cclxuICAgICAgICAgICAgICAgICAgICAoYnVmW29mZnNldF0gPDwgMjQpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1ZltvZmZzZXQgKyAxXSA8PCAxNikgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoYnVmW29mZnNldCArIDJdIDw8IDgpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmW29mZnNldCArIDNdO1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZXhwYW5kIHRvIDgwIHdvcmRzXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDE2OyBpIDwgODA7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdCA9IFdbaSAtIDNdIF4gV1tpIC0gOF0gXiBXW2kgLSAxNF0gXiBXW2kgLSAxNl07XHJcbiAgICAgICAgICAgIFdbaV0gPSAoKHQgPDwgMSkgfCAodCA+Pj4gMzEpKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhID0gdGhpcy5jaGFpbl9bMF07XHJcbiAgICAgICAgdmFyIGIgPSB0aGlzLmNoYWluX1sxXTtcclxuICAgICAgICB2YXIgYyA9IHRoaXMuY2hhaW5fWzJdO1xyXG4gICAgICAgIHZhciBkID0gdGhpcy5jaGFpbl9bM107XHJcbiAgICAgICAgdmFyIGUgPSB0aGlzLmNoYWluX1s0XTtcclxuICAgICAgICB2YXIgZiwgaztcclxuICAgICAgICAvLyBUT0RPKHVzZXIpOiBUcnkgdG8gdW5yb2xsIHRoaXMgbG9vcCB0byBzcGVlZCB1cCB0aGUgY29tcHV0YXRpb24uXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA4MDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpIDwgNDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChpIDwgMjApIHtcclxuICAgICAgICAgICAgICAgICAgICBmID0gZCBeIChiICYgKGMgXiBkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IDB4NWE4Mjc5OTk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmID0gYiBeIGMgXiBkO1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSAweDZlZDllYmExO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPCA2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSAoYiAmIGMpIHwgKGQgJiAoYiB8IGMpKTtcclxuICAgICAgICAgICAgICAgICAgICBrID0gMHg4ZjFiYmNkYztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSBiIF4gYyBeIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IDB4Y2E2MmMxZDY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHQgPSAoKChhIDw8IDUpIHwgKGEgPj4+IDI3KSkgKyBmICsgZSArIGsgKyBXW2ldKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgICAgIGUgPSBkO1xyXG4gICAgICAgICAgICBkID0gYztcclxuICAgICAgICAgICAgYyA9ICgoYiA8PCAzMCkgfCAoYiA+Pj4gMikpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICAgICAgYiA9IGE7XHJcbiAgICAgICAgICAgIGEgPSB0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNoYWluX1swXSA9ICh0aGlzLmNoYWluX1swXSArIGEpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICB0aGlzLmNoYWluX1sxXSA9ICh0aGlzLmNoYWluX1sxXSArIGIpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICB0aGlzLmNoYWluX1syXSA9ICh0aGlzLmNoYWluX1syXSArIGMpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICB0aGlzLmNoYWluX1szXSA9ICh0aGlzLmNoYWluX1szXSArIGQpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICB0aGlzLmNoYWluX1s0XSA9ICh0aGlzLmNoYWluX1s0XSArIGUpICYgMHhmZmZmZmZmZjtcclxuICAgIH07XHJcbiAgICBTaGExLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoYnl0ZXMsIGxlbmd0aCkge1xyXG4gICAgICAgIC8vIFRPRE8oam9obmxlbnopOiB0aWdodGVuIHRoZSBmdW5jdGlvbiBzaWduYXR1cmUgYW5kIHJlbW92ZSB0aGlzIGNoZWNrXHJcbiAgICAgICAgaWYgKGJ5dGVzID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbGVuZ3RoID0gYnl0ZXMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbGVuZ3RoTWludXNCbG9jayA9IGxlbmd0aCAtIHRoaXMuYmxvY2tTaXplO1xyXG4gICAgICAgIHZhciBuID0gMDtcclxuICAgICAgICAvLyBVc2luZyBsb2NhbCBpbnN0ZWFkIG9mIG1lbWJlciB2YXJpYWJsZXMgZ2l2ZXMgfjUlIHNwZWVkdXAgb24gRmlyZWZveCAxNi5cclxuICAgICAgICB2YXIgYnVmID0gdGhpcy5idWZfO1xyXG4gICAgICAgIHZhciBpbmJ1ZiA9IHRoaXMuaW5idWZfO1xyXG4gICAgICAgIC8vIFRoZSBvdXRlciB3aGlsZSBsb29wIHNob3VsZCBleGVjdXRlIGF0IG1vc3QgdHdpY2UuXHJcbiAgICAgICAgd2hpbGUgKG4gPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gV2hlbiB3ZSBoYXZlIG5vIGRhdGEgaW4gdGhlIGJsb2NrIHRvIHRvcCB1cCwgd2UgY2FuIGRpcmVjdGx5IHByb2Nlc3MgdGhlXHJcbiAgICAgICAgICAgIC8vIGlucHV0IGJ1ZmZlciAoYXNzdW1pbmcgaXQgY29udGFpbnMgc3VmZmljaWVudCBkYXRhKS4gVGhpcyBnaXZlcyB+MjUlXHJcbiAgICAgICAgICAgIC8vIHNwZWVkdXAgb24gQ2hyb21lIDIzIGFuZCB+MTUlIHNwZWVkdXAgb24gRmlyZWZveCAxNiwgYnV0IHJlcXVpcmVzIHRoYXRcclxuICAgICAgICAgICAgLy8gdGhlIGRhdGEgaXMgcHJvdmlkZWQgaW4gbGFyZ2UgY2h1bmtzIChvciBpbiBtdWx0aXBsZXMgb2YgNjQgYnl0ZXMpLlxyXG4gICAgICAgICAgICBpZiAoaW5idWYgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChuIDw9IGxlbmd0aE1pbnVzQmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXByZXNzXyhieXRlcywgbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbiArPSB0aGlzLmJsb2NrU2l6ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG4gPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWZbaW5idWZdID0gYnl0ZXMuY2hhckNvZGVBdChuKTtcclxuICAgICAgICAgICAgICAgICAgICArK2luYnVmO1xyXG4gICAgICAgICAgICAgICAgICAgICsrbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5idWYgPT09IHRoaXMuYmxvY2tTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHJlc3NfKGJ1Zik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluYnVmID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSnVtcCB0byB0aGUgb3V0ZXIgbG9vcCBzbyB3ZSB1c2UgdGhlIGZ1bGwtYmxvY2sgb3B0aW1pemF0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobiA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZltpbmJ1Zl0gPSBieXRlc1tuXTtcclxuICAgICAgICAgICAgICAgICAgICArK2luYnVmO1xyXG4gICAgICAgICAgICAgICAgICAgICsrbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5idWYgPT09IHRoaXMuYmxvY2tTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHJlc3NfKGJ1Zik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluYnVmID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSnVtcCB0byB0aGUgb3V0ZXIgbG9vcCBzbyB3ZSB1c2UgdGhlIGZ1bGwtYmxvY2sgb3B0aW1pemF0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbmJ1Zl8gPSBpbmJ1ZjtcclxuICAgICAgICB0aGlzLnRvdGFsXyArPSBsZW5ndGg7XHJcbiAgICB9O1xyXG4gICAgLyoqIEBvdmVycmlkZSAqL1xyXG4gICAgU2hhMS5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBkaWdlc3QgPSBbXTtcclxuICAgICAgICB2YXIgdG90YWxCaXRzID0gdGhpcy50b3RhbF8gKiA4O1xyXG4gICAgICAgIC8vIEFkZCBwYWQgMHg4MCAweDAwKi5cclxuICAgICAgICBpZiAodGhpcy5pbmJ1Zl8gPCA1Nikge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLnBhZF8sIDU2IC0gdGhpcy5pbmJ1Zl8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUodGhpcy5wYWRfLCB0aGlzLmJsb2NrU2l6ZSAtICh0aGlzLmluYnVmXyAtIDU2KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFkZCAjIGJpdHMuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuYmxvY2tTaXplIC0gMTsgaSA+PSA1NjsgaS0tKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnVmX1tpXSA9IHRvdGFsQml0cyAmIDI1NTtcclxuICAgICAgICAgICAgdG90YWxCaXRzIC89IDI1NjsgLy8gRG9uJ3QgdXNlIGJpdC1zaGlmdGluZyBoZXJlIVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbXByZXNzXyh0aGlzLmJ1Zl8pO1xyXG4gICAgICAgIHZhciBuID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMjQ7IGogPj0gMDsgaiAtPSA4KSB7XHJcbiAgICAgICAgICAgICAgICBkaWdlc3Rbbl0gPSAodGhpcy5jaGFpbl9baV0gPj4gaikgJiAyNTU7XHJcbiAgICAgICAgICAgICAgICArK247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRpZ2VzdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU2hhMTtcclxufSgpKTtcblxuLyoqXHJcbiAqIEhlbHBlciB0byBtYWtlIGEgU3Vic2NyaWJlIGZ1bmN0aW9uIChqdXN0IGxpa2UgUHJvbWlzZSBoZWxwcyBtYWtlIGFcclxuICogVGhlbmFibGUpLlxyXG4gKlxyXG4gKiBAcGFyYW0gZXhlY3V0b3IgRnVuY3Rpb24gd2hpY2ggY2FuIG1ha2UgY2FsbHMgdG8gYSBzaW5nbGUgT2JzZXJ2ZXJcclxuICogICAgIGFzIGEgcHJveHkuXHJcbiAqIEBwYXJhbSBvbk5vT2JzZXJ2ZXJzIENhbGxiYWNrIHdoZW4gY291bnQgb2YgT2JzZXJ2ZXJzIGdvZXMgdG8gemVyby5cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVN1YnNjcmliZShleGVjdXRvciwgb25Ob09ic2VydmVycykge1xyXG4gICAgdmFyIHByb3h5ID0gbmV3IE9ic2VydmVyUHJveHkoZXhlY3V0b3IsIG9uTm9PYnNlcnZlcnMpO1xyXG4gICAgcmV0dXJuIHByb3h5LnN1YnNjcmliZS5iaW5kKHByb3h5KTtcclxufVxyXG4vKipcclxuICogSW1wbGVtZW50IGZhbi1vdXQgZm9yIGFueSBudW1iZXIgb2YgT2JzZXJ2ZXJzIGF0dGFjaGVkIHZpYSBhIHN1YnNjcmliZVxyXG4gKiBmdW5jdGlvbi5cclxuICovXHJcbnZhciBPYnNlcnZlclByb3h5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gZXhlY3V0b3IgRnVuY3Rpb24gd2hpY2ggY2FuIG1ha2UgY2FsbHMgdG8gYSBzaW5nbGUgT2JzZXJ2ZXJcclxuICAgICAqICAgICBhcyBhIHByb3h5LlxyXG4gICAgICogQHBhcmFtIG9uTm9PYnNlcnZlcnMgQ2FsbGJhY2sgd2hlbiBjb3VudCBvZiBPYnNlcnZlcnMgZ29lcyB0byB6ZXJvLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBPYnNlcnZlclByb3h5KGV4ZWN1dG9yLCBvbk5vT2JzZXJ2ZXJzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xyXG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmVzID0gW107XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlckNvdW50ID0gMDtcclxuICAgICAgICAvLyBNaWNyby10YXNrIHNjaGVkdWxpbmcgYnkgY2FsbGluZyB0YXNrLnRoZW4oKS5cclxuICAgICAgICB0aGlzLnRhc2sgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICB0aGlzLmZpbmFsaXplZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMub25Ob09ic2VydmVycyA9IG9uTm9PYnNlcnZlcnM7XHJcbiAgICAgICAgLy8gQ2FsbCB0aGUgZXhlY3V0b3IgYXN5bmNocm9ub3VzbHkgc28gc3Vic2NyaWJlcnMgdGhhdCBhcmUgY2FsbGVkXHJcbiAgICAgICAgLy8gc3luY2hyb25vdXNseSBhZnRlciB0aGUgY3JlYXRpb24gb2YgdGhlIHN1YnNjcmliZSBmdW5jdGlvblxyXG4gICAgICAgIC8vIGNhbiBzdGlsbCByZWNlaXZlIHRoZSB2ZXJ5IGZpcnN0IHZhbHVlIGdlbmVyYXRlZCBpbiB0aGUgZXhlY3V0b3IuXHJcbiAgICAgICAgdGhpcy50YXNrXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZXhlY3V0b3IoX3RoaXMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5lcnJvcihlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIE9ic2VydmVyUHJveHkucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2hPYnNlcnZlcihmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2ZXJQcm94eS5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2hPYnNlcnZlcihmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY2xvc2UoZXJyb3IpO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmVyUHJveHkucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaE9ic2VydmVyKGZ1bmN0aW9uIChvYnNlcnZlcikge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFN1YnNjcmliZSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGFkZCBhbiBPYnNlcnZlciB0byB0aGUgZmFuLW91dCBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIC0gV2UgcmVxdWlyZSB0aGF0IG5vIGV2ZW50IGlzIHNlbnQgdG8gYSBzdWJzY3JpYmVyIHN5Y2hyb25vdXNseSB0byB0aGVpclxyXG4gICAgICogICBjYWxsIHRvIHN1YnNjcmliZSgpLlxyXG4gICAgICovXHJcbiAgICBPYnNlcnZlclByb3h5LnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIG9ic2VydmVyO1xyXG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlciA9PT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIGVycm9yID09PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgY29tcGxldGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgT2JzZXJ2ZXIuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFzc2VtYmxlIGFuIE9ic2VydmVyIG9iamVjdCB3aGVuIHBhc3NlZCBhcyBjYWxsYmFjayBmdW5jdGlvbnMuXHJcbiAgICAgICAgaWYgKGltcGxlbWVudHNBbnlNZXRob2RzKG5leHRPck9ic2VydmVyLCBbXHJcbiAgICAgICAgICAgICduZXh0JyxcclxuICAgICAgICAgICAgJ2Vycm9yJyxcclxuICAgICAgICAgICAgJ2NvbXBsZXRlJ1xyXG4gICAgICAgIF0pKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyID0gbmV4dE9yT2JzZXJ2ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBvYnNlcnZlciA9IHtcclxuICAgICAgICAgICAgICAgIG5leHQ6IG5leHRPck9ic2VydmVyLFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGNvbXBsZXRlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYnNlcnZlci5uZXh0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCA9IG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYnNlcnZlci5lcnJvciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yID0gbm9vcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9ic2VydmVyLmNvbXBsZXRlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUgPSBub29wO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdW5zdWIgPSB0aGlzLnVuc3Vic2NyaWJlT25lLmJpbmQodGhpcywgdGhpcy5vYnNlcnZlcnMubGVuZ3RoKTtcclxuICAgICAgICAvLyBBdHRlbXB0IHRvIHN1YnNjcmliZSB0byBhIHRlcm1pbmF0ZWQgT2JzZXJ2YWJsZSAtIHdlXHJcbiAgICAgICAgLy8ganVzdCByZXNwb25kIHRvIHRoZSBPYnNlcnZlciB3aXRoIHRoZSBmaW5hbCBlcnJvciBvciBjb21wbGV0ZVxyXG4gICAgICAgIC8vIGV2ZW50LlxyXG4gICAgICAgIGlmICh0aGlzLmZpbmFsaXplZCkge1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXHJcbiAgICAgICAgICAgIHRoaXMudGFzay50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmZpbmFsRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoX3RoaXMuZmluYWxFcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90aGluZ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XHJcbiAgICAgICAgcmV0dXJuIHVuc3ViO1xyXG4gICAgfTtcclxuICAgIC8vIFVuc3Vic2NyaWJlIGlzIHN5bmNocm9ub3VzIC0gd2UgZ3VhcmFudGVlIHRoYXQgbm8gZXZlbnRzIGFyZSBzZW50IHRvXHJcbiAgICAvLyBhbnkgdW5zdWJzY3JpYmVkIE9ic2VydmVyLlxyXG4gICAgT2JzZXJ2ZXJQcm94eS5wcm90b3R5cGUudW5zdWJzY3JpYmVPbmUgPSBmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgIGlmICh0aGlzLm9ic2VydmVycyA9PT0gdW5kZWZpbmVkIHx8IHRoaXMub2JzZXJ2ZXJzW2ldID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxldGUgdGhpcy5vYnNlcnZlcnNbaV07XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlckNvdW50IC09IDE7XHJcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXJDb3VudCA9PT0gMCAmJiB0aGlzLm9uTm9PYnNlcnZlcnMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uTm9PYnNlcnZlcnModGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE9ic2VydmVyUHJveHkucHJvdG90eXBlLmZvckVhY2hPYnNlcnZlciA9IGZ1bmN0aW9uIChmbikge1xyXG4gICAgICAgIGlmICh0aGlzLmZpbmFsaXplZCkge1xyXG4gICAgICAgICAgICAvLyBBbHJlYWR5IGNsb3NlZCBieSBwcmV2aW91cyBldmVudC4uLi5qdXN0IGVhdCB0aGUgYWRkaXRpb25hbCB2YWx1ZXMuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2luY2Ugc2VuZE9uZSBjYWxscyBhc3luY2hyb25vdXNseSAtIHRoZXJlIGlzIG5vIGNoYW5jZSB0aGF0XHJcbiAgICAgICAgLy8gdGhpcy5vYnNlcnZlcnMgd2lsbCBiZWNvbWUgdW5kZWZpbmVkLlxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5zZW5kT25lKGksIGZuKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gQ2FsbCB0aGUgT2JzZXJ2ZXIgdmlhIG9uZSBvZiBpdCdzIGNhbGxiYWNrIGZ1bmN0aW9uLiBXZSBhcmUgY2FyZWZ1bCB0b1xyXG4gICAgLy8gY29uZmlybSB0aGF0IHRoZSBvYnNlcnZlIGhhcyBub3QgYmVlbiB1bnN1YnNjcmliZWQgc2luY2UgdGhpcyBhc3luY2hyb25vdXNcclxuICAgIC8vIGZ1bmN0aW9uIGhhZCBiZWVuIHF1ZXVlZC5cclxuICAgIE9ic2VydmVyUHJveHkucHJvdG90eXBlLnNlbmRPbmUgPSBmdW5jdGlvbiAoaSwgZm4pIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIEV4ZWN1dGUgdGhlIGNhbGxiYWNrIGFzeW5jaHJvbm91c2x5XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xyXG4gICAgICAgIHRoaXMudGFzay50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLm9ic2VydmVycyAhPT0gdW5kZWZpbmVkICYmIF90aGlzLm9ic2VydmVyc1tpXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZuKF90aGlzLm9ic2VydmVyc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBleGNlcHRpb25zIHJhaXNlZCBpbiBPYnNlcnZlcnMgb3IgbWlzc2luZyBtZXRob2RzIG9mIGFuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT2JzZXJ2ZXIuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9nIGVycm9yIHRvIGNvbnNvbGUuIGIvMzE0MDQ4MDZcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGUuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZlclByb3h5LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLmZpbmFsaXplZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZmluYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICBpZiAoZXJyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5maW5hbEVycm9yID0gZXJyO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBQcm94eSBpcyBubyBsb25nZXIgbmVlZGVkIC0gZ2FyYmFnZSBjb2xsZWN0IHJlZmVyZW5jZXNcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXHJcbiAgICAgICAgdGhpcy50YXNrLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vYnNlcnZlcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIF90aGlzLm9uTm9PYnNlcnZlcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE9ic2VydmVyUHJveHk7XHJcbn0oKSk7XHJcbi8qKiBUdXJuIHN5bmNocm9ub3VzIGZ1bmN0aW9uIGludG8gb25lIGNhbGxlZCBhc3luY2hyb25vdXNseS4gKi9cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcclxuZnVuY3Rpb24gYXN5bmMoZm4sIG9uRXJyb3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSh0cnVlKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZuLmFwcGx5KHZvaWQgMCwgYXJncyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAob25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgb25FcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSBvYmplY3QgcGFzc2VkIGluIGltcGxlbWVudHMgYW55IG9mIHRoZSBuYW1lZCBtZXRob2RzLlxyXG4gKi9cclxuZnVuY3Rpb24gaW1wbGVtZW50c0FueU1ldGhvZHMob2JqLCBtZXRob2RzKSB7XHJcbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgX2kgPSAwLCBtZXRob2RzXzEgPSBtZXRob2RzOyBfaSA8IG1ldGhvZHNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIgbWV0aG9kID0gbWV0aG9kc18xW19pXTtcclxuICAgICAgICBpZiAobWV0aG9kIGluIG9iaiAmJiB0eXBlb2Ygb2JqW21ldGhvZF0gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIG5vb3AoKSB7XHJcbiAgICAvLyBkbyBub3RoaW5nXHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIENoZWNrIHRvIG1ha2Ugc3VyZSB0aGUgYXBwcm9wcmlhdGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgZm9yIGEgcHVibGljIGZ1bmN0aW9uLlxyXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgaXQgZmFpbHMuXHJcbiAqXHJcbiAqIEBwYXJhbSBmbk5hbWUgVGhlIGZ1bmN0aW9uIG5hbWVcclxuICogQHBhcmFtIG1pbkNvdW50IFRoZSBtaW5pbXVtIG51bWJlciBvZiBhcmd1bWVudHMgdG8gYWxsb3cgZm9yIHRoZSBmdW5jdGlvbiBjYWxsXHJcbiAqIEBwYXJhbSBtYXhDb3VudCBUaGUgbWF4aW11bSBudW1iZXIgb2YgYXJndW1lbnQgdG8gYWxsb3cgZm9yIHRoZSBmdW5jdGlvbiBjYWxsXHJcbiAqIEBwYXJhbSBhcmdDb3VudCBUaGUgYWN0dWFsIG51bWJlciBvZiBhcmd1bWVudHMgcHJvdmlkZWQuXHJcbiAqL1xyXG52YXIgdmFsaWRhdGVBcmdDb3VudCA9IGZ1bmN0aW9uIChmbk5hbWUsIG1pbkNvdW50LCBtYXhDb3VudCwgYXJnQ291bnQpIHtcclxuICAgIHZhciBhcmdFcnJvcjtcclxuICAgIGlmIChhcmdDb3VudCA8IG1pbkNvdW50KSB7XHJcbiAgICAgICAgYXJnRXJyb3IgPSAnYXQgbGVhc3QgJyArIG1pbkNvdW50O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoYXJnQ291bnQgPiBtYXhDb3VudCkge1xyXG4gICAgICAgIGFyZ0Vycm9yID0gbWF4Q291bnQgPT09IDAgPyAnbm9uZScgOiAnbm8gbW9yZSB0aGFuICcgKyBtYXhDb3VudDtcclxuICAgIH1cclxuICAgIGlmIChhcmdFcnJvcikge1xyXG4gICAgICAgIHZhciBlcnJvciA9IGZuTmFtZSArXHJcbiAgICAgICAgICAgICcgZmFpbGVkOiBXYXMgY2FsbGVkIHdpdGggJyArXHJcbiAgICAgICAgICAgIGFyZ0NvdW50ICtcclxuICAgICAgICAgICAgKGFyZ0NvdW50ID09PSAxID8gJyBhcmd1bWVudC4nIDogJyBhcmd1bWVudHMuJykgK1xyXG4gICAgICAgICAgICAnIEV4cGVjdHMgJyArXHJcbiAgICAgICAgICAgIGFyZ0Vycm9yICtcclxuICAgICAgICAgICAgJy4nO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBzdHJpbmcgdG8gcHJlZml4IGFuIGVycm9yIG1lc3NhZ2UgYWJvdXQgZmFpbGVkIGFyZ3VtZW50IHZhbGlkYXRpb25cclxuICpcclxuICogQHBhcmFtIGZuTmFtZSBUaGUgZnVuY3Rpb24gbmFtZVxyXG4gKiBAcGFyYW0gYXJnTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXJndW1lbnRcclxuICogQHJldHVybiBUaGUgcHJlZml4IHRvIGFkZCB0byB0aGUgZXJyb3IgdGhyb3duIGZvciB2YWxpZGF0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gZXJyb3JQcmVmaXgoZm5OYW1lLCBhcmdOYW1lKSB7XHJcbiAgICByZXR1cm4gZm5OYW1lICsgXCIgZmFpbGVkOiBcIiArIGFyZ05hbWUgKyBcIiBhcmd1bWVudCBcIjtcclxufVxyXG4vKipcclxuICogQHBhcmFtIGZuTmFtZVxyXG4gKiBAcGFyYW0gYXJndW1lbnROdW1iZXJcclxuICogQHBhcmFtIG5hbWVzcGFjZVxyXG4gKiBAcGFyYW0gb3B0aW9uYWxcclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlTmFtZXNwYWNlKGZuTmFtZSwgbmFtZXNwYWNlLCBvcHRpb25hbCkge1xyXG4gICAgaWYgKG9wdGlvbmFsICYmICFuYW1lc3BhY2UpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAvL1RPRE86IEkgc2hvdWxkIGRvIG1vcmUgdmFsaWRhdGlvbiBoZXJlLiBXZSBvbmx5IGFsbG93IGNlcnRhaW4gY2hhcnMgaW4gbmFtZXNwYWNlcy5cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQcmVmaXgoZm5OYW1lLCAnbmFtZXNwYWNlJykgKyAnbXVzdCBiZSBhIHZhbGlkIGZpcmViYXNlIG5hbWVzcGFjZS4nKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB2YWxpZGF0ZUNhbGxiYWNrKGZuTmFtZSwgYXJndW1lbnROYW1lLCBcclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcclxuY2FsbGJhY2ssIG9wdGlvbmFsKSB7XHJcbiAgICBpZiAob3B0aW9uYWwgJiYgIWNhbGxiYWNrKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclByZWZpeChmbk5hbWUsIGFyZ3VtZW50TmFtZSkgKyAnbXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uLicpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHZhbGlkYXRlQ29udGV4dE9iamVjdChmbk5hbWUsIGFyZ3VtZW50TmFtZSwgY29udGV4dCwgb3B0aW9uYWwpIHtcclxuICAgIGlmIChvcHRpb25hbCAmJiAhY29udGV4dCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgY29udGV4dCAhPT0gJ29iamVjdCcgfHwgY29udGV4dCA9PT0gbnVsbCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclByZWZpeChmbk5hbWUsIGFyZ3VtZW50TmFtZSkgKyAnbXVzdCBiZSBhIHZhbGlkIGNvbnRleHQgb2JqZWN0LicpO1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8vIENvZGUgb3JpZ2luYWxseSBjYW1lIGZyb20gZ29vZy5jcnlwdC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXksIGJ1dCBmb3Igc29tZSByZWFzb24gdGhleVxyXG4vLyBhdXRvbWF0aWNhbGx5IHJlcGxhY2VkICdcXHJcXG4nIHdpdGggJ1xcbicsIGFuZCB0aGV5IGRpZG4ndCBoYW5kbGUgc3Vycm9nYXRlIHBhaXJzLFxyXG4vLyBzbyBpdCdzIGJlZW4gbW9kaWZpZWQuXHJcbi8vIE5vdGUgdGhhdCBub3QgYWxsIFVuaWNvZGUgY2hhcmFjdGVycyBhcHBlYXIgYXMgc2luZ2xlIGNoYXJhY3RlcnMgaW4gSmF2YVNjcmlwdCBzdHJpbmdzLlxyXG4vLyBmcm9tQ2hhckNvZGUgcmV0dXJucyB0aGUgVVRGLTE2IGVuY29kaW5nIG9mIGEgY2hhcmFjdGVyIC0gc28gc29tZSBVbmljb2RlIGNoYXJhY3RlcnNcclxuLy8gdXNlIDIgY2hhcmFjdGVycyBpbiBKYXZhc2NyaXB0LiAgQWxsIDQtYnl0ZSBVVEYtOCBjaGFyYWN0ZXJzIGJlZ2luIHdpdGggYSBmaXJzdFxyXG4vLyBjaGFyYWN0ZXIgaW4gdGhlIHJhbmdlIDB4RDgwMCAtIDB4REJGRiAodGhlIGZpcnN0IGNoYXJhY3RlciBvZiBhIHNvLWNhbGxlZCBzdXJyb2dhdGVcclxuLy8gcGFpcikuXHJcbi8vIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNS4xLyNzZWMtMTUuMS4zXHJcbi8qKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXHJcbiAqIEByZXR1cm4ge0FycmF5fVxyXG4gKi9cclxudmFyIHN0cmluZ1RvQnl0ZUFycmF5JDEgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICB2YXIgb3V0ID0gW107XHJcbiAgICB2YXIgcCA9IDA7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgLy8gSXMgdGhpcyB0aGUgbGVhZCBzdXJyb2dhdGUgaW4gYSBzdXJyb2dhdGUgcGFpcj9cclxuICAgICAgICBpZiAoYyA+PSAweGQ4MDAgJiYgYyA8PSAweGRiZmYpIHtcclxuICAgICAgICAgICAgdmFyIGhpZ2ggPSBjIC0gMHhkODAwOyAvLyB0aGUgaGlnaCAxMCBiaXRzLlxyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIGFzc2VydChpIDwgc3RyLmxlbmd0aCwgJ1N1cnJvZ2F0ZSBwYWlyIG1pc3NpbmcgdHJhaWwgc3Vycm9nYXRlLicpO1xyXG4gICAgICAgICAgICB2YXIgbG93ID0gc3RyLmNoYXJDb2RlQXQoaSkgLSAweGRjMDA7IC8vIHRoZSBsb3cgMTAgYml0cy5cclxuICAgICAgICAgICAgYyA9IDB4MTAwMDAgKyAoaGlnaCA8PCAxMCkgKyBsb3c7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gYztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDIwNDgpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiA2KSB8IDE5MjtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDY1NTM2KSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gMTIpIHwgMjI0O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gMTgpIHwgMjQwO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiAxMikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvdXQ7XHJcbn07XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgbGVuZ3RoIHdpdGhvdXQgYWN0dWFsbHkgY29udmVydGluZzsgdXNlZnVsIGZvciBkb2luZyBjaGVhcGVyIHZhbGlkYXRpb24uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICogQHJldHVybiB7bnVtYmVyfVxyXG4gKi9cclxudmFyIHN0cmluZ0xlbmd0aCA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIHZhciBwID0gMDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoYyA8IDEyOCkge1xyXG4gICAgICAgICAgICBwKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMgPCAyMDQ4KSB7XHJcbiAgICAgICAgICAgIHAgKz0gMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA+PSAweGQ4MDAgJiYgYyA8PSAweGRiZmYpIHtcclxuICAgICAgICAgICAgLy8gTGVhZCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpci4gIFRoZSBwYWlyIHRvZ2V0aGVyIHdpbGwgdGFrZSA0IGJ5dGVzIHRvIHJlcHJlc2VudC5cclxuICAgICAgICAgICAgcCArPSA0O1xyXG4gICAgICAgICAgICBpKys7IC8vIHNraXAgdHJhaWwgc3Vycm9nYXRlLlxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcCArPSAzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBwO1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVGhlIGFtb3VudCBvZiBtaWxsaXNlY29uZHMgdG8gZXhwb25lbnRpYWxseSBpbmNyZWFzZS5cclxuICovXHJcbnZhciBERUZBVUxUX0lOVEVSVkFMX01JTExJUyA9IDEwMDA7XHJcbi8qKlxyXG4gKiBUaGUgZmFjdG9yIHRvIGJhY2tvZmYgYnkuXHJcbiAqIFNob3VsZCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4gMS5cclxuICovXHJcbnZhciBERUZBVUxUX0JBQ0tPRkZfRkFDVE9SID0gMjtcclxuLyoqXHJcbiAqIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0byBpbmNyZWFzZSB0by5cclxuICpcclxuICogPHA+VmlzaWJsZSBmb3IgdGVzdGluZ1xyXG4gKi9cclxudmFyIE1BWF9WQUxVRV9NSUxMSVMgPSA0ICogNjAgKiA2MCAqIDEwMDA7IC8vIEZvdXIgaG91cnMsIGxpa2UgaU9TIGFuZCBBbmRyb2lkLlxyXG4vKipcclxuICogVGhlIHBlcmNlbnRhZ2Ugb2YgYmFja29mZiB0aW1lIHRvIHJhbmRvbWl6ZSBieS5cclxuICogU2VlXHJcbiAqIGh0dHA6Ly9nby9zYWZlLWNsaWVudC1iZWhhdmlvciNzdGVwLTEtZGV0ZXJtaW5lLXRoZS1hcHByb3ByaWF0ZS1yZXRyeS1pbnRlcnZhbC10by1oYW5kbGUtc3Bpa2UtdHJhZmZpY1xyXG4gKiBmb3IgY29udGV4dC5cclxuICpcclxuICogPHA+VmlzaWJsZSBmb3IgdGVzdGluZ1xyXG4gKi9cclxudmFyIFJBTkRPTV9GQUNUT1IgPSAwLjU7XHJcbi8qKlxyXG4gKiBCYXNlZCBvbiB0aGUgYmFja29mZiBtZXRob2QgZnJvbVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtbGlicmFyeS9ibG9iL21hc3Rlci9jbG9zdXJlL2dvb2cvbWF0aC9leHBvbmVudGlhbGJhY2tvZmYuanMuXHJcbiAqIEV4dHJhY3RlZCBoZXJlIHNvIHdlIGRvbid0IG5lZWQgdG8gcGFzcyBtZXRhZGF0YSBhbmQgYSBzdGF0ZWZ1bCBFeHBvbmVudGlhbEJhY2tvZmYgb2JqZWN0IGFyb3VuZC5cclxuICovXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZUJhY2tvZmZNaWxsaXMoYmFja29mZkNvdW50LCBpbnRlcnZhbE1pbGxpcywgYmFja29mZkZhY3Rvcikge1xyXG4gICAgaWYgKGludGVydmFsTWlsbGlzID09PSB2b2lkIDApIHsgaW50ZXJ2YWxNaWxsaXMgPSBERUZBVUxUX0lOVEVSVkFMX01JTExJUzsgfVxyXG4gICAgaWYgKGJhY2tvZmZGYWN0b3IgPT09IHZvaWQgMCkgeyBiYWNrb2ZmRmFjdG9yID0gREVGQVVMVF9CQUNLT0ZGX0ZBQ1RPUjsgfVxyXG4gICAgLy8gQ2FsY3VsYXRlcyBhbiBleHBvbmVudGlhbGx5IGluY3JlYXNpbmcgdmFsdWUuXHJcbiAgICAvLyBEZXZpYXRpb246IGNhbGN1bGF0ZXMgdmFsdWUgZnJvbSBjb3VudCBhbmQgYSBjb25zdGFudCBpbnRlcnZhbCwgc28gd2Ugb25seSBuZWVkIHRvIHNhdmUgdmFsdWVcclxuICAgIC8vIGFuZCBjb3VudCB0byByZXN0b3JlIHN0YXRlLlxyXG4gICAgdmFyIGN1cnJCYXNlVmFsdWUgPSBpbnRlcnZhbE1pbGxpcyAqIE1hdGgucG93KGJhY2tvZmZGYWN0b3IsIGJhY2tvZmZDb3VudCk7XHJcbiAgICAvLyBBIHJhbmRvbSBcImZ1enpcIiB0byBhdm9pZCB3YXZlcyBvZiByZXRyaWVzLlxyXG4gICAgLy8gRGV2aWF0aW9uOiByYW5kb21GYWN0b3IgaXMgcmVxdWlyZWQuXHJcbiAgICB2YXIgcmFuZG9tV2FpdCA9IE1hdGgucm91bmQoXHJcbiAgICAvLyBBIGZyYWN0aW9uIG9mIHRoZSBiYWNrb2ZmIHZhbHVlIHRvIGFkZC9zdWJ0cmFjdC5cclxuICAgIC8vIERldmlhdGlvbjogY2hhbmdlcyBtdWx0aXBsaWNhdGlvbiBvcmRlciB0byBpbXByb3ZlIHJlYWRhYmlsaXR5LlxyXG4gICAgUkFORE9NX0ZBQ1RPUiAqXHJcbiAgICAgICAgY3VyckJhc2VWYWx1ZSAqXHJcbiAgICAgICAgLy8gQSByYW5kb20gZmxvYXQgKHJvdW5kZWQgdG8gaW50IGJ5IE1hdGgucm91bmQgYWJvdmUpIGluIHRoZSByYW5nZSBbLTEsIDFdLiBEZXRlcm1pbmVzXHJcbiAgICAgICAgLy8gaWYgd2UgYWRkIG9yIHN1YnRyYWN0LlxyXG4gICAgICAgIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqXHJcbiAgICAgICAgMik7XHJcbiAgICAvLyBMaW1pdHMgYmFja29mZiB0byBtYXggdG8gYXZvaWQgZWZmZWN0aXZlbHkgcGVybWFuZW50IGJhY2tvZmYuXHJcbiAgICByZXR1cm4gTWF0aC5taW4oTUFYX1ZBTFVFX01JTExJUywgY3VyckJhc2VWYWx1ZSArIHJhbmRvbVdhaXQpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBQcm92aWRlIEVuZ2xpc2ggb3JkaW5hbCBsZXR0ZXJzIGFmdGVyIGEgbnVtYmVyXHJcbiAqL1xyXG5mdW5jdGlvbiBvcmRpbmFsKGkpIHtcclxuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGkpKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCIgKyBpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGkgKyBpbmRpY2F0b3IoaSk7XHJcbn1cclxuZnVuY3Rpb24gaW5kaWNhdG9yKGkpIHtcclxuICAgIGkgPSBNYXRoLmFicyhpKTtcclxuICAgIHZhciBjZW50ID0gaSAlIDEwMDtcclxuICAgIGlmIChjZW50ID49IDEwICYmIGNlbnQgPD0gMjApIHtcclxuICAgICAgICByZXR1cm4gJ3RoJztcclxuICAgIH1cclxuICAgIHZhciBkZWMgPSBpICUgMTA7XHJcbiAgICBpZiAoZGVjID09PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuICdzdCc7XHJcbiAgICB9XHJcbiAgICBpZiAoZGVjID09PSAyKSB7XHJcbiAgICAgICAgcmV0dXJuICduZCc7XHJcbiAgICB9XHJcbiAgICBpZiAoZGVjID09PSAzKSB7XHJcbiAgICAgICAgcmV0dXJuICdyZCc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJ3RoJztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRNb2R1bGFySW5zdGFuY2Uoc2VydmljZSkge1xyXG4gICAgaWYgKHNlcnZpY2UgJiYgc2VydmljZS5fZGVsZWdhdGUpIHtcclxuICAgICAgICByZXR1cm4gc2VydmljZS5fZGVsZWdhdGU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gc2VydmljZTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBDT05TVEFOVFMsIERlZmVycmVkLCBFcnJvckZhY3RvcnksIEZpcmViYXNlRXJyb3IsIE1BWF9WQUxVRV9NSUxMSVMsIFJBTkRPTV9GQUNUT1IsIFNoYTEsIGFyZUNvb2tpZXNFbmFibGVkLCBhc3NlcnQsIGFzc2VydGlvbkVycm9yLCBhc3luYywgYmFzZTY0LCBiYXNlNjREZWNvZGUsIGJhc2U2NEVuY29kZSwgY2FsY3VsYXRlQmFja29mZk1pbGxpcywgY29udGFpbnMsIGNyZWF0ZVN1YnNjcmliZSwgZGVjb2RlLCBkZWVwQ29weSwgZGVlcEV4dGVuZCwgZXJyb3JQcmVmaXgsIGV4dHJhY3RRdWVyeXN0cmluZywgZ2V0TW9kdWxhckluc3RhbmNlLCBnZXRVQSwgaXNBZG1pbiwgaXNCcm93c2VyLCBpc0Jyb3dzZXJFeHRlbnNpb24sIGlzRWxlY3Ryb24sIGlzRW1wdHksIGlzSUUsIGlzSW5kZXhlZERCQXZhaWxhYmxlLCBpc01vYmlsZUNvcmRvdmEsIGlzTm9kZSwgaXNOb2RlU2RrLCBpc1JlYWN0TmF0aXZlLCBpc1NhZmFyaSwgaXNVV1AsIGlzVmFsaWRGb3JtYXQsIGlzVmFsaWRUaW1lc3RhbXAsIGlzc3VlZEF0VGltZSwganNvbkV2YWwsIG1hcCwgb3JkaW5hbCwgcXVlcnlzdHJpbmcsIHF1ZXJ5c3RyaW5nRGVjb2RlLCBzYWZlR2V0LCBzdHJpbmdMZW5ndGgsIHN0cmluZ1RvQnl0ZUFycmF5JDEgYXMgc3RyaW5nVG9CeXRlQXJyYXksIHN0cmluZ2lmeSwgdmFsaWRhdGVBcmdDb3VudCwgdmFsaWRhdGVDYWxsYmFjaywgdmFsaWRhdGVDb250ZXh0T2JqZWN0LCB2YWxpZGF0ZUluZGV4ZWREQk9wZW5hYmxlLCB2YWxpZGF0ZU5hbWVzcGFjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtLmpzLm1hcFxuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIvKiBodHRwOi8vbWV5ZXJ3ZWIuY29tL2VyaWMvdG9vbHMvY3NzL3Jlc2V0LyBcXG4gICB2Mi4wIHwgMjAxMTAxMjZcXG4gICBMaWNlbnNlOiBub25lIChwdWJsaWMgZG9tYWluKVxcbiovXFxuXFxuaHRtbCwgYm9keSwgZGl2LCBzcGFuLCBhcHBsZXQsIG9iamVjdCwgaWZyYW1lLFxcbmgxLCBoMiwgaDMsIGg0LCBoNSwgaDYsIHAsIGJsb2NrcXVvdGUsIHByZSxcXG5hLCBhYmJyLCBhY3JvbnltLCBhZGRyZXNzLCBiaWcsIGNpdGUsIGNvZGUsXFxuZGVsLCBkZm4sIGVtLCBpbWcsIGlucywga2JkLCBxLCBzLCBzYW1wLFxcbnNtYWxsLCBzdHJpa2UsIHN0cm9uZywgc3ViLCBzdXAsIHR0LCB2YXIsXFxuYiwgdSwgaSwgY2VudGVyLFxcbmRsLCBkdCwgZGQsIG9sLCB1bCwgbGksXFxuZmllbGRzZXQsIGZvcm0sIGxhYmVsLCBsZWdlbmQsXFxudGFibGUsIGNhcHRpb24sIHRib2R5LCB0Zm9vdCwgdGhlYWQsIHRyLCB0aCwgdGQsXFxuYXJ0aWNsZSwgYXNpZGUsIGNhbnZhcywgZGV0YWlscywgZW1iZWQsIFxcbmZpZ3VyZSwgZmlnY2FwdGlvbiwgZm9vdGVyLCBoZWFkZXIsIGhncm91cCwgXFxubWVudSwgbmF2LCBvdXRwdXQsIHJ1YnksIHNlY3Rpb24sIHN1bW1hcnksXFxudGltZSwgbWFyaywgYXVkaW8sIHZpZGVvIHtcXG5cXHRtYXJnaW46IDA7XFxuXFx0cGFkZGluZzogMDtcXG5cXHRib3JkZXI6IDA7XFxuXFx0Zm9udC1zaXplOiAxMDAlO1xcblxcdGZvbnQ6IGluaGVyaXQ7XFxuXFx0dmVydGljYWwtYWxpZ246IGJhc2VsaW5lO1xcbn1cXG4vKiBIVE1MNSBkaXNwbGF5LXJvbGUgcmVzZXQgZm9yIG9sZGVyIGJyb3dzZXJzICovXFxuYXJ0aWNsZSwgYXNpZGUsIGRldGFpbHMsIGZpZ2NhcHRpb24sIGZpZ3VyZSwgXFxuZm9vdGVyLCBoZWFkZXIsIGhncm91cCwgbWVudSwgbmF2LCBzZWN0aW9uIHtcXG5cXHRkaXNwbGF5OiBibG9jaztcXG59XFxuYm9keSB7XFxuXFx0bGluZS1oZWlnaHQ6IDE7XFxufVxcbm9sLCB1bCB7XFxuXFx0bGlzdC1zdHlsZTogbm9uZTtcXG59XFxuYmxvY2txdW90ZSwgcSB7XFxuXFx0cXVvdGVzOiBub25lO1xcbn1cXG5ibG9ja3F1b3RlOmJlZm9yZSwgYmxvY2txdW90ZTphZnRlcixcXG5xOmJlZm9yZSwgcTphZnRlciB7XFxuXFx0Y29udGVudDogJyc7XFxuXFx0Y29udGVudDogbm9uZTtcXG59XFxudGFibGUge1xcblxcdGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XFxuXFx0Ym9yZGVyLXNwYWNpbmc6IDA7XFxufVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZXMvcmVzZXQuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBOzs7Q0FHQzs7QUFFRDs7Ozs7Ozs7Ozs7OztDQWFDLFNBQVM7Q0FDVCxVQUFVO0NBQ1YsU0FBUztDQUNULGVBQWU7Q0FDZixhQUFhO0NBQ2Isd0JBQXdCO0FBQ3pCO0FBQ0EsZ0RBQWdEO0FBQ2hEOztDQUVDLGNBQWM7QUFDZjtBQUNBO0NBQ0MsY0FBYztBQUNmO0FBQ0E7Q0FDQyxnQkFBZ0I7QUFDakI7QUFDQTtDQUNDLFlBQVk7QUFDYjtBQUNBOztDQUVDLFdBQVc7Q0FDWCxhQUFhO0FBQ2Q7QUFDQTtDQUNDLHlCQUF5QjtDQUN6QixpQkFBaUI7QUFDbEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLyogaHR0cDovL21leWVyd2ViLmNvbS9lcmljL3Rvb2xzL2Nzcy9yZXNldC8gXFxuICAgdjIuMCB8IDIwMTEwMTI2XFxuICAgTGljZW5zZTogbm9uZSAocHVibGljIGRvbWFpbilcXG4qL1xcblxcbmh0bWwsIGJvZHksIGRpdiwgc3BhbiwgYXBwbGV0LCBvYmplY3QsIGlmcmFtZSxcXG5oMSwgaDIsIGgzLCBoNCwgaDUsIGg2LCBwLCBibG9ja3F1b3RlLCBwcmUsXFxuYSwgYWJiciwgYWNyb255bSwgYWRkcmVzcywgYmlnLCBjaXRlLCBjb2RlLFxcbmRlbCwgZGZuLCBlbSwgaW1nLCBpbnMsIGtiZCwgcSwgcywgc2FtcCxcXG5zbWFsbCwgc3RyaWtlLCBzdHJvbmcsIHN1Yiwgc3VwLCB0dCwgdmFyLFxcbmIsIHUsIGksIGNlbnRlcixcXG5kbCwgZHQsIGRkLCBvbCwgdWwsIGxpLFxcbmZpZWxkc2V0LCBmb3JtLCBsYWJlbCwgbGVnZW5kLFxcbnRhYmxlLCBjYXB0aW9uLCB0Ym9keSwgdGZvb3QsIHRoZWFkLCB0ciwgdGgsIHRkLFxcbmFydGljbGUsIGFzaWRlLCBjYW52YXMsIGRldGFpbHMsIGVtYmVkLCBcXG5maWd1cmUsIGZpZ2NhcHRpb24sIGZvb3RlciwgaGVhZGVyLCBoZ3JvdXAsIFxcbm1lbnUsIG5hdiwgb3V0cHV0LCBydWJ5LCBzZWN0aW9uLCBzdW1tYXJ5LFxcbnRpbWUsIG1hcmssIGF1ZGlvLCB2aWRlbyB7XFxuXFx0bWFyZ2luOiAwO1xcblxcdHBhZGRpbmc6IDA7XFxuXFx0Ym9yZGVyOiAwO1xcblxcdGZvbnQtc2l6ZTogMTAwJTtcXG5cXHRmb250OiBpbmhlcml0O1xcblxcdHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcXG59XFxuLyogSFRNTDUgZGlzcGxheS1yb2xlIHJlc2V0IGZvciBvbGRlciBicm93c2VycyAqL1xcbmFydGljbGUsIGFzaWRlLCBkZXRhaWxzLCBmaWdjYXB0aW9uLCBmaWd1cmUsIFxcbmZvb3RlciwgaGVhZGVyLCBoZ3JvdXAsIG1lbnUsIG5hdiwgc2VjdGlvbiB7XFxuXFx0ZGlzcGxheTogYmxvY2s7XFxufVxcbmJvZHkge1xcblxcdGxpbmUtaGVpZ2h0OiAxO1xcbn1cXG5vbCwgdWwge1xcblxcdGxpc3Qtc3R5bGU6IG5vbmU7XFxufVxcbmJsb2NrcXVvdGUsIHEge1xcblxcdHF1b3Rlczogbm9uZTtcXG59XFxuYmxvY2txdW90ZTpiZWZvcmUsIGJsb2NrcXVvdGU6YWZ0ZXIsXFxucTpiZWZvcmUsIHE6YWZ0ZXIge1xcblxcdGNvbnRlbnQ6ICcnO1xcblxcdGNvbnRlbnQ6IG5vbmU7XFxufVxcbnRhYmxlIHtcXG5cXHRib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xcblxcdGJvcmRlci1zcGFjaW5nOiAwO1xcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fIGZyb20gXCIuLi9pbWdzL3gtaWNvbi5zdmdcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCI6cm9vdCB7XFxuICAtLWNvbC1iYXNlLWxpZ2h0OiAjYzVlZGZmO1xcbiAgLS1jb2wtYmFzZS1taWQ6ICM5M2JmZDM7XFxuICAtLWNvbC1iYXNlLW1pZDI6ICM3MjlkYjE7XFxuICAtLWNvbC1iYXNlLWRhcms6ICM0Mjc1OTc7XFxuICAtLWNvbC1kYXJrZXN0OiAjMDAwO1xcbiAgLS1jb2wtbGlnaHQ6ICNmZmZmZmY7XFxuICAtLWNvbC1idG4tbGlnaHQ6IHJnYig0NiwgMTQ5LCAyMDkpO1xcbiAgLS1jb2wtYnRuLW1pZDogcmdiKDMwLCAxMzgsIDIwMSk7XFxuICAtLWNvbC1idG4tZGFyazogcmdiKDIzLCA4OSwgMTc1KTtcXG5cXG4gIC0tY2FyZC1zY2FsZTogLjNlbTtcXG5cXG4gIC0tdHJhbnNpdGlvbi1zcGVlZDogLjNzO1xcbn1cXG5odG1sIHtcXG4gIGhlaWdodDoxMDAlO1xcbn1cXG5ib2R5IHtcXG4gIHBvc2l0aW9uOnJlbGF0aXZlO1xcbiAgbWluLWhlaWdodDoxMDAlO1xcbiAgbWF4LXdpZHRoOjkwMHB4O1xcbiAgbWFyZ2luOmF1dG87XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2wtYmFzZS1kYXJrKTtcXG4gIGNvbG9yOnZhcigtLWNvbC1saWdodCk7XFxuICBkaXNwbGF5OmZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjpjb2x1bW47XFxufVxcblxcbmgxIHtcXG4gIHBhZGRpbmc6MTBweDtcXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XFxuICBmb250LXNpemU6IDJlbTtcXG4gIHRleHQtc2hhZG93OjJweCAycHggNHB4ICByZ2IoMiwgNDQsIDk5KTtcXG4gIHRyYW5zaXRpb246dmFyKC0tdHJhbnNpdGlvbi1zcGVlZCk7XFxufVxcblxcbmgxOjphZnRlciB7XFxuICBkaXNwbGF5OmJsb2NrO1xcbiAgY29udGVudDonJztcXG4gIG1hcmdpbi10b3A6LjJlbTtcXG4gIGJvcmRlci1ib3R0b206MXB4IHNvbGlkIHdoaXRlO1xcbn1cXG5cXG5oMiB7XFxuICBmb250LXdlaWdodDpib2xkO1xcbiAgbWFyZ2luLWJvdHRvbToxZW07XFxufVxcblxcbm1haW4uY2FyZCB7XFxuICBtYXJnaW4tYm90dG9tOjJlbTtcXG59XFxuXFxuZm9vdGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTowO1xcbiAgcGFkZGluZzouNWVtO1xcbn1cXG5cXG5mb3JtIHtcXG4gIG1hcmdpbjowIC41ZW0gMCAuNWVtO1xcbn1cXG5cXG5idXR0b24ge1xcbiAgYXBwZWFyYW5jZTpub25lO1xcbiAgZGlzcGxheTpibG9jaztcXG4gIG1hcmdpbjouM2VtO1xcbiAgcGFkZGluZzouM2VtIC42ZW07XFxuICBib3JkZXI6bm9uZTtcXG4gIGZvbnQtc2l6ZToxLjJlbTtcXG4gIGNvbG9yOnZhcigtLWNvbC1saWdodCk7XFxuICBib3JkZXItYm90dG9tOiA0cHggc29saWQgdmFyKC0tY29sLWJ0bi1kYXJrKTtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIGJhY2tncm91bmQ6dmFyKC0tY29sLWJ0bi1taWQpO1xcbn1cXG5cXG5idXR0b246aG92ZXIge1xcbiAgYmFja2dyb3VuZDp2YXIoLS1jb2wtYnRuLWxpZ2h0KTtcXG59XFxuXFxuYnV0dG9uOmZvY3VzIHtcXG4gIG91dGxpbmU6bm9uZTtcXG4gIGJvcmRlcjpub25lO1xcbiAgYm9yZGVyLXRvcDogNHB4IHNvbGlkIHZhcigtLWNvbC1idG4tZGFyayk7XFxuICBiYWNrZ3JvdW5kOnZhcigtLWNvbC1idG4tZGFyayk7XFxufVxcblxcbmZvcm0+YnV0dG9uIHtcXG4gIG1hcmdpbi10b3A6LjdlbTtcXG59XFxuXFxuYTp2aXNpdGVkLCBhOmxpbmsge1xcbiAgY29sb3I6dmFyKC0tY29sLWxpZ2h0KTtcXG59XFxuXFxuYiB7XFxuICBmb250LXdlaWdodDpib2xkO1xcbn1cXG5cXG4uY2VudGVyLWNoaWxkcmVuIHtcXG4gIGRpc3BsYXk6ZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbn1cXG5cXG4uaGlkZGVuIHtcXG4gIGRpc3BsYXk6bm9uZTtcXG59XFxuXFxuLmNhcmQge1xcbiAgcG9zaXRpb246cmVsYXRpdmU7XFxuICBjb2xvcjogdmFyKC0tY29sLWRhcmtlc3QpO1xcbiAgbWFyZ2luOiBjYWxjKHZhcigtLWNhcmQtc2NhbGUpKjIpIHZhcigtLWNhcmQtc2NhbGUpO1xcbiAgcGFkZGluZzogdmFyKC0tY2FyZC1zY2FsZSk7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2wtbGlnaHQpO1xcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tY2FyZC1zY2FsZSk7XFxuICBib3gtc2hhZG93OiAxLjVweCAxLjVweCBjYWxjKHZhcigtLWNhcmQtc2NhbGUpICogLjcpIHZhcigtLWNvbC1iYXNlLWRhcmspO1xcbn1cXG5cXG4uY2FyZC5zZW1pLXRyYW5zcGFyZW50IHtcXG4gIGJhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwuNSk7XFxufVxcblxcbi5jYXJkLmxpYnJhcnktaGVhZGVyIHtcXG4gIGRpc3BsYXk6bm9uZTsgLyogT25seSB2aXNpYmxlIGlmIHNjcmVlbiB3aWR0aCA+IG1vYmlsZSAqL1xcbn1cXG5cXG4uYm9vayB7XFxuICBkaXNwbGF5OmZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjpjb2x1bW47XFxufVxcblxcbi5ib29rLXByb3Age1xcbiAgbWFyZ2luLXJpZ2h0OjJlbTtcXG4gIHBhZGRpbmc6LjNlbSAwO1xcbn1cXG5cXG4uYm9vay1wcm9wLmJvb2stdGl0bGUge1xcbiAgZm9udC13ZWlnaHQ6Ym9sZDtcXG59XFxuLmJvb2stcHJvcC5ib29rLXRpdGxlOjphZnRlciB7XFxuICBjb250ZW50OlxcXCJcXFwiO1xcbiAgZGlzcGxheTpibG9jaztcXG4gIGJvcmRlci10b3A6IHNvbGlkIDFweCB2YXIoLS1jb2wtYmFzZS1kYXJrKTsgXFxufVxcbi5ib29rLXByb3AuYm9vay1hdXRob3I6OmJlZm9yZSB7XFxuICBjb250ZW50OidieSAnO1xcbn1cXG4uYm9vay1wcm9wLmJvb2stcGFnZUNvdW50OjphZnRlciB7XFxuICBjb250ZW50OicgcGFnZXMnO1xcbn1cXG5cXG4uY29udGFpbmVyLWZvb3Qge1xcbiAgbWFyZ2luLWxlZnQ6LjNlbTtcXG59XFxuXFxuLyogKiBNT0RBTCAqL1xcbi5tb2RhbC1iZyB7XFxuICBwb3NpdGlvbjpmaXhlZDtcXG4gIHotaW5kZXg6MTA7XFxuICBsZWZ0OjA7XFxuICB0b3A6MDtcXG4gIHdpZHRoOjEwMCU7XFxuICBoZWlnaHQ6MTAwJTtcXG4gIG92ZXJmbG93OmF1dG87XFxuICBiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjIpO1xcbn1cXG5cXG4ubW9kYWwge1xcbiAgLyogY2VudGVyICovXFxuICB6LWluZGV4OiAxMTtcXG4gIHBvc2l0aW9uOmZpeGVkO1xcbiAgdG9wOjUwJTtcXG4gIGxlZnQ6NTAlO1xcbiAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO1xcblxcbiAgYm94LXNpemluZzpib3JkZXItYm94O1xcbiAgd2lkdGg6Zml0LWNvbnRlbnQ7XFxuICBtYXgtd2lkdGg6OTUlO1xcbiAgcGFkZGluZzogLjdlbTtcXG4gIHBhZGRpbmctYm90dG9tOjA7XFxuICBtYXJnaW46IDA7XFxuXFxuICBmb250LXNpemU6IDE1MCU7XFxufVxcblxcbi5tb2RhbCA+IHAge1xcbiAgcGFkZGluZy1yaWdodDoyZW07XFxufVxcblxcbi5mb3JtLWl0ZW0ge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG4gIG1hcmdpbjogLjVlbSAuMmVtO1xcbiAgcG9zaXRpb246cmVsYXRpdmU7XFxufVxcblxcbi5mb3JtLWl0ZW0gPiBsYWJlbCB7XFxuICBwYWRkaW5nLXJpZ2h0Oi40ZW07XFxufVxcblxcbi5jbG9zZS1idG4ge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IDA7XFxuICB0b3A6IDA7XFxuICB3aWR0aDogMS41ZW07XFxuICBoZWlnaHQ6IDEuNWVtO1xcbiAgbWFyZ2luOi4zZW07XFxuICBiYWNrZ3JvdW5kOiByZWQ7XFxuICBib3JkZXItcmFkaXVzOjUwJTtcXG4gIGNvbnRlbnQ6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gKyBcIik7XFxuICB1c2VyLXNlbGVjdDpub25lO1xcbn1cXG5cXG4uY2xvc2UtYnRuOmhvdmVyIHtcXG4gIGJhY2tncm91bmQ6cmdiKDI1NSwgOTMsIDE0Mik7XFxuICB0cmFuc2Zvcm06cm90YXRlKDkwZGVnKTtcXG4gIHRyYW5zaXRpb246LjNzO1xcbn1cXG5cXG4uc3dpdGNoIHtcXG4gIHBvc2l0aW9uOnJlbGF0aXZlO1xcbiAgZGlzcGxheTpmbGV4O1xcbiAgYWxpZ24taXRlbXM6Y2VudGVyO1xcbn1cXG5cXG4uc3dpdGNoIGlucHV0IHtcXG4gIGRpc3BsYXk6bm9uZTtcXG59XFxuXFxuLnN3aXRjaC1sYWJlbCB7XFxuICBwYWRkaW5nLXJpZ2h0OiAxZW07XFxufVxcbi5zd2l0Y2gtc3BhbiB7XFxuICBiYWNrZ3JvdW5kOnZhcigtLWNvbC1iYXNlLWRhcmspO1xcbiAgd2lkdGg6MS43ZW07XFxuICBoZWlnaHQ6MWVtO1xcbiAgYm9yZGVyLXJhZGl1czouNWVtO1xcbn1cXG5cXG4uc3dpdGNoLXNwYW46OmJlZm9yZSB7XFxuICBwb3NpdGlvbjphYnNvbHV0ZTtcXG4gIGJveC1zaXppbmc6Ym9yZGVyLWJveDtcXG4gIGNvbnRlbnQ6XFxcIlxcXCI7XFxuICBoZWlnaHQ6IDFlbTtcXG4gIHdpZHRoOiAxZW07XFxuICBib3JkZXI6IC4xNWVtIHNvbGlkIHZhcigtLWNvbC1iYXNlLWRhcmspO1xcbiAgYm9yZGVyLXJhZGl1czo1MCU7XFxuICBiYWNrZ3JvdW5kOnZhcigtLWNvbC1iYXNlLWxpZ2h0KTtcXG4gIHRyYW5zaXRpb246IC4xcztcXG59XFxuXFxuaW5wdXQ6Y2hlY2tlZCArIC5zd2l0Y2gtc3Bhbjo6YmVmb3JlIHtcXG4gIHRyYW5zZm9ybTp0cmFuc2xhdGVYKC43ZW0pO1xcbiAgYmFja2dyb3VuZDpsaWdodGdyZWVuO1xcbiAgYm9yZGVyLWNvbG9yOiBncmVlbjtcXG59XFxuXFxuaW5wdXQ6Y2hlY2tlZCArIC5zd2l0Y2gtc3BhbiB7XFxuICBiYWNrZ3JvdW5kOiBncmVlbjtcXG59XFxuXFxuaW5wdXRbdHlwZT0ndGV4dCddLCBpbnB1dFt0eXBlPSdudW1iZXInXSB7XFxuICBhcHBlYXJhbmNlOm5vbmU7XFxuICBib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbC1kYXJrZXN0KTtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG59XFxuXFxuLnZhbGlkYXRpb24tZmFpbGVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6cmVkO1xcbiAgYW5pbWF0aW9uLW5hbWU6IGFuaW0tZmFkZTtcXG4gIGFuaW1hdGlvbi1kdXJhdGlvbjogM3M7XFxufVxcblxcbi5jYXJkLmZvcm0tdmFsaWRhdGlvbi1lcnJvciB7XFxuICB6LWluZGV4OjE1O1xcbiAgYm94LXNpemluZzpib3JkZXItYm94O1xcbiAgcG9zaXRpb246YWJzb2x1dGU7XFxuICB0b3A6MS42ZW07XFxuICByaWdodDowO1xcbiAgbWFyZ2luOjA7XFxuICBiYWNrZ3JvdW5kOnJnYigyNDMsIDE3NCwgMTc0KTtcXG4gIGZvbnQtc2l6ZTouN2VtO1xcbn1cXG5cXG5Aa2V5ZnJhbWVzIGFuaW0tZmFkZSB7XFxuICAwJSB7IGJhY2tncm91bmQtY29sb3I6cmVkOyB9XFxuICAxMDAlIHsgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7IH1cXG59XFxuXFxuQG1lZGlhIChtaW4td2lkdGg6MzVlbSkge1xcbiAgaDEge1xcbiAgICBmb250LXNpemU6My42ZW07XFxuICB9XFxuICAuYm9vayB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogNmZyIDVmciAzZnIgNGZyO1xcbiAgfVxcbiAgLmNhcmQubGlicmFyeS1oZWFkZXIge1xcbiAgICBkaXNwbGF5OmdyaWQ7XFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgfVxcbiAgLmNsb3NlLWJ0biB7XFxuICAgIHRvcDogMDtcXG4gIH1cXG5cXG4gIC5ib29rLXByb3AuYm9vay1hdXRob3I6OmJlZm9yZSB7XFxuICAgIGNvbnRlbnQ6Jyc7XFxuICB9XFxuXFxuICAuYm9vay1wcm9wLmJvb2stcGFnZUNvdW50OjphZnRlciB7XFxuICAgIGNvbnRlbnQ6Jyc7XFxuICB9XFxuXFxuICAuYm9vay1wcm9wLmJvb2stdGl0bGUge1xcbiAgICBmb250LXdlaWdodDpub3JtYWw7XFxuICB9XFxuXFxuICAuYm9vay1wcm9wLmJvb2stdGl0bGU6OmFmdGVyIHtcXG4gICAgZGlzcGxheTpub25lOyBcXG4gIH1cXG59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlcy9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRSx5QkFBeUI7RUFDekIsdUJBQXVCO0VBQ3ZCLHdCQUF3QjtFQUN4Qix3QkFBd0I7RUFDeEIsbUJBQW1CO0VBQ25CLG9CQUFvQjtFQUNwQixrQ0FBa0M7RUFDbEMsZ0NBQWdDO0VBQ2hDLGdDQUFnQzs7RUFFaEMsa0JBQWtCOztFQUVsQix1QkFBdUI7QUFDekI7QUFDQTtFQUNFLFdBQVc7QUFDYjtBQUNBO0VBQ0UsaUJBQWlCO0VBQ2pCLGVBQWU7RUFDZixlQUFlO0VBQ2YsV0FBVztFQUNYLHNDQUFzQztFQUN0QyxzQkFBc0I7RUFDdEIsWUFBWTtFQUNaLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsY0FBYztFQUNkLHVDQUF1QztFQUN2QyxrQ0FBa0M7QUFDcEM7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsVUFBVTtFQUNWLGVBQWU7RUFDZiw2QkFBNkI7QUFDL0I7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxvQkFBb0I7QUFDdEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsYUFBYTtFQUNiLFdBQVc7RUFDWCxpQkFBaUI7RUFDakIsV0FBVztFQUNYLGVBQWU7RUFDZixzQkFBc0I7RUFDdEIsNENBQTRDO0VBQzVDLGtCQUFrQjtFQUNsQiw2QkFB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Q25CO0VBQ0E7SUFDRSxNQUFNO0VBQ1I7O0VBRUE7SUFDRSxVQUFVO0VBQ1o7O0VBRUE7SUFDRSxVQUFVO0VBQ1o7O0VBRUE7SUFDRSxrQkFBa0I7RUFDcEI7O0VBRUE7SUFDRSxZQUFZO0VBQ2Q7QUFDRlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI6cm9vdCB7XFxuICAtLWNvbC1iYXNlLWxpZ2h0OiAjYzVlZGZmO1xcbiAgLS1jb2wtYmFzZS1taWQ6ICM5M2JmZDM7XFxuICAtLWNvbC1iYXNlLW1pZDI6ICM3MjlkYjE7XFxuICAtLWNvbC1iYXNlLWRhcms6ICM0Mjc1OTc7XFxuICAtLWNvbC1kYXJrZXN0OiAjMDAwO1xcbiAgLS1jb2wtbGlnaHQ6ICNmZmZmZmY7XFxuICAtLWNvbC1idG4tbGlnaHQ6IHJnYig0NiwgMTQ5LCAyMDkpO1xcbiAgLS1jb2wtYnRuLW1pZDogcmdiKDMwLCAxMzgsIDIwMSk7XFxuICAtLWNvbC1idG4tZGFyazogcmdiKDIzLCA4OSwgMTc1KTtcXG5cXG4gIC0tY2FyZC1zY2FsZTogLjNlbTtcXG5cXG4gIC0tdHJhbnNpdGlvbi1zcGVlZDogLjNzO1xcbn1cXG5odG1sIHtcXG4gIGhlaWdodDoxMDAlO1xcbn1cXG5ib2R5IHtcXG4gIHBvc2l0aW9uOnJlbGF0aXZlO1xcbiAgbWluLWhlaWdodDoxMDAlO1xcbiAgbWF4LXdpZHRoOjkwMHB4O1xcbiAgbWFyZ2luOmF1dG87XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2wtYmFzZS1kYXJrKTtcXG4gIGNvbG9yOnZhcigtLWNvbC1saWdodCk7XFxuICBkaXNwbGF5OmZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjpjb2x1bW47XFxufVxcblxcbmgxIHtcXG4gIHBhZGRpbmc6MTBweDtcXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XFxuICBmb250LXNpemU6IDJlbTtcXG4gIHRleHQtc2hhZG93OjJweCAycHggNHB4ICByZ2IoMiwgNDQsIDk5KTtcXG4gIHRyYW5zaXRpb246dmFyKC0tdHJhbnNpdGlvbi1zcGVlZCk7XFxufVxcblxcbmgxOjphZnRlciB7XFxuICBkaXNwbGF5OmJsb2NrO1xcbiAgY29udGVudDonJztcXG4gIG1hcmdpbi10b3A6LjJlbTtcXG4gIGJvcmRlci1ib3R0b206MXB4IHNvbGlkIHdoaXRlO1xcbn1cXG5cXG5oMiB7XFxuICBmb250LXdlaWdodDpib2xkO1xcbiAgbWFyZ2luLWJvdHRvbToxZW07XFxufVxcblxcbm1haW4uY2FyZCB7XFxuICBtYXJnaW4tYm90dG9tOjJlbTtcXG59XFxuXFxuZm9vdGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTowO1xcbiAgcGFkZGluZzouNWVtO1xcbn1cXG5cXG5mb3JtIHtcXG4gIG1hcmdpbjowIC41ZW0gMCAuNWVtO1xcbn1cXG5cXG5idXR0b24ge1xcbiAgYXBwZWFyYW5jZTpub25lO1xcbiAgZGlzcGxheTpibG9jaztcXG4gIG1hcmdpbjouM2VtO1xcbiAgcGFkZGluZzouM2VtIC42ZW07XFxuICBib3JkZXI6bm9uZTtcXG4gIGZvbnQtc2l6ZToxLjJlbTtcXG4gIGNvbG9yOnZhcigtLWNvbC1saWdodCk7XFxuICBib3JkZXItYm90dG9tOiA0cHggc29saWQgdmFyKC0tY29sLWJ0bi1kYXJrKTtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIGJhY2tncm91bmQ6dmFyKC0tY29sLWJ0bi1taWQpO1xcbn1cXG5cXG5idXR0b246aG92ZXIge1xcbiAgYmFja2dyb3VuZDp2YXIoLS1jb2wtYnRuLWxpZ2h0KTtcXG59XFxuXFxuYnV0dG9uOmZvY3VzIHtcXG4gIG91dGxpbmU6bm9uZTtcXG4gIGJvcmRlcjpub25lO1xcbiAgYm9yZGVyLXRvcDogNHB4IHNvbGlkIHZhcigtLWNvbC1idG4tZGFyayk7XFxuICBiYWNrZ3JvdW5kOnZhcigtLWNvbC1idG4tZGFyayk7XFxufVxcblxcbmZvcm0+YnV0dG9uIHtcXG4gIG1hcmdpbi10b3A6LjdlbTtcXG59XFxuXFxuYTp2aXNpdGVkLCBhOmxpbmsge1xcbiAgY29sb3I6dmFyKC0tY29sLWxpZ2h0KTtcXG59XFxuXFxuYiB7XFxuICBmb250LXdlaWdodDpib2xkO1xcbn1cXG5cXG4uY2VudGVyLWNoaWxkcmVuIHtcXG4gIGRpc3BsYXk6ZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbn1cXG5cXG4uaGlkZGVuIHtcXG4gIGRpc3BsYXk6bm9uZTtcXG59XFxuXFxuLmNhcmQge1xcbiAgcG9zaXRpb246cmVsYXRpdmU7XFxuICBjb2xvcjogdmFyKC0tY29sLWRhcmtlc3QpO1xcbiAgbWFyZ2luOiBjYWxjKHZhcigtLWNhcmQtc2NhbGUpKjIpIHZhcigtLWNhcmQtc2NhbGUpO1xcbiAgcGFkZGluZzogdmFyKC0tY2FyZC1zY2FsZSk7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2wtbGlnaHQpO1xcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tY2FyZC1zY2FsZSk7XFxuICBib3gtc2hhZG93OiAxLjVweCAxLjVweCBjYWxjKHZhcigtLWNhcmQtc2NhbGUpICogLjcpIHZhcigtLWNvbC1iYXNlLWRhcmspO1xcbn1cXG5cXG4uY2FyZC5zZW1pLXRyYW5zcGFyZW50IHtcXG4gIGJhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwuNSk7XFxufVxcblxcbi5jYXJkLmxpYnJhcnktaGVhZGVyIHtcXG4gIGRpc3BsYXk6bm9uZTsgLyogT25seSB2aXNpYmxlIGlmIHNjcmVlbiB3aWR0aCA+IG1vYmlsZSAqL1xcbn1cXG5cXG4uYm9vayB7XFxuICBkaXNwbGF5OmZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjpjb2x1bW47XFxufVxcblxcbi5ib29rLXByb3Age1xcbiAgbWFyZ2luLXJpZ2h0OjJlbTtcXG4gIHBhZGRpbmc6LjNlbSAwO1xcbn1cXG5cXG4uYm9vay1wcm9wLmJvb2stdGl0bGUge1xcbiAgZm9udC13ZWlnaHQ6Ym9sZDtcXG59XFxuLmJvb2stcHJvcC5ib29rLXRpdGxlOjphZnRlciB7XFxuICBjb250ZW50OlxcXCJcXFwiO1xcbiAgZGlzcGxheTpibG9jaztcXG4gIGJvcmRlci10b3A6IHNvbGlkIDFweCB2YXIoLS1jb2wtYmFzZS1kYXJrKTsgXFxufVxcbi5ib29rLXByb3AuYm9vay1hdXRob3I6OmJlZm9yZSB7XFxuICBjb250ZW50OidieSAnO1xcbn1cXG4uYm9vay1wcm9wLmJvb2stcGFnZUNvdW50OjphZnRlciB7XFxuICBjb250ZW50OicgcGFnZXMnO1xcbn1cXG5cXG4uY29udGFpbmVyLWZvb3Qge1xcbiAgbWFyZ2luLWxlZnQ6LjNlbTtcXG59XFxuXFxuLyogKiBNT0RBTCAqL1xcbi5tb2RhbC1iZyB7XFxuICBwb3NpdGlvbjpmaXhlZDtcXG4gIHotaW5kZXg6MTA7XFxuICBsZWZ0OjA7XFxuICB0b3A6MDtcXG4gIHdpZHRoOjEwMCU7XFxuICBoZWlnaHQ6MTAwJTtcXG4gIG92ZXJmbG93OmF1dG87XFxuICBiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjIpO1xcbn1cXG5cXG4ubW9kYWwge1xcbiAgLyogY2VudGVyICovXFxuICB6LWluZGV4OiAxMTtcXG4gIHBvc2l0aW9uOmZpeGVkO1xcbiAgdG9wOjUwJTtcXG4gIGxlZnQ6NTAlO1xcbiAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO1xcblxcbiAgYm94LXNpemluZzpib3JkZXItYm94O1xcbiAgd2lkdGg6Zml0LWNvbnRlbnQ7XFxuICBtYXgtd2lkdGg6OTUlO1xcbiAgcGFkZGluZzogLjdlbTtcXG4gIHBhZGRpbmctYm90dG9tOjA7XFxuICBtYXJnaW46IDA7XFxuXFxuICBmb250LXNpemU6IDE1MCU7XFxufVxcblxcbi5tb2RhbCA+IHAge1xcbiAgcGFkZGluZy1yaWdodDoyZW07XFxufVxcblxcbi5mb3JtLWl0ZW0ge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG4gIG1hcmdpbjogLjVlbSAuMmVtO1xcbiAgcG9zaXRpb246cmVsYXRpdmU7XFxufVxcblxcbi5mb3JtLWl0ZW0gPiBsYWJlbCB7XFxuICBwYWRkaW5nLXJpZ2h0Oi40ZW07XFxufVxcblxcbi5jbG9zZS1idG4ge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IDA7XFxuICB0b3A6IDA7XFxuICB3aWR0aDogMS41ZW07XFxuICBoZWlnaHQ6IDEuNWVtO1xcbiAgbWFyZ2luOi4zZW07XFxuICBiYWNrZ3JvdW5kOiByZWQ7XFxuICBib3JkZXItcmFkaXVzOjUwJTtcXG4gIGNvbnRlbnQ6IHVybCguLi9pbWdzL3gtaWNvbi5zdmcpO1xcbiAgdXNlci1zZWxlY3Q6bm9uZTtcXG59XFxuXFxuLmNsb3NlLWJ0bjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kOnJnYigyNTUsIDkzLCAxNDIpO1xcbiAgdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7XFxuICB0cmFuc2l0aW9uOi4zcztcXG59XFxuXFxuLnN3aXRjaCB7XFxuICBwb3NpdGlvbjpyZWxhdGl2ZTtcXG4gIGRpc3BsYXk6ZmxleDtcXG4gIGFsaWduLWl0ZW1zOmNlbnRlcjtcXG59XFxuXFxuLnN3aXRjaCBpbnB1dCB7XFxuICBkaXNwbGF5Om5vbmU7XFxufVxcblxcbi5zd2l0Y2gtbGFiZWwge1xcbiAgcGFkZGluZy1yaWdodDogMWVtO1xcbn1cXG4uc3dpdGNoLXNwYW4ge1xcbiAgYmFja2dyb3VuZDp2YXIoLS1jb2wtYmFzZS1kYXJrKTtcXG4gIHdpZHRoOjEuN2VtO1xcbiAgaGVpZ2h0OjFlbTtcXG4gIGJvcmRlci1yYWRpdXM6LjVlbTtcXG59XFxuXFxuLnN3aXRjaC1zcGFuOjpiZWZvcmUge1xcbiAgcG9zaXRpb246YWJzb2x1dGU7XFxuICBib3gtc2l6aW5nOmJvcmRlci1ib3g7XFxuICBjb250ZW50OlxcXCJcXFwiO1xcbiAgaGVpZ2h0OiAxZW07XFxuICB3aWR0aDogMWVtO1xcbiAgYm9yZGVyOiAuMTVlbSBzb2xpZCB2YXIoLS1jb2wtYmFzZS1kYXJrKTtcXG4gIGJvcmRlci1yYWRpdXM6NTAlO1xcbiAgYmFja2dyb3VuZDp2YXIoLS1jb2wtYmFzZS1saWdodCk7XFxuICB0cmFuc2l0aW9uOiAuMXM7XFxufVxcblxcbmlucHV0OmNoZWNrZWQgKyAuc3dpdGNoLXNwYW46OmJlZm9yZSB7XFxuICB0cmFuc2Zvcm06dHJhbnNsYXRlWCguN2VtKTtcXG4gIGJhY2tncm91bmQ6bGlnaHRncmVlbjtcXG4gIGJvcmRlci1jb2xvcjogZ3JlZW47XFxufVxcblxcbmlucHV0OmNoZWNrZWQgKyAuc3dpdGNoLXNwYW4ge1xcbiAgYmFja2dyb3VuZDogZ3JlZW47XFxufVxcblxcbmlucHV0W3R5cGU9J3RleHQnXSwgaW5wdXRbdHlwZT0nbnVtYmVyJ10ge1xcbiAgYXBwZWFyYW5jZTpub25lO1xcbiAgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1jb2wtZGFya2VzdCk7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxufVxcblxcbi52YWxpZGF0aW9uLWZhaWxlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOnJlZDtcXG4gIGFuaW1hdGlvbi1uYW1lOiBhbmltLWZhZGU7XFxuICBhbmltYXRpb24tZHVyYXRpb246IDNzO1xcbn1cXG5cXG4uY2FyZC5mb3JtLXZhbGlkYXRpb24tZXJyb3Ige1xcbiAgei1pbmRleDoxNTtcXG4gIGJveC1zaXppbmc6Ym9yZGVyLWJveDtcXG4gIHBvc2l0aW9uOmFic29sdXRlO1xcbiAgdG9wOjEuNmVtO1xcbiAgcmlnaHQ6MDtcXG4gIG1hcmdpbjowO1xcbiAgYmFja2dyb3VuZDpyZ2IoMjQzLCAxNzQsIDE3NCk7XFxuICBmb250LXNpemU6LjdlbTtcXG59XFxuXFxuQGtleWZyYW1lcyBhbmltLWZhZGUge1xcbiAgMCUgeyBiYWNrZ3JvdW5kLWNvbG9yOnJlZDsgfVxcbiAgMTAwJSB7IGJhY2tncm91bmQtY29sb3I6IHdoaXRlOyB9XFxufVxcblxcbkBtZWRpYSAobWluLXdpZHRoOjM1ZW0pIHtcXG4gIGgxIHtcXG4gICAgZm9udC1zaXplOjMuNmVtO1xcbiAgfVxcbiAgLmJvb2sge1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDZmciA1ZnIgM2ZyIDRmcjtcXG4gIH1cXG4gIC5jYXJkLmxpYnJhcnktaGVhZGVyIHtcXG4gICAgZGlzcGxheTpncmlkO1xcbiAgICBmb250LXdlaWdodDogYm9sZDtcXG4gIH1cXG4gIC5jbG9zZS1idG4ge1xcbiAgICB0b3A6IDA7XFxuICB9XFxuXFxuICAuYm9vay1wcm9wLmJvb2stYXV0aG9yOjpiZWZvcmUge1xcbiAgICBjb250ZW50OicnO1xcbiAgfVxcblxcbiAgLmJvb2stcHJvcC5ib29rLXBhZ2VDb3VudDo6YWZ0ZXIge1xcbiAgICBjb250ZW50OicnO1xcbiAgfVxcblxcbiAgLmJvb2stcHJvcC5ib29rLXRpdGxlIHtcXG4gICAgZm9udC13ZWlnaHQ6bm9ybWFsO1xcbiAgfVxcblxcbiAgLmJvb2stcHJvcC5ib29rLXRpdGxlOjphZnRlciB7XFxuICAgIGRpc3BsYXk6bm9uZTsgXFxuICB9XFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSkge1xuICB2YXIgX2l0ZW0gPSBfc2xpY2VkVG9BcnJheShpdGVtLCA0KSxcbiAgICAgIGNvbnRlbnQgPSBfaXRlbVsxXSxcbiAgICAgIGNzc01hcHBpbmcgPSBfaXRlbVszXTtcblxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCBcIlwiKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIG9wdGlvbnMgPSB7fTtcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGUsIG5vLXBhcmFtLXJlYXNzaWduXG5cblxuICB1cmwgPSB1cmwgJiYgdXJsLl9fZXNNb2R1bGUgPyB1cmwuZGVmYXVsdCA6IHVybDtcblxuICBpZiAodHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB1cmw7XG4gIH0gLy8gSWYgdXJsIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBxdW90ZXMsIHJlbW92ZSB0aGVtXG5cblxuICBpZiAoL15bJ1wiXS4qWydcIl0kLy50ZXN0KHVybCkpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB1cmwgPSB1cmwuc2xpY2UoMSwgLTEpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHVybCArPSBvcHRpb25zLmhhc2g7XG4gIH0gLy8gU2hvdWxkIHVybCBiZSB3cmFwcGVkP1xuICAvLyBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy12YWx1ZXMtMy8jdXJsc1xuXG5cbiAgaWYgKC9bXCInKCkgXFx0XFxuXS8udGVzdCh1cmwpIHx8IG9wdGlvbnMubmVlZFF1b3Rlcykge1xuICAgIHJldHVybiBcIlxcXCJcIi5jb25jYXQodXJsLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKS5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKSwgXCJcXFwiXCIpO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07IiwiaW1wb3J0IGZpcmViYXNlIGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuXG52YXIgbmFtZSA9IFwiZmlyZWJhc2VcIjtcbnZhciB2ZXJzaW9uID0gXCI4LjQuMlwiO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5maXJlYmFzZS5yZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbiwgJ2FwcCcpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtLmpzLm1hcFxuIiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/ZShyZXF1aXJlKFwiQGZpcmViYXNlL2FwcFwiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJAZmlyZWJhc2UvYXBwXCJdLGUpOmUoKHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczp0fHxzZWxmKS5maXJlYmFzZSl9KHRoaXMsZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7dHJ5eyFmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcImRlZmF1bHRcImluIHQ/dDp7ZGVmYXVsdDp0fX12YXIgemw9dChlKTshZnVuY3Rpb24oKXt2YXIgdCxvPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbih0LGUsbil7dCE9QXJyYXkucHJvdG90eXBlJiZ0IT1PYmplY3QucHJvdG90eXBlJiYodFtlXT1uLnZhbHVlKX07dmFyIHU9ZnVuY3Rpb24odCl7dD1bXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93LFwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmLFwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWwmJmdsb2JhbCx0XTtmb3IodmFyIGU9MDtlPHQubGVuZ3RoOysrZSl7dmFyIG49dFtlXTtpZihuJiZuLk1hdGg9PU1hdGgpcmV0dXJuIG59cmV0dXJuIGdsb2JhbFRoaXN9KHRoaXMpO2Z1bmN0aW9uIGModCl7dmFyIGUsbixpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciYmdFtTeW1ib2wuaXRlcmF0b3JdO3JldHVybiBpP2kuY2FsbCh0KTp7bmV4dDooZT10LG49MCxmdW5jdGlvbigpe3JldHVybiBuPGUubGVuZ3RoP3tkb25lOiExLHZhbHVlOmVbbisrXX06e2RvbmU6ITB9fSl9fSFmdW5jdGlvbih0LGUpe2lmKGUpe3ZhciBuPXU7dD10LnNwbGl0KFwiLlwiKTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoLTE7aSsrKXt2YXIgcj10W2ldO3IgaW4gbnx8KG5bcl09e30pLG49bltyXX0oZT1lKGk9blt0PXRbdC5sZW5ndGgtMV1dKSkhPWkmJm51bGwhPWUmJm8obix0LHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0oXCJQcm9taXNlXCIsZnVuY3Rpb24odCl7ZnVuY3Rpb24gYSh0KXt0aGlzLmI9MCx0aGlzLmM9dm9pZCAwLHRoaXMuYT1bXTt2YXIgZT10aGlzLmYoKTt0cnl7dChlLnJlc29sdmUsZS5yZWplY3QpfWNhdGNoKHQpe2UucmVqZWN0KHQpfX1mdW5jdGlvbiBlKCl7dGhpcy5hPW51bGx9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShmdW5jdGlvbih0KXt0KGUpfSl9aWYodClyZXR1cm4gdDtlLnByb3RvdHlwZS5iPWZ1bmN0aW9uKHQpe3ZhciBlO251bGw9PXRoaXMuYSYmKHRoaXMuYT1bXSwoZT10aGlzKS5jKGZ1bmN0aW9uKCl7ZS5nKCl9KSksdGhpcy5hLnB1c2godCl9O3ZhciBuPXUuc2V0VGltZW91dDtlLnByb3RvdHlwZS5jPWZ1bmN0aW9uKHQpe24odCwwKX0sZS5wcm90b3R5cGUuZz1mdW5jdGlvbigpe2Zvcig7dGhpcy5hJiZ0aGlzLmEubGVuZ3RoOyl7dmFyIHQ9dGhpcy5hO3RoaXMuYT1bXTtmb3IodmFyIGU9MDtlPHQubGVuZ3RoOysrZSl7dmFyIG49dFtlXTt0W2VdPW51bGw7dHJ5e24oKX1jYXRjaCh0KXt0aGlzLmYodCl9fX10aGlzLmE9bnVsbH0sZS5wcm90b3R5cGUuZj1mdW5jdGlvbih0KXt0aGlzLmMoZnVuY3Rpb24oKXt0aHJvdyB0fSl9LGEucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3JldHVybiBmdW5jdGlvbih0KXtpfHwoaT0hMCxlLmNhbGwobix0KSl9fXZhciBuPXRoaXMsaT0hMTtyZXR1cm57cmVzb2x2ZTp0KHRoaXMubSkscmVqZWN0OnQodGhpcy5nKX19LGEucHJvdG90eXBlLm09ZnVuY3Rpb24odCl7aWYodD09PXRoaXMpdGhpcy5nKG5ldyBUeXBlRXJyb3IoXCJBIFByb21pc2UgY2Fubm90IHJlc29sdmUgdG8gaXRzZWxmXCIpKTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBhKXRoaXMucyh0KTtlbHNle3Q6c3dpdGNoKHR5cGVvZiB0KXtjYXNlXCJvYmplY3RcIjp2YXIgZT1udWxsIT10O2JyZWFrIHQ7Y2FzZVwiZnVuY3Rpb25cIjplPSEwO2JyZWFrIHQ7ZGVmYXVsdDplPSExfWU/dGhpcy52KHQpOnRoaXMuaCh0KX19LGEucHJvdG90eXBlLnY9ZnVuY3Rpb24odCl7dmFyIGU9dm9pZCAwO3RyeXtlPXQudGhlbn1jYXRjaCh0KXtyZXR1cm4gdm9pZCB0aGlzLmcodCl9XCJmdW5jdGlvblwiPT10eXBlb2YgZT90aGlzLnUoZSx0KTp0aGlzLmgodCl9LGEucHJvdG90eXBlLmc9ZnVuY3Rpb24odCl7dGhpcy5pKDIsdCl9LGEucHJvdG90eXBlLmg9ZnVuY3Rpb24odCl7dGhpcy5pKDEsdCl9LGEucHJvdG90eXBlLmk9ZnVuY3Rpb24odCxlKXtpZigwIT10aGlzLmIpdGhyb3cgRXJyb3IoXCJDYW5ub3Qgc2V0dGxlKFwiK3QrXCIsIFwiK2UrXCIpOiBQcm9taXNlIGFscmVhZHkgc2V0dGxlZCBpbiBzdGF0ZVwiK3RoaXMuYik7dGhpcy5iPXQsdGhpcy5jPWUsdGhpcy5sKCl9LGEucHJvdG90eXBlLmw9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmEpe2Zvcih2YXIgdD0wO3Q8dGhpcy5hLmxlbmd0aDsrK3Qpci5iKHRoaXMuYVt0XSk7dGhpcy5hPW51bGx9fTt2YXIgcj1uZXcgZTtyZXR1cm4gYS5wcm90b3R5cGUucz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmYoKTt0LlFhKGUucmVzb2x2ZSxlLnJlamVjdCl9LGEucHJvdG90eXBlLnU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmYoKTt0cnl7dC5jYWxsKGUsbi5yZXNvbHZlLG4ucmVqZWN0KX1jYXRjaCh0KXtuLnJlamVjdCh0KX19LGEucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZT9mdW5jdGlvbih0KXt0cnl7aShlKHQpKX1jYXRjaCh0KXtyKHQpfX06dH12YXIgaSxyLG89bmV3IGEoZnVuY3Rpb24odCxlKXtpPXQscj1lfSk7cmV0dXJuIHRoaXMuUWEobih0LGkpLG4oZSxyKSksb30sYS5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsdCl9LGEucHJvdG90eXBlLlFhPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3N3aXRjaChpLmIpe2Nhc2UgMTp0KGkuYyk7YnJlYWs7Y2FzZSAyOmUoaS5jKTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5leHBlY3RlZCBzdGF0ZTogXCIraS5iKX19dmFyIGk9dGhpcztudWxsPT10aGlzLmE/ci5iKG4pOnRoaXMuYS5wdXNoKG4pfSxhLnJlc29sdmU9cyxhLnJlamVjdD1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IGEoZnVuY3Rpb24odCxlKXtlKG4pfSl9LGEucmFjZT1mdW5jdGlvbihyKXtyZXR1cm4gbmV3IGEoZnVuY3Rpb24odCxlKXtmb3IodmFyIG49YyhyKSxpPW4ubmV4dCgpOyFpLmRvbmU7aT1uLm5leHQoKSlzKGkudmFsdWUpLlFhKHQsZSl9KX0sYS5hbGw9ZnVuY3Rpb24odCl7dmFyIGU9Yyh0KSxvPWUubmV4dCgpO3JldHVybiBvLmRvbmU/cyhbXSk6bmV3IGEoZnVuY3Rpb24obix0KXtmb3IodmFyIGk9W10scj0wO2kucHVzaCh2b2lkIDApLHIrKyxzKG8udmFsdWUpLlFhKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtpW2VdPXQsMD09LS1yJiZuKGkpfX0oaS5sZW5ndGgtMSksdCksbz1lLm5leHQoKSwhby5kb25lOyk7fSl9LGF9KTt2YXIgaD1ofHx7fSxsPXRoaXN8fHNlbGYsZT0vXltcXHcrL18tXStbPV17MCwyfSQvLHM9bnVsbDtmdW5jdGlvbiBmKHQpe3JldHVybih0PXQucXVlcnlTZWxlY3RvciYmdC5xdWVyeVNlbGVjdG9yKFwic2NyaXB0W25vbmNlXVwiKSkmJih0PXQubm9uY2V8fHQuZ2V0QXR0cmlidXRlKFwibm9uY2VcIikpJiZlLnRlc3QodCk/dDpcIlwifWZ1bmN0aW9uIGEoKXt9ZnVuY3Rpb24gZCh0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm5cIm9iamVjdFwiIT1lP2U6dD9BcnJheS5pc0FycmF5KHQpP1wiYXJyYXlcIjplOlwibnVsbFwifWZ1bmN0aW9uIHAodCl7dmFyIGU9ZCh0KTtyZXR1cm5cImFycmF5XCI9PWV8fFwib2JqZWN0XCI9PWUmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aH1mdW5jdGlvbiB2KHQpe3JldHVyblwiZnVuY3Rpb25cIj09ZCh0KX1mdW5jdGlvbiBtKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVyblwib2JqZWN0XCI9PWUmJm51bGwhPXR8fFwiZnVuY3Rpb25cIj09ZX12YXIgbj1cImNsb3N1cmVfdWlkX1wiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApLGk9MDtmdW5jdGlvbiByKHQsZSxuKXtyZXR1cm4gdC5jYWxsLmFwcGx5KHQuYmluZCxhcmd1bWVudHMpfWZ1bmN0aW9uIGcoZSxuLHQpe2lmKCFlKXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkodCxpKSxlLmFwcGx5KG4sdCl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KG4sYXJndW1lbnRzKX19ZnVuY3Rpb24gYih0LGUsbil7cmV0dXJuKGI9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJi0xIT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoXCJuYXRpdmUgY29kZVwiKT9yOmcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiB5KGUpe3ZhciBuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1uLnNsaWNlKCk7cmV0dXJuIHQucHVzaC5hcHBseSh0LGFyZ3VtZW50cyksZS5hcHBseSh0aGlzLHQpfX1mdW5jdGlvbiB3KHQsZSl7ZnVuY3Rpb24gbigpe31uLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LmFiPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXR9ZnVuY3Rpb24gSSh0KXtyZXR1cm4gdH1mdW5jdGlvbiBUKHQsZSxuKXt0aGlzLmNvZGU9ayt0LHRoaXMubWVzc2FnZT1lfHxTW3RdfHxcIlwiLHRoaXMuYT1ufHxudWxsfWZ1bmN0aW9uIEUodCl7dmFyIGU9dCYmdC5jb2RlO3JldHVybiBlP25ldyBUKGUuc3Vic3RyaW5nKGsubGVuZ3RoKSx0Lm1lc3NhZ2UsdC5zZXJ2ZXJSZXNwb25zZSk6bnVsbH13KFQsRXJyb3IpLFQucHJvdG90eXBlLnc9ZnVuY3Rpb24oKXt2YXIgdD17Y29kZTp0aGlzLmNvZGUsbWVzc2FnZTp0aGlzLm1lc3NhZ2V9O3JldHVybiB0aGlzLmEmJih0LnNlcnZlclJlc3BvbnNlPXRoaXMuYSksdH0sVC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudygpfTt2YXIgQSxrPVwiYXV0aC9cIixTPXtcImFkbWluLXJlc3RyaWN0ZWQtb3BlcmF0aW9uXCI6XCJUaGlzIG9wZXJhdGlvbiBpcyByZXN0cmljdGVkIHRvIGFkbWluaXN0cmF0b3JzIG9ubHkuXCIsXCJhcmd1bWVudC1lcnJvclwiOlwiXCIsXCJhcHAtbm90LWF1dGhvcml6ZWRcIjpcIlRoaXMgYXBwLCBpZGVudGlmaWVkIGJ5IHRoZSBkb21haW4gd2hlcmUgaXQncyBob3N0ZWQsIGlzIG5vdCBhdXRob3JpemVkIHRvIHVzZSBGaXJlYmFzZSBBdXRoZW50aWNhdGlvbiB3aXRoIHRoZSBwcm92aWRlZCBBUEkga2V5LiBSZXZpZXcgeW91ciBrZXkgY29uZmlndXJhdGlvbiBpbiB0aGUgR29vZ2xlIEFQSSBjb25zb2xlLlwiLFwiYXBwLW5vdC1pbnN0YWxsZWRcIjpcIlRoZSByZXF1ZXN0ZWQgbW9iaWxlIGFwcGxpY2F0aW9uIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGlkZW50aWZpZXIgKEFuZHJvaWQgcGFja2FnZSBuYW1lIG9yIGlPUyBidW5kbGUgSUQpIHByb3ZpZGVkIGlzIG5vdCBpbnN0YWxsZWQgb24gdGhpcyBkZXZpY2UuXCIsXCJjYXB0Y2hhLWNoZWNrLWZhaWxlZFwiOlwiVGhlIHJlQ0FQVENIQSByZXNwb25zZSB0b2tlbiBwcm92aWRlZCBpcyBlaXRoZXIgaW52YWxpZCwgZXhwaXJlZCwgYWxyZWFkeSB1c2VkIG9yIHRoZSBkb21haW4gYXNzb2NpYXRlZCB3aXRoIGl0IGRvZXMgbm90IG1hdGNoIHRoZSBsaXN0IG9mIHdoaXRlbGlzdGVkIGRvbWFpbnMuXCIsXCJjb2RlLWV4cGlyZWRcIjpcIlRoZSBTTVMgY29kZSBoYXMgZXhwaXJlZC4gUGxlYXNlIHJlLXNlbmQgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIHRvIHRyeSBhZ2Fpbi5cIixcImNvcmRvdmEtbm90LXJlYWR5XCI6XCJDb3Jkb3ZhIGZyYW1ld29yayBpcyBub3QgcmVhZHkuXCIsXCJjb3JzLXVuc3VwcG9ydGVkXCI6XCJUaGlzIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZC5cIixcImNyZWRlbnRpYWwtYWxyZWFkeS1pbi11c2VcIjpcIlRoaXMgY3JlZGVudGlhbCBpcyBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCBhIGRpZmZlcmVudCB1c2VyIGFjY291bnQuXCIsXCJjdXN0b20tdG9rZW4tbWlzbWF0Y2hcIjpcIlRoZSBjdXN0b20gdG9rZW4gY29ycmVzcG9uZHMgdG8gYSBkaWZmZXJlbnQgYXVkaWVuY2UuXCIsXCJyZXF1aXJlcy1yZWNlbnQtbG9naW5cIjpcIlRoaXMgb3BlcmF0aW9uIGlzIHNlbnNpdGl2ZSBhbmQgcmVxdWlyZXMgcmVjZW50IGF1dGhlbnRpY2F0aW9uLiBMb2cgaW4gYWdhaW4gYmVmb3JlIHJldHJ5aW5nIHRoaXMgcmVxdWVzdC5cIixcImR5bmFtaWMtbGluay1ub3QtYWN0aXZhdGVkXCI6XCJQbGVhc2UgYWN0aXZhdGUgRHluYW1pYyBMaW5rcyBpbiB0aGUgRmlyZWJhc2UgQ29uc29sZSBhbmQgYWdyZWUgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zLlwiLFwiZW1haWwtY2hhbmdlLW5lZWRzLXZlcmlmaWNhdGlvblwiOlwiTXVsdGktZmFjdG9yIHVzZXJzIG11c3QgYWx3YXlzIGhhdmUgYSB2ZXJpZmllZCBlbWFpbC5cIixcImVtYWlsLWFscmVhZHktaW4tdXNlXCI6XCJUaGUgZW1haWwgYWRkcmVzcyBpcyBhbHJlYWR5IGluIHVzZSBieSBhbm90aGVyIGFjY291bnQuXCIsXCJleHBpcmVkLWFjdGlvbi1jb2RlXCI6XCJUaGUgYWN0aW9uIGNvZGUgaGFzIGV4cGlyZWQuIFwiLFwiY2FuY2VsbGVkLXBvcHVwLXJlcXVlc3RcIjpcIlRoaXMgb3BlcmF0aW9uIGhhcyBiZWVuIGNhbmNlbGxlZCBkdWUgdG8gYW5vdGhlciBjb25mbGljdGluZyBwb3B1cCBiZWluZyBvcGVuZWQuXCIsXCJpbnRlcm5hbC1lcnJvclwiOlwiQW4gaW50ZXJuYWwgZXJyb3IgaGFzIG9jY3VycmVkLlwiLFwiaW52YWxpZC1hcHAtY3JlZGVudGlhbFwiOlwiVGhlIHBob25lIHZlcmlmaWNhdGlvbiByZXF1ZXN0IGNvbnRhaW5zIGFuIGludmFsaWQgYXBwbGljYXRpb24gdmVyaWZpZXIuIFRoZSByZUNBUFRDSEEgdG9rZW4gcmVzcG9uc2UgaXMgZWl0aGVyIGludmFsaWQgb3IgZXhwaXJlZC5cIixcImludmFsaWQtYXBwLWlkXCI6XCJUaGUgbW9iaWxlIGFwcCBpZGVudGlmaWVyIGlzIG5vdCByZWdpc3RlZCBmb3IgdGhlIGN1cnJlbnQgcHJvamVjdC5cIixcImludmFsaWQtdXNlci10b2tlblwiOlwiVGhpcyB1c2VyJ3MgY3JlZGVudGlhbCBpc24ndCB2YWxpZCBmb3IgdGhpcyBwcm9qZWN0LiBUaGlzIGNhbiBoYXBwZW4gaWYgdGhlIHVzZXIncyB0b2tlbiBoYXMgYmVlbiB0YW1wZXJlZCB3aXRoLCBvciBpZiB0aGUgdXNlciBpc24ndCBmb3IgdGhlIHByb2plY3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgQVBJIGtleS5cIixcImludmFsaWQtYXV0aC1ldmVudFwiOlwiQW4gaW50ZXJuYWwgZXJyb3IgaGFzIG9jY3VycmVkLlwiLFwiaW52YWxpZC12ZXJpZmljYXRpb24tY29kZVwiOlwiVGhlIFNNUyB2ZXJpZmljYXRpb24gY29kZSB1c2VkIHRvIGNyZWF0ZSB0aGUgcGhvbmUgYXV0aCBjcmVkZW50aWFsIGlzIGludmFsaWQuIFBsZWFzZSByZXNlbmQgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIHNtcyBhbmQgYmUgc3VyZSB1c2UgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIHByb3ZpZGVkIGJ5IHRoZSB1c2VyLlwiLFwiaW52YWxpZC1jb250aW51ZS11cmlcIjpcIlRoZSBjb250aW51ZSBVUkwgcHJvdmlkZWQgaW4gdGhlIHJlcXVlc3QgaXMgaW52YWxpZC5cIixcImludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uXCI6XCJUaGUgZm9sbG93aW5nIENvcmRvdmEgcGx1Z2lucyBtdXN0IGJlIGluc3RhbGxlZCB0byBlbmFibGUgT0F1dGggc2lnbi1pbjogY29yZG92YS1wbHVnaW4tYnVpbGRpbmZvLCBjb3Jkb3ZhLXVuaXZlcnNhbC1saW5rcy1wbHVnaW4sIGNvcmRvdmEtcGx1Z2luLWJyb3dzZXJ0YWIsIGNvcmRvdmEtcGx1Z2luLWluYXBwYnJvd3NlciBhbmQgY29yZG92YS1wbHVnaW4tY3VzdG9tdXJsc2NoZW1lLlwiLFwiaW52YWxpZC1jdXN0b20tdG9rZW5cIjpcIlRoZSBjdXN0b20gdG9rZW4gZm9ybWF0IGlzIGluY29ycmVjdC4gUGxlYXNlIGNoZWNrIHRoZSBkb2N1bWVudGF0aW9uLlwiLFwiaW52YWxpZC1keW5hbWljLWxpbmstZG9tYWluXCI6XCJUaGUgcHJvdmlkZWQgZHluYW1pYyBsaW5rIGRvbWFpbiBpcyBub3QgY29uZmlndXJlZCBvciBhdXRob3JpemVkIGZvciB0aGUgY3VycmVudCBwcm9qZWN0LlwiLFwiaW52YWxpZC1lbWFpbFwiOlwiVGhlIGVtYWlsIGFkZHJlc3MgaXMgYmFkbHkgZm9ybWF0dGVkLlwiLFwiaW52YWxpZC1hcGkta2V5XCI6XCJZb3VyIEFQSSBrZXkgaXMgaW52YWxpZCwgcGxlYXNlIGNoZWNrIHlvdSBoYXZlIGNvcGllZCBpdCBjb3JyZWN0bHkuXCIsXCJpbnZhbGlkLWNlcnQtaGFzaFwiOlwiVGhlIFNIQS0xIGNlcnRpZmljYXRlIGhhc2ggcHJvdmlkZWQgaXMgaW52YWxpZC5cIixcImludmFsaWQtY3JlZGVudGlhbFwiOlwiVGhlIHN1cHBsaWVkIGF1dGggY3JlZGVudGlhbCBpcyBtYWxmb3JtZWQgb3IgaGFzIGV4cGlyZWQuXCIsXCJpbnZhbGlkLW1lc3NhZ2UtcGF5bG9hZFwiOlwiVGhlIGVtYWlsIHRlbXBsYXRlIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBhY3Rpb24gY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIGluIGl0cyBtZXNzYWdlLiBQbGVhc2UgZml4IGJ5IGdvaW5nIHRvIHRoZSBBdXRoIGVtYWlsIHRlbXBsYXRlcyBzZWN0aW9uIGluIHRoZSBGaXJlYmFzZSBDb25zb2xlLlwiLFwiaW52YWxpZC1tdWx0aS1mYWN0b3Itc2Vzc2lvblwiOlwiVGhlIHJlcXVlc3QgZG9lcyBub3QgY29udGFpbiBhIHZhbGlkIHByb29mIG9mIGZpcnN0IGZhY3RvciBzdWNjZXNzZnVsIHNpZ24taW4uXCIsXCJpbnZhbGlkLW9hdXRoLXByb3ZpZGVyXCI6XCJFbWFpbEF1dGhQcm92aWRlciBpcyBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIG9wZXJhdGlvbi4gVGhpcyBvcGVyYXRpb24gb25seSBzdXBwb3J0cyBPQXV0aCBwcm92aWRlcnMuXCIsXCJpbnZhbGlkLW9hdXRoLWNsaWVudC1pZFwiOlwiVGhlIE9BdXRoIGNsaWVudCBJRCBwcm92aWRlZCBpcyBlaXRoZXIgaW52YWxpZCBvciBkb2VzIG5vdCBtYXRjaCB0aGUgc3BlY2lmaWVkIEFQSSBrZXkuXCIsXCJ1bmF1dGhvcml6ZWQtZG9tYWluXCI6XCJUaGlzIGRvbWFpbiBpcyBub3QgYXV0aG9yaXplZCBmb3IgT0F1dGggb3BlcmF0aW9ucyBmb3IgeW91ciBGaXJlYmFzZSBwcm9qZWN0LiBFZGl0IHRoZSBsaXN0IG9mIGF1dGhvcml6ZWQgZG9tYWlucyBmcm9tIHRoZSBGaXJlYmFzZSBjb25zb2xlLlwiLFwiaW52YWxpZC1hY3Rpb24tY29kZVwiOlwiVGhlIGFjdGlvbiBjb2RlIGlzIGludmFsaWQuIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgY29kZSBpcyBtYWxmb3JtZWQsIGV4cGlyZWQsIG9yIGhhcyBhbHJlYWR5IGJlZW4gdXNlZC5cIixcIndyb25nLXBhc3N3b3JkXCI6XCJUaGUgcGFzc3dvcmQgaXMgaW52YWxpZCBvciB0aGUgdXNlciBkb2VzIG5vdCBoYXZlIGEgcGFzc3dvcmQuXCIsXCJpbnZhbGlkLXBlcnNpc3RlbmNlLXR5cGVcIjpcIlRoZSBzcGVjaWZpZWQgcGVyc2lzdGVuY2UgdHlwZSBpcyBpbnZhbGlkLiBJdCBjYW4gb25seSBiZSBsb2NhbCwgc2Vzc2lvbiBvciBub25lLlwiLFwiaW52YWxpZC1waG9uZS1udW1iZXJcIjpcIlRoZSBmb3JtYXQgb2YgdGhlIHBob25lIG51bWJlciBwcm92aWRlZCBpcyBpbmNvcnJlY3QuIFBsZWFzZSBlbnRlciB0aGUgcGhvbmUgbnVtYmVyIGluIGEgZm9ybWF0IHRoYXQgY2FuIGJlIHBhcnNlZCBpbnRvIEUuMTY0IGZvcm1hdC4gRS4xNjQgcGhvbmUgbnVtYmVycyBhcmUgd3JpdHRlbiBpbiB0aGUgZm9ybWF0IFsrXVtjb3VudHJ5IGNvZGVdW3N1YnNjcmliZXIgbnVtYmVyIGluY2x1ZGluZyBhcmVhIGNvZGVdLlwiLFwiaW52YWxpZC1wcm92aWRlci1pZFwiOlwiVGhlIHNwZWNpZmllZCBwcm92aWRlciBJRCBpcyBpbnZhbGlkLlwiLFwiaW52YWxpZC1yZWNpcGllbnQtZW1haWxcIjpcIlRoZSBlbWFpbCBjb3JyZXNwb25kaW5nIHRvIHRoaXMgYWN0aW9uIGZhaWxlZCB0byBzZW5kIGFzIHRoZSBwcm92aWRlZCByZWNpcGllbnQgZW1haWwgYWRkcmVzcyBpcyBpbnZhbGlkLlwiLFwiaW52YWxpZC1zZW5kZXJcIjpcIlRoZSBlbWFpbCB0ZW1wbGF0ZSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgYWN0aW9uIGNvbnRhaW5zIGFuIGludmFsaWQgc2VuZGVyIGVtYWlsIG9yIG5hbWUuIFBsZWFzZSBmaXggYnkgZ29pbmcgdG8gdGhlIEF1dGggZW1haWwgdGVtcGxhdGVzIHNlY3Rpb24gaW4gdGhlIEZpcmViYXNlIENvbnNvbGUuXCIsXCJpbnZhbGlkLXZlcmlmaWNhdGlvbi1pZFwiOlwiVGhlIHZlcmlmaWNhdGlvbiBJRCB1c2VkIHRvIGNyZWF0ZSB0aGUgcGhvbmUgYXV0aCBjcmVkZW50aWFsIGlzIGludmFsaWQuXCIsXCJpbnZhbGlkLXRlbmFudC1pZFwiOlwiVGhlIEF1dGggaW5zdGFuY2UncyB0ZW5hbnQgSUQgaXMgaW52YWxpZC5cIixcIm11bHRpLWZhY3Rvci1pbmZvLW5vdC1mb3VuZFwiOlwiVGhlIHVzZXIgZG9lcyBub3QgaGF2ZSBhIHNlY29uZCBmYWN0b3IgbWF0Y2hpbmcgdGhlIGlkZW50aWZpZXIgcHJvdmlkZWQuXCIsXCJtdWx0aS1mYWN0b3ItYXV0aC1yZXF1aXJlZFwiOlwiUHJvb2Ygb2Ygb3duZXJzaGlwIG9mIGEgc2Vjb25kIGZhY3RvciBpcyByZXF1aXJlZCB0byBjb21wbGV0ZSBzaWduLWluLlwiLFwibWlzc2luZy1hbmRyb2lkLXBrZy1uYW1lXCI6XCJBbiBBbmRyb2lkIFBhY2thZ2UgTmFtZSBtdXN0IGJlIHByb3ZpZGVkIGlmIHRoZSBBbmRyb2lkIEFwcCBpcyByZXF1aXJlZCB0byBiZSBpbnN0YWxsZWQuXCIsXCJhdXRoLWRvbWFpbi1jb25maWctcmVxdWlyZWRcIjpcIkJlIHN1cmUgdG8gaW5jbHVkZSBhdXRoRG9tYWluIHdoZW4gY2FsbGluZyBmaXJlYmFzZS5pbml0aWFsaXplQXBwKCksIGJ5IGZvbGxvd2luZyB0aGUgaW5zdHJ1Y3Rpb25zIGluIHRoZSBGaXJlYmFzZSBjb25zb2xlLlwiLFwibWlzc2luZy1hcHAtY3JlZGVudGlhbFwiOlwiVGhlIHBob25lIHZlcmlmaWNhdGlvbiByZXF1ZXN0IGlzIG1pc3NpbmcgYW4gYXBwbGljYXRpb24gdmVyaWZpZXIgYXNzZXJ0aW9uLiBBIHJlQ0FQVENIQSByZXNwb25zZSB0b2tlbiBuZWVkcyB0byBiZSBwcm92aWRlZC5cIixcIm1pc3NpbmctdmVyaWZpY2F0aW9uLWNvZGVcIjpcIlRoZSBwaG9uZSBhdXRoIGNyZWRlbnRpYWwgd2FzIGNyZWF0ZWQgd2l0aCBhbiBlbXB0eSBTTVMgdmVyaWZpY2F0aW9uIGNvZGUuXCIsXCJtaXNzaW5nLWNvbnRpbnVlLXVyaVwiOlwiQSBjb250aW51ZSBVUkwgbXVzdCBiZSBwcm92aWRlZCBpbiB0aGUgcmVxdWVzdC5cIixcIm1pc3NpbmctaWZyYW1lLXN0YXJ0XCI6XCJBbiBpbnRlcm5hbCBlcnJvciBoYXMgb2NjdXJyZWQuXCIsXCJtaXNzaW5nLWlvcy1idW5kbGUtaWRcIjpcIkFuIGlPUyBCdW5kbGUgSUQgbXVzdCBiZSBwcm92aWRlZCBpZiBhbiBBcHAgU3RvcmUgSUQgaXMgcHJvdmlkZWQuXCIsXCJtaXNzaW5nLW11bHRpLWZhY3Rvci1pbmZvXCI6XCJObyBzZWNvbmQgZmFjdG9yIGlkZW50aWZpZXIgaXMgcHJvdmlkZWQuXCIsXCJtaXNzaW5nLW11bHRpLWZhY3Rvci1zZXNzaW9uXCI6XCJUaGUgcmVxdWVzdCBpcyBtaXNzaW5nIHByb29mIG9mIGZpcnN0IGZhY3RvciBzdWNjZXNzZnVsIHNpZ24taW4uXCIsXCJtaXNzaW5nLW9yLWludmFsaWQtbm9uY2VcIjpcIlRoZSByZXF1ZXN0IGRvZXMgbm90IGNvbnRhaW4gYSB2YWxpZCBub25jZS4gVGhpcyBjYW4gb2NjdXIgaWYgdGhlIFNIQS0yNTYgaGFzaCBvZiB0aGUgcHJvdmlkZWQgcmF3IG5vbmNlIGRvZXMgbm90IG1hdGNoIHRoZSBoYXNoZWQgbm9uY2UgaW4gdGhlIElEIHRva2VuIHBheWxvYWQuXCIsXCJtaXNzaW5nLXBob25lLW51bWJlclwiOlwiVG8gc2VuZCB2ZXJpZmljYXRpb24gY29kZXMsIHByb3ZpZGUgYSBwaG9uZSBudW1iZXIgZm9yIHRoZSByZWNpcGllbnQuXCIsXCJtaXNzaW5nLXZlcmlmaWNhdGlvbi1pZFwiOlwiVGhlIHBob25lIGF1dGggY3JlZGVudGlhbCB3YXMgY3JlYXRlZCB3aXRoIGFuIGVtcHR5IHZlcmlmaWNhdGlvbiBJRC5cIixcImFwcC1kZWxldGVkXCI6XCJUaGlzIGluc3RhbmNlIG9mIEZpcmViYXNlQXBwIGhhcyBiZWVuIGRlbGV0ZWQuXCIsXCJhY2NvdW50LWV4aXN0cy13aXRoLWRpZmZlcmVudC1jcmVkZW50aWFsXCI6XCJBbiBhY2NvdW50IGFscmVhZHkgZXhpc3RzIHdpdGggdGhlIHNhbWUgZW1haWwgYWRkcmVzcyBidXQgZGlmZmVyZW50IHNpZ24taW4gY3JlZGVudGlhbHMuIFNpZ24gaW4gdXNpbmcgYSBwcm92aWRlciBhc3NvY2lhdGVkIHdpdGggdGhpcyBlbWFpbCBhZGRyZXNzLlwiLFwibmV0d29yay1yZXF1ZXN0LWZhaWxlZFwiOlwiQSBuZXR3b3JrIGVycm9yIChzdWNoIGFzIHRpbWVvdXQsIGludGVycnVwdGVkIGNvbm5lY3Rpb24gb3IgdW5yZWFjaGFibGUgaG9zdCkgaGFzIG9jY3VycmVkLlwiLFwibm8tYXV0aC1ldmVudFwiOlwiQW4gaW50ZXJuYWwgZXJyb3IgaGFzIG9jY3VycmVkLlwiLFwibm8tc3VjaC1wcm92aWRlclwiOlwiVXNlciB3YXMgbm90IGxpbmtlZCB0byBhbiBhY2NvdW50IHdpdGggdGhlIGdpdmVuIHByb3ZpZGVyLlwiLFwibnVsbC11c2VyXCI6XCJBIG51bGwgdXNlciBvYmplY3Qgd2FzIHByb3ZpZGVkIGFzIHRoZSBhcmd1bWVudCBmb3IgYW4gb3BlcmF0aW9uIHdoaWNoIHJlcXVpcmVzIGEgbm9uLW51bGwgdXNlciBvYmplY3QuXCIsXCJvcGVyYXRpb24tbm90LWFsbG93ZWRcIjpcIlRoZSBnaXZlbiBzaWduLWluIHByb3ZpZGVyIGlzIGRpc2FibGVkIGZvciB0aGlzIEZpcmViYXNlIHByb2plY3QuIEVuYWJsZSBpdCBpbiB0aGUgRmlyZWJhc2UgY29uc29sZSwgdW5kZXIgdGhlIHNpZ24taW4gbWV0aG9kIHRhYiBvZiB0aGUgQXV0aCBzZWN0aW9uLlwiLFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiOidUaGlzIG9wZXJhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBlbnZpcm9ubWVudCB0aGlzIGFwcGxpY2F0aW9uIGlzIHJ1bm5pbmcgb24uIFwibG9jYXRpb24ucHJvdG9jb2xcIiBtdXN0IGJlIGh0dHAsIGh0dHBzIG9yIGNocm9tZS1leHRlbnNpb24gYW5kIHdlYiBzdG9yYWdlIG11c3QgYmUgZW5hYmxlZC4nLFwicG9wdXAtYmxvY2tlZFwiOlwiVW5hYmxlIHRvIGVzdGFibGlzaCBhIGNvbm5lY3Rpb24gd2l0aCB0aGUgcG9wdXAuIEl0IG1heSBoYXZlIGJlZW4gYmxvY2tlZCBieSB0aGUgYnJvd3Nlci5cIixcInBvcHVwLWNsb3NlZC1ieS11c2VyXCI6XCJUaGUgcG9wdXAgaGFzIGJlZW4gY2xvc2VkIGJ5IHRoZSB1c2VyIGJlZm9yZSBmaW5hbGl6aW5nIHRoZSBvcGVyYXRpb24uXCIsXCJwcm92aWRlci1hbHJlYWR5LWxpbmtlZFwiOlwiVXNlciBjYW4gb25seSBiZSBsaW5rZWQgdG8gb25lIGlkZW50aXR5IGZvciB0aGUgZ2l2ZW4gcHJvdmlkZXIuXCIsXCJxdW90YS1leGNlZWRlZFwiOlwiVGhlIHByb2plY3QncyBxdW90YSBmb3IgdGhpcyBvcGVyYXRpb24gaGFzIGJlZW4gZXhjZWVkZWQuXCIsXCJyZWRpcmVjdC1jYW5jZWxsZWQtYnktdXNlclwiOlwiVGhlIHJlZGlyZWN0IG9wZXJhdGlvbiBoYXMgYmVlbiBjYW5jZWxsZWQgYnkgdGhlIHVzZXIgYmVmb3JlIGZpbmFsaXppbmcuXCIsXCJyZWRpcmVjdC1vcGVyYXRpb24tcGVuZGluZ1wiOlwiQSByZWRpcmVjdCBzaWduLWluIG9wZXJhdGlvbiBpcyBhbHJlYWR5IHBlbmRpbmcuXCIsXCJyZWplY3RlZC1jcmVkZW50aWFsXCI6XCJUaGUgcmVxdWVzdCBjb250YWlucyBtYWxmb3JtZWQgb3IgbWlzbWF0Y2hpbmcgY3JlZGVudGlhbHMuXCIsXCJzZWNvbmQtZmFjdG9yLWFscmVhZHktaW4tdXNlXCI6XCJUaGUgc2Vjb25kIGZhY3RvciBpcyBhbHJlYWR5IGVucm9sbGVkIG9uIHRoaXMgYWNjb3VudC5cIixcIm1heGltdW0tc2Vjb25kLWZhY3Rvci1jb3VudC1leGNlZWRlZFwiOlwiVGhlIG1heGltdW0gYWxsb3dlZCBudW1iZXIgb2Ygc2Vjb25kIGZhY3RvcnMgb24gYSB1c2VyIGhhcyBiZWVuIGV4Y2VlZGVkLlwiLFwidGVuYW50LWlkLW1pc21hdGNoXCI6XCJUaGUgcHJvdmlkZWQgdGVuYW50IElEIGRvZXMgbm90IG1hdGNoIHRoZSBBdXRoIGluc3RhbmNlJ3MgdGVuYW50IElEXCIsdGltZW91dDpcIlRoZSBvcGVyYXRpb24gaGFzIHRpbWVkIG91dC5cIixcInVzZXItdG9rZW4tZXhwaXJlZFwiOlwiVGhlIHVzZXIncyBjcmVkZW50aWFsIGlzIG5vIGxvbmdlciB2YWxpZC4gVGhlIHVzZXIgbXVzdCBzaWduIGluIGFnYWluLlwiLFwidG9vLW1hbnktcmVxdWVzdHNcIjpcIldlIGhhdmUgYmxvY2tlZCBhbGwgcmVxdWVzdHMgZnJvbSB0aGlzIGRldmljZSBkdWUgdG8gdW51c3VhbCBhY3Rpdml0eS4gVHJ5IGFnYWluIGxhdGVyLlwiLFwidW5hdXRob3JpemVkLWNvbnRpbnVlLXVyaVwiOlwiVGhlIGRvbWFpbiBvZiB0aGUgY29udGludWUgVVJMIGlzIG5vdCB3aGl0ZWxpc3RlZC4gIFBsZWFzZSB3aGl0ZWxpc3QgdGhlIGRvbWFpbiBpbiB0aGUgRmlyZWJhc2UgY29uc29sZS5cIixcInVuc3VwcG9ydGVkLWZpcnN0LWZhY3RvclwiOlwiRW5yb2xsaW5nIGEgc2Vjb25kIGZhY3RvciBvciBzaWduaW5nIGluIHdpdGggYSBtdWx0aS1mYWN0b3IgYWNjb3VudCByZXF1aXJlcyBzaWduLWluIHdpdGggYSBzdXBwb3J0ZWQgZmlyc3QgZmFjdG9yLlwiLFwidW5zdXBwb3J0ZWQtcGVyc2lzdGVuY2UtdHlwZVwiOlwiVGhlIGN1cnJlbnQgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCB0aGUgc3BlY2lmaWVkIHBlcnNpc3RlbmNlIHR5cGUuXCIsXCJ1bnN1cHBvcnRlZC10ZW5hbnQtb3BlcmF0aW9uXCI6XCJUaGlzIG9wZXJhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIGEgbXVsdGktdGVuYW50IGNvbnRleHQuXCIsXCJ1bnZlcmlmaWVkLWVtYWlsXCI6XCJUaGUgb3BlcmF0aW9uIHJlcXVpcmVzIGEgdmVyaWZpZWQgZW1haWwuXCIsXCJ1c2VyLWNhbmNlbGxlZFwiOlwiVGhlIHVzZXIgZGlkIG5vdCBncmFudCB5b3VyIGFwcGxpY2F0aW9uIHRoZSBwZXJtaXNzaW9ucyBpdCByZXF1ZXN0ZWQuXCIsXCJ1c2VyLW5vdC1mb3VuZFwiOlwiVGhlcmUgaXMgbm8gdXNlciByZWNvcmQgY29ycmVzcG9uZGluZyB0byB0aGlzIGlkZW50aWZpZXIuIFRoZSB1c2VyIG1heSBoYXZlIGJlZW4gZGVsZXRlZC5cIixcInVzZXItZGlzYWJsZWRcIjpcIlRoZSB1c2VyIGFjY291bnQgaGFzIGJlZW4gZGlzYWJsZWQgYnkgYW4gYWRtaW5pc3RyYXRvci5cIixcInVzZXItbWlzbWF0Y2hcIjpcIlRoZSBzdXBwbGllZCBjcmVkZW50aWFscyBkbyBub3QgY29ycmVzcG9uZCB0byB0aGUgcHJldmlvdXNseSBzaWduZWQgaW4gdXNlci5cIixcInVzZXItc2lnbmVkLW91dFwiOlwiXCIsXCJ3ZWFrLXBhc3N3b3JkXCI6XCJUaGUgcGFzc3dvcmQgbXVzdCBiZSA2IGNoYXJhY3RlcnMgbG9uZyBvciBtb3JlLlwiLFwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWRcIjpcIlRoaXMgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkIG9yIDNyZCBwYXJ0eSBjb29raWVzIGFuZCBkYXRhIG1heSBiZSBkaXNhYmxlZC5cIn0sTj17bGQ6e1RhOlwiaHR0cHM6Ly9zdGFnaW5nLWlkZW50aXR5dG9vbGtpdC5zYW5kYm94Lmdvb2dsZWFwaXMuY29tL2lkZW50aXR5dG9vbGtpdC92My9yZWx5aW5ncGFydHkvXCIsWmE6XCJodHRwczovL3N0YWdpbmctc2VjdXJldG9rZW4uc2FuZGJveC5nb29nbGVhcGlzLmNvbS92MS90b2tlblwiLFdhOlwiaHR0cHM6Ly9zdGFnaW5nLWlkZW50aXR5dG9vbGtpdC5zYW5kYm94Lmdvb2dsZWFwaXMuY29tL3YyL1wiLGlkOlwiYlwifSxzZDp7VGE6XCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9pZGVudGl0eXRvb2xraXQvdjMvcmVseWluZ3BhcnR5L1wiLFphOlwiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGVhcGlzLmNvbS92MS90b2tlblwiLFdhOlwiaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vdjIvXCIsaWQ6XCJwXCJ9LHVkOntUYTpcImh0dHBzOi8vc3RhZ2luZy13d3cuc2FuZGJveC5nb29nbGVhcGlzLmNvbS9pZGVudGl0eXRvb2xraXQvdjMvcmVseWluZ3BhcnR5L1wiLFphOlwiaHR0cHM6Ly9zdGFnaW5nLXNlY3VyZXRva2VuLnNhbmRib3guZ29vZ2xlYXBpcy5jb20vdjEvdG9rZW5cIixXYTpcImh0dHBzOi8vc3RhZ2luZy1pZGVudGl0eXRvb2xraXQuc2FuZGJveC5nb29nbGVhcGlzLmNvbS92Mi9cIixpZDpcInNcIn0sdmQ6e1RhOlwiaHR0cHM6Ly93d3ctZ29vZ2xlYXBpcy10ZXN0LnNhbmRib3guZ29vZ2xlLmNvbS9pZGVudGl0eXRvb2xraXQvdjMvcmVseWluZ3BhcnR5L1wiLFphOlwiaHR0cHM6Ly90ZXN0LXNlY3VyZXRva2VuLnNhbmRib3guZ29vZ2xlYXBpcy5jb20vdjEvdG9rZW5cIixXYTpcImh0dHBzOi8vdGVzdC1pZGVudGl0eXRvb2xraXQuc2FuZGJveC5nb29nbGVhcGlzLmNvbS92Mi9cIixpZDpcInRcIn19O2Z1bmN0aW9uIF8odCl7Zm9yKHZhciBlIGluIE4paWYoTltlXS5pZD09PXQpcmV0dXJuIHQ9TltlXSx7ZmlyZWJhc2VFbmRwb2ludDp0LlRhLHNlY3VyZVRva2VuRW5kcG9pbnQ6dC5aYSxpZGVudGl0eVBsYXRmb3JtRW5kcG9pbnQ6dC5XYX07cmV0dXJuIG51bGx9ZnVuY3Rpb24gTyh0KXtpZih0KXRyeXtyZXR1cm4gdC4kZ29vZ19UaGVuYWJsZX1jYXRjaCh0KXtyZXR1cm59fWZ1bmN0aW9uIEModCl7dmFyIGU7RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxDKTooZT1FcnJvcigpLnN0YWNrKSYmKHRoaXMuc3RhY2s9ZSksdCYmKHRoaXMubWVzc2FnZT1TdHJpbmcodCkpfWZ1bmN0aW9uIFIodCxlKXtmb3IodmFyIG49XCJcIixpPSh0PXQuc3BsaXQoXCIlc1wiKSkubGVuZ3RoLTEscj0wO3I8aTtyKyspbis9dFtyXSsocjxlLmxlbmd0aD9lW3JdOlwiJXNcIik7Qy5jYWxsKHRoaXMsbit0W2ldKX1mdW5jdGlvbiBEKHQpe3Rocm93IG5ldyBSKFwiRmFpbHVyZVwiKyh0P1wiOiBcIit0OlwiXCIpLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSl9ZnVuY3Rpb24gUCh0LGUpe3RoaXMuYz10LHRoaXMuZj1lLHRoaXMuYj0wLHRoaXMuYT1udWxsfWZ1bmN0aW9uIEwodCxlKXt0LmYoZSksdC5iPDEwMCYmKHQuYisrLGUubmV4dD10LmEsdC5hPWUpfWZ1bmN0aW9uIHgoKXt0aGlzLmI9dGhpcy5hPW51bGx9QT1fKFwiX19FSURfX1wiKT9cIl9fRUlEX19cIjp2b2lkIDAsdyhDLEVycm9yKSxDLnByb3RvdHlwZS5uYW1lPVwiQ3VzdG9tRXJyb3JcIix3KFIsQyksUi5wcm90b3R5cGUubmFtZT1cIkFzc2VydGlvbkVycm9yXCIsUC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIDA8dGhpcy5iPyh0aGlzLmItLSx0PXRoaXMuYSx0aGlzLmE9dC5uZXh0LHQubmV4dD1udWxsKTp0PXRoaXMuYygpLHR9O3ZhciBNPW5ldyBQKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBqfSxmdW5jdGlvbih0KXt0LnJlc2V0KCl9KTtmdW5jdGlvbiBqKCl7dGhpcy5uZXh0PXRoaXMuYj10aGlzLmE9bnVsbH14LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1NLmdldCgpO24uc2V0KHQsZSksdGhpcy5iP3RoaXMuYi5uZXh0PW46dGhpcy5hPW4sdGhpcy5iPW59LGoucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3RoaXMuYT10LHRoaXMuYj1lLHRoaXMubmV4dD1udWxsfSxqLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMubmV4dD10aGlzLmI9dGhpcy5hPW51bGx9O3ZhciBVPUFycmF5LnByb3RvdHlwZS5pbmRleE9mP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodCxlLHZvaWQgMCl9OmZ1bmN0aW9uKHQsZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGV8fDEhPWUubGVuZ3RoPy0xOnQuaW5kZXhPZihlLDApO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKG4gaW4gdCYmdFtuXT09PWUpcmV0dXJuIG47cmV0dXJuLTF9LFY9QXJyYXkucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24odCxlLG4pe0FycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodCxlLG4pfTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXQubGVuZ3RoLHI9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dC5zcGxpdChcIlwiKTp0LG89MDtvPGk7bysrKW8gaW4gciYmZS5jYWxsKG4scltvXSxvLHQpfTt2YXIgRj1BcnJheS5wcm90b3R5cGUuZmlsdGVyP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbCh0LGUsdm9pZCAwKX06ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4saT10Lmxlbmd0aCxyPVtdLG89MCxhPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Quc3BsaXQoXCJcIik6dCxzPTA7czxpO3MrKylzIGluIGEmJihuPWFbc10sZS5jYWxsKHZvaWQgMCxuLHMsdCkmJihyW28rK109bikpO3JldHVybiByfSxxPUFycmF5LnByb3RvdHlwZS5tYXA/ZnVuY3Rpb24odCxlKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKHQsZSx2b2lkIDApfTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aCxpPUFycmF5KG4pLHI9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dC5zcGxpdChcIlwiKTp0LG89MDtvPG47bysrKW8gaW4gciYmKGlbb109ZS5jYWxsKHZvaWQgMCxyW29dLG8sdCkpO3JldHVybiBpfSxIPUFycmF5LnByb3RvdHlwZS5zb21lP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwodCxlLHZvaWQgMCl9OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLGk9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dC5zcGxpdChcIlwiKTp0LHI9MDtyPG47cisrKWlmKHIgaW4gaSYmZS5jYWxsKHZvaWQgMCxpW3JdLHIsdCkpcmV0dXJuITA7cmV0dXJuITF9O2Z1bmN0aW9uIEsodCxlKXtyZXR1cm4gMDw9VSh0LGUpfWZ1bmN0aW9uIEcodCxlKXt2YXIgbjtyZXR1cm4obj0wPD0oZT1VKHQsZSkpKSYmQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKHQsZSwxKSxufWZ1bmN0aW9uIEIobixpKXshZnVuY3Rpb24odCxlKXtmb3IodmFyIG49XCJzdHJpbmdcIj09dHlwZW9mIHQ/dC5zcGxpdChcIlwiKTp0LGk9dC5sZW5ndGgtMTswPD1pOy0taSlpIGluIG4mJmUuY2FsbCh2b2lkIDAsbltpXSxpLHQpfShuLGZ1bmN0aW9uKHQsZSl7aS5jYWxsKHZvaWQgMCx0LGUsbikmJjE9PUFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChuLGUsMSkubGVuZ3RoJiYwfSl9ZnVuY3Rpb24gVygpe3JldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLGFyZ3VtZW50cyl9ZnVuY3Rpb24gWCh0KXt2YXIgZT10Lmxlbmd0aDtpZigwPGUpe2Zvcih2YXIgbj1BcnJheShlKSxpPTA7aTxlO2krKyluW2ldPXRbaV07cmV0dXJuIG59cmV0dXJuW119dmFyIEosWT1TdHJpbmcucHJvdG90eXBlLnRyaW0/ZnVuY3Rpb24odCl7cmV0dXJuIHQudHJpbSgpfTpmdW5jdGlvbih0KXtyZXR1cm4vXltcXHNcXHhhMF0qKFtcXHNcXFNdKj8pW1xcc1xceGEwXSokLy5leGVjKHQpWzFdfSx6PS8mL2csJD0vPC9nLFo9Lz4vZyxRPS9cIi9nLHR0PS8nL2csZXQ9L1xceDAwL2csbnQ9L1tcXHgwMCY8PlwiJ10vO2Z1bmN0aW9uIGl0KHQsZSl7cmV0dXJuLTEhPXQuaW5kZXhPZihlKX1mdW5jdGlvbiBydCh0LGUpe3JldHVybiB0PGU/LTE6ZTx0PzE6MH10Ont2YXIgb3Q9bC5uYXZpZ2F0b3I7aWYob3Qpe290PW90LnVzZXJBZ2VudDtpZihvdCl7Sj1vdDticmVhayB0fX1KPVwiXCJ9ZnVuY3Rpb24gYXQodCl7cmV0dXJuIGl0KEosdCl9ZnVuY3Rpb24gc3QodCxlKXtmb3IodmFyIG4gaW4gdCllLmNhbGwodm9pZCAwLHRbbl0sbix0KX1mdW5jdGlvbiB1dCh0KXtmb3IodmFyIGUgaW4gdClyZXR1cm47cmV0dXJuIDF9ZnVuY3Rpb24gY3QodCl7dmFyIGUsbj17fTtmb3IoZSBpbiB0KW5bZV09dFtlXTtyZXR1cm4gbn12YXIgaHQ9XCJjb25zdHJ1Y3RvciBoYXNPd25Qcm9wZXJ0eSBpc1Byb3RvdHlwZU9mIHByb3BlcnR5SXNFbnVtZXJhYmxlIHRvTG9jYWxlU3RyaW5nIHRvU3RyaW5nIHZhbHVlT2ZcIi5zcGxpdChcIiBcIik7ZnVuY3Rpb24gbHQodCl7Zm9yKHZhciBlLG4saT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe2ZvcihlIGluIG49YXJndW1lbnRzW2ldKXRbZV09bltlXTtmb3IodmFyIHI9MDtyPGh0Lmxlbmd0aDtyKyspZT1odFtyXSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixlKSYmKHRbZV09bltlXSl9fWZ1bmN0aW9uIGZ0KHQsZSl7dDp7dHJ5e3ZhciBuPXQmJnQub3duZXJEb2N1bWVudCxuPW4mJihuLmRlZmF1bHRWaWV3fHxuLnBhcmVudFdpbmRvdyk7aWYoKG49bnx8bCkuRWxlbWVudCYmbi5Mb2NhdGlvbil7dmFyIGk9bjticmVhayB0fX1jYXRjaCh0KXt9aT1udWxsfWlmKGkmJnZvaWQgMCE9PWlbZV0mJighdHx8ISh0IGluc3RhbmNlb2YgaVtlXSkmJih0IGluc3RhbmNlb2YgaS5Mb2NhdGlvbnx8dCBpbnN0YW5jZW9mIGkuRWxlbWVudCkpKXtpZihtKHQpKXRyeXt2YXIgcj10LmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lfHx0LmNvbnN0cnVjdG9yLm5hbWV8fE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX1jYXRjaCh0KXtyPVwiPG9iamVjdCBjb3VsZCBub3QgYmUgc3RyaW5naWZpZWQ+XCJ9ZWxzZSByPXZvaWQgMD09PXQ/XCJ1bmRlZmluZWRcIjpudWxsPT09dD9cIm51bGxcIjp0eXBlb2YgdDtEKFwiQXJndW1lbnQgaXMgbm90IGEgJXMgKG9yIGEgbm9uLUVsZW1lbnQsIG5vbi1Mb2NhdGlvbiBtb2NrKTsgZ290OiAlc1wiLGUscil9fWZ1bmN0aW9uIGR0KHQsZSl7dGhpcy5hPXQ9PT1ndCYmZXx8XCJcIix0aGlzLmI9bXR9ZnVuY3Rpb24gcHQodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBkdCYmdC5jb25zdHJ1Y3Rvcj09PWR0JiZ0LmI9PT1tdD90LmE6KEQoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBDb25zdCwgZ290ICdcIit0K1wiJ1wiKSxcInR5cGVfZXJyb3I6Q29uc3RcIil9ZHQucHJvdG90eXBlLnNhPSEwLGR0LnByb3RvdHlwZS5yYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9LGR0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiQ29uc3R7XCIrdGhpcy5hK1wifVwifTt2YXIgdnQsbXQ9e30sZ3Q9e307ZnVuY3Rpb24gYnQoKXtpZih2b2lkIDA9PT12dCl7dmFyIHQ9bnVsbCxlPWwudHJ1c3RlZFR5cGVzO2lmKGUmJmUuY3JlYXRlUG9saWN5KXt0cnl7dD1lLmNyZWF0ZVBvbGljeShcImdvb2cjaHRtbFwiLHtjcmVhdGVIVE1MOkksY3JlYXRlU2NyaXB0OkksY3JlYXRlU2NyaXB0VVJMOkl9KX1jYXRjaCh0KXtsLmNvbnNvbGUmJmwuY29uc29sZS5lcnJvcih0Lm1lc3NhZ2UpfXZ0PXR9ZWxzZSB2dD10fXJldHVybiB2dH1mdW5jdGlvbiB5dCh0LGUpe3RoaXMuYT1lPT09QXQ/dDpcIlwifWZ1bmN0aW9uIHd0KHQpe3JldHVybiB0IGluc3RhbmNlb2YgeXQmJnQuY29uc3RydWN0b3I9PT15dD90LmE6KEQoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBUcnVzdGVkUmVzb3VyY2VVcmwsIGdvdCAnXCIrdCtcIicgb2YgdHlwZSBcIitkKHQpKSxcInR5cGVfZXJyb3I6VHJ1c3RlZFJlc291cmNlVXJsXCIpfWZ1bmN0aW9uIEl0KHQsbil7dmFyIGUsaT1wdCh0KTtpZighRXQudGVzdChpKSl0aHJvdyBFcnJvcihcIkludmFsaWQgVHJ1c3RlZFJlc291cmNlVXJsIGZvcm1hdDogXCIraSk7cmV0dXJuIHQ9aS5yZXBsYWNlKFR0LGZ1bmN0aW9uKHQsZSl7aWYoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGUpKXRocm93IEVycm9yKCdGb3VuZCBtYXJrZXIsIFwiJytlKydcIiwgaW4gZm9ybWF0IHN0cmluZywgXCInK2krJ1wiLCBidXQgbm8gdmFsaWQgbGFiZWwgbWFwcGluZyBmb3VuZCBpbiBhcmdzOiAnK0pTT04uc3RyaW5naWZ5KG4pKTtyZXR1cm4odD1uW2VdKWluc3RhbmNlb2YgZHQ/cHQodCk6ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyh0KSl9KSxlPXQsdD1idCgpLG5ldyB5dChlPXQ/dC5jcmVhdGVTY3JpcHRVUkwoZSk6ZSxBdCl9eXQucHJvdG90eXBlLnNhPSEwLHl0LnByb3RvdHlwZS5yYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEudG9TdHJpbmcoKX0seXQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJUcnVzdGVkUmVzb3VyY2VVcmx7XCIrdGhpcy5hK1wifVwifTt2YXIgVHQ9LyV7KFxcdyspfS9nLEV0PS9eKChodHRwczopP1xcL1xcL1swLTlhLXouOltcXF0tXStcXC98XFwvW14vXFxcXF18W146L1xcXFwlXStcXC98W146L1xcXFwlXSpbPyNdfGFib3V0OmJsYW5rIykvaSxBdD17fTtmdW5jdGlvbiBrdCh0LGUpe3RoaXMuYT1lPT09RHQ/dDpcIlwifWZ1bmN0aW9uIFN0KHQpe3JldHVybiB0IGluc3RhbmNlb2Yga3QmJnQuY29uc3RydWN0b3I9PT1rdD90LmE6KEQoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBTYWZlVXJsLCBnb3QgJ1wiK3QrXCInIG9mIHR5cGUgXCIrZCh0KSksXCJ0eXBlX2Vycm9yOlNhZmVVcmxcIil9a3QucHJvdG90eXBlLnNhPSEwLGt0LnByb3RvdHlwZS5yYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEudG9TdHJpbmcoKX0sa3QucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJTYWZlVXJse1wiK3RoaXMuYStcIn1cIn07dmFyIE50PS9eKD86YXVkaW9cXC8oPzozZ3BwMnwzZ3BwfGFhY3xMMTZ8bWlkaXxtcDN8bXA0fG1wZWd8b2dhfG9nZ3xvcHVzfHgtbTRhfHgtbWF0cm9za2F8eC13YXZ8d2F2fHdlYm0pfGZvbnRcXC9cXHcrfGltYWdlXFwvKD86Ym1wfGdpZnxqcGVnfGpwZ3xwbmd8dGlmZnx3ZWJwfHgtaWNvbil8dGV4dFxcL2Nzdnx2aWRlb1xcLyg/Om1wZWd8bXA0fG9nZ3x3ZWJtfHF1aWNrdGltZXx4LW1hdHJvc2thKSkoPzo7XFx3Kz0oPzpcXHcrfFwiW1xcdzssPSBdK1wiKSkqJC9pLF90PS9eZGF0YTooLiopO2Jhc2U2NCxbYS16MC05K1xcL10rPSokL2ksT3Q9L14oPzooPzpodHRwcz98bWFpbHRvfGZ0cCk6fFteOi8/I10qKD86Wy8/I118JCkpL2k7ZnVuY3Rpb24gQ3QodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBrdD90Oih0PVwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0LnNhP3QucmEoKTpTdHJpbmcodCksdD1PdC50ZXN0KHQpfHwoZT0odD0odD1TdHJpbmcodCkpLnJlcGxhY2UoLyglMEF8JTBEKS9nLFwiXCIpKS5tYXRjaChfdCkpJiZOdC50ZXN0KGVbMV0pP25ldyBrdCh0LER0KTpudWxsKTt2YXIgZX1mdW5jdGlvbiBSdCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGt0P3Q6KHQ9XCJvYmplY3RcIj09dHlwZW9mIHQmJnQuc2E/dC5yYSgpOlN0cmluZyh0KSxuZXcga3QodD0hT3QudGVzdCh0KT9cImFib3V0OmludmFsaWQjekNsb3N1cmV6XCI6dCxEdCkpfXZhciBEdD17fSxQdD1uZXcga3QoXCJhYm91dDppbnZhbGlkI3pDbG9zdXJlelwiLER0KTtmdW5jdGlvbiBMdCh0LGUsbil7dGhpcy5hPW49PT14dD90OlwiXCJ9THQucHJvdG90eXBlLnNhPSEwLEx0LnByb3RvdHlwZS5yYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEudG9TdHJpbmcoKX0sTHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJTYWZlSHRtbHtcIit0aGlzLmErXCJ9XCJ9O3ZhciB4dD17fTtmdW5jdGlvbiBNdCh0LGUsbixpKXtyZXR1cm4gdD10IGluc3RhbmNlb2Yga3Q/dDpSdCh0KSxlPWV8fGwsbj1uIGluc3RhbmNlb2YgZHQ/cHQobik6bnx8XCJcIixlLm9wZW4oU3QodCksbixpLHZvaWQgMCl9ZnVuY3Rpb24ganQodCl7Zm9yKHZhciBlPXQuc3BsaXQoXCIlc1wiKSxuPVwiXCIsaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7aS5sZW5ndGgmJjE8ZS5sZW5ndGg7KW4rPWUuc2hpZnQoKStpLnNoaWZ0KCk7cmV0dXJuIG4rZS5qb2luKFwiJXNcIil9ZnVuY3Rpb24gVXQodCl7cmV0dXJuIG50LnRlc3QodCkmJigtMSE9KHQ9LTEhPSh0PS0xIT0odD0tMSE9KHQ9LTEhPSh0PS0xIT10LmluZGV4T2YoXCImXCIpP3QucmVwbGFjZSh6LFwiJmFtcDtcIik6dCkuaW5kZXhPZihcIjxcIik/dC5yZXBsYWNlKCQsXCImbHQ7XCIpOnQpLmluZGV4T2YoXCI+XCIpP3QucmVwbGFjZShaLFwiJmd0O1wiKTp0KS5pbmRleE9mKCdcIicpP3QucmVwbGFjZShRLFwiJnF1b3Q7XCIpOnQpLmluZGV4T2YoXCInXCIpP3QucmVwbGFjZSh0dCxcIiYjMzk7XCIpOnQpLmluZGV4T2YoXCJcXDBcIikmJih0PXQucmVwbGFjZShldCxcIiYjMDtcIikpKSx0fWZ1bmN0aW9uIFZ0KHQpe3JldHVybiBWdFtcIiBcIl0odCksdH1WdFtcIiBcIl09YTt2YXIgRnQscXQ9YXQoXCJPcGVyYVwiKSxIdD1hdChcIlRyaWRlbnRcIil8fGF0KFwiTVNJRVwiKSxLdD1hdChcIkVkZ2VcIiksR3Q9S3R8fEh0LEJ0PWF0KFwiR2Vja29cIikmJiEoaXQoSi50b0xvd2VyQ2FzZSgpLFwid2Via2l0XCIpJiYhYXQoXCJFZGdlXCIpKSYmIShhdChcIlRyaWRlbnRcIil8fGF0KFwiTVNJRVwiKSkmJiFhdChcIkVkZ2VcIiksV3Q9aXQoSi50b0xvd2VyQ2FzZSgpLFwid2Via2l0XCIpJiYhYXQoXCJFZGdlXCIpO2Z1bmN0aW9uIFh0KCl7dmFyIHQ9bC5kb2N1bWVudDtyZXR1cm4gdD90LmRvY3VtZW50TW9kZTp2b2lkIDB9dDp7dmFyIEp0PVwiXCIsWXQ9KFl0PUosQnQ/L3J2OihbXlxcKTtdKykoXFwpfDspLy5leGVjKFl0KTpLdD8vRWRnZVxcLyhbXFxkXFwuXSspLy5leGVjKFl0KTpIdD8vXFxiKD86TVNJRXxydilbOiBdKFteXFwpO10rKShcXCl8OykvLmV4ZWMoWXQpOld0Py9XZWJLaXRcXC8oXFxTKykvLmV4ZWMoWXQpOnF0Py8oPzpWZXJzaW9uKVsgXFwvXT8oXFxTKykvLmV4ZWMoWXQpOnZvaWQgMCk7aWYoWXQmJihKdD1ZdD9ZdFsxXTpcIlwiKSxIdCl7WXQ9WHQoKTtpZihudWxsIT1ZdCYmWXQ+cGFyc2VGbG9hdChKdCkpe0Z0PVN0cmluZyhZdCk7YnJlYWsgdH19RnQ9SnR9dmFyIHp0PXt9O2Z1bmN0aW9uICR0KHMpe3JldHVybiB0PXMsZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9WShTdHJpbmcoRnQpKS5zcGxpdChcIi5cIiksbj1ZKFN0cmluZyhzKSkuc3BsaXQoXCIuXCIpLGk9TWF0aC5tYXgoZS5sZW5ndGgsbi5sZW5ndGgpLHI9MDswPT10JiZyPGk7cisrKWZvcih2YXIgbz1lW3JdfHxcIlwiLGE9bltyXXx8XCJcIjtvPS8oXFxkKikoXFxEKikoLiopLy5leGVjKG8pfHxbXCJcIixcIlwiLFwiXCIsXCJcIl0sYT0vKFxcZCopKFxcRCopKC4qKS8uZXhlYyhhKXx8W1wiXCIsXCJcIixcIlwiLFwiXCJdLCgwIT1vWzBdLmxlbmd0aHx8MCE9YVswXS5sZW5ndGgpJiYodD1ydCgwPT1vWzFdLmxlbmd0aD8wOnBhcnNlSW50KG9bMV0sMTApLDA9PWFbMV0ubGVuZ3RoPzA6cGFyc2VJbnQoYVsxXSwxMCkpfHxydCgwPT1vWzJdLmxlbmd0aCwwPT1hWzJdLmxlbmd0aCl8fHJ0KG9bMl0sYVsyXSksbz1vWzNdLGE9YVszXSwwPT10KTspO3JldHVybiAwPD10fSxuPXp0LE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHQpP25bdF06blt0XT1lKHQpO3ZhciB0LGUsbn12YXIgWnQ9bC5kb2N1bWVudCYmSHQmJihYdCgpfHxwYXJzZUludChGdCwxMCkpfHx2b2lkIDA7dHJ5e25ldyBzZWxmLk9mZnNjcmVlbkNhbnZhcygwLDApLmdldENvbnRleHQoXCIyZFwiKX1jYXRjaCh0KXt9dmFyIFF0PSFIdHx8OTw9TnVtYmVyKFp0KTtmdW5jdGlvbiB0ZSh0KXt2YXIgZT1kb2N1bWVudDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD9lLmdldEVsZW1lbnRCeUlkKHQpOnR9ZnVuY3Rpb24gZWUobix0KXtzdCh0LGZ1bmN0aW9uKHQsZSl7dCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQuc2EmJih0PXQucmEoKSksXCJzdHlsZVwiPT1lP24uc3R5bGUuY3NzVGV4dD10OlwiY2xhc3NcIj09ZT9uLmNsYXNzTmFtZT10OlwiZm9yXCI9PWU/bi5odG1sRm9yPXQ6cmUuaGFzT3duUHJvcGVydHkoZSk/bi5zZXRBdHRyaWJ1dGUocmVbZV0sdCk6MD09ZS5sYXN0SW5kZXhPZihcImFyaWEtXCIsMCl8fDA9PWUubGFzdEluZGV4T2YoXCJkYXRhLVwiLDApP24uc2V0QXR0cmlidXRlKGUsdCk6bltlXT10fSl9dmFyIG5lLGllLHJlPXtjZWxscGFkZGluZzpcImNlbGxQYWRkaW5nXCIsY2VsbHNwYWNpbmc6XCJjZWxsU3BhY2luZ1wiLGNvbHNwYW46XCJjb2xTcGFuXCIsZnJhbWVib3JkZXI6XCJmcmFtZUJvcmRlclwiLGhlaWdodDpcImhlaWdodFwiLG1heGxlbmd0aDpcIm1heExlbmd0aFwiLG5vbmNlOlwibm9uY2VcIixyb2xlOlwicm9sZVwiLHJvd3NwYW46XCJyb3dTcGFuXCIsdHlwZTpcInR5cGVcIix1c2VtYXA6XCJ1c2VNYXBcIix2YWxpZ246XCJ2QWxpZ25cIix3aWR0aDpcIndpZHRoXCJ9O2Z1bmN0aW9uIG9lKCl7dmFyIHQsZT1hcmd1bWVudHMsbj1kb2N1bWVudCxpPVN0cmluZyhlWzBdKSxyPWVbMV07cmV0dXJuIVF0JiZyJiYoci5uYW1lfHxyLnR5cGUpJiYoaT1bXCI8XCIsaV0sci5uYW1lJiZpLnB1c2goJyBuYW1lPVwiJyxVdChyLm5hbWUpLCdcIicpLHIudHlwZSYmKGkucHVzaCgnIHR5cGU9XCInLFV0KHIudHlwZSksJ1wiJyksbHQodD17fSxyKSxkZWxldGUgdC50eXBlLHI9dCksaS5wdXNoKFwiPlwiKSxpPWkuam9pbihcIlwiKSksaT1hZShuLGkpLHImJihcInN0cmluZ1wiPT10eXBlb2Ygcj9pLmNsYXNzTmFtZT1yOkFycmF5LmlzQXJyYXkocik/aS5jbGFzc05hbWU9ci5qb2luKFwiIFwiKTplZShpLHIpKSwyPGUubGVuZ3RoJiZmdW5jdGlvbihlLG4sdCl7ZnVuY3Rpb24gaSh0KXt0JiZuLmFwcGVuZENoaWxkKFwic3RyaW5nXCI9PXR5cGVvZiB0P2UuY3JlYXRlVGV4dE5vZGUodCk6dCl9Zm9yKHZhciByPTI7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07aWYoIXAobyl8fG0obykmJjA8by5ub2RlVHlwZSlpKG8pO2Vsc2V7dDp7aWYobyYmXCJudW1iZXJcIj09dHlwZW9mIG8ubGVuZ3RoKXtpZihtKG8pKXt2YXIgYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBvLml0ZW18fFwic3RyaW5nXCI9PXR5cGVvZiBvLml0ZW07YnJlYWsgdH1pZih2KG8pKXthPVwiZnVuY3Rpb25cIj09dHlwZW9mIG8uaXRlbTticmVhayB0fX1hPSExfVYoYT9YKG8pOm8saSl9fX0obixpLGUpLGl9ZnVuY3Rpb24gYWUodCxlKXtyZXR1cm4gZT1TdHJpbmcoZSksXCJhcHBsaWNhdGlvbi94aHRtbCt4bWxcIj09PXQuY29udGVudFR5cGUmJihlPWUudG9Mb3dlckNhc2UoKSksdC5jcmVhdGVFbGVtZW50KGUpfWZ1bmN0aW9uIHNlKHQpe2wuc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IHR9LDApfWZ1bmN0aW9uIHVlKHQsZSl7aWV8fGZ1bmN0aW9uKCl7e3ZhciB0O2llPWwuUHJvbWlzZSYmbC5Qcm9taXNlLnJlc29sdmU/KHQ9bC5Qcm9taXNlLnJlc29sdmUodm9pZCAwKSxmdW5jdGlvbigpe3QudGhlbihsZSl9KTpmdW5jdGlvbigpe3ZhciB0PWxlOyF2KGwuc2V0SW1tZWRpYXRlKXx8bC5XaW5kb3cmJmwuV2luZG93LnByb3RvdHlwZSYmIWF0KFwiRWRnZVwiKSYmbC5XaW5kb3cucHJvdG90eXBlLnNldEltbWVkaWF0ZT09bC5zZXRJbW1lZGlhdGU/KG5lPW5lfHxmdW5jdGlvbigpe3ZhciB0PWwuTWVzc2FnZUNoYW5uZWw7aWYodm9pZCAwPT09KHQ9dm9pZCAwPT09dCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LnBvc3RNZXNzYWdlJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmIWF0KFwiUHJlc3RvXCIpP2Z1bmN0aW9uKCl7dmFyIHQ9YWUoZG9jdW1lbnQsXCJJRlJBTUVcIik7dC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0KTt2YXIgZT10LmNvbnRlbnRXaW5kb3c7KHQ9ZS5kb2N1bWVudCkub3BlbigpLHQuY2xvc2UoKTt2YXIgbj1cImNhbGxJbW1lZGlhdGVcIitNYXRoLnJhbmRvbSgpLGk9XCJmaWxlOlwiPT1lLmxvY2F0aW9uLnByb3RvY29sP1wiKlwiOmUubG9jYXRpb24ucHJvdG9jb2wrXCIvL1wiK2UubG9jYXRpb24uaG9zdDt0PWIoZnVuY3Rpb24odCl7XCIqXCIhPWkmJnQub3JpZ2luIT1pfHx0LmRhdGEhPW58fHRoaXMucG9ydDEub25tZXNzYWdlKCl9LHRoaXMpLGUuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0LCExKSx0aGlzLnBvcnQxPXt9LHRoaXMucG9ydDI9e3Bvc3RNZXNzYWdlOmZ1bmN0aW9uKCl7ZS5wb3N0TWVzc2FnZShuLGkpfX19OnQpfHxhdChcIlRyaWRlbnRcIil8fGF0KFwiTVNJRVwiKSlyZXR1cm4gZnVuY3Rpb24odCl7bC5zZXRUaW1lb3V0KHQsMCl9O3ZhciBlPW5ldyB0LG49e30saT1uO3JldHVybiBlLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbigpe3ZhciB0O3ZvaWQgMCE9PW4ubmV4dCYmKHQ9KG49bi5uZXh0KS5HYixuLkdiPW51bGwsdCgpKX0sZnVuY3Rpb24odCl7aS5uZXh0PXtHYjp0fSxpPWkubmV4dCxlLnBvcnQyLnBvc3RNZXNzYWdlKDApfX0oKSkodCk6bC5zZXRJbW1lZGlhdGUodCl9fX0oKSxjZXx8KGllKCksY2U9ITApLGhlLmFkZCh0LGUpfXZhciBjZT0hMSxoZT1uZXcgeDtmdW5jdGlvbiBsZSgpe2Zvcih2YXIgdCxlLG47bj1lPXZvaWQgMCxuPW51bGwsKGU9aGUpLmEmJihuPWUuYSxlLmE9ZS5hLm5leHQsZS5hfHwoZS5iPW51bGwpLG4ubmV4dD1udWxsKSx0PW47KXt0cnl7dC5hLmNhbGwodC5iKX1jYXRjaCh0KXtzZSh0KX1MKE0sdCl9Y2U9ITF9ZnVuY3Rpb24gZmUodCxlKXtpZih0aGlzLmE9ZGUsdGhpcy5pPXZvaWQgMCx0aGlzLmY9dGhpcy5iPXRoaXMuYz1udWxsLHRoaXMuZz10aGlzLmg9ITEsdCE9YSl0cnl7dmFyIG49dGhpczt0LmNhbGwoZSxmdW5jdGlvbih0KXtrZShuLHBlLHQpfSxmdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBEZSkpdHJ5e2lmKHQgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyB0O3Rocm93IEVycm9yKFwiUHJvbWlzZSByZWplY3RlZC5cIil9Y2F0Y2godCl7fWtlKG4sdmUsdCl9KX1jYXRjaCh0KXtrZSh0aGlzLHZlLHQpfX12YXIgZGU9MCxwZT0yLHZlPTM7ZnVuY3Rpb24gbWUoKXt0aGlzLm5leHQ9dGhpcy5mPXRoaXMuYj10aGlzLmc9dGhpcy5hPW51bGwsdGhpcy5jPSExfW1lLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuZj10aGlzLmI9dGhpcy5nPXRoaXMuYT1udWxsLHRoaXMuYz0hMX07dmFyIGdlPW5ldyBQKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBtZX0sZnVuY3Rpb24odCl7dC5yZXNldCgpfSk7ZnVuY3Rpb24gYmUodCxlLG4pe3ZhciBpPWdlLmdldCgpO3JldHVybiBpLmc9dCxpLmI9ZSxpLmY9bixpfWZ1bmN0aW9uIHllKHQpe2lmKHQgaW5zdGFuY2VvZiBmZSlyZXR1cm4gdDt2YXIgZT1uZXcgZmUoYSk7cmV0dXJuIGtlKGUscGUsdCksZX1mdW5jdGlvbiB3ZShuKXtyZXR1cm4gbmV3IGZlKGZ1bmN0aW9uKHQsZSl7ZShuKX0pfWZ1bmN0aW9uIEllKHQsZSxuKXtTZSh0LGUsbixudWxsKXx8dWUoeShlLHQpKX1mdW5jdGlvbiBUZShuKXtyZXR1cm4gbmV3IGZlKGZ1bmN0aW9uKGkpe3ZhciByPW4ubGVuZ3RoLG89W107aWYocilmb3IodmFyIHQ9ZnVuY3Rpb24odCxlLG4pe3ItLSxvW3RdPWU/e1BiOiEwLHZhbHVlOm59OntQYjohMSxyZWFzb246bn0sMD09ciYmaShvKX0sZT0wO2U8bi5sZW5ndGg7ZSsrKUllKG5bZV0seSh0LGUsITApLHkodCxlLCExKSk7ZWxzZSBpKG8pfSl9ZnVuY3Rpb24gRWUodCxlKXt0LmJ8fHQuYSE9cGUmJnQuYSE9dmV8fE5lKHQpLHQuZj90LmYubmV4dD1lOnQuYj1lLHQuZj1lfWZ1bmN0aW9uIEFlKHQscixvLGEpe3ZhciBlPWJlKG51bGwsbnVsbCxudWxsKTtyZXR1cm4gZS5hPW5ldyBmZShmdW5jdGlvbihuLGkpe2UuZz1yP2Z1bmN0aW9uKHQpe3RyeXt2YXIgZT1yLmNhbGwoYSx0KTtuKGUpfWNhdGNoKHQpe2kodCl9fTpuLGUuYj1vP2Z1bmN0aW9uKHQpe3RyeXt2YXIgZT1vLmNhbGwoYSx0KTt2b2lkIDA9PT1lJiZ0IGluc3RhbmNlb2YgRGU/aSh0KTpuKGUpfWNhdGNoKHQpe2kodCl9fTppfSksRWUoZS5hLmM9dCxlKSxlLmF9ZnVuY3Rpb24ga2UodCxlLG4pe3ZhciBpLHI7dC5hPT1kZSYmKHQ9PT1uJiYoZT12ZSxuPW5ldyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbm5vdCByZXNvbHZlIHRvIGl0c2VsZlwiKSksdC5hPTEsU2Uobix0LiRjLHQuYWQsdCl8fCh0Lmk9bix0LmE9ZSx0LmM9bnVsbCxOZSh0KSxlIT12ZXx8biBpbnN0YW5jZW9mIERlfHwocj1uLChpPXQpLmc9ITAsdWUoZnVuY3Rpb24oKXtpLmcmJlJlLmNhbGwobnVsbCxyKX0pKSkpfWZ1bmN0aW9uIFNlKHQsZSxuLGkpe2lmKHQgaW5zdGFuY2VvZiBmZSlyZXR1cm4gRWUodCxiZShlfHxhLG58fG51bGwsaSkpLDE7aWYoTyh0KSlyZXR1cm4gdC50aGVuKGUsbixpKSwxO2lmKG0odCkpdHJ5e3ZhciByPXQudGhlbjtpZih2KHIpKXJldHVybiBmdW5jdGlvbih0LGUsbixpLHIpe2Z1bmN0aW9uIG8odCl7YXx8KGE9ITAsaS5jYWxsKHIsdCkpfXZhciBhPSExO3RyeXtlLmNhbGwodCxmdW5jdGlvbih0KXthfHwoYT0hMCxuLmNhbGwocix0KSl9LG8pfWNhdGNoKHQpe28odCl9fSh0LHIsZSxuLGkpLDF9Y2F0Y2godCl7cmV0dXJuIG4uY2FsbChpLHQpLDF9fWZ1bmN0aW9uIE5lKHQpe3QuaHx8KHQuaD0hMCx1ZSh0LmdjLHQpKX1mdW5jdGlvbiBfZSh0KXt2YXIgZT1udWxsO3JldHVybiB0LmImJihlPXQuYix0LmI9ZS5uZXh0LGUubmV4dD1udWxsKSx0LmJ8fCh0LmY9bnVsbCksZX1mdW5jdGlvbiBPZSh0LGUsbixpKXtpZihuPT12ZSYmZS5iJiYhZS5jKWZvcig7dCYmdC5nO3Q9dC5jKXQuZz0hMTtpZihlLmEpZS5hLmM9bnVsbCxDZShlLG4saSk7ZWxzZSB0cnl7ZS5jP2UuZy5jYWxsKGUuZik6Q2UoZSxuLGkpfWNhdGNoKHQpe1JlLmNhbGwobnVsbCx0KX1MKGdlLGUpfWZ1bmN0aW9uIENlKHQsZSxuKXtlPT1wZT90LmcuY2FsbCh0LmYsbik6dC5iJiZ0LmIuY2FsbCh0LmYsbil9ZmUucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCxlLG4pe3JldHVybiBBZSh0aGlzLHYodCk/dDpudWxsLHYoZSk/ZTpudWxsLG4pfSxmZS5wcm90b3R5cGUuJGdvb2dfVGhlbmFibGU9ITAsKHQ9ZmUucHJvdG90eXBlKS5vYT1mdW5jdGlvbih0LGUpe3JldHVybih0PWJlKHQsdCxlKSkuYz0hMCxFZSh0aGlzLHQpLHRoaXN9LHQubz1mdW5jdGlvbih0LGUpe3JldHVybiBBZSh0aGlzLG51bGwsdCxlKX0sdC5jYW5jZWw9ZnVuY3Rpb24odCl7dmFyIGU7dGhpcy5hPT1kZSYmKGU9bmV3IERlKHQpLHVlKGZ1bmN0aW9uKCl7IWZ1bmN0aW9uIHQoZSxuKXtpZihlLmE9PWRlKWlmKGUuYyl7dmFyIGk9ZS5jO2lmKGkuYil7Zm9yKHZhciByPTAsbz1udWxsLGE9bnVsbCxzPWkuYjtzJiYocy5jfHwocisrLCEoKG89cy5hPT1lP3M6bykmJjE8cikpKTtzPXMubmV4dClvfHwoYT1zKTtvJiYoaS5hPT1kZSYmMT09cj90KGksbik6KGE/KChyPWEpLm5leHQ9PWkuZiYmKGkuZj1yKSxyLm5leHQ9ci5uZXh0Lm5leHQpOl9lKGkpLE9lKGksbyx2ZSxuKSkpfWUuYz1udWxsfWVsc2Uga2UoZSx2ZSxuKX0odGhpcyxlKX0sdGhpcykpfSx0LiRjPWZ1bmN0aW9uKHQpe3RoaXMuYT1kZSxrZSh0aGlzLHBlLHQpfSx0LmFkPWZ1bmN0aW9uKHQpe3RoaXMuYT1kZSxrZSh0aGlzLHZlLHQpfSx0LmdjPWZ1bmN0aW9uKCl7Zm9yKHZhciB0O3Q9X2UodGhpcyk7KU9lKHRoaXMsdCx0aGlzLmEsdGhpcy5pKTt0aGlzLmg9ITF9O3ZhciBSZT1zZTtmdW5jdGlvbiBEZSh0KXtDLmNhbGwodGhpcyx0KX1mdW5jdGlvbiBQZSgpe3RoaXMueGE9dGhpcy54YSx0aGlzLnBhPXRoaXMucGF9dyhEZSxDKTt2YXIgTGU9MDtmdW5jdGlvbiB4ZSh0KXt0LnhhfHwodC54YT0hMCx0LkRhKCksMD09TGUpfHwodD10LE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiZ0W25dfHwodFtuXT0rK2kpKX1QZS5wcm90b3R5cGUueGE9IShEZS5wcm90b3R5cGUubmFtZT1cImNhbmNlbFwiKSxQZS5wcm90b3R5cGUuRGE9ZnVuY3Rpb24oKXtpZih0aGlzLnBhKWZvcig7dGhpcy5wYS5sZW5ndGg7KXRoaXMucGEuc2hpZnQoKSgpfTt2YXIgTWU9T2JqZWN0LmZyZWV6ZXx8ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGplPSFIdHx8OTw9TnVtYmVyKFp0KSxVZT1IdCYmISR0KFwiOVwiKSxWZT1mdW5jdGlvbigpe2lmKCFsLmFkZEV2ZW50TGlzdGVuZXJ8fCFPYmplY3QuZGVmaW5lUHJvcGVydHkpcmV0dXJuITE7dmFyIHQ9ITEsZT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJwYXNzaXZlXCIse2dldDpmdW5jdGlvbigpe3Q9ITB9fSk7dHJ5e2wuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIixhLGUpLGwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRlc3RcIixhLGUpfWNhdGNoKHQpe31yZXR1cm4gdH0oKTtmdW5jdGlvbiBGZSh0LGUpe3RoaXMudHlwZT10LHRoaXMuYj10aGlzLnRhcmdldD1lLHRoaXMuZGVmYXVsdFByZXZlbnRlZD0hMX1mdW5jdGlvbiBxZSh0LGUpe2lmKEZlLmNhbGwodGhpcyx0P3QudHlwZTpcIlwiKSx0aGlzLnJlbGF0ZWRUYXJnZXQ9dGhpcy5iPXRoaXMudGFyZ2V0PW51bGwsdGhpcy5idXR0b249dGhpcy5zY3JlZW5ZPXRoaXMuc2NyZWVuWD10aGlzLmNsaWVudFk9dGhpcy5jbGllbnRYPTAsdGhpcy5rZXk9XCJcIix0aGlzLm1ldGFLZXk9dGhpcy5zaGlmdEtleT10aGlzLmFsdEtleT10aGlzLmN0cmxLZXk9ITEsdGhpcy5wb2ludGVySWQ9MCx0aGlzLnBvaW50ZXJUeXBlPVwiXCIsdGhpcy5hPW51bGwsdCl7dmFyIG49dGhpcy50eXBlPXQudHlwZSxpPXQuY2hhbmdlZFRvdWNoZXMmJnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoP3QuY2hhbmdlZFRvdWNoZXNbMF06bnVsbDtpZih0aGlzLnRhcmdldD10LnRhcmdldHx8dC5zcmNFbGVtZW50LHRoaXMuYj1lLGU9dC5yZWxhdGVkVGFyZ2V0KXtpZihCdCl7dDp7dHJ5e1Z0KGUubm9kZU5hbWUpO3ZhciByPSEwO2JyZWFrIHR9Y2F0Y2godCl7fXI9ITF9cnx8KGU9bnVsbCl9fWVsc2VcIm1vdXNlb3ZlclwiPT1uP2U9dC5mcm9tRWxlbWVudDpcIm1vdXNlb3V0XCI9PW4mJihlPXQudG9FbGVtZW50KTt0aGlzLnJlbGF0ZWRUYXJnZXQ9ZSxpPyh0aGlzLmNsaWVudFg9dm9pZCAwIT09aS5jbGllbnRYP2kuY2xpZW50WDppLnBhZ2VYLHRoaXMuY2xpZW50WT12b2lkIDAhPT1pLmNsaWVudFk/aS5jbGllbnRZOmkucGFnZVksdGhpcy5zY3JlZW5YPWkuc2NyZWVuWHx8MCx0aGlzLnNjcmVlblk9aS5zY3JlZW5ZfHwwKToodGhpcy5jbGllbnRYPXZvaWQgMCE9PXQuY2xpZW50WD90LmNsaWVudFg6dC5wYWdlWCx0aGlzLmNsaWVudFk9dm9pZCAwIT09dC5jbGllbnRZP3QuY2xpZW50WTp0LnBhZ2VZLHRoaXMuc2NyZWVuWD10LnNjcmVlblh8fDAsdGhpcy5zY3JlZW5ZPXQuc2NyZWVuWXx8MCksdGhpcy5idXR0b249dC5idXR0b24sdGhpcy5rZXk9dC5rZXl8fFwiXCIsdGhpcy5jdHJsS2V5PXQuY3RybEtleSx0aGlzLmFsdEtleT10LmFsdEtleSx0aGlzLnNoaWZ0S2V5PXQuc2hpZnRLZXksdGhpcy5tZXRhS2V5PXQubWV0YUtleSx0aGlzLnBvaW50ZXJJZD10LnBvaW50ZXJJZHx8MCx0aGlzLnBvaW50ZXJUeXBlPVwic3RyaW5nXCI9PXR5cGVvZiB0LnBvaW50ZXJUeXBlP3QucG9pbnRlclR5cGU6SGVbdC5wb2ludGVyVHlwZV18fFwiXCIsKHRoaXMuYT10KS5kZWZhdWx0UHJldmVudGVkJiZ0aGlzLnByZXZlbnREZWZhdWx0KCl9fUZlLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMH0sdyhxZSxGZSk7dmFyIEhlPU1lKHsyOlwidG91Y2hcIiwzOlwicGVuXCIsNDpcIm1vdXNlXCJ9KTtxZS5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtxZS5hYi5wcmV2ZW50RGVmYXVsdC5jYWxsKHRoaXMpO3ZhciB0PXRoaXMuYTtpZih0LnByZXZlbnREZWZhdWx0KXQucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKHQucmV0dXJuVmFsdWU9ITEsVWUpdHJ5eyh0LmN0cmxLZXl8fDExMjw9dC5rZXlDb2RlJiZ0LmtleUNvZGU8PTEyMykmJih0LmtleUNvZGU9LTEpfWNhdGNoKHQpe319LHFlLnByb3RvdHlwZS5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07dmFyIEtlPVwiY2xvc3VyZV9saXN0ZW5hYmxlX1wiKygxZTYqTWF0aC5yYW5kb20oKXwwKSxHZT0wO2Z1bmN0aW9uIEJlKHQsZSxuLGkscil7dGhpcy5saXN0ZW5lcj10LHRoaXMucHJveHk9bnVsbCx0aGlzLnNyYz1lLHRoaXMudHlwZT1uLHRoaXMuY2FwdHVyZT0hIWksdGhpcy5WYT1yLHRoaXMua2V5PSsrR2UsdGhpcy52YT10aGlzLlBhPSExfWZ1bmN0aW9uIFdlKHQpe3QudmE9ITAsdC5saXN0ZW5lcj1udWxsLHQucHJveHk9bnVsbCx0LnNyYz1udWxsLHQuVmE9bnVsbH1mdW5jdGlvbiBYZSh0KXt0aGlzLnNyYz10LHRoaXMuYT17fSx0aGlzLmI9MH1mdW5jdGlvbiBKZSh0LGUpe3ZhciBuPWUudHlwZTtuIGluIHQuYSYmRyh0LmFbbl0sZSkmJihXZShlKSwwPT10LmFbbl0ubGVuZ3RoJiYoZGVsZXRlIHQuYVtuXSx0LmItLSkpfWZ1bmN0aW9uIFllKHQsZSxuLGkpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7KytyKXt2YXIgbz10W3JdO2lmKCFvLnZhJiZvLmxpc3RlbmVyPT1lJiZvLmNhcHR1cmU9PSEhbiYmby5WYT09aSlyZXR1cm4gcn1yZXR1cm4tMX1YZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89dC50b1N0cmluZygpOyh0PXRoaXMuYVtvXSl8fCh0PXRoaXMuYVtvXT1bXSx0aGlzLmIrKyk7dmFyIGE9WWUodCxlLGkscik7cmV0dXJuLTE8YT8oZT10W2FdLG58fChlLlBhPSExKSk6KChlPW5ldyBCZShlLHRoaXMuc3JjLG8sISFpLHIpKS5QYT1uLHQucHVzaChlKSksZX07dmFyIHplPVwiY2xvc3VyZV9sbV9cIisoMWU2Kk1hdGgucmFuZG9tKCl8MCksJGU9e307ZnVuY3Rpb24gWmUodCxlLG4saSxyKXtpZihpJiZpLm9uY2UpdG4odCxlLG4saSxyKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspWmUodCxlW29dLG4saSxyKTtlbHNlIG49aG4obiksdCYmdFtLZV0/Zm4odCxlLG4sbShpKT8hIWkuY2FwdHVyZTohIWkscik6UWUodCxlLG4sITEsaSxyKX1mdW5jdGlvbiBRZSh0LGUsbixpLHIsbyl7aWYoIWUpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGV2ZW50IHR5cGVcIik7dmFyIGEscyx1PW0ocik/ISFyLmNhcHR1cmU6ISFyLGM9dW4odCk7aWYoY3x8KHRbemVdPWM9bmV3IFhlKHQpKSwhKG49Yy5hZGQoZSxuLGksdSxvKSkucHJveHkpaWYoYT1zbixpPXM9amU/ZnVuY3Rpb24odCl7cmV0dXJuIGEuY2FsbChzLnNyYyxzLmxpc3RlbmVyLHQpfTpmdW5jdGlvbih0KXtpZighKHQ9YS5jYWxsKHMuc3JjLHMubGlzdGVuZXIsdCkpKXJldHVybiB0fSwobi5wcm94eT1pKS5zcmM9dCxpLmxpc3RlbmVyPW4sdC5hZGRFdmVudExpc3RlbmVyKXZvaWQgMD09PShyPSFWZT91OnIpJiYocj0hMSksdC5hZGRFdmVudExpc3RlbmVyKGUudG9TdHJpbmcoKSxpLHIpO2Vsc2UgaWYodC5hdHRhY2hFdmVudCl0LmF0dGFjaEV2ZW50KHJuKGUudG9TdHJpbmcoKSksaSk7ZWxzZXtpZighdC5hZGRMaXN0ZW5lcnx8IXQucmVtb3ZlTGlzdGVuZXIpdGhyb3cgRXJyb3IoXCJhZGRFdmVudExpc3RlbmVyIGFuZCBhdHRhY2hFdmVudCBhcmUgdW5hdmFpbGFibGUuXCIpO3QuYWRkTGlzdGVuZXIoaSl9fWZ1bmN0aW9uIHRuKHQsZSxuLGkscil7aWYoQXJyYXkuaXNBcnJheShlKSlmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKyl0bih0LGVbb10sbixpLHIpO2Vsc2Ugbj1obihuKSx0JiZ0W0tlXT9kbih0LGUsbixtKGkpPyEhaS5jYXB0dXJlOiEhaSxyKTpRZSh0LGUsbiwhMCxpLHIpfWZ1bmN0aW9uIGVuKHQsZSxuLGkscil7aWYoQXJyYXkuaXNBcnJheShlKSlmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKyllbih0LGVbb10sbixpLHIpO2Vsc2UgaT1tKGkpPyEhaS5jYXB0dXJlOiEhaSxuPWhuKG4pLHQmJnRbS2VdPyh0PXQudiwoZT1TdHJpbmcoZSkudG9TdHJpbmcoKSlpbiB0LmEmJigtMTwobj1ZZShvPXQuYVtlXSxuLGkscikpJiYoV2Uob1tuXSksQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKG8sbiwxKSwwPT1vLmxlbmd0aCYmKGRlbGV0ZSB0LmFbZV0sdC5iLS0pKSkpOih0PXQmJnVuKHQpKSYmKGU9dC5hW2UudG9TdHJpbmcoKV0sKG49KHQ9LTEpPCh0PWU/WWUoZSxuLGkscik6dCk/ZVt0XTpudWxsKSYmbm4obikpfWZ1bmN0aW9uIG5uKHQpe3ZhciBlLG4saTtcIm51bWJlclwiIT10eXBlb2YgdCYmdCYmIXQudmEmJigoZT10LnNyYykmJmVbS2VdP0plKGUudix0KToobj10LnR5cGUsaT10LnByb3h5LGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj9lLnJlbW92ZUV2ZW50TGlzdGVuZXIobixpLHQuY2FwdHVyZSk6ZS5kZXRhY2hFdmVudD9lLmRldGFjaEV2ZW50KHJuKG4pLGkpOmUuYWRkTGlzdGVuZXImJmUucmVtb3ZlTGlzdGVuZXImJmUucmVtb3ZlTGlzdGVuZXIoaSksKG49dW4oZSkpPyhKZShuLHQpLDA9PW4uYiYmKG4uc3JjPW51bGwsZVt6ZV09bnVsbCkpOldlKHQpKSl9ZnVuY3Rpb24gcm4odCl7cmV0dXJuIHQgaW4gJGU/JGVbdF06JGVbdF09XCJvblwiK3R9ZnVuY3Rpb24gb24odCxlLG4saSl7dmFyIHI9ITA7aWYoKHQ9dW4odCkpJiYoZT10LmFbZS50b1N0cmluZygpXSkpZm9yKGU9ZS5jb25jYXQoKSx0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBvPWVbdF07byYmby5jYXB0dXJlPT1uJiYhby52YSYmKG89YW4obyxpKSxyPXImJiExIT09byl9cmV0dXJuIHJ9ZnVuY3Rpb24gYW4odCxlKXt2YXIgbj10Lmxpc3RlbmVyLGk9dC5WYXx8dC5zcmM7cmV0dXJuIHQuUGEmJm5uKHQpLG4uY2FsbChpLGUpfWZ1bmN0aW9uIHNuKHQsZSl7aWYodC52YSlyZXR1cm4hMDtpZihqZSlyZXR1cm4gYW4odCxuZXcgcWUoZSx0aGlzKSk7aWYoIWUpdDp7ZT1bXCJ3aW5kb3dcIixcImV2ZW50XCJdO2Zvcih2YXIgbj1sLGk9MDtpPGUubGVuZ3RoO2krKylpZihudWxsPT0obj1uW2VbaV1dKSl7ZT1udWxsO2JyZWFrIHR9ZT1ufWlmKGU9bmV3IHFlKGk9ZSx0aGlzKSxuPSEwLCEoaS5rZXlDb2RlPDB8fG51bGwhPWkucmV0dXJuVmFsdWUpKXt0Ont2YXIgcj0hMTtpZigwPT1pLmtleUNvZGUpdHJ5e2kua2V5Q29kZT0tMTticmVhayB0fWNhdGNoKHQpe3I9ITB9IXImJm51bGwhPWkucmV0dXJuVmFsdWV8fChpLnJldHVyblZhbHVlPSEwKX1mb3IoaT1bXSxyPWUuYjtyO3I9ci5wYXJlbnROb2RlKWkucHVzaChyKTtmb3IodD10LnR5cGUscj1pLmxlbmd0aC0xOzA8PXI7ci0tKXtlLmI9aVtyXTt2YXIgbz1vbihpW3JdLHQsITAsZSksbj1uJiZvfWZvcihyPTA7cjxpLmxlbmd0aDtyKyspZS5iPWlbcl0sbz1vbihpW3JdLHQsITEsZSksbj1uJiZvfXJldHVybiBufWZ1bmN0aW9uIHVuKHQpe3JldHVybih0PXRbemVdKWluc3RhbmNlb2YgWGU/dDpudWxsfXZhciBjbj1cIl9fY2xvc3VyZV9ldmVudHNfZm5fXCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCk7ZnVuY3Rpb24gaG4oZSl7cmV0dXJuIHYoZSk/ZTooZVtjbl18fChlW2NuXT1mdW5jdGlvbih0KXtyZXR1cm4gZS5oYW5kbGVFdmVudCh0KX0pLGVbY25dKX1mdW5jdGlvbiBsbigpe1BlLmNhbGwodGhpcyksdGhpcy52PW5ldyBYZSh0aGlzKSwodGhpcy5hYz10aGlzKS5nYj1udWxsfWZ1bmN0aW9uIGZuKHQsZSxuLGkscil7dC52LmFkZChTdHJpbmcoZSksbiwhMSxpLHIpfWZ1bmN0aW9uIGRuKHQsZSxuLGkscil7dC52LmFkZChTdHJpbmcoZSksbiwhMCxpLHIpfWZ1bmN0aW9uIHBuKHQsZSxuLGkpe2lmKCEoZT10LnYuYVtTdHJpbmcoZSldKSlyZXR1cm4hMDtlPWUuY29uY2F0KCk7Zm9yKHZhciByPSEwLG89MDtvPGUubGVuZ3RoOysrbyl7dmFyIGEscyx1PWVbb107dSYmIXUudmEmJnUuY2FwdHVyZT09biYmKGE9dS5saXN0ZW5lcixzPXUuVmF8fHUuc3JjLHUuUGEmJkplKHQudix1KSxyPSExIT09YS5jYWxsKHMsaSkmJnIpfXJldHVybiByJiYhaS5kZWZhdWx0UHJldmVudGVkfWZ1bmN0aW9uIHZuKHQsZSxuKXtpZih2KHQpKW4mJih0PWIodCxuKSk7ZWxzZXtpZighdHx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5oYW5kbGVFdmVudCl0aHJvdyBFcnJvcihcIkludmFsaWQgbGlzdGVuZXIgYXJndW1lbnRcIik7dD1iKHQuaGFuZGxlRXZlbnQsdCl9cmV0dXJuIDIxNDc0ODM2NDc8TnVtYmVyKGUpPy0xOmwuc2V0VGltZW91dCh0LGV8fDApfWZ1bmN0aW9uIG1uKG4pe3ZhciBpPW51bGw7cmV0dXJuIG5ldyBmZShmdW5jdGlvbih0LGUpey0xPT0oaT12bihmdW5jdGlvbigpe3Qodm9pZCAwKX0sbikpJiZlKEVycm9yKFwiRmFpbGVkIHRvIHNjaGVkdWxlIHRpbWVyLlwiKSl9KS5vKGZ1bmN0aW9uKHQpe3Rocm93IGwuY2xlYXJUaW1lb3V0KGkpLHR9KX1mdW5jdGlvbiBnbih0KXtpZih0LlcmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuVylyZXR1cm4gdC5XKCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHQuc3BsaXQoXCJcIik7aWYocCh0KSl7Zm9yKHZhciBlPVtdLG49dC5sZW5ndGgsaT0wO2k8bjtpKyspZS5wdXNoKHRbaV0pO3JldHVybiBlfWZvcihpIGluIGU9W10sbj0wLHQpZVtuKytdPXRbaV07cmV0dXJuIGV9ZnVuY3Rpb24gYm4odCl7aWYodC5ZJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LlkpcmV0dXJuIHQuWSgpO2lmKCF0Lld8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuVyl7aWYocCh0KXx8XCJzdHJpbmdcIj09dHlwZW9mIHQpe3ZhciBlPVtdO3Q9dC5sZW5ndGg7Zm9yKHZhciBuPTA7bjx0O24rKyllLnB1c2gobik7cmV0dXJuIGV9Zm9yKHZhciBpIGluIGU9W10sbj0wLHQpZVtuKytdPWk7cmV0dXJuIGV9fWZ1bmN0aW9uIHluKHQsZSl7dGhpcy5iPXt9LHRoaXMuYT1bXSx0aGlzLmM9MDt2YXIgbj1hcmd1bWVudHMubGVuZ3RoO2lmKDE8bil7aWYobiUyKXRocm93IEVycm9yKFwiVW5ldmVuIG51bWJlciBvZiBhcmd1bWVudHNcIik7Zm9yKHZhciBpPTA7aTxuO2krPTIpdGhpcy5zZXQoYXJndW1lbnRzW2ldLGFyZ3VtZW50c1tpKzFdKX1lbHNlIGlmKHQpaWYodCBpbnN0YW5jZW9mIHluKWZvcihuPXQuWSgpLGk9MDtpPG4ubGVuZ3RoO2krKyl0aGlzLnNldChuW2ldLHQuZ2V0KG5baV0pKTtlbHNlIGZvcihpIGluIHQpdGhpcy5zZXQoaSx0W2ldKX1mdW5jdGlvbiB3bih0KXtpZih0LmMhPXQuYS5sZW5ndGgpe2Zvcih2YXIgZT0wLG49MDtlPHQuYS5sZW5ndGg7KXt2YXIgaT10LmFbZV07SW4odC5iLGkpJiYodC5hW24rK109aSksZSsrfXQuYS5sZW5ndGg9bn1pZih0LmMhPXQuYS5sZW5ndGgpe2Zvcih2YXIgcj17fSxuPWU9MDtlPHQuYS5sZW5ndGg7KUluKHIsaT10LmFbZV0pfHwoclt0LmFbbisrXT1pXT0xKSxlKys7dC5hLmxlbmd0aD1ufX1mdW5jdGlvbiBJbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX13KGxuLFBlKSxsbi5wcm90b3R5cGVbS2VdPSEwLGxuLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSxuLGkpe1plKHRoaXMsdCxlLG4saSl9LGxuLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSxuLGkpe2VuKHRoaXMsdCxlLG4saSl9LGxuLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlO2lmKG49dGhpcy5nYilmb3IoZT1bXTtuO249bi5nYillLnB1c2gobik7dmFyIG49dGhpcy5hYyxpPXQudHlwZXx8dDtpZihcInN0cmluZ1wiPT10eXBlb2YgdD90PW5ldyBGZSh0LG4pOnQgaW5zdGFuY2VvZiBGZT90LnRhcmdldD10LnRhcmdldHx8bjooYT10LGx0KHQ9bmV3IEZlKGksbiksYSkpLGE9ITAsZSlmb3IodmFyIHI9ZS5sZW5ndGgtMTswPD1yO3ItLSl2YXIgbz10LmI9ZVtyXSxhPXBuKG8saSwhMCx0KSYmYTtpZihhPXBuKG89dC5iPW4saSwhMCx0KSYmYSxhPXBuKG8saSwhMSx0KSYmYSxlKWZvcihyPTA7cjxlLmxlbmd0aDtyKyspYT1wbihvPXQuYj1lW3JdLGksITEsdCkmJmE7cmV0dXJuIGF9LGxuLnByb3RvdHlwZS5EYT1mdW5jdGlvbigpe2lmKGxuLmFiLkRhLmNhbGwodGhpcyksdGhpcy52KXt2YXIgdCxlPXRoaXMudjtmb3IodCBpbiBlLmEpe2Zvcih2YXIgbj1lLmFbdF0saT0wO2k8bi5sZW5ndGg7aSsrKVdlKG5baV0pO2RlbGV0ZSBlLmFbdF0sZS5iLS19fXRoaXMuZ2I9bnVsbH0sKHQ9eW4ucHJvdG90eXBlKS5XPWZ1bmN0aW9uKCl7d24odGhpcyk7Zm9yKHZhciB0PVtdLGU9MDtlPHRoaXMuYS5sZW5ndGg7ZSsrKXQucHVzaCh0aGlzLmJbdGhpcy5hW2VdXSk7cmV0dXJuIHR9LHQuWT1mdW5jdGlvbigpe3JldHVybiB3bih0aGlzKSx0aGlzLmEuY29uY2F0KCl9LHQuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmI9e30sdGhpcy5jPXRoaXMuYS5sZW5ndGg9MH0sdC5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gSW4odGhpcy5iLHQpP3RoaXMuYlt0XTplfSx0LnNldD1mdW5jdGlvbih0LGUpe0luKHRoaXMuYix0KXx8KHRoaXMuYysrLHRoaXMuYS5wdXNoKHQpKSx0aGlzLmJbdF09ZX0sdC5mb3JFYWNoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuWSgpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXSxvPXRoaXMuZ2V0KHIpO3QuY2FsbChlLG8scix0aGlzKX19O3ZhciBUbj0vXig/OihbXjovPyMuXSspOik/KD86XFwvXFwvKD86KFteXFxcXC8/I10qKUApPyhbXlxcXFwvPyNdKj8pKD86OihbMC05XSspKT8oPz1bXFxcXC8/I118JCkpPyhbXj8jXSspPyg/OlxcPyhbXiNdKikpPyg/OiMoW1xcc1xcU10qKSk/JC87ZnVuY3Rpb24gRW4odCxlKXt2YXIgbjt0aGlzLmE9dGhpcy5sPXRoaXMuYz1cIlwiLHRoaXMuZz1udWxsLHRoaXMuaD10aGlzLmY9XCJcIix0aGlzLmk9ITEsdCBpbnN0YW5jZW9mIEVuPyh0aGlzLmk9dm9pZCAwIT09ZT9lOnQuaSxBbih0aGlzLHQuYyksdGhpcy5sPXQubCx0aGlzLmE9dC5hLGtuKHRoaXMsdC5nKSx0aGlzLmY9dC5mLFNuKHRoaXMsQm4odC5iKSksdGhpcy5oPXQuaCk6dCYmKG49U3RyaW5nKHQpLm1hdGNoKFRuKSk/KHRoaXMuaT0hIWUsQW4odGhpcyxuWzFdfHxcIlwiLCEwKSx0aGlzLmw9Um4oblsyXXx8XCJcIiksdGhpcy5hPVJuKG5bM118fFwiXCIsITApLGtuKHRoaXMsbls0XSksdGhpcy5mPVJuKG5bNV18fFwiXCIsITApLFNuKHRoaXMsbls2XXx8XCJcIiwhMCksdGhpcy5oPVJuKG5bN118fFwiXCIpKToodGhpcy5pPSEhZSx0aGlzLmI9bmV3IFZuKG51bGwsdGhpcy5pKSl9ZnVuY3Rpb24gQW4odCxlLG4pe3QuYz1uP1JuKGUsITApOmUsdC5jJiYodC5jPXQuYy5yZXBsYWNlKC86JC8sXCJcIikpfWZ1bmN0aW9uIGtuKHQsZSl7aWYoZSl7aWYoZT1OdW1iZXIoZSksaXNOYU4oZSl8fGU8MCl0aHJvdyBFcnJvcihcIkJhZCBwb3J0IG51bWJlciBcIitlKTt0Lmc9ZX1lbHNlIHQuZz1udWxsfWZ1bmN0aW9uIFNuKHQsZSxuKXt2YXIgaSxyO2UgaW5zdGFuY2VvZiBWbj8odC5iPWUsaT10LmIsKHI9dC5pKSYmIWkuZiYmKEZuKGkpLGkuYz1udWxsLGkuYS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS50b0xvd2VyQ2FzZSgpO2UhPW4mJihIbih0aGlzLGUpLEduKHRoaXMsbix0KSl9LGkpKSxpLmY9cik6KG58fChlPURuKGUsam4pKSx0LmI9bmV3IFZuKGUsdC5pKSl9ZnVuY3Rpb24gTm4odCxlLG4pe3QuYi5zZXQoZSxuKX1mdW5jdGlvbiBfbih0LGUpe3JldHVybiB0LmIuZ2V0KGUpfWZ1bmN0aW9uIE9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRW4/bmV3IEVuKHQpOm5ldyBFbih0LHZvaWQgMCl9ZnVuY3Rpb24gQ24odCxlLG4saSl7dmFyIHI9bmV3IEVuKG51bGwsdm9pZCAwKTtyZXR1cm4gdCYmQW4ocix0KSxlJiYoci5hPWUpLG4mJmtuKHIsbiksaSYmKHIuZj1pKSxyfWZ1bmN0aW9uIFJuKHQsZSl7cmV0dXJuIHQ/ZT9kZWNvZGVVUkkodC5yZXBsYWNlKC8lMjUvZyxcIiUyNTI1XCIpKTpkZWNvZGVVUklDb21wb25lbnQodCk6XCJcIn1mdW5jdGlvbiBEbih0LGUsbil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/KHQ9ZW5jb2RlVVJJKHQpLnJlcGxhY2UoZSxQbiksdD1uP3QucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLFwiJSQxXCIpOnQpOm51bGx9ZnVuY3Rpb24gUG4odCl7cmV0dXJuXCIlXCIrKCh0PXQuY2hhckNvZGVBdCgwKSk+PjQmMTUpLnRvU3RyaW5nKDE2KSsoMTUmdCkudG9TdHJpbmcoMTYpfUVuLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PVtdLGU9dGhpcy5jO2UmJnQucHVzaChEbihlLExuLCEwKSxcIjpcIik7dmFyIG49dGhpcy5hO3JldHVybiFuJiZcImZpbGVcIiE9ZXx8KHQucHVzaChcIi8vXCIpLChlPXRoaXMubCkmJnQucHVzaChEbihlLExuLCEwKSxcIkBcIiksdC5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcobikpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZyxcIiUkMVwiKSksbnVsbCE9KG49dGhpcy5nKSYmdC5wdXNoKFwiOlwiLFN0cmluZyhuKSkpLChuPXRoaXMuZikmJih0aGlzLmEmJlwiL1wiIT1uLmNoYXJBdCgwKSYmdC5wdXNoKFwiL1wiKSx0LnB1c2goRG4obixcIi9cIj09bi5jaGFyQXQoMCk/TW46eG4sITApKSksKG49dGhpcy5iLnRvU3RyaW5nKCkpJiZ0LnB1c2goXCI/XCIsbiksKG49dGhpcy5oKSYmdC5wdXNoKFwiI1wiLERuKG4sVW4pKSx0LmpvaW4oXCJcIil9LEVuLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBFbih0aGlzKSxuPSEhdC5jO24/QW4oZSx0LmMpOm49ISF0Lmwsbj9lLmw9dC5sOm49ISF0LmEsbj9lLmE9dC5hOm49bnVsbCE9dC5nO3ZhciBpPXQuZjtpZihuKWtuKGUsdC5nKTtlbHNlIGlmKG49ISF0LmYpaWYoXCIvXCIhPWkuY2hhckF0KDApJiYodGhpcy5hJiYhdGhpcy5mP2k9XCIvXCIraTotMSE9KHI9ZS5mLmxhc3RJbmRleE9mKFwiL1wiKSkmJihpPWUuZi5zdWJzdHIoMCxyKzEpK2kpKSxcIi4uXCI9PShyPWkpfHxcIi5cIj09cilpPVwiXCI7ZWxzZSBpZihpdChyLFwiLi9cIil8fGl0KHIsXCIvLlwiKSl7Zm9yKHZhciBpPTA9PXIubGFzdEluZGV4T2YoXCIvXCIsMCkscj1yLnNwbGl0KFwiL1wiKSxvPVtdLGE9MDthPHIubGVuZ3RoOyl7dmFyIHM9clthKytdO1wiLlwiPT1zP2kmJmE9PXIubGVuZ3RoJiZvLnB1c2goXCJcIik6XCIuLlwiPT1zPygoMTxvLmxlbmd0aHx8MT09by5sZW5ndGgmJlwiXCIhPW9bMF0pJiZvLnBvcCgpLGkmJmE9PXIubGVuZ3RoJiZvLnB1c2goXCJcIikpOihvLnB1c2gocyksaT0hMCl9aT1vLmpvaW4oXCIvXCIpfWVsc2UgaT1yO3JldHVybiBuP2UuZj1pOm49XCJcIiE9PXQuYi50b1N0cmluZygpLG4/U24oZSxCbih0LmIpKTpuPSEhdC5oLG4mJihlLmg9dC5oKSxlfTt2YXIgTG49L1sjXFwvXFw/QF0vZyx4bj0vWyNcXD86XS9nLE1uPS9bI1xcP10vZyxqbj0vWyNcXD9AXS9nLFVuPS8jL2c7ZnVuY3Rpb24gVm4odCxlKXt0aGlzLmI9dGhpcy5hPW51bGwsdGhpcy5jPXR8fG51bGwsdGhpcy5mPSEhZX1mdW5jdGlvbiBGbihuKXtuLmF8fChuLmE9bmV3IHluLG4uYj0wLG4uYyYmZnVuY3Rpb24odCxlKXtpZih0KXt0PXQuc3BsaXQoXCImXCIpO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaSxyPXRbbl0uaW5kZXhPZihcIj1cIiksbz1udWxsOzA8PXI/KGk9dFtuXS5zdWJzdHJpbmcoMCxyKSxvPXRbbl0uc3Vic3RyaW5nKHIrMSkpOmk9dFtuXSxlKGksbz9kZWNvZGVVUklDb21wb25lbnQoby5yZXBsYWNlKC9cXCsvZyxcIiBcIikpOlwiXCIpfX19KG4uYyxmdW5jdGlvbih0LGUpe24uYWRkKGRlY29kZVVSSUNvbXBvbmVudCh0LnJlcGxhY2UoL1xcKy9nLFwiIFwiKSksZSl9KSl9ZnVuY3Rpb24gcW4odCl7dmFyIGU9Ym4odCk7aWYodm9pZCAwPT09ZSl0aHJvdyBFcnJvcihcIktleXMgYXJlIHVuZGVmaW5lZFwiKTt2YXIgbj1uZXcgVm4obnVsbCx2b2lkIDApO3Q9Z24odCk7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciByPWVbaV0sbz10W2ldO0FycmF5LmlzQXJyYXkobyk/R24obixyLG8pOm4uYWRkKHIsbyl9cmV0dXJuIG59ZnVuY3Rpb24gSG4odCxlKXtGbih0KSxlPVduKHQsZSksSW4odC5hLmIsZSkmJih0LmM9bnVsbCx0LmItPXQuYS5nZXQoZSkubGVuZ3RoLEluKCh0PXQuYSkuYixlKSYmKGRlbGV0ZSB0LmJbZV0sdC5jLS0sdC5hLmxlbmd0aD4yKnQuYyYmd24odCkpKX1mdW5jdGlvbiBLbih0LGUpe3JldHVybiBGbih0KSxlPVduKHQsZSksSW4odC5hLmIsZSl9ZnVuY3Rpb24gR24odCxlLG4pe0huKHQsZSksMDxuLmxlbmd0aCYmKHQuYz1udWxsLHQuYS5zZXQoV24odCxlKSxYKG4pKSx0LmIrPW4ubGVuZ3RoKX1mdW5jdGlvbiBCbih0KXt2YXIgZT1uZXcgVm47cmV0dXJuIGUuYz10LmMsdC5hJiYoZS5hPW5ldyB5bih0LmEpLGUuYj10LmIpLGV9ZnVuY3Rpb24gV24odCxlKXtyZXR1cm4gZT1TdHJpbmcoZSksZT10LmY/ZS50b0xvd2VyQ2FzZSgpOmV9ZnVuY3Rpb24gWG4odCl7dmFyIGU9W107cmV0dXJuIGZ1bmN0aW9uIHQoZSxuLGkpe2lmKG51bGw9PW4paS5wdXNoKFwibnVsbFwiKTtlbHNle2lmKFwib2JqZWN0XCI9PXR5cGVvZiBuKXtpZihBcnJheS5pc0FycmF5KG4pKXt2YXIgcj1uO249ci5sZW5ndGgsaS5wdXNoKFwiW1wiKTtmb3IodmFyIG89XCJcIixhPTA7YTxuO2ErKylpLnB1c2gobyksdChlLHJbYV0saSksbz1cIixcIjtyZXR1cm4gdm9pZCBpLnB1c2goXCJdXCIpfWlmKCEobiBpbnN0YW5jZW9mIFN0cmluZ3x8biBpbnN0YW5jZW9mIE51bWJlcnx8biBpbnN0YW5jZW9mIEJvb2xlYW4pKXtmb3IociBpbiBpLnB1c2goXCJ7XCIpLG89XCJcIixuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoYT1uW3JdLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGEmJihpLnB1c2gobyksJG4ocixpKSxpLnB1c2goXCI6XCIpLHQoZSxhLGkpLG89XCIsXCIpKTtyZXR1cm4gdm9pZCBpLnB1c2goXCJ9XCIpfW49bi52YWx1ZU9mKCl9c3dpdGNoKHR5cGVvZiBuKXtjYXNlXCJzdHJpbmdcIjokbihuLGkpO2JyZWFrO2Nhc2VcIm51bWJlclwiOmkucHVzaChpc0Zpbml0ZShuKSYmIWlzTmFOKG4pP1N0cmluZyhuKTpcIm51bGxcIik7YnJlYWs7Y2FzZVwiYm9vbGVhblwiOmkucHVzaChTdHJpbmcobikpO2JyZWFrO2Nhc2VcImZ1bmN0aW9uXCI6aS5wdXNoKFwibnVsbFwiKTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5rbm93biB0eXBlOiBcIit0eXBlb2Ygbil9fX0obmV3IEpuLHQsZSksZS5qb2luKFwiXCIpfWZ1bmN0aW9uIEpuKCl7fSh0PVZuLnByb3RvdHlwZSkuYWRkPWZ1bmN0aW9uKHQsZSl7Rm4odGhpcyksdGhpcy5jPW51bGwsdD1Xbih0aGlzLHQpO3ZhciBuPXRoaXMuYS5nZXQodCk7cmV0dXJuIG58fHRoaXMuYS5zZXQodCxuPVtdKSxuLnB1c2goZSksdGhpcy5iKz0xLHRoaXN9LHQuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmE9dGhpcy5jPW51bGwsdGhpcy5iPTB9LHQuZm9yRWFjaD1mdW5jdGlvbihuLGkpe0ZuKHRoaXMpLHRoaXMuYS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7Vih0LGZ1bmN0aW9uKHQpe24uY2FsbChpLHQsZSx0aGlzKX0sdGhpcyl9LHRoaXMpfSx0Llk9ZnVuY3Rpb24oKXtGbih0aGlzKTtmb3IodmFyIHQ9dGhpcy5hLlcoKSxlPXRoaXMuYS5ZKCksbj1bXSxpPTA7aTxlLmxlbmd0aDtpKyspZm9yKHZhciByPXRbaV0sbz0wO288ci5sZW5ndGg7bysrKW4ucHVzaChlW2ldKTtyZXR1cm4gbn0sdC5XPWZ1bmN0aW9uKHQpe0ZuKHRoaXMpO3ZhciBlPVtdO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KUtuKHRoaXMsdCkmJihlPVcoZSx0aGlzLmEuZ2V0KFduKHRoaXMsdCkpKSk7ZWxzZXt0PXRoaXMuYS5XKCk7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZT1XKGUsdFtuXSl9cmV0dXJuIGV9LHQuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEZuKHRoaXMpLHRoaXMuYz1udWxsLEtuKHRoaXMsdD1Xbih0aGlzLHQpKSYmKHRoaXMuYi09dGhpcy5hLmdldCh0KS5sZW5ndGgpLHRoaXMuYS5zZXQodCxbZV0pLHRoaXMuYis9MSx0aGlzfSx0LmdldD1mdW5jdGlvbih0LGUpe3JldHVybiB0JiYwPCh0PXRoaXMuVyh0KSkubGVuZ3RoP1N0cmluZyh0WzBdKTplfSx0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5jKXJldHVybiB0aGlzLmM7aWYoIXRoaXMuYSlyZXR1cm5cIlwiO2Zvcih2YXIgdD1bXSxlPXRoaXMuYS5ZKCksbj0wO248ZS5sZW5ndGg7bisrKWZvcih2YXIgaT1lW25dLHI9ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhpKSksaT10aGlzLlcoaSksbz0wO288aS5sZW5ndGg7bysrKXt2YXIgYT1yO1wiXCIhPT1pW29dJiYoYSs9XCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhpW29dKSkpLHQucHVzaChhKX1yZXR1cm4gdGhpcy5jPXQuam9pbihcIiZcIil9O3ZhciBZbj17J1wiJzonXFxcXFwiJyxcIlxcXFxcIjpcIlxcXFxcXFxcXCIsXCIvXCI6XCJcXFxcL1wiLFwiXFxiXCI6XCJcXFxcYlwiLFwiXFxmXCI6XCJcXFxcZlwiLFwiXFxuXCI6XCJcXFxcblwiLFwiXFxyXCI6XCJcXFxcclwiLFwiXFx0XCI6XCJcXFxcdFwiLFwiXFx2XCI6XCJcXFxcdTAwMGJcIn0sem49L1xcdWZmZmYvLnRlc3QoXCJcXHVmZmZmXCIpPy9bXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHVmZmZmXS9nOi9bXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHhmZl0vZztmdW5jdGlvbiAkbih0LGUpe2UucHVzaCgnXCInLHQucmVwbGFjZSh6bixmdW5jdGlvbih0KXt2YXIgZT1Zblt0XTtyZXR1cm4gZXx8KGU9XCJcXFxcdVwiKyg2NTUzNnx0LmNoYXJDb2RlQXQoMCkpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSksWW5bdF09ZSksZX0pLCdcIicpfWZ1bmN0aW9uIFpuKCl7dmFyIHQ9Z2koKTtyZXR1cm4gSHQmJlp0JiYxMT09WnR8fC9FZGdlXFwvXFxkKy8udGVzdCh0KX1mdW5jdGlvbiBRbigpe3JldHVybiBsLndpbmRvdyYmbC53aW5kb3cubG9jYXRpb24uaHJlZnx8c2VsZiYmc2VsZi5sb2NhdGlvbiYmc2VsZi5sb2NhdGlvbi5ocmVmfHxcIlwifWZ1bmN0aW9uIHRpKHQsZSl7ZT1lfHxsLndpbmRvdzt2YXIgbj1cImFib3V0OmJsYW5rXCI7dCYmKG49U3QoQ3QodCl8fFB0KSksZS5sb2NhdGlvbi5ocmVmPW59ZnVuY3Rpb24gZWkodCl7cmV0dXJuISEoKHQ9KHR8fGdpKCkpLnRvTG93ZXJDYXNlKCkpLm1hdGNoKC9hbmRyb2lkLyl8fHQubWF0Y2goL3dlYm9zLyl8fHQubWF0Y2goL2lwaG9uZXxpcGFkfGlwb2QvKXx8dC5tYXRjaCgvYmxhY2tiZXJyeS8pfHx0Lm1hdGNoKC93aW5kb3dzIHBob25lLyl8fHQubWF0Y2goL2llbW9iaWxlLykpfWZ1bmN0aW9uIG5pKHQpe3Q9dHx8bC53aW5kb3c7dHJ5e3QuY2xvc2UoKX1jYXRjaCh0KXt9fWZ1bmN0aW9uIGlpKHQsZSxuKXt2YXIgaT1NYXRoLmZsb29yKDFlOSpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpO2U9ZXx8NTAwLG49bnx8NjAwO3ZhciByPSh3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0LW4pLzIsbz0od2luZG93LnNjcmVlbi5hdmFpbFdpZHRoLWUpLzI7Zm9yKGEgaW4gZT17d2lkdGg6ZSxoZWlnaHQ6bix0b3A6MDxyP3I6MCxsZWZ0OjA8bz9vOjAsbG9jYXRpb246ITAscmVzaXphYmxlOiEwLHN0YXR1c2JhcjohMCx0b29sYmFyOiExfSxuPWdpKCkudG9Mb3dlckNhc2UoKSxpJiYoZS50YXJnZXQ9aSxpdChuLFwiY3Jpb3MvXCIpJiYoZS50YXJnZXQ9XCJfYmxhbmtcIikpLHBpKGdpKCkpPT1maSYmKHQ9dHx8XCJodHRwOi8vbG9jYWxob3N0XCIsZS5zY3JvbGxiYXJzPSEwKSxuPXR8fFwiXCIsKHQ9ZSl8fCh0PXt9KSxpPXdpbmRvdyxlPW4gaW5zdGFuY2VvZiBrdD9uOkN0KHZvaWQgMCE9PW4uaHJlZj9uLmhyZWY6U3RyaW5nKG4pKXx8UHQsbj10LnRhcmdldHx8bi50YXJnZXQscj1bXSx0KXN3aXRjaChhKXtjYXNlXCJ3aWR0aFwiOmNhc2VcImhlaWdodFwiOmNhc2VcInRvcFwiOmNhc2VcImxlZnRcIjpyLnB1c2goYStcIj1cIit0W2FdKTticmVhaztjYXNlXCJ0YXJnZXRcIjpjYXNlXCJub29wZW5lclwiOmNhc2VcIm5vcmVmZXJyZXJcIjpicmVhaztkZWZhdWx0OnIucHVzaChhK1wiPVwiKyh0W2FdPzE6MCkpfXZhciBhPXIuam9pbihcIixcIik7aWYoKGF0KFwiaVBob25lXCIpJiYhYXQoXCJpUG9kXCIpJiYhYXQoXCJpUGFkXCIpfHxhdChcImlQYWRcIil8fGF0KFwiaVBvZFwiKSkmJmkubmF2aWdhdG9yJiZpLm5hdmlnYXRvci5zdGFuZGFsb25lJiZuJiZcIl9zZWxmXCIhPW4/KGZ0KGE9YWUoZG9jdW1lbnQsXCJBXCIpLFwiSFRNTEFuY2hvckVsZW1lbnRcIiksZT1lIGluc3RhbmNlb2Yga3Q/ZTpSdChlKSxhLmhyZWY9U3QoZSksYS5zZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIixuKSx0Lm5vcmVmZXJyZXImJmEuc2V0QXR0cmlidXRlKFwicmVsXCIsXCJub3JlZmVycmVyXCIpLCh0PWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudFwiKSkuaW5pdE1vdXNlRXZlbnQoXCJjbGlja1wiLCEwLCEwLGksMSksYS5kaXNwYXRjaEV2ZW50KHQpLGE9e30pOnQubm9yZWZlcnJlcj8oYT1NdChcIlwiLGksbixhKSx0PVN0KGUpLGEmJihHdCYmaXQodCxcIjtcIikmJih0PVwiJ1wiK3QucmVwbGFjZSgvJy9nLFwiJTI3XCIpK1wiJ1wiKSxhLm9wZW5lcj1udWxsLHQ9JzxtZXRhIG5hbWU9XCJyZWZlcnJlclwiIGNvbnRlbnQ9XCJuby1yZWZlcnJlclwiPjxtZXRhIGh0dHAtZXF1aXY9XCJyZWZyZXNoXCIgY29udGVudD1cIjA7IHVybD0nK1V0KHQpKydcIj4nLHQ9bmV3IEx0KHQ9KGk9YnQoKSk/aS5jcmVhdGVIVE1MKHQpOnQsMCx4dCksaT1hLmRvY3VtZW50KSYmKGkud3JpdGUoKG89dClpbnN0YW5jZW9mIEx0JiZvLmNvbnN0cnVjdG9yPT09THQ/by5hOihEKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgU2FmZUh0bWwsIGdvdCAnXCIrbytcIicgb2YgdHlwZSBcIitkKG8pKSxcInR5cGVfZXJyb3I6U2FmZUh0bWxcIikpLGkuY2xvc2UoKSkpOihhPU10KGUsaSxuLGEpKSYmdC5ub29wZW5lciYmKGEub3BlbmVyPW51bGwpLGEpdHJ5e2EuZm9jdXMoKX1jYXRjaCh0KXt9cmV0dXJuIGF9dmFyIHJpPS9eXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9XFwuXFxkezEsM30kLyxvaT0vXlteQF0rQFteQF0rJC87ZnVuY3Rpb24gYWkoKXt2YXIgZT1udWxsO3JldHVybiBuZXcgZmUoZnVuY3Rpb24odCl7XCJjb21wbGV0ZVwiPT1sLmRvY3VtZW50LnJlYWR5U3RhdGU/dCgpOihlPWZ1bmN0aW9uKCl7dCgpfSx0bih3aW5kb3csXCJsb2FkXCIsZSkpfSkubyhmdW5jdGlvbih0KXt0aHJvdyBlbih3aW5kb3csXCJsb2FkXCIsZSksdH0pfWZ1bmN0aW9uIHNpKHQpe3JldHVybiB0PXR8fGdpKCksIShcImZpbGU6XCIhPT1UaSgpJiZcImlvbmljOlwiIT09VGkoKXx8IXQudG9Mb3dlckNhc2UoKS5tYXRjaCgvaXBob25lfGlwYWR8aXBvZHxhbmRyb2lkLykpfWZ1bmN0aW9uIHVpKCl7dmFyIHQ9bC53aW5kb3c7dHJ5e3JldHVybiB0JiZ0IT10LnRvcH1jYXRjaCh0KXtyZXR1cm59fWZ1bmN0aW9uIGNpKCl7cmV0dXJuIHZvaWQgMCE9PWwuV29ya2VyR2xvYmFsU2NvcGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGwuaW1wb3J0U2NyaXB0c31mdW5jdGlvbiBoaSgpe3JldHVybiB6bC5kZWZhdWx0LklOVEVSTkFMLmhhc093blByb3BlcnR5KFwicmVhY3ROYXRpdmVcIik/XCJSZWFjdE5hdGl2ZVwiOnpsLmRlZmF1bHQuSU5URVJOQUwuaGFzT3duUHJvcGVydHkoXCJub2RlXCIpP1wiTm9kZVwiOmNpKCk/XCJXb3JrZXJcIjpcIkJyb3dzZXJcIn1mdW5jdGlvbiBsaSgpe3ZhciB0PWhpKCk7cmV0dXJuXCJSZWFjdE5hdGl2ZVwiPT09dHx8XCJOb2RlXCI9PT10fXZhciBmaT1cIkZpcmVmb3hcIixkaT1cIkNocm9tZVwiO2Z1bmN0aW9uIHBpKHQpe3ZhciBlPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gaXQoZSxcIm9wZXJhL1wiKXx8aXQoZSxcIm9wci9cIil8fGl0KGUsXCJvcGlvcy9cIik/XCJPcGVyYVwiOml0KGUsXCJpZW1vYmlsZVwiKT9cIklFTW9iaWxlXCI6aXQoZSxcIm1zaWVcIil8fGl0KGUsXCJ0cmlkZW50L1wiKT9cIklFXCI6aXQoZSxcImVkZ2UvXCIpP1wiRWRnZVwiOml0KGUsXCJmaXJlZm94L1wiKT9maTppdChlLFwic2lsay9cIik/XCJTaWxrXCI6aXQoZSxcImJsYWNrYmVycnlcIik/XCJCbGFja2JlcnJ5XCI6aXQoZSxcIndlYm9zXCIpP1wiV2Vib3NcIjohaXQoZSxcInNhZmFyaS9cIil8fGl0KGUsXCJjaHJvbWUvXCIpfHxpdChlLFwiY3Jpb3MvXCIpfHxpdChlLFwiYW5kcm9pZFwiKT8haXQoZSxcImNocm9tZS9cIikmJiFpdChlLFwiY3Jpb3MvXCIpfHxpdChlLFwiZWRnZS9cIik/aXQoZSxcImFuZHJvaWRcIik/XCJBbmRyb2lkXCI6KHQ9dC5tYXRjaCgvKFthLXpBLVpcXGRcXC5dKylcXC9bYS16QS1aXFxkXFwuXSokLykpJiYyPT10Lmxlbmd0aD90WzFdOlwiT3RoZXJcIjpkaTpcIlNhZmFyaVwifXZhciB2aT17bWQ6XCJGaXJlYmFzZUNvcmUtd2ViXCIsb2Q6XCJGaXJlYmFzZVVJLXdlYlwifTtmdW5jdGlvbiBtaSh0LGUpe2U9ZXx8W107dmFyIG4saT1bXSxyPXt9O2ZvcihuIGluIHZpKXJbdmlbbl1dPSEwO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspdm9pZCAwIT09cltlW25dXSYmKGRlbGV0ZSByW2Vbbl1dLGkucHVzaChlW25dKSk7cmV0dXJuIGkuc29ydCgpLChlPWkpLmxlbmd0aHx8KGU9W1wiRmlyZWJhc2VDb3JlLXdlYlwiXSksXCJCcm93c2VyXCI9PT0oaT1oaSgpKT9pPXBpKHI9Z2koKSk6XCJXb3JrZXJcIj09PWkmJihpPXBpKHI9Z2koKSkrXCItXCIraSksaStcIi9Kc0NvcmUvXCIrdCtcIi9cIitlLmpvaW4oXCIsXCIpfWZ1bmN0aW9uIGdpKCl7cmV0dXJuIGwubmF2aWdhdG9yJiZsLm5hdmlnYXRvci51c2VyQWdlbnR8fFwiXCJ9ZnVuY3Rpb24gYmkodCxlKXt0PXQuc3BsaXQoXCIuXCIpLGU9ZXx8bDtmb3IodmFyIG49MDtuPHQubGVuZ3RoJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9ZTtuKyspZT1lW3Rbbl1dO3JldHVybiBlPW4hPXQubGVuZ3RoP3ZvaWQgMDplfWZ1bmN0aW9uIHlpKCl7dHJ5e3ZhciB0PWwubG9jYWxTdG9yYWdlLGU9TmkoKTtpZih0KXJldHVybiB0LnNldEl0ZW0oZSxcIjFcIiksdC5yZW1vdmVJdGVtKGUpLCFabigpfHwhIWwuaW5kZXhlZERCfWNhdGNoKHQpe3JldHVybiBjaSgpJiYhIWwuaW5kZXhlZERCfXJldHVybiExfWZ1bmN0aW9uIHdpKCl7cmV0dXJuKElpKCl8fFwiY2hyb21lLWV4dGVuc2lvbjpcIj09PVRpKCl8fHNpKCkpJiYhbGkoKSYmeWkoKSYmIWNpKCl9ZnVuY3Rpb24gSWkoKXtyZXR1cm5cImh0dHA6XCI9PT1UaSgpfHxcImh0dHBzOlwiPT09VGkoKX1mdW5jdGlvbiBUaSgpe3JldHVybiBsLmxvY2F0aW9uJiZsLmxvY2F0aW9uLnByb3RvY29sfHxudWxsfWZ1bmN0aW9uIEVpKHQpe3JldHVybiFlaSh0PXR8fGdpKCkpJiZwaSh0KSE9Zml9ZnVuY3Rpb24gQWkodCl7cmV0dXJuIHZvaWQgMD09PXQ/bnVsbDpYbih0KX1mdW5jdGlvbiBraSh0KXt2YXIgZSxuPXt9O2ZvcihlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmbnVsbCE9PXRbZV0mJnZvaWQgMCE9PXRbZV0mJihuW2VdPXRbZV0pO3JldHVybiBufWZ1bmN0aW9uIFNpKHQpe2lmKG51bGwhPT10KXJldHVybiBKU09OLnBhcnNlKHQpfWZ1bmN0aW9uIE5pKHQpe3JldHVybiB0fHxNYXRoLmZsb29yKDFlOSpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpfWZ1bmN0aW9uIF9pKHQpe3JldHVyblwiU2FmYXJpXCIhPXBpKHQ9dHx8Z2koKSkmJiF0LnRvTG93ZXJDYXNlKCkubWF0Y2goL2lwaG9uZXxpcGFkfGlwb2QvKX1mdW5jdGlvbiBPaSgpe3ZhciB0PWwuX19fanNsO2lmKHQmJnQuSClmb3IodmFyIGUgaW4gdC5IKWlmKHQuSFtlXS5yPXQuSFtlXS5yfHxbXSx0LkhbZV0uTD10LkhbZV0uTHx8W10sdC5IW2VdLnI9dC5IW2VdLkwuY29uY2F0KCksdC5DUClmb3IodmFyIG49MDtuPHQuQ1AubGVuZ3RoO24rKyl0LkNQW25dPW51bGx9ZnVuY3Rpb24gQ2kodCxlKXtpZihlPHQpdGhyb3cgRXJyb3IoXCJTaG9ydCBkZWxheSBzaG91bGQgYmUgbGVzcyB0aGFuIGxvbmcgZGVsYXkhXCIpO3RoaXMuYT10LHRoaXMuYz1lLHQ9Z2koKSxlPWhpKCksdGhpcy5iPWVpKHQpfHxcIlJlYWN0TmF0aXZlXCI9PT1lfWZ1bmN0aW9uIFJpKCl7dmFyIHQ9bC5kb2N1bWVudDtyZXR1cm4hdHx8dm9pZCAwPT09dC52aXNpYmlsaXR5U3RhdGV8fFwidmlzaWJsZVwiPT10LnZpc2liaWxpdHlTdGF0ZX1mdW5jdGlvbiBEaSgpe3ZhciBlPWwuZG9jdW1lbnQsbj1udWxsO3JldHVybiBSaSgpfHwhZT95ZSgpOm5ldyBmZShmdW5jdGlvbih0KXtuPWZ1bmN0aW9uKCl7UmkoKSYmKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIixuLCExKSx0KCkpfSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsbiwhMSl9KS5vKGZ1bmN0aW9uKHQpe3Rocm93IGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIixuLCExKSx0fSl9ZnVuY3Rpb24gUGkodCl7dHJ5e3ZhciBlPW5ldyBEYXRlKHBhcnNlSW50KHQsMTApKTtpZighaXNOYU4oZS5nZXRUaW1lKCkpJiYhL1teMC05XS8udGVzdCh0KSlyZXR1cm4gZS50b1VUQ1N0cmluZygpfWNhdGNoKHQpe31yZXR1cm4gbnVsbH1mdW5jdGlvbiBMaSgpe3JldHVybiBiaShcImZpcmVhdXRoLm9hdXRoaGVscGVyXCIsbCl8fGJpKFwiZmlyZWF1dGguaWZyYW1lXCIsbCl9Q2kucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciB0PWwubmF2aWdhdG9yO3JldHVybiF0fHxcImJvb2xlYW5cIiE9dHlwZW9mIHQub25MaW5lfHwhSWkoKSYmXCJjaHJvbWUtZXh0ZW5zaW9uOlwiIT09VGkoKSYmdm9pZCAwPT09dC5jb25uZWN0aW9ufHx0Lm9uTGluZT90aGlzLmI/dGhpcy5jOnRoaXMuYTpNYXRoLm1pbig1ZTMsdGhpcy5hKX07dmFyIHhpLE1pPXt9O2Z1bmN0aW9uIGppKHQpe01pW3RdfHwoTWlbdF09ITAsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKHQpKX10cnl7dmFyIFVpPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShVaSxcImFiY2RcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6MX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVaSxcImFiY2RcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6Mn0pLHhpPTI9PVVpLmFiY2R9Y2F0Y2godCl7eGk9ITF9ZnVuY3Rpb24gVmkodCxlLG4pe3hpP09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOm59KTp0W2VdPW59ZnVuY3Rpb24gRmkodCxlKXtpZihlKWZvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJlZpKHQsbixlW25dKX1mdW5jdGlvbiBxaSh0KXt2YXIgZT17fTtyZXR1cm4gRmkoZSx0KSxlfWZ1bmN0aW9uIEhpKHQpe3ZhciBlPXQ7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPXQpZm9yKHZhciBuIGluIGU9XCJsZW5ndGhcImluIHQ/W106e30sdClWaShlLG4sSGkodFtuXSkpO3JldHVybiBlfWZ1bmN0aW9uIEtpKHQpe3ZhciBlPXQmJih0W0ppXT9cInBob25lXCI6bnVsbCk7aWYoIShlJiZ0JiZ0W1hpXSkpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiLFwiSW50ZXJuYWwgYXNzZXJ0OiBpbnZhbGlkIE11bHRpRmFjdG9ySW5mbyBvYmplY3RcIik7VmkodGhpcyxcInVpZFwiLHRbWGldKSxWaSh0aGlzLFwiZGlzcGxheU5hbWVcIix0W0JpXXx8bnVsbCk7dmFyIG49bnVsbDtWaSh0aGlzLFwiZW5yb2xsbWVudFRpbWVcIixuPXRbV2ldP25ldyBEYXRlKHRbV2ldKS50b1VUQ1N0cmluZygpOm4pLFZpKHRoaXMsXCJmYWN0b3JJZFwiLGUpfWZ1bmN0aW9uIEdpKHQpe3RyeXt2YXIgZT1uZXcgWWkodCl9Y2F0Y2godCl7ZT1udWxsfXJldHVybiBlfUtpLnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7cmV0dXJue3VpZDp0aGlzLnVpZCxkaXNwbGF5TmFtZTp0aGlzLmRpc3BsYXlOYW1lLGZhY3RvcklkOnRoaXMuZmFjdG9ySWQsZW5yb2xsbWVudFRpbWU6dGhpcy5lbnJvbGxtZW50VGltZX19O3ZhciBCaT1cImRpc3BsYXlOYW1lXCIsV2k9XCJlbnJvbGxlZEF0XCIsWGk9XCJtZmFFbnJvbGxtZW50SWRcIixKaT1cInBob25lSW5mb1wiO2Z1bmN0aW9uIFlpKHQpe0tpLmNhbGwodGhpcyx0KSxWaSh0aGlzLFwicGhvbmVOdW1iZXJcIix0W0ppXSl9ZnVuY3Rpb24gemkodCl7dmFyIGU9e30sbj10W3RyXSxpPXRbbnJdLHI9dFtpcl07aWYodD1HaSh0W2VyXSksIXJ8fHIhPVppJiZyIT1RaSYmIW58fHI9PVFpJiYhaXx8cj09JGkmJiF0KXRocm93IEVycm9yKFwiSW52YWxpZCBjaGVja0FjdGlvbkNvZGUgcmVzcG9uc2UhXCIpO3I9PVFpPyhlW29yXT1ufHxudWxsLGVbc3JdPW58fG51bGwsZVtycl09aSk6KGVbb3JdPWl8fG51bGwsZVtzcl09aXx8bnVsbCxlW3JyXT1ufHxudWxsKSxlW2FyXT10fHxudWxsLFZpKHRoaXMsY3IsciksVmkodGhpcyx1cixIaShlKSl9dyhZaSxLaSksWWkucHJvdG90eXBlLnc9ZnVuY3Rpb24oKXt2YXIgdD1ZaS5hYi53LmNhbGwodGhpcyk7cmV0dXJuIHQucGhvbmVOdW1iZXI9dGhpcy5waG9uZU51bWJlcix0fTt2YXIgJGk9XCJSRVZFUlRfU0VDT05EX0ZBQ1RPUl9BRERJVElPTlwiLFppPVwiRU1BSUxfU0lHTklOXCIsUWk9XCJWRVJJRllfQU5EX0NIQU5HRV9FTUFJTFwiLHRyPVwiZW1haWxcIixlcj1cIm1mYUluZm9cIixucj1cIm5ld0VtYWlsXCIsaXI9XCJyZXF1ZXN0VHlwZVwiLHJyPVwiZW1haWxcIixvcj1cImZyb21FbWFpbFwiLGFyPVwibXVsdGlGYWN0b3JJbmZvXCIsc3I9XCJwcmV2aW91c0VtYWlsXCIsdXI9XCJkYXRhXCIsY3I9XCJvcGVyYXRpb25cIjtmdW5jdGlvbiBocih0KXt2YXIgZT1fbih0PU9uKHQpLGxyKXx8bnVsbCxuPV9uKHQsZnIpfHxudWxsLGk9KGk9X24odCx2cil8fG51bGwpJiZncltpXXx8bnVsbDtpZighZXx8IW58fCFpKXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIixscitcIiwgXCIrZnIrXCJhbmQgXCIrdnIrXCIgYXJlIHJlcXVpcmVkIGluIGEgdmFsaWQgYWN0aW9uIGNvZGUgVVJMLlwiKTtGaSh0aGlzLHthcGlLZXk6ZSxvcGVyYXRpb246aSxjb2RlOm4sY29udGludWVVcmw6X24odCxkcil8fG51bGwsbGFuZ3VhZ2VDb2RlOl9uKHQscHIpfHxudWxsLHRlbmFudElkOl9uKHQsbXIpfHxudWxsfSl9dmFyIGxyPVwiYXBpS2V5XCIsZnI9XCJvb2JDb2RlXCIsZHI9XCJjb250aW51ZVVybFwiLHByPVwibGFuZ3VhZ2VDb2RlXCIsdnI9XCJtb2RlXCIsbXI9XCJ0ZW5hbnRJZFwiLGdyPXtyZWNvdmVyRW1haWw6XCJSRUNPVkVSX0VNQUlMXCIscmVzZXRQYXNzd29yZDpcIlBBU1NXT1JEX1JFU0VUXCIscmV2ZXJ0U2Vjb25kRmFjdG9yQWRkaXRpb246JGksc2lnbkluOlppLHZlcmlmeUFuZENoYW5nZUVtYWlsOlFpLHZlcmlmeUVtYWlsOlwiVkVSSUZZX0VNQUlMXCJ9O2Z1bmN0aW9uIGJyKHQpe3RyeXtyZXR1cm4gbmV3IGhyKHQpfWNhdGNoKHQpe3JldHVybiBudWxsfX1mdW5jdGlvbiB5cih0KXtpZih2b2lkIDA9PT0oZT10W0FyXSkpdGhyb3cgbmV3IFQoXCJtaXNzaW5nLWNvbnRpbnVlLXVyaVwiKTtpZihcInN0cmluZ1wiIT10eXBlb2YgZXx8XCJzdHJpbmdcIj09dHlwZW9mIGUmJiFlLmxlbmd0aCl0aHJvdyBuZXcgVChcImludmFsaWQtY29udGludWUtdXJpXCIpO2lmKHRoaXMuaD1lLHRoaXMuYj10aGlzLmE9bnVsbCx0aGlzLmc9ITEsKGk9dFt3cl0pJiZcIm9iamVjdFwiPT10eXBlb2YgaSl7dmFyIGU9aVtOcl0sbj1pW2tyXSxpPWlbU3JdO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLmxlbmd0aCl7aWYodGhpcy5hPWUsdm9pZCAwIT09biYmXCJib29sZWFuXCIhPXR5cGVvZiBuKXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIixrcitcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgYm9vbGVhbiB3aGVuIHNwZWNpZmllZC5cIik7aWYodGhpcy5nPSEhbix2b2lkIDAhPT1pJiYoXCJzdHJpbmdcIiE9dHlwZW9mIGl8fFwic3RyaW5nXCI9PXR5cGVvZiBpJiYhaS5sZW5ndGgpKXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIixTcitcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgbm9uIGVtcHR5IHN0cmluZyB3aGVuIHNwZWNpZmllZC5cIik7dGhpcy5iPWl8fG51bGx9ZWxzZXtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIixOcitcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgbm9uIGVtcHR5IHN0cmluZyB3aGVuIHNwZWNpZmllZC5cIik7aWYodm9pZCAwIT09bnx8dm9pZCAwIT09aSl0aHJvdyBuZXcgVChcIm1pc3NpbmctYW5kcm9pZC1wa2ctbmFtZVwiKX19ZWxzZSBpZih2b2lkIDAhPT1pKXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIix3citcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgbm9uIG51bGwgb2JqZWN0IHdoZW4gc3BlY2lmaWVkLlwiKTtpZih0aGlzLmY9bnVsbCwoZT10W0VyXSkmJlwib2JqZWN0XCI9PXR5cGVvZiBlKXtpZihcInN0cmluZ1wiPT10eXBlb2YoZT1lW19yXSkmJmUubGVuZ3RoKXRoaXMuZj1lO2Vsc2UgaWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsX3IrXCIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbiBlbXB0eSBzdHJpbmcgd2hlbiBzcGVjaWZpZWQuXCIpfWVsc2UgaWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsRXIrXCIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbiBudWxsIG9iamVjdCB3aGVuIHNwZWNpZmllZC5cIik7aWYodm9pZCAwIT09KGU9dFtUcl0pJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLFRyK1wiIHByb3BlcnR5IG11c3QgYmUgYSBib29sZWFuIHdoZW4gc3BlY2lmaWVkLlwiKTtpZih0aGlzLmM9ISFlLHZvaWQgMCE9PSh0PXRbSXJdKSYmKFwic3RyaW5nXCIhPXR5cGVvZiB0fHxcInN0cmluZ1wiPT10eXBlb2YgdCYmIXQubGVuZ3RoKSl0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsSXIrXCIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbiBlbXB0eSBzdHJpbmcgd2hlbiBzcGVjaWZpZWQuXCIpO3RoaXMuaT10fHxudWxsfXZhciB3cj1cImFuZHJvaWRcIixJcj1cImR5bmFtaWNMaW5rRG9tYWluXCIsVHI9XCJoYW5kbGVDb2RlSW5BcHBcIixFcj1cImlPU1wiLEFyPVwidXJsXCIsa3I9XCJpbnN0YWxsQXBwXCIsU3I9XCJtaW5pbXVtVmVyc2lvblwiLE5yPVwicGFja2FnZU5hbWVcIixfcj1cImJ1bmRsZUlkXCI7ZnVuY3Rpb24gT3IodCl7dmFyIGUsbj17fTtmb3IoZSBpbiBuLmNvbnRpbnVlVXJsPXQuaCxuLmNhbkhhbmRsZUNvZGVJbkFwcD10LmMsKG4uYW5kcm9pZFBhY2thZ2VOYW1lPXQuYSkmJihuLmFuZHJvaWRNaW5pbXVtVmVyc2lvbj10LmIsbi5hbmRyb2lkSW5zdGFsbEFwcD10LmcpLG4uaU9TQnVuZGxlSWQ9dC5mLG4uZHluYW1pY0xpbmtEb21haW49dC5pLG4pbnVsbD09PW5bZV0mJmRlbGV0ZSBuW2VdO3JldHVybiBufXZhciBDcj1udWxsO2Z1bmN0aW9uIFJyKHQpe3ZhciBlPVtdO3JldHVybiBmdW5jdGlvbihpLHQpe2Z1bmN0aW9uIGUodCl7Zm9yKDtyPGkubGVuZ3RoOyl7dmFyIGU9aS5jaGFyQXQocisrKSxuPUNyW2VdO2lmKG51bGwhPW4pcmV0dXJuIG47aWYoIS9eW1xcc1xceGEwXSokLy50ZXN0KGUpKXRocm93IEVycm9yKFwiVW5rbm93biBiYXNlNjQgZW5jb2RpbmcgYXQgY2hhcjogXCIrZSl9cmV0dXJuIHR9IWZ1bmN0aW9uKCl7aWYoIUNyKXtDcj17fTtmb3IodmFyIHQ9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiLnNwbGl0KFwiXCIpLGU9W1wiKy89XCIsXCIrL1wiLFwiLV89XCIsXCItXy5cIixcIi1fXCJdLG49MDtuPDU7bisrKWZvcih2YXIgaT10LmNvbmNhdChlW25dLnNwbGl0KFwiXCIpKSxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07dm9pZCAwPT09Q3Jbb10mJihDcltvXT1yKX19fSgpO2Zvcih2YXIgcj0wOzspe3ZhciBuPWUoLTEpLG89ZSgwKSxhPWUoNjQpLHM9ZSg2NCk7aWYoNjQ9PT1zJiYtMT09PW4pYnJlYWs7dChuPDwyfG8+PjQpLDY0IT1hJiYodChvPDw0JjI0MHxhPj4yKSw2NCE9cyYmdChhPDw2JjE5MnxzKSl9fSh0LGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0pLGV9ZnVuY3Rpb24gRHIodCl7dmFyIGU9THIodCk7aWYoIShlJiZlLnN1YiYmZS5pc3MmJmUuYXVkJiZlLmV4cCkpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIEpXVFwiKTt0aGlzLmg9dCx0aGlzLmE9ZS5leHAsdGhpcy5pPWUuc3ViLHQ9RGF0ZS5ub3coKS8xZTMsdGhpcy5nPWUuaWF0fHwodD50aGlzLmE/dGhpcy5hOnQpLHRoaXMuYj1lLnByb3ZpZGVyX2lkfHxlLmZpcmViYXNlJiZlLmZpcmViYXNlLnNpZ25faW5fcHJvdmlkZXJ8fG51bGwsdGhpcy5mPWUuZmlyZWJhc2UmJmUuZmlyZWJhc2UudGVuYW50fHxudWxsLHRoaXMuYz0hIWUuaXNfYW5vbnltb3VzfHxcImFub255bW91c1wiPT10aGlzLmJ9ZnVuY3Rpb24gUHIodCl7dHJ5e3JldHVybiBuZXcgRHIodCl9Y2F0Y2godCl7cmV0dXJuIG51bGx9fWZ1bmN0aW9uIExyKHQpe2lmKCF0KXJldHVybiBudWxsO2lmKDMhPSh0PXQuc3BsaXQoXCIuXCIpKS5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciBlPSg0LSh0PXRbMV0pLmxlbmd0aCU0KSU0LG49MDtuPGU7bisrKXQrPVwiLlwiO3RyeXt2YXIgaT1Scih0KTtmb3IodD1bXSxuPWU9MDtlPGkubGVuZ3RoOyl7dmFyIHIsbyxhLHM9aVtlKytdO3M8MTI4P3RbbisrXT1TdHJpbmcuZnJvbUNoYXJDb2RlKHMpOjE5MTxzJiZzPDIyND8ocj1pW2UrK10sdFtuKytdPVN0cmluZy5mcm9tQ2hhckNvZGUoKDMxJnMpPDw2fDYzJnIpKToyMzk8cyYmczwzNjU/KGE9KCg3JnMpPDwxOHwoNjMmKHI9aVtlKytdKSk8PDEyfCg2MyYobz1pW2UrK10pKTw8Nnw2MyZpW2UrK10pLTY1NTM2LHRbbisrXT1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2KyhhPj4xMCkpLHRbbisrXT1TdHJpbmcuZnJvbUNoYXJDb2RlKDU2MzIwKygxMDIzJmEpKSk6KHI9aVtlKytdLG89aVtlKytdLHRbbisrXT1TdHJpbmcuZnJvbUNoYXJDb2RlKCgxNSZzKTw8MTJ8KDYzJnIpPDw2fDYzJm8pKX1yZXR1cm4gSlNPTi5wYXJzZSh0LmpvaW4oXCJcIikpfWNhdGNoKHQpe31yZXR1cm4gbnVsbH1Eci5wcm90b3R5cGUuVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9LERyLnByb3RvdHlwZS5sPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY30sRHIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07dmFyIHhyPVwib2F1dGhfY29uc3VtZXJfa2V5IG9hdXRoX25vbmNlIG9hdXRoX3NpZ25hdHVyZSBvYXV0aF9zaWduYXR1cmVfbWV0aG9kIG9hdXRoX3RpbWVzdGFtcCBvYXV0aF90b2tlbiBvYXV0aF92ZXJzaW9uXCIuc3BsaXQoXCIgXCIpLE1yPVtcImNsaWVudF9pZFwiLFwicmVzcG9uc2VfdHlwZVwiLFwic2NvcGVcIixcInJlZGlyZWN0X3VyaVwiLFwic3RhdGVcIl0sanI9e25kOntKYTpcImxvY2FsZVwiLHVhOjcwMCx0YTo2MDAsZmE6XCJmYWNlYm9vay5jb21cIixYYTpNcn0scGQ6e0phOm51bGwsdWE6NTAwLHRhOjc1MCxmYTpcImdpdGh1Yi5jb21cIixYYTpNcn0scWQ6e0phOlwiaGxcIix1YTo1MTUsdGE6NjgwLGZhOlwiZ29vZ2xlLmNvbVwiLFhhOk1yfSx3ZDp7SmE6XCJsYW5nXCIsdWE6NDg1LHRhOjcwNSxmYTpcInR3aXR0ZXIuY29tXCIsWGE6eHJ9LGtkOntKYTpcImxvY2FsZVwiLHVhOjY0MCx0YTo2MDAsZmE6XCJhcHBsZS5jb21cIixYYTpbXX19O2Z1bmN0aW9uIFVyKHQpe2Zvcih2YXIgZSBpbiBqcilpZihqcltlXS5mYT09dClyZXR1cm4ganJbZV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gVnIodCl7dmFyIGU9e307ZVtcImZhY2Vib29rLmNvbVwiXT1HcixlW1wiZ29vZ2xlLmNvbVwiXT1XcixlW1wiZ2l0aHViLmNvbVwiXT1CcixlW1widHdpdHRlci5jb21cIl09WHI7dmFyIG49dCYmdFtxcl07dHJ5e2lmKG4pcmV0dXJuIG5ldyhlW25dfHxLcikodCk7aWYodm9pZCAwIT09dFtGcl0pcmV0dXJuIG5ldyBIcih0KX1jYXRjaCh0KXt9cmV0dXJuIG51bGx9dmFyIEZyPVwiaWRUb2tlblwiLHFyPVwicHJvdmlkZXJJZFwiO2Z1bmN0aW9uIEhyKHQpe3ZhciBlLG49dFtxcl07aWYobnx8IXRbRnJdfHwoZT1Qcih0W0ZyXSkpJiZlLmImJihuPWUuYiksIW4pdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFkZGl0aW9uYWwgdXNlciBpbmZvIVwiKTtcImFub255bW91c1wiIT1uJiZcImN1c3RvbVwiIT1ufHwobj1udWxsKSxlPSExLHZvaWQgMCE9PXQuaXNOZXdVc2VyP2U9ISF0LmlzTmV3VXNlcjpcImlkZW50aXR5dG9vbGtpdCNTaWdudXBOZXdVc2VyUmVzcG9uc2VcIj09PXQua2luZCYmKGU9ITApLFZpKHRoaXMsXCJwcm92aWRlcklkXCIsbiksVmkodGhpcyxcImlzTmV3VXNlclwiLGUpfWZ1bmN0aW9uIEtyKHQpe0hyLmNhbGwodGhpcyx0KSxWaSh0aGlzLFwicHJvZmlsZVwiLEhpKCh0PVNpKHQucmF3VXNlckluZm98fFwie31cIikpfHx7fSkpfWZ1bmN0aW9uIEdyKHQpe2lmKEtyLmNhbGwodGhpcyx0KSxcImZhY2Vib29rLmNvbVwiIT10aGlzLnByb3ZpZGVySWQpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIHByb3ZpZGVyIElEIVwiKX1mdW5jdGlvbiBCcih0KXtpZihLci5jYWxsKHRoaXMsdCksXCJnaXRodWIuY29tXCIhPXRoaXMucHJvdmlkZXJJZCl0aHJvdyBFcnJvcihcIkludmFsaWQgcHJvdmlkZXIgSUQhXCIpO1ZpKHRoaXMsXCJ1c2VybmFtZVwiLHRoaXMucHJvZmlsZSYmdGhpcy5wcm9maWxlLmxvZ2lufHxudWxsKX1mdW5jdGlvbiBXcih0KXtpZihLci5jYWxsKHRoaXMsdCksXCJnb29nbGUuY29tXCIhPXRoaXMucHJvdmlkZXJJZCl0aHJvdyBFcnJvcihcIkludmFsaWQgcHJvdmlkZXIgSUQhXCIpfWZ1bmN0aW9uIFhyKHQpe2lmKEtyLmNhbGwodGhpcyx0KSxcInR3aXR0ZXIuY29tXCIhPXRoaXMucHJvdmlkZXJJZCl0aHJvdyBFcnJvcihcIkludmFsaWQgcHJvdmlkZXIgSUQhXCIpO1ZpKHRoaXMsXCJ1c2VybmFtZVwiLHQuc2NyZWVuTmFtZXx8bnVsbCl9ZnVuY3Rpb24gSnIodCl7dmFyIGU9X24oaT1Pbih0KSxcImxpbmtcIiksbj1fbihPbihlKSxcImxpbmtcIiksaT1fbihpLFwiZGVlcF9saW5rX2lkXCIpO3JldHVybiBfbihPbihpKSxcImxpbmtcIil8fGl8fG58fGV8fHR9ZnVuY3Rpb24gWXIodCxlKXtpZighdCYmIWUpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiLFwiSW50ZXJuYWwgYXNzZXJ0OiBubyByYXcgc2Vzc2lvbiBzdHJpbmcgYXZhaWxhYmxlXCIpO2lmKHQmJmUpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiLFwiSW50ZXJuYWwgYXNzZXJ0OiB1bmFibGUgdG8gZGV0ZXJtaW5lIHRoZSBzZXNzaW9uIHR5cGVcIik7dGhpcy5hPXR8fG51bGwsdGhpcy5iPWV8fG51bGwsdGhpcy50eXBlPXRoaXMuYT96cjokcn13KEtyLEhyKSx3KEdyLEtyKSx3KEJyLEtyKSx3KFdyLEtyKSx3KFhyLEtyKTt2YXIgenI9XCJlbnJvbGxcIiwkcj1cInNpZ25pblwiO2Z1bmN0aW9uIFpyKCl7fWZ1bmN0aW9uIFFyKHQsbil7cmV0dXJuIHQudGhlbihmdW5jdGlvbih0KXtpZih0W0hhXSl7dmFyIGU9UHIodFtIYV0pO2lmKCFlfHxuIT1lLmkpdGhyb3cgbmV3IFQoXCJ1c2VyLW1pc21hdGNoXCIpO3JldHVybiB0fXRocm93IG5ldyBUKFwidXNlci1taXNtYXRjaFwiKX0pLm8oZnVuY3Rpb24odCl7dGhyb3cgdCYmdC5jb2RlJiZ0LmNvZGU9PWsrXCJ1c2VyLW5vdC1mb3VuZFwiP25ldyBUKFwidXNlci1taXNtYXRjaFwiKTp0fSl9ZnVuY3Rpb24gdG8odCxlKXtpZighZSl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIsXCJmYWlsZWQgdG8gY29uc3RydWN0IGEgY3JlZGVudGlhbFwiKTt0aGlzLmE9ZSxWaSh0aGlzLFwicHJvdmlkZXJJZFwiLHQpLFZpKHRoaXMsXCJzaWduSW5NZXRob2RcIix0KX1mdW5jdGlvbiBlbyh0KXtyZXR1cm57cGVuZGluZ1Rva2VuOnQuYSxyZXF1ZXN0VXJpOlwiaHR0cDovL2xvY2FsaG9zdFwifX1mdW5jdGlvbiBubyh0KXtpZih0JiZ0LnByb3ZpZGVySWQmJnQuc2lnbkluTWV0aG9kJiYwPT10LnByb3ZpZGVySWQuaW5kZXhPZihcInNhbWwuXCIpJiZ0LnBlbmRpbmdUb2tlbil0cnl7cmV0dXJuIG5ldyB0byh0LnByb3ZpZGVySWQsdC5wZW5kaW5nVG9rZW4pfWNhdGNoKHQpe31yZXR1cm4gbnVsbH1mdW5jdGlvbiBpbyh0LGUsbil7aWYodGhpcy5hPW51bGwsZS5pZFRva2VufHxlLmFjY2Vzc1Rva2VuKWUuaWRUb2tlbiYmVmkodGhpcyxcImlkVG9rZW5cIixlLmlkVG9rZW4pLGUuYWNjZXNzVG9rZW4mJlZpKHRoaXMsXCJhY2Nlc3NUb2tlblwiLGUuYWNjZXNzVG9rZW4pLGUubm9uY2UmJiFlLnBlbmRpbmdUb2tlbiYmVmkodGhpcyxcIm5vbmNlXCIsZS5ub25jZSksZS5wZW5kaW5nVG9rZW4mJih0aGlzLmE9ZS5wZW5kaW5nVG9rZW4pO2Vsc2V7aWYoIWUub2F1dGhUb2tlbnx8IWUub2F1dGhUb2tlblNlY3JldCl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIsXCJmYWlsZWQgdG8gY29uc3RydWN0IGEgY3JlZGVudGlhbFwiKTtWaSh0aGlzLFwiYWNjZXNzVG9rZW5cIixlLm9hdXRoVG9rZW4pLFZpKHRoaXMsXCJzZWNyZXRcIixlLm9hdXRoVG9rZW5TZWNyZXQpfVZpKHRoaXMsXCJwcm92aWRlcklkXCIsdCksVmkodGhpcyxcInNpZ25Jbk1ldGhvZFwiLG4pfWZ1bmN0aW9uIHJvKHQpe3ZhciBlPXt9O3JldHVybiB0LmlkVG9rZW4mJihlLmlkX3Rva2VuPXQuaWRUb2tlbiksdC5hY2Nlc3NUb2tlbiYmKGUuYWNjZXNzX3Rva2VuPXQuYWNjZXNzVG9rZW4pLHQuc2VjcmV0JiYoZS5vYXV0aF90b2tlbl9zZWNyZXQ9dC5zZWNyZXQpLGUucHJvdmlkZXJJZD10LnByb3ZpZGVySWQsdC5ub25jZSYmIXQuYSYmKGUubm9uY2U9dC5ub25jZSksZT17cG9zdEJvZHk6cW4oZSkudG9TdHJpbmcoKSxyZXF1ZXN0VXJpOlwiaHR0cDovL2xvY2FsaG9zdFwifSx0LmEmJihkZWxldGUgZS5wb3N0Qm9keSxlLnBlbmRpbmdUb2tlbj10LmEpLGV9ZnVuY3Rpb24gb28odCl7aWYodCYmdC5wcm92aWRlcklkJiZ0LnNpZ25Jbk1ldGhvZCl7dmFyIGU9e2lkVG9rZW46dC5vYXV0aElkVG9rZW4sYWNjZXNzVG9rZW46dC5vYXV0aFRva2VuU2VjcmV0P251bGw6dC5vYXV0aEFjY2Vzc1Rva2VuLG9hdXRoVG9rZW5TZWNyZXQ6dC5vYXV0aFRva2VuU2VjcmV0LG9hdXRoVG9rZW46dC5vYXV0aFRva2VuU2VjcmV0JiZ0Lm9hdXRoQWNjZXNzVG9rZW4sbm9uY2U6dC5ub25jZSxwZW5kaW5nVG9rZW46dC5wZW5kaW5nVG9rZW59O3RyeXtyZXR1cm4gbmV3IGlvKHQucHJvdmlkZXJJZCxlLHQuc2lnbkluTWV0aG9kKX1jYXRjaCh0KXt9fXJldHVybiBudWxsfWZ1bmN0aW9uIGFvKHQsZSl7dGhpcy5RYz1lfHxbXSxGaSh0aGlzLHtwcm92aWRlcklkOnQsaXNPQXV0aFByb3ZpZGVyOiEwfSksdGhpcy5JYj17fSx0aGlzLnBiPShVcih0KXx8e30pLkphfHxudWxsLHRoaXMub2I9bnVsbH1mdW5jdGlvbiBzbyh0KXtpZihcInN0cmluZ1wiIT10eXBlb2YgdHx8MCE9dC5pbmRleE9mKFwic2FtbC5cIikpdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLCdTQU1MIHByb3ZpZGVyIElEcyBtdXN0IGJlIHByZWZpeGVkIHdpdGggXCJzYW1sLlwiJyk7YW8uY2FsbCh0aGlzLHQsW10pfWZ1bmN0aW9uIHVvKHQpe2FvLmNhbGwodGhpcyx0LE1yKSx0aGlzLmE9W119ZnVuY3Rpb24gY28oKXt1by5jYWxsKHRoaXMsXCJmYWNlYm9vay5jb21cIil9ZnVuY3Rpb24gaG8odCl7aWYoIXQpdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLFwiY3JlZGVudGlhbCBmYWlsZWQ6IGV4cGVjdGVkIDEgYXJndW1lbnQgKHRoZSBPQXV0aCBhY2Nlc3MgdG9rZW4pLlwiKTt2YXIgZT10O3JldHVybiBtKHQpJiYoZT10LmFjY2Vzc1Rva2VuKSwobmV3IGNvKS5jcmVkZW50aWFsKHthY2Nlc3NUb2tlbjplfSl9ZnVuY3Rpb24gbG8oKXt1by5jYWxsKHRoaXMsXCJnaXRodWIuY29tXCIpfWZ1bmN0aW9uIGZvKHQpe2lmKCF0KXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIixcImNyZWRlbnRpYWwgZmFpbGVkOiBleHBlY3RlZCAxIGFyZ3VtZW50ICh0aGUgT0F1dGggYWNjZXNzIHRva2VuKS5cIik7dmFyIGU9dDtyZXR1cm4gbSh0KSYmKGU9dC5hY2Nlc3NUb2tlbiksKG5ldyBsbykuY3JlZGVudGlhbCh7YWNjZXNzVG9rZW46ZX0pfWZ1bmN0aW9uIHBvKCl7dW8uY2FsbCh0aGlzLFwiZ29vZ2xlLmNvbVwiKSx0aGlzLkNhKFwicHJvZmlsZVwiKX1mdW5jdGlvbiB2byh0LGUpe3ZhciBuPXQ7cmV0dXJuIG0odCkmJihuPXQuaWRUb2tlbixlPXQuYWNjZXNzVG9rZW4pLChuZXcgcG8pLmNyZWRlbnRpYWwoe2lkVG9rZW46bixhY2Nlc3NUb2tlbjplfSl9ZnVuY3Rpb24gbW8oKXthby5jYWxsKHRoaXMsXCJ0d2l0dGVyLmNvbVwiLHhyKX1mdW5jdGlvbiBnbyh0LGUpe3ZhciBuPXQ7aWYoIShuPSFtKG4pP3tvYXV0aFRva2VuOnQsb2F1dGhUb2tlblNlY3JldDplfTpuKS5vYXV0aFRva2VufHwhbi5vYXV0aFRva2VuU2VjcmV0KXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIixcImNyZWRlbnRpYWwgZmFpbGVkOiBleHBlY3RlZCAyIGFyZ3VtZW50cyAodGhlIE9BdXRoIGFjY2VzcyB0b2tlbiBhbmQgc2VjcmV0KS5cIik7cmV0dXJuIG5ldyBpbyhcInR3aXR0ZXIuY29tXCIsbixcInR3aXR0ZXIuY29tXCIpfWZ1bmN0aW9uIGJvKHQsZSxuKXt0aGlzLmE9dCx0aGlzLmY9ZSxWaSh0aGlzLFwicHJvdmlkZXJJZFwiLFwicGFzc3dvcmRcIiksVmkodGhpcyxcInNpZ25Jbk1ldGhvZFwiLG49PT13by5FTUFJTF9MSU5LX1NJR05fSU5fTUVUSE9EP3dvLkVNQUlMX0xJTktfU0lHTl9JTl9NRVRIT0Q6d28uRU1BSUxfUEFTU1dPUkRfU0lHTl9JTl9NRVRIT0QpfWZ1bmN0aW9uIHlvKHQpe3JldHVybiB0JiZ0LmVtYWlsJiZ0LnBhc3N3b3JkP25ldyBibyh0LmVtYWlsLHQucGFzc3dvcmQsdC5zaWduSW5NZXRob2QpOm51bGx9ZnVuY3Rpb24gd28oKXtGaSh0aGlzLHtwcm92aWRlcklkOlwicGFzc3dvcmRcIixpc09BdXRoUHJvdmlkZXI6ITF9KX1mdW5jdGlvbiBJbyh0LGUpe2lmKCEoZT1UbyhlKSkpdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLFwiSW52YWxpZCBlbWFpbCBsaW5rIVwiKTtyZXR1cm4gbmV3IGJvKHQsZS5jb2RlLHdvLkVNQUlMX0xJTktfU0lHTl9JTl9NRVRIT0QpfWZ1bmN0aW9uIFRvKHQpe3JldHVybih0PWJyKHQ9SnIodCkpKSYmdC5vcGVyYXRpb249PT1aaT90Om51bGx9ZnVuY3Rpb24gRW8odCl7aWYoISh0LmViJiZ0LmNifHx0LkxhJiZ0LmVhKSl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpO3RoaXMuYT10LFZpKHRoaXMsXCJwcm92aWRlcklkXCIsXCJwaG9uZVwiKSx0aGlzLmZhPVwicGhvbmVcIixWaSh0aGlzLFwic2lnbkluTWV0aG9kXCIsXCJwaG9uZVwiKX1mdW5jdGlvbiBBbyhlKXtpZihlJiZcInBob25lXCI9PT1lLnByb3ZpZGVySWQmJihlLnZlcmlmaWNhdGlvbklkJiZlLnZlcmlmaWNhdGlvbkNvZGV8fGUudGVtcG9yYXJ5UHJvb2YmJmUucGhvbmVOdW1iZXIpKXt2YXIgbj17fTtyZXR1cm4gVihbXCJ2ZXJpZmljYXRpb25JZFwiLFwidmVyaWZpY2F0aW9uQ29kZVwiLFwidGVtcG9yYXJ5UHJvb2ZcIixcInBob25lTnVtYmVyXCJdLGZ1bmN0aW9uKHQpe2VbdF0mJihuW3RdPWVbdF0pfSksbmV3IEVvKG4pfXJldHVybiBudWxsfWZ1bmN0aW9uIGtvKHQpe3JldHVybiB0LmEuTGEmJnQuYS5lYT97dGVtcG9yYXJ5UHJvb2Y6dC5hLkxhLHBob25lTnVtYmVyOnQuYS5lYX06e3Nlc3Npb25JbmZvOnQuYS5lYixjb2RlOnQuYS5jYn19ZnVuY3Rpb24gU28odCl7dHJ5e3RoaXMuYT10fHx6bC5kZWZhdWx0LmF1dGgoKX1jYXRjaCh0KXt0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsXCJFaXRoZXIgYW4gaW5zdGFuY2Ugb2YgZmlyZWJhc2UuYXV0aC5BdXRoIG11c3QgYmUgcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSBmaXJlYmFzZS5hdXRoLlBob25lQXV0aFByb3ZpZGVyIGNvbnN0cnVjdG9yLCBvciB0aGUgZGVmYXVsdCBmaXJlYmFzZSBBcHAgaW5zdGFuY2UgbXVzdCBiZSBpbml0aWFsaXplZCB2aWEgZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcCgpLlwiKX1GaSh0aGlzLHtwcm92aWRlcklkOlwicGhvbmVcIixpc09BdXRoUHJvdmlkZXI6ITF9KX1mdW5jdGlvbiBObyh0LGUpe2lmKCF0KXRocm93IG5ldyBUKFwibWlzc2luZy12ZXJpZmljYXRpb24taWRcIik7aWYoIWUpdGhyb3cgbmV3IFQoXCJtaXNzaW5nLXZlcmlmaWNhdGlvbi1jb2RlXCIpO3JldHVybiBuZXcgRW8oe2ViOnQsY2I6ZX0pfWZ1bmN0aW9uIF9vKHQpe2lmKHQudGVtcG9yYXJ5UHJvb2YmJnQucGhvbmVOdW1iZXIpcmV0dXJuIG5ldyBFbyh7TGE6dC50ZW1wb3JhcnlQcm9vZixlYTp0LnBob25lTnVtYmVyfSk7dmFyIGU9dCYmdC5wcm92aWRlcklkO2lmKCFlfHxcInBhc3N3b3JkXCI9PT1lKXJldHVybiBudWxsO3ZhciBuPXQmJnQub2F1dGhBY2Nlc3NUb2tlbixpPXQmJnQub2F1dGhUb2tlblNlY3JldCxyPXQmJnQubm9uY2Usbz10JiZ0Lm9hdXRoSWRUb2tlbixhPXQmJnQucGVuZGluZ1Rva2VuO3RyeXtzd2l0Y2goZSl7Y2FzZVwiZ29vZ2xlLmNvbVwiOnJldHVybiB2byhvLG4pO2Nhc2VcImZhY2Vib29rLmNvbVwiOnJldHVybiBobyhuKTtjYXNlXCJnaXRodWIuY29tXCI6cmV0dXJuIGZvKG4pO2Nhc2VcInR3aXR0ZXIuY29tXCI6cmV0dXJuIGdvKG4saSk7ZGVmYXVsdDpyZXR1cm4gbnx8aXx8b3x8YT9hPzA9PWUuaW5kZXhPZihcInNhbWwuXCIpP25ldyB0byhlLGEpOm5ldyBpbyhlLHtwZW5kaW5nVG9rZW46YSxpZFRva2VuOnQub2F1dGhJZFRva2VuLGFjY2Vzc1Rva2VuOnQub2F1dGhBY2Nlc3NUb2tlbn0sZSk6bmV3IHVvKGUpLmNyZWRlbnRpYWwoe2lkVG9rZW46byxhY2Nlc3NUb2tlbjpuLHJhd05vbmNlOnJ9KTpudWxsfX1jYXRjaCh0KXtyZXR1cm4gbnVsbH19ZnVuY3Rpb24gT28odCl7aWYoIXQuaXNPQXV0aFByb3ZpZGVyKXRocm93IG5ldyBUKFwiaW52YWxpZC1vYXV0aC1wcm92aWRlclwiKX1mdW5jdGlvbiBDbyh0LGUsbixpLHIsbyxhKXtpZih0aGlzLmM9dCx0aGlzLmI9ZXx8bnVsbCx0aGlzLmc9bnx8bnVsbCx0aGlzLmY9aXx8bnVsbCx0aGlzLmk9b3x8bnVsbCx0aGlzLmg9YXx8bnVsbCx0aGlzLmE9cnx8bnVsbCwhdGhpcy5nJiYhdGhpcy5hKXRocm93IG5ldyBUKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpO2lmKHRoaXMuZyYmdGhpcy5hKXRocm93IG5ldyBUKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpO2lmKHRoaXMuZyYmIXRoaXMuZil0aHJvdyBuZXcgVChcImludmFsaWQtYXV0aC1ldmVudFwiKX1mdW5jdGlvbiBSbyh0KXtyZXR1cm4odD10fHx7fSkudHlwZT9uZXcgQ28odC50eXBlLHQuZXZlbnRJZCx0LnVybFJlc3BvbnNlLHQuc2Vzc2lvbklkLHQuZXJyb3ImJkUodC5lcnJvciksdC5wb3N0Qm9keSx0LnRlbmFudElkKTpudWxsfWZ1bmN0aW9uIERvKCl7dGhpcy5iPW51bGwsdGhpcy5hPVtdfVlyLnByb3RvdHlwZS5IYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/eWUodGhpcy5hKTp5ZSh0aGlzLmIpfSxZci5wcm90b3R5cGUudz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGU9PXpyP3ttdWx0aUZhY3RvclNlc3Npb246e2lkVG9rZW46dGhpcy5hfX06e211bHRpRmFjdG9yU2Vzc2lvbjp7cGVuZGluZ0NyZWRlbnRpYWw6dGhpcy5ifX19LFpyLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe30sWnIucHJvdG90eXBlLmI9ZnVuY3Rpb24oKXt9LFpyLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7fSxaci5wcm90b3R5cGUudz1mdW5jdGlvbigpe30sdG8ucHJvdG90eXBlLmthPWZ1bmN0aW9uKHQpe3JldHVybiBocyh0LGVvKHRoaXMpKX0sdG8ucHJvdG90eXBlLmI9ZnVuY3Rpb24odCxlKXt2YXIgbj1lbyh0aGlzKTtyZXR1cm4gbi5pZFRva2VuPWUsbHModCxuKX0sdG8ucHJvdG90eXBlLmM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gUXIoZnModCxlbyh0aGlzKSksZSl9LHRvLnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7cmV0dXJue3Byb3ZpZGVySWQ6dGhpcy5wcm92aWRlcklkLHNpZ25Jbk1ldGhvZDp0aGlzLnNpZ25Jbk1ldGhvZCxwZW5kaW5nVG9rZW46dGhpcy5hfX0saW8ucHJvdG90eXBlLmthPWZ1bmN0aW9uKHQpe3JldHVybiBocyh0LHJvKHRoaXMpKX0saW8ucHJvdG90eXBlLmI9ZnVuY3Rpb24odCxlKXt2YXIgbj1ybyh0aGlzKTtyZXR1cm4gbi5pZFRva2VuPWUsbHModCxuKX0saW8ucHJvdG90eXBlLmM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gUXIoZnModCxybyh0aGlzKSksZSl9LGlvLnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7dmFyIHQ9e3Byb3ZpZGVySWQ6dGhpcy5wcm92aWRlcklkLHNpZ25Jbk1ldGhvZDp0aGlzLnNpZ25Jbk1ldGhvZH07cmV0dXJuIHRoaXMuaWRUb2tlbiYmKHQub2F1dGhJZFRva2VuPXRoaXMuaWRUb2tlbiksdGhpcy5hY2Nlc3NUb2tlbiYmKHQub2F1dGhBY2Nlc3NUb2tlbj10aGlzLmFjY2Vzc1Rva2VuKSx0aGlzLnNlY3JldCYmKHQub2F1dGhUb2tlblNlY3JldD10aGlzLnNlY3JldCksdGhpcy5ub25jZSYmKHQubm9uY2U9dGhpcy5ub25jZSksdGhpcy5hJiYodC5wZW5kaW5nVG9rZW49dGhpcy5hKSx0fSxhby5wcm90b3R5cGUuS2E9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuSWI9Y3QodCksdGhpc30sdyhzbyxhbyksdyh1byxhbyksdW8ucHJvdG90eXBlLkNhPWZ1bmN0aW9uKHQpe3JldHVybiBLKHRoaXMuYSx0KXx8dGhpcy5hLnB1c2godCksdGhpc30sdW8ucHJvdG90eXBlLlFiPWZ1bmN0aW9uKCl7cmV0dXJuIFgodGhpcy5hKX0sdW8ucHJvdG90eXBlLmNyZWRlbnRpYWw9ZnVuY3Rpb24odCxlKXtlPW0odCk/e2lkVG9rZW46dC5pZFRva2VufHxudWxsLGFjY2Vzc1Rva2VuOnQuYWNjZXNzVG9rZW58fG51bGwsbm9uY2U6dC5yYXdOb25jZXx8bnVsbH06e2lkVG9rZW46dHx8bnVsbCxhY2Nlc3NUb2tlbjplfHxudWxsfTtpZighZS5pZFRva2VuJiYhZS5hY2Nlc3NUb2tlbil0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsXCJjcmVkZW50aWFsIGZhaWxlZDogbXVzdCBwcm92aWRlIHRoZSBJRCB0b2tlbiBhbmQvb3IgdGhlIGFjY2VzcyB0b2tlbi5cIik7cmV0dXJuIG5ldyBpbyh0aGlzLnByb3ZpZGVySWQsZSx0aGlzLnByb3ZpZGVySWQpfSx3KGNvLHVvKSxWaShjbyxcIlBST1ZJREVSX0lEXCIsXCJmYWNlYm9vay5jb21cIiksVmkoY28sXCJGQUNFQk9PS19TSUdOX0lOX01FVEhPRFwiLFwiZmFjZWJvb2suY29tXCIpLHcobG8sdW8pLFZpKGxvLFwiUFJPVklERVJfSURcIixcImdpdGh1Yi5jb21cIiksVmkobG8sXCJHSVRIVUJfU0lHTl9JTl9NRVRIT0RcIixcImdpdGh1Yi5jb21cIiksdyhwbyx1byksVmkocG8sXCJQUk9WSURFUl9JRFwiLFwiZ29vZ2xlLmNvbVwiKSxWaShwbyxcIkdPT0dMRV9TSUdOX0lOX01FVEhPRFwiLFwiZ29vZ2xlLmNvbVwiKSx3KG1vLGFvKSxWaShtbyxcIlBST1ZJREVSX0lEXCIsXCJ0d2l0dGVyLmNvbVwiKSxWaShtbyxcIlRXSVRURVJfU0lHTl9JTl9NRVRIT0RcIixcInR3aXR0ZXIuY29tXCIpLGJvLnByb3RvdHlwZS5rYT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zaWduSW5NZXRob2Q9PXdvLkVNQUlMX0xJTktfU0lHTl9JTl9NRVRIT0Q/WHModCx3cyx7ZW1haWw6dGhpcy5hLG9vYkNvZGU6dGhpcy5mfSk6WHModCxIcyx7ZW1haWw6dGhpcy5hLHBhc3N3b3JkOnRoaXMuZn0pfSxiby5wcm90b3R5cGUuYj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNpZ25Jbk1ldGhvZD09d28uRU1BSUxfTElOS19TSUdOX0lOX01FVEhPRD9Ycyh0LElzLHtpZFRva2VuOmUsZW1haWw6dGhpcy5hLG9vYkNvZGU6dGhpcy5mfSk6WHModCxMcyx7aWRUb2tlbjplLGVtYWlsOnRoaXMuYSxwYXNzd29yZDp0aGlzLmZ9KX0sYm8ucHJvdG90eXBlLmM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gUXIodGhpcy5rYSh0KSxlKX0sYm8ucHJvdG90eXBlLnc9ZnVuY3Rpb24oKXtyZXR1cm57ZW1haWw6dGhpcy5hLHBhc3N3b3JkOnRoaXMuZixzaWduSW5NZXRob2Q6dGhpcy5zaWduSW5NZXRob2R9fSxGaSh3byx7UFJPVklERVJfSUQ6XCJwYXNzd29yZFwifSksRmkod28se0VNQUlMX0xJTktfU0lHTl9JTl9NRVRIT0Q6XCJlbWFpbExpbmtcIn0pLEZpKHdvLHtFTUFJTF9QQVNTV09SRF9TSUdOX0lOX01FVEhPRDpcInBhc3N3b3JkXCJ9KSxFby5wcm90b3R5cGUua2E9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZmIoa28odGhpcykpfSxFby5wcm90b3R5cGUuYj1mdW5jdGlvbih0LGUpe3ZhciBuPWtvKHRoaXMpO3JldHVybiBuLmlkVG9rZW49ZSxYcyh0LEdzLG4pfSxFby5wcm90b3R5cGUuYz1mdW5jdGlvbih0LGUpe3ZhciBuPWtvKHRoaXMpO3JldHVybiBuLm9wZXJhdGlvbj1cIlJFQVVUSFwiLFFyKHQ9WHModCxCcyxuKSxlKX0sRW8ucHJvdG90eXBlLnc9ZnVuY3Rpb24oKXt2YXIgdD17cHJvdmlkZXJJZDpcInBob25lXCJ9O3JldHVybiB0aGlzLmEuZWImJih0LnZlcmlmaWNhdGlvbklkPXRoaXMuYS5lYiksdGhpcy5hLmNiJiYodC52ZXJpZmljYXRpb25Db2RlPXRoaXMuYS5jYiksdGhpcy5hLkxhJiYodC50ZW1wb3JhcnlQcm9vZj10aGlzLmEuTGEpLHRoaXMuYS5lYSYmKHQucGhvbmVOdW1iZXI9dGhpcy5hLmVhKSx0fSxTby5wcm90b3R5cGUuZmI9ZnVuY3Rpb24oaSxyKXt2YXIgbz10aGlzLmEuYTtyZXR1cm4geWUoci52ZXJpZnkoKSkudGhlbihmdW5jdGlvbihuKXtpZihcInN0cmluZ1wiIT10eXBlb2Ygbil0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsXCJBbiBpbXBsZW1lbnRhdGlvbiBvZiBmaXJlYmFzZS5hdXRoLkFwcGxpY2F0aW9uVmVyaWZpZXIucHJvdG90eXBlLnZlcmlmeSgpIG11c3QgcmV0dXJuIGEgZmlyZWJhc2UuUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBzdHJpbmcuXCIpO2lmKFwicmVjYXB0Y2hhXCIhPT1yLnR5cGUpdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLCdPbmx5IGZpcmViYXNlLmF1dGguQXBwbGljYXRpb25WZXJpZmllcnMgd2l0aCB0eXBlPVwicmVjYXB0Y2hhXCIgYXJlIGN1cnJlbnRseSBzdXBwb3J0ZWQuJyk7dmFyIHQ9bShpKT9pLnNlc3Npb246bnVsbCxlPW0oaSk/aS5waG9uZU51bWJlcjppLHQ9dCYmdC50eXBlPT16cj90LkhhKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gWHMobyxNcyx7aWRUb2tlbjp0LHBob25lRW5yb2xsbWVudEluZm86e3Bob25lTnVtYmVyOmUscmVjYXB0Y2hhVG9rZW46bn19KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBob25lU2Vzc2lvbkluZm8uc2Vzc2lvbkluZm99KX0pOnQmJnQudHlwZT09JHI/dC5IYSgpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGU9byx0PXttZmFQZW5kaW5nQ3JlZGVudGlhbDp0LG1mYUVucm9sbG1lbnRJZDppLm11bHRpRmFjdG9ySGludCYmaS5tdWx0aUZhY3RvckhpbnQudWlkfHxpLm11bHRpRmFjdG9yVWlkLHBob25lU2lnbkluSW5mbzp7cmVjYXB0Y2hhVG9rZW46bn19LFhzKGUsanMsdCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5waG9uZVJlc3BvbnNlSW5mby5zZXNzaW9uSW5mb30pO3ZhciBlfSk6WHMobyxEcyx7cGhvbmVOdW1iZXI6ZSxyZWNhcHRjaGFUb2tlbjpufSk7cmV0dXJuIHQudGhlbihmdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiByLnJlc2V0JiZyLnJlc2V0KCksdH0sZnVuY3Rpb24odCl7dGhyb3dcImZ1bmN0aW9uXCI9PXR5cGVvZiByLnJlc2V0JiZyLnJlc2V0KCksdH0pfSl9LEZpKFNvLHtQUk9WSURFUl9JRDpcInBob25lXCJ9KSxGaShTbyx7UEhPTkVfU0lHTl9JTl9NRVRIT0Q6XCJwaG9uZVwifSksQ28ucHJvdG90eXBlLmdldFVpZD1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0LnB1c2godGhpcy5jKSx0aGlzLmImJnQucHVzaCh0aGlzLmIpLHRoaXMuZiYmdC5wdXNoKHRoaXMuZiksdGhpcy5oJiZ0LnB1c2godGhpcy5oKSx0LmpvaW4oXCItXCIpfSxDby5wcm90b3R5cGUuVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmh9LENvLnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6dGhpcy5jLGV2ZW50SWQ6dGhpcy5iLHVybFJlc3BvbnNlOnRoaXMuZyxzZXNzaW9uSWQ6dGhpcy5mLHBvc3RCb2R5OnRoaXMuaSx0ZW5hbnRJZDp0aGlzLmgsZXJyb3I6dGhpcy5hJiZ0aGlzLmEudygpfX07dmFyIFBvLExvPW51bGw7ZnVuY3Rpb24geG8odCl7dmFyIGU9XCJ1bmF1dGhvcml6ZWQtZG9tYWluXCIsbj12b2lkIDAsaT1Pbih0KTt0PWkuYSxcImNocm9tZS1leHRlbnNpb25cIj09KGk9aS5jKT9uPWp0KFwiVGhpcyBjaHJvbWUgZXh0ZW5zaW9uIElEIChjaHJvbWUtZXh0ZW5zaW9uOi8vJXMpIGlzIG5vdCBhdXRob3JpemVkIHRvIHJ1biB0aGlzIG9wZXJhdGlvbi4gQWRkIGl0IHRvIHRoZSBPQXV0aCByZWRpcmVjdCBkb21haW5zIGxpc3QgaW4gdGhlIEZpcmViYXNlIGNvbnNvbGUgLT4gQXV0aCBzZWN0aW9uIC0+IFNpZ24gaW4gbWV0aG9kIHRhYi5cIix0KTpcImh0dHBcIj09aXx8XCJodHRwc1wiPT1pP249anQoXCJUaGlzIGRvbWFpbiAoJXMpIGlzIG5vdCBhdXRob3JpemVkIHRvIHJ1biB0aGlzIG9wZXJhdGlvbi4gQWRkIGl0IHRvIHRoZSBPQXV0aCByZWRpcmVjdCBkb21haW5zIGxpc3QgaW4gdGhlIEZpcmViYXNlIGNvbnNvbGUgLT4gQXV0aCBzZWN0aW9uIC0+IFNpZ24gaW4gbWV0aG9kIHRhYi5cIix0KTplPVwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiLFQuY2FsbCh0aGlzLGUsbil9ZnVuY3Rpb24gTW8odCxlLG4pe1QuY2FsbCh0aGlzLHQsbiksKHQ9ZXx8e30pLkpiJiZWaSh0aGlzLFwiZW1haWxcIix0LkpiKSx0LmVhJiZWaSh0aGlzLFwicGhvbmVOdW1iZXJcIix0LmVhKSx0LmNyZWRlbnRpYWwmJlZpKHRoaXMsXCJjcmVkZW50aWFsXCIsdC5jcmVkZW50aWFsKSx0LlpiJiZWaSh0aGlzLFwidGVuYW50SWRcIix0LlpiKX1mdW5jdGlvbiBqbyh0KXtpZih0LmNvZGUpe3ZhciBlPXQuY29kZXx8XCJcIjswPT1lLmluZGV4T2YoaykmJihlPWUuc3Vic3RyaW5nKGsubGVuZ3RoKSk7dmFyIG49e2NyZWRlbnRpYWw6X28odCksWmI6dC50ZW5hbnRJZH07aWYodC5lbWFpbCluLkpiPXQuZW1haWw7ZWxzZSBpZih0LnBob25lTnVtYmVyKW4uZWE9dC5waG9uZU51bWJlcjtlbHNlIGlmKCFuLmNyZWRlbnRpYWwpcmV0dXJuIG5ldyBUKGUsdC5tZXNzYWdlfHx2b2lkIDApO3JldHVybiBuZXcgTW8oZSxuLHQubWVzc2FnZSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gVW8oKXt9ZnVuY3Rpb24gVm8odCl7cmV0dXJuIHQuY3x8KHQuYz10LmIoKSl9ZnVuY3Rpb24gRm8oKXt9ZnVuY3Rpb24gcW8odCl7aWYodC5mfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3R8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBBY3RpdmVYT2JqZWN0KXJldHVybiB0LmY7Zm9yKHZhciBlPVtcIk1TWE1MMi5YTUxIVFRQLjYuMFwiLFwiTVNYTUwyLlhNTEhUVFAuMy4wXCIsXCJNU1hNTDIuWE1MSFRUUFwiLFwiTWljcm9zb2Z0LlhNTEhUVFBcIl0sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO3RyeXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoaSksdC5mPWl9Y2F0Y2godCl7fX10aHJvdyBFcnJvcihcIkNvdWxkIG5vdCBjcmVhdGUgQWN0aXZlWE9iamVjdC4gQWN0aXZlWCBtaWdodCBiZSBkaXNhYmxlZCwgb3IgTVNYTUwgbWlnaHQgbm90IGJlIGluc3RhbGxlZFwiKX1mdW5jdGlvbiBIbygpe31mdW5jdGlvbiBLbygpe3RoaXMuYT1uZXcgWERvbWFpblJlcXVlc3QsdGhpcy5yZWFkeVN0YXRlPTAsdGhpcy5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnJlc3BvbnNlVHlwZT10aGlzLnJlc3BvbnNlVGV4dD10aGlzLnJlc3BvbnNlPVwiXCIsdGhpcy5zdGF0dXM9LTEsdGhpcy5zdGF0dXNUZXh0PVwiXCIsdGhpcy5hLm9ubG9hZD1iKHRoaXMucWMsdGhpcyksdGhpcy5hLm9uZXJyb3I9Yih0aGlzLlNiLHRoaXMpLHRoaXMuYS5vbnByb2dyZXNzPWIodGhpcy5yYyx0aGlzKSx0aGlzLmEub250aW1lb3V0PWIodGhpcy52Yyx0aGlzKX1mdW5jdGlvbiBHbyh0LGUpe3QucmVhZHlTdGF0ZT1lLHQub25yZWFkeXN0YXRlY2hhbmdlJiZ0Lm9ucmVhZHlzdGF0ZWNoYW5nZSgpfWZ1bmN0aW9uIEJvKHQsZSxuKXt0aGlzLnJlc2V0KHQsZSxuLHZvaWQgMCx2b2lkIDApfWZ1bmN0aW9uIFdvKHQpe3RoaXMuZj10LHRoaXMuYj10aGlzLmM9dGhpcy5hPW51bGx9ZnVuY3Rpb24gWG8odCxlKXt0aGlzLm5hbWU9dCx0aGlzLnZhbHVlPWV9dyh4byxUKSx3KE1vLFQpLE1vLnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7dmFyIHQ9e2NvZGU6dGhpcy5jb2RlLG1lc3NhZ2U6dGhpcy5tZXNzYWdlfTt0aGlzLmVtYWlsJiYodC5lbWFpbD10aGlzLmVtYWlsKSx0aGlzLnBob25lTnVtYmVyJiYodC5waG9uZU51bWJlcj10aGlzLnBob25lTnVtYmVyKSx0aGlzLnRlbmFudElkJiYodC50ZW5hbnRJZD10aGlzLnRlbmFudElkKTt2YXIgZT10aGlzLmNyZWRlbnRpYWwmJnRoaXMuY3JlZGVudGlhbC53KCk7cmV0dXJuIGUmJmx0KHQsZSksdH0sTW8ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLncoKX0sVW8ucHJvdG90eXBlLmM9bnVsbCx3KEZvLFVvKSxGby5wcm90b3R5cGUuYT1mdW5jdGlvbigpe3ZhciB0PXFvKHRoaXMpO3JldHVybiB0P25ldyBBY3RpdmVYT2JqZWN0KHQpOm5ldyBYTUxIdHRwUmVxdWVzdH0sRm8ucHJvdG90eXBlLmI9ZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gcW8odGhpcykmJih0WzBdPSEwLHRbMV09ITApLHR9LFBvPW5ldyBGbyx3KEhvLFVvKSxIby5wcm90b3R5cGUuYT1mdW5jdGlvbigpe3ZhciB0PW5ldyBYTUxIdHRwUmVxdWVzdDtpZihcIndpdGhDcmVkZW50aWFsc1wiaW4gdClyZXR1cm4gdDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgWERvbWFpblJlcXVlc3QpcmV0dXJuIG5ldyBLbzt0aHJvdyBFcnJvcihcIlVuc3VwcG9ydGVkIGJyb3dzZXJcIil9LEhvLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7cmV0dXJue319LCh0PUtvLnByb3RvdHlwZSkub3Blbj1mdW5jdGlvbih0LGUsbil7aWYobnVsbCE9biYmIW4pdGhyb3cgRXJyb3IoXCJPbmx5IGFzeW5jIHJlcXVlc3RzIGFyZSBzdXBwb3J0ZWQuXCIpO3RoaXMuYS5vcGVuKHQsZSl9LHQuc2VuZD1mdW5jdGlvbih0KXtpZih0KXtpZihcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBFcnJvcihcIk9ubHkgc3RyaW5nIGRhdGEgaXMgc3VwcG9ydGVkXCIpO3RoaXMuYS5zZW5kKHQpfWVsc2UgdGhpcy5hLnNlbmQoKX0sdC5hYm9ydD1mdW5jdGlvbigpe3RoaXMuYS5hYm9ydCgpfSx0LnNldFJlcXVlc3RIZWFkZXI9ZnVuY3Rpb24oKXt9LHQuZ2V0UmVzcG9uc2VIZWFkZXI9ZnVuY3Rpb24odCl7cmV0dXJuXCJjb250ZW50LXR5cGVcIj09dC50b0xvd2VyQ2FzZSgpP3RoaXMuYS5jb250ZW50VHlwZTpcIlwifSx0LnFjPWZ1bmN0aW9uKCl7dGhpcy5zdGF0dXM9MjAwLHRoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQ9dGhpcy5hLnJlc3BvbnNlVGV4dCxHbyh0aGlzLDQpfSx0LlNiPWZ1bmN0aW9uKCl7dGhpcy5zdGF0dXM9NTAwLHRoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQ9XCJcIixHbyh0aGlzLDQpfSx0LnZjPWZ1bmN0aW9uKCl7dGhpcy5TYigpfSx0LnJjPWZ1bmN0aW9uKCl7dGhpcy5zdGF0dXM9MjAwLEdvKHRoaXMsMSl9LHQuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzPWZ1bmN0aW9uKCl7cmV0dXJuXCJjb250ZW50LXR5cGU6IFwiK3RoaXMuYS5jb250ZW50VHlwZX0sQm8ucHJvdG90eXBlLmE9bnVsbCxCby5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCxlLG4saSxyKXtkZWxldGUgdGhpcy5hfSxYby5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lfTt2YXIgSm89bmV3IFhvKFwiU0VWRVJFXCIsMWUzKSxZbz1uZXcgWG8oXCJXQVJOSU5HXCIsOTAwKSx6bz1uZXcgWG8oXCJDT05GSUdcIiw3MDApLCRvPW5ldyBYbyhcIkZJTkVcIiw1MDApO1dvLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24odCxlLG4pe2lmKHQudmFsdWU+PWZ1bmN0aW9uIHQoZSl7cmV0dXJuIGUuY3x8KGUuYT90KGUuYSk6KEQoXCJSb290IGxvZ2dlciBoYXMgbm8gbGV2ZWwgc2V0LlwiKSxudWxsKSl9KHRoaXMpLnZhbHVlKWZvcih2KGUpJiYoZT1lKCkpLHQ9bmV3IEJvKHQsU3RyaW5nKGUpLHRoaXMuZiksbiYmKHQuYT1uKSxuPXRoaXM7bjspbj1uLmF9O3ZhciBabyxRbz17fSx0YT1udWxsO2Z1bmN0aW9uIGVhKHQpe3ZhciBlLG4saTtyZXR1cm4gdGF8fCh0YT1uZXcgV28oXCJcIiksKFFvW1wiXCJdPXRhKS5jPXpvKSwoZT1Rb1t0XSl8fChlPW5ldyBXbyh0KSxpPXQubGFzdEluZGV4T2YoXCIuXCIpLG49dC5zdWJzdHIoaSsxKSwoaT1lYSh0LnN1YnN0cigwLGkpKSkuYnx8KGkuYj17fSksKGkuYltuXT1lKS5hPWksUW9bdF09ZSksZX1mdW5jdGlvbiBuYSh0LGUpe3QmJnQubG9nKCRvLGUsdm9pZCAwKX1mdW5jdGlvbiBpYSh0KXt0aGlzLmY9dH1mdW5jdGlvbiByYSh0KXtsbi5jYWxsKHRoaXMpLHRoaXMudT10LHRoaXMuaD12b2lkIDAsdGhpcy5yZWFkeVN0YXRlPW9hLHRoaXMuc3RhdHVzPTAsdGhpcy5yZXNwb25zZVR5cGU9dGhpcy5yZXNwb25zZVRleHQ9dGhpcy5yZXNwb25zZT10aGlzLnN0YXR1c1RleHQ9XCJcIix0aGlzLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHRoaXMubD1uZXcgSGVhZGVycyx0aGlzLmI9bnVsbCx0aGlzLnM9XCJHRVRcIix0aGlzLmY9XCJcIix0aGlzLmE9ITEsdGhpcy5pPWVhKFwiZ29vZy5uZXQuRmV0Y2hYbWxIdHRwXCIpLHRoaXMubT10aGlzLmM9dGhpcy5nPW51bGx9dyhpYSxVbyksaWEucHJvdG90eXBlLmE9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHJhKHRoaXMuZil9LGlhLnByb3RvdHlwZS5iPShabz17fSxmdW5jdGlvbigpe3JldHVybiBab30pLHcocmEsbG4pO3ZhciBvYT0wO2Z1bmN0aW9uIGFhKHQpe3QuYy5yZWFkKCkudGhlbih0LnBjLmJpbmQodCkpLmNhdGNoKHQuVWEuYmluZCh0KSl9ZnVuY3Rpb24gc2EodCl7dC5yZWFkeVN0YXRlPTQsdC5nPW51bGwsdC5jPW51bGwsdC5tPW51bGwsdWEodCl9ZnVuY3Rpb24gdWEodCl7dC5vbnJlYWR5c3RhdGVjaGFuZ2UmJnQub25yZWFkeXN0YXRlY2hhbmdlLmNhbGwodCl9ZnVuY3Rpb24gY2EodCl7bG4uY2FsbCh0aGlzKSx0aGlzLmhlYWRlcnM9bmV3IHluLHRoaXMuRD10fHxudWxsLHRoaXMuYz0hMSx0aGlzLkM9dGhpcy5hPW51bGwsdGhpcy5oPXRoaXMuUj10aGlzLmw9XCJcIix0aGlzLmY9dGhpcy5PPXRoaXMuaT10aGlzLko9ITEsdGhpcy5nPTAsdGhpcy5zPW51bGwsdGhpcy5tPWhhLHRoaXMudT10aGlzLlM9ITF9KHQ9cmEucHJvdG90eXBlKS5vcGVuPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5yZWFkeVN0YXRlIT1vYSl0aHJvdyB0aGlzLmFib3J0KCksRXJyb3IoXCJFcnJvciByZW9wZW5pbmcgYSBjb25uZWN0aW9uXCIpO3RoaXMucz10LHRoaXMuZj1lLHRoaXMucmVhZHlTdGF0ZT0xLHVhKHRoaXMpfSx0LnNlbmQ9ZnVuY3Rpb24odCl7aWYoMSE9dGhpcy5yZWFkeVN0YXRlKXRocm93IHRoaXMuYWJvcnQoKSxFcnJvcihcIm5lZWQgdG8gY2FsbCBvcGVuKCkgZmlyc3QuIFwiKTt0aGlzLmE9ITA7dmFyIGU9e2hlYWRlcnM6dGhpcy5sLG1ldGhvZDp0aGlzLnMsY3JlZGVudGlhbHM6dGhpcy5oLGNhY2hlOnZvaWQgMH07dCYmKGUuYm9keT10KSx0aGlzLnUuZmV0Y2gobmV3IFJlcXVlc3QodGhpcy5mLGUpKS50aGVuKHRoaXMudWMuYmluZCh0aGlzKSx0aGlzLlVhLmJpbmQodGhpcykpfSx0LmFib3J0PWZ1bmN0aW9uKCl7dGhpcy5yZXNwb25zZT10aGlzLnJlc3BvbnNlVGV4dD1cIlwiLHRoaXMubD1uZXcgSGVhZGVycyx0aGlzLnN0YXR1cz0wLHRoaXMuYyYmdGhpcy5jLmNhbmNlbChcIlJlcXVlc3Qgd2FzIGFib3J0ZWQuXCIpLDE8PXRoaXMucmVhZHlTdGF0ZSYmdGhpcy5hJiY0IT10aGlzLnJlYWR5U3RhdGUmJih0aGlzLmE9ITEsc2EodGhpcykpLHRoaXMucmVhZHlTdGF0ZT1vYX0sdC51Yz1mdW5jdGlvbih0KXt0aGlzLmEmJih0aGlzLmc9dCx0aGlzLmJ8fCh0aGlzLnN0YXR1cz10aGlzLmcuc3RhdHVzLHRoaXMuc3RhdHVzVGV4dD10aGlzLmcuc3RhdHVzVGV4dCx0aGlzLmI9dC5oZWFkZXJzLHRoaXMucmVhZHlTdGF0ZT0yLHVhKHRoaXMpKSx0aGlzLmEmJih0aGlzLnJlYWR5U3RhdGU9Myx1YSh0aGlzKSx0aGlzLmEmJihcImFycmF5YnVmZmVyXCI9PT10aGlzLnJlc3BvbnNlVHlwZT90LmFycmF5QnVmZmVyKCkudGhlbih0aGlzLnNjLmJpbmQodGhpcyksdGhpcy5VYS5iaW5kKHRoaXMpKTp2b2lkIDAhPT1sLlJlYWRhYmxlU3RyZWFtJiZcImJvZHlcImluIHQ/KHRoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQ9XCJcIix0aGlzLmM9dC5ib2R5LmdldFJlYWRlcigpLHRoaXMubT1uZXcgVGV4dERlY29kZXIsYWEodGhpcykpOnQudGV4dCgpLnRoZW4odGhpcy50Yy5iaW5kKHRoaXMpLHRoaXMuVWEuYmluZCh0aGlzKSkpKSl9LHQucGM9ZnVuY3Rpb24odCl7dmFyIGU7dGhpcy5hJiYoKGU9dGhpcy5tLmRlY29kZSh0LnZhbHVlfHxuZXcgVWludDhBcnJheSgwKSx7c3RyZWFtOiF0LmRvbmV9KSkmJih0aGlzLnJlc3BvbnNlPXRoaXMucmVzcG9uc2VUZXh0Kz1lKSwodC5kb25lP3NhOnVhKSh0aGlzKSwzPT10aGlzLnJlYWR5U3RhdGUmJmFhKHRoaXMpKX0sdC50Yz1mdW5jdGlvbih0KXt0aGlzLmEmJih0aGlzLnJlc3BvbnNlPXRoaXMucmVzcG9uc2VUZXh0PXQsc2EodGhpcykpfSx0LnNjPWZ1bmN0aW9uKHQpe3RoaXMuYSYmKHRoaXMucmVzcG9uc2U9dCxzYSh0aGlzKSl9LHQuVWE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pO2UmJmUubG9nKFlvLFwiRmFpbGVkIHRvIGZldGNoIHVybCBcIit0aGlzLmYsdCBpbnN0YW5jZW9mIEVycm9yP3Q6RXJyb3IodCkpLHRoaXMuYSYmc2EodGhpcyl9LHQuc2V0UmVxdWVzdEhlYWRlcj1mdW5jdGlvbih0LGUpe3RoaXMubC5hcHBlbmQodCxlKX0sdC5nZXRSZXNwb25zZUhlYWRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5iP3RoaXMuYi5nZXQodC50b0xvd2VyQ2FzZSgpKXx8XCJcIjooKHQ9dGhpcy5pKSYmdC5sb2coWW8sXCJBdHRlbXB0aW5nIHRvIGdldCByZXNwb25zZSBoZWFkZXIgYnV0IG5vIGhlYWRlcnMgaGF2ZSBiZWVuIHJlY2VpdmVkIGZvciB1cmw6IFwiK3RoaXMuZix2b2lkIDApLFwiXCIpfSx0LmdldEFsbFJlc3BvbnNlSGVhZGVycz1mdW5jdGlvbigpe2lmKCF0aGlzLmIpe3ZhciB0PXRoaXMuaTtyZXR1cm4gdCYmdC5sb2coWW8sXCJBdHRlbXB0aW5nIHRvIGdldCBhbGwgcmVzcG9uc2UgaGVhZGVycyBidXQgbm8gaGVhZGVycyBoYXZlIGJlZW4gcmVjZWl2ZWQgZm9yIHVybDogXCIrdGhpcy5mLHZvaWQgMCksXCJcIn1mb3IodmFyIHQ9W10sZT10aGlzLmIuZW50cmllcygpLG49ZS5uZXh0KCk7IW4uZG9uZTspbj1uLnZhbHVlLHQucHVzaChuWzBdK1wiOiBcIituWzFdKSxuPWUubmV4dCgpO3JldHVybiB0LmpvaW4oXCJcXHJcXG5cIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyYS5wcm90b3R5cGUsXCJ3aXRoQ3JlZGVudGlhbHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJpbmNsdWRlXCI9PT10aGlzLmh9LHNldDpmdW5jdGlvbih0KXt0aGlzLmg9dD9cImluY2x1ZGVcIjpcInNhbWUtb3JpZ2luXCJ9fSksdyhjYSxsbik7dmFyIGhhPVwiXCI7Y2EucHJvdG90eXBlLmI9ZWEoXCJnb29nLm5ldC5YaHJJb1wiKTt2YXIgbGE9L15odHRwcz8kL2ksZmE9W1wiUE9TVFwiLFwiUFVUXCJdO2Z1bmN0aW9uIGRhKGUsdCxuLGkscil7aWYoZS5hKXRocm93IEVycm9yKFwiW2dvb2cubmV0LlhocklvXSBPYmplY3QgaXMgYWN0aXZlIHdpdGggYW5vdGhlciByZXF1ZXN0PVwiK2UubCtcIjsgbmV3VXJpPVwiK3QpO249bj9uLnRvVXBwZXJDYXNlKCk6XCJHRVRcIixlLmw9dCxlLmg9XCJcIixlLlI9bixlLko9ITEsZS5jPSEwLGUuYT0oZS5EfHxQbykuYSgpLGUuQz1lLkQ/Vm8oZS5EKTpWbyhQbyksZS5hLm9ucmVhZHlzdGF0ZWNoYW5nZT1iKGUuVmIsZSk7dHJ5e25hKGUuYixUYShlLFwiT3BlbmluZyBYaHJcIikpLGUuTz0hMCxlLmEub3BlbihuLFN0cmluZyh0KSwhMCksZS5PPSExfWNhdGNoKHQpe3JldHVybiBuYShlLmIsVGEoZSxcIkVycm9yIG9wZW5pbmcgWGhyOiBcIit0Lm1lc3NhZ2UpKSx2b2lkIHZhKGUsdCl9dD1pfHxcIlwiO3ZhciBvLGE9bmV3IHluKGUuaGVhZGVycyk7ciYmZnVuY3Rpb24odCxlKXtpZih0LmZvckVhY2gmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZm9yRWFjaCl0LmZvckVhY2goZSx2b2lkIDApO2Vsc2UgaWYocCh0KXx8XCJzdHJpbmdcIj09dHlwZW9mIHQpVih0LGUsdm9pZCAwKTtlbHNlIGZvcih2YXIgbj1ibih0KSxpPWduKHQpLHI9aS5sZW5ndGgsbz0wO288cjtvKyspZS5jYWxsKHZvaWQgMCxpW29dLG4mJm5bb10sdCl9KHIsZnVuY3Rpb24odCxlKXthLnNldChlLHQpfSkscj1mdW5jdGlvbih0KXt0Ontmb3IodmFyIGU9cGEsbj10Lmxlbmd0aCxpPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Quc3BsaXQoXCJcIik6dCxyPTA7cjxuO3IrKylpZihyIGluIGkmJmUuY2FsbCh2b2lkIDAsaVtyXSxyLHQpKXtlPXI7YnJlYWsgdH1lPS0xfXJldHVybiBlPDA/bnVsbDpcInN0cmluZ1wiPT10eXBlb2YgdD90LmNoYXJBdChlKTp0W2VdfShhLlkoKSksaT1sLkZvcm1EYXRhJiZ0IGluc3RhbmNlb2YgbC5Gb3JtRGF0YSwhSyhmYSxuKXx8cnx8aXx8YS5zZXQoXCJDb250ZW50LVR5cGVcIixcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04XCIpLGEuZm9yRWFjaChmdW5jdGlvbih0LGUpe3RoaXMuYS5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9LGUpLGUubSYmKGUuYS5yZXNwb25zZVR5cGU9ZS5tKSxcIndpdGhDcmVkZW50aWFsc1wiaW4gZS5hJiZlLmEud2l0aENyZWRlbnRpYWxzIT09ZS5TJiYoZS5hLndpdGhDcmVkZW50aWFscz1lLlMpO3RyeXt5YShlKSwwPGUuZyYmKGUudT0obz1lLmEsSHQmJiR0KDkpJiZcIm51bWJlclwiPT10eXBlb2Ygby50aW1lb3V0JiZ2b2lkIDAhPT1vLm9udGltZW91dCksbmEoZS5iLFRhKGUsXCJXaWxsIGFib3J0IGFmdGVyIFwiK2UuZytcIm1zIGlmIGluY29tcGxldGUsIHhocjIgXCIrZS51KSksZS51PyhlLmEudGltZW91dD1lLmcsZS5hLm9udGltZW91dD1iKGUuTWEsZSkpOmUucz12bihlLk1hLGUuZyxlKSksbmEoZS5iLFRhKGUsXCJTZW5kaW5nIHJlcXVlc3RcIikpLGUuaT0hMCxlLmEuc2VuZCh0KSxlLmk9ITF9Y2F0Y2godCl7bmEoZS5iLFRhKGUsXCJTZW5kIGVycm9yOiBcIit0Lm1lc3NhZ2UpKSx2YShlLHQpfX1mdW5jdGlvbiBwYSh0KXtyZXR1cm5cImNvbnRlbnQtdHlwZVwiPT10LnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gdmEodCxlKXt0LmM9ITEsdC5hJiYodC5mPSEwLHQuYS5hYm9ydCgpLHQuZj0hMSksdC5oPWUsbWEodCksYmEodCl9ZnVuY3Rpb24gbWEodCl7dC5KfHwodC5KPSEwLHQuZGlzcGF0Y2hFdmVudChcImNvbXBsZXRlXCIpLHQuZGlzcGF0Y2hFdmVudChcImVycm9yXCIpKX1mdW5jdGlvbiBnYShlKXtpZihlLmMmJnZvaWQgMCE9PWgpaWYoZS5DWzFdJiY0PT13YShlKSYmMj09SWEoZSkpbmEoZS5iLFRhKGUsXCJMb2NhbCByZXF1ZXN0IGVycm9yIGRldGVjdGVkIGFuZCBpZ25vcmVkXCIpKTtlbHNlIGlmKGUuaSYmND09d2EoZSkpdm4oZS5WYiwwLGUpO2Vsc2UgaWYoZS5kaXNwYXRjaEV2ZW50KFwicmVhZHlzdGF0ZWNoYW5nZVwiKSw0PT13YShlKSl7bmEoZS5iLFRhKGUsXCJSZXF1ZXN0IGNvbXBsZXRlXCIpKSxlLmM9ITE7dHJ5e3ZhciB0LG4saSxyLG89SWEoZSk7dDpzd2l0Y2gobyl7Y2FzZSAyMDA6Y2FzZSAyMDE6Y2FzZSAyMDI6Y2FzZSAyMDQ6Y2FzZSAyMDY6Y2FzZSAzMDQ6Y2FzZSAxMjIzOnZhciBhPSEwO2JyZWFrIHQ7ZGVmYXVsdDphPSExfWlmKCh0PWEpfHwoKG49MD09PW8pJiYoIShyPVN0cmluZyhlLmwpLm1hdGNoKFRuKVsxXXx8bnVsbCkmJmwuc2VsZiYmbC5zZWxmLmxvY2F0aW9uJiYocj0oaT1sLnNlbGYubG9jYXRpb24ucHJvdG9jb2wpLnN1YnN0cigwLGkubGVuZ3RoLTEpKSxuPSFsYS50ZXN0KHI/ci50b0xvd2VyQ2FzZSgpOlwiXCIpKSx0PW4pLHQpZS5kaXNwYXRjaEV2ZW50KFwiY29tcGxldGVcIiksZS5kaXNwYXRjaEV2ZW50KFwic3VjY2Vzc1wiKTtlbHNle3RyeXt2YXIgcz0yPHdhKGUpP2UuYS5zdGF0dXNUZXh0OlwiXCJ9Y2F0Y2godCl7bmEoZS5iLFwiQ2FuIG5vdCBnZXQgc3RhdHVzOiBcIit0Lm1lc3NhZ2UpLHM9XCJcIn1lLmg9cytcIiBbXCIrSWEoZSkrXCJdXCIsbWEoZSl9fWZpbmFsbHl7YmEoZSl9fX1mdW5jdGlvbiBiYShlLHQpe2lmKGUuYSl7eWEoZSk7dmFyIG49ZS5hLGk9ZS5DWzBdP2E6bnVsbDtlLmE9bnVsbCxlLkM9bnVsbCx0fHxlLmRpc3BhdGNoRXZlbnQoXCJyZWFkeVwiKTt0cnl7bi5vbnJlYWR5c3RhdGVjaGFuZ2U9aX1jYXRjaCh0KXsoZT1lLmIpJiZlLmxvZyhKbyxcIlByb2JsZW0gZW5jb3VudGVyZWQgcmVzZXR0aW5nIG9ucmVhZHlzdGF0ZWNoYW5nZTogXCIrdC5tZXNzYWdlLHZvaWQgMCl9fX1mdW5jdGlvbiB5YSh0KXt0LmEmJnQudSYmKHQuYS5vbnRpbWVvdXQ9bnVsbCksdC5zJiYobC5jbGVhclRpbWVvdXQodC5zKSx0LnM9bnVsbCl9ZnVuY3Rpb24gd2EodCl7cmV0dXJuIHQuYT90LmEucmVhZHlTdGF0ZTowfWZ1bmN0aW9uIElhKHQpe3RyeXtyZXR1cm4gMjx3YSh0KT90LmEuc3RhdHVzOi0xfWNhdGNoKHQpe3JldHVybi0xfX1mdW5jdGlvbiBUYSh0LGUpe3JldHVybiBlK1wiIFtcIit0LlIrXCIgXCIrdC5sK1wiIFwiK0lhKHQpK1wiXVwifWZ1bmN0aW9uIEVhKHQpe3ZhciBlPUxhO3RoaXMuZz1bXSx0aGlzLnU9ZSx0aGlzLnM9dHx8bnVsbCx0aGlzLmY9dGhpcy5hPSExLHRoaXMuYz12b2lkIDAsdGhpcy52PXRoaXMuQz10aGlzLmk9ITEsdGhpcy5oPTAsdGhpcy5iPW51bGwsdGhpcy5sPTB9ZnVuY3Rpb24gQWEodCxlLG4pe3QuYT0hMCx0LmM9bix0LmY9IWUsX2EodCl9ZnVuY3Rpb24ga2EodCl7aWYodC5hKXtpZighdC52KXRocm93IG5ldyBPYTt0LnY9ITF9fWZ1bmN0aW9uIFNhKHQsZSxuLGkpe3QuZy5wdXNoKFtlLG4saV0pLHQuYSYmX2EodCl9ZnVuY3Rpb24gTmEodCl7cmV0dXJuIEgodC5nLGZ1bmN0aW9uKHQpe3JldHVybiB2KHRbMV0pfSl9ZnVuY3Rpb24gX2EoZSl7dmFyIG47ZS5oJiZlLmEmJk5hKGUpJiYoaT1lLmgsKG49RGFbaV0pJiYobC5jbGVhclRpbWVvdXQobi5hKSxkZWxldGUgRGFbaV0pLGUuaD0wKSxlLmImJihlLmIubC0tLGRlbGV0ZSBlLmIpO2Zvcih2YXIgaT1lLmMsdD1uPSExO2UuZy5sZW5ndGgmJiFlLmk7KXt2YXIgcj0oYT1lLmcuc2hpZnQoKSlbMF0sbz1hWzFdLGE9YVsyXTtpZihyPWUuZj9vOnIpdHJ5e3ZhciBzPXIuY2FsbChhfHxlLnMsaSk7dm9pZCAwIT09cyYmKGUuZj1lLmYmJihzPT1pfHxzIGluc3RhbmNlb2YgRXJyb3IpLGUuYz1pPXMpLChPKGkpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBsLlByb21pc2UmJmkgaW5zdGFuY2VvZiBsLlByb21pc2UpJiYodD0hMCxlLmk9ITApfWNhdGNoKHQpe2k9dCxlLmY9ITAsTmEoZSl8fChuPSEwKX19ZS5jPWksdCYmKHM9YihlLm0sZSwhMCksdD1iKGUubSxlLCExKSxpIGluc3RhbmNlb2YgRWE/KFNhKGkscyx0KSxpLkM9ITApOmkudGhlbihzLHQpKSxuJiYoaT1uZXcgUmEoaSksRGFbaS5hXT1pLGUuaD1pLmEpfWZ1bmN0aW9uIE9hKCl7Qy5jYWxsKHRoaXMpfWZ1bmN0aW9uIENhKCl7Qy5jYWxsKHRoaXMpfWZ1bmN0aW9uIFJhKHQpe3RoaXMuYT1sLnNldFRpbWVvdXQoYih0aGlzLmMsdGhpcyksMCksdGhpcy5iPXR9KHQ9Y2EucHJvdG90eXBlKS5NYT1mdW5jdGlvbigpe3ZvaWQgMCE9PWgmJnRoaXMuYSYmKHRoaXMuaD1cIlRpbWVkIG91dCBhZnRlciBcIit0aGlzLmcrXCJtcywgYWJvcnRpbmdcIixuYSh0aGlzLmIsVGEodGhpcyx0aGlzLmgpKSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJ0aW1lb3V0XCIpLHRoaXMuYWJvcnQoOCkpfSx0LmFib3J0PWZ1bmN0aW9uKCl7dGhpcy5hJiZ0aGlzLmMmJihuYSh0aGlzLmIsVGEodGhpcyxcIkFib3J0aW5nXCIpKSx0aGlzLmM9ITEsdGhpcy5mPSEwLHRoaXMuYS5hYm9ydCgpLHRoaXMuZj0hMSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJjb21wbGV0ZVwiKSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJhYm9ydFwiKSxiYSh0aGlzKSl9LHQuRGE9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmMmJih0aGlzLmM9ITEsdGhpcy5mPSEwLHRoaXMuYS5hYm9ydCgpLHRoaXMuZj0hMSksYmEodGhpcywhMCkpLGNhLmFiLkRhLmNhbGwodGhpcyl9LHQuVmI9ZnVuY3Rpb24oKXt0aGlzLnhhfHwodGhpcy5PfHx0aGlzLml8fHRoaXMuZj9nYSh0aGlzKTp0aGlzLkpjKCkpfSx0LkpjPWZ1bmN0aW9uKCl7Z2EodGhpcyl9LHQuZ2V0UmVzcG9uc2U9ZnVuY3Rpb24oKXt0cnl7aWYoIXRoaXMuYSlyZXR1cm4gbnVsbDtpZihcInJlc3BvbnNlXCJpbiB0aGlzLmEpcmV0dXJuIHRoaXMuYS5yZXNwb25zZTtzd2l0Y2godGhpcy5tKXtjYXNlIGhhOmNhc2VcInRleHRcIjpyZXR1cm4gdGhpcy5hLnJlc3BvbnNlVGV4dDtjYXNlXCJhcnJheWJ1ZmZlclwiOmlmKFwibW96UmVzcG9uc2VBcnJheUJ1ZmZlclwiaW4gdGhpcy5hKXJldHVybiB0aGlzLmEubW96UmVzcG9uc2VBcnJheUJ1ZmZlcn12YXIgdD10aGlzLmI7cmV0dXJuIHQmJnQubG9nKEpvLFwiUmVzcG9uc2UgdHlwZSBcIit0aGlzLm0rXCIgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGJyb3dzZXJcIix2b2lkIDApLG51bGx9Y2F0Y2godCl7cmV0dXJuIG5hKHRoaXMuYixcIkNhbiBub3QgZ2V0IHJlc3BvbnNlOiBcIit0Lm1lc3NhZ2UpLG51bGx9fSxFYS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMuYT90aGlzLmMgaW5zdGFuY2VvZiBFYSYmdGhpcy5jLmNhbmNlbCgpOih0aGlzLmImJihlPXRoaXMuYixkZWxldGUgdGhpcy5iLHQ/ZS5jYW5jZWwodCk6KGUubC0tLGUubDw9MCYmZS5jYW5jZWwoKSkpLHRoaXMudT90aGlzLnUuY2FsbCh0aGlzLnMsdGhpcyk6dGhpcy52PSEwLHRoaXMuYXx8KHQ9bmV3IENhLGthKHRoaXMpLEFhKHRoaXMsITEsdCkpKX0sRWEucHJvdG90eXBlLm09ZnVuY3Rpb24odCxlKXt0aGlzLmk9ITEsQWEodGhpcyx0LGUpfSxFYS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbih0LGUsbil7dmFyIGkscixvPW5ldyBmZShmdW5jdGlvbih0LGUpe2k9dCxyPWV9KTtyZXR1cm4gU2EodGhpcyxpLGZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBDYT9vLmNhbmNlbCgpOnIodCl9KSxvLnRoZW4odCxlLG4pfSxFYS5wcm90b3R5cGUuJGdvb2dfVGhlbmFibGU9ITAsdyhPYSxDKSxPYS5wcm90b3R5cGUubWVzc2FnZT1cIkRlZmVycmVkIGhhcyBhbHJlYWR5IGZpcmVkXCIsT2EucHJvdG90eXBlLm5hbWU9XCJBbHJlYWR5Q2FsbGVkRXJyb3JcIix3KENhLEMpLENhLnByb3RvdHlwZS5tZXNzYWdlPVwiRGVmZXJyZWQgd2FzIGNhbmNlbGVkXCIsQ2EucHJvdG90eXBlLm5hbWU9XCJDYW5jZWxlZEVycm9yXCIsUmEucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXt0aHJvdyBkZWxldGUgRGFbdGhpcy5hXSx0aGlzLmJ9O3ZhciBEYT17fTtmdW5jdGlvbiBQYSh0KXt2YXIgZT1kb2N1bWVudCxuPXd0KHQpLnRvU3RyaW5nKCksaT1hZShkb2N1bWVudCxcIlNDUklQVFwiKSxyPXtXYjppLE1hOnZvaWQgMH0sbz1uZXcgRWEociksYT13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3hhKGksITApO3ZhciB0PW5ldyBVYShqYSxcIlRpbWVvdXQgcmVhY2hlZCBmb3IgbG9hZGluZyBzY3JpcHQgXCIrbik7a2EobyksQWEobywhMSx0KX0sNWUzKTtyZXR1cm4gci5NYT1hLGkub25sb2FkPWkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aS5yZWFkeVN0YXRlJiZcImxvYWRlZFwiIT1pLnJlYWR5U3RhdGUmJlwiY29tcGxldGVcIiE9aS5yZWFkeVN0YXRlfHwoeGEoaSwhMSxhKSxrYShvKSxBYShvLCEwLG51bGwpKX0saS5vbmVycm9yPWZ1bmN0aW9uKCl7eGEoaSwhMCxhKTt2YXIgdD1uZXcgVWEoTWEsXCJFcnJvciB3aGlsZSBsb2FkaW5nIHNjcmlwdCBcIituKTtrYShvKSxBYShvLCExLHQpfSxsdChyPXt9LHt0eXBlOlwidGV4dC9qYXZhc2NyaXB0XCIsY2hhcnNldDpcIlVURi04XCJ9KSxlZShpLHIpLHI9dCxmdCh0PWksXCJIVE1MU2NyaXB0RWxlbWVudFwiKSx0LnNyYz13dChyKSwocj0ocj10Lm93bmVyRG9jdW1lbnQmJnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykmJnIhPWw/ZihyLmRvY3VtZW50KTpzPW51bGw9PT1zP2YobC5kb2N1bWVudCk6cykmJnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIixyKSwoKGU9KChyPWUpfHxkb2N1bWVudCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJIRUFEXCIpKSYmMCE9ZS5sZW5ndGg/ZVswXTpyLmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoaSksb31mdW5jdGlvbiBMYSgpe3ZhciB0O3RoaXMmJnRoaXMuV2ImJigodD10aGlzLldiKSYmXCJTQ1JJUFRcIj09dC50YWdOYW1lJiZ4YSh0LCEwLHRoaXMuTWEpKX1mdW5jdGlvbiB4YSh0LGUsbil7bnVsbCE9biYmbC5jbGVhclRpbWVvdXQobiksdC5vbmxvYWQ9YSx0Lm9uZXJyb3I9YSx0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1hLGUmJndpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9LDApfXZhciBNYT0wLGphPTE7ZnVuY3Rpb24gVWEodCxlKXt2YXIgbj1cIkpzbG9hZGVyIGVycm9yIChjb2RlICNcIit0K1wiKVwiO2UmJihuKz1cIjogXCIrZSksQy5jYWxsKHRoaXMsbiksdGhpcy5jb2RlPXR9ZnVuY3Rpb24gVmEodCl7dGhpcy5mPXR9ZnVuY3Rpb24gRmEodCxlLG4pe2lmKHRoaXMuYz10LHQ9ZXx8e30sdGhpcy5sPXQuc2VjdXJlVG9rZW5FbmRwb2ludHx8XCJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZWFwaXMuY29tL3YxL3Rva2VuXCIsdGhpcy5tPXQuc2VjdXJlVG9rZW5UaW1lb3V0fHxLYSx0aGlzLmc9Y3QodC5zZWN1cmVUb2tlbkhlYWRlcnN8fEdhKSx0aGlzLmg9dC5maXJlYmFzZUVuZHBvaW50fHxcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2lkZW50aXR5dG9vbGtpdC92My9yZWx5aW5ncGFydHkvXCIsdGhpcy5pPXQuaWRlbnRpdHlQbGF0Zm9ybUVuZHBvaW50fHxcImh0dHBzOi8vaWRlbnRpdHl0b29sa2l0Lmdvb2dsZWFwaXMuY29tL3YyL1wiLHRoaXMudj10LmZpcmViYXNlVGltZW91dHx8QmEsdGhpcy5hPWN0KHQuZmlyZWJhc2VIZWFkZXJzfHxXYSksbiYmKHRoaXMuYVtcIlgtQ2xpZW50LVZlcnNpb25cIl09bix0aGlzLmdbXCJYLUNsaWVudC1WZXJzaW9uXCJdPW4pLG49XCJOb2RlXCI9PWhpKCksIShuPWwuWE1MSHR0cFJlcXVlc3R8fG4mJnpsLmRlZmF1bHQuSU5URVJOQUwubm9kZSYmemwuZGVmYXVsdC5JTlRFUk5BTC5ub2RlLlhNTEh0dHBSZXF1ZXN0KSYmIWNpKCkpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiLFwiVGhlIFhNTEh0dHBSZXF1ZXN0IGNvbXBhdGliaWxpdHkgbGlicmFyeSB3YXMgbm90IGZvdW5kLlwiKTt0aGlzLmY9dm9pZCAwLGNpKCk/dGhpcy5mPW5ldyBpYShzZWxmKTpsaSgpP3RoaXMuZj1uZXcgVmEobik6dGhpcy5mPW5ldyBIbyx0aGlzLmI9bnVsbH13KFVhLEMpLHcoVmEsVW8pLFZhLnByb3RvdHlwZS5hPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aGlzLmZ9LFZhLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7cmV0dXJue319O3ZhciBxYSxIYT1cImlkVG9rZW5cIixLYT1uZXcgQ2koM2U0LDZlNCksR2E9e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn0sQmE9bmV3IENpKDNlNCw2ZTQpLFdhPXtcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifTtmdW5jdGlvbiBYYSh0LGUpe2U/dC5hW1wiWC1GaXJlYmFzZS1Mb2NhbGVcIl09ZTpkZWxldGUgdC5hW1wiWC1GaXJlYmFzZS1Mb2NhbGVcIl19ZnVuY3Rpb24gSmEodCxlKXtlJiYodC5sPVlhKFwiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGVhcGlzLmNvbS92MS90b2tlblwiLGUpLHQuaD1ZYShcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2lkZW50aXR5dG9vbGtpdC92My9yZWx5aW5ncGFydHkvXCIsZSksdC5pPVlhKFwiaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vdjIvXCIsZSkpfWZ1bmN0aW9uIFlhKHQsZSl7cmV0dXJuIHQ9T24odCksZT1PbihlLnVybCksdC5mPXQuYSt0LmYsQW4odCxlLmMpLHQuYT1lLmEsa24odCxlLmcpLHQudG9TdHJpbmcoKX1mdW5jdGlvbiB6YSh0LGUpe2U/KHQuYVtcIlgtQ2xpZW50LVZlcnNpb25cIl09ZSx0LmdbXCJYLUNsaWVudC1WZXJzaW9uXCJdPWUpOihkZWxldGUgdC5hW1wiWC1DbGllbnQtVmVyc2lvblwiXSxkZWxldGUgdC5nW1wiWC1DbGllbnQtVmVyc2lvblwiXSl9ZnVuY3Rpb24gJGEodCxlLG4saSxyLG8sYSl7dmFyIHM7KHQ9KChzPXBpKHM9Z2koKSk9PWRpJiYocz1zLm1hdGNoKC9cXHNDaHJvbWVcXC8oXFxkKykvaSkpJiYyPT1zLmxlbmd0aD9wYXJzZUludChzWzFdLDEwKTpudWxsKSYmczwzMHx8SHQmJlp0JiYhKDk8WnQpKSYmIWNpKCk/KHFhPXFhfHxuZXcgZmUoZnVuY3Rpb24odCxlKXt2YXIgbixpO249dCxpPWUsKCh3aW5kb3cuZ2FwaXx8e30pLmNsaWVudHx8e30pLnJlcXVlc3Q/bigpOihsW1FhXT1mdW5jdGlvbigpeygod2luZG93LmdhcGl8fHt9KS5jbGllbnR8fHt9KS5yZXF1ZXN0P24oKTppKEVycm9yKFwiQ09SU19VTlNVUFBPUlRFRFwiKSl9LGZ1bmN0aW9uKHQsZSl7U2EodCxudWxsLGUsdm9pZCAwKX0oUGEoSXQoWmEse29ubG9hZDpRYX0pKSxmdW5jdGlvbigpe2koRXJyb3IoXCJDT1JTX1VOU1VQUE9SVEVEXCIpKX0pKX0pLGIodC5zLHQpKTpiKHQudSx0KSkoZSxuLGkscixvLGEpfUZhLnByb3RvdHlwZS5UPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn0sRmEucHJvdG90eXBlLnU9ZnVuY3Rpb24odCxuLGUsaSxyLG8pe2lmKGNpKCkmJih2b2lkIDA9PT1sLmZldGNofHx2b2lkIDA9PT1sLkhlYWRlcnN8fHZvaWQgMD09PWwuUmVxdWVzdCkpdGhyb3cgbmV3IFQoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIsXCJmZXRjaCwgSGVhZGVycyBhbmQgUmVxdWVzdCBuYXRpdmUgQVBJcyBvciBlcXVpdmFsZW50IFBvbHlmaWxscyBtdXN0IGJlIGF2YWlsYWJsZSB0byBzdXBwb3J0IEhUVFAgcmVxdWVzdHMgZnJvbSBhIFdvcmtlciBlbnZpcm9ubWVudC5cIik7dmFyIGEscz1uZXcgY2EodGhpcy5mKTtvJiYocy5nPU1hdGgubWF4KDAsbyksYT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cy5kaXNwYXRjaEV2ZW50KFwidGltZW91dFwiKX0sbykpLGZuKHMsXCJjb21wbGV0ZVwiLGZ1bmN0aW9uKCl7YSYmY2xlYXJUaW1lb3V0KGEpO3ZhciBlPW51bGw7dHJ5e2U9SlNPTi5wYXJzZShmdW5jdGlvbihlKXt0cnl7cmV0dXJuIGUuYT9lLmEucmVzcG9uc2VUZXh0OlwiXCJ9Y2F0Y2godCl7cmV0dXJuIG5hKGUuYixcIkNhbiBub3QgZ2V0IHJlc3BvbnNlVGV4dDogXCIrdC5tZXNzYWdlKSxcIlwifX0odGhpcykpfHxudWxsfWNhdGNoKHQpe2U9bnVsbH1uJiZuKGUpfSksZG4ocyxcInJlYWR5XCIsZnVuY3Rpb24oKXthJiZjbGVhclRpbWVvdXQoYSkseGUodGhpcyl9KSxkbihzLFwidGltZW91dFwiLGZ1bmN0aW9uKCl7YSYmY2xlYXJUaW1lb3V0KGEpLHhlKHRoaXMpLG4mJm4obnVsbCl9KSxkYShzLHQsZSxpLHIpfTt2YXIgWmE9bmV3IGR0KGd0LFwiaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvY2xpZW50LmpzP29ubG9hZD0le29ubG9hZH1cIiksUWE9XCJfX2ZjYlwiK01hdGguZmxvb3IoMWU2Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCk7ZnVuY3Rpb24gdHModCxlLG4saSxyLG8sYSl7dmFyIHM9T24oZStuKTtObihzLFwia2V5XCIsdC5jKSxhJiZObihzLFwiY2JcIixEYXRlLm5vdygpLnRvU3RyaW5nKCkpO3ZhciB1PVwiR0VUXCI9PWk7aWYodSlmb3IodmFyIGMgaW4gcilyLmhhc093blByb3BlcnR5KGMpJiZObihzLGMscltjXSk7cmV0dXJuIG5ldyBmZShmdW5jdGlvbihlLG4peyRhKHQscy50b1N0cmluZygpLGZ1bmN0aW9uKHQpe3Q/dC5lcnJvcj9uKFlzKHQsb3x8e30pKTplKHQpOm4obmV3IFQoXCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIpKX0saSx1P3ZvaWQgMDpYbihraShyKSksdC5hLHQudi5nZXQoKSl9KX1mdW5jdGlvbiBlcyh0KXtpZihcInN0cmluZ1wiIT10eXBlb2YodD10LmVtYWlsKXx8IW9pLnRlc3QodCkpdGhyb3cgbmV3IFQoXCJpbnZhbGlkLWVtYWlsXCIpfWZ1bmN0aW9uIG5zKHQpe1wiZW1haWxcImluIHQmJmVzKHQpfWZ1bmN0aW9uIGlzKHQpe2lmKCF0W0hhXSl7aWYodC5tZmFQZW5kaW5nQ3JlZGVudGlhbCl0aHJvdyBuZXcgVChcIm11bHRpLWZhY3Rvci1hdXRoLXJlcXVpcmVkXCIsbnVsbCxjdCh0KSk7dGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKX19ZnVuY3Rpb24gcnModCl7aWYodC5waG9uZU51bWJlcnx8dC50ZW1wb3JhcnlQcm9vZil7aWYoIXQucGhvbmVOdW1iZXJ8fCF0LnRlbXBvcmFyeVByb29mKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIil9ZWxzZXtpZighdC5zZXNzaW9uSW5mbyl0aHJvdyBuZXcgVChcIm1pc3NpbmctdmVyaWZpY2F0aW9uLWlkXCIpO2lmKCF0LmNvZGUpdGhyb3cgbmV3IFQoXCJtaXNzaW5nLXZlcmlmaWNhdGlvbi1jb2RlXCIpfX1GYS5wcm90b3R5cGUucz1mdW5jdGlvbih0LG4saSxyLG8pe3ZhciBhPXRoaXM7cWEudGhlbihmdW5jdGlvbigpe3dpbmRvdy5nYXBpLmNsaWVudC5zZXRBcGlLZXkoYS5jKTt2YXIgZT13aW5kb3cuZ2FwaS5hdXRoLmdldFRva2VuKCk7d2luZG93LmdhcGkuYXV0aC5zZXRUb2tlbihudWxsKSx3aW5kb3cuZ2FwaS5jbGllbnQucmVxdWVzdCh7cGF0aDp0LG1ldGhvZDppLGJvZHk6cixoZWFkZXJzOm8sYXV0aFR5cGU6XCJub25lXCIsY2FsbGJhY2s6ZnVuY3Rpb24odCl7d2luZG93LmdhcGkuYXV0aC5zZXRUb2tlbihlKSxuJiZuKHQpfX0pfSkubyhmdW5jdGlvbih0KXtuJiZuKHtlcnJvcjp7bWVzc2FnZTp0JiZ0Lm1lc3NhZ2V8fFwiQ09SU19VTlNVUFBPUlRFRFwifX0pfSl9LEZhLnByb3RvdHlwZS56Yj1mdW5jdGlvbigpe3JldHVybiBYcyh0aGlzLHhzLHt9KX0sRmEucHJvdG90eXBlLkJiPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFhzKHRoaXMsUHMse2lkVG9rZW46dCxlbWFpbDplfSl9LEZhLnByb3RvdHlwZS5DYj1mdW5jdGlvbih0LGUpe3JldHVybiBYcyh0aGlzLExzLHtpZFRva2VuOnQscGFzc3dvcmQ6ZX0pfTt2YXIgb3M9e2Rpc3BsYXlOYW1lOlwiRElTUExBWV9OQU1FXCIscGhvdG9Vcmw6XCJQSE9UT19VUkxcIn07ZnVuY3Rpb24gYXModCl7aWYoIXQucGhvbmVWZXJpZmljYXRpb25JbmZvKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIik7aWYoIXQucGhvbmVWZXJpZmljYXRpb25JbmZvLnNlc3Npb25JbmZvKXRocm93IG5ldyBUKFwibWlzc2luZy12ZXJpZmljYXRpb24taWRcIik7aWYoIXQucGhvbmVWZXJpZmljYXRpb25JbmZvLmNvZGUpdGhyb3cgbmV3IFQoXCJtaXNzaW5nLXZlcmlmaWNhdGlvbi1jb2RlXCIpfWZ1bmN0aW9uIHNzKHQpe2lmKCF0LnJlcXVlc3RVcml8fCF0LnNlc3Npb25JZCYmIXQucG9zdEJvZHkmJiF0LnBlbmRpbmdUb2tlbil0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpfWZ1bmN0aW9uIHVzKHQsZSl7cmV0dXJuIGUub2F1dGhJZFRva2VuJiZlLnByb3ZpZGVySWQmJjA9PWUucHJvdmlkZXJJZC5pbmRleE9mKFwib2lkYy5cIikmJiFlLnBlbmRpbmdUb2tlbiYmKHQuc2Vzc2lvbklkP2Uubm9uY2U9dC5zZXNzaW9uSWQ6dC5wb3N0Qm9keSYmKEtuKHQ9bmV3IFZuKHQucG9zdEJvZHkpLFwibm9uY2VcIikmJihlLm5vbmNlPXQuZ2V0KFwibm9uY2VcIikpKSksZX1mdW5jdGlvbiBjcyh0KXt2YXIgZT1udWxsO2lmKHQubmVlZENvbmZpcm1hdGlvbj8odC5jb2RlPVwiYWNjb3VudC1leGlzdHMtd2l0aC1kaWZmZXJlbnQtY3JlZGVudGlhbFwiLGU9am8odCkpOlwiRkVERVJBVEVEX1VTRVJfSURfQUxSRUFEWV9MSU5LRURcIj09dC5lcnJvck1lc3NhZ2U/KHQuY29kZT1cImNyZWRlbnRpYWwtYWxyZWFkeS1pbi11c2VcIixlPWpvKHQpKTpcIkVNQUlMX0VYSVNUU1wiPT10LmVycm9yTWVzc2FnZT8odC5jb2RlPVwiZW1haWwtYWxyZWFkeS1pbi11c2VcIixlPWpvKHQpKTp0LmVycm9yTWVzc2FnZSYmKGU9SnModC5lcnJvck1lc3NhZ2UpKSxlKXRocm93IGU7aXModCl9ZnVuY3Rpb24gaHModCxlKXtyZXR1cm4gZS5yZXR1cm5JZHBDcmVkZW50aWFsPSEwLFhzKHQsVXMsZSl9ZnVuY3Rpb24gbHModCxlKXtyZXR1cm4gZS5yZXR1cm5JZHBDcmVkZW50aWFsPSEwLFhzKHQsRnMsZSl9ZnVuY3Rpb24gZnModCxlKXtyZXR1cm4gZS5yZXR1cm5JZHBDcmVkZW50aWFsPSEwLGUuYXV0b0NyZWF0ZT0hMSxYcyh0LFZzLGUpfWZ1bmN0aW9uIGRzKHQpe2lmKCF0Lm9vYkNvZGUpdGhyb3cgbmV3IFQoXCJpbnZhbGlkLWFjdGlvbi1jb2RlXCIpfSh0PUZhLnByb3RvdHlwZSkuRGI9ZnVuY3Rpb24odCxpKXt2YXIgcj17aWRUb2tlbjp0fSxvPVtdO3JldHVybiBzdChvcyxmdW5jdGlvbih0LGUpe3ZhciBuPWlbZV07bnVsbD09PW4/by5wdXNoKHQpOmUgaW4gaSYmKHJbZV09bil9KSxvLmxlbmd0aCYmKHIuZGVsZXRlQXR0cmlidXRlPW8pLFhzKHRoaXMsUHMscil9LHQudmI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbHQodD17cmVxdWVzdFR5cGU6XCJQQVNTV09SRF9SRVNFVFwiLGVtYWlsOnR9LGUpLFhzKHRoaXMsX3MsdCl9LHQud2I9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbHQodD17cmVxdWVzdFR5cGU6XCJFTUFJTF9TSUdOSU5cIixlbWFpbDp0fSxlKSxYcyh0aGlzLGtzLHQpfSx0LnViPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGx0KHQ9e3JlcXVlc3RUeXBlOlwiVkVSSUZZX0VNQUlMXCIsaWRUb2tlbjp0fSxlKSxYcyh0aGlzLFNzLHQpfSx0LkViPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbHQodD17cmVxdWVzdFR5cGU6XCJWRVJJRllfQU5EX0NIQU5HRV9FTUFJTFwiLGlkVG9rZW46dCxuZXdFbWFpbDplfSxuKSxYcyh0aGlzLE5zLHQpfSx0LmZiPWZ1bmN0aW9uKHQpe3JldHVybiBYcyh0aGlzLEtzLHQpfSx0Lm5iPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFhzKHRoaXMsUnMse29vYkNvZGU6dCxuZXdQYXNzd29yZDplfSl9LHQuUmE9ZnVuY3Rpb24odCl7cmV0dXJuIFhzKHRoaXMsdnMse29vYkNvZGU6dH0pfSx0LmpiPWZ1bmN0aW9uKHQpe3JldHVybiBYcyh0aGlzLHBzLHtvb2JDb2RlOnR9KX07dmFyIHBzPXtlbmRwb2ludDpcInNldEFjY291bnRJbmZvXCIsQTpkcyxaOlwiZW1haWxcIixCOiEwfSx2cz17ZW5kcG9pbnQ6XCJyZXNldFBhc3N3b3JkXCIsQTpkcyxHOmZ1bmN0aW9uKHQpe3ZhciBlPXQucmVxdWVzdFR5cGU7aWYoIWV8fCF0LmVtYWlsJiZcIkVNQUlMX1NJR05JTlwiIT1lJiZcIlZFUklGWV9BTkRfQ0hBTkdFX0VNQUlMXCIhPWUpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKX0sQjohMH0sbXM9e2VuZHBvaW50Olwic2lnbnVwTmV3VXNlclwiLEE6ZnVuY3Rpb24odCl7aWYoZXModCksIXQucGFzc3dvcmQpdGhyb3cgbmV3IFQoXCJ3ZWFrLXBhc3N3b3JkXCIpfSxHOmlzLFY6ITAsQjohMH0sZ3M9e2VuZHBvaW50OlwiY3JlYXRlQXV0aFVyaVwiLEI6ITB9LGJzPXtlbmRwb2ludDpcImRlbGV0ZUFjY291bnRcIixOOltcImlkVG9rZW5cIl19LHlzPXtlbmRwb2ludDpcInNldEFjY291bnRJbmZvXCIsTjpbXCJpZFRva2VuXCIsXCJkZWxldGVQcm92aWRlclwiXSxBOmZ1bmN0aW9uKHQpe2lmKCFBcnJheS5pc0FycmF5KHQuZGVsZXRlUHJvdmlkZXIpKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIil9fSx3cz17ZW5kcG9pbnQ6XCJlbWFpbExpbmtTaWduaW5cIixOOltcImVtYWlsXCIsXCJvb2JDb2RlXCJdLEE6ZXMsRzppcyxWOiEwLEI6ITB9LElzPXtlbmRwb2ludDpcImVtYWlsTGlua1NpZ25pblwiLE46W1wiaWRUb2tlblwiLFwiZW1haWxcIixcIm9vYkNvZGVcIl0sQTplcyxHOmlzLFY6ITB9LFRzPXtlbmRwb2ludDpcImFjY291bnRzL21mYUVucm9sbG1lbnQ6ZmluYWxpemVcIixOOltcImlkVG9rZW5cIixcInBob25lVmVyaWZpY2F0aW9uSW5mb1wiXSxBOmFzLEc6aXMsQjohMCxOYTohMH0sRXM9e2VuZHBvaW50OlwiYWNjb3VudHMvbWZhU2lnbkluOmZpbmFsaXplXCIsTjpbXCJtZmFQZW5kaW5nQ3JlZGVudGlhbFwiLFwicGhvbmVWZXJpZmljYXRpb25JbmZvXCJdLEE6YXMsRzppcyxCOiEwLE5hOiEwfSxBcz17ZW5kcG9pbnQ6XCJnZXRBY2NvdW50SW5mb1wifSxrcz17ZW5kcG9pbnQ6XCJnZXRPb2JDb25maXJtYXRpb25Db2RlXCIsTjpbXCJyZXF1ZXN0VHlwZVwiXSxBOmZ1bmN0aW9uKHQpe2lmKFwiRU1BSUxfU0lHTklOXCIhPXQucmVxdWVzdFR5cGUpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKTtlcyh0KX0sWjpcImVtYWlsXCIsQjohMH0sU3M9e2VuZHBvaW50OlwiZ2V0T29iQ29uZmlybWF0aW9uQ29kZVwiLE46W1wiaWRUb2tlblwiLFwicmVxdWVzdFR5cGVcIl0sQTpmdW5jdGlvbih0KXtpZihcIlZFUklGWV9FTUFJTFwiIT10LnJlcXVlc3RUeXBlKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIil9LFo6XCJlbWFpbFwiLEI6ITB9LE5zPXtlbmRwb2ludDpcImdldE9vYkNvbmZpcm1hdGlvbkNvZGVcIixOOltcImlkVG9rZW5cIixcIm5ld0VtYWlsXCIsXCJyZXF1ZXN0VHlwZVwiXSxBOmZ1bmN0aW9uKHQpe2lmKFwiVkVSSUZZX0FORF9DSEFOR0VfRU1BSUxcIiE9dC5yZXF1ZXN0VHlwZSl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpfSxaOlwiZW1haWxcIixCOiEwfSxfcz17ZW5kcG9pbnQ6XCJnZXRPb2JDb25maXJtYXRpb25Db2RlXCIsTjpbXCJyZXF1ZXN0VHlwZVwiXSxBOmZ1bmN0aW9uKHQpe2lmKFwiUEFTU1dPUkRfUkVTRVRcIiE9dC5yZXF1ZXN0VHlwZSl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpO2VzKHQpfSxaOlwiZW1haWxcIixCOiEwfSxPcz17bGI6ITAsZW5kcG9pbnQ6XCJnZXRQcm9qZWN0Q29uZmlnXCIsVWI6XCJHRVRcIn0sQ3M9e2xiOiEwLGVuZHBvaW50OlwiZ2V0UmVjYXB0Y2hhUGFyYW1cIixVYjpcIkdFVFwiLEc6ZnVuY3Rpb24odCl7aWYoIXQucmVjYXB0Y2hhU2l0ZUtleSl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpfX0sUnM9e2VuZHBvaW50OlwicmVzZXRQYXNzd29yZFwiLEE6ZHMsWjpcImVtYWlsXCIsQjohMH0sRHM9e2VuZHBvaW50Olwic2VuZFZlcmlmaWNhdGlvbkNvZGVcIixOOltcInBob25lTnVtYmVyXCIsXCJyZWNhcHRjaGFUb2tlblwiXSxaOlwic2Vzc2lvbkluZm9cIixCOiEwfSxQcz17ZW5kcG9pbnQ6XCJzZXRBY2NvdW50SW5mb1wiLE46W1wiaWRUb2tlblwiXSxBOm5zLFY6ITB9LExzPXtlbmRwb2ludDpcInNldEFjY291bnRJbmZvXCIsTjpbXCJpZFRva2VuXCJdLEE6ZnVuY3Rpb24odCl7aWYobnModCksIXQucGFzc3dvcmQpdGhyb3cgbmV3IFQoXCJ3ZWFrLXBhc3N3b3JkXCIpfSxHOmlzLFY6ITB9LHhzPXtlbmRwb2ludDpcInNpZ251cE5ld1VzZXJcIixHOmlzLFY6ITAsQjohMH0sTXM9e2VuZHBvaW50OlwiYWNjb3VudHMvbWZhRW5yb2xsbWVudDpzdGFydFwiLE46W1wiaWRUb2tlblwiLFwicGhvbmVFbnJvbGxtZW50SW5mb1wiXSxBOmZ1bmN0aW9uKHQpe2lmKCF0LnBob25lRW5yb2xsbWVudEluZm8pdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKTtpZighdC5waG9uZUVucm9sbG1lbnRJbmZvLnBob25lTnVtYmVyKXRocm93IG5ldyBUKFwibWlzc2luZy1waG9uZS1udW1iZXJcIik7aWYoIXQucGhvbmVFbnJvbGxtZW50SW5mby5yZWNhcHRjaGFUb2tlbil0aHJvdyBuZXcgVChcIm1pc3NpbmctYXBwLWNyZWRlbnRpYWxcIil9LEc6ZnVuY3Rpb24odCl7aWYoIXQucGhvbmVTZXNzaW9uSW5mb3x8IXQucGhvbmVTZXNzaW9uSW5mby5zZXNzaW9uSW5mbyl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpfSxCOiEwLE5hOiEwfSxqcz17ZW5kcG9pbnQ6XCJhY2NvdW50cy9tZmFTaWduSW46c3RhcnRcIixOOltcIm1mYVBlbmRpbmdDcmVkZW50aWFsXCIsXCJtZmFFbnJvbGxtZW50SWRcIixcInBob25lU2lnbkluSW5mb1wiXSxBOmZ1bmN0aW9uKHQpe2lmKCF0LnBob25lU2lnbkluSW5mb3x8IXQucGhvbmVTaWduSW5JbmZvLnJlY2FwdGNoYVRva2VuKXRocm93IG5ldyBUKFwibWlzc2luZy1hcHAtY3JlZGVudGlhbFwiKX0sRzpmdW5jdGlvbih0KXtpZighdC5waG9uZVJlc3BvbnNlSW5mb3x8IXQucGhvbmVSZXNwb25zZUluZm8uc2Vzc2lvbkluZm8pdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKX0sQjohMCxOYTohMH0sVXM9e2VuZHBvaW50OlwidmVyaWZ5QXNzZXJ0aW9uXCIsQTpzcyxZYTp1cyxHOmNzLFY6ITAsQjohMH0sVnM9e2VuZHBvaW50OlwidmVyaWZ5QXNzZXJ0aW9uXCIsQTpzcyxZYTp1cyxHOmZ1bmN0aW9uKHQpe2lmKHQuZXJyb3JNZXNzYWdlJiZcIlVTRVJfTk9UX0ZPVU5EXCI9PXQuZXJyb3JNZXNzYWdlKXRocm93IG5ldyBUKFwidXNlci1ub3QtZm91bmRcIik7aWYodC5lcnJvck1lc3NhZ2UpdGhyb3cgSnModC5lcnJvck1lc3NhZ2UpO2lzKHQpfSxWOiEwLEI6ITB9LEZzPXtlbmRwb2ludDpcInZlcmlmeUFzc2VydGlvblwiLEE6ZnVuY3Rpb24odCl7aWYoc3ModCksIXQuaWRUb2tlbil0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpfSxZYTp1cyxHOmNzLFY6ITB9LHFzPXtlbmRwb2ludDpcInZlcmlmeUN1c3RvbVRva2VuXCIsQTpmdW5jdGlvbih0KXtpZighdC50b2tlbil0aHJvdyBuZXcgVChcImludmFsaWQtY3VzdG9tLXRva2VuXCIpfSxHOmlzLFY6ITAsQjohMH0sSHM9e2VuZHBvaW50OlwidmVyaWZ5UGFzc3dvcmRcIixBOmZ1bmN0aW9uKHQpe2lmKGVzKHQpLCF0LnBhc3N3b3JkKXRocm93IG5ldyBUKFwid3JvbmctcGFzc3dvcmRcIil9LEc6aXMsVjohMCxCOiEwfSxLcz17ZW5kcG9pbnQ6XCJ2ZXJpZnlQaG9uZU51bWJlclwiLEE6cnMsRzppcyxCOiEwfSxHcz17ZW5kcG9pbnQ6XCJ2ZXJpZnlQaG9uZU51bWJlclwiLEE6ZnVuY3Rpb24odCl7aWYoIXQuaWRUb2tlbil0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpO3JzKHQpfSxHOmZ1bmN0aW9uKHQpe2lmKHQudGVtcG9yYXJ5UHJvb2YpdGhyb3cgdC5jb2RlPVwiY3JlZGVudGlhbC1hbHJlYWR5LWluLXVzZVwiLGpvKHQpO2lzKHQpfX0sQnM9e0hiOntVU0VSX05PVF9GT1VORDpcInVzZXItbm90LWZvdW5kXCJ9LGVuZHBvaW50OlwidmVyaWZ5UGhvbmVOdW1iZXJcIixBOnJzLEc6aXMsQjohMH0sV3M9e2VuZHBvaW50OlwiYWNjb3VudHMvbWZhRW5yb2xsbWVudDp3aXRoZHJhd1wiLE46W1wiaWRUb2tlblwiLFwibWZhRW5yb2xsbWVudElkXCJdLEc6ZnVuY3Rpb24odCl7aWYoISF0W0hhXV4hIXQucmVmcmVzaFRva2VuKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIil9LEI6ITAsTmE6ITB9O2Z1bmN0aW9uIFhzKHQsZSxuKXtpZighZnVuY3Rpb24odCxlKXtpZighZXx8IWUubGVuZ3RoKXJldHVybiAxO2lmKHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT10W2Vbbl1dO2lmKG51bGw9PWl8fFwiXCI9PT1pKXJldHVybn1yZXR1cm4gMX19KG4sZS5OKSlyZXR1cm4gd2UobmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKSk7dmFyIGkscj0hIWUuTmEsbz1lLlVifHxcIlBPU1RcIjtyZXR1cm4geWUobikudGhlbihlLkEpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5WJiYobi5yZXR1cm5TZWN1cmVUb2tlbj0hMCksZS5CJiZ0LmImJnZvaWQgMD09PW4udGVuYW50SWQmJihuLnRlbmFudElkPXQuYiksdHModCxyP3QuaTp0LmgsZS5lbmRwb2ludCxvLG4sZS5IYixlLmxifHwhMSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpPXQsZS5ZYT9lLllhKG4saSk6aX0pLnRoZW4oZS5HKS50aGVuKGZ1bmN0aW9uKCl7aWYoIWUuWilyZXR1cm4gaTtpZighKGUuWiBpbiBpKSl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpO3JldHVybiBpW2UuWl19KX1mdW5jdGlvbiBKcyh0KXtyZXR1cm4gWXMoe2Vycm9yOntlcnJvcnM6W3ttZXNzYWdlOnR9XSxjb2RlOjQwMCxtZXNzYWdlOnR9fSl9ZnVuY3Rpb24gWXModCxlKXt2YXIgbixpPSh0LmVycm9yJiZ0LmVycm9yLmVycm9ycyYmdC5lcnJvci5lcnJvcnNbMF18fHt9KS5yZWFzb258fFwiXCIscj17a2V5SW52YWxpZDpcImludmFsaWQtYXBpLWtleVwiLGlwUmVmZXJlckJsb2NrZWQ6XCJhcHAtbm90LWF1dGhvcml6ZWRcIn07aWYoaT1yW2ldP25ldyBUKHJbaV0pOm51bGwpcmV0dXJuIGk7Zm9yKG4gaW4gaT10LmVycm9yJiZ0LmVycm9yLm1lc3NhZ2V8fFwiXCIsbHQocj17SU5WQUxJRF9DVVNUT01fVE9LRU46XCJpbnZhbGlkLWN1c3RvbS10b2tlblwiLENSRURFTlRJQUxfTUlTTUFUQ0g6XCJjdXN0b20tdG9rZW4tbWlzbWF0Y2hcIixNSVNTSU5HX0NVU1RPTV9UT0tFTjpcImludGVybmFsLWVycm9yXCIsSU5WQUxJRF9JREVOVElGSUVSOlwiaW52YWxpZC1lbWFpbFwiLE1JU1NJTkdfQ09OVElOVUVfVVJJOlwiaW50ZXJuYWwtZXJyb3JcIixJTlZBTElEX0VNQUlMOlwiaW52YWxpZC1lbWFpbFwiLElOVkFMSURfUEFTU1dPUkQ6XCJ3cm9uZy1wYXNzd29yZFwiLFVTRVJfRElTQUJMRUQ6XCJ1c2VyLWRpc2FibGVkXCIsTUlTU0lOR19QQVNTV09SRDpcImludGVybmFsLWVycm9yXCIsRU1BSUxfRVhJU1RTOlwiZW1haWwtYWxyZWFkeS1pbi11c2VcIixQQVNTV09SRF9MT0dJTl9ESVNBQkxFRDpcIm9wZXJhdGlvbi1ub3QtYWxsb3dlZFwiLElOVkFMSURfSURQX1JFU1BPTlNFOlwiaW52YWxpZC1jcmVkZW50aWFsXCIsSU5WQUxJRF9QRU5ESU5HX1RPS0VOOlwiaW52YWxpZC1jcmVkZW50aWFsXCIsRkVERVJBVEVEX1VTRVJfSURfQUxSRUFEWV9MSU5LRUQ6XCJjcmVkZW50aWFsLWFscmVhZHktaW4tdXNlXCIsTUlTU0lOR19PUl9JTlZBTElEX05PTkNFOlwibWlzc2luZy1vci1pbnZhbGlkLW5vbmNlXCIsSU5WQUxJRF9NRVNTQUdFX1BBWUxPQUQ6XCJpbnZhbGlkLW1lc3NhZ2UtcGF5bG9hZFwiLElOVkFMSURfUkVDSVBJRU5UX0VNQUlMOlwiaW52YWxpZC1yZWNpcGllbnQtZW1haWxcIixJTlZBTElEX1NFTkRFUjpcImludmFsaWQtc2VuZGVyXCIsRU1BSUxfTk9UX0ZPVU5EOlwidXNlci1ub3QtZm91bmRcIixSRVNFVF9QQVNTV09SRF9FWENFRURfTElNSVQ6XCJ0b28tbWFueS1yZXF1ZXN0c1wiLEVYUElSRURfT09CX0NPREU6XCJleHBpcmVkLWFjdGlvbi1jb2RlXCIsSU5WQUxJRF9PT0JfQ09ERTpcImludmFsaWQtYWN0aW9uLWNvZGVcIixNSVNTSU5HX09PQl9DT0RFOlwiaW50ZXJuYWwtZXJyb3JcIixJTlZBTElEX1BST1ZJREVSX0lEOlwiaW52YWxpZC1wcm92aWRlci1pZFwiLENSRURFTlRJQUxfVE9PX09MRF9MT0dJTl9BR0FJTjpcInJlcXVpcmVzLXJlY2VudC1sb2dpblwiLElOVkFMSURfSURfVE9LRU46XCJpbnZhbGlkLXVzZXItdG9rZW5cIixUT0tFTl9FWFBJUkVEOlwidXNlci10b2tlbi1leHBpcmVkXCIsVVNFUl9OT1RfRk9VTkQ6XCJ1c2VyLXRva2VuLWV4cGlyZWRcIixDT1JTX1VOU1VQUE9SVEVEOlwiY29ycy11bnN1cHBvcnRlZFwiLERZTkFNSUNfTElOS19OT1RfQUNUSVZBVEVEOlwiZHluYW1pYy1saW5rLW5vdC1hY3RpdmF0ZWRcIixJTlZBTElEX0FQUF9JRDpcImludmFsaWQtYXBwLWlkXCIsVE9PX01BTllfQVRURU1QVFNfVFJZX0xBVEVSOlwidG9vLW1hbnktcmVxdWVzdHNcIixXRUFLX1BBU1NXT1JEOlwid2Vhay1wYXNzd29yZFwiLE9QRVJBVElPTl9OT1RfQUxMT1dFRDpcIm9wZXJhdGlvbi1ub3QtYWxsb3dlZFwiLFVTRVJfQ0FOQ0VMTEVEOlwidXNlci1jYW5jZWxsZWRcIixDQVBUQ0hBX0NIRUNLX0ZBSUxFRDpcImNhcHRjaGEtY2hlY2stZmFpbGVkXCIsSU5WQUxJRF9BUFBfQ1JFREVOVElBTDpcImludmFsaWQtYXBwLWNyZWRlbnRpYWxcIixJTlZBTElEX0NPREU6XCJpbnZhbGlkLXZlcmlmaWNhdGlvbi1jb2RlXCIsSU5WQUxJRF9QSE9ORV9OVU1CRVI6XCJpbnZhbGlkLXBob25lLW51bWJlclwiLElOVkFMSURfU0VTU0lPTl9JTkZPOlwiaW52YWxpZC12ZXJpZmljYXRpb24taWRcIixJTlZBTElEX1RFTVBPUkFSWV9QUk9PRjpcImludmFsaWQtY3JlZGVudGlhbFwiLE1JU1NJTkdfQVBQX0NSRURFTlRJQUw6XCJtaXNzaW5nLWFwcC1jcmVkZW50aWFsXCIsTUlTU0lOR19DT0RFOlwibWlzc2luZy12ZXJpZmljYXRpb24tY29kZVwiLE1JU1NJTkdfUEhPTkVfTlVNQkVSOlwibWlzc2luZy1waG9uZS1udW1iZXJcIixNSVNTSU5HX1NFU1NJT05fSU5GTzpcIm1pc3NpbmctdmVyaWZpY2F0aW9uLWlkXCIsUVVPVEFfRVhDRUVERUQ6XCJxdW90YS1leGNlZWRlZFwiLFNFU1NJT05fRVhQSVJFRDpcImNvZGUtZXhwaXJlZFwiLFJFSkVDVEVEX0NSRURFTlRJQUw6XCJyZWplY3RlZC1jcmVkZW50aWFsXCIsSU5WQUxJRF9DT05USU5VRV9VUkk6XCJpbnZhbGlkLWNvbnRpbnVlLXVyaVwiLE1JU1NJTkdfQU5EUk9JRF9QQUNLQUdFX05BTUU6XCJtaXNzaW5nLWFuZHJvaWQtcGtnLW5hbWVcIixNSVNTSU5HX0lPU19CVU5ETEVfSUQ6XCJtaXNzaW5nLWlvcy1idW5kbGUtaWRcIixVTkFVVEhPUklaRURfRE9NQUlOOlwidW5hdXRob3JpemVkLWNvbnRpbnVlLXVyaVwiLElOVkFMSURfRFlOQU1JQ19MSU5LX0RPTUFJTjpcImludmFsaWQtZHluYW1pYy1saW5rLWRvbWFpblwiLElOVkFMSURfT0FVVEhfQ0xJRU5UX0lEOlwiaW52YWxpZC1vYXV0aC1jbGllbnQtaWRcIixJTlZBTElEX0NFUlRfSEFTSDpcImludmFsaWQtY2VydC1oYXNoXCIsVU5TVVBQT1JURURfVEVOQU5UX09QRVJBVElPTjpcInVuc3VwcG9ydGVkLXRlbmFudC1vcGVyYXRpb25cIixJTlZBTElEX1RFTkFOVF9JRDpcImludmFsaWQtdGVuYW50LWlkXCIsVEVOQU5UX0lEX01JU01BVENIOlwidGVuYW50LWlkLW1pc21hdGNoXCIsQURNSU5fT05MWV9PUEVSQVRJT046XCJhZG1pbi1yZXN0cmljdGVkLW9wZXJhdGlvblwiLElOVkFMSURfTUZBX1BFTkRJTkdfQ1JFREVOVElBTDpcImludmFsaWQtbXVsdGktZmFjdG9yLXNlc3Npb25cIixNRkFfRU5ST0xMTUVOVF9OT1RfRk9VTkQ6XCJtdWx0aS1mYWN0b3ItaW5mby1ub3QtZm91bmRcIixNSVNTSU5HX01GQV9QRU5ESU5HX0NSRURFTlRJQUw6XCJtaXNzaW5nLW11bHRpLWZhY3Rvci1zZXNzaW9uXCIsTUlTU0lOR19NRkFfRU5ST0xMTUVOVF9JRDpcIm1pc3NpbmctbXVsdGktZmFjdG9yLWluZm9cIixFTUFJTF9DSEFOR0VfTkVFRFNfVkVSSUZJQ0FUSU9OOlwiZW1haWwtY2hhbmdlLW5lZWRzLXZlcmlmaWNhdGlvblwiLFNFQ09ORF9GQUNUT1JfRVhJU1RTOlwic2Vjb25kLWZhY3Rvci1hbHJlYWR5LWluLXVzZVwiLFNFQ09ORF9GQUNUT1JfTElNSVRfRVhDRUVERUQ6XCJtYXhpbXVtLXNlY29uZC1mYWN0b3ItY291bnQtZXhjZWVkZWRcIixVTlNVUFBPUlRFRF9GSVJTVF9GQUNUT1I6XCJ1bnN1cHBvcnRlZC1maXJzdC1mYWN0b3JcIixVTlZFUklGSUVEX0VNQUlMOlwidW52ZXJpZmllZC1lbWFpbFwifSxlfHx7fSksZT0oZT1pLm1hdGNoKC9eW15cXHNdK1xccyo6XFxzKihbXFxzXFxTXSopJC8pKSYmMTxlLmxlbmd0aD9lWzFdOnZvaWQgMCxyKWlmKDA9PT1pLmluZGV4T2YobikpcmV0dXJuIG5ldyBUKHJbbl0sZSk7cmV0dXJuIG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIixlPSFlJiZ0P0FpKHQpOmUpfWZ1bmN0aW9uIHpzKHQpe3ZhciBvO3RoaXMuYj10LHRoaXMuYT1udWxsLHRoaXMucmI9KG89dGhpcywodHU9dHV8fG5ldyBmZShmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXtPaSgpLGJpKFwiZ2FwaS5sb2FkXCIpKFwiZ2FwaS5pZnJhbWVzXCIse2NhbGxiYWNrOnQsb250aW1lb3V0OmZ1bmN0aW9uKCl7T2koKSxlKEVycm9yKFwiTmV0d29yayBFcnJvclwiKSl9LHRpbWVvdXQ6WnMuZ2V0KCl9KX12YXIgaTtiaShcImdhcGkuaWZyYW1lcy5JZnJhbWVcIik/dCgpOmJpKFwiZ2FwaS5sb2FkXCIpP24oKTooaT1cIl9faWZyYW1lZmNiXCIrTWF0aC5mbG9vcigxZTYqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoKSxsW2ldPWZ1bmN0aW9uKCl7YmkoXCJnYXBpLmxvYWRcIik/bigpOmUoRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKX0seWUoUGEoaT1JdCgkcyx7b25sb2FkOml9KSkpLm8oZnVuY3Rpb24oKXtlKEVycm9yKFwiTmV0d29yayBFcnJvclwiKSl9KSl9KS5vKGZ1bmN0aW9uKHQpe3Rocm93IHR1PW51bGwsdH0pKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBmZShmdW5jdGlvbihpLHIpe2JpKFwiZ2FwaS5pZnJhbWVzLmdldENvbnRleHRcIikoKS5vcGVuKHt3aGVyZTpkb2N1bWVudC5ib2R5LHVybDpvLmIsbWVzc2FnZUhhbmRsZXJzRmlsdGVyOmJpKFwiZ2FwaS5pZnJhbWVzLkNST1NTX09SSUdJTl9JRlJBTUVTX0ZJTFRFUlwiKSxhdHRyaWJ1dGVzOntzdHlsZTp7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIi0xMDBweFwiLHdpZHRoOlwiMXB4XCIsaGVpZ2h0OlwiMXB4XCJ9fSxkb250Y2xlYXI6ITB9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtjbGVhclRpbWVvdXQobiksaSgpfW8uYT10LG8uYS5yZXN0eWxlKHtzZXRIaWRlT25MZWF2ZTohMX0pO3ZhciBuPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKEVycm9yKFwiTmV0d29yayBFcnJvclwiKSl9LFFzLmdldCgpKTt0LnBpbmcoZSkudGhlbihlLGZ1bmN0aW9uKCl7cihFcnJvcihcIk5ldHdvcmsgRXJyb3JcIikpfSl9KX0pfSkpfXZhciAkcz1uZXcgZHQoZ3QsXCJodHRwczovL2FwaXMuZ29vZ2xlLmNvbS9qcy9hcGkuanM/b25sb2FkPSV7b25sb2FkfVwiKSxacz1uZXcgQ2koM2U0LDZlNCksUXM9bmV3IENpKDVlMywxNWUzKSx0dT1udWxsO2Z1bmN0aW9uIGV1KHQsZSxuLGkpe3RoaXMubD10LHRoaXMuaD1lLHRoaXMuaT1uLHRoaXMuZz1pLHRoaXMuZj1udWxsLHQ9dGhpcy5nP0NuKCh0PU9uKHRoaXMuZy51cmwpKS5jLHQuYSx0LmcsXCIvZW11bGF0b3IvYXV0aC9pZnJhbWVcIik6Q24oXCJodHRwc1wiLHRoaXMubCxudWxsLFwiL19fL2F1dGgvaWZyYW1lXCIpLHRoaXMuYT10LE5uKHRoaXMuYSxcImFwaUtleVwiLHRoaXMuaCksTm4odGhpcy5hLFwiYXBwTmFtZVwiLHRoaXMuaSksdGhpcy5iPW51bGwsdGhpcy5jPVtdfWZ1bmN0aW9uIG51KHQsZSxuLGkscixvKXt0aGlzLnU9dCx0aGlzLnM9ZSx0aGlzLmM9bix0aGlzLm09aSx0aGlzLnY9byx0aGlzLmk9dGhpcy5nPXRoaXMubD1udWxsLHRoaXMuYT1yLHRoaXMuaD10aGlzLmY9bnVsbH1mdW5jdGlvbiBpdSh0KXt0cnl7cmV0dXJuIHpsLmRlZmF1bHQuYXBwKHQpLmF1dGgoKS5HYSgpfWNhdGNoKHQpe3JldHVybltdfX1mdW5jdGlvbiBydSh0LGUsbixpLHIsbyl7dGhpcy5zPXQsdGhpcy5nPWUsdGhpcy5iPW4sdGhpcy5mPW8sdGhpcy5jPWl8fG51bGwsdGhpcy5pPXJ8fG51bGwsdGhpcy5sPXRoaXMudT10aGlzLkM9bnVsbCx0aGlzLmg9W10sdGhpcy5tPXRoaXMuYT1udWxsfWZ1bmN0aW9uIG91KHQpe3ZhciBzPVFuKCk7cmV0dXJuIFhzKHQsT3Mse30pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuYXV0aG9yaXplZERvbWFpbnN8fFtdfSkudGhlbihmdW5jdGlvbih0KXt0Ontmb3IodmFyIGU9KG49T24ocykpLmMsbj1uLmEsaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgcj10W2ldLG89bixhPWU7aWYobz0wPT1yLmluZGV4T2YoXCJjaHJvbWUtZXh0ZW5zaW9uOi8vXCIpP09uKHIpLmE9PW8mJlwiY2hyb21lLWV4dGVuc2lvblwiPT1hOihcImh0dHBcIj09YXx8XCJodHRwc1wiPT1hKSYmKHJpLnRlc3Qocik/bz09cjoocj1yLnNwbGl0KFwiLlwiKS5qb2luKFwiXFxcXC5cIiksbmV3IFJlZ0V4cChcIl4oLitcXFxcLlwiK3IrXCJ8XCIrcitcIikkXCIsXCJpXCIpLnRlc3QobykpKSl7dD0hMDticmVhayB0fX10PSExfWlmKCF0KXRocm93IG5ldyB4byhRbigpKX0pfWZ1bmN0aW9uIGF1KHIpe3JldHVybiByLm18fChyLm09YWkoKS50aGVuKGZ1bmN0aW9uKCl7dmFyIHQsZSxuLGk7ci51fHwodD1yLmMsZT1yLmksbj1pdShyLmIpLChpPW5ldyBldShyLnMsci5nLHIuYixyLmYpKS5mPXQsaS5iPWUsaS5jPVgobnx8W10pLHIudT1pLnRvU3RyaW5nKCkpLHIudj1uZXcgenMoci51KSxmdW5jdGlvbihpKXtpZighaS52KXRocm93IEVycm9yKFwiSWZjSGFuZGxlciBtdXN0IGJlIGluaXRpYWxpemVkIVwiKTshZnVuY3Rpb24odCxlKXt0LnJiLnRoZW4oZnVuY3Rpb24oKXt0LmEucmVnaXN0ZXIoXCJhdXRoRXZlbnRcIixlLGJpKFwiZ2FwaS5pZnJhbWVzLkNST1NTX09SSUdJTl9JRlJBTUVTX0ZJTFRFUlwiKSl9KX0oaS52LGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2lmKHQmJnQuYXV0aEV2ZW50KXt2YXIgbj0hMTtmb3IodD1Sbyh0LmF1dGhFdmVudCksZT0wO2U8aS5oLmxlbmd0aDtlKyspbj1pLmhbZV0odCl8fG47cmV0dXJuKGU9e30pLnN0YXR1cz1uP1wiQUNLXCI6XCJFUlJPUlwiLHllKGUpfXJldHVybiBlLnN0YXR1cz1cIkVSUk9SXCIseWUoZSl9KX0ocil9KSxyLm0pfWZ1bmN0aW9uIHN1KHQpe3JldHVybiB0Lmx8fCh0LkM9dC5jP21pKHQuYyxpdSh0LmIpKTpudWxsLHQubD1uZXcgRmEodC5nLF8odC5pKSx0LkMpLHQuZiYmSmEodC5sLHQuZikpLHQubH1mdW5jdGlvbiB1dSh0LGUsbixpLHIsbyxhLHMsdSxjLGgsbCl7cmV0dXJuKHQ9bmV3IG51KHQsZSxuLGkscixsKSkubD1vLHQuZz1hLHQuaT1zLHQuYj1jdCh1fHxudWxsKSx0LmY9Yyx0LnliKGgpLnRvU3RyaW5nKCl9ZnVuY3Rpb24gY3UodCl7aWYodGhpcy5hPXR8fHpsLmRlZmF1bHQuSU5URVJOQUwucmVhY3ROYXRpdmUmJnpsLmRlZmF1bHQuSU5URVJOQUwucmVhY3ROYXRpdmUuQXN5bmNTdG9yYWdlLCF0aGlzLmEpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiLFwiVGhlIFJlYWN0IE5hdGl2ZSBjb21wYXRpYmlsaXR5IGxpYnJhcnkgd2FzIG5vdCBmb3VuZC5cIik7dGhpcy50eXBlPVwiYXN5bmNTdG9yYWdlXCJ9ZnVuY3Rpb24gaHUodCl7dGhpcy5iPXQsdGhpcy5hPXt9LHRoaXMuZj1iKHRoaXMuYyx0aGlzKX1ldS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mP05uKHRoaXMuYSxcInZcIix0aGlzLmYpOkhuKHRoaXMuYS5iLFwidlwiKSx0aGlzLmI/Tm4odGhpcy5hLFwiZWlkXCIsdGhpcy5iKTpIbih0aGlzLmEuYixcImVpZFwiKSx0aGlzLmMubGVuZ3RoP05uKHRoaXMuYSxcImZ3XCIsdGhpcy5jLmpvaW4oXCIsXCIpKTpIbih0aGlzLmEuYixcImZ3XCIpLHRoaXMuYS50b1N0cmluZygpfSxudS5wcm90b3R5cGUueWI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaD10LHRoaXN9LG51LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0O2lmKE5uKHQ9dGhpcy52P0NuKCh0PU9uKHRoaXMudi51cmwpKS5jLHQuYSx0LmcsXCIvZW11bGF0b3IvYXV0aC9oYW5kbGVyXCIpOkNuKFwiaHR0cHNcIix0aGlzLnUsbnVsbCxcIi9fXy9hdXRoL2hhbmRsZXJcIiksXCJhcGlLZXlcIix0aGlzLnMpLE5uKHQsXCJhcHBOYW1lXCIsdGhpcy5jKSxObih0LFwiYXV0aFR5cGVcIix0aGlzLm0pLHRoaXMuYS5pc09BdXRoUHJvdmlkZXIpe3ZhciBlPXRoaXMuYTt0cnl7dmFyIG49emwuZGVmYXVsdC5hcHAodGhpcy5jKS5hdXRoKCkubGEoKX1jYXRjaCh0KXtuPW51bGx9Zm9yKGkgaW4gZS5vYj1uLE5uKHQsXCJwcm92aWRlcklkXCIsdGhpcy5hLnByb3ZpZGVySWQpLGU9a2koKG49dGhpcy5hKS5JYikpZVtpXT1lW2ldLnRvU3RyaW5nKCk7Zm9yKHZhciBpPW4uUWMsZT1jdChlKSxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07byBpbiBlJiZkZWxldGUgZVtvXX1uLnBiJiZuLm9iJiYhZVtuLnBiXSYmKGVbbi5wYl09bi5vYiksdXQoZSl8fE5uKHQsXCJjdXN0b21QYXJhbWV0ZXJzXCIsQWkoZSkpfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuYS5RYiYmKChuPXRoaXMuYS5RYigpKS5sZW5ndGgmJk5uKHQsXCJzY29wZXNcIixuLmpvaW4oXCIsXCIpKSksdGhpcy5sP05uKHQsXCJyZWRpcmVjdFVybFwiLHRoaXMubCk6SG4odC5iLFwicmVkaXJlY3RVcmxcIiksdGhpcy5nP05uKHQsXCJldmVudElkXCIsdGhpcy5nKTpIbih0LmIsXCJldmVudElkXCIpLHRoaXMuaT9Obih0LFwidlwiLHRoaXMuaSk6SG4odC5iLFwidlwiKSx0aGlzLmIpZm9yKHZhciBhIGluIHRoaXMuYil0aGlzLmIuaGFzT3duUHJvcGVydHkoYSkmJiFfbih0LGEpJiZObih0LGEsdGhpcy5iW2FdKTtyZXR1cm4gdGhpcy5oP05uKHQsXCJ0aWRcIix0aGlzLmgpOkhuKHQuYixcInRpZFwiKSx0aGlzLmY/Tm4odCxcImVpZFwiLHRoaXMuZik6SG4odC5iLFwiZWlkXCIpLChhPWl1KHRoaXMuYykpLmxlbmd0aCYmTm4odCxcImZ3XCIsYS5qb2luKFwiLFwiKSksdC50b1N0cmluZygpfSwodD1ydS5wcm90b3R5cGUpLk9iPWZ1bmN0aW9uKGUsbix0KXt2YXIgaT1uZXcgVChcInBvcHVwLWNsb3NlZC1ieS11c2VyXCIpLHI9bmV3IFQoXCJ3ZWItc3RvcmFnZS11bnN1cHBvcnRlZFwiKSxvPXRoaXMsYT0hMTtyZXR1cm4gdGhpcy5tYSgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgdCxpO2k9e3R5cGU6XCJ3ZWJTdG9yYWdlU3VwcG9ydFwifSxhdSh0PW8pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZT10LnYsbj1pLGUucmIudGhlbihmdW5jdGlvbigpe3JldHVybiBuZXcgZmUoZnVuY3Rpb24odCl7ZS5hLnNlbmQobi50eXBlLG4sdCxiaShcImdhcGkuaWZyYW1lcy5DUk9TU19PUklHSU5fSUZSQU1FU19GSUxURVJcIikpfSl9KTt2YXIgZSxufSkudGhlbihmdW5jdGlvbih0KXtpZih0JiZ0Lmxlbmd0aCYmdm9pZCAwIT09dFswXS53ZWJTdG9yYWdlU3VwcG9ydClyZXR1cm4gdFswXS53ZWJTdG9yYWdlU3VwcG9ydDt0aHJvdyBFcnJvcigpfSkudGhlbihmdW5jdGlvbih0KXt0fHwoZSYmbmkoZSksbihyKSxhPSEwKX0pfSkubyhmdW5jdGlvbigpe30pLnRoZW4oZnVuY3Rpb24oKXtpZighYSlyZXR1cm4gbj1lLG5ldyBmZShmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24gdCgpe21uKDJlMykudGhlbihmdW5jdGlvbigpe3JldHVybiBuJiYhbi5jbG9zZWQ/dCgpOnZvaWQgZSgpfSl9KCl9KTt2YXIgbn0pLnRoZW4oZnVuY3Rpb24oKXtpZighYSlyZXR1cm4gbW4odCkudGhlbihmdW5jdGlvbigpe24oaSl9KX0pfSx0LlhiPWZ1bmN0aW9uKCl7dmFyIHQ9Z2koKTtyZXR1cm4hRWkodCkmJiFfaSh0KX0sdC5UYj1mdW5jdGlvbigpe3JldHVybiExfSx0Lk1iPWZ1bmN0aW9uKGUsdCxuLGkscixvLGEscyl7aWYoIWUpcmV0dXJuIHdlKG5ldyBUKFwicG9wdXAtYmxvY2tlZFwiKSk7aWYoYSYmIUVpKCkpcmV0dXJuIHRoaXMubWEoKS5vKGZ1bmN0aW9uKHQpe25pKGUpLHIodCl9KSxpKCkseWUoKTt0aGlzLmF8fCh0aGlzLmE9b3Uoc3UodGhpcykpKTt2YXIgdT10aGlzO3JldHVybiB0aGlzLmEudGhlbihmdW5jdGlvbigpe3ZhciB0PXUubWEoKS5vKGZ1bmN0aW9uKHQpe3Rocm93IG5pKGUpLHIodCksdH0pO3JldHVybiBpKCksdH0pLnRoZW4oZnVuY3Rpb24oKXtPbyhuKSxhfHx0aSh1dSh1LnMsdS5nLHUuYix0LG4sbnVsbCxvLHUuYyx2b2lkIDAsdS5pLHMsdS5mKSxlKX0pLm8oZnVuY3Rpb24odCl7dGhyb3dcImF1dGgvbmV0d29yay1yZXF1ZXN0LWZhaWxlZFwiPT10LmNvZGUmJih1LmE9bnVsbCksdH0pfSx0Lk5iPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuYXx8KHRoaXMuYT1vdShzdSh0aGlzKSkpO3ZhciByPXRoaXM7cmV0dXJuIHRoaXMuYS50aGVuKGZ1bmN0aW9uKCl7T28oZSksdGkodXUoci5zLHIuZyxyLmIsdCxlLFFuKCksbixyLmMsdm9pZCAwLHIuaSxpLHIuZikpfSkubyhmdW5jdGlvbih0KXt0aHJvd1wiYXV0aC9uZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCI9PXQuY29kZSYmKHIuYT1udWxsKSx0fSl9LHQubWE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBhdSh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQudi5yYn0pLm8oZnVuY3Rpb24oKXt0aHJvdyB0LmE9bnVsbCxuZXcgVChcIm5ldHdvcmstcmVxdWVzdC1mYWlsZWRcIil9KX0sdC4kYj1mdW5jdGlvbigpe3JldHVybiEwfSx0LkVhPWZ1bmN0aW9uKHQpe3RoaXMuaC5wdXNoKHQpfSx0LlNhPWZ1bmN0aW9uKGUpe0IodGhpcy5oLGZ1bmN0aW9uKHQpe3JldHVybiB0PT1lfSl9LCh0PWN1LnByb3RvdHlwZSkuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB5ZSh0aGlzLmEuZ2V0SXRlbSh0KSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdCYmU2kodCl9KX0sdC5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4geWUodGhpcy5hLnNldEl0ZW0odCxBaShlKSkpfSx0LlU9ZnVuY3Rpb24odCl7cmV0dXJuIHllKHRoaXMuYS5yZW1vdmVJdGVtKHQpKX0sdC5jYT1mdW5jdGlvbigpe30sdC5pYT1mdW5jdGlvbigpe307dmFyIGx1LGZ1PVtdO2Z1bmN0aW9uIGR1KHQsZSxuKXt1dCh0LmEpJiZ0LmIuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0LmYpLHZvaWQgMD09PXQuYVtlXSYmKHQuYVtlXT1bXSksdC5hW2VdLnB1c2gobil9ZnVuY3Rpb24gcHUodCl7dGhpcy5hPXR9ZnVuY3Rpb24gdnUodCl7dGhpcy5jPXQsdGhpcy5iPSExLHRoaXMuYT1bXX1mdW5jdGlvbiBtdShpLHQsZSxuKXt2YXIgcixvLGEscyx1PWV8fHt9LGM9bnVsbDtpZihpLmIpcmV0dXJuIHdlKEVycm9yKFwiY29ubmVjdGlvbl91bmF2YWlsYWJsZVwiKSk7dmFyIGg9bj84MDA6NTAsbD1cInVuZGVmaW5lZFwiIT10eXBlb2YgTWVzc2FnZUNoYW5uZWw/bmV3IE1lc3NhZ2VDaGFubmVsOm51bGw7cmV0dXJuIG5ldyBmZShmdW5jdGlvbihlLG4pe2w/KHI9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKk1hdGgucG93KDEwLDIwKSkudG9TdHJpbmcoKSxsLnBvcnQxLnN0YXJ0KCksYT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bihFcnJvcihcInVuc3VwcG9ydGVkX2V2ZW50XCIpKX0saCksYz17bWVzc2FnZUNoYW5uZWw6bCxvbk1lc3NhZ2U6bz1mdW5jdGlvbih0KXt0LmRhdGEuZXZlbnRJZD09PXImJihcImFja1wiPT09dC5kYXRhLnN0YXR1cz8oY2xlYXJUaW1lb3V0KGEpLHM9c2V0VGltZW91dChmdW5jdGlvbigpe24oRXJyb3IoXCJ0aW1lb3V0XCIpKX0sM2UzKSk6XCJkb25lXCI9PT10LmRhdGEuc3RhdHVzPyhjbGVhclRpbWVvdXQocyksdm9pZCAwIT09dC5kYXRhLnJlc3BvbnNlP2UodC5kYXRhLnJlc3BvbnNlKTpuKEVycm9yKFwidW5rbm93bl9lcnJvclwiKSkpOihjbGVhclRpbWVvdXQoYSksY2xlYXJUaW1lb3V0KHMpLG4oRXJyb3IoXCJpbnZhbGlkX3Jlc3BvbnNlXCIpKSkpfX0saS5hLnB1c2goYyksbC5wb3J0MS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLG8pLGkuYy5wb3N0TWVzc2FnZSh7ZXZlbnRUeXBlOnQsZXZlbnRJZDpyLGRhdGE6dX0sW2wucG9ydDJdKSk6bihFcnJvcihcImNvbm5lY3Rpb25fdW5hdmFpbGFibGVcIikpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZ3UoaSxjKSx0fSkubyhmdW5jdGlvbih0KXt0aHJvdyBndShpLGMpLHR9KX1mdW5jdGlvbiBndSh0LGUpe3ZhciBuLGk7ZSYmKG49ZS5tZXNzYWdlQ2hhbm5lbCxpPWUub25NZXNzYWdlLG4mJihuLnBvcnQxLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsaSksbi5wb3J0MS5jbG9zZSgpKSxCKHQuYSxmdW5jdGlvbih0KXtyZXR1cm4gdD09ZX0pKX1mdW5jdGlvbiBidSgpe2lmKCFUdSgpKXRocm93IG5ldyBUKFwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWRcIik7dGhpcy5jPXt9LHRoaXMuYT1bXSx0aGlzLmI9MCx0aGlzLm09bC5pbmRleGVkREIsdGhpcy50eXBlPVwiaW5kZXhlZERCXCIsdGhpcy5nPXRoaXMudj10aGlzLmY9dGhpcy5sPW51bGwsdGhpcy5zPSExLHRoaXMuaD1udWxsO3ZhciB0LGUsbixpPXRoaXM7Y2koKSYmc2VsZj8odGhpcy52PShuPWNpKCk/c2VsZjpudWxsLFYoZnUsZnVuY3Rpb24odCl7dC5iPT1uJiYoZT10KX0pLGV8fChlPW5ldyBodShuKSxmdS5wdXNoKGUpKSxlKSxkdSh0aGlzLnYsXCJrZXlDaGFuZ2VkXCIsZnVuY3Rpb24odCxuKXtyZXR1cm4gTnUoaSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aCYmVihpLmEsZnVuY3Rpb24odCl7dChlKX0pLHtrZXlQcm9jZXNzZWQ6SyhlLG4ua2V5KX19KX0pLGR1KHRoaXMudixcInBpbmdcIixmdW5jdGlvbigpe3JldHVybiB5ZShbXCJrZXlDaGFuZ2VkXCJdKX0pKTooKHQ9bC5uYXZpZ2F0b3IpJiZ0LnNlcnZpY2VXb3JrZXI/eWUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQuc2VydmljZVdvcmtlci5yZWFkeX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuYWN0aXZlfHxudWxsfSkubyhmdW5jdGlvbigpe3JldHVybiBudWxsfSk6eWUobnVsbCkpLnRoZW4oZnVuY3Rpb24odCl7KGkuaD10KSYmKGkuZz1uZXcgdnUobmV3IHB1KHQpKSxtdShpLmcsXCJwaW5nXCIsbnVsbCwhMCkudGhlbihmdW5jdGlvbih0KXt0WzBdLmZ1bGZpbGxlZCYmSyh0WzBdLnZhbHVlLFwia2V5Q2hhbmdlZFwiKSYmKGkucz0hMCl9KS5vKGZ1bmN0aW9uKCl7fSkpfSl9ZnVuY3Rpb24geXUocil7cmV0dXJuIG5ldyBmZShmdW5jdGlvbihlLG4pe3ZhciB0PXIubS5vcGVuKFwiZmlyZWJhc2VMb2NhbFN0b3JhZ2VEYlwiLDEpO3Qub25lcnJvcj1mdW5jdGlvbih0KXt0cnl7dC5wcmV2ZW50RGVmYXVsdCgpfWNhdGNoKHQpe31uKEVycm9yKHQudGFyZ2V0LmVycm9yKSl9LHQub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKHQpe3Q9dC50YXJnZXQucmVzdWx0O3RyeXt0LmNyZWF0ZU9iamVjdFN0b3JlKFwiZmlyZWJhc2VMb2NhbFN0b3JhZ2VcIix7a2V5UGF0aDpcImZiYXNlX2tleVwifSl9Y2F0Y2godCl7bih0KX19LHQub25zdWNjZXNzPWZ1bmN0aW9uKHQpe3ZhciBpOyh0PXQudGFyZ2V0LnJlc3VsdCkub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhcImZpcmViYXNlTG9jYWxTdG9yYWdlXCIpP2UodCk6KGk9cixuZXcgZmUoZnVuY3Rpb24odCxlKXt2YXIgbj1pLm0uZGVsZXRlRGF0YWJhc2UoXCJmaXJlYmFzZUxvY2FsU3RvcmFnZURiXCIpO24ub25zdWNjZXNzPWZ1bmN0aW9uKCl7dCgpfSxuLm9uZXJyb3I9ZnVuY3Rpb24odCl7ZShFcnJvcih0LnRhcmdldC5lcnJvcikpfX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4geXUocil9KS50aGVuKGZ1bmN0aW9uKHQpe2UodCl9KS5vKGZ1bmN0aW9uKHQpe24odCl9KSl9fSl9ZnVuY3Rpb24gd3UodCl7cmV0dXJuIHQuaXx8KHQuaT15dSh0KSksdC5pfWZ1bmN0aW9uIEl1KHIsdCl7dmFyIG89MDtyZXR1cm4gbmV3IGZlKGZ1bmN0aW9uIGUobixpKXt3dShyKS50aGVuKHQpLnRoZW4obikubyhmdW5jdGlvbih0KXtyZXR1cm4gMzwrK28/dm9pZCBpKHQpOnd1KHIpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuY2xvc2UoKSxyLmk9dm9pZCAwLGUobixpKX0pLm8oZnVuY3Rpb24odCl7aSh0KX0pfSl9KX1mdW5jdGlvbiBUdSgpe3RyeXtyZXR1cm4gbC5pbmRleGVkREJ9Y2F0Y2godCl7cmV0dXJufX1mdW5jdGlvbiBFdSh0KXtyZXR1cm4gdC5vYmplY3RTdG9yZShcImZpcmViYXNlTG9jYWxTdG9yYWdlXCIpfWZ1bmN0aW9uIEF1KHQsZSl7cmV0dXJuIHQudHJhbnNhY3Rpb24oW1wiZmlyZWJhc2VMb2NhbFN0b3JhZ2VcIl0sZT9cInJlYWR3cml0ZVwiOlwicmVhZG9ubHlcIil9ZnVuY3Rpb24ga3UodCl7cmV0dXJuIG5ldyBmZShmdW5jdGlvbihlLG4pe3Qub25zdWNjZXNzPWZ1bmN0aW9uKHQpe3QmJnQudGFyZ2V0P2UodC50YXJnZXQucmVzdWx0KTplKCl9LHQub25lcnJvcj1mdW5jdGlvbih0KXtuKHQudGFyZ2V0LmVycm9yKX19KX1mdW5jdGlvbiBTdSh0LGUpe3JldHVybiB0LmcmJnQuaCYmKChuPWwubmF2aWdhdG9yKSYmbi5zZXJ2aWNlV29ya2VyJiZuLnNlcnZpY2VXb3JrZXIuY29udHJvbGxlcnx8bnVsbCk9PT10Lmg/bXUodC5nLFwia2V5Q2hhbmdlZFwiLHtrZXk6ZX0sdC5zKS50aGVuKGZ1bmN0aW9uKCl7fSkubyhmdW5jdGlvbigpe30pOnllKCk7dmFyIG59ZnVuY3Rpb24gTnUoaSl7cmV0dXJuIHd1KGkpLnRoZW4oZnVuY3Rpb24odCl7dmFyIHI9RXUoQXUodCwhMSkpO3JldHVybiByLmdldEFsbD9rdShyLmdldEFsbCgpKTpuZXcgZmUoZnVuY3Rpb24oZSxuKXt2YXIgaT1bXSx0PXIub3BlbkN1cnNvcigpO3Qub25zdWNjZXNzPWZ1bmN0aW9uKHQpeyh0PXQudGFyZ2V0LnJlc3VsdCk/KGkucHVzaCh0LnZhbHVlKSx0LmNvbnRpbnVlKCkpOmUoaSl9LHQub25lcnJvcj1mdW5jdGlvbih0KXtuKHQudGFyZ2V0LmVycm9yKX19KX0pLnRoZW4oZnVuY3Rpb24odCl7dmFyIGU9e30sbj1bXTtpZigwPT1pLmIpe2ZvcihuPTA7bjx0Lmxlbmd0aDtuKyspZVt0W25dLmZiYXNlX2tleV09dFtuXS52YWx1ZTtuPWZ1bmN0aW9uIHQoZSxuKXt2YXIgaSxyPVtdO2ZvcihpIGluIGUpaSBpbiBuJiZ0eXBlb2YgZVtpXT09dHlwZW9mIG5baV0/XCJvYmplY3RcIj09dHlwZW9mIGVbaV0mJm51bGwhPWVbaV0mJm51bGwhPW5baV0/MDx0KGVbaV0sbltpXSkubGVuZ3RoJiZyLnB1c2goaSk6ZVtpXSE9PW5baV0mJnIucHVzaChpKTpyLnB1c2goaSk7Zm9yKGkgaW4gbilpIGluIGV8fHIucHVzaChpKTtyZXR1cm4gcn0oaS5jLGUpLGkuYz1lfXJldHVybiBufSl9ZnVuY3Rpb24gX3UodCl7dC5sJiZ0LmwuY2FuY2VsKFwiU1RPUF9FVkVOVFwiKSx0LmYmJihjbGVhclRpbWVvdXQodC5mKSx0LmY9bnVsbCl9ZnVuY3Rpb24gT3UodCl7dmFyIGk9dGhpcyxyPW51bGw7dGhpcy5hPVtdLHRoaXMudHlwZT1cImluZGV4ZWREQlwiLHRoaXMuYz10LHRoaXMuYj15ZSgpLnRoZW4oZnVuY3Rpb24oKXtpZihUdSgpKXt2YXIgZT1OaSgpLG49XCJfX3Nha1wiK2U7cmV0dXJuIGx1PWx1fHxuZXcgYnUsKHI9bHUpLnNldChuLGUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gci5nZXQobil9KS50aGVuKGZ1bmN0aW9uKHQpe2lmKHQhPT1lKXRocm93IEVycm9yKFwiaW5kZXhlZERCIG5vdCBzdXBwb3J0ZWQhXCIpO3JldHVybiByLlUobil9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KS5vKGZ1bmN0aW9uKCl7cmV0dXJuIGkuY30pfXJldHVybiBpLmN9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLnR5cGU9dC50eXBlLHQuY2EoZnVuY3Rpb24oZSl7VihpLmEsZnVuY3Rpb24odCl7dChlKX0pfSksdH0pfWZ1bmN0aW9uIEN1KCl7dGhpcy5hPXt9LHRoaXMudHlwZT1cImluTWVtb3J5XCJ9ZnVuY3Rpb24gUnUoKXtpZighZnVuY3Rpb24oKXt2YXIgdD1cIk5vZGVcIj09aGkoKTtpZighKHQ9RHUoKXx8dCYmemwuZGVmYXVsdC5JTlRFUk5BTC5ub2RlJiZ6bC5kZWZhdWx0LklOVEVSTkFMLm5vZGUubG9jYWxTdG9yYWdlKSlyZXR1cm4hMTt0cnl7cmV0dXJuIHQuc2V0SXRlbShcIl9fc2FrXCIsXCIxXCIpLHQucmVtb3ZlSXRlbShcIl9fc2FrXCIpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSl7aWYoXCJOb2RlXCI9PWhpKCkpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiLFwiVGhlIExvY2FsU3RvcmFnZSBjb21wYXRpYmlsaXR5IGxpYnJhcnkgd2FzIG5vdCBmb3VuZC5cIik7dGhyb3cgbmV3IFQoXCJ3ZWItc3RvcmFnZS11bnN1cHBvcnRlZFwiKX10aGlzLmE9RHUoKXx8emwuZGVmYXVsdC5JTlRFUk5BTC5ub2RlLmxvY2FsU3RvcmFnZSx0aGlzLnR5cGU9XCJsb2NhbFN0b3JhZ2VcIn1mdW5jdGlvbiBEdSgpe3RyeXt2YXIgdD1sLmxvY2FsU3RvcmFnZSxlPU5pKCk7cmV0dXJuIHQmJih0LnNldEl0ZW0oZSxcIjFcIiksdC5yZW1vdmVJdGVtKGUpKSx0fWNhdGNoKHQpe3JldHVybiBudWxsfX1mdW5jdGlvbiBQdSgpe3RoaXMudHlwZT1cIm51bGxTdG9yYWdlXCJ9ZnVuY3Rpb24gTHUoKXtpZighZnVuY3Rpb24oKXt2YXIgdD1cIk5vZGVcIj09aGkoKTtpZighKHQ9eHUoKXx8dCYmemwuZGVmYXVsdC5JTlRFUk5BTC5ub2RlJiZ6bC5kZWZhdWx0LklOVEVSTkFMLm5vZGUuc2Vzc2lvblN0b3JhZ2UpKXJldHVybiExO3RyeXtyZXR1cm4gdC5zZXRJdGVtKFwiX19zYWtcIixcIjFcIiksdC5yZW1vdmVJdGVtKFwiX19zYWtcIiksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpKXtpZihcIk5vZGVcIj09aGkoKSl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIsXCJUaGUgU2Vzc2lvblN0b3JhZ2UgY29tcGF0aWJpbGl0eSBsaWJyYXJ5IHdhcyBub3QgZm91bmQuXCIpO3Rocm93IG5ldyBUKFwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWRcIil9dGhpcy5hPXh1KCl8fHpsLmRlZmF1bHQuSU5URVJOQUwubm9kZS5zZXNzaW9uU3RvcmFnZSx0aGlzLnR5cGU9XCJzZXNzaW9uU3RvcmFnZVwifWZ1bmN0aW9uIHh1KCl7dHJ5e3ZhciB0PWwuc2Vzc2lvblN0b3JhZ2UsZT1OaSgpO3JldHVybiB0JiYodC5zZXRJdGVtKGUsXCIxXCIpLHQucmVtb3ZlSXRlbShlKSksdH1jYXRjaCh0KXtyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTXUoKXt2YXIgdD17fTt0LkJyb3dzZXI9VnUsdC5Ob2RlPUZ1LHQuUmVhY3ROYXRpdmU9cXUsdC5Xb3JrZXI9SHUsdGhpcy5hPXRbaGkoKV19aHUucHJvdG90eXBlLmM9ZnVuY3Rpb24obil7dmFyIGUsaT1uLmRhdGEuZXZlbnRUeXBlLHI9bi5kYXRhLmV2ZW50SWQsdD10aGlzLmFbaV07dCYmMDx0Lmxlbmd0aCYmKG4ucG9ydHNbMF0ucG9zdE1lc3NhZ2Uoe3N0YXR1czpcImFja1wiLGV2ZW50SWQ6cixldmVudFR5cGU6aSxyZXNwb25zZTpudWxsfSksZT1bXSxWKHQsZnVuY3Rpb24odCl7ZS5wdXNoKHllKCkudGhlbihmdW5jdGlvbigpe3JldHVybiB0KG4ub3JpZ2luLG4uZGF0YS5kYXRhKX0pKX0pLFRlKGUpLnRoZW4oZnVuY3Rpb24odCl7dmFyIGU9W107Vih0LGZ1bmN0aW9uKHQpe2UucHVzaCh7ZnVsZmlsbGVkOnQuUGIsdmFsdWU6dC52YWx1ZSxyZWFzb246dC5yZWFzb24/dC5yZWFzb24ubWVzc2FnZTp2b2lkIDB9KX0pLFYoZSxmdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdCl2b2lkIDA9PT10W2VdJiZkZWxldGUgdFtlXX0pLG4ucG9ydHNbMF0ucG9zdE1lc3NhZ2Uoe3N0YXR1czpcImRvbmVcIixldmVudElkOnIsZXZlbnRUeXBlOmkscmVzcG9uc2U6ZX0pfSkpfSxwdS5wcm90b3R5cGUucG9zdE1lc3NhZ2U9ZnVuY3Rpb24odCxlKXt0aGlzLmEucG9zdE1lc3NhZ2UodCxlKX0sdnUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7Zm9yKDswPHRoaXMuYS5sZW5ndGg7KWd1KHRoaXMsdGhpcy5hWzBdKTt0aGlzLmI9ITB9LCh0PWJ1LnByb3RvdHlwZSkuc2V0PWZ1bmN0aW9uKGkscil7dmFyIG89dGhpcyxhPSExO3JldHVybiBJdSh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiBrdSgodD1FdShBdSh0LCEwKSkpLmdldChpKSl9KS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiBJdShvLGZ1bmN0aW9uKHQpe2lmKHQ9RXUoQXUodCwhMCkpLG4pcmV0dXJuIG4udmFsdWU9cixrdSh0LnB1dChuKSk7by5iKyssYT0hMDt2YXIgZT17fTtyZXR1cm4gZS5mYmFzZV9rZXk9aSxlLnZhbHVlPXIsa3UodC5hZGQoZSkpfSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG8uY1tpXT1yLFN1KG8saSl9KS5vYShmdW5jdGlvbigpe2EmJm8uYi0tfSl9LHQuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBJdSh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiBrdShFdShBdSh0LCExKSkuZ2V0KGUpKX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQudmFsdWV9KX0sdC5VPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMsaT0hMTtyZXR1cm4gSXUodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gaT0hMCxuLmIrKyxrdShFdShBdSh0LCEwKSkuZGVsZXRlKGUpKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZGVsZXRlIG4uY1tlXSxTdShuLGUpfSkub2EoZnVuY3Rpb24oKXtpJiZuLmItLX0pfSx0LmNhPWZ1bmN0aW9uKHQpe3ZhciBuOzA9PXRoaXMuYS5sZW5ndGgmJihfdShuPXRoaXMpLGZ1bmN0aW9uIGUoKXtuLmY9c2V0VGltZW91dChmdW5jdGlvbigpe24ubD1OdShuKS50aGVuKGZ1bmN0aW9uKGUpezA8ZS5sZW5ndGgmJlYobi5hLGZ1bmN0aW9uKHQpe3QoZSl9KX0pLnRoZW4oZnVuY3Rpb24oKXtlKCl9KS5vKGZ1bmN0aW9uKHQpe1wiU1RPUF9FVkVOVFwiIT10Lm1lc3NhZ2UmJmUoKX0pfSw4MDApfSgpKSx0aGlzLmEucHVzaCh0KX0sdC5pYT1mdW5jdGlvbihlKXtCKHRoaXMuYSxmdW5jdGlvbih0KXtyZXR1cm4gdD09ZX0pLDA9PXRoaXMuYS5sZW5ndGgmJl91KHRoaXMpfSwodD1PdS5wcm90b3R5cGUpLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5iLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0KGUpfSl9LHQuc2V0PWZ1bmN0aW9uKGUsbil7cmV0dXJuIHRoaXMuYi50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNldChlLG4pfSl9LHQuVT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5iLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuVShlKX0pfSx0LmNhPWZ1bmN0aW9uKHQpe3RoaXMuYS5wdXNoKHQpfSx0LmlhPWZ1bmN0aW9uKGUpe0IodGhpcy5hLGZ1bmN0aW9uKHQpe3JldHVybiB0PT1lfSl9LCh0PUN1LnByb3RvdHlwZSkuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB5ZSh0aGlzLmFbdF0pfSx0LnNldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFbdF09ZSx5ZSgpfSx0LlU9ZnVuY3Rpb24odCl7cmV0dXJuIGRlbGV0ZSB0aGlzLmFbdF0seWUoKX0sdC5jYT1mdW5jdGlvbigpe30sdC5pYT1mdW5jdGlvbigpe30sKHQ9UnUucHJvdG90eXBlKS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4geWUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFNpKGUuYS5nZXRJdGVtKHQpKX0pfSx0LnNldD1mdW5jdGlvbihlLG4pe3ZhciBpPXRoaXM7cmV0dXJuIHllKCkudGhlbihmdW5jdGlvbigpe3ZhciB0PUFpKG4pO251bGw9PT10P2kuVShlKTppLmEuc2V0SXRlbShlLHQpfSl9LHQuVT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB5ZSgpLnRoZW4oZnVuY3Rpb24oKXtlLmEucmVtb3ZlSXRlbSh0KX0pfSx0LmNhPWZ1bmN0aW9uKHQpe2wud2luZG93JiZaZShsLndpbmRvdyxcInN0b3JhZ2VcIix0KX0sdC5pYT1mdW5jdGlvbih0KXtsLndpbmRvdyYmZW4obC53aW5kb3csXCJzdG9yYWdlXCIsdCl9LCh0PVB1LnByb3RvdHlwZSkuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHllKG51bGwpfSx0LnNldD1mdW5jdGlvbigpe3JldHVybiB5ZSgpfSx0LlU9ZnVuY3Rpb24oKXtyZXR1cm4geWUoKX0sdC5jYT1mdW5jdGlvbigpe30sdC5pYT1mdW5jdGlvbigpe30sKHQ9THUucHJvdG90eXBlKS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4geWUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFNpKGUuYS5nZXRJdGVtKHQpKX0pfSx0LnNldD1mdW5jdGlvbihlLG4pe3ZhciBpPXRoaXM7cmV0dXJuIHllKCkudGhlbihmdW5jdGlvbigpe3ZhciB0PUFpKG4pO251bGw9PT10P2kuVShlKTppLmEuc2V0SXRlbShlLHQpfSl9LHQuVT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB5ZSgpLnRoZW4oZnVuY3Rpb24oKXtlLmEucmVtb3ZlSXRlbSh0KX0pfSx0LmNhPWZ1bmN0aW9uKCl7fSx0LmlhPWZ1bmN0aW9uKCl7fTt2YXIganUsVXUsVnU9e0Y6UnUsYmI6THV9LEZ1PXtGOlJ1LGJiOkx1fSxxdT17RjpjdSxiYjpQdX0sSHU9e0Y6UnUsYmI6UHV9LEt1PXtyZDpcImxvY2FsXCIsTk9ORTpcIm5vbmVcIix0ZDpcInNlc3Npb25cIn07ZnVuY3Rpb24gR3UoKXt2YXIgdD0hKF9pKGdpKCkpfHwhdWkoKSksZT1FaSgpLG49eWkoKTt0aGlzLm09dCx0aGlzLmg9ZSx0aGlzLmw9bix0aGlzLmE9e30sdD1qdT1qdXx8bmV3IE11O3RyeXt0aGlzLmc9IVpuKCkmJkxpKCl8fCFsLmluZGV4ZWREQj9uZXcgdC5hLkY6bmV3IE91KG5ldyhjaSgpP0N1OnQuYS5GKSl9Y2F0Y2godCl7dGhpcy5nPW5ldyBDdSx0aGlzLmg9ITB9dHJ5e3RoaXMuaT1uZXcgdC5hLmJifWNhdGNoKHQpe3RoaXMuaT1uZXcgQ3V9dGhpcy52PW5ldyBDdSx0aGlzLmY9Yih0aGlzLlliLHRoaXMpLHRoaXMuYj17fX1mdW5jdGlvbiBCdSgpe3JldHVybiBVdT1VdXx8bmV3IEd1fWZ1bmN0aW9uIFd1KHQsZSl7c3dpdGNoKGUpe2Nhc2VcInNlc3Npb25cIjpyZXR1cm4gdC5pO2Nhc2VcIm5vbmVcIjpyZXR1cm4gdC52O2RlZmF1bHQ6cmV0dXJuIHQuZ319ZnVuY3Rpb24gWHUodCxlKXtyZXR1cm5cImZpcmViYXNlOlwiK3QubmFtZSsoZT9cIjpcIitlOlwiXCIpfWZ1bmN0aW9uIEp1KHQsZSxuKXtyZXR1cm4gbj1YdShlLG4pLFwibG9jYWxcIj09ZS5GJiYodC5iW25dPW51bGwpLFd1KHQsZS5GKS5VKG4pfWZ1bmN0aW9uIFl1KHQpe3QuYyYmKGNsZWFySW50ZXJ2YWwodC5jKSx0LmM9bnVsbCl9ZnVuY3Rpb24genUodCl7dGhpcy5hPXQsdGhpcy5iPUJ1KCl9KHQ9R3UucHJvdG90eXBlKS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gV3UodGhpcyx0LkYpLmdldChYdSh0LGUpKX0sdC5zZXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPVh1KGUsbikscj10aGlzLG89V3UodGhpcyxlLkYpO3JldHVybiBvLnNldChpLHQpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gby5nZXQoaSl9KS50aGVuKGZ1bmN0aW9uKHQpe1wibG9jYWxcIj09ZS5GJiYoci5iW2ldPXQpfSl9LHQuYWRkTGlzdGVuZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpO3Q9WHUodCxlKSx0aGlzLmwmJih0aGlzLmJbdF09bC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0KSksdXQodGhpcy5hKSYmKFd1KHRoaXMsXCJsb2NhbFwiKS5jYSh0aGlzLmYpLHRoaXMuaHx8KFpuKCl8fCFMaSgpKSYmbC5pbmRleGVkREJ8fCF0aGlzLmx8fChZdShpPXRoaXMpLGkuYz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiBpLmEpe3ZhciBlPWwubG9jYWxTdG9yYWdlLmdldEl0ZW0odCksbj1pLmJbdF07ZSE9biYmKGkuYlt0XT1lLGU9bmV3IHFlKHt0eXBlOlwic3RvcmFnZVwiLGtleTp0LHRhcmdldDp3aW5kb3csb2xkVmFsdWU6bixuZXdWYWx1ZTplLGE6ITB9KSxpLlliKGUpKX19LDFlMykpKSx0aGlzLmFbdF18fCh0aGlzLmFbdF09W10pLHRoaXMuYVt0XS5wdXNoKG4pfSx0LnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSxuKXt0PVh1KHQsZSksdGhpcy5hW3RdJiYoQih0aGlzLmFbdF0sZnVuY3Rpb24odCl7cmV0dXJuIHQ9PW59KSwwPT10aGlzLmFbdF0ubGVuZ3RoJiZkZWxldGUgdGhpcy5hW3RdKSx1dCh0aGlzLmEpJiYoV3UodGhpcyxcImxvY2FsXCIpLmlhKHRoaXMuZiksWXUodGhpcykpfSx0LlliPWZ1bmN0aW9uKHQpe2lmKHQmJnQuZyl7dmFyIGU9dC5hLmtleTtpZihudWxsPT1lKWZvcih2YXIgbiBpbiB0aGlzLmEpe3ZhciBpPXRoaXMuYltuXTt2b2lkIDA9PT1pJiYoaT1udWxsKTt2YXIgcj1sLmxvY2FsU3RvcmFnZS5nZXRJdGVtKG4pO3IhPT1pJiYodGhpcy5iW25dPXIsdGhpcy5tYihuKSl9ZWxzZSBpZigwPT1lLmluZGV4T2YoXCJmaXJlYmFzZTpcIikmJnRoaXMuYVtlXSl7aWYodm9pZCAwIT09dC5hLmE/V3UodGhpcyxcImxvY2FsXCIpLmlhKHRoaXMuZik6WXUodGhpcyksdGhpcy5tKWlmKG49bC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKSwoaT10LmEubmV3VmFsdWUpIT09biludWxsIT09aT9sLmxvY2FsU3RvcmFnZS5zZXRJdGVtKGUsaSk6bC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKTtlbHNlIGlmKHRoaXMuYltlXT09PWkmJnZvaWQgMD09PXQuYS5hKXJldHVybjt2YXIgbz10aGlzLG49ZnVuY3Rpb24oKXt2b2lkIDA9PT10LmEuYSYmby5iW2VdPT09bC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKXx8KG8uYltlXT1sLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGUpLG8ubWIoZSkpfTtIdCYmWnQmJjEwPT1adCYmbC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKSE9PXQuYS5uZXdWYWx1ZSYmdC5hLm5ld1ZhbHVlIT09dC5hLm9sZFZhbHVlP3NldFRpbWVvdXQobiwxMCk6bigpfX1lbHNlIFYodCxiKHRoaXMubWIsdGhpcykpfSx0Lm1iPWZ1bmN0aW9uKHQpe3RoaXMuYVt0XSYmVih0aGlzLmFbdF0sZnVuY3Rpb24odCl7dCgpfSl9O3ZhciAkdSxadT17bmFtZTpcImF1dGhFdmVudFwiLEY6XCJsb2NhbFwifTtmdW5jdGlvbiBRdSgpe3RoaXMuYT1CdSgpfWZ1bmN0aW9uIHRjKHQsZSl7dGhpcy5iPWVjLHRoaXMuZj1sLlVpbnQ4QXJyYXk/bmV3IFVpbnQ4QXJyYXkodGhpcy5iKTpBcnJheSh0aGlzLmIpLHRoaXMuZz10aGlzLmM9MCx0aGlzLmE9W10sdGhpcy5pPXQsdGhpcy5oPWUsdGhpcy5sPWwuSW50MzJBcnJheT9uZXcgSW50MzJBcnJheSg2NCk6QXJyYXkoNjQpLHZvaWQgMD09PSR1JiYoJHU9bC5JbnQzMkFycmF5P25ldyBJbnQzMkFycmF5KHVjKTp1YyksdGhpcy5yZXNldCgpfXcodGMsZnVuY3Rpb24oKXt0aGlzLmI9LTF9KTtmb3IodmFyIGVjPTY0LG5jPWVjLTEsaWM9W10scmM9MDtyYzxuYztyYysrKWljW3JjXT0wO3ZhciBvYz1XKDEyOCxpYyk7ZnVuY3Rpb24gYWModCl7Zm9yKHZhciBlPXQuZixuPXQubCxpPTAscj0wO3I8ZS5sZW5ndGg7KW5baSsrXT1lW3JdPDwyNHxlW3IrMV08PDE2fGVbcisyXTw8OHxlW3IrM10scj00Kmk7Zm9yKGU9MTY7ZTw2NDtlKyspe3ZhciByPTB8bltlLTE1XSxpPTB8bltlLTJdLG89KDB8bltlLTE2XSkrKChyPj4+N3xyPDwyNSleKHI+Pj4xOHxyPDwxNClecj4+PjMpfDAsYT0oMHxuW2UtN10pKygoaT4+PjE3fGk8PDE1KV4oaT4+PjE5fGk8PDEzKV5pPj4+MTApfDA7bltlXT1vK2F8MH1pPTB8dC5hWzBdLHI9MHx0LmFbMV07dmFyIHM9MHx0LmFbMl0sdT0wfHQuYVszXSxjPTB8dC5hWzRdLGg9MHx0LmFbNV0sbD0wfHQuYVs2XTtmb3Iobz0wfHQuYVs3XSxlPTA7ZTw2NDtlKyspe3ZhciBmPSgoaT4+PjJ8aTw8MzApXihpPj4+MTN8aTw8MTkpXihpPj4+MjJ8aTw8MTApKSsoaSZyXmkmc15yJnMpfDA7YT0obz1vKygoYz4+PjZ8Yzw8MjYpXihjPj4+MTF8Yzw8MjEpXihjPj4+MjV8Yzw8NykpfDApKygoYT0oYT1jJmhefmMmbCkrKDB8JHVbZV0pfDApKygwfG5bZV0pfDApfDAsbz1sLGw9aCxoPWMsYz11K2F8MCx1PXMscz1yLHI9aSxpPWErZnwwfXQuYVswXT10LmFbMF0raXwwLHQuYVsxXT10LmFbMV0rcnwwLHQuYVsyXT10LmFbMl0rc3wwLHQuYVszXT10LmFbM10rdXwwLHQuYVs0XT10LmFbNF0rY3wwLHQuYVs1XT10LmFbNV0raHwwLHQuYVs2XT10LmFbNl0rbHwwLHQuYVs3XT10LmFbN10rb3wwfWZ1bmN0aW9uIHNjKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1lLmxlbmd0aCk7dmFyIGk9MCxyPXQuYztpZihcInN0cmluZ1wiPT10eXBlb2YgZSlmb3IoO2k8bjspdC5mW3IrK109ZS5jaGFyQ29kZUF0KGkrKykscj09dC5iJiYoYWModCkscj0wKTtlbHNle2lmKCFwKGUpKXRocm93IEVycm9yKFwibWVzc2FnZSBtdXN0IGJlIHN0cmluZyBvciBhcnJheVwiKTtmb3IoO2k8bjspe3ZhciBvPWVbaSsrXTtpZighKFwibnVtYmVyXCI9PXR5cGVvZiBvJiYwPD1vJiZvPD0yNTUmJm89PSgwfG8pKSl0aHJvdyBFcnJvcihcIm1lc3NhZ2UgbXVzdCBiZSBhIGJ5dGUgYXJyYXlcIik7dC5mW3IrK109byxyPT10LmImJihhYyh0KSxyPTApfX10LmM9cix0LmcrPW59dGMucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5nPXRoaXMuYz0wLHRoaXMuYT1sLkludDMyQXJyYXk/bmV3IEludDMyQXJyYXkodGhpcy5oKTpYKHRoaXMuaCl9O3ZhciB1Yz1bMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XTtmdW5jdGlvbiBjYygpe3RjLmNhbGwodGhpcyw4LGhjKX13KGNjLHRjKTt2YXIgaGM9WzE3NzkwMzM3MDMsMzE0NDEzNDI3NywxMDEzOTA0MjQyLDI3NzM0ODA3NjIsMTM1OTg5MzExOSwyNjAwODIyOTI0LDUyODczNDYzNSwxNTQxNDU5MjI1XTtmdW5jdGlvbiBsYyh0LGUsbixpLHIsbyl7dGhpcy52PXQsdGhpcy5pPWUsdGhpcy5sPW4sdGhpcy5tPWl8fG51bGwsdGhpcy51PXJ8fG51bGwsdGhpcy5zPW8sdGhpcy5oPWUrXCI6XCIrbix0aGlzLkM9bmV3IFF1LHRoaXMuZz1uZXcgenUodGhpcy5oKSx0aGlzLmY9bnVsbCx0aGlzLmI9W10sdGhpcy5hPXRoaXMuYz1udWxsfWZ1bmN0aW9uIGZjKHQpe3JldHVybiBuZXcgVChcImludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uXCIsdCl9ZnVuY3Rpb24gZGModCl7dmFyIGU9bmV3IGNjO3NjKGUsdCksdD1bXTt2YXIgbj04KmUuZztlLmM8NTY/c2MoZSxvYyw1Ni1lLmMpOnNjKGUsb2MsZS5iLShlLmMtNTYpKTtmb3IodmFyIGk9NjM7NTY8PWk7aS0tKWUuZltpXT0yNTUmbixuLz0yNTY7Zm9yKGFjKGUpLGk9bj0wO2k8ZS5pO2krKylmb3IodmFyIHI9MjQ7MDw9cjtyLT04KXRbbisrXT1lLmFbaV0+PnImMjU1O3JldHVybiBxKHQsZnVuY3Rpb24odCl7cmV0dXJuIDE8KHQ9dC50b1N0cmluZygxNikpLmxlbmd0aD90OlwiMFwiK3R9KS5qb2luKFwiXCIpfWZ1bmN0aW9uIHBjKHQsZSl7Zm9yKHZhciBuPTA7bjx0LmIubGVuZ3RoO24rKyl0cnl7dC5iW25dKGUpfWNhdGNoKHQpe319ZnVuY3Rpb24gdmMocyl7cmV0dXJuIHMuZnx8KHMuZj1zLm1hKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBuZXcgZmUoZnVuY3Rpb24obil7ZnVuY3Rpb24gZShpKXt0PSEwLGEmJmEuY2FuY2VsKCksbWMocikudGhlbihmdW5jdGlvbih0KXt2YXIgZSxuPW87dCYmaSYmaS51cmwmJihlPW51bGwsbj0oZT0tMSE9KG49SnIoaS51cmwpKS5pbmRleE9mKFwiL19fL2F1dGgvY2FsbGJhY2tcIik/KGU9XCJvYmplY3RcIj09dHlwZW9mKGU9U2koX24oZT1PbihuKSxcImZpcmViYXNlRXJyb3JcIil8fG51bGwpKT9FKGUpOm51bGwpP25ldyBDbyh0LmMsdC5iLG51bGwsbnVsbCxlLG51bGwsdC5UKCkpOm5ldyBDbyh0LmMsdC5iLG4sdC5mLG51bGwsbnVsbCx0LlQoKSk6ZSl8fG8pLHBjKHIsbil9KX12YXIgcixvLHQsYSxpO3MuRWEoZnVuY3Rpb24gdChlKXtyZXR1cm4gbihlKSxzLlNhKHQpLCExfSkscj1zLG89bmV3IENvKFwidW5rbm93blwiLG51bGwsbnVsbCxudWxsLG5ldyBUKFwibm8tYXV0aC1ldmVudFwiKSksdD0hMSxhPW1uKDUwMCkudGhlbihmdW5jdGlvbigpe3JldHVybiBtYyhyKS50aGVuKGZ1bmN0aW9uKCl7dHx8cGMocixvKX0pfSksaT1sLmhhbmRsZU9wZW5VUkwsbC5oYW5kbGVPcGVuVVJMPWZ1bmN0aW9uKHQpe2lmKDA9PXQudG9Mb3dlckNhc2UoKS5pbmRleE9mKGJpKFwiQnVpbGRJbmZvLnBhY2thZ2VOYW1lXCIsbCkudG9Mb3dlckNhc2UoKStcIjovL1wiKSYmZSh7dXJsOnR9KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpKXRyeXtpKHQpfWNhdGNoKHQpe2NvbnNvbGUuZXJyb3IodCl9fSxMbz1Mb3x8bmV3IERvLGZ1bmN0aW9uKHQpe3ZhciBuPUxvO24uYS5wdXNoKHQpLG4uYnx8KG4uYj1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPG4uYS5sZW5ndGg7ZSsrKW4uYVtlXSh0KX0sXCJmdW5jdGlvblwiPT10eXBlb2YodD1iaShcInVuaXZlcnNhbExpbmtzLnN1YnNjcmliZVwiLGwpKSYmdChudWxsLG4uYikpfShlKX0pfSkpLHMuZn1mdW5jdGlvbiBtYyhlKXt2YXIgdCxuPW51bGw7cmV0dXJuKHQ9ZS5nKS5iLmdldChadSx0LmEpLnRoZW4oUm8pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG49dCxKdSgodD1lLmcpLmIsWnUsdC5hKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbn0pfWZ1bmN0aW9uIGdjKHQpe3RoaXMuYT10LHRoaXMuYj1CdSgpfSh0PWxjLnByb3RvdHlwZSkubWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5JYXx8KHRoaXMuSWE9KHNpKHZvaWQgMCk/YWkoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBmZShmdW5jdGlvbih0LGUpe3ZhciBuPWwuZG9jdW1lbnQsaT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShFcnJvcihcIkNvcmRvdmEgZnJhbWV3b3JrIGlzIG5vdCByZWFkeS5cIikpfSwxZTMpO24uYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZXJlYWR5XCIsZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoaSksdCgpfSwhMSl9KX0pOndlKEVycm9yKFwiQ29yZG92YSBtdXN0IHJ1biBpbiBhbiBBbmRyb2lkIG9yIGlPUyBmaWxlIHNjaGVtZS5cIikpKS50aGVuKGZ1bmN0aW9uKCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYmkoXCJ1bml2ZXJzYWxMaW5rcy5zdWJzY3JpYmVcIixsKSl0aHJvdyBmYyhcImNvcmRvdmEtdW5pdmVyc2FsLWxpbmtzLXBsdWdpbi1maXggaXMgbm90IGluc3RhbGxlZFwiKTtpZih2b2lkIDA9PT1iaShcIkJ1aWxkSW5mby5wYWNrYWdlTmFtZVwiLGwpKXRocm93IGZjKFwiY29yZG92YS1wbHVnaW4tYnVpbGRpbmZvIGlzIG5vdCBpbnN0YWxsZWRcIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYmkoXCJjb3Jkb3ZhLnBsdWdpbnMuYnJvd3NlcnRhYi5vcGVuVXJsXCIsbCkpdGhyb3cgZmMoXCJjb3Jkb3ZhLXBsdWdpbi1icm93c2VydGFiIGlzIG5vdCBpbnN0YWxsZWRcIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYmkoXCJjb3Jkb3ZhLkluQXBwQnJvd3Nlci5vcGVuXCIsbCkpdGhyb3cgZmMoXCJjb3Jkb3ZhLXBsdWdpbi1pbmFwcGJyb3dzZXIgaXMgbm90IGluc3RhbGxlZFwiKX0sZnVuY3Rpb24oKXt0aHJvdyBuZXcgVChcImNvcmRvdmEtbm90LXJlYWR5XCIpfSkpfSx0Lk9iPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUobmV3IFQoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKSx5ZSgpfSx0Lk1iPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKG5ldyBUKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSl9LHQuJGI9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdC5YYj1mdW5jdGlvbigpe3JldHVybiEwfSx0LlRiPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHQuTmI9ZnVuY3Rpb24odCxlLG4saSl7aWYodGhpcy5jKXJldHVybiB3ZShuZXcgVChcInJlZGlyZWN0LW9wZXJhdGlvbi1wZW5kaW5nXCIpKTt2YXIgcj10aGlzLG89bC5kb2N1bWVudCxhPW51bGwscz1udWxsLHU9bnVsbCxjPW51bGw7cmV0dXJuIHRoaXMuYz15ZSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gT28oZSksdmMocil9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4sdCxlLGkscil7dmFyIG89ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MjAsZT1bXTswPHQ7KWUucHVzaChcIjEyMzQ1Njc4OTBhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCIuY2hhckF0KE1hdGguZmxvb3IoNjIqTWF0aC5yYW5kb20oKSkpKSx0LS07cmV0dXJuIGUuam9pbihcIlwiKX0oKSxhPW5ldyBDbyh0LGksbnVsbCxvLG5ldyBUKFwibm8tYXV0aC1ldmVudFwiKSxudWxsLHIpLHM9YmkoXCJCdWlsZEluZm8ucGFja2FnZU5hbWVcIixsKTtpZihcInN0cmluZ1wiIT10eXBlb2Ygcyl0aHJvdyBuZXcgVChcImludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uXCIpO3ZhciB1PWJpKFwiQnVpbGRJbmZvLmRpc3BsYXlOYW1lXCIsbCksYz17fTtpZihnaSgpLnRvTG93ZXJDYXNlKCkubWF0Y2goL2lwaG9uZXxpcGFkfGlwb2QvKSljLmliaT1zO2Vsc2V7aWYoIWdpKCkudG9Mb3dlckNhc2UoKS5tYXRjaCgvYW5kcm9pZC8pKXJldHVybiB3ZShuZXcgVChcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO2MuYXBuPXN9dSYmKGMuYXBwRGlzcGxheU5hbWU9dSksbz1kYyhvKSxjLnNlc3Npb25JZD1vO3ZhciBoPXV1KG4udixuLmksbi5sLHQsZSxudWxsLGksbi5tLGMsbi51LHIsbi5zKTtyZXR1cm4gbi5tYSgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgdD1uLmg7cmV0dXJuIG4uQy5hLnNldChadSxhLncoKSx0KX0pLnRoZW4oZnVuY3Rpb24oKXt2YXIgdD1iaShcImNvcmRvdmEucGx1Z2lucy5icm93c2VydGFiLmlzQXZhaWxhYmxlXCIsbCk7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVChcImludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uXCIpO3ZhciBlPW51bGw7dChmdW5jdGlvbih0KXtpZih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZihlPWJpKFwiY29yZG92YS5wbHVnaW5zLmJyb3dzZXJ0YWIub3BlblVybFwiLGwpKSl0aHJvdyBuZXcgVChcImludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uXCIpO2UoaCl9ZWxzZXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZihlPWJpKFwiY29yZG92YS5JbkFwcEJyb3dzZXIub3BlblwiLGwpKSl0aHJvdyBuZXcgVChcImludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uXCIpO3Q9Z2koKSxuLmE9ZShoLHQubWF0Y2goLyhpUGFkfGlQaG9uZXxpUG9kKS4qT1MgN19cXGQvaSl8fHQubWF0Y2goLyhpUGFkfGlQaG9uZXxpUG9kKS4qT1MgOF9cXGQvaSk/XCJfYmxhbmtcIjpcIl9zeXN0ZW1cIixcImxvY2F0aW9uPXllc1wiKX19KX0pfShyLHQsZSxuLGkpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBuZXcgZmUoZnVuY3Rpb24oZSx0KXtzPWZ1bmN0aW9uKCl7dmFyIHQ9YmkoXCJjb3Jkb3ZhLnBsdWdpbnMuYnJvd3NlcnRhYi5jbG9zZVwiLGwpO3JldHVybiBlKCksXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdCgpLHIuYSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygci5hLmNsb3NlJiYoci5hLmNsb3NlKCksci5hPW51bGwpLCExfSxyLkVhKHMpLHU9ZnVuY3Rpb24oKXthPWF8fG1uKDJlMykudGhlbihmdW5jdGlvbigpe3QobmV3IFQoXCJyZWRpcmVjdC1jYW5jZWxsZWQtYnktdXNlclwiKSl9KX0sYz1mdW5jdGlvbigpe1JpKCkmJnUoKX0sby5hZGRFdmVudExpc3RlbmVyKFwicmVzdW1lXCIsdSwhMSksZ2koKS50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hbmRyb2lkLyl8fG8uYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIixjLCExKX0pLm8oZnVuY3Rpb24odCl7cmV0dXJuIG1jKHIpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyB0fSl9KX0pLm9hKGZ1bmN0aW9uKCl7dSYmby5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzdW1lXCIsdSwhMSksYyYmby5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLGMsITEpLGEmJmEuY2FuY2VsKCkscyYmci5TYShzKSxyLmM9bnVsbH0pfSx0LkVhPWZ1bmN0aW9uKGUpe3RoaXMuYi5wdXNoKGUpLHZjKHRoaXMpLm8oZnVuY3Rpb24odCl7XCJhdXRoL2ludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uXCI9PT10LmNvZGUmJih0PW5ldyBDbyhcInVua25vd25cIixudWxsLG51bGwsbnVsbCxuZXcgVChcIm5vLWF1dGgtZXZlbnRcIikpLGUodCkpfSl9LHQuU2E9ZnVuY3Rpb24oZSl7Qih0aGlzLmIsZnVuY3Rpb24odCl7cmV0dXJuIHQ9PWV9KX07dmFyIGJjPXtuYW1lOlwicGVuZGluZ1JlZGlyZWN0XCIsRjpcInNlc3Npb25cIn07ZnVuY3Rpb24geWModCl7cmV0dXJuIEp1KHQuYixiYyx0LmEpfWZ1bmN0aW9uIHdjKHQsZSxuLGkpe3RoaXMuaT17fSx0aGlzLnU9MCx0aGlzLkQ9dCx0aGlzLnY9ZSx0aGlzLm09bix0aGlzLko9aSx0aGlzLmg9W10sdGhpcy5mPSExLHRoaXMubD1iKHRoaXMucyx0aGlzKSx0aGlzLmI9bmV3IHhjLHRoaXMuQz1uZXcgRmMsdGhpcy5nPW5ldyBnYyhQYyh0aGlzLnYsdGhpcy5tKSksdGhpcy5jPXt9LHRoaXMuYy51bmtub3duPXRoaXMuYix0aGlzLmMuc2lnbkluVmlhUmVkaXJlY3Q9dGhpcy5iLHRoaXMuYy5saW5rVmlhUmVkaXJlY3Q9dGhpcy5iLHRoaXMuYy5yZWF1dGhWaWFSZWRpcmVjdD10aGlzLmIsdGhpcy5jLnNpZ25JblZpYVBvcHVwPXRoaXMuQyx0aGlzLmMubGlua1ZpYVBvcHVwPXRoaXMuQyx0aGlzLmMucmVhdXRoVmlhUG9wdXA9dGhpcy5DLHRoaXMuYT1JYyh0aGlzLkQsdGhpcy52LHRoaXMubSxBLHRoaXMuSil9ZnVuY3Rpb24gSWModCxlLG4saSxyKXt2YXIgbz16bC5kZWZhdWx0LlNES19WRVJTSU9OfHxudWxsO3JldHVybiBuZXcoc2koKT9sYzpydSkodCxlLG4sbyxpLHIpfWZ1bmN0aW9uIFRjKGUpe2UuZnx8KGUuZj0hMCxlLmEuRWEoZS5sKSk7dmFyIG49ZS5hO3JldHVybiBlLmEubWEoKS5vKGZ1bmN0aW9uKHQpe3Rocm93IGUuYT09biYmZS5yZXNldCgpLHR9KX1mdW5jdGlvbiBFYyhuKXtuLmEuWGIoKSYmVGMobikubyhmdW5jdGlvbih0KXt2YXIgZT1uZXcgQ28oXCJ1bmtub3duXCIsbnVsbCxudWxsLG51bGwsbmV3IFQoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKTtPYyh0KSYmbi5zKGUpfSksbi5hLlRiKCl8fE1jKG4uYil9ZnVuY3Rpb24gQWMobix0KXtLKG4uaCx0KXx8bi5oLnB1c2godCksbi5mfHwodD1uLmcpLmIuZ2V0KGJjLHQuYSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm5cInBlbmRpbmdcIj09dH0pLnRoZW4oZnVuY3Rpb24odCl7dD95YyhuLmcpLnRoZW4oZnVuY3Rpb24oKXtUYyhuKS5vKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBDbyhcInVua25vd25cIixudWxsLG51bGwsbnVsbCxuZXcgVChcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO09jKHQpJiZuLnMoZSl9KX0pOkVjKG4pfSkubyhmdW5jdGlvbigpe0VjKG4pfSl9ZnVuY3Rpb24ga2ModCxlKXtCKHQuaCxmdW5jdGlvbih0KXtyZXR1cm4gdD09ZX0pfXdjLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuZj0hMSx0aGlzLmEuU2EodGhpcy5sKSx0aGlzLmE9SWModGhpcy5ELHRoaXMudix0aGlzLm0sbnVsbCx0aGlzLkopLHRoaXMuaT17fX0sd2MucHJvdG90eXBlLnM9ZnVuY3Rpb24odCl7aWYoIXQpdGhyb3cgbmV3IFQoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIik7aWYoNmU1PD1EYXRlLm5vdygpLXRoaXMudSYmKHRoaXMuaT17fSx0aGlzLnU9MCksdCYmdC5nZXRVaWQoKSYmdGhpcy5pLmhhc093blByb3BlcnR5KHQuZ2V0VWlkKCkpKXJldHVybiExO2Zvcih2YXIgZT0hMSxuPTA7bjx0aGlzLmgubGVuZ3RoO24rKyl7dmFyIGk9dGhpcy5oW25dO2lmKGkuRmIodC5jLHQuYikpeyhlPXRoaXMuY1t0LmNdKSYmKGUuaCh0LGkpLHQmJih0LmZ8fHQuYikmJih0aGlzLmlbdC5nZXRVaWQoKV09ITAsdGhpcy51PURhdGUubm93KCkpKSxlPSEwO2JyZWFrfX1yZXR1cm4gTWModGhpcy5iKSxlfTt2YXIgU2M9bmV3IENpKDJlMywxZTQpLE5jPW5ldyBDaSgzZTQsNmU0KTtmdW5jdGlvbiBfYyh0LGUsbixpLHIsbyxhKXtyZXR1cm4gdC5hLk1iKGUsbixpLGZ1bmN0aW9uKCl7dC5mfHwodC5mPSEwLHQuYS5FYSh0LmwpKX0sZnVuY3Rpb24oKXt0LnJlc2V0KCl9LHIsbyxhKX1mdW5jdGlvbiBPYyh0KXtyZXR1cm4hKCF0fHxcImF1dGgvY29yZG92YS1ub3QtcmVhZHlcIiE9dC5jb2RlKX1mdW5jdGlvbiBDYyhlLHQsbixpLHIpe3ZhciBvLGE7cmV0dXJuKGE9ZS5nKS5iLnNldChiYyxcInBlbmRpbmdcIixhLmEpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5hLk5iKHQsbixpLHIpLm8oZnVuY3Rpb24odCl7aWYoT2ModCkpdGhyb3cgbmV3IFQoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpO3JldHVybiBvPXQseWMoZS5nKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgb30pfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBlLmEuJGIoKT9uZXcgZmUoZnVuY3Rpb24oKXt9KTp5YyhlLmcpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5xYSgpfSkudGhlbihmdW5jdGlvbigpe30pLm8oZnVuY3Rpb24oKXt9KX0pfSl9ZnVuY3Rpb24gUmModCxlLG4saSxyKXtyZXR1cm4gdC5hLk9iKGksZnVuY3Rpb24odCl7ZS5uYShuLG51bGwsdCxyKX0sU2MuZ2V0KCkpfXdjLnByb3RvdHlwZS5xYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIucWEoKX07dmFyIERjPXt9O2Z1bmN0aW9uIFBjKHQsZSxuKXtyZXR1cm4gdD10K1wiOlwiK2UsdD1uP3QrXCI6XCIrbi51cmw6dH1mdW5jdGlvbiBMYyh0LGUsbixpKXt2YXIgcj1QYyhlLG4saSk7cmV0dXJuIERjW3JdfHwoRGNbcl09bmV3IHdjKHQsZSxuLGkpKSxEY1tyXX1mdW5jdGlvbiB4Yygpe3RoaXMuYj1udWxsLHRoaXMuZj1bXSx0aGlzLmM9W10sdGhpcy5hPW51bGwsdGhpcy5pPXRoaXMuZz0hMX1mdW5jdGlvbiBNYyh0KXt0Lmd8fCh0Lmc9ITAsVmModCwhMSxudWxsLG51bGwpKX1mdW5jdGlvbiBqYyh0KXt0LmcmJiF0LmkmJlZjKHQsITEsbnVsbCxudWxsKX1mdW5jdGlvbiBVYyh0LGUpe2lmKHQuYj1mdW5jdGlvbigpe3JldHVybiB5ZShlKX0sdC5mLmxlbmd0aClmb3IodmFyIG49MDtuPHQuZi5sZW5ndGg7bisrKXQuZltuXShlKX1mdW5jdGlvbiBWYyh0LGUsbixpKXtlP2k/ZnVuY3Rpb24odCxlKXtpZih0LmI9ZnVuY3Rpb24oKXtyZXR1cm4gd2UoZSl9LHQuYy5sZW5ndGgpZm9yKHZhciBuPTA7bjx0LmMubGVuZ3RoO24rKyl0LmNbbl0oZSl9KHQsaSk6VWModCxuKTpVYyh0LHt1c2VyOm51bGx9KSx0LmY9W10sdC5jPVtdfWZ1bmN0aW9uIEZjKCl7fWZ1bmN0aW9uIHFjKCl7dGhpcy5pYj0hMSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImFwcFZlcmlmaWNhdGlvbkRpc2FibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlifSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5pYj10fSxlbnVtZXJhYmxlOiExfSl9ZnVuY3Rpb24gSGModCxlKXt0aGlzLmE9ZSxWaSh0aGlzLFwidmVyaWZpY2F0aW9uSWRcIix0KX1mdW5jdGlvbiBLYyh0LGUsbixpKXtyZXR1cm4gbmV3IFNvKHQpLmZiKGUsbikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEhjKHQsaSl9KX1mdW5jdGlvbiBHYyh0KXt2YXIgZT1Mcih0KTtpZighKGUmJmUuZXhwJiZlLmF1dGhfdGltZSYmZS5pYXQpKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIixcIkFuIGludGVybmFsIGVycm9yIG9jY3VycmVkLiBUaGUgdG9rZW4gb2J0YWluZWQgYnkgRmlyZWJhc2UgYXBwZWFycyB0byBiZSBtYWxmb3JtZWQuIFBsZWFzZSByZXRyeSB0aGUgb3BlcmF0aW9uLlwiKTtGaSh0aGlzLHt0b2tlbjp0LGV4cGlyYXRpb25UaW1lOlBpKDFlMyplLmV4cCksYXV0aFRpbWU6UGkoMWUzKmUuYXV0aF90aW1lKSxpc3N1ZWRBdFRpbWU6UGkoMWUzKmUuaWF0KSxzaWduSW5Qcm92aWRlcjplLmZpcmViYXNlJiZlLmZpcmViYXNlLnNpZ25faW5fcHJvdmlkZXI/ZS5maXJlYmFzZS5zaWduX2luX3Byb3ZpZGVyOm51bGwsc2lnbkluU2Vjb25kRmFjdG9yOmUuZmlyZWJhc2UmJmUuZmlyZWJhc2Uuc2lnbl9pbl9zZWNvbmRfZmFjdG9yP2UuZmlyZWJhc2Uuc2lnbl9pbl9zZWNvbmRfZmFjdG9yOm51bGwsY2xhaW1zOmV9KX1mdW5jdGlvbiBCYyh0LGUsbil7dmFyIGk9ZSYmZVtYY107aWYoIWkpdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLFwiSW50ZXJuYWwgYXNzZXJ0OiBJbnZhbGlkIE11bHRpRmFjdG9yUmVzb2x2ZXJcIik7dGhpcy5hPXQsdGhpcy5mPWN0KGUpLHRoaXMuZz1uLHRoaXMuYz1uZXcgWXIobnVsbCxpKSx0aGlzLmI9W107dmFyIHI9dGhpcztWKGVbV2NdfHxbXSxmdW5jdGlvbih0KXsodD1HaSh0KSkmJnIuYi5wdXNoKHQpfSksVmkodGhpcyxcImF1dGhcIix0aGlzLmEpLFZpKHRoaXMsXCJzZXNzaW9uXCIsdGhpcy5jKSxWaSh0aGlzLFwiaGludHNcIix0aGlzLmIpfXhjLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuYj1udWxsLHRoaXMuYSYmKHRoaXMuYS5jYW5jZWwoKSx0aGlzLmE9bnVsbCl9LHhjLnByb3RvdHlwZS5oPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyLG87dD8odGhpcy5yZXNldCgpLHRoaXMuZz0hMCxuPXQuYyxpPXQuYixyPXQuYSYmXCJhdXRoL3dlYi1zdG9yYWdlLXVuc3VwcG9ydGVkXCI9PXQuYS5jb2RlLG89dC5hJiZcImF1dGgvb3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiPT10LmEuY29kZSx0aGlzLmk9ISghciYmIW8pLFwidW5rbm93blwiIT1ufHxyfHxvP3QuYT8oVmModGhpcywhMCxudWxsLHQuYSkseWUoKSk6ZS5GYShuLGkpP2Z1bmN0aW9uKGUsdCxuKXtuPW4uRmEodC5jLHQuYik7dmFyIGk9dC5nLHI9dC5mLG89dC5pLGE9dC5UKCkscz0hIXQuYy5tYXRjaCgvUmVkaXJlY3QkLyk7bihpLHIsYSxvKS50aGVuKGZ1bmN0aW9uKHQpe1ZjKGUscyx0LG51bGwpfSkubyhmdW5jdGlvbih0KXtWYyhlLHMsbnVsbCx0KX0pfSh0aGlzLHQsZSk6d2UobmV3IFQoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIikpOihWYyh0aGlzLCExLG51bGwsbnVsbCkseWUoKSkpOndlKG5ldyBUKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpKX0seGMucHJvdG90eXBlLnFhPWZ1bmN0aW9uKCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGZlKGZ1bmN0aW9uKHQsZSl7dmFyIG4saTtyLmI/ci5iKCkudGhlbih0LGUpOihyLmYucHVzaCh0KSxyLmMucHVzaChlKSxuPXIsaT1uZXcgVChcInRpbWVvdXRcIiksbi5hJiZuLmEuY2FuY2VsKCksbi5hPW1uKE5jLmdldCgpKS50aGVuKGZ1bmN0aW9uKCl7bi5ifHwobi5nPSEwLFZjKG4sITAsbnVsbCxpKSl9KSl9KX0sRmMucHJvdG90eXBlLmg9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIsbyxhO3Q/KG49dC5jLGk9dC5iLHQuYT8oZS5uYSh0LmMsbnVsbCx0LmEsdC5iKSx5ZSgpKTplLkZhKG4saSk/KHI9ZSxvPSh0PXQpLmIsYT10LmMsci5GYShhLG8pKHQuZyx0LmYsdC5UKCksdC5pKS50aGVuKGZ1bmN0aW9uKHQpe3IubmEoYSx0LG51bGwsbyl9KS5vKGZ1bmN0aW9uKHQpe3IubmEoYSxudWxsLHQsbyl9KSk6d2UobmV3IFQoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIikpKTp3ZShuZXcgVChcImludmFsaWQtYXV0aC1ldmVudFwiKSl9LEhjLnByb3RvdHlwZS5jb25maXJtPWZ1bmN0aW9uKHQpe3JldHVybiB0PU5vKHRoaXMudmVyaWZpY2F0aW9uSWQsdCksdGhpcy5hKHQpfTt2YXIgV2M9XCJtZmFJbmZvXCIsWGM9XCJtZmFQZW5kaW5nQ3JlZGVudGlhbFwiO2Z1bmN0aW9uIEpjKHQsZSxuLGkpe1QuY2FsbCh0aGlzLFwibXVsdGktZmFjdG9yLWF1dGgtcmVxdWlyZWRcIixpLGUpLHRoaXMuYj1uZXcgQmModCxlLG4pLFZpKHRoaXMsXCJyZXNvbHZlclwiLHRoaXMuYil9ZnVuY3Rpb24gWWModCxlLG4pe2lmKHQmJm0odC5zZXJ2ZXJSZXNwb25zZSkmJlwiYXV0aC9tdWx0aS1mYWN0b3ItYXV0aC1yZXF1aXJlZFwiPT09dC5jb2RlKXRyeXtyZXR1cm4gbmV3IEpjKGUsdC5zZXJ2ZXJSZXNwb25zZSxuLHQubWVzc2FnZSl9Y2F0Y2godCl7fXJldHVybiBudWxsfWZ1bmN0aW9uIHpjKCl7fWZ1bmN0aW9uICRjKHQpe1ZpKHRoaXMsXCJmYWN0b3JJZFwiLHQuZmEpLHRoaXMuYT10fWZ1bmN0aW9uIFpjKHQpe2lmKCRjLmNhbGwodGhpcyx0KSx0aGlzLmEuZmEhPVNvLlBST1ZJREVSX0lEKXRocm93IG5ldyBUKFwiYXJndW1lbnQtZXJyb3JcIixcImZpcmViYXNlLmF1dGguUGhvbmVNdWx0aUZhY3RvckFzc2VydGlvbiByZXF1aXJlcyBhIHZhbGlkIGZpcmViYXNlLmF1dGguUGhvbmVBdXRoQ3JlZGVudGlhbFwiKX1mdW5jdGlvbiBRYyh0LGUpe2Zvcih2YXIgbiBpbiBGZS5jYWxsKHRoaXMsdCksZSl0aGlzW25dPWVbbl19ZnVuY3Rpb24gdGgodCxlKXt0aGlzLmE9dCx0aGlzLmI9W10sdGhpcy5jPWIodGhpcy55Yyx0aGlzKSxaZSh0aGlzLmEsXCJ1c2VyUmVsb2FkZWRcIix0aGlzLmMpO3ZhciBpPVtdO2UmJmUubXVsdGlGYWN0b3ImJmUubXVsdGlGYWN0b3IuZW5yb2xsZWRGYWN0b3JzJiZWKGUubXVsdGlGYWN0b3IuZW5yb2xsZWRGYWN0b3JzLGZ1bmN0aW9uKHQpe3ZhciBlPW51bGwsbj17fTtpZih0KXt0LnVpZCYmKG5bWGldPXQudWlkKSx0LmRpc3BsYXlOYW1lJiYobltCaV09dC5kaXNwbGF5TmFtZSksdC5lbnJvbGxtZW50VGltZSYmKG5bV2ldPW5ldyBEYXRlKHQuZW5yb2xsbWVudFRpbWUpLnRvSVNPU3RyaW5nKCkpLHQucGhvbmVOdW1iZXImJihuW0ppXT10LnBob25lTnVtYmVyKTt0cnl7ZT1uZXcgWWkobil9Y2F0Y2godCl7fXQ9ZX1lbHNlIHQ9bnVsbDt0JiZpLnB1c2godCl9KSxlaCh0aGlzLGkpfWZ1bmN0aW9uIGVoKHQsZSl7dC5iPWUsVmkodCxcImVucm9sbGVkRmFjdG9yc1wiLGUpfWZ1bmN0aW9uIG5oKHQsZSxuKXtpZih0aGlzLmg9dCx0aGlzLmk9ZSx0aGlzLmc9bix0aGlzLmM9M2U0LHRoaXMuZj05NmU0LHRoaXMuYj1udWxsLHRoaXMuYT10aGlzLmMsdGhpcy5mPHRoaXMuYyl0aHJvdyBFcnJvcihcIlByb2FjdGl2ZSByZWZyZXNoIGxvd2VyIGJvdW5kIGdyZWF0ZXIgdGhhbiB1cHBlciBib3VuZCFcIil9ZnVuY3Rpb24gaWgodCxlKXtyZXR1cm4gZT8odC5hPXQuYyx0LmcoKSk6KGU9dC5hLHQuYSo9Mix0LmE+dC5mJiYodC5hPXQuZiksZSl9ZnVuY3Rpb24gcmgodCl7dGhpcy5mPXQsdGhpcy5iPXRoaXMuYT1udWxsLHRoaXMuYz1EYXRlLm5vdygpfWZ1bmN0aW9uIG9oKHQsZSl7dm9pZCAwPT09ZSYmKGU9dC5iPyhlPXQuYikuYS1lLmc6MCksdC5jPURhdGUubm93KCkrMWUzKmV9ZnVuY3Rpb24gYWgodCxlKXt0LmI9UHIoZVtIYV18fFwiXCIpLHQuYT1lLnJlZnJlc2hUb2tlbixvaCh0LHZvaWQgMCE9PShlPWUuZXhwaXJlc0luKT9OdW1iZXIoZSk6dm9pZCAwKX1mdW5jdGlvbiBzaChlLHQpe3JldHVybiBpPWUuZixyPXQsbmV3IGZlKGZ1bmN0aW9uKGUsbil7XCJyZWZyZXNoX3Rva2VuXCI9PXIuZ3JhbnRfdHlwZSYmci5yZWZyZXNoX3Rva2VufHxcImF1dGhvcml6YXRpb25fY29kZVwiPT1yLmdyYW50X3R5cGUmJnIuY29kZT8kYShpLGkubCtcIj9rZXk9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGkuYyksZnVuY3Rpb24odCl7dD90LmVycm9yP24oWXModCkpOnQuYWNjZXNzX3Rva2VuJiZ0LnJlZnJlc2hfdG9rZW4/ZSh0KTpuKG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIikpOm4obmV3IFQoXCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIpKX0sXCJQT1NUXCIscW4ocikudG9TdHJpbmcoKSxpLmcsaS5tLmdldCgpKTpuKG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIikpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5iPVByKHQuYWNjZXNzX3Rva2VuKSxlLmE9dC5yZWZyZXNoX3Rva2VuLG9oKGUsdC5leHBpcmVzX2luKSx7YWNjZXNzVG9rZW46ZS5iLnRvU3RyaW5nKCkscmVmcmVzaFRva2VuOmUuYX19KS5vKGZ1bmN0aW9uKHQpe3Rocm93XCJhdXRoL3VzZXItdG9rZW4tZXhwaXJlZFwiPT10LmNvZGUmJihlLmE9bnVsbCksdH0pO3ZhciBpLHJ9ZnVuY3Rpb24gdWgodCxlKXt0aGlzLmE9dHx8bnVsbCx0aGlzLmI9ZXx8bnVsbCxGaSh0aGlzLHtsYXN0U2lnbkluVGltZTpQaShlfHxudWxsKSxjcmVhdGlvblRpbWU6UGkodHx8bnVsbCl9KX1mdW5jdGlvbiBjaCh0LGUsbixpLHIsbyl7RmkodGhpcyx7dWlkOnQsZGlzcGxheU5hbWU6aXx8bnVsbCxwaG90b1VSTDpyfHxudWxsLGVtYWlsOm58fG51bGwscGhvbmVOdW1iZXI6b3x8bnVsbCxwcm92aWRlcklkOmV9KX1mdW5jdGlvbiBoaCh0LGUsbil7dGhpcy5KPVtdLHRoaXMubD10LmFwaUtleSx0aGlzLm09dC5hcHBOYW1lLHRoaXMucz10LmF1dGhEb21haW58fG51bGw7dmFyIGkscj16bC5kZWZhdWx0LlNES19WRVJTSU9OP21pKHpsLmRlZmF1bHQuU0RLX1ZFUlNJT04pOm51bGw7dGhpcy5hPW5ldyBGYSh0aGlzLmwsXyhBKSxyKSx0LmVtdWxhdG9yQ29uZmlnJiZKYSh0aGlzLmEsdC5lbXVsYXRvckNvbmZpZyksdGhpcy5iPW5ldyByaCh0aGlzLmEpLGJoKHRoaXMsZVtIYV0pLGFoKHRoaXMuYixlKSxWaSh0aGlzLFwicmVmcmVzaFRva2VuXCIsdGhpcy5iLmEpLEloKHRoaXMsbnx8e30pLGxuLmNhbGwodGhpcyksdGhpcy5SPSExLHRoaXMucyYmd2koKSYmKHRoaXMuaT1MYyh0aGlzLnMsdGhpcy5sLHRoaXMubSkpLHRoaXMuUz1bXSx0aGlzLmg9bnVsbCx0aGlzLnU9KGk9dGhpcyxuZXcgbmgoZnVuY3Rpb24oKXtyZXR1cm4gaS5JKCEwKX0sZnVuY3Rpb24odCl7cmV0dXJuISghdHx8XCJhdXRoL25ldHdvcmstcmVxdWVzdC1mYWlsZWRcIiE9dC5jb2RlKX0sZnVuY3Rpb24oKXt2YXIgdD1pLmIuYy1EYXRlLm5vdygpLTNlNTtyZXR1cm4gMDx0P3Q6MH0pKSx0aGlzLmFhPWIodGhpcy5oYix0aGlzKTt2YXIgbz10aGlzO3RoaXMueWE9bnVsbCx0aGlzLk9hPWZ1bmN0aW9uKHQpe28ud2EodC5oKX0sdGhpcy5qYT1udWxsLHRoaXMuQWE9ZnVuY3Rpb24odCl7SmEoby5hLHQuYyl9LHRoaXMuWD1udWxsLHRoaXMuJD1bXSx0aGlzLkJhPWZ1bmN0aW9uKHQpe2RoKG8sdC5mKX0sdGhpcy5iYT1udWxsLHRoaXMuTz1uZXcgdGgodGhpcyxuKSxWaSh0aGlzLFwibXVsdGlGYWN0b3JcIix0aGlzLk8pfWZ1bmN0aW9uIGxoKHQsZSl7dC5qYSYmZW4odC5qYSxcImxhbmd1YWdlQ29kZUNoYW5nZWRcIix0Lk9hKSwodC5qYT1lKSYmWmUoZSxcImxhbmd1YWdlQ29kZUNoYW5nZWRcIix0Lk9hKX1mdW5jdGlvbiBmaCh0LGUpe3QuWCYmZW4odC5YLFwiZW11bGF0b3JDb25maWdDaGFuZ2VkXCIsdC5BYSksKHQuWD1lKSYmWmUoZSxcImVtdWxhdG9yQ29uZmlnQ2hhbmdlZFwiLHQuQWEpfWZ1bmN0aW9uIGRoKHQsZSl7dC4kPWUsemEodC5hLHpsLmRlZmF1bHQuU0RLX1ZFUlNJT04/bWkoemwuZGVmYXVsdC5TREtfVkVSU0lPTix0LiQpOm51bGwpfWZ1bmN0aW9uIHBoKHQsZSl7dC5iYSYmZW4odC5iYSxcImZyYW1ld29ya0NoYW5nZWRcIix0LkJhKSwodC5iYT1lKSYmWmUoZSxcImZyYW1ld29ya0NoYW5nZWRcIix0LkJhKX1mdW5jdGlvbiB2aChlKXt0cnl7cmV0dXJuIHpsLmRlZmF1bHQuYXBwKGUubSkuYXV0aCgpfWNhdGNoKHQpe3Rocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIixcIk5vIGZpcmViYXNlLmF1dGguQXV0aCBpbnN0YW5jZSBpcyBhdmFpbGFibGUgZm9yIHRoZSBGaXJlYmFzZSBBcHAgJ1wiK2UubStcIichXCIpfX1mdW5jdGlvbiBtaCh0KXt0LkR8fHQudS5ifHwodC51LnN0YXJ0KCksZW4odCxcInRva2VuQ2hhbmdlZFwiLHQuYWEpLFplKHQsXCJ0b2tlbkNoYW5nZWRcIix0LmFhKSl9ZnVuY3Rpb24gZ2godCl7ZW4odCxcInRva2VuQ2hhbmdlZFwiLHQuYWEpLHQudS5zdG9wKCl9ZnVuY3Rpb24gYmgodCxlKXt0LnphPWUsVmkodCxcIl9sYXRcIixlKX1mdW5jdGlvbiB5aCh0KXtmb3IodmFyIGU9W10sbj0wO248dC5TLmxlbmd0aDtuKyspZS5wdXNoKHQuU1tuXSh0KSk7cmV0dXJuIFRlKGUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdH0pfWZ1bmN0aW9uIHdoKHQpe3QuaSYmIXQuUiYmKHQuUj0hMCxBYyh0LmksdCkpfWZ1bmN0aW9uIEloKHQsZSl7RmkodCx7dWlkOmUudWlkLGRpc3BsYXlOYW1lOmUuZGlzcGxheU5hbWV8fG51bGwscGhvdG9VUkw6ZS5waG90b1VSTHx8bnVsbCxlbWFpbDplLmVtYWlsfHxudWxsLGVtYWlsVmVyaWZpZWQ6ZS5lbWFpbFZlcmlmaWVkfHwhMSxwaG9uZU51bWJlcjplLnBob25lTnVtYmVyfHxudWxsLGlzQW5vbnltb3VzOmUuaXNBbm9ueW1vdXN8fCExLHRlbmFudElkOmUudGVuYW50SWR8fG51bGwsbWV0YWRhdGE6bmV3IHVoKGUuY3JlYXRlZEF0LGUubGFzdExvZ2luQXQpLHByb3ZpZGVyRGF0YTpbXX0pLHQuYS5iPXQudGVuYW50SWR9ZnVuY3Rpb24gVGgoKXt9ZnVuY3Rpb24gRWgodCl7cmV0dXJuIHllKCkudGhlbihmdW5jdGlvbigpe2lmKHQuRCl0aHJvdyBuZXcgVChcImFwcC1kZWxldGVkXCIpfSl9ZnVuY3Rpb24gQWgodCl7cmV0dXJuIHEodC5wcm92aWRlckRhdGEsZnVuY3Rpb24odCl7cmV0dXJuIHQucHJvdmlkZXJJZH0pfWZ1bmN0aW9uIGtoKHQsZSl7ZSYmKFNoKHQsZS5wcm92aWRlcklkKSx0LnByb3ZpZGVyRGF0YS5wdXNoKGUpKX1mdW5jdGlvbiBTaCh0LGUpe0IodC5wcm92aWRlckRhdGEsZnVuY3Rpb24odCl7cmV0dXJuIHQucHJvdmlkZXJJZD09ZX0pfWZ1bmN0aW9uIE5oKHQsZSxuKXsoXCJ1aWRcIiE9ZXx8bikmJnQuaGFzT3duUHJvcGVydHkoZSkmJlZpKHQsZSxuKX1mdW5jdGlvbiBfaChlLHQpe3ZhciBuLGk7ZSE9dCYmKEZpKGUse3VpZDp0LnVpZCxkaXNwbGF5TmFtZTp0LmRpc3BsYXlOYW1lLHBob3RvVVJMOnQucGhvdG9VUkwsZW1haWw6dC5lbWFpbCxlbWFpbFZlcmlmaWVkOnQuZW1haWxWZXJpZmllZCxwaG9uZU51bWJlcjp0LnBob25lTnVtYmVyLGlzQW5vbnltb3VzOnQuaXNBbm9ueW1vdXMsdGVuYW50SWQ6dC50ZW5hbnRJZCxwcm92aWRlckRhdGE6W119KSx0Lm1ldGFkYXRhP1ZpKGUsXCJtZXRhZGF0YVwiLG5ldyB1aCgoaT10Lm1ldGFkYXRhKS5hLGkuYikpOlZpKGUsXCJtZXRhZGF0YVwiLG5ldyB1aCksVih0LnByb3ZpZGVyRGF0YSxmdW5jdGlvbih0KXtraChlLHQpfSksbj1lLmIsaT10LmIsbi5iPWkuYixuLmE9aS5hLG4uYz1pLmMsVmkoZSxcInJlZnJlc2hUb2tlblwiLGUuYi5hKSxlaChlLk8sdC5PLmIpKX1mdW5jdGlvbiBPaChyKXtyZXR1cm4gci5JKCkudGhlbihmdW5jdGlvbih0KXt2YXIgZSxuLGk9ci5pc0Fub255bW91cztyZXR1cm4gbj10LFhzKChlPXIpLmEsQXMse2lkVG9rZW46bn0pLnRoZW4oYihlLktjLGUpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGl8fE5oKHIsXCJpc0Fub255bW91c1wiLCExKSx0fSl9KX1mdW5jdGlvbiBDaCh0LGUpe2VbSGFdJiZ0LnphIT1lW0hhXSYmKGFoKHQuYixlKSx0LmRpc3BhdGNoRXZlbnQobmV3IFFjKFwidG9rZW5DaGFuZ2VkXCIpKSxiaCh0LGVbSGFdKSxOaCh0LFwicmVmcmVzaFRva2VuXCIsdC5iLmEpKX1mdW5jdGlvbiBSaCh0LGUpe3JldHVybiBPaCh0KS50aGVuKGZ1bmN0aW9uKCl7aWYoSyhBaCh0KSxlKSlyZXR1cm4geWgodCkudGhlbihmdW5jdGlvbigpe3Rocm93IG5ldyBUKFwicHJvdmlkZXItYWxyZWFkeS1saW5rZWRcIil9KX0pfWZ1bmN0aW9uIERoKHQsZSxuKXtyZXR1cm4gcWkoe3VzZXI6dCxjcmVkZW50aWFsOl9vKGUpLGFkZGl0aW9uYWxVc2VySW5mbzplPVZyKGUpLG9wZXJhdGlvblR5cGU6bn0pfWZ1bmN0aW9uIFBoKHQsZSl7cmV0dXJuIENoKHQsZSksdC5yZWxvYWQoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX1mdW5jdGlvbiBMaChuLGksdCxlLHIpe2lmKCF3aSgpKXJldHVybiB3ZShuZXcgVChcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO2lmKG4uaCYmIXIpcmV0dXJuIHdlKG4uaCk7dmFyIG89VXIodC5wcm92aWRlcklkKSxhPU5pKG4udWlkK1wiOjo6XCIpLHM9bnVsbCx1PWlpKHM9KCFFaSgpfHx1aSgpKSYmbi5zJiZ0LmlzT0F1dGhQcm92aWRlcj91dShuLnMsbi5sLG4ubSxpLHQsbnVsbCxhLHpsLmRlZmF1bHQuU0RLX1ZFUlNJT058fG51bGwsbnVsbCxudWxsLG4udGVuYW50SWQpOnMsbyYmby51YSxvJiZvLnRhKTtyZXR1cm4gZT1lKCkudGhlbihmdW5jdGlvbigpe2lmKE1oKG4pLCFyKXJldHVybiBuLkkoKS50aGVuKGZ1bmN0aW9uKCl7fSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIF9jKG4uaSx1LGksdCxhLCEhcyxuLnRlbmFudElkKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGZlKGZ1bmN0aW9uKHQsZSl7bi5uYShpLG51bGwsbmV3IFQoXCJjYW5jZWxsZWQtcG9wdXAtcmVxdWVzdFwiKSxuLmd8fG51bGwpLG4uZj10LG4uQz1lLG4uZz1hLG4uYz1SYyhuLmksbixpLHUsYSl9KX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHUmJm5pKHUpLHQ/cWkodCk6bnVsbH0pLm8oZnVuY3Rpb24odCl7dGhyb3cgdSYmbmkodSksdH0pLGpoKG4sZSxyKX1mdW5jdGlvbiB4aChlLHQsbixpLHIpe2lmKCF3aSgpKXJldHVybiB3ZShuZXcgVChcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO2lmKGUuaCYmIXIpcmV0dXJuIHdlKGUuaCk7dmFyIG89bnVsbCxhPU5pKGUudWlkK1wiOjo6XCIpO3JldHVybiBpPWkoKS50aGVuKGZ1bmN0aW9uKCl7aWYoTWgoZSksIXIpcmV0dXJuIGUuSSgpLnRoZW4oZnVuY3Rpb24oKXt9KX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5nYT1hLHloKGUpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdD1lLmhhPyh0PWUuaGEpLmIuc2V0KEZoLGUudygpLHQuYSk6dH0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gQ2MoZS5pLHQsbixhLGUudGVuYW50SWQpfSkubyhmdW5jdGlvbih0KXtpZihvPXQsZS5oYSlyZXR1cm4gcWgoZS5oYSk7dGhyb3cgb30pLnRoZW4oZnVuY3Rpb24oKXtpZihvKXRocm93IG99KSxqaChlLGkscil9ZnVuY3Rpb24gTWgodCl7aWYoIXQuaXx8IXQuUil7aWYodC5pJiYhdC5SKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIik7dGhyb3cgbmV3IFQoXCJhdXRoLWRvbWFpbi1jb25maWctcmVxdWlyZWRcIil9fWZ1bmN0aW9uIGpoKG4sdCxlKXt2YXIgaSxyPSh0PXQsZT1lLChpPW4pLmgmJiFlPyh0LmNhbmNlbCgpLHdlKGkuaCkpOnQubyhmdW5jdGlvbih0KXt0aHJvdyF0fHxcImF1dGgvdXNlci1kaXNhYmxlZFwiIT10LmNvZGUmJlwiYXV0aC91c2VyLXRva2VuLWV4cGlyZWRcIiE9dC5jb2RlfHwoaS5ofHxpLmRpc3BhdGNoRXZlbnQobmV3IFFjKFwidXNlckludmFsaWRhdGVkXCIpKSxpLmg9dCksdH0pKTtyZXR1cm4gbi5KLnB1c2gociksci5vYShmdW5jdGlvbigpe0cobi5KLHIpfSksci5vKGZ1bmN0aW9uKHQpe3ZhciBlPW51bGw7dGhyb3coZT10JiZcImF1dGgvbXVsdGktZmFjdG9yLWF1dGgtcmVxdWlyZWRcIj09PXQuY29kZT9ZYyh0LncoKSx2aChuKSxiKG4uamMsbikpOmUpfHx0fSl9ZnVuY3Rpb24gVWgodCl7aWYoIXQuYXBpS2V5KXJldHVybiBudWxsO3ZhciBlPXthcGlLZXk6dC5hcGlLZXksYXV0aERvbWFpbjp0LmF1dGhEb21haW4sYXBwTmFtZTp0LmFwcE5hbWUsZW11bGF0b3JDb25maWc6dC5lbXVsYXRvckNvbmZpZ30sbj17fTtpZighdC5zdHNUb2tlbk1hbmFnZXJ8fCF0LnN0c1Rva2VuTWFuYWdlci5hY2Nlc3NUb2tlbilyZXR1cm4gbnVsbDtuW0hhXT10LnN0c1Rva2VuTWFuYWdlci5hY2Nlc3NUb2tlbixuLnJlZnJlc2hUb2tlbj10LnN0c1Rva2VuTWFuYWdlci5yZWZyZXNoVG9rZW58fG51bGw7dmFyIGk9dC5zdHNUb2tlbk1hbmFnZXIuZXhwaXJhdGlvblRpbWU7aSYmKG4uZXhwaXJlc0luPShpLURhdGUubm93KCkpLzFlMyk7dmFyIHI9bmV3IGhoKGUsbix0KTtyZXR1cm4gdC5wcm92aWRlckRhdGEmJlYodC5wcm92aWRlckRhdGEsZnVuY3Rpb24odCl7dCYma2gocixxaSh0KSl9KSx0LnJlZGlyZWN0RXZlbnRJZCYmKHIuZ2E9dC5yZWRpcmVjdEV2ZW50SWQpLHJ9ZnVuY3Rpb24gVmgodCl7dGhpcy5hPXQsdGhpcy5iPUJ1KCl9QmMucHJvdG90eXBlLlJjPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7cmV0dXJuIHQuc2IodGhpcy5hLmEsdGhpcy5jKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBlPWN0KG4uZik7cmV0dXJuIGRlbGV0ZSBlW1djXSxkZWxldGUgZVtYY10sbHQoZSx0KSxuLmcoZSl9KX0sdyhKYyxUKSx6Yy5wcm90b3R5cGUuc2I9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlLnR5cGU9PXpyPyhvPXRoaXMsYT10LHM9bixlLkhhKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdD17aWRUb2tlbjp0fSx2b2lkIDAhPT1zJiYodC5kaXNwbGF5TmFtZT1zKSxsdCh0LHtwaG9uZVZlcmlmaWNhdGlvbkluZm86a28oby5hKX0pLFhzKGEsVHMsdCl9KSk6KGk9dGhpcyxyPXQsZS5IYSgpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGx0KHQ9e21mYVBlbmRpbmdDcmVkZW50aWFsOnR9LHtwaG9uZVZlcmlmaWNhdGlvbkluZm86a28oaS5hKX0pLFhzKHIsRXMsdCl9KSk7dmFyIGkscixvLGEsc30sdygkYyx6YyksdyhaYywkYyksdyhRYyxGZSksKHQ9dGgucHJvdG90eXBlKS55Yz1mdW5jdGlvbih0KXt2YXIgZTtlaCh0aGlzLCh0PXQuaGQsZT1bXSxWKHQubWZhSW5mb3x8W10sZnVuY3Rpb24odCl7KHQ9R2kodCkpJiZlLnB1c2godCl9KSxlKSl9LHQuUmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLkkoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgWXIodCxudWxsKX0pfSx0LmZjPWZ1bmN0aW9uKGUsbil7dmFyIGk9dGhpcyxyPXRoaXMuYS5hO3JldHVybiB0aGlzLlJiKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5zYihyLHQsbil9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBDaChpLmEsdCksaS5hLnJlbG9hZCgpfSl9LHQuYmQ9ZnVuY3Rpb24odCl7dmFyIG49dGhpcyxpPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dC51aWQsZT10aGlzLmEuYTtyZXR1cm4gdGhpcy5hLkkoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBYcyhlLFdzLHtpZFRva2VuOnQsbWZhRW5yb2xsbWVudElkOml9KX0pLnRoZW4oZnVuY3Rpb24odCl7dmFyIGU9RihuLmIsZnVuY3Rpb24odCl7cmV0dXJuIHQudWlkIT1pfSk7cmV0dXJuIGVoKG4sZSksQ2gobi5hLHQpLG4uYS5yZWxvYWQoKS5vKGZ1bmN0aW9uKHQpe2lmKFwiYXV0aC91c2VyLXRva2VuLWV4cGlyZWRcIiE9dC5jb2RlKXRocm93IHR9KX0pfSx0Lnc9ZnVuY3Rpb24oKXtyZXR1cm57bXVsdGlGYWN0b3I6e2Vucm9sbGVkRmFjdG9yczpxKHRoaXMuYixmdW5jdGlvbih0KXtyZXR1cm4gdC53KCl9KX19fSxuaC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmE9dGhpcy5jLGZ1bmN0aW9uIGUobix0KXtuLnN0b3AoKTtuLmI9bW4oaWgobix0KSkudGhlbihEaSkudGhlbihmdW5jdGlvbigpe3JldHVybiBuLmgoKX0pLnRoZW4oZnVuY3Rpb24oKXtlKG4sITApfSkubyhmdW5jdGlvbih0KXtuLmkodCkmJmUobiwhMSl9KX0odGhpcywhMCl9LG5oLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5iJiYodGhpcy5iLmNhbmNlbCgpLHRoaXMuYj1udWxsKX0scmgucHJvdG90eXBlLnc9ZnVuY3Rpb24oKXtyZXR1cm57YXBpS2V5OnRoaXMuZi5jLHJlZnJlc2hUb2tlbjp0aGlzLmEsYWNjZXNzVG9rZW46dGhpcy5iJiZ0aGlzLmIudG9TdHJpbmcoKSxleHBpcmF0aW9uVGltZTp0aGlzLmN9fSxyaC5wcm90b3R5cGUuZ2V0VG9rZW49ZnVuY3Rpb24odCl7cmV0dXJuIHQ9ISF0LHRoaXMuYiYmIXRoaXMuYT93ZShuZXcgVChcInVzZXItdG9rZW4tZXhwaXJlZFwiKSk6dHx8IXRoaXMuYnx8RGF0ZS5ub3coKT50aGlzLmMtM2U0P3RoaXMuYT9zaCh0aGlzLHtncmFudF90eXBlOlwicmVmcmVzaF90b2tlblwiLHJlZnJlc2hfdG9rZW46dGhpcy5hfSk6eWUobnVsbCk6eWUoe2FjY2Vzc1Rva2VuOnRoaXMuYi50b1N0cmluZygpLHJlZnJlc2hUb2tlbjp0aGlzLmF9KX0sdWgucHJvdG90eXBlLnc9ZnVuY3Rpb24oKXtyZXR1cm57bGFzdExvZ2luQXQ6dGhpcy5iLGNyZWF0ZWRBdDp0aGlzLmF9fSx3KGhoLGxuKSxoaC5wcm90b3R5cGUud2E9ZnVuY3Rpb24odCl7dGhpcy55YT10LFhhKHRoaXMuYSx0KX0saGgucHJvdG90eXBlLmxhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueWF9LGhoLnByb3RvdHlwZS5HYT1mdW5jdGlvbigpe3JldHVybiBYKHRoaXMuJCl9LGhoLnByb3RvdHlwZS5oYj1mdW5jdGlvbigpe3RoaXMudS5iJiYodGhpcy51LnN0b3AoKSx0aGlzLnUuc3RhcnQoKSl9LFZpKGhoLnByb3RvdHlwZSxcInByb3ZpZGVySWRcIixcImZpcmViYXNlXCIpLCh0PWhoLnByb3RvdHlwZSkucmVsb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gamgodGhpcyxFaCh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIE9oKHQpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4geWgodCl9KS50aGVuKFRoKX0pKX0sdC5vYz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5JKHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBHYyh0KX0pfSx0Lkk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gamgodGhpcyxFaCh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuYi5nZXRUb2tlbih0KX0pLnRoZW4oZnVuY3Rpb24odCl7aWYoIXQpdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKTtyZXR1cm4gdC5hY2Nlc3NUb2tlbiE9ZS56YSYmKGJoKGUsdC5hY2Nlc3NUb2tlbiksZS5kaXNwYXRjaEV2ZW50KG5ldyBRYyhcInRva2VuQ2hhbmdlZFwiKSkpLE5oKGUsXCJyZWZyZXNoVG9rZW5cIix0LnJlZnJlc2hUb2tlbiksdC5hY2Nlc3NUb2tlbn0pKX0sdC5LYz1mdW5jdGlvbih0KXtpZighKHQ9dC51c2Vycyl8fCF0Lmxlbmd0aCl0aHJvdyBuZXcgVChcImludGVybmFsLWVycm9yXCIpO0loKHRoaXMse3VpZDoodD10WzBdKS5sb2NhbElkLGRpc3BsYXlOYW1lOnQuZGlzcGxheU5hbWUscGhvdG9VUkw6dC5waG90b1VybCxlbWFpbDp0LmVtYWlsLGVtYWlsVmVyaWZpZWQ6ISF0LmVtYWlsVmVyaWZpZWQscGhvbmVOdW1iZXI6dC5waG9uZU51bWJlcixsYXN0TG9naW5BdDp0Lmxhc3RMb2dpbkF0LGNyZWF0ZWRBdDp0LmNyZWF0ZWRBdCx0ZW5hbnRJZDp0LnRlbmFudElkfSk7Zm9yKHZhciBlLG49KGU9KGU9dCkucHJvdmlkZXJVc2VySW5mbykmJmUubGVuZ3RoP3EoZSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGNoKHQucmF3SWQsdC5wcm92aWRlcklkLHQuZW1haWwsdC5kaXNwbGF5TmFtZSx0LnBob3RvVXJsLHQucGhvbmVOdW1iZXIpfSk6W10saT0wO2k8bi5sZW5ndGg7aSsrKWtoKHRoaXMsbltpXSk7TmgodGhpcyxcImlzQW5vbnltb3VzXCIsISh0aGlzLmVtYWlsJiZ0LnBhc3N3b3JkSGFzaHx8dGhpcy5wcm92aWRlckRhdGEmJnRoaXMucHJvdmlkZXJEYXRhLmxlbmd0aCkpLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgUWMoXCJ1c2VyUmVsb2FkZWRcIix7aGQ6dH0pKX0sdC5MYz1mdW5jdGlvbih0KXtyZXR1cm4gamkoXCJmaXJlYmFzZS5Vc2VyLnByb3RvdHlwZS5yZWF1dGhlbnRpY2F0ZUFuZFJldHJpZXZlRGF0YVdpdGhDcmVkZW50aWFsIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgZmlyZWJhc2UuVXNlci5wcm90b3R5cGUucmVhdXRoZW50aWNhdGVXaXRoQ3JlZGVudGlhbCBpbnN0ZWFkLlwiKSx0aGlzLnRiKHQpfSx0LnRiPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1udWxsO3JldHVybiBqaCh0aGlzLHQuYyh0aGlzLmEsdGhpcy51aWQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIENoKGUsdCksbj1EaChlLHQsXCJyZWF1dGhlbnRpY2F0ZVwiKSxlLmg9bnVsbCxlLnJlbG9hZCgpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBufSksITApfSx0LkNjPWZ1bmN0aW9uKHQpe3JldHVybiBqaShcImZpcmViYXNlLlVzZXIucHJvdG90eXBlLmxpbmtBbmRSZXRyaWV2ZURhdGFXaXRoQ3JlZGVudGlhbCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGZpcmViYXNlLlVzZXIucHJvdG90eXBlLmxpbmtXaXRoQ3JlZGVudGlhbCBpbnN0ZWFkLlwiKSx0aGlzLnFiKHQpfSx0LnFiPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMsaT1udWxsO3JldHVybiBqaCh0aGlzLFJoKHRoaXMsZS5wcm92aWRlcklkKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG4uSSgpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5iKG4uYSx0KX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGk9RGgobix0LFwibGlua1wiKSxQaChuLHQpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBpfSkpfSx0LkRjPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gamgodGhpcyxSaCh0aGlzLFwicGhvbmVcIikudGhlbihmdW5jdGlvbigpe3JldHVybiBLYyh2aChuKSx0LGUsYihuLnFiLG4pKX0pKX0sdC5NYz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGpoKHRoaXMseWUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIEtjKHZoKG4pLHQsZSxiKG4udGIsbikpfSksITApfSx0LkJiPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7cmV0dXJuIGpoKHRoaXMsdGhpcy5JKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbi5hLkJiKHQsZSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBDaChuLHQpLG4ucmVsb2FkKCl9KSl9LHQuZWQ9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcztyZXR1cm4gamgodGhpcyx0aGlzLkkoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLmIobi5hLHQpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gQ2gobix0KSxuLnJlbG9hZCgpfSkpfSx0LkNiPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7cmV0dXJuIGpoKHRoaXMsdGhpcy5JKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbi5hLkNiKHQsZSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBDaChuLHQpLG4ucmVsb2FkKCl9KSl9LHQuRGI9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZS5kaXNwbGF5TmFtZSYmdm9pZCAwPT09ZS5waG90b1VSTClyZXR1cm4gRWgodGhpcyk7dmFyIG49dGhpcztyZXR1cm4gamgodGhpcyx0aGlzLkkoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuLmEuRGIodCx7ZGlzcGxheU5hbWU6ZS5kaXNwbGF5TmFtZSxwaG90b1VybDplLnBob3RvVVJMfSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBDaChuLHQpLE5oKG4sXCJkaXNwbGF5TmFtZVwiLHQuZGlzcGxheU5hbWV8fG51bGwpLE5oKG4sXCJwaG90b1VSTFwiLHQucGhvdG9Vcmx8fG51bGwpLFYobi5wcm92aWRlckRhdGEsZnVuY3Rpb24odCl7XCJwYXNzd29yZFwiPT09dC5wcm92aWRlcklkJiYoVmkodCxcImRpc3BsYXlOYW1lXCIsbi5kaXNwbGF5TmFtZSksVmkodCxcInBob3RvVVJMXCIsbi5waG90b1VSTCkpfSkseWgobil9KS50aGVuKFRoKSl9LHQuY2Q9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcztyZXR1cm4gamgodGhpcyxPaCh0aGlzKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBLKEFoKG4pLGUpP1hzKG4uYSx5cyx7aWRUb2tlbjp0LGRlbGV0ZVByb3ZpZGVyOltlXX0pLnRoZW4oZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuIFYodC5wcm92aWRlclVzZXJJbmZvfHxbXSxmdW5jdGlvbih0KXtlW3QucHJvdmlkZXJJZF09ITB9KSxWKEFoKG4pLGZ1bmN0aW9uKHQpe2VbdF18fFNoKG4sdCl9KSxlW1NvLlBST1ZJREVSX0lEXXx8VmkobixcInBob25lTnVtYmVyXCIsbnVsbCkseWgobil9KTp5aChuKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFQoXCJuby1zdWNoLXByb3ZpZGVyXCIpfSl9KSl9LHQuZGVsZXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gamgodGhpcyx0aGlzLkkoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBYcyhlLmEsYnMse2lkVG9rZW46dH0pfSkudGhlbihmdW5jdGlvbigpe2UuZGlzcGF0Y2hFdmVudChuZXcgUWMoXCJ1c2VyRGVsZXRlZFwiKSl9KSkudGhlbihmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8ZS5KLmxlbmd0aDt0KyspZS5KW3RdLmNhbmNlbChcImFwcC1kZWxldGVkXCIpO2xoKGUsbnVsbCksZmgoZSxudWxsKSxwaChlLG51bGwpLGUuSj1bXSxlLkQ9ITAsZ2goZSksVmkoZSxcInJlZnJlc2hUb2tlblwiLG51bGwpLGUuaSYma2MoZS5pLGUpfSl9LHQuRmI9ZnVuY3Rpb24odCxlKXtyZXR1cm4hIShcImxpbmtWaWFQb3B1cFwiPT10JiYodGhpcy5nfHxudWxsKT09ZSYmdGhpcy5mfHxcInJlYXV0aFZpYVBvcHVwXCI9PXQmJih0aGlzLmd8fG51bGwpPT1lJiZ0aGlzLmZ8fFwibGlua1ZpYVJlZGlyZWN0XCI9PXQmJih0aGlzLmdhfHxudWxsKT09ZXx8XCJyZWF1dGhWaWFSZWRpcmVjdFwiPT10JiYodGhpcy5nYXx8bnVsbCk9PWUpfSx0Lm5hPWZ1bmN0aW9uKHQsZSxuLGkpe1wibGlua1ZpYVBvcHVwXCIhPXQmJlwicmVhdXRoVmlhUG9wdXBcIiE9dHx8aSE9KHRoaXMuZ3x8bnVsbCl8fChuJiZ0aGlzLkM/dGhpcy5DKG4pOmUmJiFuJiZ0aGlzLmYmJnRoaXMuZihlKSx0aGlzLmMmJih0aGlzLmMuY2FuY2VsKCksdGhpcy5jPW51bGwpLGRlbGV0ZSB0aGlzLmYsZGVsZXRlIHRoaXMuQyl9LHQuRmE9ZnVuY3Rpb24odCxlKXtyZXR1cm5cImxpbmtWaWFQb3B1cFwiPT10JiZlPT0odGhpcy5nfHxudWxsKT9iKHRoaXMuS2IsdGhpcyk6XCJyZWF1dGhWaWFQb3B1cFwiPT10JiZlPT0odGhpcy5nfHxudWxsKT9iKHRoaXMuTGIsdGhpcyk6XCJsaW5rVmlhUmVkaXJlY3RcIj09dCYmKHRoaXMuZ2F8fG51bGwpPT1lP2IodGhpcy5LYix0aGlzKTpcInJlYXV0aFZpYVJlZGlyZWN0XCI9PXQmJih0aGlzLmdhfHxudWxsKT09ZT9iKHRoaXMuTGIsdGhpcyk6bnVsbH0sdC5FYz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBMaCh0aGlzLFwibGlua1ZpYVBvcHVwXCIsdCxmdW5jdGlvbigpe3JldHVybiBSaChlLHQucHJvdmlkZXJJZCkudGhlbihmdW5jdGlvbigpe3JldHVybiB5aChlKX0pfSwhMSl9LHQuTmM9ZnVuY3Rpb24odCl7cmV0dXJuIExoKHRoaXMsXCJyZWF1dGhWaWFQb3B1cFwiLHQsZnVuY3Rpb24oKXtyZXR1cm4geWUoKX0sITApfSx0LkZjPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHhoKHRoaXMsXCJsaW5rVmlhUmVkaXJlY3RcIix0LGZ1bmN0aW9uKCl7cmV0dXJuIFJoKGUsdC5wcm92aWRlcklkKX0sITEpfSx0Lk9jPWZ1bmN0aW9uKHQpe3JldHVybiB4aCh0aGlzLFwicmVhdXRoVmlhUmVkaXJlY3RcIix0LGZ1bmN0aW9uKCl7cmV0dXJuIHllKCl9LCEwKX0sdC5LYj1mdW5jdGlvbihlLG4sdCxpKXt2YXIgcj10aGlzO3RoaXMuYyYmKHRoaXMuYy5jYW5jZWwoKSx0aGlzLmM9bnVsbCk7dmFyIG89bnVsbDtyZXR1cm4gdD10aGlzLkkoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBscyhyLmEse3JlcXVlc3RVcmk6ZSxwb3N0Qm9keTppLHNlc3Npb25JZDpuLGlkVG9rZW46dH0pfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbz1EaChyLHQsXCJsaW5rXCIpLFBoKHIsdCl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSxqaCh0aGlzLHQpfSx0LkxiPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXM7dGhpcy5jJiYodGhpcy5jLmNhbmNlbCgpLHRoaXMuYz1udWxsKTt2YXIgbz1udWxsO3JldHVybiBqaCh0aGlzLHllKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBRcihmcyhyLmEse3JlcXVlc3RVcmk6dCxzZXNzaW9uSWQ6ZSxwb3N0Qm9keTppLHRlbmFudElkOm59KSxyLnVpZCl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBvPURoKHIsdCxcInJlYXV0aGVudGljYXRlXCIpLENoKHIsdCksci5oPW51bGwsci5yZWxvYWQoKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gb30pLCEwKX0sdC51Yj1mdW5jdGlvbihlKXt2YXIgbj10aGlzLGk9bnVsbDtyZXR1cm4gamgodGhpcyx0aGlzLkkoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpPXQsdm9pZCAwPT09ZXx8dXQoZSk/e306T3IobmV3IHlyKGUpKX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG4uYS51YihpLHQpfSkudGhlbihmdW5jdGlvbih0KXtpZihuLmVtYWlsIT10KXJldHVybiBuLnJlbG9hZCgpfSkudGhlbihmdW5jdGlvbigpe30pKX0sdC5FYj1mdW5jdGlvbihlLG4pe3ZhciBpPXRoaXMscj1udWxsO3JldHVybiBqaCh0aGlzLHRoaXMuSSgpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHI9dCx2b2lkIDA9PT1ufHx1dChuKT97fTpPcihuZXcgeXIobikpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaS5hLkViKHIsZSx0KX0pLnRoZW4oZnVuY3Rpb24odCl7aWYoaS5lbWFpbCE9dClyZXR1cm4gaS5yZWxvYWQoKX0pLnRoZW4oZnVuY3Rpb24oKXt9KSl9LHQuamM9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbCxuPXRoaXM7cmV0dXJuIGpoKHRoaXMsdD1Rcih5ZSh0KSxuLnVpZCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZT1EaChuLHQsXCJyZWF1dGhlbnRpY2F0ZVwiKSxDaChuLHQpLG4uaD1udWxsLG4ucmVsb2FkKCl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KSwhMCl9LHQudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudygpfSx0Lnc9ZnVuY3Rpb24oKXt2YXIgZT17dWlkOnRoaXMudWlkLGRpc3BsYXlOYW1lOnRoaXMuZGlzcGxheU5hbWUscGhvdG9VUkw6dGhpcy5waG90b1VSTCxlbWFpbDp0aGlzLmVtYWlsLGVtYWlsVmVyaWZpZWQ6dGhpcy5lbWFpbFZlcmlmaWVkLHBob25lTnVtYmVyOnRoaXMucGhvbmVOdW1iZXIsaXNBbm9ueW1vdXM6dGhpcy5pc0Fub255bW91cyx0ZW5hbnRJZDp0aGlzLnRlbmFudElkLHByb3ZpZGVyRGF0YTpbXSxhcGlLZXk6dGhpcy5sLGFwcE5hbWU6dGhpcy5tLGF1dGhEb21haW46dGhpcy5zLHN0c1Rva2VuTWFuYWdlcjp0aGlzLmIudygpLHJlZGlyZWN0RXZlbnRJZDp0aGlzLmdhfHxudWxsfTtyZXR1cm4gdGhpcy5tZXRhZGF0YSYmbHQoZSx0aGlzLm1ldGFkYXRhLncoKSksVih0aGlzLnByb3ZpZGVyRGF0YSxmdW5jdGlvbih0KXtlLnByb3ZpZGVyRGF0YS5wdXNoKGZ1bmN0aW9uKHQpe3ZhciBlLG49e307Zm9yKGUgaW4gdCl0Lmhhc093blByb3BlcnR5KGUpJiYobltlXT10W2VdKTtyZXR1cm4gbn0odCkpfSksbHQoZSx0aGlzLk8udygpKSxlfTt2YXIgRmg9e25hbWU6XCJyZWRpcmVjdFVzZXJcIixGOlwic2Vzc2lvblwifTtmdW5jdGlvbiBxaCh0KXtyZXR1cm4gSnUodC5iLEZoLHQuYSl9ZnVuY3Rpb24gSGgodCl7dmFyIGUsbixpLHI7dGhpcy5hPXQsdGhpcy5iPUJ1KCksdGhpcy5jPW51bGwsdGhpcy5mPShuPUJoKFwibG9jYWxcIiksaT1CaChcInNlc3Npb25cIikscj1CaChcIm5vbmVcIiksZnVuY3Rpb24obixpLHIpe3ZhciBvPVh1KGksciksYT1XdShuLGkuRik7cmV0dXJuIG4uZ2V0KGkscikudGhlbihmdW5jdGlvbih0KXt2YXIgZT1udWxsO3RyeXtlPVNpKGwubG9jYWxTdG9yYWdlLmdldEl0ZW0obykpfWNhdGNoKHQpe31pZihlJiYhdClyZXR1cm4gbC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShvKSxuLnNldChpLGUscik7ZSYmdCYmXCJsb2NhbFN0b3JhZ2VcIiE9YS50eXBlJiZsLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKG8pfSl9KChlPXRoaXMpLmIsbixlLmEpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5iLmdldChpLGUuYSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0P2k6ZS5iLmdldChyLGUuYSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdD9yOmUuYi5nZXQobixlLmEpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQ/bjplLmIuZ2V0KEdoLGUuYSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdD9CaCh0KTpufSl9KX0pfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5jPXQsS2goZSx0LkYpfSkubyhmdW5jdGlvbigpe2UuY3x8KGUuYz1uKX0pKSx0aGlzLmIuYWRkTGlzdGVuZXIoQmgoXCJsb2NhbFwiKSx0aGlzLmEsYih0aGlzLmcsdGhpcykpfWZ1bmN0aW9uIEtoKHQsZSl7dmFyIG4scyxpPVtdO2ZvcihuIGluIEt1KUt1W25dIT09ZSYmaS5wdXNoKEp1KHQuYixCaChLdVtuXSksdC5hKSk7cmV0dXJuIGkucHVzaChKdSh0LmIsR2gsdC5hKSkscz1pLG5ldyBmZShmdW5jdGlvbihuLGUpe3ZhciBpPXMubGVuZ3RoLHI9W107aWYoaSlmb3IodmFyIHQ9ZnVuY3Rpb24odCxlKXtpLS0sclt0XT1lLDA9PWkmJm4ocil9LG89ZnVuY3Rpb24odCl7ZSh0KX0sYT0wO2E8cy5sZW5ndGg7YSsrKUllKHNbYV0seSh0LGEpLG8pO2Vsc2UgbihyKX0pfUhoLnByb3RvdHlwZS5nPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPUJoKFwibG9jYWxcIik7WWgodGhpcyxmdW5jdGlvbigpe3JldHVybiB5ZSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5jJiZcImxvY2FsXCIhPWUuYy5GP2UuYi5nZXQobixlLmEpOm51bGx9KS50aGVuKGZ1bmN0aW9uKHQpe2lmKHQpcmV0dXJuIEtoKGUsXCJsb2NhbFwiKS50aGVuKGZ1bmN0aW9uKCl7ZS5jPW59KX0pfSl9O3ZhciBHaD17bmFtZTpcInBlcnNpc3RlbmNlXCIsRjpcInNlc3Npb25cIn07ZnVuY3Rpb24gQmgodCl7cmV0dXJue25hbWU6XCJhdXRoVXNlclwiLEY6dH19ZnVuY3Rpb24gV2godCxlKXtyZXR1cm4gWWgodCxmdW5jdGlvbigpe3JldHVybiB0LmIuc2V0KHQuYyxlLncoKSx0LmEpfSl9ZnVuY3Rpb24gWGgodCl7cmV0dXJuIFloKHQsZnVuY3Rpb24oKXtyZXR1cm4gSnUodC5iLHQuYyx0LmEpfSl9ZnVuY3Rpb24gSmgodCxlLG4pe3JldHVybiBZaCh0LGZ1bmN0aW9uKCl7cmV0dXJuIHQuYi5nZXQodC5jLHQuYSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdCYmZSYmKHQuYXV0aERvbWFpbj1lKSx0JiZuJiYodC5lbXVsYXRvckNvbmZpZz1uKSxVaCh0fHx7fSl9KX0pfWZ1bmN0aW9uIFloKHQsZSl7cmV0dXJuIHQuZj10LmYudGhlbihlLGUpLHQuZn1mdW5jdGlvbiB6aCh0KXtpZih0aGlzLmw9ITEsVmkodGhpcyxcInNldHRpbmdzXCIsbmV3IHFjKSxWaSh0aGlzLFwiYXBwXCIsdCksIXRoaXMuYXBwLm9wdGlvbnN8fCF0aGlzLmFwcC5vcHRpb25zLmFwaUtleSl0aHJvdyBuZXcgVChcImludmFsaWQtYXBpLWtleVwiKTt2YXIgbixlLGkscixvLGE7dD16bC5kZWZhdWx0LlNES19WRVJTSU9OP21pKHpsLmRlZmF1bHQuU0RLX1ZFUlNJT04pOm51bGwsdGhpcy5hPW5ldyBGYSh0aGlzLmFwcC5vcHRpb25zJiZ0aGlzLmFwcC5vcHRpb25zLmFwaUtleSxfKEEpLHQpLHRoaXMuUj1bXSx0aGlzLnM9W10sdGhpcy5PPVtdLHRoaXMuaGI9emwuZGVmYXVsdC5JTlRFUk5BTC5jcmVhdGVTdWJzY3JpYmUoYih0aGlzLnpjLHRoaXMpKSx0aGlzLlg9dm9pZCAwLHRoaXMuYmM9emwuZGVmYXVsdC5JTlRFUk5BTC5jcmVhdGVTdWJzY3JpYmUoYih0aGlzLkFjLHRoaXMpKSxpbCh0aGlzLG51bGwpLHRoaXMuaT1uZXcgSGgodGhpcy5hcHAub3B0aW9ucy5hcGlLZXkrXCI6XCIrdGhpcy5hcHAubmFtZSksdGhpcy5EPW5ldyBWaCh0aGlzLmFwcC5vcHRpb25zLmFwaUtleStcIjpcIit0aGlzLmFwcC5uYW1lKSx0aGlzLiQ9dWwodGhpcywoZT0obj10aGlzKS5hcHAub3B0aW9ucy5hdXRoRG9tYWluLHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5iLmdldChGaCx0LmEpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQmJmUmJih0LmF1dGhEb21haW49ZSksVWgodHx8e30pfSl9KGUuRCxlLmFwcC5vcHRpb25zLmF1dGhEb21haW4pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuKGUubT10KSYmKHQuaGE9ZS5EKSxxaChlLkQpfSk7cmV0dXJuIHVsKGUsdCl9KG4pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gSmgobi5pLGUsbi5QKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGU/KGUuaGE9bi5ELG4ubSYmKG4ubS5nYXx8bnVsbCk9PShlLmdhfHxudWxsKT9lOmUucmVsb2FkKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBXaChuLmksZSkudGhlbihmdW5jdGlvbigpe3JldHVybiBlfSl9KS5vKGZ1bmN0aW9uKHQpe3JldHVyblwiYXV0aC9uZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCI9PXQuY29kZT9lOlhoKG4uaSl9KSk6bnVsbH0pLnRoZW4oZnVuY3Rpb24odCl7aWwobix0fHxudWxsKX0pLHVsKG4sdCkpKSx0aGlzLmg9dWwodGhpcywoaT10aGlzKS4kLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZWwoaSl9KS5vKGZ1bmN0aW9uKCl7fSkudGhlbihmdW5jdGlvbigpe2lmKCFpLmwpcmV0dXJuIGkuamEoKX0pLm8oZnVuY3Rpb24oKXt9KS50aGVuKGZ1bmN0aW9uKCl7dmFyIHQ7aS5sfHwoaS5iYT0hMCwodD1pLmkpLmIuYWRkTGlzdGVuZXIoQmgoXCJsb2NhbFwiKSx0LmEsaS5qYSkpfSkpLHRoaXMuYmE9ITEsdGhpcy5qYT1iKHRoaXMuWmMsdGhpcyksdGhpcy5CYT1iKHRoaXMuZGEsdGhpcyksdGhpcy55YT1iKHRoaXMubWMsdGhpcyksdGhpcy56YT1iKHRoaXMud2MsdGhpcyksdGhpcy5BYT1iKHRoaXMueGMsdGhpcyksdGhpcy5iPW51bGwsbz0ocj10aGlzKS5hcHAub3B0aW9ucy5hdXRoRG9tYWluLGE9ci5hcHAub3B0aW9ucy5hcGlLZXksbyYmd2koKSYmKHIuT2E9ci4kLnRoZW4oZnVuY3Rpb24oKXt2YXIgdDtpZighci5sKXJldHVybiByLmI9TGMobyxhLHIuYXBwLm5hbWUsci5QKSxBYyhyLmIsciksb2wocikmJndoKG9sKHIpKSxyLm0mJih3aChyLm0pLCh0PXIubSkud2Eoci5sYSgpKSxsaCh0LHIpLGRoKHQ9ci5tLHIuSikscGgodCxyKSxKYSgodD1yLm0pLmEsci5QKSxmaCh0LHIpLHIubT1udWxsKSxyLmJ9KSksdGhpcy5JTlRFUk5BTD17fSx0aGlzLklOVEVSTkFMLmRlbGV0ZT1iKHRoaXMuZGVsZXRlLHRoaXMpLHRoaXMuSU5URVJOQUwubG9nRnJhbWV3b3JrPWIodGhpcy5HYyx0aGlzKSx0aGlzLnU9MCxsbi5jYWxsKHRoaXMpLHQ9dGhpcyxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImxjXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhKCl9LHNldDpmdW5jdGlvbih0KXt0aGlzLndhKHQpfSxlbnVtZXJhYmxlOiExfSksdC5hYT1udWxsLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwidGlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVCgpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy55Yih0KX0sZW51bWVyYWJsZTohMX0pLHQuUz1udWxsLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZW11bGF0b3JDb25maWdcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9dGhpcy5QP3FpKHtwcm90b2NvbDoodD1Pbih0aGlzLlAudXJsKSkuYyxob3N0OnQuYSxwb3J0OnQuZyxvcHRpb25zOnFpKHtkaXNhYmxlV2FybmluZ3M6dGhpcy5QLmVjfSl9KTpudWxsfSxlbnVtZXJhYmxlOiExfSksdGhpcy5KPVtdLHRoaXMuUD1udWxsfWZ1bmN0aW9uICRoKHQpe0ZlLmNhbGwodGhpcyxcImxhbmd1YWdlQ29kZUNoYW5nZWRcIiksdGhpcy5oPXR9ZnVuY3Rpb24gWmgodCl7RmUuY2FsbCh0aGlzLFwiZW11bGF0b3JDb25maWdDaGFuZ2VkXCIpLHRoaXMuYz10fWZ1bmN0aW9uIFFoKHQpe0ZlLmNhbGwodGhpcyxcImZyYW1ld29ya0NoYW5nZWRcIiksdGhpcy5mPXR9ZnVuY3Rpb24gdGwodCl7cmV0dXJuIHQuT2F8fHdlKG5ldyBUKFwiYXV0aC1kb21haW4tY29uZmlnLXJlcXVpcmVkXCIpKX1mdW5jdGlvbiBlbCh0KXtpZighd2koKSlyZXR1cm4gd2UobmV3IFQoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKTt2YXIgZT10bCh0KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYi5xYSgpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdD9xaSh0KTpudWxsfSk7cmV0dXJuIHVsKHQsZSl9ZnVuY3Rpb24gbmwobyxhKXt2YXIgcz17fTtyZXR1cm4gcy5hcGlLZXk9by5hcHAub3B0aW9ucy5hcGlLZXkscy5hdXRoRG9tYWluPW8uYXBwLm9wdGlvbnMuYXV0aERvbWFpbixzLmFwcE5hbWU9by5hcHAubmFtZSxvLlAmJihzLmVtdWxhdG9yQ29uZmlnPW8uUCksby4kLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdD1zLGU9YSxuPW8uRCxpPW8uR2EoKSxyPW5ldyBoaCh0LGUpLG4mJihyLmhhPW4pLGkmJmRoKHIsaSksci5yZWxvYWQoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KTt2YXIgdCxlLG4saSxyfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gb2wobykmJnQudWlkPT1vbChvKS51aWQ/X2gob2wobyksdCk6KGlsKG8sdCksd2godCkpLG8uZGEodCl9KS50aGVuKGZ1bmN0aW9uKCl7c2wobyl9KX1mdW5jdGlvbiBpbCh0LGUpe3ZhciBuLGk7b2wodCkmJihuPW9sKHQpLGk9dC5CYSxCKG4uUyxmdW5jdGlvbih0KXtyZXR1cm4gdD09aX0pLGVuKG9sKHQpLFwidG9rZW5DaGFuZ2VkXCIsdC55YSksZW4ob2wodCksXCJ1c2VyRGVsZXRlZFwiLHQuemEpLGVuKG9sKHQpLFwidXNlckludmFsaWRhdGVkXCIsdC5BYSksZ2gob2wodCkpKSxlJiYoZS5TLnB1c2godC5CYSksWmUoZSxcInRva2VuQ2hhbmdlZFwiLHQueWEpLFplKGUsXCJ1c2VyRGVsZXRlZFwiLHQuemEpLFplKGUsXCJ1c2VySW52YWxpZGF0ZWRcIix0LkFhKSwwPHQudSYmbWgoZSkpLFZpKHQsXCJjdXJyZW50VXNlclwiLGUpLGUmJihlLndhKHQubGEoKSksbGgoZSx0KSxkaChlLHQuSikscGgoZSx0KSxKYShlLmEsdC5QKSxmaChlLHQpKX1mdW5jdGlvbiBybChuLHQpe3ZhciBlPW51bGwsaT1udWxsO3JldHVybiB1bChuLHQudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZT1fbyh0KSxpPVZyKHQpLG5sKG4sdCl9LGZ1bmN0aW9uKHQpe3ZhciBlPW51bGw7dGhyb3coZT10JiZcImF1dGgvbXVsdGktZmFjdG9yLWF1dGgtcmVxdWlyZWRcIj09PXQuY29kZT9ZYyh0LncoKSxuLGIobi5rYyxuKSk6ZSl8fHR9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHFpKHt1c2VyOm9sKG4pLGNyZWRlbnRpYWw6ZSxhZGRpdGlvbmFsVXNlckluZm86aSxvcGVyYXRpb25UeXBlOlwic2lnbkluXCJ9KX0pKX1mdW5jdGlvbiBvbCh0KXtyZXR1cm4gdC5jdXJyZW50VXNlcn1mdW5jdGlvbiBhbCh0KXtyZXR1cm4gb2wodCkmJm9sKHQpLl9sYXR8fG51bGx9ZnVuY3Rpb24gc2wodCl7aWYodC5iYSl7Zm9yKHZhciBlPTA7ZTx0LnMubGVuZ3RoO2UrKyl0LnNbZV0mJnQuc1tlXShhbCh0KSk7aWYodC5YIT09dC5nZXRVaWQoKSYmdC5PLmxlbmd0aClmb3IodC5YPXQuZ2V0VWlkKCksZT0wO2U8dC5PLmxlbmd0aDtlKyspdC5PW2VdJiZ0Lk9bZV0oYWwodCkpfX1mdW5jdGlvbiB1bCh0LGUpe3JldHVybiB0LlIucHVzaChlKSxlLm9hKGZ1bmN0aW9uKCl7Ryh0LlIsZSl9KSxlfWZ1bmN0aW9uIGNsKCl7fWZ1bmN0aW9uIGhsKCl7dGhpcy5hPXt9LHRoaXMuYj0xZTEyfUhoLnByb3RvdHlwZS54Yj1mdW5jdGlvbihlKXt2YXIgbj1udWxsLGk9dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9bmV3IFQoXCJpbnZhbGlkLXBlcnNpc3RlbmNlLXR5cGVcIiksbj1uZXcgVChcInVuc3VwcG9ydGVkLXBlcnNpc3RlbmNlLXR5cGVcIik7dDp7Zm9yKGkgaW4gS3UpaWYoS3VbaV09PXQpe3ZhciBpPSEwO2JyZWFrIHR9aT0hMX1pZighaXx8XCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgZTtzd2l0Y2goaGkoKSl7Y2FzZVwiUmVhY3ROYXRpdmVcIjppZihcInNlc3Npb25cIj09PXQpdGhyb3cgbjticmVhaztjYXNlXCJOb2RlXCI6aWYoXCJub25lXCIhPT10KXRocm93IG47YnJlYWs7Y2FzZVwiV29ya2VyXCI6aWYoXCJzZXNzaW9uXCI9PT10fHwhVHUoKSYmXCJub25lXCIhPT10KXRocm93IG47YnJlYWs7ZGVmYXVsdDppZigheWkoKSYmXCJub25lXCIhPT10KXRocm93IG59fShlKSxZaCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGUhPWkuYy5GP2kuYi5nZXQoaS5jLGkuYSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbj10LEtoKGksZSl9KS50aGVuKGZ1bmN0aW9uKCl7aWYoaS5jPUJoKGUpLG4pcmV0dXJuIGkuYi5zZXQoaS5jLG4saS5hKX0pOnllKCl9KX0sdyh6aCxsbiksdygkaCxGZSksdyhaaCxGZSksdyhRaCxGZSksKHQ9emgucHJvdG90eXBlKS54Yj1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLmkueGIodCksdWwodGhpcyx0KX0sdC53YT1mdW5jdGlvbih0KXt0aGlzLmFhPT09dHx8dGhpcy5sfHwodGhpcy5hYT10LFhhKHRoaXMuYSx0aGlzLmFhKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3ICRoKHRoaXMubGEoKSkpKX0sdC5sYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFhfSx0LmZkPWZ1bmN0aW9uKCl7dmFyIHQ9bC5uYXZpZ2F0b3I7dGhpcy53YSh0JiYodC5sYW5ndWFnZXMmJnQubGFuZ3VhZ2VzWzBdfHx0Lmxhbmd1YWdlfHx0LnVzZXJMYW5ndWFnZSl8fG51bGwpfSx0LmdkPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuUCl7aWYoIS9eaHR0cHM/OlxcL1xcLy8udGVzdCh0KSl0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsXCJFbXVsYXRvciBVUkwgbXVzdCBzdGFydCB3aXRoIGEgdmFsaWQgc2NoZW1lIChodHRwOi8vIG9yIGh0dHBzOi8vKS5cIik7ZT0hIWUmJiEhZS5kaXNhYmxlV2FybmluZ3Msbj1lLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLmluZm8mJmNvbnNvbGUuaW5mbyhcIldBUk5JTkc6IFlvdSBhcmUgdXNpbmcgdGhlIEF1dGggRW11bGF0b3IsIHdoaWNoIGlzIGludGVuZGVkIGZvciBsb2NhbCB0ZXN0aW5nIG9ubHkuICBEbyBub3QgdXNlIHdpdGggcHJvZHVjdGlvbiBjcmVkZW50aWFscy5cIiksbC5kb2N1bWVudCYmIW4mJmFpKCkudGhlbihmdW5jdGlvbigpe3ZhciB0PWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LmlubmVyVGV4dD1cIlJ1bm5pbmcgaW4gZW11bGF0b3IgbW9kZS4gRG8gbm90IHVzZSB3aXRoIHByb2R1Y3Rpb24gY3JlZGVudGlhbHMuXCIsdC5zdHlsZS5wb3NpdGlvbj1cImZpeGVkXCIsdC5zdHlsZS53aWR0aD1cIjEwMCVcIix0LnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIiNmZmZmZmZcIix0LnN0eWxlLmJvcmRlcj1cIi4xZW0gc29saWQgIzAwMDAwMFwiLHQuc3R5bGUuY29sb3I9XCIjZmYwMDAwXCIsdC5zdHlsZS5ib3R0b209XCIwcHhcIix0LnN0eWxlLmxlZnQ9XCIwcHhcIix0LnN0eWxlLm1hcmdpbj1cIjBweFwiLHQuc3R5bGUuekluZGV4PTFlNCx0LnN0eWxlLnRleHRBbGlnbj1cImNlbnRlclwiLHQuY2xhc3NMaXN0LmFkZChcImZpcmViYXNlLWVtdWxhdG9yLXdhcm5pbmdcIiksbC5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpfSksdGhpcy5QPXt1cmw6dCxlYzplfSx0aGlzLnNldHRpbmdzLmliPSEwLEphKHRoaXMuYSx0aGlzLlApLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgWmgodGhpcy5QKSl9dmFyIG59LHQuR2M9ZnVuY3Rpb24odCl7dGhpcy5KLnB1c2godCksemEodGhpcy5hLHpsLmRlZmF1bHQuU0RLX1ZFUlNJT04/bWkoemwuZGVmYXVsdC5TREtfVkVSU0lPTix0aGlzLkopOm51bGwpLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgUWgodGhpcy5KKSl9LHQuR2E9ZnVuY3Rpb24oKXtyZXR1cm4gWCh0aGlzLkopfSx0LnliPWZ1bmN0aW9uKHQpe3RoaXMuUz09PXR8fHRoaXMubHx8KHRoaXMuUz10LHRoaXMuYS5iPXRoaXMuUyl9LHQuVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlN9LHQudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue2FwaUtleTp0aGlzLmFwcC5vcHRpb25zLmFwaUtleSxhdXRoRG9tYWluOnRoaXMuYXBwLm9wdGlvbnMuYXV0aERvbWFpbixhcHBOYW1lOnRoaXMuYXBwLm5hbWUsY3VycmVudFVzZXI6b2wodGhpcykmJm9sKHRoaXMpLncoKX19LHQuRmI9ZnVuY3Rpb24odCxlKXtzd2l0Y2godCl7Y2FzZVwidW5rbm93blwiOmNhc2VcInNpZ25JblZpYVJlZGlyZWN0XCI6cmV0dXJuITA7Y2FzZVwic2lnbkluVmlhUG9wdXBcIjpyZXR1cm4gdGhpcy5nPT1lJiYhIXRoaXMuZjtkZWZhdWx0OnJldHVybiExfX0sdC5uYT1mdW5jdGlvbih0LGUsbixpKXtcInNpZ25JblZpYVBvcHVwXCI9PXQmJnRoaXMuZz09aSYmKG4mJnRoaXMuQz90aGlzLkMobik6ZSYmIW4mJnRoaXMuZiYmdGhpcy5mKGUpLHRoaXMuYyYmKHRoaXMuYy5jYW5jZWwoKSx0aGlzLmM9bnVsbCksZGVsZXRlIHRoaXMuZixkZWxldGUgdGhpcy5DKX0sdC5GYT1mdW5jdGlvbih0LGUpe3JldHVyblwic2lnbkluVmlhUmVkaXJlY3RcIj09dHx8XCJzaWduSW5WaWFQb3B1cFwiPT10JiZ0aGlzLmc9PWUmJnRoaXMuZj9iKHRoaXMuaWMsdGhpcyk6bnVsbH0sdC5pYz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLG89e3JlcXVlc3RVcmk6dCxwb3N0Qm9keTppLHNlc3Npb25JZDplLHRlbmFudElkOm59O3JldHVybiB0aGlzLmMmJih0aGlzLmMuY2FuY2VsKCksdGhpcy5jPW51bGwpLHIuJC50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHJsKHIsaHMoci5hLG8pKX0pfSx0LlhjPWZ1bmN0aW9uKGUpe2lmKCF3aSgpKXJldHVybiB3ZShuZXcgVChcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO3ZhciBuPXRoaXMsdD1VcihlLnByb3ZpZGVySWQpLGk9TmkoKSxyPW51bGwsbz1paShyPSghRWkoKXx8dWkoKSkmJnRoaXMuYXBwLm9wdGlvbnMuYXV0aERvbWFpbiYmZS5pc09BdXRoUHJvdmlkZXI/dXUodGhpcy5hcHAub3B0aW9ucy5hdXRoRG9tYWluLHRoaXMuYXBwLm9wdGlvbnMuYXBpS2V5LHRoaXMuYXBwLm5hbWUsXCJzaWduSW5WaWFQb3B1cFwiLGUsbnVsbCxpLHpsLmRlZmF1bHQuU0RLX1ZFUlNJT058fG51bGwsbnVsbCxudWxsLHRoaXMuVCgpLHRoaXMuUCk6cix0JiZ0LnVhLHQmJnQudGEpO3JldHVybiB1bCh0aGlzLHQ9dGwodGhpcykudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gX2ModCxvLFwic2lnbkluVmlhUG9wdXBcIixlLGksISFyLG4uVCgpKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGZlKGZ1bmN0aW9uKHQsZSl7bi5uYShcInNpZ25JblZpYVBvcHVwXCIsbnVsbCxuZXcgVChcImNhbmNlbGxlZC1wb3B1cC1yZXF1ZXN0XCIpLG4uZyksbi5mPXQsbi5DPWUsbi5nPWksbi5jPVJjKG4uYixuLFwic2lnbkluVmlhUG9wdXBcIixvLGkpfSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBvJiZuaShvKSx0P3FpKHQpOm51bGx9KS5vKGZ1bmN0aW9uKHQpe3Rocm93IG8mJm5pKG8pLHR9KSl9LHQuWWM9ZnVuY3Rpb24odCl7aWYoIXdpKCkpcmV0dXJuIHdlKG5ldyBUKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7dmFyIGU9dGhpcztyZXR1cm4gdWwodGhpcyx0bCh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFloKHQ9ZS5pLGZ1bmN0aW9uKCl7cmV0dXJuIHQuYi5zZXQoR2gsdC5jLkYsdC5hKX0pO3ZhciB0fSkudGhlbihmdW5jdGlvbigpe3JldHVybiBDYyhlLmIsXCJzaWduSW5WaWFSZWRpcmVjdFwiLHQsdm9pZCAwLGUuVCgpKX0pKX0sdC5xYT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGVsKHRoaXMpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuYiYmamMoZS5iLmIpLHR9KS5vKGZ1bmN0aW9uKHQpe3Rocm93IGUuYiYmamMoZS5iLmIpLHR9KX0sdC5kZD1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gd2UobmV3IFQoXCJudWxsLXVzZXJcIikpO2lmKHRoaXMuUyE9dC50ZW5hbnRJZClyZXR1cm4gd2UobmV3IFQoXCJ0ZW5hbnQtaWQtbWlzbWF0Y2hcIikpO3ZhciBlPXRoaXMsbj17fTtuLmFwaUtleT10aGlzLmFwcC5vcHRpb25zLmFwaUtleSxuLmF1dGhEb21haW49dGhpcy5hcHAub3B0aW9ucy5hdXRoRG9tYWluLG4uYXBwTmFtZT10aGlzLmFwcC5uYW1lO3ZhciBpLHIsbyxhLHMsdT0oaT10LHI9bixvPWUuRCxhPWUuR2EoKSxzPWkuYiwobj17fSlbSGFdPXMuYiYmcy5iLnRvU3RyaW5nKCksbi5yZWZyZXNoVG9rZW49cy5hLHI9bmV3IGhoKHJ8fHthcGlLZXk6aS5sLGF1dGhEb21haW46aS5zLGFwcE5hbWU6aS5tfSxuKSxvJiYoci5oYT1vKSxhJiZkaChyLGEpLF9oKHIsaSkscik7cmV0dXJuIHVsKHRoaXMsdGhpcy5oLnRoZW4oZnVuY3Rpb24oKXtpZihlLmFwcC5vcHRpb25zLmFwaUtleSE9dC5sKXJldHVybiB1LnJlbG9hZCgpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBvbChlKSYmdC51aWQ9PW9sKGUpLnVpZD8oX2gob2woZSksdCksZS5kYSh0KSk6KGlsKGUsdSksd2godSksZS5kYSh1KSl9KS50aGVuKGZ1bmN0aW9uKCl7c2woZSl9KSl9LHQuQWI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5oLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdC5iJiZqYyh0LmIuYiksb2wodCk/KGlsKHQsbnVsbCksWGgodC5pKS50aGVuKGZ1bmN0aW9uKCl7c2wodCl9KSk6eWUoKX0pO3JldHVybiB1bCh0aGlzLGUpfSx0LlpjPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcztyZXR1cm4gSmgodGhpcy5pLHRoaXMuYXBwLm9wdGlvbnMuYXV0aERvbWFpbikudGhlbihmdW5jdGlvbih0KXtpZighaS5sKXt2YXIgZSxuO2lmKChlPW9sKGkpJiZ0KSYmKGU9b2woaSkudWlkLG49dC51aWQsZT1udWxsIT1lJiZcIlwiIT09ZSYmbnVsbCE9biYmXCJcIiE9PW4mJmU9PW4pLGUpcmV0dXJuIF9oKG9sKGkpLHQpLG9sKGkpLkkoKTsob2woaSl8fHQpJiYoaWwoaSx0KSx0JiYod2godCksdC5oYT1pLkQpLGkuYiYmQWMoaS5iLGkpLHNsKGkpKX19KX0sdC5kYT1mdW5jdGlvbih0KXtyZXR1cm4gV2godGhpcy5pLHQpfSx0Lm1jPWZ1bmN0aW9uKCl7c2wodGhpcyksdGhpcy5kYShvbCh0aGlzKSl9LHQud2M9ZnVuY3Rpb24oKXt0aGlzLkFiKCl9LHQueGM9ZnVuY3Rpb24oKXt0aGlzLkFiKCl9LHQua2M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5oLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcmwoZSx5ZSh0KSl9KX0sdC56Yz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuYWRkQXV0aFRva2VuTGlzdGVuZXIoZnVuY3Rpb24oKXt0Lm5leHQob2woZSkpfSl9LHQuQWM9ZnVuY3Rpb24odCl7dmFyIGUsbixpPXRoaXM7bj1mdW5jdGlvbigpe3QubmV4dChvbChpKSl9LChlPXRoaXMpLk8ucHVzaChuKSx1bChlLGUuaC50aGVuKGZ1bmN0aW9uKCl7IWUubCYmSyhlLk8sbikmJmUuWCE9PWUuZ2V0VWlkKCkmJihlLlg9ZS5nZXRVaWQoKSxuKGFsKGUpKSl9KSl9LHQuSWM9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMuYmEmJlByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Qob2woaSkpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQubmV4dCYmdC5uZXh0KG9sKGkpKX0pLHRoaXMuaGIodCxlLG4pfSx0LkhjPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLmJhJiZQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7aS5YPWkuZ2V0VWlkKCksXCJmdW5jdGlvblwiPT10eXBlb2YgdD90KG9sKGkpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm5leHQmJnQubmV4dChvbChpKSl9KSx0aGlzLmJjKHQsZSxuKX0sdC5uYz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5oLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gb2woZSk/b2woZSkuSSh0KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybnthY2Nlc3NUb2tlbjp0fX0pOm51bGx9KTtyZXR1cm4gdWwodGhpcyxuKX0sdC5UYz1mdW5jdGlvbih0KXt2YXIgbj10aGlzO3JldHVybiB0aGlzLmgudGhlbihmdW5jdGlvbigpe3JldHVybiBybChuLFhzKG4uYSxxcyx7dG9rZW46dH0pKX0pLnRoZW4oZnVuY3Rpb24odCl7dmFyIGU9dC51c2VyO3JldHVybiBOaChlLFwiaXNBbm9ueW1vdXNcIiwhMSksbi5kYShlKSx0fSl9LHQuVWM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLmgudGhlbihmdW5jdGlvbigpe3JldHVybiBybChuLFhzKG4uYSxIcyx7ZW1haWw6dCxwYXNzd29yZDplfSkpfSl9LHQuZGM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLmgudGhlbihmdW5jdGlvbigpe3JldHVybiBybChuLFhzKG4uYSxtcyx7ZW1haWw6dCxwYXNzd29yZDplfSkpfSl9LHQuJGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5oLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcmwoZSx0LmthKGUuYSkpfSl9LHQuU2M9ZnVuY3Rpb24odCl7cmV0dXJuIGppKFwiZmlyZWJhc2UuYXV0aC5BdXRoLnByb3RvdHlwZS5zaWduSW5BbmRSZXRyaWV2ZURhdGFXaXRoQ3JlZGVudGlhbCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGZpcmViYXNlLmF1dGguQXV0aC5wcm90b3R5cGUuc2lnbkluV2l0aENyZWRlbnRpYWwgaW5zdGVhZC5cIiksdGhpcy4kYSh0KX0sdC56Yj1mdW5jdGlvbigpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuaC50aGVuKGZ1bmN0aW9uKCl7dmFyIHQ9b2wobik7aWYodCYmdC5pc0Fub255bW91cyl7dmFyIGU9cWkoe3Byb3ZpZGVySWQ6bnVsbCxpc05ld1VzZXI6ITF9KTtyZXR1cm4gcWkoe3VzZXI6dCxjcmVkZW50aWFsOm51bGwsYWRkaXRpb25hbFVzZXJJbmZvOmUsb3BlcmF0aW9uVHlwZTpcInNpZ25JblwifSl9cmV0dXJuIHJsKG4sbi5hLnpiKCkpLnRoZW4oZnVuY3Rpb24odCl7dmFyIGU9dC51c2VyO3JldHVybiBOaChlLFwiaXNBbm9ueW1vdXNcIiwhMCksbi5kYShlKSx0fSl9KX0sdC5nZXRVaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gb2wodGhpcykmJm9sKHRoaXMpLnVpZHx8bnVsbH0sdC5jYz1mdW5jdGlvbih0KXt0aGlzLmFkZEF1dGhUb2tlbkxpc3RlbmVyKHQpLHRoaXMudSsrLDA8dGhpcy51JiZvbCh0aGlzKSYmbWgob2wodGhpcykpfSx0LlBjPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7Vih0aGlzLnMsZnVuY3Rpb24odCl7dD09ZSYmbi51LS19KSx0aGlzLnU8MCYmKHRoaXMudT0wKSwwPT10aGlzLnUmJm9sKHRoaXMpJiZnaChvbCh0aGlzKSksdGhpcy5yZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcihlKX0sdC5hZGRBdXRoVG9rZW5MaXN0ZW5lcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMucy5wdXNoKHQpLHVsKHRoaXMsdGhpcy5oLnRoZW4oZnVuY3Rpb24oKXtlLmx8fEsoZS5zLHQpJiZ0KGFsKGUpKX0pKX0sdC5yZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcj1mdW5jdGlvbihlKXtCKHRoaXMucyxmdW5jdGlvbih0KXtyZXR1cm4gdD09ZX0pfSx0LmRlbGV0ZT1mdW5jdGlvbigpe3RoaXMubD0hMDtmb3IodmFyIHQ9MDt0PHRoaXMuUi5sZW5ndGg7dCsrKXRoaXMuUlt0XS5jYW5jZWwoXCJhcHAtZGVsZXRlZFwiKTtyZXR1cm4gdGhpcy5SPVtdLHRoaXMuaSYmKHQ9dGhpcy5pKS5iLnJlbW92ZUxpc3RlbmVyKEJoKFwibG9jYWxcIiksdC5hLHRoaXMuamEpLHRoaXMuYiYmKGtjKHRoaXMuYix0aGlzKSxqYyh0aGlzLmIuYikpLFByb21pc2UucmVzb2x2ZSgpfSx0LmhjPWZ1bmN0aW9uKHQpe3JldHVybiB1bCh0aGlzLFhzKHRoaXMuYSxncyx7aWRlbnRpZmllcjp0LGNvbnRpbnVlVXJpOklpKCk/UW4oKTpcImh0dHA6Ly9sb2NhbGhvc3RcIn0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuc2lnbmluTWV0aG9kc3x8W119KSl9LHQuQmM9ZnVuY3Rpb24odCl7cmV0dXJuISFUbyh0KX0sdC53Yj1mdW5jdGlvbihlLG4pe3ZhciBpPXRoaXM7cmV0dXJuIHVsKHRoaXMseWUoKS50aGVuKGZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHlyKG4pO2lmKCF0LmMpdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLFRyK1wiIG11c3QgYmUgdHJ1ZSB3aGVuIHNlbmRpbmcgc2lnbiBpbiBsaW5rIHRvIGVtYWlsXCIpO3JldHVybiBPcih0KX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGkuYS53YihlLHQpfSkudGhlbihmdW5jdGlvbigpe30pKX0sdC5qZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5SYSh0KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGEuZW1haWx9KX0sdC5uYj1mdW5jdGlvbih0LGUpe3JldHVybiB1bCh0aGlzLHRoaXMuYS5uYih0LGUpLnRoZW4oZnVuY3Rpb24oKXt9KSl9LHQuUmE9ZnVuY3Rpb24odCl7cmV0dXJuIHVsKHRoaXMsdGhpcy5hLlJhKHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB6aSh0KX0pKX0sdC5qYj1mdW5jdGlvbih0KXtyZXR1cm4gdWwodGhpcyx0aGlzLmEuamIodCkudGhlbihmdW5jdGlvbigpe30pKX0sdC52Yj1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHVsKHRoaXMseWUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXR8fHV0KHQpP3t9Ok9yKG5ldyB5cih0KSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuLmEudmIoZSx0KX0pLnRoZW4oZnVuY3Rpb24oKXt9KSl9LHQuV2M9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdWwodGhpcyxLYyh0aGlzLHQsZSxiKHRoaXMuJGEsdGhpcykpKX0sdC5WYz1mdW5jdGlvbihuLGkpe3ZhciByPXRoaXM7cmV0dXJuIHVsKHRoaXMseWUoKS50aGVuKGZ1bmN0aW9uKCl7dmFyIHQ9aXx8UW4oKSxlPUlvKG4sdCk7aWYoISh0PVRvKHQpKSl0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsXCJJbnZhbGlkIGVtYWlsIGxpbmshXCIpO2lmKHQudGVuYW50SWQhPT1yLlQoKSl0aHJvdyBuZXcgVChcInRlbmFudC1pZC1taXNtYXRjaFwiKTtyZXR1cm4gci4kYShlKX0pKX0sY2wucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe30sY2wucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7fSxjbC5wcm90b3R5cGUuZ2V0UmVzcG9uc2U9ZnVuY3Rpb24oKXt9LGNsLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7fTt2YXIgbGw9bnVsbDtmdW5jdGlvbiBmbCh0LGUpe3JldHVybihlPWRsKGUpKSYmdC5hW2VdfHxudWxsfWZ1bmN0aW9uIGRsKHQpe3JldHVybih0PXZvaWQgMD09PXQ/MWUxMjp0KT90LnRvU3RyaW5nKCk6bnVsbH1mdW5jdGlvbiBwbCh0LGUpe3RoaXMuZz0hMSx0aGlzLmM9ZSx0aGlzLmE9dGhpcy5iPW51bGwsdGhpcy5oPVwiaW52aXNpYmxlXCIhPT10aGlzLmMuc2l6ZSx0aGlzLmY9dGUodCk7dmFyIG49dGhpczt0aGlzLmk9ZnVuY3Rpb24oKXtuLmV4ZWN1dGUoKX0sdGhpcy5oP3RoaXMuZXhlY3V0ZSgpOlplKHRoaXMuZixcImNsaWNrXCIsdGhpcy5pKX1mdW5jdGlvbiB2bCh0KXtpZih0LmcpdGhyb3cgRXJyb3IoXCJyZUNBUFRDSEEgbW9jayB3YXMgYWxyZWFkeSBkZWxldGVkIVwiKX1mdW5jdGlvbiBtbCgpe31mdW5jdGlvbiBnbCgpe31obC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYVt0aGlzLmIudG9TdHJpbmcoKV09bmV3IHBsKHQsZSksdGhpcy5iKyt9LGhsLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0KXt2YXIgZT1mbCh0aGlzLHQpO3Q9ZGwodCksZSYmdCYmKGUuZGVsZXRlKCksZGVsZXRlIHRoaXMuYVt0XSl9LGhsLnByb3RvdHlwZS5nZXRSZXNwb25zZT1mdW5jdGlvbih0KXtyZXR1cm4odD1mbCh0aGlzLHQpKT90LmdldFJlc3BvbnNlKCk6bnVsbH0saGwucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCl7KHQ9ZmwodGhpcyx0KSkmJnQuZXhlY3V0ZSgpfSxwbC5wcm90b3R5cGUuZ2V0UmVzcG9uc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdmwodGhpcyksdGhpcy5ifSxwbC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe3ZsKHRoaXMpO3ZhciBuPXRoaXM7dGhpcy5hfHwodGhpcy5hPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9NTAsZT1bXTswPHQ7KWUucHVzaChcIjEyMzQ1Njc4OTBhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCIuY2hhckF0KE1hdGguZmxvb3IoNjIqTWF0aC5yYW5kb20oKSkpKSx0LS07cmV0dXJuIGUuam9pbihcIlwiKX0oKTt2YXIgdD1uLmMuY2FsbGJhY2ssZT1uLmNbXCJleHBpcmVkLWNhbGxiYWNrXCJdO2lmKHQpdHJ5e3Qobi5iKX1jYXRjaCh0KXt9bi5hPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihuLmE9bnVsbCxuLmI9bnVsbCxlKXRyeXtlKCl9Y2F0Y2godCl7fW4uaCYmbi5leGVjdXRlKCl9LDZlNCl9LDUwMCkpfSxwbC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKCl7dmwodGhpcyksdGhpcy5nPSEwLGNsZWFyVGltZW91dCh0aGlzLmEpLHRoaXMuYT1udWxsLGVuKHRoaXMuZixcImNsaWNrXCIsdGhpcy5pKX0sVmkobWwsXCJGQUNUT1JfSURcIixcInBob25lXCIpLGdsLnByb3RvdHlwZS5nPWZ1bmN0aW9uKCl7cmV0dXJuIHllKGxsPWxsfHxuZXcgaGwpfSxnbC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe307dmFyIGJsPW51bGw7ZnVuY3Rpb24geWwoKXt0aGlzLmI9bC5ncmVjYXB0Y2hhPzEvMDowLHRoaXMuZj1udWxsLHRoaXMuYT1cIl9fcmNiXCIrTWF0aC5mbG9vcigxZTYqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoKX12YXIgd2w9bmV3IGR0KGd0LFwiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzP29ubG9hZD0le29ubG9hZH0mcmVuZGVyPWV4cGxpY2l0JmhsPSV7aGx9XCIpLElsPW5ldyBDaSgzZTQsNmU0KTt5bC5wcm90b3R5cGUuZz1mdW5jdGlvbihyKXt2YXIgbz10aGlzO3JldHVybiBuZXcgZmUoZnVuY3Rpb24odCxlKXt2YXIgaT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShuZXcgVChcIm5ldHdvcmstcmVxdWVzdC1mYWlsZWRcIikpfSxJbC5nZXQoKSk7IWwuZ3JlY2FwdGNoYXx8ciE9PW8uZiYmIW8uYj8obFtvLmFdPWZ1bmN0aW9uKCl7dmFyIG47bC5ncmVjYXB0Y2hhPyhvLmY9cixuPWwuZ3JlY2FwdGNoYS5yZW5kZXIsbC5ncmVjYXB0Y2hhLnJlbmRlcj1mdW5jdGlvbih0LGUpe3JldHVybiB0PW4odCxlKSxvLmIrKyx0fSxjbGVhclRpbWVvdXQoaSksdChsLmdyZWNhcHRjaGEpKTooY2xlYXJUaW1lb3V0KGkpLGUobmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiKSkpLGRlbGV0ZSBsW28uYV19LHllKFBhKEl0KHdsLHtvbmxvYWQ6by5hLGhsOnJ8fFwiXCJ9KSkpLm8oZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoaSksZShuZXcgVChcImludGVybmFsLWVycm9yXCIsXCJVbmFibGUgdG8gbG9hZCBleHRlcm5hbCByZUNBUFRDSEEgZGVwZW5kZW5jaWVzIVwiKSl9KSk6KGNsZWFyVGltZW91dChpKSx0KGwuZ3JlY2FwdGNoYSkpfSl9LHlsLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7dGhpcy5iLS19O3ZhciBUbD1udWxsO2Z1bmN0aW9uIEVsKHQsZSxuLGkscixvLGEpe2lmKFZpKHRoaXMsXCJ0eXBlXCIsXCJyZWNhcHRjaGFcIiksdGhpcy5jPXRoaXMuZj1udWxsLHRoaXMuRD0hMSx0aGlzLnY9ZSx0aGlzLmc9bnVsbCxhPWE/Ymw9Ymx8fG5ldyBnbDpUbD1UbHx8bmV3IHlsLHRoaXMubT1hLHRoaXMuYT1ufHx7dGhlbWU6XCJsaWdodFwiLHR5cGU6XCJpbWFnZVwifSx0aGlzLmg9W10sdGhpcy5hW1NsXSl0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsXCJzaXRla2V5IHNob3VsZCBub3QgYmUgcHJvdmlkZWQgZm9yIHJlQ0FQVENIQSBhcyBvbmUgaXMgYXV0b21hdGljYWxseSBwcm92aXNpb25lZCBmb3IgdGhlIGN1cnJlbnQgcHJvamVjdC5cIik7aWYodGhpcy5pPVwiaW52aXNpYmxlXCI9PT10aGlzLmFbTmxdLCFsLmRvY3VtZW50KXRocm93IG5ldyBUKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiLFwiUmVjYXB0Y2hhVmVyaWZpZXIgaXMgb25seSBzdXBwb3J0ZWQgaW4gYSBicm93c2VyIEhUVFAvSFRUUFMgZW52aXJvbm1lbnQgd2l0aCBET00gc3VwcG9ydC5cIik7aWYoIXRlKGUpfHwhdGhpcy5pJiZ0ZShlKS5oYXNDaGlsZE5vZGVzKCkpdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLFwicmVDQVBUQ0hBIGNvbnRhaW5lciBpcyBlaXRoZXIgbm90IGZvdW5kIG9yIGFscmVhZHkgY29udGFpbnMgaW5uZXIgZWxlbWVudHMhXCIpO3RoaXMucz1uZXcgRmEodCxvfHxudWxsLHJ8fG51bGwpLHRoaXMudT1pfHxmdW5jdGlvbigpe3JldHVybiBudWxsfTt2YXIgcz10aGlzO3RoaXMubD1bXTt2YXIgdT10aGlzLmFbQWxdO3RoaXMuYVtBbF09ZnVuY3Rpb24odCl7dmFyIGU7X2wocyx0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB1P3UodCk6XCJzdHJpbmdcIiE9dHlwZW9mIHV8fFwiZnVuY3Rpb25cIj09dHlwZW9mKGU9YmkodSxsKSkmJmUodCl9O3ZhciBjPXRoaXMuYVtrbF07dGhpcy5hW2tsXT1mdW5jdGlvbigpe3ZhciB0O19sKHMsbnVsbCksXCJmdW5jdGlvblwiPT10eXBlb2YgYz9jKCk6XCJzdHJpbmdcIiE9dHlwZW9mIGN8fFwiZnVuY3Rpb25cIj09dHlwZW9mKHQ9YmkoYyxsKSkmJnQoKX19dmFyIEFsPVwiY2FsbGJhY2tcIixrbD1cImV4cGlyZWQtY2FsbGJhY2tcIixTbD1cInNpdGVrZXlcIixObD1cInNpemVcIjtmdW5jdGlvbiBfbCh0LGUpe2Zvcih2YXIgbj0wO248dC5sLmxlbmd0aDtuKyspdHJ5e3QubFtuXShlKX1jYXRjaCh0KXt9fWZ1bmN0aW9uIE9sKHQsZSl7cmV0dXJuIHQuaC5wdXNoKGUpLGUub2EoZnVuY3Rpb24oKXtHKHQuaCxlKX0pLGV9ZnVuY3Rpb24gQ2wodCl7aWYodC5EKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIixcIlJlY2FwdGNoYVZlcmlmaWVyIGluc3RhbmNlIGhhcyBiZWVuIGRlc3Ryb3llZC5cIil9ZnVuY3Rpb24gUmwodCxlLG4pe3ZhciBpPSExO3RyeXt0aGlzLmI9bnx8emwuZGVmYXVsdC5hcHAoKX1jYXRjaCh0KXt0aHJvdyBuZXcgVChcImFyZ3VtZW50LWVycm9yXCIsXCJObyBmaXJlYmFzZS5hcHAuQXBwIGluc3RhbmNlIGlzIGN1cnJlbnRseSBpbml0aWFsaXplZC5cIil9aWYoIXRoaXMuYi5vcHRpb25zfHwhdGhpcy5iLm9wdGlvbnMuYXBpS2V5KXRocm93IG5ldyBUKFwiaW52YWxpZC1hcGkta2V5XCIpO249dGhpcy5iLm9wdGlvbnMuYXBpS2V5O3ZhciByPXRoaXMsbz1udWxsO3RyeXtvPXRoaXMuYi5hdXRoKCkuR2EoKX1jYXRjaCh0KXt9dHJ5e2k9dGhpcy5iLmF1dGgoKS5zZXR0aW5ncy5hcHBWZXJpZmljYXRpb25EaXNhYmxlZEZvclRlc3Rpbmd9Y2F0Y2godCl7fW89emwuZGVmYXVsdC5TREtfVkVSU0lPTj9taSh6bC5kZWZhdWx0LlNES19WRVJTSU9OLG8pOm51bGwsRWwuY2FsbCh0aGlzLG4sdCxlLGZ1bmN0aW9uKCl7dHJ5e3ZhciBlPXIuYi5hdXRoKCkubGEoKX1jYXRjaCh0KXtlPW51bGx9cmV0dXJuIGV9LG8sXyhBKSxpKX1mdW5jdGlvbiBEbCh0LGUsbixpKXt0OntuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4pO2Zvcih2YXIgcj0wLG89ITEsYT0wO2E8ZS5sZW5ndGg7YSsrKWlmKGVbYV0ub3B0aW9uYWwpbz0hMDtlbHNle2lmKG8pdGhyb3cgbmV3IFQoXCJpbnRlcm5hbC1lcnJvclwiLFwiQXJndW1lbnQgdmFsaWRhdG9yIGVuY291bnRlcmVkIGEgcmVxdWlyZWQgYXJndW1lbnQgYWZ0ZXIgYW4gb3B0aW9uYWwgYXJndW1lbnQuXCIpO3IrK31pZihvPWUubGVuZ3RoLG4ubGVuZ3RoPHJ8fG88bi5sZW5ndGgpaT1cIkV4cGVjdGVkIFwiKyhyPT1vPzE9PXI/XCIxIGFyZ3VtZW50XCI6citcIiBhcmd1bWVudHNcIjpyK1wiLVwiK28rXCIgYXJndW1lbnRzXCIpK1wiIGJ1dCBnb3QgXCIrbi5sZW5ndGgrXCIuXCI7ZWxzZXtmb3Iocj0wO3I8bi5sZW5ndGg7cisrKWlmKG89ZVtyXS5vcHRpb25hbCYmdm9pZCAwPT09bltyXSwhZVtyXS5NKG5bcl0pJiYhbyl7aWYoZT1lW3JdLHI8MHx8cj49UGwubGVuZ3RoKXRocm93IG5ldyBUKFwiaW50ZXJuYWwtZXJyb3JcIixcIkFyZ3VtZW50IHZhbGlkYXRvciByZWNlaXZlZCBhbiB1bnN1cHBvcnRlZCBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtuPVBsW3JdLGk9KGk/XCJcIjpuK1wiIGFyZ3VtZW50IFwiKSsoZS5uYW1lPydcIicrZS5uYW1lKydcIiAnOlwiXCIpK1wibXVzdCBiZSBcIitlLksrXCIuXCI7YnJlYWsgdH1pPW51bGx9fWlmKGkpdGhyb3cgbmV3IFQoXCJhcmd1bWVudC1lcnJvclwiLHQrXCIgZmFpbGVkOiBcIitpKX0odD1FbC5wcm90b3R5cGUpLklhPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5mfHwodGhpcy5mPU9sKHRoaXMseWUoKS50aGVuKGZ1bmN0aW9uKCl7aWYoSWkoKSYmIWNpKCkpcmV0dXJuIGFpKCk7dGhyb3cgbmV3IFQoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIsXCJSZWNhcHRjaGFWZXJpZmllciBpcyBvbmx5IHN1cHBvcnRlZCBpbiBhIGJyb3dzZXIgSFRUUC9IVFRQUyBlbnZpcm9ubWVudC5cIil9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUubS5nKGUudSgpKX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuZz10LFhzKGUucyxDcyx7fSl9KS50aGVuKGZ1bmN0aW9uKHQpe2UuYVtTbF09dC5yZWNhcHRjaGFTaXRlS2V5fSkubyhmdW5jdGlvbih0KXt0aHJvdyBlLmY9bnVsbCx0fSkpKX0sdC5yZW5kZXI9ZnVuY3Rpb24oKXtDbCh0aGlzKTt2YXIgbj10aGlzO3JldHVybiBPbCh0aGlzLHRoaXMuSWEoKS50aGVuKGZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gbnVsbD09PW4uYyYmKGU9bi52LG4uaXx8KHQ9dGUoZSksZT1vZShcIkRJVlwiKSx0LmFwcGVuZENoaWxkKGUpKSxuLmM9bi5nLnJlbmRlcihlLG4uYSkpLG4uY30pKX0sdC52ZXJpZnk9ZnVuY3Rpb24oKXtDbCh0aGlzKTt2YXIgcj10aGlzO3JldHVybiBPbCh0aGlzLHRoaXMucmVuZGVyKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGZlKGZ1bmN0aW9uKG4pe3ZhciBpLHQ9ci5nLmdldFJlc3BvbnNlKGUpO3Q/bih0KTooaT1mdW5jdGlvbih0KXt2YXIgZTt0JiYoZT1pLEIoci5sLGZ1bmN0aW9uKHQpe3JldHVybiB0PT1lfSksbih0KSl9LHIubC5wdXNoKGkpLHIuaSYmci5nLmV4ZWN1dGUoci5jKSl9KX0pKX0sdC5yZXNldD1mdW5jdGlvbigpe0NsKHRoaXMpLG51bGwhPT10aGlzLmMmJnRoaXMuZy5yZXNldCh0aGlzLmMpfSx0LmNsZWFyPWZ1bmN0aW9uKCl7Q2wodGhpcyksdGhpcy5EPSEwLHRoaXMubS5jKCk7Zm9yKHZhciB0LGU9MDtlPHRoaXMuaC5sZW5ndGg7ZSsrKXRoaXMuaFtlXS5jYW5jZWwoXCJSZWNhcHRjaGFWZXJpZmllciBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWQuXCIpO2lmKCF0aGlzLmkpe2U9dGUodGhpcy52KTtmb3IoO3Q9ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKHQpfX0sdyhSbCxFbCk7dmFyIFBsPVwiRmlyc3QgU2Vjb25kIFRoaXJkIEZvdXJ0aCBGaWZ0aCBTaXh0aCBTZXZlbnRoIEVpZ2h0aCBOaW50aFwiLnNwbGl0KFwiIFwiKTtmdW5jdGlvbiBMbCh0LGUpe3JldHVybntuYW1lOnR8fFwiXCIsSzpcImEgdmFsaWQgc3RyaW5nXCIsb3B0aW9uYWw6ISFlLE06ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR9fX1mdW5jdGlvbiB4bCh0LGUpe3JldHVybntuYW1lOnR8fFwiXCIsSzpcImEgYm9vbGVhblwiLG9wdGlvbmFsOiEhZSxNOmZ1bmN0aW9uKHQpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdH19fWZ1bmN0aW9uIE1sKHQsZSl7cmV0dXJue25hbWU6dHx8XCJcIixLOlwiYSB2YWxpZCBvYmplY3RcIixvcHRpb25hbDohIWUsTTptfX1mdW5jdGlvbiBqbCh0LGUpe3JldHVybntuYW1lOnR8fFwiXCIsSzpcImEgZnVuY3Rpb25cIixvcHRpb25hbDohIWUsTTpmdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fX19ZnVuY3Rpb24gVWwodCxlKXtyZXR1cm57bmFtZTp0fHxcIlwiLEs6XCJudWxsXCIsb3B0aW9uYWw6ISFlLE06ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PT10fX19ZnVuY3Rpb24gVmwobil7cmV0dXJue25hbWU6bj9uK1wiQ3JlZGVudGlhbFwiOlwiY3JlZGVudGlhbFwiLEs6bj9cImEgdmFsaWQgXCIrbitcIiBjcmVkZW50aWFsXCI6XCJhIHZhbGlkIGNyZWRlbnRpYWxcIixvcHRpb25hbDohMSxNOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiExO3ZhciBlPSFufHx0LnByb3ZpZGVySWQ9PT1uO3JldHVybiEoIXQua2F8fCFlKX19fWZ1bmN0aW9uIEZsKCl7cmV0dXJue25hbWU6XCJtdWx0aUZhY3RvckFzc2VydGlvblwiLEs6XCJhIHZhbGlkIG11bHRpRmFjdG9yQXNzZXJ0aW9uXCIsb3B0aW9uYWw6ITEsTTpmdW5jdGlvbih0KXtyZXR1cm4hIXQmJiEhdC5zYn19fWZ1bmN0aW9uIHFsKCl7cmV0dXJue25hbWU6XCJhdXRoUHJvdmlkZXJcIixLOlwiYSB2YWxpZCBBdXRoIHByb3ZpZGVyXCIsb3B0aW9uYWw6ITEsTTpmdW5jdGlvbih0KXtyZXR1cm4hISh0JiZ0LnByb3ZpZGVySWQmJnQuaGFzT3duUHJvcGVydHkmJnQuaGFzT3duUHJvcGVydHkoXCJpc09BdXRoUHJvdmlkZXJcIikpfX19ZnVuY3Rpb24gSGwodCxlKXtyZXR1cm4gbSh0KSYmXCJzdHJpbmdcIj09dHlwZW9mIHQudHlwZSYmdC50eXBlPT09ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5IYX1mdW5jdGlvbiBLbCh0KXtyZXR1cm4gbSh0KSYmXCJzdHJpbmdcIj09dHlwZW9mIHQudWlkfWZ1bmN0aW9uIEdsKCl7cmV0dXJue25hbWU6XCJhcHBsaWNhdGlvblZlcmlmaWVyXCIsSzpcImFuIGltcGxlbWVudGF0aW9uIG9mIGZpcmViYXNlLmF1dGguQXBwbGljYXRpb25WZXJpZmllclwiLG9wdGlvbmFsOiExLE06ZnVuY3Rpb24odCl7cmV0dXJuISghdHx8XCJzdHJpbmdcIiE9dHlwZW9mIHQudHlwZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC52ZXJpZnkpfX19ZnVuY3Rpb24gQmwoZSxuLHQsaSl7cmV0dXJue25hbWU6dHx8XCJcIixLOmUuSytcIiBvciBcIituLkssb3B0aW9uYWw6ISFpLE06ZnVuY3Rpb24odCl7cmV0dXJuIGUuTSh0KXx8bi5NKHQpfX19ZnVuY3Rpb24gV2wodCxlKXtmb3IodmFyIG4gaW4gZSl7dmFyIGk9ZVtuXS5uYW1lO3RbaV09WWwoaSx0W25dLGVbbl0uail9fWZ1bmN0aW9uIFhsKHQsZSl7Zm9yKHZhciBuIGluIGUpe3ZhciBpPWVbbl0ubmFtZTtpIT09biYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSx7Z2V0OnkoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbdF19LG4pLHNldDp5KGZ1bmN0aW9uKHQsZSxuLGkpe0RsKHQsW25dLFtpXSwhMCksdGhpc1tlXT1pfSxpLG4sZVtuXS5rYiksZW51bWVyYWJsZTohMH0pfX1mdW5jdGlvbiBKbCh0LGUsbixpKXt0W2VdPVlsKGUsbixpKX1mdW5jdGlvbiBZbCh0LGUsbil7ZnVuY3Rpb24gaSgpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIERsKG8sbix0KSxlLmFwcGx5KHRoaXMsdCl9aWYoIW4pcmV0dXJuIGU7dmFyIHIsbz0odD0odD10KS5zcGxpdChcIi5cIikpW3QubGVuZ3RoLTFdO2ZvcihyIGluIGUpaVtyXT1lW3JdO2ZvcihyIGluIGUucHJvdG90eXBlKWkucHJvdG90eXBlW3JdPWUucHJvdG90eXBlW3JdO3JldHVybiBpfVdsKHpoLnByb3RvdHlwZSx7amI6e25hbWU6XCJhcHBseUFjdGlvbkNvZGVcIixqOltMbChcImNvZGVcIildfSxSYTp7bmFtZTpcImNoZWNrQWN0aW9uQ29kZVwiLGo6W0xsKFwiY29kZVwiKV19LG5iOntuYW1lOlwiY29uZmlybVBhc3N3b3JkUmVzZXRcIixqOltMbChcImNvZGVcIiksTGwoXCJuZXdQYXNzd29yZFwiKV19LGRjOntuYW1lOlwiY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkXCIsajpbTGwoXCJlbWFpbFwiKSxMbChcInBhc3N3b3JkXCIpXX0saGM6e25hbWU6XCJmZXRjaFNpZ25Jbk1ldGhvZHNGb3JFbWFpbFwiLGo6W0xsKFwiZW1haWxcIildfSxxYTp7bmFtZTpcImdldFJlZGlyZWN0UmVzdWx0XCIsajpbXX0sQmM6e25hbWU6XCJpc1NpZ25JbldpdGhFbWFpbExpbmtcIixqOltMbChcImVtYWlsTGlua1wiKV19LEhjOntuYW1lOlwib25BdXRoU3RhdGVDaGFuZ2VkXCIsajpbQmwoTWwoKSxqbCgpLFwibmV4dE9yT2JzZXJ2ZXJcIiksamwoXCJvcHRfZXJyb3JcIiwhMCksamwoXCJvcHRfY29tcGxldGVkXCIsITApXX0sSWM6e25hbWU6XCJvbklkVG9rZW5DaGFuZ2VkXCIsajpbQmwoTWwoKSxqbCgpLFwibmV4dE9yT2JzZXJ2ZXJcIiksamwoXCJvcHRfZXJyb3JcIiwhMCksamwoXCJvcHRfY29tcGxldGVkXCIsITApXX0sdmI6e25hbWU6XCJzZW5kUGFzc3dvcmRSZXNldEVtYWlsXCIsajpbTGwoXCJlbWFpbFwiKSxCbChNbChcIm9wdF9hY3Rpb25Db2RlU2V0dGluZ3NcIiwhMCksVWwobnVsbCwhMCksXCJvcHRfYWN0aW9uQ29kZVNldHRpbmdzXCIsITApXX0sd2I6e25hbWU6XCJzZW5kU2lnbkluTGlua1RvRW1haWxcIixqOltMbChcImVtYWlsXCIpLE1sKFwiYWN0aW9uQ29kZVNldHRpbmdzXCIpXX0seGI6e25hbWU6XCJzZXRQZXJzaXN0ZW5jZVwiLGo6W0xsKFwicGVyc2lzdGVuY2VcIildfSxTYzp7bmFtZTpcInNpZ25JbkFuZFJldHJpZXZlRGF0YVdpdGhDcmVkZW50aWFsXCIsajpbVmwoKV19LHpiOntuYW1lOlwic2lnbkluQW5vbnltb3VzbHlcIixqOltdfSwkYTp7bmFtZTpcInNpZ25JbldpdGhDcmVkZW50aWFsXCIsajpbVmwoKV19LFRjOntuYW1lOlwic2lnbkluV2l0aEN1c3RvbVRva2VuXCIsajpbTGwoXCJ0b2tlblwiKV19LFVjOntuYW1lOlwic2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmRcIixqOltMbChcImVtYWlsXCIpLExsKFwicGFzc3dvcmRcIildfSxWYzp7bmFtZTpcInNpZ25JbldpdGhFbWFpbExpbmtcIixqOltMbChcImVtYWlsXCIpLExsKFwiZW1haWxMaW5rXCIsITApXX0sV2M6e25hbWU6XCJzaWduSW5XaXRoUGhvbmVOdW1iZXJcIixqOltMbChcInBob25lTnVtYmVyXCIpLEdsKCldfSxYYzp7bmFtZTpcInNpZ25JbldpdGhQb3B1cFwiLGo6W3FsKCldfSxZYzp7bmFtZTpcInNpZ25JbldpdGhSZWRpcmVjdFwiLGo6W3FsKCldfSxkZDp7bmFtZTpcInVwZGF0ZUN1cnJlbnRVc2VyXCIsajpbQmwoe25hbWU6XCJ1c2VyXCIsSzpcImFuIGluc3RhbmNlIG9mIEZpcmViYXNlIFVzZXJcIixvcHRpb25hbDohMSxNOmZ1bmN0aW9uKHQpe3JldHVybiEhKHQmJnQgaW5zdGFuY2VvZiBoaCl9fSxVbCgpLFwidXNlclwiKV19LEFiOntuYW1lOlwic2lnbk91dFwiLGo6W119LHRvSlNPTjp7bmFtZTpcInRvSlNPTlwiLGo6W0xsKG51bGwsITApXX0sZmQ6e25hbWU6XCJ1c2VEZXZpY2VMYW5ndWFnZVwiLGo6W119LGdkOntuYW1lOlwidXNlRW11bGF0b3JcIixqOltMbChcInVybFwiKSxNbChcIm9wdGlvbnNcIiwhMCldfSxqZDp7bmFtZTpcInZlcmlmeVBhc3N3b3JkUmVzZXRDb2RlXCIsajpbTGwoXCJjb2RlXCIpXX19KSxYbCh6aC5wcm90b3R5cGUse2xjOntuYW1lOlwibGFuZ3VhZ2VDb2RlXCIsa2I6QmwoTGwoKSxVbCgpLFwibGFuZ3VhZ2VDb2RlXCIpfSx0aTp7bmFtZTpcInRlbmFudElkXCIsa2I6QmwoTGwoKSxVbCgpLFwidGVuYW50SWRcIil9fSksKHpoLlBlcnNpc3RlbmNlPUt1KS5MT0NBTD1cImxvY2FsXCIsemguUGVyc2lzdGVuY2UuU0VTU0lPTj1cInNlc3Npb25cIix6aC5QZXJzaXN0ZW5jZS5OT05FPVwibm9uZVwiLFdsKGhoLnByb3RvdHlwZSx7ZGVsZXRlOntuYW1lOlwiZGVsZXRlXCIsajpbXX0sb2M6e25hbWU6XCJnZXRJZFRva2VuUmVzdWx0XCIsajpbeGwoXCJvcHRfZm9yY2VSZWZyZXNoXCIsITApXX0sSTp7bmFtZTpcImdldElkVG9rZW5cIixqOlt4bChcIm9wdF9mb3JjZVJlZnJlc2hcIiwhMCldfSxDYzp7bmFtZTpcImxpbmtBbmRSZXRyaWV2ZURhdGFXaXRoQ3JlZGVudGlhbFwiLGo6W1ZsKCldfSxxYjp7bmFtZTpcImxpbmtXaXRoQ3JlZGVudGlhbFwiLGo6W1ZsKCldfSxEYzp7bmFtZTpcImxpbmtXaXRoUGhvbmVOdW1iZXJcIixqOltMbChcInBob25lTnVtYmVyXCIpLEdsKCldfSxFYzp7bmFtZTpcImxpbmtXaXRoUG9wdXBcIixqOltxbCgpXX0sRmM6e25hbWU6XCJsaW5rV2l0aFJlZGlyZWN0XCIsajpbcWwoKV19LExjOntuYW1lOlwicmVhdXRoZW50aWNhdGVBbmRSZXRyaWV2ZURhdGFXaXRoQ3JlZGVudGlhbFwiLGo6W1ZsKCldfSx0Yjp7bmFtZTpcInJlYXV0aGVudGljYXRlV2l0aENyZWRlbnRpYWxcIixqOltWbCgpXX0sTWM6e25hbWU6XCJyZWF1dGhlbnRpY2F0ZVdpdGhQaG9uZU51bWJlclwiLGo6W0xsKFwicGhvbmVOdW1iZXJcIiksR2woKV19LE5jOntuYW1lOlwicmVhdXRoZW50aWNhdGVXaXRoUG9wdXBcIixqOltxbCgpXX0sT2M6e25hbWU6XCJyZWF1dGhlbnRpY2F0ZVdpdGhSZWRpcmVjdFwiLGo6W3FsKCldfSxyZWxvYWQ6e25hbWU6XCJyZWxvYWRcIixqOltdfSx1Yjp7bmFtZTpcInNlbmRFbWFpbFZlcmlmaWNhdGlvblwiLGo6W0JsKE1sKFwib3B0X2FjdGlvbkNvZGVTZXR0aW5nc1wiLCEwKSxVbChudWxsLCEwKSxcIm9wdF9hY3Rpb25Db2RlU2V0dGluZ3NcIiwhMCldfSx0b0pTT046e25hbWU6XCJ0b0pTT05cIixqOltMbChudWxsLCEwKV19LGNkOntuYW1lOlwidW5saW5rXCIsajpbTGwoXCJwcm92aWRlclwiKV19LEJiOntuYW1lOlwidXBkYXRlRW1haWxcIixqOltMbChcImVtYWlsXCIpXX0sQ2I6e25hbWU6XCJ1cGRhdGVQYXNzd29yZFwiLGo6W0xsKFwicGFzc3dvcmRcIildfSxlZDp7bmFtZTpcInVwZGF0ZVBob25lTnVtYmVyXCIsajpbVmwoXCJwaG9uZVwiKV19LERiOntuYW1lOlwidXBkYXRlUHJvZmlsZVwiLGo6W01sKFwicHJvZmlsZVwiKV19LEViOntuYW1lOlwidmVyaWZ5QmVmb3JlVXBkYXRlRW1haWxcIixqOltMbChcImVtYWlsXCIpLEJsKE1sKFwib3B0X2FjdGlvbkNvZGVTZXR0aW5nc1wiLCEwKSxVbChudWxsLCEwKSxcIm9wdF9hY3Rpb25Db2RlU2V0dGluZ3NcIiwhMCldfX0pLFdsKGhsLnByb3RvdHlwZSx7ZXhlY3V0ZTp7bmFtZTpcImV4ZWN1dGVcIn0scmVuZGVyOntuYW1lOlwicmVuZGVyXCJ9LHJlc2V0OntuYW1lOlwicmVzZXRcIn0sZ2V0UmVzcG9uc2U6e25hbWU6XCJnZXRSZXNwb25zZVwifX0pLFdsKGNsLnByb3RvdHlwZSx7ZXhlY3V0ZTp7bmFtZTpcImV4ZWN1dGVcIn0scmVuZGVyOntuYW1lOlwicmVuZGVyXCJ9LHJlc2V0OntuYW1lOlwicmVzZXRcIn0sZ2V0UmVzcG9uc2U6e25hbWU6XCJnZXRSZXNwb25zZVwifX0pLFdsKGZlLnByb3RvdHlwZSx7b2E6e25hbWU6XCJmaW5hbGx5XCJ9LG86e25hbWU6XCJjYXRjaFwifSx0aGVuOntuYW1lOlwidGhlblwifX0pLFhsKHFjLnByb3RvdHlwZSx7YXBwVmVyaWZpY2F0aW9uRGlzYWJsZWQ6e25hbWU6XCJhcHBWZXJpZmljYXRpb25EaXNhYmxlZEZvclRlc3RpbmdcIixrYjp4bChcImFwcFZlcmlmaWNhdGlvbkRpc2FibGVkRm9yVGVzdGluZ1wiKX19KSxXbChIYy5wcm90b3R5cGUse2NvbmZpcm06e25hbWU6XCJjb25maXJtXCIsajpbTGwoXCJ2ZXJpZmljYXRpb25Db2RlXCIpXX19KSxKbChacixcImZyb21KU09OXCIsZnVuY3Rpb24odCl7dD1cInN0cmluZ1wiPT10eXBlb2YgdD9KU09OLnBhcnNlKHQpOnQ7Zm9yKHZhciBlLG49W29vLHlvLEFvLG5vXSxpPTA7aTxuLmxlbmd0aDtpKyspaWYoZT1uW2ldKHQpKXJldHVybiBlO3JldHVybiBudWxsfSxbQmwoTGwoKSxNbCgpLFwianNvblwiKV0pLEpsKHdvLFwiY3JlZGVudGlhbFwiLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBibyh0LGUpfSxbTGwoXCJlbWFpbFwiKSxMbChcInBhc3N3b3JkXCIpXSksV2woYm8ucHJvdG90eXBlLHt3OntuYW1lOlwidG9KU09OXCIsajpbTGwobnVsbCwhMCldfX0pLFdsKGNvLnByb3RvdHlwZSx7Q2E6e25hbWU6XCJhZGRTY29wZVwiLGo6W0xsKFwic2NvcGVcIildfSxLYTp7bmFtZTpcInNldEN1c3RvbVBhcmFtZXRlcnNcIixqOltNbChcImN1c3RvbU9BdXRoUGFyYW1ldGVyc1wiKV19fSksSmwoY28sXCJjcmVkZW50aWFsXCIsaG8sW0JsKExsKCksTWwoKSxcInRva2VuXCIpXSksSmwod28sXCJjcmVkZW50aWFsV2l0aExpbmtcIixJbyxbTGwoXCJlbWFpbFwiKSxMbChcImVtYWlsTGlua1wiKV0pLFdsKGxvLnByb3RvdHlwZSx7Q2E6e25hbWU6XCJhZGRTY29wZVwiLGo6W0xsKFwic2NvcGVcIildfSxLYTp7bmFtZTpcInNldEN1c3RvbVBhcmFtZXRlcnNcIixqOltNbChcImN1c3RvbU9BdXRoUGFyYW1ldGVyc1wiKV19fSksSmwobG8sXCJjcmVkZW50aWFsXCIsZm8sW0JsKExsKCksTWwoKSxcInRva2VuXCIpXSksV2wocG8ucHJvdG90eXBlLHtDYTp7bmFtZTpcImFkZFNjb3BlXCIsajpbTGwoXCJzY29wZVwiKV19LEthOntuYW1lOlwic2V0Q3VzdG9tUGFyYW1ldGVyc1wiLGo6W01sKFwiY3VzdG9tT0F1dGhQYXJhbWV0ZXJzXCIpXX19KSxKbChwbyxcImNyZWRlbnRpYWxcIix2byxbQmwoTGwoKSxCbChNbCgpLFVsKCkpLFwiaWRUb2tlblwiKSxCbChMbCgpLFVsKCksXCJhY2Nlc3NUb2tlblwiLCEwKV0pLFdsKG1vLnByb3RvdHlwZSx7S2E6e25hbWU6XCJzZXRDdXN0b21QYXJhbWV0ZXJzXCIsajpbTWwoXCJjdXN0b21PQXV0aFBhcmFtZXRlcnNcIildfX0pLEpsKG1vLFwiY3JlZGVudGlhbFwiLGdvLFtCbChMbCgpLE1sKCksXCJ0b2tlblwiKSxMbChcInNlY3JldFwiLCEwKV0pLFdsKHVvLnByb3RvdHlwZSx7Q2E6e25hbWU6XCJhZGRTY29wZVwiLGo6W0xsKFwic2NvcGVcIildfSxjcmVkZW50aWFsOntuYW1lOlwiY3JlZGVudGlhbFwiLGo6W0JsKExsKCksQmwoTWwoKSxVbCgpKSxcIm9wdGlvbnNPcklkVG9rZW5cIiksQmwoTGwoKSxVbCgpLFwiYWNjZXNzVG9rZW5cIiwhMCldfSxLYTp7bmFtZTpcInNldEN1c3RvbVBhcmFtZXRlcnNcIixqOltNbChcImN1c3RvbU9BdXRoUGFyYW1ldGVyc1wiKV19fSksV2woaW8ucHJvdG90eXBlLHt3OntuYW1lOlwidG9KU09OXCIsajpbTGwobnVsbCwhMCldfX0pLFdsKHRvLnByb3RvdHlwZSx7dzp7bmFtZTpcInRvSlNPTlwiLGo6W0xsKG51bGwsITApXX19KSxKbChTbyxcImNyZWRlbnRpYWxcIixObyxbTGwoXCJ2ZXJpZmljYXRpb25JZFwiKSxMbChcInZlcmlmaWNhdGlvbkNvZGVcIildKSxXbChTby5wcm90b3R5cGUse2ZiOntuYW1lOlwidmVyaWZ5UGhvbmVOdW1iZXJcIixqOltCbChMbCgpLHtuYW1lOlwicGhvbmVJbmZvT3B0aW9uc1wiLEs6XCJ2YWxpZCBwaG9uZSBpbmZvIG9wdGlvbnNcIixvcHRpb25hbDohMSxNOmZ1bmN0aW9uKHQpe3JldHVybiEhdCYmKHQuc2Vzc2lvbiYmdC5waG9uZU51bWJlcj9IbCh0LnNlc3Npb24senIpJiZcInN0cmluZ1wiPT10eXBlb2YgdC5waG9uZU51bWJlcjp0LnNlc3Npb24mJnQubXVsdGlGYWN0b3JIaW50P0hsKHQuc2Vzc2lvbiwkcikmJktsKHQubXVsdGlGYWN0b3JIaW50KTp0LnNlc3Npb24mJnQubXVsdGlGYWN0b3JVaWQ/SGwodC5zZXNzaW9uLCRyKSYmXCJzdHJpbmdcIj09dHlwZW9mIHQubXVsdGlGYWN0b3JVaWQ6ISF0LnBob25lTnVtYmVyJiZcInN0cmluZ1wiPT10eXBlb2YgdC5waG9uZU51bWJlcil9fSxcInBob25lSW5mb09wdGlvbnNcIiksR2woKV19fSksV2woRW8ucHJvdG90eXBlLHt3OntuYW1lOlwidG9KU09OXCIsajpbTGwobnVsbCwhMCldfX0pLFdsKFQucHJvdG90eXBlLHt0b0pTT046e25hbWU6XCJ0b0pTT05cIixqOltMbChudWxsLCEwKV19fSksV2woTW8ucHJvdG90eXBlLHt0b0pTT046e25hbWU6XCJ0b0pTT05cIixqOltMbChudWxsLCEwKV19fSksV2woeG8ucHJvdG90eXBlLHt0b0pTT046e25hbWU6XCJ0b0pTT05cIixqOltMbChudWxsLCEwKV19fSksV2woSmMucHJvdG90eXBlLHt0b0pTT046e25hbWU6XCJ0b0pTT05cIixqOltMbChudWxsLCEwKV19fSksV2woQmMucHJvdG90eXBlLHtSYzp7bmFtZTpcInJlc29sdmVTaWduSW5cIixqOltGbCgpXX19KSxXbCh0aC5wcm90b3R5cGUse1JiOntuYW1lOlwiZ2V0U2Vzc2lvblwiLGo6W119LGZjOntuYW1lOlwiZW5yb2xsXCIsajpbRmwoKSxMbChcImRpc3BsYXlOYW1lXCIsITApXX0sYmQ6e25hbWU6XCJ1bmVucm9sbFwiLGo6W0JsKHtuYW1lOlwibXVsdGlGYWN0b3JJbmZvXCIsSzpcImEgdmFsaWQgbXVsdGlGYWN0b3JJbmZvXCIsb3B0aW9uYWw6ITEsTTpLbH0sTGwoKSxcIm11bHRpRmFjdG9ySW5mb0lkZW50aWZpZXJcIildfX0pLFdsKFJsLnByb3RvdHlwZSx7Y2xlYXI6e25hbWU6XCJjbGVhclwiLGo6W119LHJlbmRlcjp7bmFtZTpcInJlbmRlclwiLGo6W119LHZlcmlmeTp7bmFtZTpcInZlcmlmeVwiLGo6W119fSksSmwoaHIsXCJwYXJzZUxpbmtcIixicixbTGwoXCJsaW5rXCIpXSksSmwobWwsXCJhc3NlcnRpb25cIixmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFpjKHQpfSxbVmwoXCJwaG9uZVwiKV0pLGZ1bmN0aW9uKCl7aWYodm9pZCAwPT09emwuZGVmYXVsdHx8IXpsLmRlZmF1bHQuSU5URVJOQUx8fCF6bC5kZWZhdWx0LklOVEVSTkFMLnJlZ2lzdGVyQ29tcG9uZW50KXRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgdGhlIGZpcmViYXNlIG5hbWVzcGFjZTsgYmUgc3VyZSB0byBpbmNsdWRlIGZpcmViYXNlLWFwcC5qcyBiZWZvcmUgdGhpcyBsaWJyYXJ5LlwiKTt2YXIgdD17QWN0aW9uQ29kZUluZm86e09wZXJhdGlvbjp7RU1BSUxfU0lHTklOOlppLFBBU1NXT1JEX1JFU0VUOlwiUEFTU1dPUkRfUkVTRVRcIixSRUNPVkVSX0VNQUlMOlwiUkVDT1ZFUl9FTUFJTFwiLFJFVkVSVF9TRUNPTkRfRkFDVE9SX0FERElUSU9OOiRpLFZFUklGWV9BTkRfQ0hBTkdFX0VNQUlMOlFpLFZFUklGWV9FTUFJTDpcIlZFUklGWV9FTUFJTFwifX0sQXV0aDp6aCxBdXRoQ3JlZGVudGlhbDpacixFcnJvcjpUfTtKbCh0LFwiRW1haWxBdXRoUHJvdmlkZXJcIix3byxbXSksSmwodCxcIkZhY2Vib29rQXV0aFByb3ZpZGVyXCIsY28sW10pLEpsKHQsXCJHaXRodWJBdXRoUHJvdmlkZXJcIixsbyxbXSksSmwodCxcIkdvb2dsZUF1dGhQcm92aWRlclwiLHBvLFtdKSxKbCh0LFwiVHdpdHRlckF1dGhQcm92aWRlclwiLG1vLFtdKSxKbCh0LFwiT0F1dGhQcm92aWRlclwiLHVvLFtMbChcInByb3ZpZGVySWRcIildKSxKbCh0LFwiU0FNTEF1dGhQcm92aWRlclwiLHNvLFtMbChcInByb3ZpZGVySWRcIildKSxKbCh0LFwiUGhvbmVBdXRoUHJvdmlkZXJcIixTbyxbe25hbWU6XCJhdXRoXCIsSzpcImFuIGluc3RhbmNlIG9mIEZpcmViYXNlIEF1dGhcIixvcHRpb25hbDohMCxNOmZ1bmN0aW9uKHQpe3JldHVybiEhKHQmJnQgaW5zdGFuY2VvZiB6aCl9fV0pLEpsKHQsXCJSZWNhcHRjaGFWZXJpZmllclwiLFJsLFtCbChMbCgpLHtuYW1lOlwiXCIsSzpcImFuIEhUTUwgZWxlbWVudFwiLG9wdGlvbmFsOiExLE06ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmdCBpbnN0YW5jZW9mIEVsZW1lbnQpfX0sXCJyZWNhcHRjaGFDb250YWluZXJcIiksTWwoXCJyZWNhcHRjaGFQYXJhbWV0ZXJzXCIsITApLHtuYW1lOlwiYXBwXCIsSzpcImFuIGluc3RhbmNlIG9mIEZpcmViYXNlIEFwcFwiLG9wdGlvbmFsOiEwLE06ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmdCBpbnN0YW5jZW9mIHpsLmRlZmF1bHQuYXBwLkFwcCl9fV0pLEpsKHQsXCJBY3Rpb25Db2RlVVJMXCIsaHIsW10pLEpsKHQsXCJQaG9uZU11bHRpRmFjdG9yR2VuZXJhdG9yXCIsbWwsW10pLHpsLmRlZmF1bHQuSU5URVJOQUwucmVnaXN0ZXJDb21wb25lbnQoe25hbWU6XCJhdXRoXCIsaW5zdGFuY2VGYWN0b3J5OmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgemgodD10LmdldFByb3ZpZGVyKFwiYXBwXCIpLmdldEltbWVkaWF0ZSgpKX0sbXVsdGlwbGVJbnN0YW5jZXM6ITEsc2VydmljZVByb3BzOnQsaW5zdGFudGlhdGlvbk1vZGU6XCJMQVpZXCIsdHlwZTpcIlBVQkxJQ1wifSksemwuZGVmYXVsdC5JTlRFUk5BTC5yZWdpc3RlckNvbXBvbmVudCh7bmFtZTpcImF1dGgtaW50ZXJuYWxcIixpbnN0YW5jZUZhY3Rvcnk6ZnVuY3Rpb24odCl7cmV0dXJue2dldFVpZDpiKCh0PXQuZ2V0UHJvdmlkZXIoXCJhdXRoXCIpLmdldEltbWVkaWF0ZSgpKS5nZXRVaWQsdCksZ2V0VG9rZW46Yih0Lm5jLHQpLGFkZEF1dGhUb2tlbkxpc3RlbmVyOmIodC5jYyx0KSxyZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcjpiKHQuUGMsdCl9fSxtdWx0aXBsZUluc3RhbmNlczohMSxpbnN0YW50aWF0aW9uTW9kZTpcIkxBWllcIix0eXBlOlwiUFJJVkFURVwifSksemwuZGVmYXVsdC5yZWdpc3RlclZlcnNpb24oXCJAZmlyZWJhc2UvYXV0aFwiLFwiMC4xNi41XCIpLHpsLmRlZmF1bHQuSU5URVJOQUwuZXh0ZW5kTmFtZXNwYWNlKHtVc2VyOmhofSl9KCl9LmFwcGx5KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2godCl7dGhyb3cgY29uc29sZS5lcnJvcih0KSxuZXcgRXJyb3IoXCJDYW5ub3QgaW5zdGFudGlhdGUgZmlyZWJhc2UtYXV0aC5qcyAtIGJlIHN1cmUgdG8gbG9hZCBmaXJlYmFzZS1hcHAuanMgZmlyc3QuXCIpfX0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlyZWJhc2UtYXV0aC5qcy5tYXBcbiIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP2UocmVxdWlyZShcIkBmaXJlYmFzZS9hcHBcIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiQGZpcmViYXNlL2FwcFwiXSxlKTplKCh0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikuZmlyZWJhc2UpfSh0aGlzLGZ1bmN0aW9uKG9tKXtcInVzZSBzdHJpY3RcIjt0cnl7IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJlwiZGVmYXVsdFwiaW4gdD90OntkZWZhdWx0OnR9fXZhciBlPXQob20pLHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfTtmdW5jdGlvbiBuKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKGUpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1yKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfWZ1bmN0aW9uIHkodCxzLGEsdSl7cmV0dXJuIG5ldyhhPWF8fFByb21pc2UpKGZ1bmN0aW9uKG4sZSl7ZnVuY3Rpb24gcih0KXt0cnl7byh1Lm5leHQodCkpfWNhdGNoKHQpe2UodCl9fWZ1bmN0aW9uIGkodCl7dHJ5e28odS50aHJvdyh0KSl9Y2F0Y2godCl7ZSh0KX19ZnVuY3Rpb24gbyh0KXt2YXIgZTt0LmRvbmU/bih0LnZhbHVlKTooKGU9dC52YWx1ZSlpbnN0YW5jZW9mIGE/ZTpuZXcgYShmdW5jdGlvbih0KXt0KGUpfSkpLnRoZW4ocixpKX1vKCh1PXUuYXBwbHkodCxzfHxbXSkpLm5leHQoKSl9KX1mdW5jdGlvbiBnKG4scil7dmFyIGksbyxzLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmc1swXSl0aHJvdyBzWzFdO3JldHVybiBzWzFdfSx0cnlzOltdLG9wczpbXX0sdD17bmV4dDplKDApLHRocm93OmUoMSkscmV0dXJuOmUoMil9O3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKHRbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksdDtmdW5jdGlvbiBlKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoaSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO2E7KXRyeXtpZihpPTEsbyYmKHM9MiZlWzBdP28ucmV0dXJuOmVbMF0/by50aHJvd3x8KChzPW8ucmV0dXJuKSYmcy5jYWxsKG8pLDApOm8ubmV4dCkmJiEocz1zLmNhbGwobyxlWzFdKSkuZG9uZSlyZXR1cm4gcztzd2l0Y2gobz0wLChlPXM/WzImZVswXSxzLnZhbHVlXTplKVswXSl7Y2FzZSAwOmNhc2UgMTpzPWU7YnJlYWs7Y2FzZSA0OnJldHVybiBhLmxhYmVsKysse3ZhbHVlOmVbMV0sZG9uZTohMX07Y2FzZSA1OmEubGFiZWwrKyxvPWVbMV0sZT1bMF07Y29udGludWU7Y2FzZSA3OmU9YS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShzPTA8KHM9YS50cnlzKS5sZW5ndGgmJnNbcy5sZW5ndGgtMV0pJiYoNj09PWVbMF18fDI9PT1lWzBdKSl7YT0wO2NvbnRpbnVlfWlmKDM9PT1lWzBdJiYoIXN8fGVbMV0+c1swXSYmZVsxXTxzWzNdKSl7YS5sYWJlbD1lWzFdO2JyZWFrfWlmKDY9PT1lWzBdJiZhLmxhYmVsPHNbMV0pe2EubGFiZWw9c1sxXSxzPWU7YnJlYWt9aWYocyYmYS5sYWJlbDxzWzJdKXthLmxhYmVsPXNbMl0sYS5vcHMucHVzaChlKTticmVha31zWzJdJiZhLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWV9ZT1yLmNhbGwobixhKX1jYXRjaCh0KXtlPVs2LHRdLG89MH1maW5hbGx5e2k9cz0wfWlmKDUmZVswXSl0aHJvdyBlWzFdO3JldHVybnt2YWx1ZTplWzBdP2VbMV06dm9pZCAwLGRvbmU6ITB9fShbZSx0XSl9fX1mdW5jdGlvbiBzKHQsZSl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aCxpPXQubGVuZ3RoO248cjtuKyssaSsrKXRbaV09ZVtuXTtyZXR1cm4gdH1mdW5jdGlvbiBoKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmXCJzdHJpbmdcIj09dHlwZW9mIG5hdmlnYXRvci51c2VyQWdlbnQ/bmF2aWdhdG9yLnVzZXJBZ2VudDpcIlwifXZhciBpLG89XCJGaXJlYmFzZUVycm9yXCIsYT0obih1LGk9RXJyb3IpLHUpO2Z1bmN0aW9uIHUodCxlLG4pe2U9aS5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIGUuY29kZT10LGUuY3VzdG9tRGF0YT1uLGUubmFtZT1vLE9iamVjdC5zZXRQcm90b3R5cGVPZihlLHUucHJvdG90eXBlKSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZSxjLnByb3RvdHlwZS5jcmVhdGUpLGV9dmFyIGM9KGwucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTt2YXIgcixpPWVbMF18fHt9LG89dGhpcy5zZXJ2aWNlK1wiL1wiK3QsdD10aGlzLmVycm9yc1t0XSx0PXQ/KHI9aSx0LnJlcGxhY2UoZCxmdW5jdGlvbih0LGUpe3ZhciBuPXJbZV07cmV0dXJuIG51bGwhPW4/U3RyaW5nKG4pOlwiPFwiK2UrXCI/PlwifSkpOlwiRXJyb3JcIix0PXRoaXMuc2VydmljZU5hbWUrXCI6IFwiK3QrXCIgKFwiK28rXCIpLlwiO3JldHVybiBuZXcgYShvLHQsaSl9LGwpO2Z1bmN0aW9uIGwodCxlLG4pe3RoaXMuc2VydmljZT10LHRoaXMuc2VydmljZU5hbWU9ZSx0aGlzLmVycm9ycz1ufXZhciBmLGQ9L1xce1xcJChbXn1dKyl9L2c7ZnVuY3Rpb24gbSh0KXtyZXR1cm4gdCYmdC5fZGVsZWdhdGU/dC5fZGVsZWdhdGU6dH0oRWU9Zj1mfHx7fSlbRWUuREVCVUc9MF09XCJERUJVR1wiLEVlW0VlLlZFUkJPU0U9MV09XCJWRVJCT1NFXCIsRWVbRWUuSU5GTz0yXT1cIklORk9cIixFZVtFZS5XQVJOPTNdPVwiV0FSTlwiLEVlW0VlLkVSUk9SPTRdPVwiRVJST1JcIixFZVtFZS5TSUxFTlQ9NV09XCJTSUxFTlRcIjtmdW5jdGlvbiBwKHQsZSl7Zm9yKHZhciBuPVtdLHI9MjtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bci0yXT1hcmd1bWVudHNbcl07aWYoIShlPHQubG9nTGV2ZWwpKXt2YXIgaT0obmV3IERhdGUpLnRvSVNPU3RyaW5nKCksbz13W2VdO2lmKCFvKXRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byBsb2cgYSBtZXNzYWdlIHdpdGggYW4gaW52YWxpZCBsb2dUeXBlICh2YWx1ZTogXCIrZStcIilcIik7Y29uc29sZVtvXS5hcHBseShjb25zb2xlLHMoW1wiW1wiK2krXCJdICBcIit0Lm5hbWUrXCI6XCJdLG4pKX19dmFyIHY9e2RlYnVnOmYuREVCVUcsdmVyYm9zZTpmLlZFUkJPU0UsaW5mbzpmLklORk8sd2FybjpmLldBUk4sZXJyb3I6Zi5FUlJPUixzaWxlbnQ6Zi5TSUxFTlR9LGI9Zi5JTkZPLHc9KChUZT17fSlbZi5ERUJVR109XCJsb2dcIixUZVtmLlZFUkJPU0VdPVwibG9nXCIsVGVbZi5JTkZPXT1cImluZm9cIixUZVtmLldBUk5dPVwid2FyblwiLFRlW2YuRVJST1JdPVwiZXJyb3JcIixUZSksST0oT2JqZWN0LmRlZmluZVByb3BlcnR5KEUucHJvdG90eXBlLFwibG9nTGV2ZWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvZ0xldmVsfSxzZXQ6ZnVuY3Rpb24odCl7aWYoISh0IGluIGYpKXRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgdmFsdWUgXCInK3QrJ1wiIGFzc2lnbmVkIHRvIGBsb2dMZXZlbGAnKTt0aGlzLl9sb2dMZXZlbD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLEUucHJvdG90eXBlLnNldExvZ0xldmVsPWZ1bmN0aW9uKHQpe3RoaXMuX2xvZ0xldmVsPVwic3RyaW5nXCI9PXR5cGVvZiB0P3ZbdF06dH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KEUucHJvdG90eXBlLFwibG9nSGFuZGxlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9nSGFuZGxlcn0sc2V0OmZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlZhbHVlIGFzc2lnbmVkIHRvIGBsb2dIYW5kbGVyYCBtdXN0IGJlIGEgZnVuY3Rpb25cIik7dGhpcy5fbG9nSGFuZGxlcj10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFLnByb3RvdHlwZSxcInVzZXJMb2dIYW5kbGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VyTG9nSGFuZGxlcn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3VzZXJMb2dIYW5kbGVyPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksRS5wcm90b3R5cGUuZGVidWc9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fdXNlckxvZ0hhbmRsZXImJnRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMscyhbdGhpcyxmLkRFQlVHXSx0KSksdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLHMoW3RoaXMsZi5ERUJVR10sdCkpfSxFLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fdXNlckxvZ0hhbmRsZXImJnRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMscyhbdGhpcyxmLlZFUkJPU0VdLHQpKSx0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMscyhbdGhpcyxmLlZFUkJPU0VdLHQpKX0sRS5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0aGlzLl91c2VyTG9nSGFuZGxlciYmdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcyxzKFt0aGlzLGYuSU5GT10sdCkpLHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcyxzKFt0aGlzLGYuSU5GT10sdCkpfSxFLnByb3RvdHlwZS53YXJuPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX3VzZXJMb2dIYW5kbGVyJiZ0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLHMoW3RoaXMsZi5XQVJOXSx0KSksdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLHMoW3RoaXMsZi5XQVJOXSx0KSl9LEUucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX3VzZXJMb2dIYW5kbGVyJiZ0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLHMoW3RoaXMsZi5FUlJPUl0sdCkpLHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcyxzKFt0aGlzLGYuRVJST1JdLHQpKX0sRSk7ZnVuY3Rpb24gRSh0KXt0aGlzLm5hbWU9dCx0aGlzLl9sb2dMZXZlbD1iLHRoaXMuX2xvZ0hhbmRsZXI9cCx0aGlzLl91c2VyTG9nSGFuZGxlcj1udWxsfXZhciBUPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKFQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pfSkodCxlKX07ZnVuY3Rpb24gXyh0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixuPWUmJnRbZV0scj0wO2lmKG4pcmV0dXJuIG4uY2FsbCh0KTtpZih0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57dmFsdWU6KHQ9dCYmcj49dC5sZW5ndGg/dm9pZCAwOnQpJiZ0W3IrK10sZG9uZTohdH19fTt0aHJvdyBuZXcgVHlwZUVycm9yKGU/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX12YXIgUyxOPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fSxEPXt9LEE9Tnx8c2VsZjtmdW5jdGlvbiBrKCl7fWZ1bmN0aW9uIEModCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuXCJhcnJheVwiPT0oZT1cIm9iamVjdFwiIT1lP2U6dD9BcnJheS5pc0FycmF5KHQpP1wiYXJyYXlcIjplOlwibnVsbFwiKXx8XCJvYmplY3RcIj09ZSYmXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RofWZ1bmN0aW9uIFIodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuXCJvYmplY3RcIj09ZSYmbnVsbCE9dHx8XCJmdW5jdGlvblwiPT1lfXZhciB4PVwiY2xvc3VyZV91aWRfXCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCksTz0wO2Z1bmN0aW9uIEwodCxlLG4pe3JldHVybiB0LmNhbGwuYXBwbHkodC5iaW5kLGFyZ3VtZW50cyl9ZnVuY3Rpb24gUChlLG4sdCl7aWYoIWUpdGhyb3cgRXJyb3IoKTtpZigyPGFyZ3VtZW50cy5sZW5ndGgpe3ZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseSh0LHIpLGUuYXBwbHkobix0KX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkobixhcmd1bWVudHMpfX1mdW5jdGlvbiBNKHQsZSxuKXtyZXR1cm4oTT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP0w6UCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIEYoZSl7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciB0PW4uc2xpY2UoKTtyZXR1cm4gdC5wdXNoLmFwcGx5KHQsYXJndW1lbnRzKSxlLmFwcGx5KHRoaXMsdCl9fWZ1bmN0aW9uIFYoKXtyZXR1cm4gRGF0ZS5ub3coKX1mdW5jdGlvbiBVKHQsbyl7ZnVuY3Rpb24gZSgpe31lLnByb3RvdHlwZT1vLnByb3RvdHlwZSx0Llg9by5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IGUsKHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQpLktiPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9QXJyYXkoYXJndW1lbnRzLmxlbmd0aC0yKSxpPTI7aTxhcmd1bWVudHMubGVuZ3RoO2krKylyW2ktMl09YXJndW1lbnRzW2ldO3JldHVybiBvLnByb3RvdHlwZVtlXS5hcHBseSh0LHIpfX1mdW5jdGlvbiBxKCl7dGhpcy5qPXRoaXMuaix0aGlzLmk9dGhpcy5pfXEucHJvdG90eXBlLmo9ITEscS5wcm90b3R5cGUuamE9ZnVuY3Rpb24oKXt2YXIgdDshdGhpcy5qJiYodGhpcy5qPSEwLHRoaXMuRygpLDApJiYodD10aGlzLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHgpJiZ0W3hdfHwodFt4XT0rK08pKX0scS5wcm90b3R5cGUuRz1mdW5jdGlvbigpe2lmKHRoaXMuaSlmb3IoO3RoaXMuaS5sZW5ndGg7KXRoaXMuaS5zaGlmdCgpKCl9O3ZhciBCPUFycmF5LnByb3RvdHlwZS5pbmRleE9mP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodCxlLHZvaWQgMCl9OmZ1bmN0aW9uKHQsZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGV8fDEhPWUubGVuZ3RoPy0xOnQuaW5kZXhPZihlLDApO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKG4gaW4gdCYmdFtuXT09PWUpcmV0dXJuIG47cmV0dXJuLTF9LGo9QXJyYXkucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24odCxlLG4pe0FycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodCxlLG4pfTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXQubGVuZ3RoLGk9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dC5zcGxpdChcIlwiKTp0LG89MDtvPHI7bysrKW8gaW4gaSYmZS5jYWxsKG4saVtvXSxvLHQpfTtmdW5jdGlvbiBLKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sYXJndW1lbnRzKX1mdW5jdGlvbiBHKHQpe3ZhciBlPXQubGVuZ3RoO2lmKDA8ZSl7Zm9yKHZhciBuPUFycmF5KGUpLHI9MDtyPGU7cisrKW5bcl09dFtyXTtyZXR1cm4gbn1yZXR1cm5bXX1mdW5jdGlvbiBRKHQpe3JldHVybi9eW1xcc1xceGEwXSokLy50ZXN0KHQpfXZhciB6LEg9U3RyaW5nLnByb3RvdHlwZS50cmltP2Z1bmN0aW9uKHQpe3JldHVybiB0LnRyaW0oKX06ZnVuY3Rpb24odCl7cmV0dXJuL15bXFxzXFx4YTBdKihbXFxzXFxTXSo/KVtcXHNcXHhhMF0qJC8uZXhlYyh0KVsxXX07ZnVuY3Rpb24gVyh0LGUpe3JldHVybi0xIT10LmluZGV4T2YoZSl9ZnVuY3Rpb24gWSh0LGUpe3JldHVybiB0PGU/LTE6ZTx0PzE6MH10Ont2YXIgWD1BLm5hdmlnYXRvcjtpZihYKXtYPVgudXNlckFnZW50O2lmKFgpe3o9WDticmVhayB0fX16PVwiXCJ9ZnVuY3Rpb24gSih0LGUsbil7Zm9yKHZhciByIGluIHQpZS5jYWxsKG4sdFtyXSxyLHQpfWZ1bmN0aW9uICQodCl7dmFyIGUsbj17fTtmb3IoZSBpbiB0KW5bZV09dFtlXTtyZXR1cm4gbn12YXIgWj1cImNvbnN0cnVjdG9yIGhhc093blByb3BlcnR5IGlzUHJvdG90eXBlT2YgcHJvcGVydHlJc0VudW1lcmFibGUgdG9Mb2NhbGVTdHJpbmcgdG9TdHJpbmcgdmFsdWVPZlwiLnNwbGl0KFwiIFwiKTtmdW5jdGlvbiB0dCh0KXtmb3IodmFyIGUsbixyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7Zm9yKGUgaW4gbj1hcmd1bWVudHNbcl0pdFtlXT1uW2VdO2Zvcih2YXIgaT0wO2k8Wi5sZW5ndGg7aSsrKWU9WltpXSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixlKSYmKHRbZV09bltlXSl9fWZ1bmN0aW9uIGV0KHQpe3JldHVybiBldFtcIiBcIl0odCksdH1ldFtcIiBcIl09azt2YXIgbnQscnQ9Vyh6LFwiT3BlcmFcIiksaXQ9Vyh6LFwiVHJpZGVudFwiKXx8Vyh6LFwiTVNJRVwiKSxvdD1XKHosXCJFZGdlXCIpLHN0PW90fHxpdCxhdD1XKHosXCJHZWNrb1wiKSYmIShXKHoudG9Mb3dlckNhc2UoKSxcIndlYmtpdFwiKSYmIVcoeixcIkVkZ2VcIikpJiYhKFcoeixcIlRyaWRlbnRcIil8fFcoeixcIk1TSUVcIikpJiYhVyh6LFwiRWRnZVwiKSx1dD1XKHoudG9Mb3dlckNhc2UoKSxcIndlYmtpdFwiKSYmIVcoeixcIkVkZ2VcIik7ZnVuY3Rpb24gY3QoKXt2YXIgdD1BLmRvY3VtZW50O3JldHVybiB0P3QuZG9jdW1lbnRNb2RlOnZvaWQgMH10Ont2YXIgaHQ9XCJcIixsdD0obHQ9eixhdD8vcnY6KFteXFwpO10rKShcXCl8OykvLmV4ZWMobHQpOm90Py9FZGdlXFwvKFtcXGRcXC5dKykvLmV4ZWMobHQpOml0Py9cXGIoPzpNU0lFfHJ2KVs6IF0oW15cXCk7XSspKFxcKXw7KS8uZXhlYyhsdCk6dXQ/L1dlYktpdFxcLyhcXFMrKS8uZXhlYyhsdCk6cnQ/Lyg/OlZlcnNpb24pWyBcXC9dPyhcXFMrKS8uZXhlYyhsdCk6dm9pZCAwKTtpZihsdCYmKGh0PWx0P2x0WzFdOlwiXCIpLGl0KXtsdD1jdCgpO2lmKG51bGwhPWx0JiZsdD5wYXJzZUZsb2F0KGh0KSl7bnQ9U3RyaW5nKGx0KTticmVhayB0fX1udD1odH12YXIgZnQ9e307ZnVuY3Rpb24gZHQoYSl7cmV0dXJuIHQ9YSxlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT1IKFN0cmluZyhudCkpLnNwbGl0KFwiLlwiKSxuPUgoU3RyaW5nKGEpKS5zcGxpdChcIi5cIikscj1NYXRoLm1heChlLmxlbmd0aCxuLmxlbmd0aCksaT0wOzA9PXQmJmk8cjtpKyspZm9yKHZhciBvPWVbaV18fFwiXCIscz1uW2ldfHxcIlwiO289LyhcXGQqKShcXEQqKSguKikvLmV4ZWMobyl8fFtcIlwiLFwiXCIsXCJcIixcIlwiXSxzPS8oXFxkKikoXFxEKikoLiopLy5leGVjKHMpfHxbXCJcIixcIlwiLFwiXCIsXCJcIl0sKDAhPW9bMF0ubGVuZ3RofHwwIT1zWzBdLmxlbmd0aCkmJih0PVkoMD09b1sxXS5sZW5ndGg/MDpwYXJzZUludChvWzFdLDEwKSwwPT1zWzFdLmxlbmd0aD8wOnBhcnNlSW50KHNbMV0sMTApKXx8WSgwPT1vWzJdLmxlbmd0aCwwPT1zWzJdLmxlbmd0aCl8fFkob1syXSxzWzJdKSxvPW9bM10scz1zWzNdLDA9PXQpOyk7cmV0dXJuIDA8PXR9LG49ZnQsT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sdCk/blt0XTpuW3RdPWUodCk7dmFyIHQsZSxufXZhciBwdD1BLmRvY3VtZW50JiZpdCYmKGN0KCl8fHBhcnNlSW50KG50LDEwKSl8fHZvaWQgMCx5dD0haXR8fDk8PU51bWJlcihwdCksZ3Q9aXQmJiFkdChcIjlcIiksbXQ9ZnVuY3Rpb24oKXtpZighQS5hZGRFdmVudExpc3RlbmVyfHwhT2JqZWN0LmRlZmluZVByb3BlcnR5KXJldHVybiExO3ZhciB0PSExLGU9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwicGFzc2l2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXt0PSEwfX0pO3RyeXtBLmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsayxlKSxBLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsayxlKX1jYXRjaCh0KXt9cmV0dXJuIHR9KCk7ZnVuY3Rpb24gdnQodCxlKXt0aGlzLnR5cGU9dCx0aGlzLmE9dGhpcy50YXJnZXQ9ZSx0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITF9ZnVuY3Rpb24gYnQodCxlKXtpZih2dC5jYWxsKHRoaXMsdD90LnR5cGU6XCJcIiksdGhpcy5yZWxhdGVkVGFyZ2V0PXRoaXMuYT10aGlzLnRhcmdldD1udWxsLHRoaXMuYnV0dG9uPXRoaXMuc2NyZWVuWT10aGlzLnNjcmVlblg9dGhpcy5jbGllbnRZPXRoaXMuY2xpZW50WD0wLHRoaXMua2V5PVwiXCIsdGhpcy5tZXRhS2V5PXRoaXMuc2hpZnRLZXk9dGhpcy5hbHRLZXk9dGhpcy5jdHJsS2V5PSExLHRoaXMucG9pbnRlcklkPTAsdGhpcy5wb2ludGVyVHlwZT1cIlwiLHRoaXMuYz1udWxsLHQpe3ZhciBuPXRoaXMudHlwZT10LnR5cGUscj10LmNoYW5nZWRUb3VjaGVzJiZ0LmNoYW5nZWRUb3VjaGVzLmxlbmd0aD90LmNoYW5nZWRUb3VjaGVzWzBdOm51bGw7aWYodGhpcy50YXJnZXQ9dC50YXJnZXR8fHQuc3JjRWxlbWVudCx0aGlzLmE9ZSxlPXQucmVsYXRlZFRhcmdldCl7aWYoYXQpe3Q6e3RyeXtldChlLm5vZGVOYW1lKTt2YXIgaT0hMDticmVhayB0fWNhdGNoKHQpe31pPSExfWl8fChlPW51bGwpfX1lbHNlXCJtb3VzZW92ZXJcIj09bj9lPXQuZnJvbUVsZW1lbnQ6XCJtb3VzZW91dFwiPT1uJiYoZT10LnRvRWxlbWVudCk7dGhpcy5yZWxhdGVkVGFyZ2V0PWUscj8odGhpcy5jbGllbnRYPXZvaWQgMCE9PXIuY2xpZW50WD9yLmNsaWVudFg6ci5wYWdlWCx0aGlzLmNsaWVudFk9dm9pZCAwIT09ci5jbGllbnRZP3IuY2xpZW50WTpyLnBhZ2VZLHRoaXMuc2NyZWVuWD1yLnNjcmVlblh8fDAsdGhpcy5zY3JlZW5ZPXIuc2NyZWVuWXx8MCk6KHRoaXMuY2xpZW50WD12b2lkIDAhPT10LmNsaWVudFg/dC5jbGllbnRYOnQucGFnZVgsdGhpcy5jbGllbnRZPXZvaWQgMCE9PXQuY2xpZW50WT90LmNsaWVudFk6dC5wYWdlWSx0aGlzLnNjcmVlblg9dC5zY3JlZW5YfHwwLHRoaXMuc2NyZWVuWT10LnNjcmVlbll8fDApLHRoaXMuYnV0dG9uPXQuYnV0dG9uLHRoaXMua2V5PXQua2V5fHxcIlwiLHRoaXMuY3RybEtleT10LmN0cmxLZXksdGhpcy5hbHRLZXk9dC5hbHRLZXksdGhpcy5zaGlmdEtleT10LnNoaWZ0S2V5LHRoaXMubWV0YUtleT10Lm1ldGFLZXksdGhpcy5wb2ludGVySWQ9dC5wb2ludGVySWR8fDAsdGhpcy5wb2ludGVyVHlwZT1cInN0cmluZ1wiPT10eXBlb2YgdC5wb2ludGVyVHlwZT90LnBvaW50ZXJUeXBlOnd0W3QucG9pbnRlclR5cGVdfHxcIlwiLCh0aGlzLmM9dCkuZGVmYXVsdFByZXZlbnRlZCYmdGhpcy5iKCl9fXZ0LnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfSxVKGJ0LHZ0KTt2YXIgd3Q9ezI6XCJ0b3VjaFwiLDM6XCJwZW5cIiw0OlwibW91c2VcIn07YnQucHJvdG90eXBlLmI9ZnVuY3Rpb24oKXtidC5YLmIuY2FsbCh0aGlzKTt2YXIgdD10aGlzLmM7aWYodC5wcmV2ZW50RGVmYXVsdCl0LnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZih0LnJldHVyblZhbHVlPSExLGd0KXRyeXsodC5jdHJsS2V5fHwxMTI8PXQua2V5Q29kZSYmdC5rZXlDb2RlPD0xMjMpJiYodC5rZXlDb2RlPS0xKX1jYXRjaCh0KXt9fTt2YXIgSXQ9XCJjbG9zdXJlX2xpc3RlbmFibGVfXCIrKDFlNipNYXRoLnJhbmRvbSgpfDApLEV0PTA7ZnVuY3Rpb24gVHQodCxlLG4scixpKXt0aGlzLmxpc3RlbmVyPXQsdGhpcy5wcm94eT1udWxsLHRoaXMuc3JjPWUsdGhpcy50eXBlPW4sdGhpcy5jYXB0dXJlPSEhcix0aGlzLmNhPWksdGhpcy5rZXk9KytFdCx0aGlzLlk9dGhpcy5aPSExfWZ1bmN0aW9uIF90KHQpe3QuWT0hMCx0Lmxpc3RlbmVyPW51bGwsdC5wcm94eT1udWxsLHQuc3JjPW51bGwsdC5jYT1udWxsfWZ1bmN0aW9uIFN0KHQpe3RoaXMuc3JjPXQsdGhpcy5hPXt9LHRoaXMuYj0wfWZ1bmN0aW9uIE50KHQsZSl7dmFyIG4scixpLG89ZS50eXBlO28gaW4gdC5hJiYobj10LmFbb10sKGk9MDw9KHI9QihuLGUpKSkmJkFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChuLHIsMSksaSYmKF90KGUpLDA9PXQuYVtvXS5sZW5ndGgmJihkZWxldGUgdC5hW29dLHQuYi0tKSkpfWZ1bmN0aW9uIER0KHQsZSxuLHIpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7KytpKXt2YXIgbz10W2ldO2lmKCFvLlkmJm8ubGlzdGVuZXI9PWUmJm8uY2FwdHVyZT09ISFuJiZvLmNhPT1yKXJldHVybiBpfXJldHVybi0xfVN0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbz10LnRvU3RyaW5nKCk7KHQ9dGhpcy5hW29dKXx8KHQ9dGhpcy5hW29dPVtdLHRoaXMuYisrKTt2YXIgcz1EdCh0LGUscixpKTtyZXR1cm4tMTxzPyhlPXRbc10sbnx8KGUuWj0hMSkpOigoZT1uZXcgVHQoZSx0aGlzLnNyYyxvLCEhcixpKSkuWj1uLHQucHVzaChlKSksZX07dmFyIEF0PVwiY2xvc3VyZV9sbV9cIisoMWU2Kk1hdGgucmFuZG9tKCl8MCksa3Q9e307ZnVuY3Rpb24gQ3QodCxlLG4scixpKXtpZihyJiZyLm9uY2UpcmV0dXJuIGZ1bmN0aW9uIHQoZSxuLHIsaSxvKXtpZihBcnJheS5pc0FycmF5KG4pKXtmb3IodmFyIHM9MDtzPG4ubGVuZ3RoO3MrKyl0KGUsbltzXSxyLGksbyk7cmV0dXJuIG51bGx9cj1WdChyKTtyZXR1cm4gZSYmZVtJdF0/ZS53YShuLHIsUihpKT8hIWkuY2FwdHVyZTohIWksbyk6UnQoZSxuLHIsITAsaSxvKX0odCxlLG4scixpKTtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKylDdCh0LGVbb10sbixyLGkpO3JldHVybiBudWxsfXJldHVybiBuPVZ0KG4pLHQmJnRbSXRdP3QudmEoZSxuLFIocik/ISFyLmNhcHR1cmU6ISFyLGkpOlJ0KHQsZSxuLCExLHIsaSl9ZnVuY3Rpb24gUnQodCxlLG4scixpLG8pe2lmKCFlKXRocm93IEVycm9yKFwiSW52YWxpZCBldmVudCB0eXBlXCIpO3ZhciBzPVIoaSk/ISFpLmNhcHR1cmU6ISFpO2lmKHMmJiF5dClyZXR1cm4gbnVsbDt2YXIgYSx1LGM9TXQodCk7aWYoY3x8KHRbQXRdPWM9bmV3IFN0KHQpKSwobj1jLmFkZChlLG4scixzLG8pKS5wcm94eSlyZXR1cm4gbjtpZihhPVB0LHI9dT15dD9mdW5jdGlvbih0KXtyZXR1cm4gYS5jYWxsKHUuc3JjLHUubGlzdGVuZXIsdCl9OmZ1bmN0aW9uKHQpe2lmKCEodD1hLmNhbGwodS5zcmMsdS5saXN0ZW5lcix0KSkpcmV0dXJuIHR9LChuLnByb3h5PXIpLnNyYz10LHIubGlzdGVuZXI9bix0LmFkZEV2ZW50TGlzdGVuZXIpdm9pZCAwPT09KGk9IW10P3M6aSkmJihpPSExKSx0LmFkZEV2ZW50TGlzdGVuZXIoZS50b1N0cmluZygpLHIsaSk7ZWxzZSBpZih0LmF0dGFjaEV2ZW50KXQuYXR0YWNoRXZlbnQoT3QoZS50b1N0cmluZygpKSxyKTtlbHNle2lmKCF0LmFkZExpc3RlbmVyfHwhdC5yZW1vdmVMaXN0ZW5lcil0aHJvdyBFcnJvcihcImFkZEV2ZW50TGlzdGVuZXIgYW5kIGF0dGFjaEV2ZW50IGFyZSB1bmF2YWlsYWJsZS5cIik7dC5hZGRMaXN0ZW5lcihyKX1yZXR1cm4gbn1mdW5jdGlvbiB4dCh0KXt2YXIgZSxuLHI7XCJudW1iZXJcIiE9dHlwZW9mIHQmJnQmJiF0LlkmJigoZT10LnNyYykmJmVbSXRdP050KGUuYyx0KToobj10LnR5cGUscj10LnByb3h5LGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj9lLnJlbW92ZUV2ZW50TGlzdGVuZXIobixyLHQuY2FwdHVyZSk6ZS5kZXRhY2hFdmVudD9lLmRldGFjaEV2ZW50KE90KG4pLHIpOmUuYWRkTGlzdGVuZXImJmUucmVtb3ZlTGlzdGVuZXImJmUucmVtb3ZlTGlzdGVuZXIociksKG49TXQoZSkpPyhOdChuLHQpLDA9PW4uYiYmKG4uc3JjPW51bGwsZVtBdF09bnVsbCkpOl90KHQpKSl9ZnVuY3Rpb24gT3QodCl7cmV0dXJuIHQgaW4ga3Q/a3RbdF06a3RbdF09XCJvblwiK3R9ZnVuY3Rpb24gTHQodCxlKXt2YXIgbj10Lmxpc3RlbmVyLHI9dC5jYXx8dC5zcmM7cmV0dXJuIHQuWiYmeHQodCksbi5jYWxsKHIsZSl9ZnVuY3Rpb24gUHQodCxlKXtpZih0LlkpcmV0dXJuITA7aWYoeXQpcmV0dXJuIEx0KHQsbmV3IGJ0KGUsdGhpcykpO2lmKCFlKXQ6e2U9W1wid2luZG93XCIsXCJldmVudFwiXTtmb3IodmFyIG49QSxyPTA7cjxlLmxlbmd0aDtyKyspaWYobnVsbD09KG49bltlW3JdXSkpe2U9bnVsbDticmVhayB0fWU9bn1yZXR1cm4gTHQodCxlPW5ldyBidChlLHRoaXMpKX1mdW5jdGlvbiBNdCh0KXtyZXR1cm4odD10W0F0XSlpbnN0YW5jZW9mIFN0P3Q6bnVsbH12YXIgRnQ9XCJfX2Nsb3N1cmVfZXZlbnRzX2ZuX1wiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApO2Z1bmN0aW9uIFZ0KGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZTooZVtGdF18fChlW0Z0XT1mdW5jdGlvbih0KXtyZXR1cm4gZS5oYW5kbGVFdmVudCh0KX0pLGVbRnRdKX1mdW5jdGlvbiBVdCgpe3EuY2FsbCh0aGlzKSx0aGlzLmM9bmV3IFN0KHRoaXMpLCh0aGlzLko9dGhpcykuQz1udWxsfWZ1bmN0aW9uIHF0KHQsZSl7dmFyIG4scj10LkM7aWYocilmb3Iobj1bXTtyO3I9ci5DKW4ucHVzaChyKTtpZih0PXQuSixyPWUudHlwZXx8ZSxcInN0cmluZ1wiPT10eXBlb2YgZT9lPW5ldyB2dChlLHQpOmUgaW5zdGFuY2VvZiB2dD9lLnRhcmdldD1lLnRhcmdldHx8dDoocz1lLHR0KGU9bmV3IHZ0KHIsdCkscykpLHM9ITAsbilmb3IodmFyIGk9bi5sZW5ndGgtMTswPD1pO2ktLSl2YXIgbz1lLmE9bltpXSxzPUJ0KG8sciwhMCxlKSYmcztpZihzPUJ0KG89ZS5hPXQsciwhMCxlKSYmcyxzPUJ0KG8sciwhMSxlKSYmcyxuKWZvcihpPTA7aTxuLmxlbmd0aDtpKyspcz1CdChvPWUuYT1uW2ldLHIsITEsZSkmJnN9ZnVuY3Rpb24gQnQodCxlLG4scil7aWYoIShlPXQuYy5hW1N0cmluZyhlKV0pKXJldHVybiEwO2U9ZS5jb25jYXQoKTtmb3IodmFyIGk9ITAsbz0wO288ZS5sZW5ndGg7KytvKXt2YXIgcyxhLHU9ZVtvXTt1JiYhdS5ZJiZ1LmNhcHR1cmU9PW4mJihzPXUubGlzdGVuZXIsYT11LmNhfHx1LnNyYyx1LlomJk50KHQuYyx1KSxpPSExIT09cy5jYWxsKGEscikmJmkpfXJldHVybiBpJiYhci5kZWZhdWx0UHJldmVudGVkfVUoVXQscSksVXQucHJvdG90eXBlW0l0XT0hMCwoUz1VdC5wcm90b3R5cGUpLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlLG4scil7Q3QodGhpcyx0LGUsbixyKX0sUy5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSxuLHIpeyFmdW5jdGlvbiB0KGUsbixyLGksbyl7aWYoQXJyYXkuaXNBcnJheShuKSlmb3IodmFyIHM9MDtzPG4ubGVuZ3RoO3MrKyl0KGUsbltzXSxyLGksbyk7ZWxzZSBpPVIoaSk/ISFpLmNhcHR1cmU6ISFpLHI9VnQociksZSYmZVtJdF0/KGU9ZS5jLChuPVN0cmluZyhuKS50b1N0cmluZygpKWluIGUuYSYmLTE8KHI9RHQocz1lLmFbbl0scixpLG8pKSYmKF90KHNbcl0pLEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChzLHIsMSksMD09cy5sZW5ndGgmJihkZWxldGUgZS5hW25dLGUuYi0tKSkpOihlPWUmJk10KGUpKSYmKG49ZS5hW24udG9TdHJpbmcoKV0sKHI9KGU9LTEpPChlPW4/RHQobixyLGksbyk6ZSk/bltlXTpudWxsKSYmeHQocikpfSh0aGlzLHQsZSxuLHIpfSxTLkc9ZnVuY3Rpb24oKXtpZihVdC5YLkcuY2FsbCh0aGlzKSx0aGlzLmMpe3ZhciB0LGU9dGhpcy5jO2Zvcih0IGluIGUuYSl7Zm9yKHZhciBuPWUuYVt0XSxyPTA7cjxuLmxlbmd0aDtyKyspX3QobltyXSk7ZGVsZXRlIGUuYVt0XSxlLmItLX19dGhpcy5DPW51bGx9LFMudmE9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRoaXMuYy5hZGQoU3RyaW5nKHQpLGUsITEsbixyKX0sUy53YT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpcy5jLmFkZChTdHJpbmcodCksZSwhMCxuLHIpfTt2YXIganQ9QS5KU09OLnN0cmluZ2lmeTtmdW5jdGlvbiBLdCgpe3RoaXMuYj10aGlzLmE9bnVsbH12YXIgR3QsUXQ9KHp0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gMDx0aGlzLmI/KHRoaXMuYi0tLHQ9dGhpcy5hLHRoaXMuYT10Lm5leHQsdC5uZXh0PW51bGwpOnQ9dGhpcy5jKCksdH0sbmV3IHp0KGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBIdH0sZnVuY3Rpb24odCl7dC5yZXNldCgpfSkpO2Z1bmN0aW9uIHp0KHQsZSl7dGhpcy5jPXQsdGhpcy5mPWUsdGhpcy5iPTAsdGhpcy5hPW51bGx9ZnVuY3Rpb24gSHQoKXt0aGlzLm5leHQ9dGhpcy5iPXRoaXMuYT1udWxsfWZ1bmN0aW9uIFd0KHQsZSl7dmFyIG47R3R8fChuPUEuUHJvbWlzZS5yZXNvbHZlKHZvaWQgMCksR3Q9ZnVuY3Rpb24oKXtuLnRoZW4oSnQpfSksWXR8fChHdCgpLFl0PSEwKSxYdC5hZGQodCxlKX1LdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSl7dmFyIG49UXQuZ2V0KCk7bi5zZXQodCxlKSx0aGlzLmI/dGhpcy5iLm5leHQ9bjp0aGlzLmE9bix0aGlzLmI9bn0sSHQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3RoaXMuYT10LHRoaXMuYj1lLHRoaXMubmV4dD1udWxsfTt2YXIgWXQ9IShIdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLm5leHQ9dGhpcy5iPXRoaXMuYT1udWxsfSksWHQ9bmV3IEt0O2Z1bmN0aW9uIEp0KCl7Zm9yKHZhciB0LGU7bj1lPXZvaWQgMCxuPW51bGwsKGU9WHQpLmEmJihuPWUuYSxlLmE9ZS5hLm5leHQsZS5hfHwoZS5iPW51bGwpLG4ubmV4dD1udWxsKSx0PW47KXt0cnl7dC5hLmNhbGwodC5iKX1jYXRjaCh0KXshZnVuY3Rpb24odCl7QS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgdH0sMCl9KHQpfXZhciBuPVF0O24uZih0KSxuLmI8MTAwJiYobi5iKyssdC5uZXh0PW4uYSxuLmE9dCl9WXQ9ITF9ZnVuY3Rpb24gJHQodCxlKXtVdC5jYWxsKHRoaXMpLHRoaXMuYj10fHwxLHRoaXMuYT1lfHxBLHRoaXMuZj1NKHRoaXMuWmEsdGhpcyksdGhpcy5nPVYoKX1mdW5jdGlvbiBadCh0KXt0LmFhPSExLHQuTSYmKHQuYS5jbGVhclRpbWVvdXQodC5NKSx0Lk09bnVsbCl9ZnVuY3Rpb24gdGUodCxlLG4pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpbiYmKHQ9TSh0LG4pKTtlbHNle2lmKCF0fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmhhbmRsZUV2ZW50KXRocm93IEVycm9yKFwiSW52YWxpZCBsaXN0ZW5lciBhcmd1bWVudFwiKTt0PU0odC5oYW5kbGVFdmVudCx0KX1yZXR1cm4gMjE0NzQ4MzY0NzxOdW1iZXIoZSk/LTE6QS5zZXRUaW1lb3V0KHQsZXx8MCl9VSgkdCxVdCksKFM9JHQucHJvdG90eXBlKS5hYT0hMSxTLk09bnVsbCxTLlphPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5hYSYmKDA8KHQ9VigpLXRoaXMuZykmJnQ8LjgqdGhpcy5iP3RoaXMuTT10aGlzLmEuc2V0VGltZW91dCh0aGlzLmYsdGhpcy5iLXQpOih0aGlzLk0mJih0aGlzLmEuY2xlYXJUaW1lb3V0KHRoaXMuTSksdGhpcy5NPW51bGwpLHF0KHRoaXMsXCJ0aWNrXCIpLHRoaXMuYWEmJihadCh0aGlzKSx0aGlzLnN0YXJ0KCkpKSl9LFMuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmFhPSEwLHRoaXMuTXx8KHRoaXMuTT10aGlzLmEuc2V0VGltZW91dCh0aGlzLmYsdGhpcy5iKSx0aGlzLmc9VigpKX0sUy5HPWZ1bmN0aW9uKCl7JHQuWC5HLmNhbGwodGhpcyksWnQodGhpcyksZGVsZXRlIHRoaXMuYX07dmFyIGVlLG5lLHJlLGllPShUKG5lPXNlLHJlPWVlPXEpLG5lLnByb3RvdHlwZT1udWxsPT09cmU/T2JqZWN0LmNyZWF0ZShyZSk6KG9lLnByb3RvdHlwZT1yZS5wcm90b3R5cGUsbmV3IG9lKSxzZS5wcm90b3R5cGUuZj1mdW5jdGlvbih0KXt0aGlzLmI9YXJndW1lbnRzLHRoaXMuYT90aGlzLmM9ITA6ZnVuY3Rpb24gdChlKXtlLmE9dGUoZnVuY3Rpb24oKXtlLmE9bnVsbCxlLmMmJihlLmM9ITEsdChlKSl9LGUuaCk7dmFyIG49ZS5iO2UuYj1udWxsLGUuZy5hcHBseShudWxsLG4pfSh0aGlzKX0sc2UucHJvdG90eXBlLkc9ZnVuY3Rpb24oKXtlZS5wcm90b3R5cGUuRy5jYWxsKHRoaXMpLHRoaXMuYSYmKEEuY2xlYXJUaW1lb3V0KHRoaXMuYSksdGhpcy5hPW51bGwsdGhpcy5jPSExLHRoaXMuYj1udWxsKX0sc2UpO2Z1bmN0aW9uIG9lKCl7dGhpcy5jb25zdHJ1Y3Rvcj1uZX1mdW5jdGlvbiBzZSh0LGUpe3ZhciBuPWVlLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uZz10LG4uaD1lLG4uYj1udWxsLG4uYz0hMSxuLmE9bnVsbCxufWZ1bmN0aW9uIGFlKHQpe3EuY2FsbCh0aGlzKSx0aGlzLmI9dCx0aGlzLmE9e319VShhZSxxKTt2YXIgdWU9W107ZnVuY3Rpb24gY2UodCxlLG4scil7QXJyYXkuaXNBcnJheShuKXx8KG4mJih1ZVswXT1uLnRvU3RyaW5nKCkpLG49dWUpO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgbz1DdChlLG5baV0scnx8dC5oYW5kbGVFdmVudCwhMSx0LmJ8fHQpO2lmKCFvKWJyZWFrO3QuYVtvLmtleV09b319ZnVuY3Rpb24gaGUodCl7Sih0LmEsZnVuY3Rpb24odCxlKXt0aGlzLmEuaGFzT3duUHJvcGVydHkoZSkmJnh0KHQpfSx0KSx0LmE9e319ZnVuY3Rpb24gbGUoKXt0aGlzLmE9ITB9ZnVuY3Rpb24gZmUodCxlLG4scil7dC5pbmZvKGZ1bmN0aW9uKCl7cmV0dXJuXCJYTUxIVFRQIFRFWFQgKFwiK2UrXCIpOiBcIitmdW5jdGlvbih0LGUpe2lmKCF0LmEpcmV0dXJuIGU7aWYoIWUpcmV0dXJuIG51bGw7dHJ5e3ZhciBuPUpTT04ucGFyc2UoZSk7aWYobilmb3IodD0wO3Q8bi5sZW5ndGg7dCsrKWlmKEFycmF5LmlzQXJyYXkoblt0XSkpe3ZhciByPW5bdF07aWYoIShyLmxlbmd0aDwyKSl7dmFyIGk9clsxXTtpZihBcnJheS5pc0FycmF5KGkpJiYhKGkubGVuZ3RoPDEpKXtyPWlbMF07aWYoXCJub29wXCIhPXImJlwic3RvcFwiIT1yJiZcImNsb3NlXCIhPXIpZm9yKHZhciBvPTE7bzxpLmxlbmd0aDtvKyspaVtvXT1cIlwifX19cmV0dXJuIGp0KG4pfWNhdGNoKHQpe3JldHVybiBlfX0odCxuKSsocj9cIiBcIityOlwiXCIpfSl9YWUucHJvdG90eXBlLkc9ZnVuY3Rpb24oKXthZS5YLkcuY2FsbCh0aGlzKSxoZSh0aGlzKX0sYWUucHJvdG90eXBlLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJFdmVudEhhbmRsZXIuaGFuZGxlRXZlbnQgbm90IGltcGxlbWVudGVkXCIpfSxsZS5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbigpe307dmFyIGRlPXt9LHBlPW51bGw7ZnVuY3Rpb24geWUoKXtyZXR1cm4gcGU9cGV8fG5ldyBVdH1mdW5jdGlvbiBnZSh0KXt2dC5jYWxsKHRoaXMsZGUuRmEsdCl9ZnVuY3Rpb24gbWUodCl7dmFyIGU9eWUoKTtxdChlLG5ldyBnZShlKSl9ZnVuY3Rpb24gdmUodCxlKXt2dC5jYWxsKHRoaXMsZGUuU1RBVF9FVkVOVCx0KSx0aGlzLnN0YXQ9ZX1mdW5jdGlvbiBiZSh0KXt2YXIgZT15ZSgpO3F0KGUsbmV3IHZlKGUsdCkpfWZ1bmN0aW9uIHdlKHQpe3Z0LmNhbGwodGhpcyxkZS5HYSx0KX1mdW5jdGlvbiBJZSh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgRXJyb3IoXCJGbiBtdXN0IG5vdCBiZSBudWxsIGFuZCBtdXN0IGJlIGEgZnVuY3Rpb25cIik7cmV0dXJuIEEuc2V0VGltZW91dChmdW5jdGlvbigpe3QoKX0sZSl9ZGUuRmE9XCJzZXJ2ZXJyZWFjaGFiaWxpdHlcIixVKGdlLHZ0KSxkZS5TVEFUX0VWRU5UPVwic3RhdGV2ZW50XCIsVSh2ZSx2dCksZGUuR2E9XCJ0aW1pbmdldmVudFwiLFUod2UsdnQpO3ZhciBFZT17Tk9fRVJST1I6MCwkYToxLG5iOjIsbWI6MyxoYjo0LGxiOjUsb2I6NixEYTo3LFRJTUVPVVQ6OCxyYjo5fSxUZT17ZmI6XCJjb21wbGV0ZVwiLEJiOlwic3VjY2Vzc1wiLEVhOlwiZXJyb3JcIixEYTpcImFib3J0XCIsdGI6XCJyZWFkeVwiLHViOlwicmVhZHlzdGF0ZWNoYW5nZVwiLFRJTUVPVVQ6XCJ0aW1lb3V0XCIscGI6XCJpbmNyZW1lbnRhbGRhdGFcIixzYjpcInByb2dyZXNzXCIsaWI6XCJkb3dubG9hZHByb2dyZXNzXCIsSmI6XCJ1cGxvYWRwcm9ncmVzc1wifTtmdW5jdGlvbiBfZSgpe31mdW5jdGlvbiBTZSh0KXt2YXIgZTtyZXR1cm4gZT0hKGU9dC5hKT90LmE9e306ZX1mdW5jdGlvbiBOZSgpe31fZS5wcm90b3R5cGUuYT1udWxsO049e09QRU46XCJhXCIsZWI6XCJiXCIsRWE6XCJjXCIscWI6XCJkXCJ9O2Z1bmN0aW9uIERlKCl7dnQuY2FsbCh0aGlzLFwiZFwiKX1mdW5jdGlvbiBBZSgpe3Z0LmNhbGwodGhpcyxcImNcIil9ZnVuY3Rpb24ga2UoKXt9ZnVuY3Rpb24gQ2UodCxlLG4scil7dGhpcy5nPXQsdGhpcy5jPWUsdGhpcy5mPW4sdGhpcy5TPXJ8fDEsdGhpcy5KPW5ldyBhZSh0aGlzKSx0aGlzLlA9eGUsdD1zdD8xMjU6dm9pZCAwLHRoaXMuUj1uZXcgJHQodCksdGhpcy5CPW51bGwsdGhpcy5iPSExLHRoaXMuaj10aGlzLmw9dGhpcy5pPXRoaXMuSD10aGlzLnU9dGhpcy5UPXRoaXMubz1udWxsLHRoaXMucz1bXSx0aGlzLmE9bnVsbCx0aGlzLkQ9MCx0aGlzLmg9dGhpcy5tPW51bGwsdGhpcy5OPS0xLHRoaXMuQT0hMSx0aGlzLk89MCx0aGlzLkY9bnVsbCx0aGlzLlY9dGhpcy5DPXRoaXMuVT10aGlzLkk9ITF9VShEZSx2dCksVShBZSx2dCksVShrZSxfZSk7dmFyIFJlPW5ldyBrZSx4ZT00NWUzLE9lPXt9LExlPXt9O2Z1bmN0aW9uIFBlKHQsZSxuKXt0Lkg9MSx0Lmk9bm4oWGUoZSkpLHQuaj1uLHQuST0hMCxNZSh0LG51bGwpfWZ1bmN0aW9uIE1lKHQsZSl7dC51PVYoKSxWZSh0KSx0Lmw9WGUodC5pKTt2YXIgcyxhLHUsYyxoLGwsbj10Lmwscj10LlM7QXJyYXkuaXNBcnJheShyKXx8KHI9W1N0cmluZyhyKV0pLGduKG4uYixcInRcIixyKSx0LkQ9MCx0LmE9Y3IodC5nLHQuZy5DP2U6bnVsbCksMDx0Lk8mJih0LkY9bmV3IGllKE0odC5DYSx0LHQuYSksdC5PKSksY2UodC5KLHQuYSxcInJlYWR5c3RhdGVjaGFuZ2VcIix0LlhhKSxlPXQuQj8kKHQuQik6e30sdC5qPyh0Lm18fCh0Lm09XCJQT1NUXCIpLGVbXCJDb250ZW50LVR5cGVcIl09XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIix0LmEuYmEodC5sLHQubSx0LmosZSkpOih0Lm09XCJHRVRcIix0LmEuYmEodC5sLHQubSxudWxsLGUpKSxtZSgxKSxzPXQuYyxhPXQubSx1PXQubCxjPXQuZixoPXQuUyxsPXQuaixzLmluZm8oZnVuY3Rpb24oKXtpZihzLmEpaWYobClmb3IodmFyIHQ9XCJcIixlPWwuc3BsaXQoXCImXCIpLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHIsaSxvPWVbbl0uc3BsaXQoXCI9XCIpOzE8by5sZW5ndGgmJihyPW9bMF0sbz1vWzFdLHQ9Mjw9KGk9ci5zcGxpdChcIl9cIikpLmxlbmd0aCYmXCJ0eXBlXCI9PWlbMV0/dCsocitcIj1cIikrbytcIiZcIjp0KyhyK1wiPXJlZGFjdGVkJlwiKSl9ZWxzZSB0PW51bGw7ZWxzZSB0PWw7cmV0dXJuXCJYTUxIVFRQIFJFUSAoXCIrYytcIikgW2F0dGVtcHQgXCIraCtcIl06IFwiK2ErXCJcXG5cIit1K1wiXFxuXCIrdH0pfWZ1bmN0aW9uIEZlKHQsZSxuKXtmb3IodmFyIHIsaSxvLHM9ITA7IXQuQSYmdC5EPG4ubGVuZ3RoOyl7dmFyIGE9KGE9bixvPWk9dm9pZCAwLGk9KHI9dCkuRCwtMT09KG89YS5pbmRleE9mKFwiXFxuXCIsaSkpP0xlOihpPU51bWJlcihhLnN1YnN0cmluZyhpLG8pKSxpc05hTihpKT9PZToobys9MSkraT5hLmxlbmd0aD9MZTooYT1hLnN1YnN0cihvLGkpLHIuRD1vK2ksYSkpKTtpZihhPT1MZSl7ND09ZSYmKHQuaD00LGJlKDE0KSxzPSExKSxmZSh0LmMsdC5mLG51bGwsXCJbSW5jb21wbGV0ZSBSZXNwb25zZV1cIik7YnJlYWt9aWYoYT09T2Upe3QuaD00LGJlKDE1KSxmZSh0LmMsdC5mLG4sXCJbSW52YWxpZCBDaHVua11cIikscz0hMTticmVha31mZSh0LmMsdC5mLGEsbnVsbCksS2UodCxhKX00PT1lJiYwPT1uLmxlbmd0aCYmKHQuaD0xLGJlKDE2KSxzPSExKSx0LmI9dC5iJiZzLHM/MDxuLmxlbmd0aCYmIXQuViYmKHQuVj0hMCwoZT10LmcpLmE9PXQmJmUuVSYmIWUuRiYmKGUuYy5pbmZvKFwiR3JlYXQsIG5vIGJ1ZmZlcmluZyBwcm94eSBkZXRlY3RlZC4gQnl0ZXMgcmVjZWl2ZWQ6IFwiK24ubGVuZ3RoKSxlcihlKSxlLkY9ITAsYmUoMTEpKSk6KGZlKHQuYyx0LmYsbixcIltJbnZhbGlkIENodW5rZWQgUmVzcG9uc2VdXCIpLGplKHQpLEJlKHQpKX1mdW5jdGlvbiBWZSh0KXt0LlQ9VigpK3QuUCxVZSh0LHQuUCl9ZnVuY3Rpb24gVWUodCxlKXtpZihudWxsIT10Lm8pdGhyb3cgRXJyb3IoXCJXYXRjaERvZyB0aW1lciBub3QgbnVsbFwiKTt0Lm89SWUoTSh0LlZhLHQpLGUpfWZ1bmN0aW9uIHFlKHQpe3QubyYmKEEuY2xlYXJUaW1lb3V0KHQubyksdC5vPW51bGwpfWZ1bmN0aW9uIEJlKHQpezA9PXQuZy52fHx0LkF8fGlyKHQuZyx0KX1mdW5jdGlvbiBqZSh0KXtxZSh0KTt2YXIgZT10LkY7ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5qYSYmZS5qYSgpLHQuRj1udWxsLFp0KHQuUiksaGUodC5KKSx0LmEmJihlPXQuYSx0LmE9bnVsbCxlLmFib3J0KCksZS5qYSgpKX1mdW5jdGlvbiBLZSh0LGUpe3RyeXt2YXIgbixyLGksbyxzLGE9dC5nO2lmKDAhPWEudiYmKGEuYT09dHx8VG4oYS5iLHQpKSlpZihhLkk9dC5OLCF0LkMmJlRuKGEuYix0KSYmMz09YS52KXt0cnl7dmFyIHU9YS5rYS5hLnBhcnNlKGUpfWNhdGNoKHQpe3U9bnVsbH1pZihBcnJheS5pc0FycmF5KHUpJiYzPT11Lmxlbmd0aCl7dmFyIGM9dTtpZigwPT1jWzBdKXt0OmlmKCFhLmope2lmKGEuYSl7aWYoIShhLmEudSszZTM8dC51KSlicmVhayB0O3JyKGEpLHpuKGEpfXRyKGEpLGJlKDE4KX19ZWxzZSBhLm9hPWNbMV0sMDxhLm9hLWEuUCYmY1syXTwzNzUwMCYmYS5IJiYwPT1hLm8mJiFhLm0mJihhLm09SWUoTShhLlNhLGEpLDZlMykpO2lmKEVuKGEuYik8PTEmJmEuZWEpe3RyeXthLmVhKCl9Y2F0Y2godCl7fWEuZWE9dm9pZCAwfX1lbHNlIHNyKGEsMTEpfWVsc2UgaWYoIXQuQyYmYS5hIT10fHxycihhKSwhUShlKSlmb3IoZT11PWEua2EuYS5wYXJzZShlKSx1PTA7dTxlLmxlbmd0aDt1KyspYz1lW3VdLGEuUD1jWzBdLGM9Y1sxXSwyPT1hLnY/XCJjXCI9PWNbMF0/KGEuSj1jWzFdLGEuZ2E9Y1syXSxudWxsIT0ocj1jWzNdKSYmKGEuaGE9cixhLmMuaW5mbyhcIlZFUj1cIithLmhhKSksbnVsbCE9KG89Y1s0XSkmJihhLnBhPW8sYS5jLmluZm8oXCJTVkVSPVwiK2EucGEpKSxudWxsIT0ocj1jWzVdKSYmXCJudW1iZXJcIj09dHlwZW9mIHImJjA8ciYmKG49MS41KnIsYS5EPW4sYS5jLmluZm8oXCJiYWNrQ2hhbm5lbFJlcXVlc3RUaW1lb3V0TXNfPVwiK24pKSxuPWEsKG89dC5hKSYmKCEocj1vLmE/by5hLmdldFJlc3BvbnNlSGVhZGVyKFwiWC1DbGllbnQtV2lyZS1Qcm90b2NvbFwiKTpudWxsKXx8IShpPW4uYikuYSYmKFcocixcInNwZHlcIil8fFcocixcInF1aWNcIil8fFcocixcImgyXCIpKSYmKGkuZj1pLmcsaS5hPW5ldyBTZXQsaS5iJiYoX24oaSxpLmIpLGkuYj1udWxsKSksIW4uQXx8KHM9by5hP28uYS5nZXRSZXNwb25zZUhlYWRlcihcIlgtSFRUUC1TZXNzaW9uLUlkXCIpOm51bGwpJiYobi5uYT1zLGVuKG4uQixuLkEscykpKSxhLnY9MyxhLmYmJmEuZi50YSgpLGEuVSYmKGEuTj1WKCktdC51LGEuYy5pbmZvKFwiSGFuZHNoYWtlIFJUVDogXCIrYS5OK1wibXNcIikpLGk9dCwobj1hKS5sYT11cihuLG4uQz9uLmdhOm51bGwsbi5mYSksaS5DPyhTbihuLmIsaSksbz1pLChzPW4uRCkmJm8uc2V0VGltZW91dChzKSxvLm8mJihxZShvKSxWZShvKSksbi5hPWkpOlpuKG4pLDA8YS5nLmxlbmd0aCYmWW4oYSkpOlwic3RvcFwiIT1jWzBdJiZcImNsb3NlXCIhPWNbMF18fHNyKGEsNyk6Mz09YS52JiYoXCJzdG9wXCI9PWNbMF18fFwiY2xvc2VcIj09Y1swXT9cInN0b3BcIj09Y1swXT9zcihhLDcpOlFuKGEpOlwibm9vcFwiIT1jWzBdJiZhLmYmJmEuZi5zYShjKSxhLm89MCk7bWUoNCl9Y2F0Y2godCl7fX1mdW5jdGlvbiBHZSh0LGUpe2lmKHQuZm9yRWFjaCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5mb3JFYWNoKXQuZm9yRWFjaChlLHZvaWQgMCk7ZWxzZSBpZihDKHQpfHxcInN0cmluZ1wiPT10eXBlb2YgdClqKHQsZSx2b2lkIDApO2Vsc2V7aWYodC5MJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LkwpdmFyIG49dC5MKCk7ZWxzZSBpZih0LksmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuSyluPXZvaWQgMDtlbHNlIGlmKEModCl8fFwic3RyaW5nXCI9PXR5cGVvZiB0KWZvcih2YXIgbj1bXSxyPXQubGVuZ3RoLGk9MDtpPHI7aSsrKW4ucHVzaChpKTtlbHNlIGZvcihpIGluIG49W10scj0wLHQpbltyKytdPWk7Zm9yKHZhciBpPShyPWZ1bmN0aW9uKHQpe2lmKHQuSyYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5LKXJldHVybiB0LksoKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdC5zcGxpdChcIlwiKTtpZihDKHQpKXtmb3IodmFyIGU9W10sbj10Lmxlbmd0aCxyPTA7cjxuO3IrKyllLnB1c2godFtyXSk7cmV0dXJuIGV9Zm9yKHIgaW4gZT1bXSxuPTAsdCllW24rK109dFtyXTtyZXR1cm4gZX0odCkpLmxlbmd0aCxvPTA7bzxpO28rKyllLmNhbGwodm9pZCAwLHJbb10sbiYmbltvXSx0KX19ZnVuY3Rpb24gUWUodCxlKXt0aGlzLmI9e30sdGhpcy5hPVtdLHRoaXMuYz0wO3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg7aWYoMTxuKXtpZihuJTIpdGhyb3cgRXJyb3IoXCJVbmV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50c1wiKTtmb3IodmFyIHI9MDtyPG47cis9Mil0aGlzLnNldChhcmd1bWVudHNbcl0sYXJndW1lbnRzW3IrMV0pfWVsc2UgaWYodClpZih0IGluc3RhbmNlb2YgUWUpZm9yKG49dC5MKCkscj0wO3I8bi5sZW5ndGg7cisrKXRoaXMuc2V0KG5bcl0sdC5nZXQobltyXSkpO2Vsc2UgZm9yKHIgaW4gdCl0aGlzLnNldChyLHRbcl0pfWZ1bmN0aW9uIHplKHQpe2lmKHQuYyE9dC5hLmxlbmd0aCl7Zm9yKHZhciBlPTAsbj0wO2U8dC5hLmxlbmd0aDspe3ZhciByPXQuYVtlXTtIZSh0LmIscikmJih0LmFbbisrXT1yKSxlKyt9dC5hLmxlbmd0aD1ufWlmKHQuYyE9dC5hLmxlbmd0aCl7Zm9yKHZhciBpPXt9LG49ZT0wO2U8dC5hLmxlbmd0aDspSGUoaSxyPXQuYVtlXSl8fChpW3QuYVtuKytdPXJdPTEpLGUrKzt0LmEubGVuZ3RoPW59fWZ1bmN0aW9uIEhlKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfShTPUNlLnByb3RvdHlwZSkuc2V0VGltZW91dD1mdW5jdGlvbih0KXt0aGlzLlA9dH0sUy5YYT1mdW5jdGlvbih0KXt0PXQudGFyZ2V0O3ZhciBlPXRoaXMuRjtlJiYzPT1Cbih0KT9lLmYoKTp0aGlzLkNhKHQpfSxTLkNhPWZ1bmN0aW9uKHQpe3RyeXtpZih0PT10aGlzLmEpdDp7dmFyIGU9Qm4odGhpcy5hKSxuPXRoaXMuYS51YSgpLHI9dGhpcy5hLlcoKTtpZighKGU8M3x8Mz09ZSYmIXN0JiYhdGhpcy5hLiQoKSkpe3RoaXMuQXx8NCE9ZXx8Nz09bnx8bWUoOD09bnx8cjw9MD8zOjIpLHFlKHRoaXMpO3ZhciBpPXRoaXMuYS5XKCk7dGhpcy5OPWk7dmFyIG89dGhpcy5hLiQoKTtpZih0aGlzLmI9MjAwPT1pLHI9dGhpcy5jLHU9dGhpcy5tLGM9dGhpcy5sLGg9dGhpcy5mLGw9dGhpcy5TLGY9ZSxkPWksci5pbmZvKGZ1bmN0aW9uKCl7cmV0dXJuXCJYTUxIVFRQIFJFU1AgKFwiK2grXCIpIFsgYXR0ZW1wdCBcIitsK1wiXTogXCIrdStcIlxcblwiK2MrXCJcXG5cIitmK1wiIFwiK2R9KSx0aGlzLmIpe2lmKHRoaXMuVSYmIXRoaXMuQyl7ZTp7aWYodGhpcy5hKXt2YXIgcz10aGlzLmE7aWYoKHM9cy5hP3MuYS5nZXRSZXNwb25zZUhlYWRlcihcIlgtSFRUUC1Jbml0aWFsLVJlc3BvbnNlXCIpOm51bGwpJiYhUShzKSl7dmFyIGE9czticmVhayBlfX1hPW51bGx9aWYoIWEpe3RoaXMuYj0hMSx0aGlzLmg9MyxiZSgxMiksamUodGhpcyksQmUodGhpcyk7YnJlYWsgdH1mZSh0aGlzLmMsdGhpcy5mLGEsXCJJbml0aWFsIGhhbmRzaGFrZSByZXNwb25zZSB2aWEgWC1IVFRQLUluaXRpYWwtUmVzcG9uc2VcIiksdGhpcy5DPSEwLEtlKHRoaXMsYSl9dGhpcy5JPyhGZSh0aGlzLGUsbyksc3QmJnRoaXMuYiYmMz09ZSYmKGNlKHRoaXMuSix0aGlzLlIsXCJ0aWNrXCIsdGhpcy5XYSksdGhpcy5SLnN0YXJ0KCkpKTooZmUodGhpcy5jLHRoaXMuZixvLG51bGwpLEtlKHRoaXMsbykpLDQ9PWUmJmplKHRoaXMpLHRoaXMuYiYmIXRoaXMuQSYmKDQ9PWU/aXIodGhpcy5nLHRoaXMpOih0aGlzLmI9ITEsVmUodGhpcykpKX1lbHNlIDQwMD09aSYmMDxvLmluZGV4T2YoXCJVbmtub3duIFNJRFwiKT8odGhpcy5oPTMsYmUoMTIpKToodGhpcy5oPTAsYmUoMTMpKSxqZSh0aGlzKSxCZSh0aGlzKX19fWNhdGNoKHQpe312YXIgdSxjLGgsbCxmLGR9LFMuV2E9ZnVuY3Rpb24oKXt2YXIgdCxlO3RoaXMuYSYmKHQ9Qm4odGhpcy5hKSxlPXRoaXMuYS4kKCksdGhpcy5EPGUubGVuZ3RoJiYocWUodGhpcyksRmUodGhpcyx0LGUpLHRoaXMuYiYmNCE9dCYmVmUodGhpcykpKX0sUy5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLkE9ITAsamUodGhpcyl9LFMuVmE9ZnVuY3Rpb24oKXt0aGlzLm89bnVsbDt2YXIgdCxlLG49VigpOzA8PW4tdGhpcy5UPyh0PXRoaXMuYyxlPXRoaXMubCx0LmluZm8oZnVuY3Rpb24oKXtyZXR1cm5cIlRJTUVPVVQ6IFwiK2V9KSwyIT10aGlzLkgmJihtZSgzKSxiZSgxNykpLGplKHRoaXMpLHRoaXMuaD0yLEJlKHRoaXMpKTpVZSh0aGlzLHRoaXMuVC1uKX0sKFM9UWUucHJvdG90eXBlKS5LPWZ1bmN0aW9uKCl7emUodGhpcyk7Zm9yKHZhciB0PVtdLGU9MDtlPHRoaXMuYS5sZW5ndGg7ZSsrKXQucHVzaCh0aGlzLmJbdGhpcy5hW2VdXSk7cmV0dXJuIHR9LFMuTD1mdW5jdGlvbigpe3JldHVybiB6ZSh0aGlzKSx0aGlzLmEuY29uY2F0KCl9LFMuZ2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhlKHRoaXMuYix0KT90aGlzLmJbdF06ZX0sUy5zZXQ9ZnVuY3Rpb24odCxlKXtIZSh0aGlzLmIsdCl8fCh0aGlzLmMrKyx0aGlzLmEucHVzaCh0KSksdGhpcy5iW3RdPWV9LFMuZm9yRWFjaD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLkwoKSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBpPW5bcl0sbz10aGlzLmdldChpKTt0LmNhbGwoZSxvLGksdGhpcyl9fTt2YXIgV2U9L14oPzooW146Lz8jLl0rKTopPyg/OlxcL1xcLyg/OihbXlxcXFwvPyNdKilAKT8oW15cXFxcLz8jXSo/KSg/OjooWzAtOV0rKSk/KD89W1xcXFwvPyNdfCQpKT8oW14/I10rKT8oPzpcXD8oW14jXSopKT8oPzojKFtcXHNcXFNdKikpPyQvO2Z1bmN0aW9uIFllKHQsZSl7dmFyIG47dGhpcy5jPXRoaXMuaj10aGlzLmY9XCJcIix0aGlzLmg9bnVsbCx0aGlzLmk9dGhpcy5nPVwiXCIsdGhpcy5hPSExLHQgaW5zdGFuY2VvZiBZZT8odGhpcy5hPXZvaWQgMCE9PWU/ZTp0LmEsSmUodGhpcyx0LmYpLHRoaXMuaj10LmosJGUodGhpcyx0LmMpLFplKHRoaXMsdC5oKSx0aGlzLmc9dC5nLGU9dC5iLChuPW5ldyBmbikuYz1lLmMsZS5hJiYobi5hPW5ldyBRZShlLmEpLG4uYj1lLmIpLHRuKHRoaXMsbiksdGhpcy5pPXQuaSk6dCYmKG49U3RyaW5nKHQpLm1hdGNoKFdlKSk/KHRoaXMuYT0hIWUsSmUodGhpcyxuWzFdfHxcIlwiLCEwKSx0aGlzLmo9cm4oblsyXXx8XCJcIiksJGUodGhpcyxuWzNdfHxcIlwiLCEwKSxaZSh0aGlzLG5bNF0pLHRoaXMuZz1ybihuWzVdfHxcIlwiLCEwKSx0bih0aGlzLG5bNl18fFwiXCIsITApLHRoaXMuaT1ybihuWzddfHxcIlwiKSk6KHRoaXMuYT0hIWUsdGhpcy5iPW5ldyBmbihudWxsLHRoaXMuYSkpfWZ1bmN0aW9uIFhlKHQpe3JldHVybiBuZXcgWWUodCl9ZnVuY3Rpb24gSmUodCxlLG4pe3QuZj1uP3JuKGUsITApOmUsdC5mJiYodC5mPXQuZi5yZXBsYWNlKC86JC8sXCJcIikpfWZ1bmN0aW9uICRlKHQsZSxuKXt0LmM9bj9ybihlLCEwKTplfWZ1bmN0aW9uIFplKHQsZSl7aWYoZSl7aWYoZT1OdW1iZXIoZSksaXNOYU4oZSl8fGU8MCl0aHJvdyBFcnJvcihcIkJhZCBwb3J0IG51bWJlciBcIitlKTt0Lmg9ZX1lbHNlIHQuaD1udWxsfWZ1bmN0aW9uIHRuKHQsZSxuKXt2YXIgcixpO2UgaW5zdGFuY2VvZiBmbj8odC5iPWUscj10LmIsKGk9dC5hKSYmIXIuZiYmKGRuKHIpLHIuYz1udWxsLHIuYS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS50b0xvd2VyQ2FzZSgpO2UhPW4mJihwbih0aGlzLGUpLGduKHRoaXMsbix0KSl9LHIpKSxyLmY9aSk6KG58fChlPW9uKGUsaG4pKSx0LmI9bmV3IGZuKGUsdC5hKSl9ZnVuY3Rpb24gZW4odCxlLG4pe3QuYi5zZXQoZSxuKX1mdW5jdGlvbiBubih0KXtyZXR1cm4gZW4odCxcInp4XCIsTWF0aC5mbG9vcigyMTQ3NDgzNjQ4Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KStNYXRoLmFicyhNYXRoLmZsb29yKDIxNDc0ODM2NDgqTWF0aC5yYW5kb20oKSleVigpKS50b1N0cmluZygzNikpLHR9ZnVuY3Rpb24gcm4odCxlKXtyZXR1cm4gdD9lP2RlY29kZVVSSSh0LnJlcGxhY2UoLyUyNS9nLFwiJTI1MjVcIikpOmRlY29kZVVSSUNvbXBvbmVudCh0KTpcIlwifWZ1bmN0aW9uIG9uKHQsZSxuKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD8odD1lbmNvZGVVUkkodCkucmVwbGFjZShlLHNuKSx0PW4/dC5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csXCIlJDFcIik6dCk6bnVsbH1mdW5jdGlvbiBzbih0KXtyZXR1cm5cIiVcIisoKHQ9dC5jaGFyQ29kZUF0KDApKT4+NCYxNSkudG9TdHJpbmcoMTYpKygxNSZ0KS50b1N0cmluZygxNil9WWUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9W10sZT10aGlzLmY7ZSYmdC5wdXNoKG9uKGUsYW4sITApLFwiOlwiKTt2YXIgbj10aGlzLmM7cmV0dXJuIW4mJlwiZmlsZVwiIT1lfHwodC5wdXNoKFwiLy9cIiksKGU9dGhpcy5qKSYmdC5wdXNoKG9uKGUsYW4sITApLFwiQFwiKSx0LnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhuKSkucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLFwiJSQxXCIpKSxudWxsIT0obj10aGlzLmgpJiZ0LnB1c2goXCI6XCIsU3RyaW5nKG4pKSksKG49dGhpcy5nKSYmKHRoaXMuYyYmXCIvXCIhPW4uY2hhckF0KDApJiZ0LnB1c2goXCIvXCIpLHQucHVzaChvbihuLFwiL1wiPT1uLmNoYXJBdCgwKT9jbjp1biwhMCkpKSwobj10aGlzLmIudG9TdHJpbmcoKSkmJnQucHVzaChcIj9cIixuKSwobj10aGlzLmkpJiZ0LnB1c2goXCIjXCIsb24obixsbikpLHQuam9pbihcIlwiKX07dmFyIGFuPS9bI1xcL1xcP0BdL2csdW49L1sjXFw/Ol0vZyxjbj0vWyNcXD9dL2csaG49L1sjXFw/QF0vZyxsbj0vIy9nO2Z1bmN0aW9uIGZuKHQsZSl7dGhpcy5iPXRoaXMuYT1udWxsLHRoaXMuYz10fHxudWxsLHRoaXMuZj0hIWV9ZnVuY3Rpb24gZG4obil7bi5hfHwobi5hPW5ldyBRZSxuLmI9MCxuLmMmJmZ1bmN0aW9uKHQsZSl7aWYodCl7dD10LnNwbGl0KFwiJlwiKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHIsaT10W25dLmluZGV4T2YoXCI9XCIpLG89bnVsbDswPD1pPyhyPXRbbl0uc3Vic3RyaW5nKDAsaSksbz10W25dLnN1YnN0cmluZyhpKzEpKTpyPXRbbl0sZShyLG8/ZGVjb2RlVVJJQ29tcG9uZW50KG8ucmVwbGFjZSgvXFwrL2csXCIgXCIpKTpcIlwiKX19fShuLmMsZnVuY3Rpb24odCxlKXtuLmFkZChkZWNvZGVVUklDb21wb25lbnQodC5yZXBsYWNlKC9cXCsvZyxcIiBcIikpLGUpfSkpfWZ1bmN0aW9uIHBuKHQsZSl7ZG4odCksZT1tbih0LGUpLEhlKHQuYS5iLGUpJiYodC5jPW51bGwsdC5iLT10LmEuZ2V0KGUpLmxlbmd0aCxIZSgodD10LmEpLmIsZSkmJihkZWxldGUgdC5iW2VdLHQuYy0tLHQuYS5sZW5ndGg+Mip0LmMmJnplKHQpKSl9ZnVuY3Rpb24geW4odCxlKXtyZXR1cm4gZG4odCksZT1tbih0LGUpLEhlKHQuYS5iLGUpfWZ1bmN0aW9uIGduKHQsZSxuKXtwbih0LGUpLDA8bi5sZW5ndGgmJih0LmM9bnVsbCx0LmEuc2V0KG1uKHQsZSksRyhuKSksdC5iKz1uLmxlbmd0aCl9ZnVuY3Rpb24gbW4odCxlKXtyZXR1cm4gZT1TdHJpbmcoZSksZT10LmY/ZS50b0xvd2VyQ2FzZSgpOmV9KFM9Zm4ucHJvdG90eXBlKS5hZGQ9ZnVuY3Rpb24odCxlKXtkbih0aGlzKSx0aGlzLmM9bnVsbCx0PW1uKHRoaXMsdCk7dmFyIG49dGhpcy5hLmdldCh0KTtyZXR1cm4gbnx8dGhpcy5hLnNldCh0LG49W10pLG4ucHVzaChlKSx0aGlzLmIrPTEsdGhpc30sUy5mb3JFYWNoPWZ1bmN0aW9uKG4scil7ZG4odGhpcyksdGhpcy5hLmZvckVhY2goZnVuY3Rpb24odCxlKXtqKHQsZnVuY3Rpb24odCl7bi5jYWxsKHIsdCxlLHRoaXMpfSx0aGlzKX0sdGhpcyl9LFMuTD1mdW5jdGlvbigpe2RuKHRoaXMpO2Zvcih2YXIgdD10aGlzLmEuSygpLGU9dGhpcy5hLkwoKSxuPVtdLHI9MDtyPGUubGVuZ3RoO3IrKylmb3IodmFyIGk9dFtyXSxvPTA7bzxpLmxlbmd0aDtvKyspbi5wdXNoKGVbcl0pO3JldHVybiBufSxTLks9ZnVuY3Rpb24odCl7ZG4odGhpcyk7dmFyIGU9W107aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpeW4odGhpcyx0KSYmKGU9SyhlLHRoaXMuYS5nZXQobW4odGhpcyx0KSkpKTtlbHNle3Q9dGhpcy5hLksoKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyllPUsoZSx0W25dKX1yZXR1cm4gZX0sUy5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZG4odGhpcyksdGhpcy5jPW51bGwseW4odGhpcyx0PW1uKHRoaXMsdCkpJiYodGhpcy5iLT10aGlzLmEuZ2V0KHQpLmxlbmd0aCksdGhpcy5hLnNldCh0LFtlXSksdGhpcy5iKz0xLHRoaXN9LFMuZ2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJjA8KHQ9dGhpcy5LKHQpKS5sZW5ndGg/U3RyaW5nKHRbMF0pOmV9LFMudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmMpcmV0dXJuIHRoaXMuYztpZighdGhpcy5hKXJldHVyblwiXCI7Zm9yKHZhciB0PVtdLGU9dGhpcy5hLkwoKSxuPTA7bjxlLmxlbmd0aDtuKyspZm9yKHZhciByPWVbbl0saT1lbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHIpKSxyPXRoaXMuSyhyKSxvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBzPWk7XCJcIiE9PXJbb10mJihzKz1cIj1cIitlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHJbb10pKSksdC5wdXNoKHMpfXJldHVybiB0aGlzLmM9dC5qb2luKFwiJlwiKX07dmFyIHZuPWZ1bmN0aW9uKHQsZSl7dGhpcy5iPXQsdGhpcy5hPWV9O2Z1bmN0aW9uIGJuKHQpe3RoaXMuZz10fHx3bix0PUEuUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nPzA8KHQ9QS5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibmF2aWdhdGlvblwiKSkubGVuZ3RoJiYoXCJocVwiPT10WzBdLm5leHRIb3BQcm90b2NvbHx8XCJoMlwiPT10WzBdLm5leHRIb3BQcm90b2NvbCk6ISEoQS5pYSYmQS5pYS55YSYmQS5pYS55YSgpJiZBLmlhLnlhKCkuTGIpLHRoaXMuZj10P3RoaXMuZzoxLHRoaXMuYT1udWxsLDE8dGhpcy5mJiYodGhpcy5hPW5ldyBTZXQpLHRoaXMuYj1udWxsLHRoaXMuYz1bXX12YXIgd249MTA7ZnVuY3Rpb24gSW4odCl7cmV0dXJuIHQuYnx8dC5hJiZ0LmEuc2l6ZT49dC5mfWZ1bmN0aW9uIEVuKHQpe3JldHVybiB0LmI/MTp0LmE/dC5hLnNpemU6MH1mdW5jdGlvbiBUbih0LGUpe3JldHVybiB0LmI/dC5iPT1lOnQuYSYmdC5hLmhhcyhlKX1mdW5jdGlvbiBfbih0LGUpe3QuYT90LmEuYWRkKGUpOnQuYj1lfWZ1bmN0aW9uIFNuKHQsZSl7dC5iJiZ0LmI9PWU/dC5iPW51bGw6dC5hJiZ0LmEuaGFzKGUpJiZ0LmEuZGVsZXRlKGUpfWZ1bmN0aW9uIE5uKHQpe3ZhciBlLG47aWYobnVsbCE9dC5iKXJldHVybiB0LmMuY29uY2F0KHQuYi5zKTtpZihudWxsPT10LmF8fDA9PT10LmEuc2l6ZSlyZXR1cm4gRyh0LmMpO3ZhciByPXQuYzt0cnl7Zm9yKHZhciBpPV8odC5hLnZhbHVlcygpKSxvPWkubmV4dCgpOyFvLmRvbmU7bz1pLm5leHQoKSl2YXIgcz1vLnZhbHVlLHI9ci5jb25jYXQocy5zKX1jYXRjaCh0KXtlPXtlcnJvcjp0fX1maW5hbGx5e3RyeXtvJiYhby5kb25lJiYobj1pLnJldHVybikmJm4uY2FsbChpKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19cmV0dXJuIHJ9ZnVuY3Rpb24gRG4oKXt9ZnVuY3Rpb24gQW4oKXt0aGlzLmE9bmV3IERufWZ1bmN0aW9uIGtuKHQsZSxuLHIsaSl7dHJ5e2Uub25sb2FkPW51bGwsZS5vbmVycm9yPW51bGwsZS5vbmFib3J0PW51bGwsZS5vbnRpbWVvdXQ9bnVsbCxpKHIpfWNhdGNoKHQpe319Ym4ucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe3ZhciBlLHQ7aWYodGhpcy5jPU5uKHRoaXMpLHRoaXMuYil0aGlzLmIuY2FuY2VsKCksdGhpcy5iPW51bGw7ZWxzZSBpZih0aGlzLmEmJjAhPT10aGlzLmEuc2l6ZSl7dHJ5e2Zvcih2YXIgbj1fKHRoaXMuYS52YWx1ZXMoKSkscj1uLm5leHQoKTshci5kb25lO3I9bi5uZXh0KCkpci52YWx1ZS5jYW5jZWwoKX1jYXRjaCh0KXtlPXtlcnJvcjp0fX1maW5hbGx5e3RyeXtyJiYhci5kb25lJiYodD1uLnJldHVybikmJnQuY2FsbChuKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19dGhpcy5hLmNsZWFyKCl9fSxEbi5wcm90b3R5cGUuc3RyaW5naWZ5PWZ1bmN0aW9uKHQpe3JldHVybiBBLkpTT04uc3RyaW5naWZ5KHQsdm9pZCAwKX0sRG4ucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQpe3JldHVybiBBLkpTT04ucGFyc2UodCx2b2lkIDApfTt2YXIgQ249QS5KU09OLnBhcnNlO2Z1bmN0aW9uIFJuKHQpe1V0LmNhbGwodGhpcyksdGhpcy5oZWFkZXJzPW5ldyBRZSx0aGlzLkg9dHx8bnVsbCx0aGlzLmI9ITEsdGhpcy5zPXRoaXMuYT1udWxsLHRoaXMuQj1cIlwiLHRoaXMuaD0wLHRoaXMuZj1cIlwiLHRoaXMuZz10aGlzLkE9dGhpcy5sPXRoaXMudT0hMSx0aGlzLm89MCx0aGlzLm09bnVsbCx0aGlzLkk9eG4sdGhpcy5EPXRoaXMuRj0hMX1VKFJuLFV0KTt2YXIgeG49XCJcIixPbj0vXmh0dHBzPyQvaSxMbj1bXCJQT1NUXCIsXCJQVVRcIl07ZnVuY3Rpb24gUG4odCl7cmV0dXJuXCJjb250ZW50LXR5cGVcIj09dC50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIE1uKHQsZSl7dC5iPSExLHQuYSYmKHQuZz0hMCx0LmEuYWJvcnQoKSx0Lmc9ITEpLHQuZj1lLHQuaD01LEZuKHQpLFVuKHQpfWZ1bmN0aW9uIEZuKHQpe3QudXx8KHQudT0hMCxxdCh0LFwiY29tcGxldGVcIikscXQodCxcImVycm9yXCIpKX1mdW5jdGlvbiBWbih0KXtpZih0LmImJnZvaWQgMCE9PUQmJighdC5zWzFdfHw0IT1Cbih0KXx8MiE9dC5XKCkpKWlmKHQubCYmND09Qm4odCkpdGUodC56YSwwLHQpO2Vsc2UgaWYocXQodCxcInJlYWR5c3RhdGVjaGFuZ2VcIiksND09Qm4odCkpe3QuYj0hMTt0cnl7dmFyIGUsbixyLGksbz10LlcoKTt0OnN3aXRjaChvKXtjYXNlIDIwMDpjYXNlIDIwMTpjYXNlIDIwMjpjYXNlIDIwNDpjYXNlIDIwNjpjYXNlIDMwNDpjYXNlIDEyMjM6dmFyIHM9ITA7YnJlYWsgdDtkZWZhdWx0OnM9ITF9KGU9cyl8fCgobj0wPT09bykmJighKGk9U3RyaW5nKHQuQikubWF0Y2goV2UpWzFdfHxudWxsKSYmQS5zZWxmJiZBLnNlbGYubG9jYXRpb24mJihpPShyPUEuc2VsZi5sb2NhdGlvbi5wcm90b2NvbCkuc3Vic3RyKDAsci5sZW5ndGgtMSkpLG49IU9uLnRlc3QoaT9pLnRvTG93ZXJDYXNlKCk6XCJcIikpLGU9bik7aWYoZSlxdCh0LFwiY29tcGxldGVcIikscXQodCxcInN1Y2Nlc3NcIik7ZWxzZXt0Lmg9Njt0cnl7dmFyIGE9MjxCbih0KT90LmEuc3RhdHVzVGV4dDpcIlwifWNhdGNoKG8pe2E9XCJcIn10LmY9YStcIiBbXCIrdC5XKCkrXCJdXCIsRm4odCl9fWZpbmFsbHl7VW4odCl9fX1mdW5jdGlvbiBVbih0LGUpe2lmKHQuYSl7cW4odCk7dmFyIG49dC5hLHI9dC5zWzBdP2s6bnVsbDt0LmE9bnVsbCx0LnM9bnVsbCxlfHxxdCh0LFwicmVhZHlcIik7dHJ5e24ub25yZWFkeXN0YXRlY2hhbmdlPXJ9Y2F0Y2godCl7fX19ZnVuY3Rpb24gcW4odCl7dC5hJiZ0LkQmJih0LmEub250aW1lb3V0PW51bGwpLHQubSYmKEEuY2xlYXJUaW1lb3V0KHQubSksdC5tPW51bGwpfWZ1bmN0aW9uIEJuKHQpe3JldHVybiB0LmE/dC5hLnJlYWR5U3RhdGU6MH1mdW5jdGlvbiBqbih0LGUsbil7dDp7Zm9yKHIgaW4gbil7dmFyIHI9ITE7YnJlYWsgdH1yPSEwfXZhciBpO3J8fChpPVwiXCIsSihuLGZ1bmN0aW9uKHQsZSl7aSs9ZSxpKz1cIjpcIixpKz10LGkrPVwiXFxyXFxuXCJ9KSxuPWksXCJzdHJpbmdcIj09dHlwZW9mIHQ/bnVsbCE9biYmZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhuKSk6ZW4odCxlLG4pKX1mdW5jdGlvbiBLbih0LGUsbil7cmV0dXJuIG4mJm4uaW50ZXJuYWxDaGFubmVsUGFyYW1zJiZuLmludGVybmFsQ2hhbm5lbFBhcmFtc1t0XXx8ZX1mdW5jdGlvbiBHbih0KXt0aGlzLnBhPTAsdGhpcy5nPVtdLHRoaXMuYz1uZXcgbGUsdGhpcy5nYT10aGlzLmxhPXRoaXMuQj10aGlzLmZhPXRoaXMuYT10aGlzLm5hPXRoaXMuQT10aGlzLlY9dGhpcy5pPXRoaXMuTz10aGlzLmw9bnVsbCx0aGlzLk9hPXRoaXMuUj0wLHRoaXMuTGE9S24oXCJmYWlsRmFzdFwiLCExLHQpLHRoaXMuSD10aGlzLm09dGhpcy5qPXRoaXMuaD10aGlzLmY9bnVsbCx0aGlzLlM9ITAsdGhpcy5JPXRoaXMub2E9dGhpcy5QPS0xLHRoaXMuVD10aGlzLm89dGhpcy51PTAsdGhpcy5IYT1LbihcImJhc2VSZXRyeURlbGF5TXNcIiw1ZTMsdCksdGhpcy5SYT1LbihcInJldHJ5RGVsYXlTZWVkTXNcIiwxZTQsdCksdGhpcy5NYT1LbihcImZvcndhcmRDaGFubmVsTWF4UmV0cmllc1wiLDIsdCksdGhpcy5tYT1LbihcImZvcndhcmRDaGFubmVsUmVxdWVzdFRpbWVvdXRNc1wiLDJlNCx0KSx0aGlzLk5hPXQmJnQuZ3x8dm9pZCAwLHRoaXMuRD12b2lkIDAsdGhpcy5DPXQmJnQuc3VwcG9ydHNDcm9zc0RvbWFpblhocnx8ITEsdGhpcy5KPVwiXCIsdGhpcy5iPW5ldyBibih0JiZ0LmNvbmN1cnJlbnRSZXF1ZXN0TGltaXQpLHRoaXMua2E9bmV3IEFuLHRoaXMuZGE9dCYmdC5mYXN0SGFuZHNoYWtlfHwhMSx0aGlzLklhPXQmJnQuYnx8ITEsdCYmdC5mJiYodGhpcy5jLmE9ITEpLHQmJnQuZm9yY2VMb25nUG9sbGluZyYmKHRoaXMuUz0hMSksdGhpcy5VPSF0aGlzLmRhJiZ0aGlzLlMmJnQmJnQuZGV0ZWN0QnVmZmVyaW5nUHJveHl8fCExLHRoaXMuZWE9dm9pZCAwLHRoaXMuTj0wLHRoaXMuRj0hMSx0aGlzLnM9bnVsbCwodGhpcy5LYT10JiZ0LmN8fCExKSYmdGhpcy5jLmluZm8oXCJPcHQtaW4gdG8gZW5hYmxlIENocm9tZSBPcmlnaW4gVHJpYWxzLlwiKX1mdW5jdGlvbiBRbih0KXt2YXIgZSxuO0huKHQpLDM9PXQudiYmKGU9dC5SKyssZW4obj1YZSh0LkIpLFwiU0lEXCIsdC5KKSxlbihuLFwiUklEXCIsZSksZW4obixcIlRZUEVcIixcInRlcm1pbmF0ZVwiKSxKbih0LG4pLChlPW5ldyBDZSh0LHQuYyxlLHZvaWQgMCkpLkg9MixlLmk9bm4oWGUobikpLG49ITEsIShuPUEubmF2aWdhdG9yJiZBLm5hdmlnYXRvci5zZW5kQmVhY29uP0EubmF2aWdhdG9yLnNlbmRCZWFjb24oZS5pLnRvU3RyaW5nKCksXCJcIik6bikmJkEuSW1hZ2UmJigobmV3IEltYWdlKS5zcmM9ZS5pLG49ITApLG58fChlLmE9Y3IoZS5nLG51bGwpLGUuYS5iYShlLmkpKSxlLnU9VigpLFZlKGUpKSxhcih0KX1mdW5jdGlvbiB6bih0KXt0LmEmJihlcih0KSx0LmEuY2FuY2VsKCksdC5hPW51bGwpfWZ1bmN0aW9uIEhuKHQpe3puKHQpLHQuaiYmKEEuY2xlYXJUaW1lb3V0KHQuaiksdC5qPW51bGwpLHJyKHQpLHQuYi5jYW5jZWwoKSx0LmgmJihcIm51bWJlclwiPT10eXBlb2YgdC5oJiZBLmNsZWFyVGltZW91dCh0LmgpLHQuaD1udWxsKX1mdW5jdGlvbiBXbih0LGUpe3QuZy5wdXNoKG5ldyB2bih0Lk9hKyssZSkpLDM9PXQudiYmWW4odCl9ZnVuY3Rpb24gWW4odCl7SW4odC5iKXx8dC5ofHwodC5oPSEwLFd0KHQuQmEsdCksdC51PTApfWZ1bmN0aW9uIFhuKHQsZSl7dmFyIG49ZT9lLmY6dC5SKysscj1YZSh0LkIpO2VuKHIsXCJTSURcIix0LkopLGVuKHIsXCJSSURcIixuKSxlbihyLFwiQUlEXCIsdC5QKSxKbih0LHIpLHQuaSYmdC5sJiZqbihyLHQuaSx0LmwpLG49bmV3IENlKHQsdC5jLG4sdC51KzEpLG51bGw9PT10LmkmJihuLkI9dC5sKSxlJiYodC5nPWUucy5jb25jYXQodC5nKSksZT0kbih0LG4sMWUzKSxuLnNldFRpbWVvdXQoTWF0aC5yb3VuZCguNSp0Lm1hKStNYXRoLnJvdW5kKC41KnQubWEqTWF0aC5yYW5kb20oKSkpLF9uKHQuYixuKSxQZShuLHIsZSl9ZnVuY3Rpb24gSm4odCxuKXt0LmYmJkdlKHt9LGZ1bmN0aW9uKHQsZSl7ZW4obixlLHQpfSl9ZnVuY3Rpb24gJG4odCxlLG4pe249TWF0aC5taW4odC5nLmxlbmd0aCxuKTt2YXIgcj10LmY/TSh0LmYuSmEsdC5mLHQpOm51bGw7dDpmb3IodmFyIGk9dC5nLG89LTE7Oyl7dmFyIHM9W1wiY291bnQ9XCIrbl07LTE9PW8/MDxuPyhvPWlbMF0uYixzLnB1c2goXCJvZnM9XCIrbykpOm89MDpzLnB1c2goXCJvZnM9XCIrbyk7Zm9yKHZhciBhPSEwLHU9MDt1PG47dSsrKXt2YXIgYz1pW3VdLmIsaD1pW3VdLmE7aWYoKGMtPW8pPDApbz1NYXRoLm1heCgwLGlbdV0uYi0xMDApLGE9ITE7ZWxzZSB0cnl7IWZ1bmN0aW9uKHQscixlKXt2YXIgaT1lfHxcIlwiO3RyeXtHZSh0LGZ1bmN0aW9uKHQsZSl7dmFyIG49dDtSKHQpJiYobj1qdCh0KSksci5wdXNoKGkrZStcIj1cIitlbmNvZGVVUklDb21wb25lbnQobikpfSl9Y2F0Y2godCl7dGhyb3cgci5wdXNoKGkrXCJ0eXBlPVwiK2VuY29kZVVSSUNvbXBvbmVudChcIl9iYWRtYXBcIikpLHR9fShoLHMsXCJyZXFcIitjK1wiX1wiKX1jYXRjaCh0KXtyJiZyKGgpfX1pZihhKXtyPXMuam9pbihcIiZcIik7YnJlYWsgdH19cmV0dXJuIHQ9dC5nLnNwbGljZSgwLG4pLGUucz10LHJ9ZnVuY3Rpb24gWm4odCl7dC5hfHx0Lmp8fCh0LlQ9MSxXdCh0LkFhLHQpLHQubz0wKX1mdW5jdGlvbiB0cih0KXtyZXR1cm4hKHQuYXx8dC5qfHwzPD10Lm8pJiYodC5UKyssdC5qPUllKE0odC5BYSx0KSxvcih0LHQubykpLHQubysrLDEpfWZ1bmN0aW9uIGVyKHQpe251bGwhPXQucyYmKEEuY2xlYXJUaW1lb3V0KHQucyksdC5zPW51bGwpfWZ1bmN0aW9uIG5yKHQpe3QuYT1uZXcgQ2UodCx0LmMsXCJycGNcIix0LlQpLG51bGw9PT10LmkmJih0LmEuQj10LmwpLHQuYS5PPTA7dmFyIGU9WGUodC5sYSk7ZW4oZSxcIlJJRFwiLFwicnBjXCIpLGVuKGUsXCJTSURcIix0LkopLGVuKGUsXCJDSVwiLHQuSD9cIjBcIjpcIjFcIiksZW4oZSxcIkFJRFwiLHQuUCksSm4odCxlKSxlbihlLFwiVFlQRVwiLFwieG1saHR0cFwiKSx0LmkmJnQubCYmam4oZSx0LmksdC5sKSx0LkQmJnQuYS5zZXRUaW1lb3V0KHQuRCk7dmFyIG49dC5hO3Q9dC5nYSxuLkg9MSxuLmk9bm4oWGUoZSkpLG4uaj1udWxsLG4uST0hMCxNZShuLHQpfWZ1bmN0aW9uIHJyKHQpe251bGwhPXQubSYmKEEuY2xlYXJUaW1lb3V0KHQubSksdC5tPW51bGwpfWZ1bmN0aW9uIGlyKHQsZSl7dmFyIG4scixpLG89bnVsbDtpZih0LmE9PWUpe3JyKHQpLGVyKHQpLHQuYT1udWxsO3ZhciBzPTJ9ZWxzZXtpZighVG4odC5iLGUpKXJldHVybjtvPWUucyxTbih0LmIsZSkscz0xfWlmKHQuST1lLk4sMCE9dC52KWlmKGUuYikxPT1zPyhvPWUuaj9lLmoubGVuZ3RoOjAsZT1WKCktZS51LG49dC51LHF0KHM9eWUoKSxuZXcgd2UocykpLFluKHQpKTpabih0KTtlbHNlIGlmKDM9PShuPWUuaCl8fDA9PW4mJjA8dC5JfHwoMSE9c3x8KGk9ZSxFbigocj10KS5iKT49ci5iLmYtKHIuaD8xOjApfHwoci5oPyhyLmc9aS5zLmNvbmNhdChyLmcpLDApOjE9PXIudnx8Mj09ci52fHxyLnU+PShyLkxhPzA6ci5NYSl8fChyLmg9SWUoTShyLkJhLHIsaSksb3IocixyLnUpKSxyLnUrKywwKSkpKSYmKDIhPXN8fCF0cih0KSkpc3dpdGNoKG8mJjA8by5sZW5ndGgmJihlPXQuYixlLmM9ZS5jLmNvbmNhdChvKSksbil7Y2FzZSAxOnNyKHQsNSk7YnJlYWs7Y2FzZSA0OnNyKHQsMTApO2JyZWFrO2Nhc2UgMzpzcih0LDYpO2JyZWFrO2RlZmF1bHQ6c3IodCwyKX19ZnVuY3Rpb24gb3IodCxlKXt2YXIgbj10LkhhK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0LlJhKTtyZXR1cm4gdC5mfHwobio9MiksbiplfWZ1bmN0aW9uIHNyKHQsZSl7dmFyIG4scixpLG87dC5jLmluZm8oXCJFcnJvciBjb2RlIFwiK2UpLDI9PWU/KHI9bnVsbCx0LmYmJihyPW51bGwpLG89TSh0LllhLHQpLHJ8fChyPW5ldyBZZShcIi8vd3d3Lmdvb2dsZS5jb20vaW1hZ2VzL2NsZWFyZG90LmdpZlwiKSxBLmxvY2F0aW9uJiZcImh0dHBcIj09QS5sb2NhdGlvbi5wcm90b2NvbHx8SmUocixcImh0dHBzXCIpLG5uKHIpKSxuPXIudG9TdHJpbmcoKSxyPW8sbz1uZXcgbGUsQS5JbWFnZT8oKGk9bmV3IEltYWdlKS5vbmxvYWQ9RihrbixvLGksXCJUZXN0TG9hZEltYWdlOiBsb2FkZWRcIiwhMCxyKSxpLm9uZXJyb3I9RihrbixvLGksXCJUZXN0TG9hZEltYWdlOiBlcnJvclwiLCExLHIpLGkub25hYm9ydD1GKGtuLG8saSxcIlRlc3RMb2FkSW1hZ2U6IGFib3J0XCIsITEsciksaS5vbnRpbWVvdXQ9RihrbixvLGksXCJUZXN0TG9hZEltYWdlOiB0aW1lb3V0XCIsITEsciksQS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5vbnRpbWVvdXQmJmkub250aW1lb3V0KCl9LDFlNCksaS5zcmM9bik6cighMSkpOmJlKDIpLHQudj0wLHQuZiYmdC5mLnJhKGUpLGFyKHQpLEhuKHQpfWZ1bmN0aW9uIGFyKHQpe3Qudj0wLHQuST0tMSx0LmYmJigwPT1Obih0LmIpLmxlbmd0aCYmMD09dC5nLmxlbmd0aHx8KHQuYi5jLmxlbmd0aD0wLEcodC5nKSx0LmcubGVuZ3RoPTApLHQuZi5xYSgpKX1mdW5jdGlvbiB1cih0LGUsbil7dmFyIHIsaSxvLHMsYSx1PShzPW4paW5zdGFuY2VvZiBZZT9YZShzKTpuZXcgWWUocyx2b2lkIDApO3JldHVyblwiXCIhPXUuYz8oZSYmJGUodSxlK1wiLlwiK3UuYyksWmUodSx1LmgpKTooYT1BLmxvY2F0aW9uLHI9YS5wcm90b2NvbCxpPWU/ZStcIi5cIithLmhvc3RuYW1lOmEuaG9zdG5hbWUsbz0rYS5wb3J0LHM9bixhPW5ldyBZZShudWxsLHZvaWQgMCksciYmSmUoYSxyKSxpJiYkZShhLGkpLG8mJlplKGEsbykscyYmKGEuZz1zKSx1PWEpLHQuViYmSih0LlYsZnVuY3Rpb24odCxlKXtlbih1LGUsdCl9KSxlPXQuQSxuPXQubmEsZSYmbiYmZW4odSxlLG4pLGVuKHUsXCJWRVJcIix0LmhhKSxKbih0LHUpLHV9ZnVuY3Rpb24gY3IodCxlKXtpZihlJiYhdC5DKXRocm93IEVycm9yKFwiQ2FuJ3QgY3JlYXRlIHNlY29uZGFyeSBkb21haW4gY2FwYWJsZSBYaHJJbyBvYmplY3QuXCIpO3JldHVybihlPW5ldyBSbih0Lk5hKSkuRj10LkMsZX1mdW5jdGlvbiBocigpe31mdW5jdGlvbiBscigpe2lmKGl0JiYhKDEwPD1OdW1iZXIocHQpKSl0aHJvdyBFcnJvcihcIkVudmlyb25tZW50YWwgZXJyb3I6IG5vIGF2YWlsYWJsZSB0cmFuc3BvcnQuXCIpfWZ1bmN0aW9uIGZyKHQsZSl7VXQuY2FsbCh0aGlzKSx0aGlzLmE9bmV3IEduKGUpLHRoaXMubz10LHRoaXMuYj1lJiZlLm1lc3NhZ2VVcmxQYXJhbXN8fG51bGwsdD1lJiZlLm1lc3NhZ2VIZWFkZXJzfHxudWxsLGUmJmUuY2xpZW50UHJvdG9jb2xIZWFkZXJSZXF1aXJlZCYmKHQ/dFtcIlgtQ2xpZW50LVByb3RvY29sXCJdPVwid2ViY2hhbm5lbFwiOnQ9e1wiWC1DbGllbnQtUHJvdG9jb2xcIjpcIndlYmNoYW5uZWxcIn0pLHRoaXMuYS5sPXQsdD1lJiZlLmluaXRNZXNzYWdlSGVhZGVyc3x8bnVsbCxlJiZlLm1lc3NhZ2VDb250ZW50VHlwZSYmKHQ/dFtcIlgtV2ViQ2hhbm5lbC1Db250ZW50LVR5cGVcIl09ZS5tZXNzYWdlQ29udGVudFR5cGU6dD17XCJYLVdlYkNoYW5uZWwtQ29udGVudC1UeXBlXCI6ZS5tZXNzYWdlQ29udGVudFR5cGV9KSxlJiZlLmEmJih0P3RbXCJYLVdlYkNoYW5uZWwtQ2xpZW50LVByb2ZpbGVcIl09ZS5hOnQ9e1wiWC1XZWJDaGFubmVsLUNsaWVudC1Qcm9maWxlXCI6ZS5hfSksdGhpcy5hLk89dCwodD1lJiZlLmh0dHBIZWFkZXJzT3ZlcndyaXRlUGFyYW0pJiYhUSh0KSYmKHRoaXMuYS5pPXQpLHRoaXMubT1lJiZlLnN1cHBvcnRzQ3Jvc3NEb21haW5YaHJ8fCExLHRoaXMubD1lJiZlLnNlbmRSYXdKc29ufHwhMSwoZT1lJiZlLmh0dHBTZXNzaW9uSWRQYXJhbSkmJiFRKGUpJiYodGhpcy5hLkE9ZSxudWxsIT09KHQ9dGhpcy5iKSYmZSBpbiB0JiYoZSBpbih0PXRoaXMuYikmJmRlbGV0ZSB0W2VdKSksdGhpcy5mPW5ldyB5cih0aGlzKX1mdW5jdGlvbiBkcih0KXtEZS5jYWxsKHRoaXMpO3ZhciBlPXQuX19zbV9fO2lmKGUpe3Q6e2Zvcih2YXIgbiBpbiBlKXt0PW47YnJlYWsgdH10PXZvaWQgMH0odGhpcy5jPXQpPyh0PXRoaXMuYyx0aGlzLmRhdGE9bnVsbCE9PWUmJnQgaW4gZT9lW3RdOnZvaWQgMCk6dGhpcy5kYXRhPWV9ZWxzZSB0aGlzLmRhdGE9dH1mdW5jdGlvbiBwcigpe0FlLmNhbGwodGhpcyksdGhpcy5zdGF0dXM9MX1mdW5jdGlvbiB5cih0KXt0aGlzLmE9dH0oUz1Sbi5wcm90b3R5cGUpLmJhPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHRoaXMuYSl0aHJvdyBFcnJvcihcIltnb29nLm5ldC5YaHJJb10gT2JqZWN0IGlzIGFjdGl2ZSB3aXRoIGFub3RoZXIgcmVxdWVzdD1cIit0aGlzLkIrXCI7IG5ld1VyaT1cIit0KTtlPWU/ZS50b1VwcGVyQ2FzZSgpOlwiR0VUXCIsdGhpcy5CPXQsdGhpcy5mPVwiXCIsdGhpcy5oPTAsdGhpcy51PSExLHRoaXMuYj0hMCx0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0LHRoaXMucz10aGlzLkg/U2UodGhpcy5IKTpTZShSZSksdGhpcy5hLm9ucmVhZHlzdGF0ZWNoYW5nZT1NKHRoaXMuemEsdGhpcyk7dHJ5e3RoaXMuQT0hMCx0aGlzLmEub3BlbihlLFN0cmluZyh0KSwhMCksdGhpcy5BPSExfWNhdGNoKHQpe3JldHVybiB2b2lkIE1uKHRoaXMsdCl9dD1ufHxcIlwiO3ZhciBpLG89bmV3IFFlKHRoaXMuaGVhZGVycyk7ciYmR2UocixmdW5jdGlvbih0LGUpe28uc2V0KGUsdCl9KSxyPWZ1bmN0aW9uKHQpe3Q6e2Zvcih2YXIgZT1QbixuPXQubGVuZ3RoLHI9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dC5zcGxpdChcIlwiKTp0LGk9MDtpPG47aSsrKWlmKGkgaW4gciYmZS5jYWxsKHZvaWQgMCxyW2ldLGksdCkpe2U9aTticmVhayB0fWU9LTF9cmV0dXJuIGU8MD9udWxsOlwic3RyaW5nXCI9PXR5cGVvZiB0P3QuY2hhckF0KGUpOnRbZV19KG8uTCgpKSxuPUEuRm9ybURhdGEmJnQgaW5zdGFuY2VvZiBBLkZvcm1EYXRhLDA8PUIoTG4sZSkmJiFyJiYhbiYmby5zZXQoXCJDb250ZW50LVR5cGVcIixcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04XCIpLG8uZm9yRWFjaChmdW5jdGlvbih0LGUpe3RoaXMuYS5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9LHRoaXMpLHRoaXMuSSYmKHRoaXMuYS5yZXNwb25zZVR5cGU9dGhpcy5JKSxcIndpdGhDcmVkZW50aWFsc1wiaW4gdGhpcy5hJiZ0aGlzLmEud2l0aENyZWRlbnRpYWxzIT09dGhpcy5GJiYodGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLkYpO3RyeXtxbih0aGlzKSwwPHRoaXMubyYmKCh0aGlzLkQ9KGk9dGhpcy5hLGl0JiZkdCg5KSYmXCJudW1iZXJcIj09dHlwZW9mIGkudGltZW91dCYmdm9pZCAwIT09aS5vbnRpbWVvdXQpKT8odGhpcy5hLnRpbWVvdXQ9dGhpcy5vLHRoaXMuYS5vbnRpbWVvdXQ9TSh0aGlzLnhhLHRoaXMpKTp0aGlzLm09dGUodGhpcy54YSx0aGlzLm8sdGhpcykpLHRoaXMubD0hMCx0aGlzLmEuc2VuZCh0KSx0aGlzLmw9ITF9Y2F0Y2godCl7TW4odGhpcyx0KX19LFMueGE9ZnVuY3Rpb24oKXt2b2lkIDAhPT1EJiZ0aGlzLmEmJih0aGlzLmY9XCJUaW1lZCBvdXQgYWZ0ZXIgXCIrdGhpcy5vK1wibXMsIGFib3J0aW5nXCIsdGhpcy5oPTgscXQodGhpcyxcInRpbWVvdXRcIiksdGhpcy5hYm9ydCg4KSl9LFMuYWJvcnQ9ZnVuY3Rpb24odCl7dGhpcy5hJiZ0aGlzLmImJih0aGlzLmI9ITEsdGhpcy5nPSEwLHRoaXMuYS5hYm9ydCgpLHRoaXMuZz0hMSx0aGlzLmg9dHx8NyxxdCh0aGlzLFwiY29tcGxldGVcIikscXQodGhpcyxcImFib3J0XCIpLFVuKHRoaXMpKX0sUy5HPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5iJiYodGhpcy5iPSExLHRoaXMuZz0hMCx0aGlzLmEuYWJvcnQoKSx0aGlzLmc9ITEpLFVuKHRoaXMsITApKSxSbi5YLkcuY2FsbCh0aGlzKX0sUy56YT1mdW5jdGlvbigpe3RoaXMuanx8KHRoaXMuQXx8dGhpcy5sfHx0aGlzLmc/Vm4odGhpcyk6dGhpcy5VYSgpKX0sUy5VYT1mdW5jdGlvbigpe1ZuKHRoaXMpfSxTLlc9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIDI8Qm4odGhpcyk/dGhpcy5hLnN0YXR1czotMX1jYXRjaCh0KXtyZXR1cm4tMX19LFMuJD1mdW5jdGlvbigpe3RyeXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5yZXNwb25zZVRleHQ6XCJcIn1jYXRjaCh0KXtyZXR1cm5cIlwifX0sUy5QYT1mdW5jdGlvbih0KXtpZih0aGlzLmEpe3ZhciBlPXRoaXMuYS5yZXNwb25zZVRleHQ7cmV0dXJuIHQmJjA9PWUuaW5kZXhPZih0KSYmKGU9ZS5zdWJzdHJpbmcodC5sZW5ndGgpKSxDbihlKX19LFMudWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ofSxTLlFhPWZ1bmN0aW9uKCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMuZj90aGlzLmY6U3RyaW5nKHRoaXMuZil9LChTPUduLnByb3RvdHlwZSkuaGE9OCxTLnY9MSxTLkJhPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaClpZih0aGlzLmg9bnVsbCwxPT10aGlzLnYpe2lmKCF0KXt0aGlzLlI9TWF0aC5mbG9vcigxZTUqTWF0aC5yYW5kb20oKSksdD10aGlzLlIrKzt2YXIgZSxuPW5ldyBDZSh0aGlzLHRoaXMuYyx0LHZvaWQgMCkscj10aGlzLmw7aWYodGhpcy5PJiYocj90dChyPSQociksdGhpcy5PKTpyPXRoaXMuTyksbnVsbD09PXRoaXMuaSYmKG4uQj1yKSx0aGlzLmRhKXQ6e2Zvcih2YXIgaT1lPTA7aTx0aGlzLmcubGVuZ3RoO2krKyl7dmFyIG89dGhpcy5nW2ldO2lmKFwiX19kYXRhX19cImluIG8uYSYmXCJzdHJpbmdcIj09dHlwZW9mKG89by5hLl9fZGF0YV9fKT9vPW8ubGVuZ3RoOm89dm9pZCAwLHZvaWQgMD09PW8pYnJlYWs7aWYoNDA5NjwoZSs9bykpe2U9aTticmVhayB0fWlmKDQwOTY9PT1lfHxpPT09dGhpcy5nLmxlbmd0aC0xKXtlPWkrMTticmVhayB0fX1lPTFlM31lbHNlIGU9MWUzO2U9JG4odGhpcyxuLGUpLGVuKGk9WGUodGhpcy5CKSxcIlJJRFwiLHQpLGVuKGksXCJDVkVSXCIsMjIpLHRoaXMuQSYmZW4oaSxcIlgtSFRUUC1TZXNzaW9uLUlkXCIsdGhpcy5BKSxKbih0aGlzLGkpLHRoaXMuaSYmciYmam4oaSx0aGlzLmksciksX24odGhpcy5iLG4pLHRoaXMuSWEmJmVuKGksXCJUWVBFXCIsXCJpbml0XCIpLHRoaXMuZGE/KGVuKGksXCIkcmVxXCIsZSksZW4oaSxcIlNJRFwiLFwibnVsbFwiKSxuLlU9ITAsUGUobixpLG51bGwpKTpQZShuLGksZSksdGhpcy52PTJ9fWVsc2UgMz09dGhpcy52JiYodD9Ybih0aGlzLHQpOjA9PXRoaXMuZy5sZW5ndGh8fEluKHRoaXMuYil8fFhuKHRoaXMpKX0sUy5BYT1mdW5jdGlvbigpe3ZhciB0O3RoaXMuaj1udWxsLG5yKHRoaXMpLHRoaXMuVSYmISh0aGlzLkZ8fG51bGw9PXRoaXMuYXx8dGhpcy5OPD0wKSYmKHQ9Mip0aGlzLk4sdGhpcy5jLmluZm8oXCJCUCBkZXRlY3Rpb24gdGltZXIgZW5hYmxlZDogXCIrdCksdGhpcy5zPUllKE0odGhpcy5UYSx0aGlzKSx0KSl9LFMuVGE9ZnVuY3Rpb24oKXt0aGlzLnMmJih0aGlzLnM9bnVsbCx0aGlzLmMuaW5mbyhcIkJQIGRldGVjdGlvbiB0aW1lb3V0IHJlYWNoZWQuXCIpLHRoaXMuYy5pbmZvKFwiQnVmZmVyaW5nIHByb3h5IGRldGVjdGVkIGFuZCBzd2l0Y2ggdG8gbG9uZy1wb2xsaW5nIVwiKSx0aGlzLkg9ITEsdGhpcy5GPSEwLGJlKDEwKSx6bih0aGlzKSxucih0aGlzKSl9LFMuU2E9ZnVuY3Rpb24oKXtudWxsIT10aGlzLm0mJih0aGlzLm09bnVsbCx6bih0aGlzKSx0cih0aGlzKSxiZSgxOSkpfSxTLllhPWZ1bmN0aW9uKHQpe3Q/KHRoaXMuYy5pbmZvKFwiU3VjY2Vzc2Z1bGx5IHBpbmdlZCBnb29nbGUuY29tXCIpLGJlKDIpKToodGhpcy5jLmluZm8oXCJGYWlsZWQgdG8gcGluZyBnb29nbGUuY29tXCIpLGJlKDEpKX0sKFM9aHIucHJvdG90eXBlKS50YT1mdW5jdGlvbigpe30sUy5zYT1mdW5jdGlvbigpe30sUy5yYT1mdW5jdGlvbigpe30sUy5xYT1mdW5jdGlvbigpe30sUy5KYT1mdW5jdGlvbigpe30sbHIucHJvdG90eXBlLmE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGZyKHQsZSl9LFUoZnIsVXQpLGZyLnByb3RvdHlwZS5nPWZ1bmN0aW9uKCl7dGhpcy5hLmY9dGhpcy5mLHRoaXMubSYmKHRoaXMuYS5DPSEwKTt2YXIgdD10aGlzLmEsZT10aGlzLm8sbj10aGlzLmJ8fHZvaWQgMDtiZSgwKSx0LmZhPWUsdC5WPW58fHt9LHQuSD10LlMsdC5CPXVyKHQsbnVsbCx0LmZhKSxZbih0KX0sZnIucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7UW4odGhpcy5hKX0sZnIucHJvdG90eXBlLmg9ZnVuY3Rpb24odCl7dmFyIGU7XCJzdHJpbmdcIj09dHlwZW9mIHQ/KChlPXt9KS5fX2RhdGFfXz10LFduKHRoaXMuYSxlKSk6dGhpcy5sPygoZT17fSkuX19kYXRhX189anQodCksV24odGhpcy5hLGUpKTpXbih0aGlzLmEsdCl9LGZyLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7dGhpcy5hLmY9bnVsbCxkZWxldGUgdGhpcy5mLFFuKHRoaXMuYSksZGVsZXRlIHRoaXMuYSxmci5YLkcuY2FsbCh0aGlzKX0sVShkcixEZSksVShwcixBZSksVSh5cixocikseXIucHJvdG90eXBlLnRhPWZ1bmN0aW9uKCl7cXQodGhpcy5hLFwiYVwiKX0seXIucHJvdG90eXBlLnNhPWZ1bmN0aW9uKHQpe3F0KHRoaXMuYSxuZXcgZHIodCkpfSx5ci5wcm90b3R5cGUucmE9ZnVuY3Rpb24odCl7cXQodGhpcy5hLG5ldyBwcil9LHlyLnByb3RvdHlwZS5xYT1mdW5jdGlvbigpe3F0KHRoaXMuYSxcImJcIil9LGxyLnByb3RvdHlwZS5jcmVhdGVXZWJDaGFubmVsPWxyLnByb3RvdHlwZS5hLGZyLnByb3RvdHlwZS5zZW5kPWZyLnByb3RvdHlwZS5oLGZyLnByb3RvdHlwZS5vcGVuPWZyLnByb3RvdHlwZS5nLEVlLk5PX0VSUk9SPTAsRWUuVElNRU9VVD04LEVlLkhUVFBfRVJST1I9NixUZS5DT01QTEVURT1cImNvbXBsZXRlXCIsKE5lLkV2ZW50VHlwZT1OKS5PUEVOPVwiYVwiLE4uQ0xPU0U9XCJiXCIsTi5FUlJPUj1cImNcIixOLk1FU1NBR0U9XCJkXCIsVXQucHJvdG90eXBlLmxpc3Rlbj1VdC5wcm90b3R5cGUudmEsUm4ucHJvdG90eXBlLmxpc3Rlbk9uY2U9Um4ucHJvdG90eXBlLndhLFJuLnByb3RvdHlwZS5nZXRMYXN0RXJyb3I9Um4ucHJvdG90eXBlLlFhLFJuLnByb3RvdHlwZS5nZXRMYXN0RXJyb3JDb2RlPVJuLnByb3RvdHlwZS51YSxSbi5wcm90b3R5cGUuZ2V0U3RhdHVzPVJuLnByb3RvdHlwZS5XLFJuLnByb3RvdHlwZS5nZXRSZXNwb25zZUpzb249Um4ucHJvdG90eXBlLlBhLFJuLnByb3RvdHlwZS5nZXRSZXNwb25zZVRleHQ9Um4ucHJvdG90eXBlLiQsUm4ucHJvdG90eXBlLnNlbmQ9Um4ucHJvdG90eXBlLmJhO3ZhciBncj15ZSxtcj1FZSx2cj1UZSxicj1kZSx3cj0xMCxJcj0xMSxFcj1OZSxUcj1Sbixfcj0oU3IucHJvdG90eXBlLnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJldmlvdXNWYWx1ZT1NYXRoLm1heCh0LHRoaXMucHJldmlvdXNWYWx1ZSksdGhpcy5wcmV2aW91c1ZhbHVlfSxTci5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3ZhciB0PSsrdGhpcy5wcmV2aW91c1ZhbHVlO3JldHVybiB0aGlzLmkmJnRoaXMuaSh0KSx0fSxTcik7ZnVuY3Rpb24gU3IodCxlKXt2YXIgbj10aGlzO3RoaXMucHJldmlvdXNWYWx1ZT10LGUmJihlLnNlcXVlbmNlTnVtYmVySGFuZGxlcj1mdW5jdGlvbih0KXtyZXR1cm4gbi50KHQpfSx0aGlzLmk9ZnVuY3Rpb24odCl7cmV0dXJuIGUud3JpdGVTZXF1ZW5jZU51bWJlcih0KX0pfV9yLm89LTE7dmFyIE5yLERyPXtPSzpcIm9rXCIsQ0FOQ0VMTEVEOlwiY2FuY2VsbGVkXCIsVU5LTk9XTjpcInVua25vd25cIixJTlZBTElEX0FSR1VNRU5UOlwiaW52YWxpZC1hcmd1bWVudFwiLERFQURMSU5FX0VYQ0VFREVEOlwiZGVhZGxpbmUtZXhjZWVkZWRcIixOT1RfRk9VTkQ6XCJub3QtZm91bmRcIixBTFJFQURZX0VYSVNUUzpcImFscmVhZHktZXhpc3RzXCIsUEVSTUlTU0lPTl9ERU5JRUQ6XCJwZXJtaXNzaW9uLWRlbmllZFwiLFVOQVVUSEVOVElDQVRFRDpcInVuYXV0aGVudGljYXRlZFwiLFJFU09VUkNFX0VYSEFVU1RFRDpcInJlc291cmNlLWV4aGF1c3RlZFwiLEZBSUxFRF9QUkVDT05ESVRJT046XCJmYWlsZWQtcHJlY29uZGl0aW9uXCIsQUJPUlRFRDpcImFib3J0ZWRcIixPVVRfT0ZfUkFOR0U6XCJvdXQtb2YtcmFuZ2VcIixVTklNUExFTUVOVEVEOlwidW5pbXBsZW1lbnRlZFwiLElOVEVSTkFMOlwiaW50ZXJuYWxcIixVTkFWQUlMQUJMRTpcInVuYXZhaWxhYmxlXCIsREFUQV9MT1NTOlwiZGF0YS1sb3NzXCJ9LEFyPShuKENyLE5yPUVycm9yKSxDciksa3I9bmV3IEkoXCJAZmlyZWJhc2UvZmlyZXN0b3JlXCIpO2Z1bmN0aW9uIENyKHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj1Oci5jYWxsKHRoaXMsZSl8fHRoaXMpLmNvZGU9dCxuLm1lc3NhZ2U9ZSxuLm5hbWU9XCJGaXJlYmFzZUVycm9yXCIsbi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBuLm5hbWUrXCI6IFtjb2RlPVwiK24uY29kZStcIl06IFwiK24ubWVzc2FnZX0sbn1mdW5jdGlvbiBScigpe3JldHVybiBrci5sb2dMZXZlbH1mdW5jdGlvbiB4cih0KXtmb3IodmFyIGUsbj1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO2tyLmxvZ0xldmVsPD1mLkRFQlVHJiYoZT1uLm1hcChQciksa3IuZGVidWcuYXBwbHkoa3IscyhbXCJGaXJlc3RvcmUgKDguNC4yKTogXCIrdF0sZSkpKX1mdW5jdGlvbiBPcih0KXtmb3IodmFyIGUsbj1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO2tyLmxvZ0xldmVsPD1mLkVSUk9SJiYoZT1uLm1hcChQciksa3IuZXJyb3IuYXBwbHkoa3IscyhbXCJGaXJlc3RvcmUgKDguNC4yKTogXCIrdF0sZSkpKX1mdW5jdGlvbiBMcih0KXtmb3IodmFyIGUsbj1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO2tyLmxvZ0xldmVsPD1mLldBUk4mJihlPW4ubWFwKFByKSxrci53YXJuLmFwcGx5KGtyLHMoW1wiRmlyZXN0b3JlICg4LjQuMik6IFwiK3RdLGUpKSl9ZnVuY3Rpb24gUHIoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGU7dHJ5e3JldHVybiBKU09OLnN0cmluZ2lmeShlKX1jYXRjaCh0KXtyZXR1cm4gZX19ZnVuY3Rpb24gTXIodCl7dD1cIkZJUkVTVE9SRSAoOC40LjIpIElOVEVSTkFMIEFTU0VSVElPTiBGQUlMRUQ6IFwiKyh0PXZvaWQgMD09PXQ/XCJVbmV4cGVjdGVkIHN0YXRlXCI6dCk7dGhyb3cgT3IodCksbmV3IEVycm9yKHQpfWZ1bmN0aW9uIEZyKHQpe3R8fE1yKCl9dmFyIFZyPShVci51PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIixlPU1hdGguZmxvb3IoMjU2L3QubGVuZ3RoKSp0Lmxlbmd0aCxuPVwiXCI7bi5sZW5ndGg8MjA7KWZvcih2YXIgcj1mdW5jdGlvbih0KXt2YXIgZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmKHNlbGYuY3J5cHRvfHxzZWxmLm1zQ3J5cHRvKSxuPW5ldyBVaW50OEFycmF5KHQpO2lmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZ2V0UmFuZG9tVmFsdWVzKWUuZ2V0UmFuZG9tVmFsdWVzKG4pO2Vsc2UgZm9yKHZhciByPTA7cjx0O3IrKyluW3JdPU1hdGguZmxvb3IoMjU2Kk1hdGgucmFuZG9tKCkpO3JldHVybiBufSg0MCksaT0wO2k8ci5sZW5ndGg7KytpKW4ubGVuZ3RoPDIwJiZyW2ldPGUmJihuKz10LmNoYXJBdChyW2ldJXQubGVuZ3RoKSk7cmV0dXJuIG59LFVyKTtmdW5jdGlvbiBVcigpe31mdW5jdGlvbiBxcih0LGUpe3JldHVybiB0PGU/LTE6ZTx0PzE6MH1mdW5jdGlvbiBCcih0LG4scil7cmV0dXJuIHQubGVuZ3RoPT09bi5sZW5ndGgmJnQuZXZlcnkoZnVuY3Rpb24odCxlKXtyZXR1cm4gcih0LG5bZV0pfSl9ZnVuY3Rpb24ganIodCl7cmV0dXJuIHQrXCJcXDBcIn12YXIgS3I9KHpyLm5vdz1mdW5jdGlvbigpe3JldHVybiB6ci5mcm9tTWlsbGlzKERhdGUubm93KCkpfSx6ci5mcm9tRGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4genIuZnJvbU1pbGxpcyh0LmdldFRpbWUoKSl9LHpyLmZyb21NaWxsaXM9ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5mbG9vcih0LzFlMyk7cmV0dXJuIG5ldyB6cihlLE1hdGguZmxvb3IoMWU2Kih0LTFlMyplKSkpfSx6ci5wcm90b3R5cGUudG9EYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRlKHRoaXMudG9NaWxsaXMoKSl9LHpyLnByb3RvdHlwZS50b01pbGxpcz1mdW5jdGlvbigpe3JldHVybiAxZTMqdGhpcy5zZWNvbmRzK3RoaXMubmFub3NlY29uZHMvMWU2fSx6ci5wcm90b3R5cGUuX2NvbXBhcmVUbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZWNvbmRzPT09dC5zZWNvbmRzP3FyKHRoaXMubmFub3NlY29uZHMsdC5uYW5vc2Vjb25kcyk6cXIodGhpcy5zZWNvbmRzLHQuc2Vjb25kcyl9LHpyLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0LnNlY29uZHM9PT10aGlzLnNlY29uZHMmJnQubmFub3NlY29uZHM9PT10aGlzLm5hbm9zZWNvbmRzfSx6ci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlRpbWVzdGFtcChzZWNvbmRzPVwiK3RoaXMuc2Vjb25kcytcIiwgbmFub3NlY29uZHM9XCIrdGhpcy5uYW5vc2Vjb25kcytcIilcIn0senIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybntzZWNvbmRzOnRoaXMuc2Vjb25kcyxuYW5vc2Vjb25kczp0aGlzLm5hbm9zZWNvbmRzfX0senIucHJvdG90eXBlLnZhbHVlT2Y9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNlY29uZHMtIC02MjEzNTU5NjgwMDtyZXR1cm4gU3RyaW5nKHQpLnBhZFN0YXJ0KDEyLFwiMFwiKStcIi5cIitTdHJpbmcodGhpcy5uYW5vc2Vjb25kcykucGFkU3RhcnQoOSxcIjBcIil9LHpyKSxHcj0oUXIuZnJvbVRpbWVzdGFtcD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFFyKHQpfSxRci5taW49ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFFyKG5ldyBLcigwLDApKX0sUXIucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aW1lc3RhbXAuX2NvbXBhcmVUbyh0LnRpbWVzdGFtcCl9LFFyLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRpbWVzdGFtcC5pc0VxdWFsKHQudGltZXN0YW1wKX0sUXIucHJvdG90eXBlLnRvTWljcm9zZWNvbmRzPWZ1bmN0aW9uKCl7cmV0dXJuIDFlNip0aGlzLnRpbWVzdGFtcC5zZWNvbmRzK3RoaXMudGltZXN0YW1wLm5hbm9zZWNvbmRzLzFlM30sUXIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJTbmFwc2hvdFZlcnNpb24oXCIrdGhpcy50aW1lc3RhbXAudG9TdHJpbmcoKStcIilcIn0sUXIucHJvdG90eXBlLnRvVGltZXN0YW1wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGltZXN0YW1wfSxRcik7ZnVuY3Rpb24gUXIodCl7dGhpcy50aW1lc3RhbXA9dH1mdW5jdGlvbiB6cih0LGUpe2lmKHRoaXMuc2Vjb25kcz10LCh0aGlzLm5hbm9zZWNvbmRzPWUpPDApdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJUaW1lc3RhbXAgbmFub3NlY29uZHMgb3V0IG9mIHJhbmdlOiBcIitlKTtpZigxZTk8PWUpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJUaW1lc3RhbXAgbmFub3NlY29uZHMgb3V0IG9mIHJhbmdlOiBcIitlKTtpZih0PC02MjEzNTU5NjgwMCl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIlRpbWVzdGFtcCBzZWNvbmRzIG91dCBvZiByYW5nZTogXCIrdCk7aWYoMjUzNDAyMzAwODAwPD10KXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiVGltZXN0YW1wIHNlY29uZHMgb3V0IG9mIHJhbmdlOiBcIit0KX1mdW5jdGlvbiBIcih0KXt2YXIgZSxuPTA7Zm9yKGUgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmbisrO3JldHVybiBufWZ1bmN0aW9uIFdyKHQsZSl7Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJmUobix0W25dKX1mdW5jdGlvbiBZcih0KXtmb3IodmFyIGUgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgWHIsSnIsVGU9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhaS5wcm90b3R5cGUsXCJsZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGFpLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiAwPT09YWkuY29tcGFyYXRvcih0aGlzLHQpfSxhaS5wcm90b3R5cGUuY2hpbGQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zZWdtZW50cy5zbGljZSh0aGlzLm9mZnNldCx0aGlzLmxpbWl0KCkpO3JldHVybiB0IGluc3RhbmNlb2YgYWk/dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0pOmUucHVzaCh0KSx0aGlzLmNvbnN0cnVjdChlKX0sYWkucHJvdG90eXBlLmxpbWl0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2Zmc2V0K3RoaXMubGVuZ3RofSxhaS5wcm90b3R5cGUucG9wRmlyc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dm9pZCAwPT09dD8xOnQsdGhpcy5jb25zdHJ1Y3QodGhpcy5zZWdtZW50cyx0aGlzLm9mZnNldCt0LHRoaXMubGVuZ3RoLXQpfSxhaS5wcm90b3R5cGUucG9wTGFzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdCh0aGlzLnNlZ21lbnRzLHRoaXMub2Zmc2V0LHRoaXMubGVuZ3RoLTEpfSxhaS5wcm90b3R5cGUuZmlyc3RTZWdtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VnbWVudHNbdGhpcy5vZmZzZXRdfSxhaS5wcm90b3R5cGUubGFzdFNlZ21lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQodGhpcy5sZW5ndGgtMSl9LGFpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2VnbWVudHNbdGhpcy5vZmZzZXQrdF19LGFpLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxlbmd0aH0sYWkucHJvdG90eXBlLmlzUHJlZml4T2Y9ZnVuY3Rpb24odCl7aWYodC5sZW5ndGg8dGhpcy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLmxlbmd0aDtlKyspaWYodGhpcy5nZXQoZSkhPT10LmdldChlKSlyZXR1cm4hMTtyZXR1cm4hMH0sYWkucHJvdG90eXBlLmlzSW1tZWRpYXRlUGFyZW50T2Y9ZnVuY3Rpb24odCl7aWYodGhpcy5sZW5ndGgrMSE9PXQubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8dGhpcy5sZW5ndGg7ZSsrKWlmKHRoaXMuZ2V0KGUpIT09dC5nZXQoZSkpcmV0dXJuITE7cmV0dXJuITB9LGFpLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLm9mZnNldCxuPXRoaXMubGltaXQoKTtlPG47ZSsrKXQodGhpcy5zZWdtZW50c1tlXSl9LGFpLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VnbWVudHMuc2xpY2UodGhpcy5vZmZzZXQsdGhpcy5saW1pdCgpKX0sYWkuY29tcGFyYXRvcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCkscj0wO3I8bjtyKyspe3ZhciBpPXQuZ2V0KHIpLG89ZS5nZXQocik7aWYoaTxvKXJldHVybi0xO2lmKG88aSlyZXR1cm4gMX1yZXR1cm4gdC5sZW5ndGg8ZS5sZW5ndGg/LTE6dC5sZW5ndGg+ZS5sZW5ndGg/MTowfSxhaSksJHI9KG4oc2ksSnI9VGUpLHNpLnByb3RvdHlwZS5jb25zdHJ1Y3Q9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgc2kodCxlLG4pfSxzaS5wcm90b3R5cGUuY2Fub25pY2FsU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9BcnJheSgpLmpvaW4oXCIvXCIpfSxzaS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5vbmljYWxTdHJpbmcoKX0sc2kuZnJvbVN0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtmb3IodmFyIG49W10scj0wLGk9dDtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTtpZigwPD1vLmluZGV4T2YoXCIvL1wiKSl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgc2VnbWVudCAoXCIrbytcIikuIFBhdGhzIG11c3Qgbm90IGNvbnRhaW4gLy8gaW4gdGhlbS5cIik7bi5wdXNoLmFwcGx5KG4sby5zcGxpdChcIi9cIikuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiAwPHQubGVuZ3RofSkpfXJldHVybiBuZXcgc2kobil9LHNpLmVtcHR5UGF0aD1mdW5jdGlvbigpe3JldHVybiBuZXcgc2koW10pfSxzaSksWnI9L15bX2EtekEtWl1bX2EtekEtWjAtOV0qJC8sdGk9KG4ob2ksWHI9VGUpLG9pLnByb3RvdHlwZS5jb25zdHJ1Y3Q9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgb2kodCxlLG4pfSxvaS5pc1ZhbGlkSWRlbnRpZmllcj1mdW5jdGlvbih0KXtyZXR1cm4gWnIudGVzdCh0KX0sb2kucHJvdG90eXBlLmNhbm9uaWNhbFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvQXJyYXkoKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKC9cXFxcL2csXCJcXFxcXFxcXFwiKS5yZXBsYWNlKC9gL2csXCJcXFxcYFwiKSx0PSFvaS5pc1ZhbGlkSWRlbnRpZmllcih0KT9cImBcIit0K1wiYFwiOnR9KS5qb2luKFwiLlwiKX0sb2kucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2Fub25pY2FsU3RyaW5nKCl9LG9pLnByb3RvdHlwZS5pc0tleUZpZWxkPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLmxlbmd0aCYmXCJfX25hbWVfX1wiPT09dGhpcy5nZXQoMCl9LG9pLmtleUZpZWxkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvaShbXCJfX25hbWVfX1wiXSl9LG9pLmZyb21TZXJ2ZXJGb3JtYXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49XCJcIixyPTAsaT1mdW5jdGlvbigpe2lmKDA9PT1uLmxlbmd0aCl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgZmllbGQgcGF0aCAoXCIrdCtcIikuIFBhdGhzIG11c3Qgbm90IGJlIGVtcHR5LCBiZWdpbiB3aXRoICcuJywgZW5kIHdpdGggJy4nLCBvciBjb250YWluICcuLidcIik7ZS5wdXNoKG4pLG49XCJcIn0sbz0hMTtyPHQubGVuZ3RoOyl7dmFyIHM9dFtyXTtpZihcIlxcXFxcIj09PXMpe2lmKHIrMT09PXQubGVuZ3RoKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiUGF0aCBoYXMgdHJhaWxpbmcgZXNjYXBlIGNoYXJhY3RlcjogXCIrdCk7dmFyIGE9dFtyKzFdO2lmKFwiXFxcXFwiIT09YSYmXCIuXCIhPT1hJiZcImBcIiE9PWEpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJQYXRoIGhhcyBpbnZhbGlkIGVzY2FwZSBzZXF1ZW5jZTogXCIrdCk7bis9YSxyKz0yfWVsc2VcImBcIj09PXM/bz0hbzpcIi5cIiE9PXN8fG8/bis9czppKCkscisrfWlmKGkoKSxvKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiVW50ZXJtaW5hdGVkIGAgaW4gcGF0aDogXCIrdCk7cmV0dXJuIG5ldyBvaShlKX0sb2kuZW1wdHlQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvaShbXSl9LG9pKSxlaT0oaWkucHJvdG90eXBlLmNvdmVycz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMuZmllbGRzO2U8bi5sZW5ndGg7ZSsrKWlmKG5bZV0uaXNQcmVmaXhPZih0KSlyZXR1cm4hMDtyZXR1cm4hMX0saWkucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIEJyKHRoaXMuZmllbGRzLHQuZmllbGRzLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaXNFcXVhbChlKX0pfSxpaSksbmk9KHJpLmZyb21CYXNlNjRTdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyByaShhdG9iKHQpKX0scmkuZnJvbVVpbnQ4QXJyYXk9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyByaShmdW5jdGlvbih0KXtmb3IodmFyIGU9XCJcIixuPTA7bjx0Lmxlbmd0aDsrK24pZSs9U3RyaW5nLmZyb21DaGFyQ29kZSh0W25dKTtyZXR1cm4gZX0odCkpfSxyaS5wcm90b3R5cGUudG9CYXNlNjQ9ZnVuY3Rpb24oKXtyZXR1cm4gdD10aGlzLmJpbmFyeVN0cmluZyxidG9hKHQpO3ZhciB0fSxyaS5wcm90b3R5cGUudG9VaW50OEFycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgVWludDhBcnJheSh0Lmxlbmd0aCksbj0wO248dC5sZW5ndGg7bisrKWVbbl09dC5jaGFyQ29kZUF0KG4pO3JldHVybiBlfSh0aGlzLmJpbmFyeVN0cmluZyl9LHJpLnByb3RvdHlwZS5hcHByb3hpbWF0ZUJ5dGVTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIDIqdGhpcy5iaW5hcnlTdHJpbmcubGVuZ3RofSxyaS5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3JldHVybiBxcih0aGlzLmJpbmFyeVN0cmluZyx0LmJpbmFyeVN0cmluZyl9LHJpLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJpbmFyeVN0cmluZz09PXQuYmluYXJ5U3RyaW5nfSxyaSk7ZnVuY3Rpb24gcmkodCl7dGhpcy5iaW5hcnlTdHJpbmc9dH1mdW5jdGlvbiBpaSh0KXsodGhpcy5maWVsZHM9dCkuc29ydCh0aS5jb21wYXJhdG9yKX1mdW5jdGlvbiBvaSgpe3JldHVybiBudWxsIT09WHImJlhyLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31mdW5jdGlvbiBzaSgpe3JldHVybiBudWxsIT09SnImJkpyLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31mdW5jdGlvbiBhaSh0LGUsbil7dm9pZCAwPT09ZT9lPTA6ZT50Lmxlbmd0aCYmTXIoKSx2b2lkIDA9PT1uP249dC5sZW5ndGgtZTpuPnQubGVuZ3RoLWUmJk1yKCksdGhpcy5zZWdtZW50cz10LHRoaXMub2Zmc2V0PWUsdGhpcy5sZW49bn1uaS5FTVBUWV9CWVRFX1NUUklORz1uZXcgbmkoXCJcIik7dmFyIHVpPW5ldyBSZWdFeHAoL15cXGR7NH0tXFxkXFxkLVxcZFxcZFRcXGRcXGQ6XFxkXFxkOlxcZFxcZCg/OlxcLihcXGQrKSk/WiQvKTtmdW5jdGlvbiBjaSh0KXtpZihGcighIXQpLFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybntzZWNvbmRzOmhpKHQuc2Vjb25kcyksbmFub3M6aGkodC5uYW5vcyl9O3ZhciBlPTAsbj11aS5leGVjKHQpO0ZyKCEhbiksblsxXSYmKG49KChuPW5bMV0pK1wiMDAwMDAwMDAwXCIpLnN1YnN0cigwLDkpLGU9TnVtYmVyKG4pKTt0PW5ldyBEYXRlKHQpO3JldHVybntzZWNvbmRzOk1hdGguZmxvb3IodC5nZXRUaW1lKCkvMWUzKSxuYW5vczplfX1mdW5jdGlvbiBoaSh0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD90Olwic3RyaW5nXCI9PXR5cGVvZiB0P051bWJlcih0KTowfWZ1bmN0aW9uIGxpKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P25pLmZyb21CYXNlNjRTdHJpbmcodCk6bmkuZnJvbVVpbnQ4QXJyYXkodCl9ZnVuY3Rpb24gZmkodCl7cmV0dXJuXCJzZXJ2ZXJfdGltZXN0YW1wXCI9PT0obnVsbD09PSh0PSgobnVsbD09PSh0PW51bGw9PXQ/dm9pZCAwOnQubWFwVmFsdWUpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmZpZWxkcyl8fHt9KS5fX3R5cGVfXyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc3RyaW5nVmFsdWUpfWZ1bmN0aW9uIGRpKHQpe3Q9Y2kodC5tYXBWYWx1ZS5maWVsZHMuX19sb2NhbF93cml0ZV90aW1lX18udGltZXN0YW1wVmFsdWUpO3JldHVybiBuZXcgS3IodC5zZWNvbmRzLHQubmFub3MpfWZ1bmN0aW9uIHBpKHQpe3JldHVybiBudWxsPT10fWZ1bmN0aW9uIHlpKHQpe3JldHVybiAwPT09dCYmMS90PT0tMS8wfWZ1bmN0aW9uIGdpKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0JiZOdW1iZXIuaXNJbnRlZ2VyKHQpJiYheWkodCkmJnQ8PU51bWJlci5NQVhfU0FGRV9JTlRFR0VSJiZ0Pj1OdW1iZXIuTUlOX1NBRkVfSU5URUdFUn12YXIgbWk9KHZpLmZyb21QYXRoPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdmkoJHIuZnJvbVN0cmluZyh0KSl9LHZpLmZyb21OYW1lPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdmkoJHIuZnJvbVN0cmluZyh0KS5wb3BGaXJzdCg1KSl9LHZpLnByb3RvdHlwZS5oYXNDb2xsZWN0aW9uSWQ9ZnVuY3Rpb24odCl7cmV0dXJuIDI8PXRoaXMucGF0aC5sZW5ndGgmJnRoaXMucGF0aC5nZXQodGhpcy5wYXRoLmxlbmd0aC0yKT09PXR9LHZpLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dCYmMD09PSRyLmNvbXBhcmF0b3IodGhpcy5wYXRoLHQucGF0aCl9LHZpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGgudG9TdHJpbmcoKX0sdmkuY29tcGFyYXRvcj1mdW5jdGlvbih0LGUpe3JldHVybiAkci5jb21wYXJhdG9yKHQucGF0aCxlLnBhdGgpfSx2aS5pc0RvY3VtZW50S2V5PWZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aCUyPT0wfSx2aS5mcm9tU2VnbWVudHM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB2aShuZXcgJHIodC5zbGljZSgpKSl9LHZpKTtmdW5jdGlvbiB2aSh0KXt0aGlzLnBhdGg9dH1mdW5jdGlvbiBiaSh0KXtyZXR1cm5cIm51bGxWYWx1ZVwiaW4gdD8wOlwiYm9vbGVhblZhbHVlXCJpbiB0PzE6XCJpbnRlZ2VyVmFsdWVcImluIHR8fFwiZG91YmxlVmFsdWVcImluIHQ/MjpcInRpbWVzdGFtcFZhbHVlXCJpbiB0PzM6XCJzdHJpbmdWYWx1ZVwiaW4gdD81OlwiYnl0ZXNWYWx1ZVwiaW4gdD82OlwicmVmZXJlbmNlVmFsdWVcImluIHQ/NzpcImdlb1BvaW50VmFsdWVcImluIHQ/ODpcImFycmF5VmFsdWVcImluIHQ/OTpcIm1hcFZhbHVlXCJpbiB0P2ZpKHQpPzQ6MTA6TXIoKX1mdW5jdGlvbiB3aShyLGkpe3ZhciB0LGUsbj1iaShyKTtpZihuIT09YmkoaSkpcmV0dXJuITE7c3dpdGNoKG4pe2Nhc2UgMDpyZXR1cm4hMDtjYXNlIDE6cmV0dXJuIHIuYm9vbGVhblZhbHVlPT09aS5ib29sZWFuVmFsdWU7Y2FzZSA0OnJldHVybiBkaShyKS5pc0VxdWFsKGRpKGkpKTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiByLnRpbWVzdGFtcFZhbHVlJiZcInN0cmluZ1wiPT10eXBlb2YgdC50aW1lc3RhbXBWYWx1ZSYmci50aW1lc3RhbXBWYWx1ZS5sZW5ndGg9PT10LnRpbWVzdGFtcFZhbHVlLmxlbmd0aClyZXR1cm4gci50aW1lc3RhbXBWYWx1ZT09PXQudGltZXN0YW1wVmFsdWU7dmFyIGU9Y2koci50aW1lc3RhbXBWYWx1ZSksdD1jaSh0LnRpbWVzdGFtcFZhbHVlKTtyZXR1cm4gZS5zZWNvbmRzPT09dC5zZWNvbmRzJiZlLm5hbm9zPT09dC5uYW5vc30oaSk7Y2FzZSA1OnJldHVybiByLnN0cmluZ1ZhbHVlPT09aS5zdHJpbmdWYWx1ZTtjYXNlIDY6cmV0dXJuIGU9aSxsaShyLmJ5dGVzVmFsdWUpLmlzRXF1YWwobGkoZS5ieXRlc1ZhbHVlKSk7Y2FzZSA3OnJldHVybiByLnJlZmVyZW5jZVZhbHVlPT09aS5yZWZlcmVuY2VWYWx1ZTtjYXNlIDg6cmV0dXJuIHQ9aSxoaSgoZT1yKS5nZW9Qb2ludFZhbHVlLmxhdGl0dWRlKT09PWhpKHQuZ2VvUG9pbnRWYWx1ZS5sYXRpdHVkZSkmJmhpKGUuZ2VvUG9pbnRWYWx1ZS5sb25naXR1ZGUpPT09aGkodC5nZW9Qb2ludFZhbHVlLmxvbmdpdHVkZSk7Y2FzZSAyOnJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiaW50ZWdlclZhbHVlXCJpbiB0JiZcImludGVnZXJWYWx1ZVwiaW4gZSlyZXR1cm4gaGkodC5pbnRlZ2VyVmFsdWUpPT09aGkoZS5pbnRlZ2VyVmFsdWUpO2lmKFwiZG91YmxlVmFsdWVcImluIHQmJlwiZG91YmxlVmFsdWVcImluIGUpe3Q9aGkodC5kb3VibGVWYWx1ZSksZT1oaShlLmRvdWJsZVZhbHVlKTtyZXR1cm4gdD09PWU/eWkodCk9PT15aShlKTppc05hTih0KSYmaXNOYU4oZSl9cmV0dXJuITF9KHIsaSk7Y2FzZSA5OnJldHVybiBCcihyLmFycmF5VmFsdWUudmFsdWVzfHxbXSxpLmFycmF5VmFsdWUudmFsdWVzfHxbXSx3aSk7Y2FzZSAxMDpyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdCxlPXIubWFwVmFsdWUuZmllbGRzfHx7fSxuPWkubWFwVmFsdWUuZmllbGRzfHx7fTtpZihIcihlKSE9PUhyKG4pKXJldHVybiExO2Zvcih0IGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKHZvaWQgMD09PW5bdF18fCF3aShlW3RdLG5bdF0pKSlyZXR1cm4hMTtyZXR1cm4hMH0oKTtkZWZhdWx0OnJldHVybiBNcigpfX1mdW5jdGlvbiBJaSh0LGUpe3JldHVybiB2b2lkIDAhPT0odC52YWx1ZXN8fFtdKS5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB3aSh0LGUpfSl9ZnVuY3Rpb24gRWkodCxlKXt2YXIgbixyLGksbz1iaSh0KSxzPWJpKGUpO2lmKG8hPT1zKXJldHVybiBxcihvLHMpO3N3aXRjaChvKXtjYXNlIDA6cmV0dXJuIDA7Y2FzZSAxOnJldHVybiBxcih0LmJvb2xlYW5WYWx1ZSxlLmJvb2xlYW5WYWx1ZSk7Y2FzZSAyOnJldHVybiByPWUsaT1oaSh0LmludGVnZXJWYWx1ZXx8dC5kb3VibGVWYWx1ZSkscj1oaShyLmludGVnZXJWYWx1ZXx8ci5kb3VibGVWYWx1ZSksaTxyPy0xOnI8aT8xOmk9PT1yPzA6aXNOYU4oaSk/aXNOYU4ocik/MDotMToxO2Nhc2UgMzpyZXR1cm4gVGkodC50aW1lc3RhbXBWYWx1ZSxlLnRpbWVzdGFtcFZhbHVlKTtjYXNlIDQ6cmV0dXJuIFRpKGRpKHQpLGRpKGUpKTtjYXNlIDU6cmV0dXJuIHFyKHQuc3RyaW5nVmFsdWUsZS5zdHJpbmdWYWx1ZSk7Y2FzZSA2OnJldHVybiBmdW5jdGlvbih0LGUpe3Q9bGkodCksZT1saShlKTtyZXR1cm4gdC5jb21wYXJlVG8oZSl9KHQuYnl0ZXNWYWx1ZSxlLmJ5dGVzVmFsdWUpO2Nhc2UgNzpyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5zcGxpdChcIi9cIikscj1lLnNwbGl0KFwiL1wiKSxpPTA7aTxuLmxlbmd0aCYmaTxyLmxlbmd0aDtpKyspe3ZhciBvPXFyKG5baV0scltpXSk7aWYoMCE9PW8pcmV0dXJuIG99cmV0dXJuIHFyKG4ubGVuZ3RoLHIubGVuZ3RoKX0odC5yZWZlcmVuY2VWYWx1ZSxlLnJlZmVyZW5jZVZhbHVlKTtjYXNlIDg6cmV0dXJuIG49dC5nZW9Qb2ludFZhbHVlLGk9ZS5nZW9Qb2ludFZhbHVlLDAhPT0ocj1xcihoaShuLmxhdGl0dWRlKSxoaShpLmxhdGl0dWRlKSkpP3I6cXIoaGkobi5sb25naXR1ZGUpLGhpKGkubG9uZ2l0dWRlKSk7Y2FzZSA5OnJldHVybiBmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LnZhbHVlc3x8W10scj1lLnZhbHVlc3x8W10saT0wO2k8bi5sZW5ndGgmJmk8ci5sZW5ndGg7KytpKXt2YXIgbz1FaShuW2ldLHJbaV0pO2lmKG8pcmV0dXJuIG99cmV0dXJuIHFyKG4ubGVuZ3RoLHIubGVuZ3RoKX0odC5hcnJheVZhbHVlLGUuYXJyYXlWYWx1ZSk7Y2FzZSAxMDpyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj10LmZpZWxkc3x8e30scj1PYmplY3Qua2V5cyhuKSxpPWUuZmllbGRzfHx7fSxvPU9iamVjdC5rZXlzKGkpO3Iuc29ydCgpLG8uc29ydCgpO2Zvcih2YXIgcz0wO3M8ci5sZW5ndGgmJnM8by5sZW5ndGg7KytzKXt2YXIgYT1xcihyW3NdLG9bc10pO2lmKDAhPT1hKXJldHVybiBhO2E9RWkobltyW3NdXSxpW29bc11dKTtpZigwIT09YSlyZXR1cm4gYX1yZXR1cm4gcXIoci5sZW5ndGgsby5sZW5ndGgpfSh0Lm1hcFZhbHVlLGUubWFwVmFsdWUpO2RlZmF1bHQ6dGhyb3cgTXIoKX19ZnVuY3Rpb24gVGkodCxlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmXCJzdHJpbmdcIj09dHlwZW9mIGUmJnQubGVuZ3RoPT09ZS5sZW5ndGgpcmV0dXJuIHFyKHQsZSk7dmFyIG49Y2kodCksdD1jaShlKSxlPXFyKG4uc2Vjb25kcyx0LnNlY29uZHMpO3JldHVybiAwIT09ZT9lOnFyKG4ubmFub3MsdC5uYW5vcyl9ZnVuY3Rpb24gX2kodCl7cmV0dXJuIGZ1bmN0aW9uIHModCl7cmV0dXJuXCJudWxsVmFsdWVcImluIHQ/XCJudWxsXCI6XCJib29sZWFuVmFsdWVcImluIHQ/XCJcIit0LmJvb2xlYW5WYWx1ZTpcImludGVnZXJWYWx1ZVwiaW4gdD9cIlwiK3QuaW50ZWdlclZhbHVlOlwiZG91YmxlVmFsdWVcImluIHQ/XCJcIit0LmRvdWJsZVZhbHVlOlwidGltZXN0YW1wVmFsdWVcImluIHQ/ZnVuY3Rpb24odCl7dmFyIHQ9Y2kodCk7cmV0dXJuXCJ0aW1lKFwiK3Quc2Vjb25kcytcIixcIit0Lm5hbm9zK1wiKVwifSh0LnRpbWVzdGFtcFZhbHVlKTpcInN0cmluZ1ZhbHVlXCJpbiB0P3Quc3RyaW5nVmFsdWU6XCJieXRlc1ZhbHVlXCJpbiB0P2xpKHQuYnl0ZXNWYWx1ZSkudG9CYXNlNjQoKTpcInJlZmVyZW5jZVZhbHVlXCJpbiB0PyhlPXQucmVmZXJlbmNlVmFsdWUsbWkuZnJvbU5hbWUoZSkudG9TdHJpbmcoKSk6XCJnZW9Qb2ludFZhbHVlXCJpbiB0P1wiZ2VvKFwiKyhlPXQuZ2VvUG9pbnRWYWx1ZSkubGF0aXR1ZGUrXCIsXCIrZS5sb25naXR1ZGUrXCIpXCI6XCJhcnJheVZhbHVlXCJpbiB0P2Z1bmN0aW9uKHQpe2Zvcih2YXIgZT1cIltcIixuPSEwLHI9MCxpPXQudmFsdWVzfHxbXTtyPGkubGVuZ3RoO3IrKyluP249ITE6ZSs9XCIsXCIsZSs9cyhpW3JdKTtyZXR1cm4gZStcIl1cIn0odC5hcnJheVZhbHVlKTpcIm1hcFZhbHVlXCJpbiB0P2Z1bmN0aW9uKHQpe2Zvcih2YXIgZT1cIntcIixuPSEwLHI9MCxpPU9iamVjdC5rZXlzKHQuZmllbGRzfHx7fSkuc29ydCgpO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO24/bj0hMTplKz1cIixcIixlKz1vK1wiOlwiK3ModC5maWVsZHNbb10pfXJldHVybiBlK1wifVwifSh0Lm1hcFZhbHVlKTpNcigpO3ZhciBlfSh0KX1mdW5jdGlvbiBTaSh0LGUpe3JldHVybntyZWZlcmVuY2VWYWx1ZTpcInByb2plY3RzL1wiK3QucHJvamVjdElkK1wiL2RhdGFiYXNlcy9cIit0LmRhdGFiYXNlK1wiL2RvY3VtZW50cy9cIitlLnBhdGguY2Fub25pY2FsU3RyaW5nKCl9fWZ1bmN0aW9uIE5pKHQpe3JldHVybiB0JiZcImludGVnZXJWYWx1ZVwiaW4gdH1mdW5jdGlvbiBEaSh0KXtyZXR1cm4hIXQmJlwiYXJyYXlWYWx1ZVwiaW4gdH1mdW5jdGlvbiBBaSh0KXtyZXR1cm4gdCYmXCJudWxsVmFsdWVcImluIHR9ZnVuY3Rpb24ga2kodCl7cmV0dXJuIHQmJlwiZG91YmxlVmFsdWVcImluIHQmJmlzTmFOKE51bWJlcih0LmRvdWJsZVZhbHVlKSl9ZnVuY3Rpb24gQ2kodCl7cmV0dXJuIHQmJlwibWFwVmFsdWVcImluIHR9dmFyIFJpPSh4aS5lbXB0eT1mdW5jdGlvbigpe3JldHVybiBuZXcgeGkoe21hcFZhbHVlOnt9fSl9LHhpLnByb3RvdHlwZS5maWVsZD1mdW5jdGlvbih0KXtyZXR1cm4geGkuZXh0cmFjdE5lc3RlZFZhbHVlKHRoaXMuYnVpbGRQcm90bygpLHQpfSx4aS5wcm90b3R5cGUudG9Qcm90bz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpZWxkKHRpLmVtcHR5UGF0aCgpKX0seGkucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3RoaXMuc2V0T3ZlcmxheSh0LGUpfSx4aS5wcm90b3R5cGUuc2V0QWxsPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7dC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dD9uLnNldChlLHQpOm4uZGVsZXRlKGUpfSl9LHhpLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7dGhpcy5zZXRPdmVybGF5KHQsbnVsbCl9LHhpLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB3aSh0aGlzLmJ1aWxkUHJvdG8oKSx0LmJ1aWxkUHJvdG8oKSl9LHhpLnByb3RvdHlwZS5zZXRPdmVybGF5PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMub3ZlcmxheU1hcCxyPTA7cjx0Lmxlbmd0aC0xOysrcil2YXIgaT10LmdldChyKSxvPW4uZ2V0KGkpLG49KG8gaW5zdGFuY2VvZiBNYXB8fChvPW8mJjEwPT09Ymkobyk/bmV3IE1hcChPYmplY3QuZW50cmllcyhvLm1hcFZhbHVlLmZpZWxkc3x8e30pKTpuZXcgTWFwLG4uc2V0KGksbykpLG8pO24uc2V0KHQubGFzdFNlZ21lbnQoKSxlKX0seGkucHJvdG90eXBlLmFwcGx5T3ZlcmxheT1mdW5jdGlvbihyLHQpe3ZhciBpPXRoaXMsbz0hMSxlPXhpLmV4dHJhY3ROZXN0ZWRWYWx1ZSh0aGlzLnBhcnRpYWxWYWx1ZSxyKSxzPUNpKGUpP09iamVjdC5hc3NpZ24oe30sZS5tYXBWYWx1ZS5maWVsZHMpOnt9O3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCxlKXt2YXIgbjt0IGluc3RhbmNlb2YgTWFwP251bGwhPShuPWkuYXBwbHlPdmVybGF5KHIuY2hpbGQoZSksdCkpJiYoc1tlXT1uLG89ITApOm51bGwhPT10PyhzW2VdPXQsbz0hMCk6cy5oYXNPd25Qcm9wZXJ0eShlKSYmKGRlbGV0ZSBzW2VdLG89ITApfSksbz97bWFwVmFsdWU6e2ZpZWxkczpzfX06bnVsbH0seGkucHJvdG90eXBlLmJ1aWxkUHJvdG89ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmFwcGx5T3ZlcmxheSh0aS5lbXB0eVBhdGgoKSx0aGlzLm92ZXJsYXlNYXApO3JldHVybiBudWxsIT10JiYodGhpcy5wYXJ0aWFsVmFsdWU9dCx0aGlzLm92ZXJsYXlNYXAuY2xlYXIoKSksdGhpcy5wYXJ0aWFsVmFsdWV9LHhpLmV4dHJhY3ROZXN0ZWRWYWx1ZT1mdW5jdGlvbih0LGUpe2lmKGUuaXNFbXB0eSgpKXJldHVybiB0O2Zvcih2YXIgbj10LHI9MDtyPGUubGVuZ3RoLTE7KytyKXtpZighbi5tYXBWYWx1ZS5maWVsZHMpcmV0dXJuIG51bGw7aWYoIUNpKG49bi5tYXBWYWx1ZS5maWVsZHNbZS5nZXQocildKSlyZXR1cm4gbnVsbH1yZXR1cm4obj0obi5tYXBWYWx1ZS5maWVsZHN8fHt9KVtlLmxhc3RTZWdtZW50KCldKXx8bnVsbH0seGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB4aSh0aGlzLmJ1aWxkUHJvdG8oKSl9LHhpKTtmdW5jdGlvbiB4aSh0KXt0aGlzLm92ZXJsYXlNYXA9bmV3IE1hcCx0aGlzLnBhcnRpYWxWYWx1ZT10fXZhciBPaT0oUGkubmV3SW52YWxpZERvY3VtZW50PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUGkodCwwLEdyLm1pbigpLFJpLmVtcHR5KCksMCl9LFBpLm5ld0ZvdW5kRG9jdW1lbnQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgUGkodCwxLGUsbiwwKX0sUGkubmV3Tm9Eb2N1bWVudD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgUGkodCwyLGUsUmkuZW1wdHkoKSwwKX0sUGkubmV3VW5rbm93bkRvY3VtZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBQaSh0LDMsZSxSaS5lbXB0eSgpLDIpfSxQaS5wcm90b3R5cGUuY29udmVydFRvRm91bmREb2N1bWVudD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnZlcnNpb249dCx0aGlzLmRvY3VtZW50VHlwZT0xLHRoaXMuZGF0YT1lLHRoaXMuZG9jdW1lbnRTdGF0ZT0wLHRoaXN9LFBpLnByb3RvdHlwZS5jb252ZXJ0VG9Ob0RvY3VtZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnZlcnNpb249dCx0aGlzLmRvY3VtZW50VHlwZT0yLHRoaXMuZGF0YT1SaS5lbXB0eSgpLHRoaXMuZG9jdW1lbnRTdGF0ZT0wLHRoaXN9LFBpLnByb3RvdHlwZS5jb252ZXJ0VG9Vbmtub3duRG9jdW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudmVyc2lvbj10LHRoaXMuZG9jdW1lbnRUeXBlPTMsdGhpcy5kYXRhPVJpLmVtcHR5KCksdGhpcy5kb2N1bWVudFN0YXRlPTIsdGhpc30sUGkucHJvdG90eXBlLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY3VtZW50U3RhdGU9Mix0aGlzfSxQaS5wcm90b3R5cGUuc2V0SGFzTG9jYWxNdXRhdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2N1bWVudFN0YXRlPTEsdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KFBpLnByb3RvdHlwZSxcImhhc0xvY2FsTXV0YXRpb25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5kb2N1bWVudFN0YXRlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQaS5wcm90b3R5cGUsXCJoYXNDb21taXR0ZWRNdXRhdGlvbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT10aGlzLmRvY3VtZW50U3RhdGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFBpLnByb3RvdHlwZSxcImhhc1BlbmRpbmdXcml0ZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzTG9jYWxNdXRhdGlvbnN8fHRoaXMuaGFzQ29tbWl0dGVkTXV0YXRpb25zfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFBpLnByb3RvdHlwZS5pc1ZhbGlkRG9jdW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMuZG9jdW1lbnRUeXBlfSxQaS5wcm90b3R5cGUuaXNGb3VuZERvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLmRvY3VtZW50VHlwZX0sUGkucHJvdG90eXBlLmlzTm9Eb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiAyPT09dGhpcy5kb2N1bWVudFR5cGV9LFBpLnByb3RvdHlwZS5pc1Vua25vd25Eb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiAzPT09dGhpcy5kb2N1bWVudFR5cGV9LFBpLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgUGkmJnRoaXMua2V5LmlzRXF1YWwodC5rZXkpJiZ0aGlzLnZlcnNpb24uaXNFcXVhbCh0LnZlcnNpb24pJiZ0aGlzLmRvY3VtZW50VHlwZT09PXQuZG9jdW1lbnRUeXBlJiZ0aGlzLmRvY3VtZW50U3RhdGU9PT10LmRvY3VtZW50U3RhdGUmJnRoaXMuZGF0YS5pc0VxdWFsKHQuZGF0YSl9LFBpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgUGkodGhpcy5rZXksdGhpcy5kb2N1bWVudFR5cGUsdGhpcy52ZXJzaW9uLHRoaXMuZGF0YS5jbG9uZSgpLHRoaXMuZG9jdW1lbnRTdGF0ZSl9LFBpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiRG9jdW1lbnQoXCIrdGhpcy5rZXkrXCIsIFwiK3RoaXMudmVyc2lvbitcIiwgXCIrSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhLnRvUHJvdG8oKSkrXCIsIHtkb2N1bWVudFR5cGU6IFwiK3RoaXMuZG9jdW1lbnRUeXBlK1wifSksIHtkb2N1bWVudFN0YXRlOiBcIit0aGlzLmRvY3VtZW50U3RhdGUrXCJ9KVwifSxQaSksTGk9ZnVuY3Rpb24odCxlLG4scixpLG8scyl7dm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49W10pLHZvaWQgMD09PXImJihyPVtdKSx2b2lkIDA9PT1pJiYoaT1udWxsKSx2b2lkIDA9PT1vJiYobz1udWxsKSx2b2lkIDA9PT1zJiYocz1udWxsKSx0aGlzLnBhdGg9dCx0aGlzLmNvbGxlY3Rpb25Hcm91cD1lLHRoaXMub3JkZXJCeT1uLHRoaXMuZmlsdGVycz1yLHRoaXMubGltaXQ9aSx0aGlzLnN0YXJ0QXQ9byx0aGlzLmVuZEF0PXMsdGhpcy5oPW51bGx9O2Z1bmN0aW9uIFBpKHQsZSxuLHIsaSl7dGhpcy5rZXk9dCx0aGlzLmRvY3VtZW50VHlwZT1lLHRoaXMudmVyc2lvbj1uLHRoaXMuZGF0YT1yLHRoaXMuZG9jdW1lbnRTdGF0ZT1pfWZ1bmN0aW9uIE1pKHQsZSxuLHIsaSxvLHMpe3JldHVybiBuZXcgTGkodCxlPXZvaWQgMD09PWU/bnVsbDplLG49dm9pZCAwPT09bj9bXTpuLHI9dm9pZCAwPT09cj9bXTpyLGk9dm9pZCAwPT09aT9udWxsOmksbz12b2lkIDA9PT1vP251bGw6byxzPXZvaWQgMD09PXM/bnVsbDpzKX1mdW5jdGlvbiBGaSh0KXt2YXIgZT10O3JldHVybiBudWxsPT09ZS5oJiYodD1lLnBhdGguY2Fub25pY2FsU3RyaW5nKCksbnVsbCE9PWUuY29sbGVjdGlvbkdyb3VwJiYodCs9XCJ8Y2c6XCIrZS5jb2xsZWN0aW9uR3JvdXApLHQrPVwifGY6XCIsdCs9ZS5maWx0ZXJzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4odD10KS5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSt0Lm9wLnRvU3RyaW5nKCkrX2kodC52YWx1ZSl9KS5qb2luKFwiLFwiKSx0Kz1cInxvYjpcIix0Kz1lLm9yZGVyQnkubWFwKGZ1bmN0aW9uKHQpe3JldHVybih0PXQpLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpK3QuZGlyfSkuam9pbihcIixcIikscGkoZS5saW1pdCl8fCh0Kz1cInxsOlwiLHQrPWUubGltaXQpLGUuc3RhcnRBdCYmKHQrPVwifGxiOlwiLHQrPWZvKGUuc3RhcnRBdCkpLGUuZW5kQXQmJih0Kz1cInx1YjpcIix0Kz1mbyhlLmVuZEF0KSksZS5oPXQpLGUuaH1mdW5jdGlvbiBWaSh0LGUpe2lmKHQubGltaXQhPT1lLmxpbWl0KXJldHVybiExO2lmKHQub3JkZXJCeS5sZW5ndGghPT1lLm9yZGVyQnkubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbixyLGk9MDtpPHQub3JkZXJCeS5sZW5ndGg7aSsrKWlmKG49dC5vcmRlckJ5W2ldLHI9ZS5vcmRlckJ5W2ldLG4uZGlyIT09ci5kaXJ8fCFuLmZpZWxkLmlzRXF1YWwoci5maWVsZCkpcmV0dXJuITE7aWYodC5maWx0ZXJzLmxlbmd0aCE9PWUuZmlsdGVycy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBvLHMsYT0wO2E8dC5maWx0ZXJzLmxlbmd0aDthKyspaWYobz10LmZpbHRlcnNbYV0scz1lLmZpbHRlcnNbYV0sby5vcCE9PXMub3B8fCFvLmZpZWxkLmlzRXF1YWwocy5maWVsZCl8fCF3aShvLnZhbHVlLHMudmFsdWUpKXJldHVybiExO3JldHVybiB0LmNvbGxlY3Rpb25Hcm91cD09PWUuY29sbGVjdGlvbkdyb3VwJiYhIXQucGF0aC5pc0VxdWFsKGUucGF0aCkmJiEhZ28odC5zdGFydEF0LGUuc3RhcnRBdCkmJmdvKHQuZW5kQXQsZS5lbmRBdCl9ZnVuY3Rpb24gVWkodCl7cmV0dXJuIG1pLmlzRG9jdW1lbnRLZXkodC5wYXRoKSYmbnVsbD09PXQuY29sbGVjdGlvbkdyb3VwJiYwPT09dC5maWx0ZXJzLmxlbmd0aH12YXIgcWksQmk9KG4oamkscWk9ZnVuY3Rpb24oKXt9KSxqaS5jcmVhdGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LmlzS2V5RmllbGQoKT9cImluXCI9PT1lfHxcIm5vdC1pblwiPT09ZT90aGlzLmwodCxlLG4pOm5ldyB6aSh0LGUsbik6XCJhcnJheS1jb250YWluc1wiPT09ZT9uZXcgcm8odCxuKTpcImluXCI9PT1lP25ldyBpbyh0LG4pOlwibm90LWluXCI9PT1lP25ldyBvbyh0LG4pOlwiYXJyYXktY29udGFpbnMtYW55XCI9PT1lP25ldyBzbyh0LG4pOm5ldyBqaSh0LGUsbil9LGppLmw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcoXCJpblwiPT09ZT9IaTpXaSkodCxuKX0samkucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24odCl7dD10LmRhdGEuZmllbGQodGhpcy5maWVsZCk7cmV0dXJuXCIhPVwiPT09dGhpcy5vcD9udWxsIT09dCYmdGhpcy5tKEVpKHQsdGhpcy52YWx1ZSkpOm51bGwhPT10JiZiaSh0aGlzLnZhbHVlKT09PWJpKHQpJiZ0aGlzLm0oRWkodCx0aGlzLnZhbHVlKSl9LGppLnByb3RvdHlwZS5tPWZ1bmN0aW9uKHQpe3N3aXRjaCh0aGlzLm9wKXtjYXNlXCI8XCI6cmV0dXJuIHQ8MDtjYXNlXCI8PVwiOnJldHVybiB0PD0wO2Nhc2VcIj09XCI6cmV0dXJuIDA9PT10O2Nhc2VcIiE9XCI6cmV0dXJuIDAhPT10O2Nhc2VcIj5cIjpyZXR1cm4gMDx0O2Nhc2VcIj49XCI6cmV0dXJuIDA8PXQ7ZGVmYXVsdDpyZXR1cm4gTXIoKX19LGppLnByb3RvdHlwZS5nPWZ1bmN0aW9uKCl7cmV0dXJuIDA8PVtcIjxcIixcIjw9XCIsXCI+XCIsXCI+PVwiLFwiIT1cIixcIm5vdC1pblwiXS5pbmRleE9mKHRoaXMub3ApfSxqaSk7ZnVuY3Rpb24gamkodCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuKHI9cWkuY2FsbCh0aGlzKXx8dGhpcykuZmllbGQ9dCxyLm9wPWUsci52YWx1ZT1uLHJ9dmFyIEtpLEdpLFFpLHppPShuKEppLFFpPUJpKSxKaS5wcm90b3R5cGUubWF0Y2hlcz1mdW5jdGlvbih0KXt0PW1pLmNvbXBhcmF0b3IodC5rZXksdGhpcy5rZXkpO3JldHVybiB0aGlzLm0odCl9LEppKSxIaT0obihYaSxHaT1CaSksWGkucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMua2V5cy5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzRXF1YWwoZS5rZXkpfSl9LFhpKSxXaT0obihZaSxLaT1CaSksWWkucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMua2V5cy5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzRXF1YWwoZS5rZXkpfSl9LFlpKTtmdW5jdGlvbiBZaSh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49S2kuY2FsbCh0aGlzLHQsXCJub3QtaW5cIixlKXx8dGhpcykua2V5cz0kaSgwLGUpLG59ZnVuY3Rpb24gWGkodCxlKXt2YXIgbj10aGlzO3JldHVybihuPUdpLmNhbGwodGhpcyx0LFwiaW5cIixlKXx8dGhpcykua2V5cz0kaSgwLGUpLG59ZnVuY3Rpb24gSmkodCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuKHI9UWkuY2FsbCh0aGlzLHQsZSxuKXx8dGhpcykua2V5PW1pLmZyb21OYW1lKG4ucmVmZXJlbmNlVmFsdWUpLHJ9ZnVuY3Rpb24gJGkodCxlKXtyZXR1cm4oKG51bGw9PT0oZT1lLmFycmF5VmFsdWUpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnZhbHVlcyl8fFtdKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG1pLmZyb21OYW1lKHQucmVmZXJlbmNlVmFsdWUpfSl9dmFyIFppLHRvLGVvLG5vLHJvPShuKGxvLG5vPUJpKSxsby5wcm90b3R5cGUubWF0Y2hlcz1mdW5jdGlvbih0KXt0PXQuZGF0YS5maWVsZCh0aGlzLmZpZWxkKTtyZXR1cm4gRGkodCkmJklpKHQuYXJyYXlWYWx1ZSx0aGlzLnZhbHVlKX0sbG8pLGlvPShuKGhvLGVvPUJpKSxoby5wcm90b3R5cGUubWF0Y2hlcz1mdW5jdGlvbih0KXt0PXQuZGF0YS5maWVsZCh0aGlzLmZpZWxkKTtyZXR1cm4gbnVsbCE9PXQmJklpKHRoaXMudmFsdWUuYXJyYXlWYWx1ZSx0KX0saG8pLG9vPShuKGNvLHRvPUJpKSxjby5wcm90b3R5cGUubWF0Y2hlcz1mdW5jdGlvbih0KXtpZihJaSh0aGlzLnZhbHVlLmFycmF5VmFsdWUse251bGxWYWx1ZTpcIk5VTExfVkFMVUVcIn0pKXJldHVybiExO3Q9dC5kYXRhLmZpZWxkKHRoaXMuZmllbGQpO3JldHVybiBudWxsIT09dCYmIUlpKHRoaXMudmFsdWUuYXJyYXlWYWx1ZSx0KX0sY28pLHNvPShuKHVvLFppPUJpKSx1by5wcm90b3R5cGUubWF0Y2hlcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLHQ9dC5kYXRhLmZpZWxkKHRoaXMuZmllbGQpO3JldHVybiEoIURpKHQpfHwhdC5hcnJheVZhbHVlLnZhbHVlcykmJnQuYXJyYXlWYWx1ZS52YWx1ZXMuc29tZShmdW5jdGlvbih0KXtyZXR1cm4gSWkoZS52YWx1ZS5hcnJheVZhbHVlLHQpfSl9LHVvKSxhbz1mdW5jdGlvbih0LGUpe3RoaXMucG9zaXRpb249dCx0aGlzLmJlZm9yZT1lfTtmdW5jdGlvbiB1byh0LGUpe3JldHVybiBaaS5jYWxsKHRoaXMsdCxcImFycmF5LWNvbnRhaW5zLWFueVwiLGUpfHx0aGlzfWZ1bmN0aW9uIGNvKHQsZSl7cmV0dXJuIHRvLmNhbGwodGhpcyx0LFwibm90LWluXCIsZSl8fHRoaXN9ZnVuY3Rpb24gaG8odCxlKXtyZXR1cm4gZW8uY2FsbCh0aGlzLHQsXCJpblwiLGUpfHx0aGlzfWZ1bmN0aW9uIGxvKHQsZSl7cmV0dXJuIG5vLmNhbGwodGhpcyx0LFwiYXJyYXktY29udGFpbnNcIixlKXx8dGhpc31mdW5jdGlvbiBmbyh0KXtyZXR1cm4odC5iZWZvcmU/XCJiXCI6XCJhXCIpK1wiOlwiK3QucG9zaXRpb24ubWFwKF9pKS5qb2luKFwiLFwiKX12YXIgcG89ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1cImFzY1wiKSx0aGlzLmZpZWxkPXQsdGhpcy5kaXI9ZX07ZnVuY3Rpb24geW8odCxlLG4pe2Zvcih2YXIgcj0wLGk9MDtpPHQucG9zaXRpb24ubGVuZ3RoO2krKyl7dmFyIG89ZVtpXSxzPXQucG9zaXRpb25baV0scj1vLmZpZWxkLmlzS2V5RmllbGQoKT9taS5jb21wYXJhdG9yKG1pLmZyb21OYW1lKHMucmVmZXJlbmNlVmFsdWUpLG4ua2V5KTpFaShzLG4uZGF0YS5maWVsZChvLmZpZWxkKSk7aWYoXCJkZXNjXCI9PT1vLmRpciYmKHIqPS0xKSwwIT09cilicmVha31yZXR1cm4gdC5iZWZvcmU/cjw9MDpyPDB9ZnVuY3Rpb24gZ28odCxlKXtpZihudWxsPT09dClyZXR1cm4gbnVsbD09PWU7aWYobnVsbD09PWUpcmV0dXJuITE7aWYodC5iZWZvcmUhPT1lLmJlZm9yZXx8dC5wb3NpdGlvbi5sZW5ndGghPT1lLnBvc2l0aW9uLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49MDtuPHQucG9zaXRpb24ubGVuZ3RoO24rKylpZighd2kodC5wb3NpdGlvbltuXSxlLnBvc2l0aW9uW25dKSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgbW89ZnVuY3Rpb24odCxlLG4scixpLG8scyxhKXt2b2lkIDA9PT1lJiYoZT1udWxsKSx2b2lkIDA9PT1uJiYobj1bXSksdm9pZCAwPT09ciYmKHI9W10pLHZvaWQgMD09PWkmJihpPW51bGwpLHZvaWQgMD09PW8mJihvPVwiRlwiKSx2b2lkIDA9PT1zJiYocz1udWxsKSx2b2lkIDA9PT1hJiYoYT1udWxsKSx0aGlzLnBhdGg9dCx0aGlzLmNvbGxlY3Rpb25Hcm91cD1lLHRoaXMuZXhwbGljaXRPcmRlckJ5PW4sdGhpcy5maWx0ZXJzPXIsdGhpcy5saW1pdD1pLHRoaXMubGltaXRUeXBlPW8sdGhpcy5zdGFydEF0PXMsdGhpcy5lbmRBdD1hLHRoaXMucD1udWxsLHRoaXMuVD1udWxsLHRoaXMuc3RhcnRBdCx0aGlzLmVuZEF0fTtmdW5jdGlvbiB2byh0LGUsbixyLGksbyxzLGEpe3JldHVybiBuZXcgbW8odCxlLG4scixpLG8scyxhKX1mdW5jdGlvbiBibyh0KXtyZXR1cm4gbmV3IG1vKHQpfWZ1bmN0aW9uIHdvKHQpe3JldHVybiFwaSh0LmxpbWl0KSYmXCJGXCI9PT10LmxpbWl0VHlwZX1mdW5jdGlvbiBJbyh0KXtyZXR1cm4hcGkodC5saW1pdCkmJlwiTFwiPT09dC5saW1pdFR5cGV9ZnVuY3Rpb24gRW8odCl7cmV0dXJuIDA8dC5leHBsaWNpdE9yZGVyQnkubGVuZ3RoP3QuZXhwbGljaXRPcmRlckJ5WzBdLmZpZWxkOm51bGx9ZnVuY3Rpb24gVG8odCl7Zm9yKHZhciBlPTAsbj10LmZpbHRlcnM7ZTxuLmxlbmd0aDtlKyspe3ZhciByPW5bZV07aWYoci5nKCkpcmV0dXJuIHIuZmllbGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gX28odCl7cmV0dXJuIG51bGwhPT10LmNvbGxlY3Rpb25Hcm91cH1mdW5jdGlvbiBTbyh0KXt2YXIgZT10O2lmKG51bGw9PT1lLnApe2UucD1bXTt2YXIgbj1UbyhlKSx0PUVvKGUpO2lmKG51bGwhPT1uJiZudWxsPT09dCluLmlzS2V5RmllbGQoKXx8ZS5wLnB1c2gobmV3IHBvKG4pKSxlLnAucHVzaChuZXcgcG8odGkua2V5RmllbGQoKSxcImFzY1wiKSk7ZWxzZXtmb3IodmFyIHI9ITEsaT0wLG89ZS5leHBsaWNpdE9yZGVyQnk7aTxvLmxlbmd0aDtpKyspe3ZhciBzPW9baV07ZS5wLnB1c2gocykscy5maWVsZC5pc0tleUZpZWxkKCkmJihyPSEwKX1yfHwobj0wPGUuZXhwbGljaXRPcmRlckJ5Lmxlbmd0aD9lLmV4cGxpY2l0T3JkZXJCeVtlLmV4cGxpY2l0T3JkZXJCeS5sZW5ndGgtMV0uZGlyOlwiYXNjXCIsZS5wLnB1c2gobmV3IHBvKHRpLmtleUZpZWxkKCksbikpKX19cmV0dXJuIGUucH1mdW5jdGlvbiBObyh0KXt2YXIgZT10O2lmKCFlLlQpaWYoXCJGXCI9PT1lLmxpbWl0VHlwZSllLlQ9TWkoZS5wYXRoLGUuY29sbGVjdGlvbkdyb3VwLFNvKGUpLGUuZmlsdGVycyxlLmxpbWl0LGUuc3RhcnRBdCxlLmVuZEF0KTtlbHNle2Zvcih2YXIgbj1bXSxyPTAsaT1TbyhlKTtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXSxzPVwiZGVzY1wiPT09by5kaXI/XCJhc2NcIjpcImRlc2NcIjtuLnB1c2gobmV3IHBvKG8uZmllbGQscykpfXZhciBhPWUuZW5kQXQ/bmV3IGFvKGUuZW5kQXQucG9zaXRpb24sIWUuZW5kQXQuYmVmb3JlKTpudWxsLHQ9ZS5zdGFydEF0P25ldyBhbyhlLnN0YXJ0QXQucG9zaXRpb24sIWUuc3RhcnRBdC5iZWZvcmUpOm51bGw7ZS5UPU1pKGUucGF0aCxlLmNvbGxlY3Rpb25Hcm91cCxuLGUuZmlsdGVycyxlLmxpbWl0LGEsdCl9cmV0dXJuIGUuVH1mdW5jdGlvbiBEbyh0LGUsbil7cmV0dXJuIG5ldyBtbyh0LnBhdGgsdC5jb2xsZWN0aW9uR3JvdXAsdC5leHBsaWNpdE9yZGVyQnkuc2xpY2UoKSx0LmZpbHRlcnMuc2xpY2UoKSxlLG4sdC5zdGFydEF0LHQuZW5kQXQpfWZ1bmN0aW9uIEFvKHQsZSl7cmV0dXJuIFZpKE5vKHQpLE5vKGUpKSYmdC5saW1pdFR5cGU9PT1lLmxpbWl0VHlwZX1mdW5jdGlvbiBrbyh0KXtyZXR1cm4gRmkoTm8odCkpK1wifGx0OlwiK3QubGltaXRUeXBlfWZ1bmN0aW9uIENvKHQpe3JldHVyblwiUXVlcnkodGFyZ2V0PVwiKyhlPU5vKHQpLG49ZS5wYXRoLmNhbm9uaWNhbFN0cmluZygpLG51bGwhPT1lLmNvbGxlY3Rpb25Hcm91cCYmKG4rPVwiIGNvbGxlY3Rpb25Hcm91cD1cIitlLmNvbGxlY3Rpb25Hcm91cCksMDxlLmZpbHRlcnMubGVuZ3RoJiYobis9XCIsIGZpbHRlcnM6IFtcIitlLmZpbHRlcnMubWFwKGZ1bmN0aW9uKHQpe3JldHVybih0PXQpLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpK1wiIFwiK3Qub3ArXCIgXCIrX2kodC52YWx1ZSl9KS5qb2luKFwiLCBcIikrXCJdXCIpLHBpKGUubGltaXQpfHwobis9XCIsIGxpbWl0OiBcIitlLmxpbWl0KSwwPGUub3JkZXJCeS5sZW5ndGgmJihuKz1cIiwgb3JkZXJCeTogW1wiK2Uub3JkZXJCeS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuKHQ9dCkuZmllbGQuY2Fub25pY2FsU3RyaW5nKCkrXCIgKFwiK3QuZGlyK1wiKVwifSkuam9pbihcIiwgXCIpK1wiXVwiKSxlLnN0YXJ0QXQmJihuKz1cIiwgc3RhcnRBdDogXCIrZm8oZS5zdGFydEF0KSksZS5lbmRBdCYmKG4rPVwiLCBlbmRBdDogXCIrZm8oZS5lbmRBdCkpLFwiVGFyZ2V0KFwiK24rXCIpXCIpK1wiOyBsaW1pdFR5cGU9XCIrdC5saW1pdFR5cGUrXCIpXCI7dmFyIGUsbn1mdW5jdGlvbiBSbyhpLHQpe3JldHVybiB0LmlzRm91bmREb2N1bWVudCgpJiYoZT1pLG49dC5rZXkucGF0aCxudWxsIT09ZS5jb2xsZWN0aW9uR3JvdXA/dC5rZXkuaGFzQ29sbGVjdGlvbklkKGUuY29sbGVjdGlvbkdyb3VwKSYmZS5wYXRoLmlzUHJlZml4T2Yobik6bWkuaXNEb2N1bWVudEtleShlLnBhdGgpP2UucGF0aC5pc0VxdWFsKG4pOmUucGF0aC5pc0ltbWVkaWF0ZVBhcmVudE9mKG4pKSYmZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj1pLmV4cGxpY2l0T3JkZXJCeTtlPG4ubGVuZ3RoO2UrKyl7dmFyIHI9bltlXTtpZighci5maWVsZC5pc0tleUZpZWxkKCkmJm51bGw9PT10LmRhdGEuZmllbGQoci5maWVsZCkpcmV0dXJufXJldHVybiAxfSh0KSYmZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj1pLmZpbHRlcnM7ZTxuLmxlbmd0aDtlKyspaWYoIW5bZV0ubWF0Y2hlcyh0KSlyZXR1cm47cmV0dXJuIDF9KHQpJiYobj10LCghKHQ9aSkuc3RhcnRBdHx8eW8odC5zdGFydEF0LFNvKHQpLG4pKSYmKCF0LmVuZEF0fHwheW8odC5lbmRBdCxTbyh0KSxuKSkpO3ZhciBlLG59ZnVuY3Rpb24geG8oYSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPSExLHI9MCxpPVNvKGEpO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdLHM9ZnVuY3Rpb24odCxyLGUpe3ZhciBuPXQuZmllbGQuaXNLZXlGaWVsZCgpP21pLmNvbXBhcmF0b3Ioci5rZXksZS5rZXkpOmZ1bmN0aW9uKHQsZSl7dmFyIG49ci5kYXRhLmZpZWxkKHQpLHQ9ZS5kYXRhLmZpZWxkKHQpO3JldHVybiBudWxsIT09biYmbnVsbCE9PXQ/RWkobix0KTpNcigpfSh0LmZpZWxkLGUpO3N3aXRjaCh0LmRpcil7Y2FzZVwiYXNjXCI6cmV0dXJuIG47Y2FzZVwiZGVzY1wiOnJldHVybi0xKm47ZGVmYXVsdDpyZXR1cm4gTXIoKX19KG8sdCxlKTtpZigwIT09cylyZXR1cm4gcztuPW58fG8uZmllbGQuaXNLZXlGaWVsZCgpfXJldHVybiAwfX1mdW5jdGlvbiBPbyh0LGUpe2lmKHQuSSl7aWYoaXNOYU4oZSkpcmV0dXJue2RvdWJsZVZhbHVlOlwiTmFOXCJ9O2lmKGU9PT0xLzApcmV0dXJue2RvdWJsZVZhbHVlOlwiSW5maW5pdHlcIn07aWYoZT09PS0xLzApcmV0dXJue2RvdWJsZVZhbHVlOlwiLUluZmluaXR5XCJ9fXJldHVybntkb3VibGVWYWx1ZTp5aShlKT9cIi0wXCI6ZX19ZnVuY3Rpb24gTG8odCl7cmV0dXJue2ludGVnZXJWYWx1ZTpcIlwiK3R9fWZ1bmN0aW9uIFBvKHQsZSl7cmV0dXJuIGdpKGUpP0xvKGUpOk9vKHQsZSl9ST1mdW5jdGlvbigpe3RoaXMuXz12b2lkIDB9O2Z1bmN0aW9uIE1vKHQsZSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBZbz9OaSh0PWUpfHx0JiZcImRvdWJsZVZhbHVlXCJpbiB0P2U6e2ludGVnZXJWYWx1ZTowfTpudWxsfXZhciBGbyxWbyxVbz0obihqbyxWbz1JKSxqbykscW89KG4oQm8sRm89SSksQm8pO2Z1bmN0aW9uIEJvKHQpe3ZhciBlPXRoaXM7cmV0dXJuKGU9Rm8uY2FsbCh0aGlzKXx8dGhpcykuZWxlbWVudHM9dCxlfWZ1bmN0aW9uIGpvKCl7cmV0dXJuIG51bGwhPT1WbyYmVm8uYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfWZ1bmN0aW9uIEtvKHQsZSl7Zm9yKHZhciBuPSRvKGUpLHI9MCxpPXQuZWxlbWVudHM7cjxpLmxlbmd0aDtyKyspIWZ1bmN0aW9uKGUpe24uc29tZShmdW5jdGlvbih0KXtyZXR1cm4gd2kodCxlKX0pfHxuLnB1c2goZSl9KGlbcl0pO3JldHVybnthcnJheVZhbHVlOnt2YWx1ZXM6bn19fXZhciBHbyxRbz0obih6byxHbz1JKSx6byk7ZnVuY3Rpb24gem8odCl7dmFyIGU9dGhpcztyZXR1cm4oZT1Hby5jYWxsKHRoaXMpfHx0aGlzKS5lbGVtZW50cz10LGV9ZnVuY3Rpb24gSG8odCxlKXtmb3IodmFyIG49JG8oZSkscj0wLGk9dC5lbGVtZW50cztyPGkubGVuZ3RoO3IrKykhZnVuY3Rpb24oZSl7bj1uLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hd2kodCxlKX0pfShpW3JdKTtyZXR1cm57YXJyYXlWYWx1ZTp7dmFsdWVzOm59fX12YXIgV28sWW89KG4oWG8sV289SSksWG8pO2Z1bmN0aW9uIFhvKHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj1Xby5jYWxsKHRoaXMpfHx0aGlzKS5SPXQsbi5BPWUsbn1mdW5jdGlvbiBKbyh0KXtyZXR1cm4gaGkodC5pbnRlZ2VyVmFsdWV8fHQuZG91YmxlVmFsdWUpfWZ1bmN0aW9uICRvKHQpe3JldHVybiBEaSh0KSYmdC5hcnJheVZhbHVlLnZhbHVlcz90LmFycmF5VmFsdWUudmFsdWVzLnNsaWNlKCk6W119ZnVuY3Rpb24gWm8odCxlKXt0aGlzLnZlcnNpb249dCx0aGlzLnRyYW5zZm9ybVJlc3VsdHM9ZX12YXIgdHM9ZnVuY3Rpb24odCxlKXt0aGlzLmZpZWxkPXQsdGhpcy50cmFuc2Zvcm09ZX0sZXM9KG5zLm5vbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG5zfSxucy5leGlzdHM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBucyh2b2lkIDAsdCl9LG5zLnVwZGF0ZVRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBucyh0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLnByb3RvdHlwZSxcImlzTm9uZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy51cGRhdGVUaW1lJiZ2b2lkIDA9PT10aGlzLmV4aXN0c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxucy5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5leGlzdHM9PT10LmV4aXN0cyYmKHRoaXMudXBkYXRlVGltZT8hIXQudXBkYXRlVGltZSYmdGhpcy51cGRhdGVUaW1lLmlzRXF1YWwodC51cGRhdGVUaW1lKTohdC51cGRhdGVUaW1lKX0sbnMpO2Z1bmN0aW9uIG5zKHQsZSl7dGhpcy51cGRhdGVUaW1lPXQsdGhpcy5leGlzdHM9ZX1mdW5jdGlvbiBycyh0LGUpe3JldHVybiB2b2lkIDAhPT10LnVwZGF0ZVRpbWU/ZS5pc0ZvdW5kRG9jdW1lbnQoKSYmZS52ZXJzaW9uLmlzRXF1YWwodC51cGRhdGVUaW1lKTp2b2lkIDA9PT10LmV4aXN0c3x8dC5leGlzdHM9PT1lLmlzRm91bmREb2N1bWVudCgpfVRlPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBpcyh0LGUsbil7dmFyIHIsaSxvLHM7dCBpbnN0YW5jZW9mIGNzPyhpPWUsbz1uLHJzKChyPXQpLnByZWNvbmRpdGlvbixpKSYmKHM9ci52YWx1ZS5jbG9uZSgpLG89eXMoci5maWVsZFRyYW5zZm9ybXMsbyxpKSxzLnNldEFsbChvKSxpLmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQoc3MoaSkscykuc2V0SGFzTG9jYWxNdXRhdGlvbnMoKSkpOnQgaW5zdGFuY2VvZiBocz8obz1lLGk9bixycygocz10KS5wcmVjb25kaXRpb24sbykmJihuPXlzKHMuZmllbGRUcmFuc2Zvcm1zLGksbyksKGk9by5kYXRhKS5zZXRBbGwoZHMocykpLGkuc2V0QWxsKG4pLG8uY29udmVydFRvRm91bmREb2N1bWVudChzcyhvKSxpKS5zZXRIYXNMb2NhbE11dGF0aW9ucygpKSk6KGU9ZSxycyh0LnByZWNvbmRpdGlvbixlKSYmZS5jb252ZXJ0VG9Ob0RvY3VtZW50KEdyLm1pbigpKSl9ZnVuY3Rpb24gb3ModCxlKXtyZXR1cm4gdC50eXBlPT09ZS50eXBlJiYhIXQua2V5LmlzRXF1YWwoZS5rZXkpJiYhIXQucHJlY29uZGl0aW9uLmlzRXF1YWwoZS5wcmVjb25kaXRpb24pJiYobj10LmZpZWxkVHJhbnNmb3JtcyxyPWUuZmllbGRUcmFuc2Zvcm1zLCEhKHZvaWQgMD09PW4mJnZvaWQgMD09PXJ8fG4mJnImJkJyKG4scixmdW5jdGlvbih0LGUpe3JldHVybiBlPWUsKHQ9dCkuZmllbGQuaXNFcXVhbChlLmZpZWxkKSYmKHQ9dC50cmFuc2Zvcm0sZT1lLnRyYW5zZm9ybSx0IGluc3RhbmNlb2YgcW8mJmUgaW5zdGFuY2VvZiBxb3x8dCBpbnN0YW5jZW9mIFFvJiZlIGluc3RhbmNlb2YgUW8/QnIodC5lbGVtZW50cyxlLmVsZW1lbnRzLHdpKTp0IGluc3RhbmNlb2YgWW8mJmUgaW5zdGFuY2VvZiBZbz93aSh0LkEsZS5BKTp0IGluc3RhbmNlb2YgVW8mJmUgaW5zdGFuY2VvZiBVbyl9KSkpJiYoMD09PXQudHlwZT90LnZhbHVlLmlzRXF1YWwoZS52YWx1ZSk6MSE9PXQudHlwZXx8dC5kYXRhLmlzRXF1YWwoZS5kYXRhKSYmdC5maWVsZE1hc2suaXNFcXVhbChlLmZpZWxkTWFzaykpO3ZhciBuLHJ9ZnVuY3Rpb24gc3ModCl7cmV0dXJuIHQuaXNGb3VuZERvY3VtZW50KCk/dC52ZXJzaW9uOkdyLm1pbigpfXZhciBhcyx1cyxjcz0obihmcyx1cz1UZSksZnMpLGhzPShuKGxzLGFzPVRlKSxscyk7ZnVuY3Rpb24gbHModCxlLG4scixpKXt2b2lkIDA9PT1pJiYoaT1bXSk7dmFyIG89dGhpcztyZXR1cm4obz1hcy5jYWxsKHRoaXMpfHx0aGlzKS5rZXk9dCxvLmRhdGE9ZSxvLmZpZWxkTWFzaz1uLG8ucHJlY29uZGl0aW9uPXIsby5maWVsZFRyYW5zZm9ybXM9aSxvLnR5cGU9MSxvfWZ1bmN0aW9uIGZzKHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPVtdKTt2YXIgaT10aGlzO3JldHVybihpPXVzLmNhbGwodGhpcyl8fHRoaXMpLmtleT10LGkudmFsdWU9ZSxpLnByZWNvbmRpdGlvbj1uLGkuZmllbGRUcmFuc2Zvcm1zPXIsaS50eXBlPTAsaX1mdW5jdGlvbiBkcyhuKXt2YXIgcj1uZXcgTWFwO3JldHVybiBuLmZpZWxkTWFzay5maWVsZHMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZTt0LmlzRW1wdHkoKXx8KGU9bi5kYXRhLmZpZWxkKHQpLHIuc2V0KHQsZSkpfSkscn1mdW5jdGlvbiBwcyh0LGUsbil7dmFyIHI9bmV3IE1hcDtGcih0Lmxlbmd0aD09PW4ubGVuZ3RoKTtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIG89dFtpXSxzPW8udHJhbnNmb3JtLGE9ZS5kYXRhLmZpZWxkKG8uZmllbGQpO3Iuc2V0KG8uZmllbGQsKG89cyxzPWEsYT1uW2ldLG8gaW5zdGFuY2VvZiBxbz9LbyhvLHMpOm8gaW5zdGFuY2VvZiBRbz9IbyhvLHMpOmEpKX1yZXR1cm4gcn1mdW5jdGlvbiB5cyh0LGUsbil7Zm9yKHZhciByLGk9bmV3IE1hcCxvPTAscz10O288cy5sZW5ndGg7bysrKXt2YXIgYT1zW29dLHU9YS50cmFuc2Zvcm0sYz1uLmRhdGEuZmllbGQoYS5maWVsZCk7aS5zZXQoYS5maWVsZCwocj1jLGE9ZSxjPXZvaWQgMCwodT11KWluc3RhbmNlb2YgVW8/KGM9e2ZpZWxkczp7X190eXBlX186e3N0cmluZ1ZhbHVlOlwic2VydmVyX3RpbWVzdGFtcFwifSxfX2xvY2FsX3dyaXRlX3RpbWVfXzp7dGltZXN0YW1wVmFsdWU6e3NlY29uZHM6YS5zZWNvbmRzLG5hbm9zOmEubmFub3NlY29uZHN9fX19LHImJihjLmZpZWxkcy5fX3ByZXZpb3VzX3ZhbHVlX189cikse21hcFZhbHVlOmN9KTp1IGluc3RhbmNlb2YgcW8/S28odSxyKTp1IGluc3RhbmNlb2YgUW8/SG8odSxyKToodT1NbyhjPXUscikscj1Kbyh1KStKbyhjLkEpLE5pKHUpJiZOaShjLkEpP0xvKHIpOk9vKGMuUixyKSkpKX1yZXR1cm4gaX1mdW5jdGlvbiBncyh0KXt0aGlzLmNvdW50PXR9dmFyIG1zLHZzLGJzLHdzPShuKFRzLGJzPVRlKSxUcyksSXM9KG4oRXMsdnM9VGUpLEVzKTtmdW5jdGlvbiBFcyh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49dnMuY2FsbCh0aGlzKXx8dGhpcykua2V5PXQsbi5wcmVjb25kaXRpb249ZSxuLnR5cGU9MyxuLmZpZWxkVHJhbnNmb3Jtcz1bXSxufWZ1bmN0aW9uIFRzKHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj1icy5jYWxsKHRoaXMpfHx0aGlzKS5rZXk9dCxuLnByZWNvbmRpdGlvbj1lLG4udHlwZT0yLG4uZmllbGRUcmFuc2Zvcm1zPVtdLG59ZnVuY3Rpb24gX3ModCl7c3dpdGNoKHQpe2Nhc2UgRHIuT0s6cmV0dXJuIE1yKCksMDtjYXNlIERyLkNBTkNFTExFRDpjYXNlIERyLlVOS05PV046Y2FzZSBEci5ERUFETElORV9FWENFRURFRDpjYXNlIERyLlJFU09VUkNFX0VYSEFVU1RFRDpjYXNlIERyLklOVEVSTkFMOmNhc2UgRHIuVU5BVkFJTEFCTEU6Y2FzZSBEci5VTkFVVEhFTlRJQ0FURUQ6cmV0dXJuO2Nhc2UgRHIuSU5WQUxJRF9BUkdVTUVOVDpjYXNlIERyLk5PVF9GT1VORDpjYXNlIERyLkFMUkVBRFlfRVhJU1RTOmNhc2UgRHIuUEVSTUlTU0lPTl9ERU5JRUQ6Y2FzZSBEci5GQUlMRURfUFJFQ09ORElUSU9OOmNhc2UgRHIuQUJPUlRFRDpjYXNlIERyLk9VVF9PRl9SQU5HRTpjYXNlIERyLlVOSU1QTEVNRU5URUQ6Y2FzZSBEci5EQVRBX0xPU1M6cmV0dXJuIDE7ZGVmYXVsdDpyZXR1cm4gTXIoKSwwfX1mdW5jdGlvbiBTcyh0KXtpZih2b2lkIDA9PT10KXJldHVybiBPcihcIkdSUEMgZXJyb3IgaGFzIG5vIC5jb2RlXCIpLERyLlVOS05PV047c3dpdGNoKHQpe2Nhc2UgbXMuT0s6cmV0dXJuIERyLk9LO2Nhc2UgbXMuQ0FOQ0VMTEVEOnJldHVybiBEci5DQU5DRUxMRUQ7Y2FzZSBtcy5VTktOT1dOOnJldHVybiBEci5VTktOT1dOO2Nhc2UgbXMuREVBRExJTkVfRVhDRUVERUQ6cmV0dXJuIERyLkRFQURMSU5FX0VYQ0VFREVEO2Nhc2UgbXMuUkVTT1VSQ0VfRVhIQVVTVEVEOnJldHVybiBEci5SRVNPVVJDRV9FWEhBVVNURUQ7Y2FzZSBtcy5JTlRFUk5BTDpyZXR1cm4gRHIuSU5URVJOQUw7Y2FzZSBtcy5VTkFWQUlMQUJMRTpyZXR1cm4gRHIuVU5BVkFJTEFCTEU7Y2FzZSBtcy5VTkFVVEhFTlRJQ0FURUQ6cmV0dXJuIERyLlVOQVVUSEVOVElDQVRFRDtjYXNlIG1zLklOVkFMSURfQVJHVU1FTlQ6cmV0dXJuIERyLklOVkFMSURfQVJHVU1FTlQ7Y2FzZSBtcy5OT1RfRk9VTkQ6cmV0dXJuIERyLk5PVF9GT1VORDtjYXNlIG1zLkFMUkVBRFlfRVhJU1RTOnJldHVybiBEci5BTFJFQURZX0VYSVNUUztjYXNlIG1zLlBFUk1JU1NJT05fREVOSUVEOnJldHVybiBEci5QRVJNSVNTSU9OX0RFTklFRDtjYXNlIG1zLkZBSUxFRF9QUkVDT05ESVRJT046cmV0dXJuIERyLkZBSUxFRF9QUkVDT05ESVRJT047Y2FzZSBtcy5BQk9SVEVEOnJldHVybiBEci5BQk9SVEVEO2Nhc2UgbXMuT1VUX09GX1JBTkdFOnJldHVybiBEci5PVVRfT0ZfUkFOR0U7Y2FzZSBtcy5VTklNUExFTUVOVEVEOnJldHVybiBEci5VTklNUExFTUVOVEVEO2Nhc2UgbXMuREFUQV9MT1NTOnJldHVybiBEci5EQVRBX0xPU1M7ZGVmYXVsdDpyZXR1cm4gTXIoKX19KEk9bXM9bXN8fHt9KVtJLk9LPTBdPVwiT0tcIixJW0kuQ0FOQ0VMTEVEPTFdPVwiQ0FOQ0VMTEVEXCIsSVtJLlVOS05PV049Ml09XCJVTktOT1dOXCIsSVtJLklOVkFMSURfQVJHVU1FTlQ9M109XCJJTlZBTElEX0FSR1VNRU5UXCIsSVtJLkRFQURMSU5FX0VYQ0VFREVEPTRdPVwiREVBRExJTkVfRVhDRUVERURcIixJW0kuTk9UX0ZPVU5EPTVdPVwiTk9UX0ZPVU5EXCIsSVtJLkFMUkVBRFlfRVhJU1RTPTZdPVwiQUxSRUFEWV9FWElTVFNcIixJW0kuUEVSTUlTU0lPTl9ERU5JRUQ9N109XCJQRVJNSVNTSU9OX0RFTklFRFwiLElbSS5VTkFVVEhFTlRJQ0FURUQ9MTZdPVwiVU5BVVRIRU5USUNBVEVEXCIsSVtJLlJFU09VUkNFX0VYSEFVU1RFRD04XT1cIlJFU09VUkNFX0VYSEFVU1RFRFwiLElbSS5GQUlMRURfUFJFQ09ORElUSU9OPTldPVwiRkFJTEVEX1BSRUNPTkRJVElPTlwiLElbSS5BQk9SVEVEPTEwXT1cIkFCT1JURURcIixJW0kuT1VUX09GX1JBTkdFPTExXT1cIk9VVF9PRl9SQU5HRVwiLElbSS5VTklNUExFTUVOVEVEPTEyXT1cIlVOSU1QTEVNRU5URURcIixJW0kuSU5URVJOQUw9MTNdPVwiSU5URVJOQUxcIixJW0kuVU5BVkFJTEFCTEU9MTRdPVwiVU5BVkFJTEFCTEVcIixJW0kuREFUQV9MT1NTPTE1XT1cIkRBVEFfTE9TU1wiO3ZhciBOcz0oUnMucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgUnModGhpcy5jb21wYXJhdG9yLHRoaXMucm9vdC5pbnNlcnQodCxlLHRoaXMuY29tcGFyYXRvcikuY29weShudWxsLG51bGwsQXMuQkxBQ0ssbnVsbCxudWxsKSl9LFJzLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBScyh0aGlzLmNvbXBhcmF0b3IsdGhpcy5yb290LnJlbW92ZSh0LHRoaXMuY29tcGFyYXRvcikuY29weShudWxsLG51bGwsQXMuQkxBQ0ssbnVsbCxudWxsKSl9LFJzLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucm9vdDshZS5pc0VtcHR5KCk7KXt2YXIgbj10aGlzLmNvbXBhcmF0b3IodCxlLmtleSk7aWYoMD09PW4pcmV0dXJuIGUudmFsdWU7bjwwP2U9ZS5sZWZ0OjA8biYmKGU9ZS5yaWdodCl9cmV0dXJuIG51bGx9LFJzLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5yb290OyFuLmlzRW1wdHkoKTspe3ZhciByPXRoaXMuY29tcGFyYXRvcih0LG4ua2V5KTtpZigwPT09cilyZXR1cm4gZStuLmxlZnQuc2l6ZTtuPXI8MD9uLmxlZnQ6KGUrPW4ubGVmdC5zaXplKzEsbi5yaWdodCl9cmV0dXJuLTF9LFJzLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdC5pc0VtcHR5KCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShScy5wcm90b3R5cGUsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJvb3Quc2l6ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxScy5wcm90b3R5cGUubWluS2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdC5taW5LZXkoKX0sUnMucHJvdG90eXBlLm1heEtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJvb3QubWF4S2V5KCl9LFJzLnByb3RvdHlwZS5pbm9yZGVyVHJhdmVyc2FsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJvb3QuaW5vcmRlclRyYXZlcnNhbCh0KX0sUnMucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24obil7dGhpcy5pbm9yZGVyVHJhdmVyc2FsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4odCxlKSwhMX0pfSxScy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgbj1bXTtyZXR1cm4gdGhpcy5pbm9yZGVyVHJhdmVyc2FsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4ucHVzaCh0K1wiOlwiK2UpLCExfSksXCJ7XCIrbi5qb2luKFwiLCBcIikrXCJ9XCJ9LFJzLnByb3RvdHlwZS5yZXZlcnNlVHJhdmVyc2FsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJvb3QucmV2ZXJzZVRyYXZlcnNhbCh0KX0sUnMucHJvdG90eXBlLmdldEl0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEcyh0aGlzLnJvb3QsbnVsbCx0aGlzLmNvbXBhcmF0b3IsITEpfSxScy5wcm90b3R5cGUuZ2V0SXRlcmF0b3JGcm9tPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRHModGhpcy5yb290LHQsdGhpcy5jb21wYXJhdG9yLCExKX0sUnMucHJvdG90eXBlLmdldFJldmVyc2VJdGVyYXRvcj1mdW5jdGlvbigpe3JldHVybiBuZXcgRHModGhpcy5yb290LG51bGwsdGhpcy5jb21wYXJhdG9yLCEwKX0sUnMucHJvdG90eXBlLmdldFJldmVyc2VJdGVyYXRvckZyb209ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBEcyh0aGlzLnJvb3QsdCx0aGlzLmNvbXBhcmF0b3IsITApfSxScyksRHM9KENzLnByb3RvdHlwZS5nZXROZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ub2RlU3RhY2sucG9wKCksZT17a2V5OnQua2V5LHZhbHVlOnQudmFsdWV9O2lmKHRoaXMuaXNSZXZlcnNlKWZvcih0PXQubGVmdDshdC5pc0VtcHR5KCk7KXRoaXMubm9kZVN0YWNrLnB1c2godCksdD10LnJpZ2h0O2Vsc2UgZm9yKHQ9dC5yaWdodDshdC5pc0VtcHR5KCk7KXRoaXMubm9kZVN0YWNrLnB1c2godCksdD10LmxlZnQ7cmV0dXJuIGV9LENzLnByb3RvdHlwZS5oYXNOZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5ub2RlU3RhY2subGVuZ3RofSxDcy5wcm90b3R5cGUucGVlaz1mdW5jdGlvbigpe2lmKDA9PT10aGlzLm5vZGVTdGFjay5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIHQ9dGhpcy5ub2RlU3RhY2tbdGhpcy5ub2RlU3RhY2subGVuZ3RoLTFdO3JldHVybntrZXk6dC5rZXksdmFsdWU6dC52YWx1ZX19LENzKSxBcz0oa3MucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gbmV3IGtzKG51bGwhPXQ/dDp0aGlzLmtleSxudWxsIT1lP2U6dGhpcy52YWx1ZSxudWxsIT1uP246dGhpcy5jb2xvcixudWxsIT1yP3I6dGhpcy5sZWZ0LG51bGwhPWk/aTp0aGlzLnJpZ2h0KX0sa3MucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sa3MucHJvdG90eXBlLmlub3JkZXJUcmF2ZXJzYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGVmdC5pbm9yZGVyVHJhdmVyc2FsKHQpfHx0KHRoaXMua2V5LHRoaXMudmFsdWUpfHx0aGlzLnJpZ2h0Lmlub3JkZXJUcmF2ZXJzYWwodCl9LGtzLnByb3RvdHlwZS5yZXZlcnNlVHJhdmVyc2FsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJpZ2h0LnJldmVyc2VUcmF2ZXJzYWwodCl8fHQodGhpcy5rZXksdGhpcy52YWx1ZSl8fHRoaXMubGVmdC5yZXZlcnNlVHJhdmVyc2FsKHQpfSxrcy5wcm90b3R5cGUubWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVmdC5pc0VtcHR5KCk/dGhpczp0aGlzLmxlZnQubWluKCl9LGtzLnByb3RvdHlwZS5taW5LZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5taW4oKS5rZXl9LGtzLnByb3RvdHlwZS5tYXhLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yaWdodC5pc0VtcHR5KCk/dGhpcy5rZXk6dGhpcy5yaWdodC5tYXhLZXkoKX0sa3MucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxpPW4odCxyLmtleSk7cmV0dXJuKHI9aTwwP3IuY29weShudWxsLG51bGwsbnVsbCxyLmxlZnQuaW5zZXJ0KHQsZSxuKSxudWxsKTowPT09aT9yLmNvcHkobnVsbCxlLG51bGwsbnVsbCxudWxsKTpyLmNvcHkobnVsbCxudWxsLG51bGwsbnVsbCxyLnJpZ2h0Lmluc2VydCh0LGUsbikpKS5maXhVcCgpfSxrcy5wcm90b3R5cGUucmVtb3ZlTWluPWZ1bmN0aW9uKCl7aWYodGhpcy5sZWZ0LmlzRW1wdHkoKSlyZXR1cm4ga3MuRU1QVFk7dmFyIHQ9dGhpcztyZXR1cm4odD0odD0hdC5sZWZ0LmlzUmVkKCkmJiF0LmxlZnQubGVmdC5pc1JlZCgpP3QubW92ZVJlZExlZnQoKTp0KS5jb3B5KG51bGwsbnVsbCxudWxsLHQubGVmdC5yZW1vdmVNaW4oKSxudWxsKSkuZml4VXAoKX0sa3MucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3ZhciBuLHI9dGhpcztpZihlKHQsci5rZXkpPDApcj0ocj0hKHIubGVmdC5pc0VtcHR5KCl8fHIubGVmdC5pc1JlZCgpfHxyLmxlZnQubGVmdC5pc1JlZCgpKT9yLm1vdmVSZWRMZWZ0KCk6cikuY29weShudWxsLG51bGwsbnVsbCxyLmxlZnQucmVtb3ZlKHQsZSksbnVsbCk7ZWxzZXtpZigwPT09ZSh0LChyPSEoKHI9ci5sZWZ0LmlzUmVkKCk/ci5yb3RhdGVSaWdodCgpOnIpLnJpZ2h0LmlzRW1wdHkoKXx8ci5yaWdodC5pc1JlZCgpfHxyLnJpZ2h0LmxlZnQuaXNSZWQoKSk/ci5tb3ZlUmVkUmlnaHQoKTpyKS5rZXkpKXtpZihyLnJpZ2h0LmlzRW1wdHkoKSlyZXR1cm4ga3MuRU1QVFk7bj1yLnJpZ2h0Lm1pbigpLHI9ci5jb3B5KG4ua2V5LG4udmFsdWUsbnVsbCxudWxsLHIucmlnaHQucmVtb3ZlTWluKCkpfXI9ci5jb3B5KG51bGwsbnVsbCxudWxsLG51bGwsci5yaWdodC5yZW1vdmUodCxlKSl9cmV0dXJuIHIuZml4VXAoKX0sa3MucHJvdG90eXBlLmlzUmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sb3J9LGtzLnByb3RvdHlwZS5maXhVcD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHQ9KHQ9KHQ9dC5yaWdodC5pc1JlZCgpJiYhdC5sZWZ0LmlzUmVkKCk/dC5yb3RhdGVMZWZ0KCk6dCkubGVmdC5pc1JlZCgpJiZ0LmxlZnQubGVmdC5pc1JlZCgpP3Qucm90YXRlUmlnaHQoKTp0KS5sZWZ0LmlzUmVkKCkmJnQucmlnaHQuaXNSZWQoKT90LmNvbG9yRmxpcCgpOnR9LGtzLnByb3RvdHlwZS5tb3ZlUmVkTGVmdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29sb3JGbGlwKCk7cmV0dXJuIHQ9dC5yaWdodC5sZWZ0LmlzUmVkKCk/KHQ9KHQ9dC5jb3B5KG51bGwsbnVsbCxudWxsLG51bGwsdC5yaWdodC5yb3RhdGVSaWdodCgpKSkucm90YXRlTGVmdCgpKS5jb2xvckZsaXAoKTp0fSxrcy5wcm90b3R5cGUubW92ZVJlZFJpZ2h0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb2xvckZsaXAoKTtyZXR1cm4gdD10LmxlZnQubGVmdC5pc1JlZCgpPyh0PXQucm90YXRlUmlnaHQoKSkuY29sb3JGbGlwKCk6dH0sa3MucHJvdG90eXBlLnJvdGF0ZUxlZnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvcHkobnVsbCxudWxsLGtzLlJFRCxudWxsLHRoaXMucmlnaHQubGVmdCk7cmV0dXJuIHRoaXMucmlnaHQuY29weShudWxsLG51bGwsdGhpcy5jb2xvcix0LG51bGwpfSxrcy5wcm90b3R5cGUucm90YXRlUmlnaHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvcHkobnVsbCxudWxsLGtzLlJFRCx0aGlzLmxlZnQucmlnaHQsbnVsbCk7cmV0dXJuIHRoaXMubGVmdC5jb3B5KG51bGwsbnVsbCx0aGlzLmNvbG9yLG51bGwsdCl9LGtzLnByb3RvdHlwZS5jb2xvckZsaXA9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlZnQuY29weShudWxsLG51bGwsIXRoaXMubGVmdC5jb2xvcixudWxsLG51bGwpLGU9dGhpcy5yaWdodC5jb3B5KG51bGwsbnVsbCwhdGhpcy5yaWdodC5jb2xvcixudWxsLG51bGwpO3JldHVybiB0aGlzLmNvcHkobnVsbCxudWxsLCF0aGlzLmNvbG9yLHQsZSl9LGtzLnByb3RvdHlwZS5jaGVja01heERlcHRoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jaGVjaygpO3JldHVybiBNYXRoLnBvdygyLHQpPD10aGlzLnNpemUrMX0sa3MucHJvdG90eXBlLmNoZWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5pc1JlZCgpJiZ0aGlzLmxlZnQuaXNSZWQoKSl0aHJvdyBNcigpO2lmKHRoaXMucmlnaHQuaXNSZWQoKSl0aHJvdyBNcigpO3ZhciB0PXRoaXMubGVmdC5jaGVjaygpO2lmKHQhPT10aGlzLnJpZ2h0LmNoZWNrKCkpdGhyb3cgTXIoKTtyZXR1cm4gdCsodGhpcy5pc1JlZCgpPzA6MSl9LGtzKTtmdW5jdGlvbiBrcyh0LGUsbixyLGkpe3RoaXMua2V5PXQsdGhpcy52YWx1ZT1lLHRoaXMuY29sb3I9bnVsbCE9bj9uOmtzLlJFRCx0aGlzLmxlZnQ9bnVsbCE9cj9yOmtzLkVNUFRZLHRoaXMucmlnaHQ9bnVsbCE9aT9pOmtzLkVNUFRZLHRoaXMuc2l6ZT10aGlzLmxlZnQuc2l6ZSsxK3RoaXMucmlnaHQuc2l6ZX1mdW5jdGlvbiBDcyh0LGUsbixyKXt0aGlzLmlzUmV2ZXJzZT1yLHRoaXMubm9kZVN0YWNrPVtdO2Zvcih2YXIgaT0xOyF0LmlzRW1wdHkoKTspaWYoaT1lP24odC5rZXksZSk6MSxyJiYoaSo9LTEpLGk8MCl0PXRoaXMuaXNSZXZlcnNlP3QubGVmdDp0LnJpZ2h0O2Vsc2V7aWYoMD09PWkpe3RoaXMubm9kZVN0YWNrLnB1c2godCk7YnJlYWt9dGhpcy5ub2RlU3RhY2sucHVzaCh0KSx0PXRoaXMuaXNSZXZlcnNlP3QucmlnaHQ6dC5sZWZ0fX1mdW5jdGlvbiBScyh0LGUpe3RoaXMuY29tcGFyYXRvcj10LHRoaXMucm9vdD1lfHxBcy5FTVBUWX1mdW5jdGlvbiB4cygpe3RoaXMuc2l6ZT0wfUFzLkVNUFRZPW51bGwsQXMuUkVEPSEwLEFzLkJMQUNLPSExLEFzLkVNUFRZPShPYmplY3QuZGVmaW5lUHJvcGVydHkoeHMucHJvdG90eXBlLFwia2V5XCIse2dldDpmdW5jdGlvbigpe3Rocm93IE1yKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHhzLnByb3RvdHlwZSxcInZhbHVlXCIse2dldDpmdW5jdGlvbigpe3Rocm93IE1yKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHhzLnByb3RvdHlwZSxcImNvbG9yXCIse2dldDpmdW5jdGlvbigpe3Rocm93IE1yKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHhzLnByb3RvdHlwZSxcImxlZnRcIix7Z2V0OmZ1bmN0aW9uKCl7dGhyb3cgTXIoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoeHMucHJvdG90eXBlLFwicmlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7dGhyb3cgTXIoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx4cy5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0LGUsbixyLGkpe3JldHVybiB0aGlzfSx4cy5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IEFzKHQsZSl9LHhzLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpc30seHMucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4hMH0seHMucHJvdG90eXBlLmlub3JkZXJUcmF2ZXJzYWw9ZnVuY3Rpb24odCl7cmV0dXJuITF9LHhzLnByb3RvdHlwZS5yZXZlcnNlVHJhdmVyc2FsPWZ1bmN0aW9uKHQpe3JldHVybiExfSx4cy5wcm90b3R5cGUubWluS2V5PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHhzLnByb3RvdHlwZS5tYXhLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0seHMucHJvdG90eXBlLmlzUmVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9LHhzLnByb3RvdHlwZS5jaGVja01heERlcHRoPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHhzLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe3JldHVybiAwfSxuZXcgeHMpO3ZhciBPcz0oRnMucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXRoaXMuZGF0YS5nZXQodCl9LEZzLnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEubWluS2V5KCl9LEZzLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5tYXhLZXkoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KEZzLnByb3RvdHlwZSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5zaXplfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLEZzLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGEuaW5kZXhPZih0KX0sRnMucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24obil7dGhpcy5kYXRhLmlub3JkZXJUcmF2ZXJzYWwoZnVuY3Rpb24odCxlKXtyZXR1cm4gbih0KSwhMX0pfSxGcy5wcm90b3R5cGUuZm9yRWFjaEluUmFuZ2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5kYXRhLmdldEl0ZXJhdG9yRnJvbSh0WzBdKTtuLmhhc05leHQoKTspe3ZhciByPW4uZ2V0TmV4dCgpO2lmKDA8PXRoaXMuY29tcGFyYXRvcihyLmtleSx0WzFdKSlyZXR1cm47ZShyLmtleSl9fSxGcy5wcm90b3R5cGUuZm9yRWFjaFdoaWxlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXZvaWQgMCE9PWU/dGhpcy5kYXRhLmdldEl0ZXJhdG9yRnJvbShlKTp0aGlzLmRhdGEuZ2V0SXRlcmF0b3IoKTtuLmhhc05leHQoKTspaWYoIXQobi5nZXROZXh0KCkua2V5KSlyZXR1cm59LEZzLnByb3RvdHlwZS5maXJzdEFmdGVyT3JFcXVhbD1mdW5jdGlvbih0KXt0PXRoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20odCk7cmV0dXJuIHQuaGFzTmV4dCgpP3QuZ2V0TmV4dCgpLmtleTpudWxsfSxGcy5wcm90b3R5cGUuZ2V0SXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IExzKHRoaXMuZGF0YS5nZXRJdGVyYXRvcigpKX0sRnMucHJvdG90eXBlLmdldEl0ZXJhdG9yRnJvbT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IExzKHRoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20odCkpfSxGcy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvcHkodGhpcy5kYXRhLnJlbW92ZSh0KS5pbnNlcnQodCwhMCkpfSxGcy5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhcyh0KT90aGlzLmNvcHkodGhpcy5kYXRhLnJlbW92ZSh0KSk6dGhpc30sRnMucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmlzRW1wdHkoKX0sRnMucHJvdG90eXBlLnVuaW9uV2l0aD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBlLnNpemU8dC5zaXplJiYoZT10LHQ9dGhpcyksdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe2U9ZS5hZGQodCl9KSxlfSxGcy5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBGcykpcmV0dXJuITE7aWYodGhpcy5zaXplIT09dC5zaXplKXJldHVybiExO2Zvcih2YXIgZT10aGlzLmRhdGEuZ2V0SXRlcmF0b3IoKSxuPXQuZGF0YS5nZXRJdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIHI9ZS5nZXROZXh0KCkua2V5LGk9bi5nZXROZXh0KCkua2V5O2lmKDAhPT10aGlzLmNvbXBhcmF0b3IocixpKSlyZXR1cm4hMX1yZXR1cm4hMH0sRnMucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0pLGV9LEZzLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUucHVzaCh0KX0pLFwiU29ydGVkU2V0KFwiK2UudG9TdHJpbmcoKStcIilcIn0sRnMucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEZzKHRoaXMuY29tcGFyYXRvcik7cmV0dXJuIGUuZGF0YT10LGV9LEZzKSxMcz0oTXMucHJvdG90eXBlLmdldE5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyLmdldE5leHQoKS5rZXl9LE1zLnByb3RvdHlwZS5oYXNOZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlci5oYXNOZXh0KCl9LE1zKSxQcz1uZXcgTnMobWkuY29tcGFyYXRvcik7ZnVuY3Rpb24gTXModCl7dGhpcy5pdGVyPXR9ZnVuY3Rpb24gRnModCl7dGhpcy5jb21wYXJhdG9yPXQsdGhpcy5kYXRhPW5ldyBOcyh0aGlzLmNvbXBhcmF0b3IpfXZhciBWcz1uZXcgTnMobWkuY29tcGFyYXRvcik7dmFyIFVzPW5ldyBOcyhtaS5jb21wYXJhdG9yKTt2YXIgcXM9bmV3IE9zKG1pLmNvbXBhcmF0b3IpO2Z1bmN0aW9uIEJzKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO2Zvcih2YXIgbj1xcyxyPTAsaT10O3I8aS5sZW5ndGg7cisrKXZhciBvPWlbcl0sbj1uLmFkZChvKTtyZXR1cm4gbn12YXIganM9bmV3IE9zKHFyKTt2YXIgS3M9KFpzLmNyZWF0ZVN5bnRoZXNpemVkUmVtb3RlRXZlbnRGb3JDdXJyZW50Q2hhbmdlPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IE1hcDtyZXR1cm4gbi5zZXQodCxHcy5jcmVhdGVTeW50aGVzaXplZFRhcmdldENoYW5nZUZvckN1cnJlbnRDaGFuZ2UodCxlKSksbmV3IFpzKEdyLm1pbigpLG4sanMsUHMsQnMoKSl9LFpzKSxHcz0oJHMuY3JlYXRlU3ludGhlc2l6ZWRUYXJnZXRDaGFuZ2VGb3JDdXJyZW50Q2hhbmdlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyAkcyhuaS5FTVBUWV9CWVRFX1NUUklORyxlLEJzKCksQnMoKSxCcygpKX0sJHMpLFFzPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMudj10LHRoaXMucmVtb3ZlZFRhcmdldElkcz1lLHRoaXMua2V5PW4sdGhpcy5QPXJ9LHpzPWZ1bmN0aW9uKHQsZSl7dGhpcy50YXJnZXRJZD10LHRoaXMuVj1lfSxIcz1mdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1uJiYobj1uaS5FTVBUWV9CWVRFX1NUUklORyksdm9pZCAwPT09ciYmKHI9bnVsbCksdGhpcy5zdGF0ZT10LHRoaXMudGFyZ2V0SWRzPWUsdGhpcy5yZXN1bWVUb2tlbj1uLHRoaXMuY2F1c2U9cn0sV3M9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKcy5wcm90b3R5cGUsXCJjdXJyZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLk59LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzLnByb3RvdHlwZSxcInJlc3VtZVRva2VuXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLkN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzLnByb3RvdHlwZSxcImtcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDAhPT10aGlzLlN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzLnByb3RvdHlwZSxcIk9cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxKcy5wcm90b3R5cGUuJD1mdW5jdGlvbih0KXswPHQuYXBwcm94aW1hdGVCeXRlU2l6ZSgpJiYodGhpcy5GPSEwLHRoaXMuQz10KX0sSnMucHJvdG90eXBlLk09ZnVuY3Rpb24oKXt2YXIgbj1CcygpLHI9QnMoKSxpPUJzKCk7cmV0dXJuIHRoaXMuRC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7c3dpdGNoKGUpe2Nhc2UgMDpuPW4uYWRkKHQpO2JyZWFrO2Nhc2UgMjpyPXIuYWRkKHQpO2JyZWFrO2Nhc2UgMTppPWkuYWRkKHQpO2JyZWFrO2RlZmF1bHQ6TXIoKX19KSxuZXcgR3ModGhpcy5DLHRoaXMuTixuLHIsaSl9LEpzLnByb3RvdHlwZS5MPWZ1bmN0aW9uKCl7dGhpcy5GPSExLHRoaXMuRD1lYSgpfSxKcy5wcm90b3R5cGUuQj1mdW5jdGlvbih0LGUpe3RoaXMuRj0hMCx0aGlzLkQ9dGhpcy5ELmluc2VydCh0LGUpfSxKcy5wcm90b3R5cGUucT1mdW5jdGlvbih0KXt0aGlzLkY9ITAsdGhpcy5EPXRoaXMuRC5yZW1vdmUodCl9LEpzLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5TKz0xfSxKcy5wcm90b3R5cGUuSz1mdW5jdGlvbigpey0tdGhpcy5TfSxKcy5wcm90b3R5cGUuaj1mdW5jdGlvbigpe3RoaXMuRj0hMCx0aGlzLk49ITB9LEpzKSxZcz0oWHMucHJvdG90eXBlLlg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10LnY7ZTxuLmxlbmd0aDtlKyspe3ZhciByPW5bZV07dC5QJiZ0LlAuaXNGb3VuZERvY3VtZW50KCk/dGhpcy5aKHIsdC5QKTp0aGlzLnR0KHIsdC5rZXksdC5QKX1mb3IodmFyIGk9MCxvPXQucmVtb3ZlZFRhcmdldElkcztpPG8ubGVuZ3RoO2krKylyPW9baV0sdGhpcy50dChyLHQua2V5LHQuUCl9LFhzLnByb3RvdHlwZS5ldD1mdW5jdGlvbihuKXt2YXIgcj10aGlzO3RoaXMuZm9yRWFjaFRhcmdldChuLGZ1bmN0aW9uKHQpe3ZhciBlPXIubnQodCk7c3dpdGNoKG4uc3RhdGUpe2Nhc2UgMDpyLnN0KHQpJiZlLiQobi5yZXN1bWVUb2tlbik7YnJlYWs7Y2FzZSAxOmUuSygpLGUua3x8ZS5MKCksZS4kKG4ucmVzdW1lVG9rZW4pO2JyZWFrO2Nhc2UgMjplLksoKSxlLmt8fHIucmVtb3ZlVGFyZ2V0KHQpO2JyZWFrO2Nhc2UgMzpyLnN0KHQpJiYoZS5qKCksZS4kKG4ucmVzdW1lVG9rZW4pKTticmVhaztjYXNlIDQ6ci5zdCh0KSYmKHIuaXQodCksZS4kKG4ucmVzdW1lVG9rZW4pKTticmVhaztkZWZhdWx0Ok1yKCl9fSl9LFhzLnByb3RvdHlwZS5mb3JFYWNoVGFyZ2V0PWZ1bmN0aW9uKHQsbil7dmFyIHI9dGhpczswPHQudGFyZ2V0SWRzLmxlbmd0aD90LnRhcmdldElkcy5mb3JFYWNoKG4pOnRoaXMuRy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7ci5zdChlKSYmbihlKX0pfSxYcy5wcm90b3R5cGUucnQ9ZnVuY3Rpb24odCl7dmFyIGU9dC50YXJnZXRJZCxuPXQuVi5jb3VudCx0PXRoaXMub3QoZSk7dCYmKFVpKHQ9dC50YXJnZXQpPzA9PT1uPyh0PW5ldyBtaSh0LnBhdGgpLHRoaXMudHQoZSx0LE9pLm5ld05vRG9jdW1lbnQodCxHci5taW4oKSkpKTpGcigxPT09bik6dGhpcy5jdChlKSE9PW4mJih0aGlzLml0KGUpLHRoaXMuWT10aGlzLlkuYWRkKGUpKSl9LFhzLnByb3RvdHlwZS51dD1mdW5jdGlvbihyKXt2YXIgaT10aGlzLG89bmV3IE1hcDt0aGlzLkcuZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciBuPWkub3QoZSk7biYmKHQuY3VycmVudCYmVWkobi50YXJnZXQpJiYobj1uZXcgbWkobi50YXJnZXQucGF0aCksbnVsbCE9PWkuSC5nZXQobil8fGkuYXQoZSxuKXx8aS50dChlLG4sT2kubmV3Tm9Eb2N1bWVudChuLHIpKSksdC5PJiYoby5zZXQoZSx0Lk0oKSksdC5MKCkpKX0pO3ZhciBzPUJzKCk7dGhpcy5KLmZvckVhY2goZnVuY3Rpb24odCxlKXt2YXIgbj0hMDtlLmZvckVhY2hXaGlsZShmdW5jdGlvbih0KXt0PWkub3QodCk7cmV0dXJuIXR8fDI9PT10LnB1cnBvc2V8fChuPSExKX0pLG4mJihzPXMuYWRkKHQpKX0pO3ZhciB0PW5ldyBLcyhyLG8sdGhpcy5ZLHRoaXMuSCxzKTtyZXR1cm4gdGhpcy5IPVBzLHRoaXMuSj10YSgpLHRoaXMuWT1uZXcgT3MocXIpLHR9LFhzLnByb3RvdHlwZS5aPWZ1bmN0aW9uKHQsZSl7dmFyIG47dGhpcy5zdCh0KSYmKG49dGhpcy5hdCh0LGUua2V5KT8yOjAsdGhpcy5udCh0KS5CKGUua2V5LG4pLHRoaXMuSD10aGlzLkguaW5zZXJ0KGUua2V5LGUpLHRoaXMuSj10aGlzLkouaW5zZXJ0KGUua2V5LHRoaXMuaHQoZS5rZXkpLmFkZCh0KSkpfSxYcy5wcm90b3R5cGUudHQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByO3RoaXMuc3QodCkmJihyPXRoaXMubnQodCksdGhpcy5hdCh0LGUpP3IuQihlLDEpOnIucShlKSx0aGlzLko9dGhpcy5KLmluc2VydChlLHRoaXMuaHQoZSkuZGVsZXRlKHQpKSxuJiYodGhpcy5IPXRoaXMuSC5pbnNlcnQoZSxuKSkpfSxYcy5wcm90b3R5cGUucmVtb3ZlVGFyZ2V0PWZ1bmN0aW9uKHQpe3RoaXMuRy5kZWxldGUodCl9LFhzLnByb3RvdHlwZS5jdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm50KHQpLk0oKTtyZXR1cm4gdGhpcy5XLmdldFJlbW90ZUtleXNGb3JUYXJnZXQodCkuc2l6ZStlLmFkZGVkRG9jdW1lbnRzLnNpemUtZS5yZW1vdmVkRG9jdW1lbnRzLnNpemV9LFhzLnByb3RvdHlwZS5VPWZ1bmN0aW9uKHQpe3RoaXMubnQodCkuVSgpfSxYcy5wcm90b3R5cGUubnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5HLmdldCh0KTtyZXR1cm4gZXx8KGU9bmV3IFdzLHRoaXMuRy5zZXQodCxlKSksZX0sWHMucHJvdG90eXBlLmh0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuSi5nZXQodCk7cmV0dXJuIGV8fChlPW5ldyBPcyhxciksdGhpcy5KPXRoaXMuSi5pbnNlcnQodCxlKSksZX0sWHMucHJvdG90eXBlLnN0PWZ1bmN0aW9uKHQpe3ZhciBlPW51bGwhPT10aGlzLm90KHQpO3JldHVybiBlfHx4cihcIldhdGNoQ2hhbmdlQWdncmVnYXRvclwiLFwiRGV0ZWN0ZWQgaW5hY3RpdmUgdGFyZ2V0XCIsdCksZX0sWHMucHJvdG90eXBlLm90PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuRy5nZXQodCk7cmV0dXJuIGUmJmUuaz9udWxsOnRoaXMuVy5sdCh0KX0sWHMucHJvdG90eXBlLml0PWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7dGhpcy5HLnNldChlLG5ldyBXcyksdGhpcy5XLmdldFJlbW90ZUtleXNGb3JUYXJnZXQoZSkuZm9yRWFjaChmdW5jdGlvbih0KXtuLnR0KGUsdCxudWxsKX0pfSxYcy5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5XLmdldFJlbW90ZUtleXNGb3JUYXJnZXQodCkuaGFzKGUpfSxYcyk7ZnVuY3Rpb24gWHModCl7dGhpcy5XPXQsdGhpcy5HPW5ldyBNYXAsdGhpcy5IPVBzLHRoaXMuSj10YSgpLHRoaXMuWT1uZXcgT3MocXIpfWZ1bmN0aW9uIEpzKCl7dGhpcy5TPTAsdGhpcy5EPWVhKCksdGhpcy5DPW5pLkVNUFRZX0JZVEVfU1RSSU5HLHRoaXMuTj0hMSx0aGlzLkY9ITB9ZnVuY3Rpb24gJHModCxlLG4scixpKXt0aGlzLnJlc3VtZVRva2VuPXQsdGhpcy5jdXJyZW50PWUsdGhpcy5hZGRlZERvY3VtZW50cz1uLHRoaXMubW9kaWZpZWREb2N1bWVudHM9cix0aGlzLnJlbW92ZWREb2N1bWVudHM9aX1mdW5jdGlvbiBacyh0LGUsbixyLGkpe3RoaXMuc25hcHNob3RWZXJzaW9uPXQsdGhpcy50YXJnZXRDaGFuZ2VzPWUsdGhpcy50YXJnZXRNaXNtYXRjaGVzPW4sdGhpcy5kb2N1bWVudFVwZGF0ZXM9cix0aGlzLnJlc29sdmVkTGltYm9Eb2N1bWVudHM9aX1mdW5jdGlvbiB0YSgpe3JldHVybiBuZXcgTnMobWkuY29tcGFyYXRvcil9ZnVuY3Rpb24gZWEoKXtyZXR1cm4gbmV3IE5zKG1pLmNvbXBhcmF0b3IpfXZhciBuYT17YXNjOlwiQVNDRU5ESU5HXCIsZGVzYzpcIkRFU0NFTkRJTkdcIn0scmE9e1wiPFwiOlwiTEVTU19USEFOXCIsXCI8PVwiOlwiTEVTU19USEFOX09SX0VRVUFMXCIsXCI+XCI6XCJHUkVBVEVSX1RIQU5cIixcIj49XCI6XCJHUkVBVEVSX1RIQU5fT1JfRVFVQUxcIixcIj09XCI6XCJFUVVBTFwiLFwiIT1cIjpcIk5PVF9FUVVBTFwiLFwiYXJyYXktY29udGFpbnNcIjpcIkFSUkFZX0NPTlRBSU5TXCIsaW46XCJJTlwiLFwibm90LWluXCI6XCJOT1RfSU5cIixcImFycmF5LWNvbnRhaW5zLWFueVwiOlwiQVJSQVlfQ09OVEFJTlNfQU5ZXCJ9LGlhPWZ1bmN0aW9uKHQsZSl7dGhpcy5kYXRhYmFzZUlkPXQsdGhpcy5JPWV9O2Z1bmN0aW9uIG9hKHQsZSl7cmV0dXJuIHQuST9uZXcgRGF0ZSgxZTMqZS5zZWNvbmRzKS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1xcLlxcZCovLFwiXCIpLnJlcGxhY2UoXCJaXCIsXCJcIikrXCIuXCIrKFwiMDAwMDAwMDAwXCIrZS5uYW5vc2Vjb25kcykuc2xpY2UoLTkpK1wiWlwiOntzZWNvbmRzOlwiXCIrZS5zZWNvbmRzLG5hbm9zOmUubmFub3NlY29uZHN9fWZ1bmN0aW9uIHNhKHQsZSl7cmV0dXJuIHQuST9lLnRvQmFzZTY0KCk6ZS50b1VpbnQ4QXJyYXkoKX1mdW5jdGlvbiBhYSh0KXtyZXR1cm4gRnIoISF0KSxHci5mcm9tVGltZXN0YW1wKCh0PWNpKHQpLG5ldyBLcih0LnNlY29uZHMsdC5uYW5vcykpKX1mdW5jdGlvbiB1YSh0LGUpe3JldHVybiBuZXcgJHIoW1wicHJvamVjdHNcIix0LnByb2plY3RJZCxcImRhdGFiYXNlc1wiLHQuZGF0YWJhc2VdKS5jaGlsZChcImRvY3VtZW50c1wiKS5jaGlsZChlKS5jYW5vbmljYWxTdHJpbmcoKX1mdW5jdGlvbiBjYSh0KXt0PSRyLmZyb21TdHJpbmcodCk7cmV0dXJuIEZyKGthKHQpKSx0fWZ1bmN0aW9uIGhhKHQsZSl7cmV0dXJuIHVhKHQuZGF0YWJhc2VJZCxlLnBhdGgpfWZ1bmN0aW9uIGxhKHQsZSl7ZT1jYShlKTtpZihlLmdldCgxKSE9PXQuZGF0YWJhc2VJZC5wcm9qZWN0SWQpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJUcmllZCB0byBkZXNlcmlhbGl6ZSBrZXkgZnJvbSBkaWZmZXJlbnQgcHJvamVjdDogXCIrZS5nZXQoMSkrXCIgdnMgXCIrdC5kYXRhYmFzZUlkLnByb2plY3RJZCk7aWYoZS5nZXQoMykhPT10LmRhdGFiYXNlSWQuZGF0YWJhc2UpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJUcmllZCB0byBkZXNlcmlhbGl6ZSBrZXkgZnJvbSBkaWZmZXJlbnQgZGF0YWJhc2U6IFwiK2UuZ2V0KDMpK1wiIHZzIFwiK3QuZGF0YWJhc2VJZC5kYXRhYmFzZSk7cmV0dXJuIG5ldyBtaSh5YShlKSl9ZnVuY3Rpb24gZmEodCxlKXtyZXR1cm4gdWEodC5kYXRhYmFzZUlkLGUpfWZ1bmN0aW9uIGRhKHQpe3Q9Y2EodCk7cmV0dXJuIDQ9PT10Lmxlbmd0aD8kci5lbXB0eVBhdGgoKTp5YSh0KX1mdW5jdGlvbiBwYSh0KXtyZXR1cm4gbmV3ICRyKFtcInByb2plY3RzXCIsdC5kYXRhYmFzZUlkLnByb2plY3RJZCxcImRhdGFiYXNlc1wiLHQuZGF0YWJhc2VJZC5kYXRhYmFzZV0pLmNhbm9uaWNhbFN0cmluZygpfWZ1bmN0aW9uIHlhKHQpe3JldHVybiBGcig0PHQubGVuZ3RoJiZcImRvY3VtZW50c1wiPT09dC5nZXQoNCkpLHQucG9wRmlyc3QoNSl9ZnVuY3Rpb24gZ2EodCxlLG4pe3JldHVybntuYW1lOmhhKHQsZSksZmllbGRzOm4udG9Qcm90bygpLm1hcFZhbHVlLmZpZWxkc319ZnVuY3Rpb24gbWEodCxlLG4pe3ZhciByPWxhKHQsZS5uYW1lKSx0PWFhKGUudXBkYXRlVGltZSksZT1uZXcgUmkoe21hcFZhbHVlOntmaWVsZHM6ZS5maWVsZHN9fSksZT1PaS5uZXdGb3VuZERvY3VtZW50KHIsdCxlKTtyZXR1cm4gbiYmZS5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKSxuP2Uuc2V0SGFzQ29tbWl0dGVkTXV0YXRpb25zKCk6ZX1mdW5jdGlvbiB2YSh0LGUpe3ZhciBuLHIsaTtpZihlIGluc3RhbmNlb2YgY3Mpbj17dXBkYXRlOmdhKHQsZS5rZXksZS52YWx1ZSl9O2Vsc2UgaWYoZSBpbnN0YW5jZW9mIHdzKW49e2RlbGV0ZTpoYSh0LGUua2V5KX07ZWxzZSBpZihlIGluc3RhbmNlb2YgaHMpbj17dXBkYXRlOmdhKHQsZS5rZXksZS5kYXRhKSx1cGRhdGVNYXNrOihpPWUuZmllbGRNYXNrLHI9W10saS5maWVsZHMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gci5wdXNoKHQuY2Fub25pY2FsU3RyaW5nKCkpfSkse2ZpZWxkUGF0aHM6cn0pfTtlbHNle2lmKCEoZSBpbnN0YW5jZW9mIElzKSlyZXR1cm4gTXIoKTtuPXt2ZXJpZnk6aGEodCxlLmtleSl9fXJldHVybiAwPGUuZmllbGRUcmFuc2Zvcm1zLmxlbmd0aCYmKG4udXBkYXRlVHJhbnNmb3Jtcz1lLmZpZWxkVHJhbnNmb3Jtcy5tYXAoZnVuY3Rpb24odCl7dmFyIGU9dC50cmFuc2Zvcm07aWYoZSBpbnN0YW5jZW9mIFVvKXJldHVybntmaWVsZFBhdGg6dC5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSxzZXRUb1NlcnZlclZhbHVlOlwiUkVRVUVTVF9USU1FXCJ9O2lmKGUgaW5zdGFuY2VvZiBxbylyZXR1cm57ZmllbGRQYXRoOnQuZmllbGQuY2Fub25pY2FsU3RyaW5nKCksYXBwZW5kTWlzc2luZ0VsZW1lbnRzOnt2YWx1ZXM6ZS5lbGVtZW50c319O2lmKGUgaW5zdGFuY2VvZiBRbylyZXR1cm57ZmllbGRQYXRoOnQuZmllbGQuY2Fub25pY2FsU3RyaW5nKCkscmVtb3ZlQWxsRnJvbUFycmF5Ont2YWx1ZXM6ZS5lbGVtZW50c319O2lmKGUgaW5zdGFuY2VvZiBZbylyZXR1cm57ZmllbGRQYXRoOnQuZmllbGQuY2Fub25pY2FsU3RyaW5nKCksaW5jcmVtZW50OmUuQX07dGhyb3cgTXIoKX0pKSxlLnByZWNvbmRpdGlvbi5pc05vbmV8fChuLmN1cnJlbnREb2N1bWVudD12b2lkIDAhPT0oaT1lLnByZWNvbmRpdGlvbikudXBkYXRlVGltZT97dXBkYXRlVGltZTooZT10LHQ9aS51cGRhdGVUaW1lLG9hKGUsdC50b1RpbWVzdGFtcCgpKSl9OnZvaWQgMCE9PWkuZXhpc3RzP3tleGlzdHM6aS5leGlzdHN9Ok1yKCkpLG59ZnVuY3Rpb24gYmEoZSx0KXt2YXIgbj10LmN1cnJlbnREb2N1bWVudD92b2lkIDAhPT0ocz10LmN1cnJlbnREb2N1bWVudCkudXBkYXRlVGltZT9lcy51cGRhdGVUaW1lKGFhKHMudXBkYXRlVGltZSkpOnZvaWQgMCE9PXMuZXhpc3RzP2VzLmV4aXN0cyhzLmV4aXN0cyk6ZXMubm9uZSgpOmVzLm5vbmUoKSxyPXQudXBkYXRlVHJhbnNmb3Jtcz90LnVwZGF0ZVRyYW5zZm9ybXMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuLHI9bnVsbDtcInNldFRvU2VydmVyVmFsdWVcImluIGU/KEZyKFwiUkVRVUVTVF9USU1FXCI9PT1lLnNldFRvU2VydmVyVmFsdWUpLHI9bmV3IFVvKTpcImFwcGVuZE1pc3NpbmdFbGVtZW50c1wiaW4gZT8obj1lLmFwcGVuZE1pc3NpbmdFbGVtZW50cy52YWx1ZXN8fFtdLHI9bmV3IHFvKG4pKTpcInJlbW92ZUFsbEZyb21BcnJheVwiaW4gZT8obj1lLnJlbW92ZUFsbEZyb21BcnJheS52YWx1ZXN8fFtdLHI9bmV3IFFvKG4pKTpcImluY3JlbWVudFwiaW4gZT9yPW5ldyBZbyh0LGUuaW5jcmVtZW50KTpNcigpO2U9dGkuZnJvbVNlcnZlckZvcm1hdChlLmZpZWxkUGF0aCk7cmV0dXJuIG5ldyB0cyhlLHIpfShlLHQpfSk6W107aWYodC51cGRhdGUpe3QudXBkYXRlLm5hbWU7dmFyIGk9bGEoZSx0LnVwZGF0ZS5uYW1lKSxvPW5ldyBSaSh7bWFwVmFsdWU6e2ZpZWxkczp0LnVwZGF0ZS5maWVsZHN9fSk7aWYodC51cGRhdGVNYXNrKXt2YXIgcz0ocz10LnVwZGF0ZU1hc2suZmllbGRQYXRoc3x8W10sbmV3IGVpKHMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0aS5mcm9tU2VydmVyRm9ybWF0KHQpfSkpKTtyZXR1cm4gbmV3IGhzKGksbyxzLG4scil9cmV0dXJuIG5ldyBjcyhpLG8sbixyKX1pZih0LmRlbGV0ZSl7cj1sYShlLHQuZGVsZXRlKTtyZXR1cm4gbmV3IHdzKHIsbil9aWYodC52ZXJpZnkpe3Q9bGEoZSx0LnZlcmlmeSk7cmV0dXJuIG5ldyBJcyh0LG4pfXJldHVybiBNcigpfWZ1bmN0aW9uIHdhKHQsZSl7cmV0dXJue2RvY3VtZW50czpbZmEodCxlLnBhdGgpXX19ZnVuY3Rpb24gSWEodCxlKXt2YXIgbj17c3RydWN0dXJlZFF1ZXJ5Ont9fSxyPWUucGF0aDtudWxsIT09ZS5jb2xsZWN0aW9uR3JvdXA/KG4ucGFyZW50PWZhKHQsciksbi5zdHJ1Y3R1cmVkUXVlcnkuZnJvbT1be2NvbGxlY3Rpb25JZDplLmNvbGxlY3Rpb25Hcm91cCxhbGxEZXNjZW5kYW50czohMH1dKToobi5wYXJlbnQ9ZmEodCxyLnBvcExhc3QoKSksbi5zdHJ1Y3R1cmVkUXVlcnkuZnJvbT1be2NvbGxlY3Rpb25JZDpyLmxhc3RTZWdtZW50KCl9XSk7cj1mdW5jdGlvbih0KXtpZigwIT09dC5sZW5ndGgpe3Q9dC5tYXAoZnVuY3Rpb24odCl7aWYoXCI9PVwiPT09dC5vcCl7aWYoa2kodC52YWx1ZSkpcmV0dXJue3VuYXJ5RmlsdGVyOntmaWVsZDpTYSh0LmZpZWxkKSxvcDpcIklTX05BTlwifX07aWYoQWkodC52YWx1ZSkpcmV0dXJue3VuYXJ5RmlsdGVyOntmaWVsZDpTYSh0LmZpZWxkKSxvcDpcIklTX05VTExcIn19fWVsc2UgaWYoXCIhPVwiPT09dC5vcCl7aWYoa2kodC52YWx1ZSkpcmV0dXJue3VuYXJ5RmlsdGVyOntmaWVsZDpTYSh0LmZpZWxkKSxvcDpcIklTX05PVF9OQU5cIn19O2lmKEFpKHQudmFsdWUpKXJldHVybnt1bmFyeUZpbHRlcjp7ZmllbGQ6U2EodC5maWVsZCksb3A6XCJJU19OT1RfTlVMTFwifX19cmV0dXJue2ZpZWxkRmlsdGVyOntmaWVsZDpTYSh0LmZpZWxkKSxvcDooZT10Lm9wLHJhW2VdKSx2YWx1ZTp0LnZhbHVlfX07dmFyIGV9KTtyZXR1cm4gMT09PXQubGVuZ3RoP3RbMF06e2NvbXBvc2l0ZUZpbHRlcjp7b3A6XCJBTkRcIixmaWx0ZXJzOnR9fX19KGUuZmlsdGVycyk7ciYmKG4uc3RydWN0dXJlZFF1ZXJ5LndoZXJlPXIpO3I9ZnVuY3Rpb24odCl7aWYoMCE9PXQubGVuZ3RoKXJldHVybiB0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm57ZmllbGQ6U2EoKHQ9dCkuZmllbGQpLGRpcmVjdGlvbjoodD10LmRpcixuYVt0XSl9fSl9KGUub3JkZXJCeSk7ciYmKG4uc3RydWN0dXJlZFF1ZXJ5Lm9yZGVyQnk9cik7cj1lLmxpbWl0LHI9dC5JfHxwaShyKT9yOnt2YWx1ZTpyfTtyZXR1cm4gbnVsbCE9PXImJihuLnN0cnVjdHVyZWRRdWVyeS5saW1pdD1yKSxlLnN0YXJ0QXQmJihuLnN0cnVjdHVyZWRRdWVyeS5zdGFydEF0PVRhKGUuc3RhcnRBdCkpLGUuZW5kQXQmJihuLnN0cnVjdHVyZWRRdWVyeS5lbmRBdD1UYShlLmVuZEF0KSksbn1mdW5jdGlvbiBFYSh0KXt2YXIgZT1kYSh0LnBhcmVudCksbj10LnN0cnVjdHVyZWRRdWVyeSxyPW4uZnJvbT9uLmZyb20ubGVuZ3RoOjAsaT1udWxsOzA8ciYmKEZyKDE9PT1yKSwoYT1uLmZyb21bMF0pLmFsbERlc2NlbmRhbnRzP2k9YS5jb2xsZWN0aW9uSWQ6ZT1lLmNoaWxkKGEuY29sbGVjdGlvbklkKSk7dmFyIG89W107bi53aGVyZSYmKG89ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdD92b2lkIDAhPT10LnVuYXJ5RmlsdGVyP1tBYSh0KV06dm9pZCAwIT09dC5maWVsZEZpbHRlcj9bRGEodCldOnZvaWQgMCE9PXQuY29tcG9zaXRlRmlsdGVyP3QuY29tcG9zaXRlRmlsdGVyLmZpbHRlcnMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSkucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY29uY2F0KGUpfSk6TXIoKTpbXX0obi53aGVyZSkpO3ZhciBzPVtdLHQ9bnVsbCxyPW51bGwsYT1udWxsO3JldHVybiB2byhlLGkscz1uLm9yZGVyQnk/bi5vcmRlckJ5Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHBvKE5hKChlPXQpLmZpZWxkKSxmdW5jdGlvbigpe3N3aXRjaChlLmRpcmVjdGlvbil7Y2FzZVwiQVNDRU5ESU5HXCI6cmV0dXJuXCJhc2NcIjtjYXNlXCJERVNDRU5ESU5HXCI6cmV0dXJuXCJkZXNjXCI7ZGVmYXVsdDpyZXR1cm59fSgpKTt2YXIgZX0pOnMsbyx0PW4ubGltaXQ/cGkobz1cIm9iamVjdFwiPT10eXBlb2Yobz1uLmxpbWl0KT9vLnZhbHVlOm8pP251bGw6bzp0LFwiRlwiLHI9bi5zdGFydEF0P19hKG4uc3RhcnRBdCk6cixhPW4uZW5kQXQ/X2Eobi5lbmRBdCk6YSl9ZnVuY3Rpb24gVGEodCl7cmV0dXJue2JlZm9yZTp0LmJlZm9yZSx2YWx1ZXM6dC5wb3NpdGlvbn19ZnVuY3Rpb24gX2EodCl7dmFyIGU9ISF0LmJlZm9yZSx0PXQudmFsdWVzfHxbXTtyZXR1cm4gbmV3IGFvKHQsZSl9ZnVuY3Rpb24gU2EodCl7cmV0dXJue2ZpZWxkUGF0aDp0LmNhbm9uaWNhbFN0cmluZygpfX1mdW5jdGlvbiBOYSh0KXtyZXR1cm4gdGkuZnJvbVNlcnZlckZvcm1hdCh0LmZpZWxkUGF0aCl9ZnVuY3Rpb24gRGEodCl7cmV0dXJuIEJpLmNyZWF0ZShOYSh0LmZpZWxkRmlsdGVyLmZpZWxkKSxmdW5jdGlvbigpe3N3aXRjaCh0LmZpZWxkRmlsdGVyLm9wKXtjYXNlXCJFUVVBTFwiOnJldHVyblwiPT1cIjtjYXNlXCJOT1RfRVFVQUxcIjpyZXR1cm5cIiE9XCI7Y2FzZVwiR1JFQVRFUl9USEFOXCI6cmV0dXJuXCI+XCI7Y2FzZVwiR1JFQVRFUl9USEFOX09SX0VRVUFMXCI6cmV0dXJuXCI+PVwiO2Nhc2VcIkxFU1NfVEhBTlwiOnJldHVyblwiPFwiO2Nhc2VcIkxFU1NfVEhBTl9PUl9FUVVBTFwiOnJldHVyblwiPD1cIjtjYXNlXCJBUlJBWV9DT05UQUlOU1wiOnJldHVyblwiYXJyYXktY29udGFpbnNcIjtjYXNlXCJJTlwiOnJldHVyblwiaW5cIjtjYXNlXCJOT1RfSU5cIjpyZXR1cm5cIm5vdC1pblwiO2Nhc2VcIkFSUkFZX0NPTlRBSU5TX0FOWVwiOnJldHVyblwiYXJyYXktY29udGFpbnMtYW55XCI7Y2FzZVwiT1BFUkFUT1JfVU5TUEVDSUZJRURcIjpkZWZhdWx0OnJldHVybiBNcigpfX0oKSx0LmZpZWxkRmlsdGVyLnZhbHVlKX1mdW5jdGlvbiBBYSh0KXtzd2l0Y2godC51bmFyeUZpbHRlci5vcCl7Y2FzZVwiSVNfTkFOXCI6dmFyIGU9TmEodC51bmFyeUZpbHRlci5maWVsZCk7cmV0dXJuIEJpLmNyZWF0ZShlLFwiPT1cIix7ZG91YmxlVmFsdWU6TmFOfSk7Y2FzZVwiSVNfTlVMTFwiOmU9TmEodC51bmFyeUZpbHRlci5maWVsZCk7cmV0dXJuIEJpLmNyZWF0ZShlLFwiPT1cIix7bnVsbFZhbHVlOlwiTlVMTF9WQUxVRVwifSk7Y2FzZVwiSVNfTk9UX05BTlwiOnZhciBuPU5hKHQudW5hcnlGaWx0ZXIuZmllbGQpO3JldHVybiBCaS5jcmVhdGUobixcIiE9XCIse2RvdWJsZVZhbHVlOk5hTn0pO2Nhc2VcIklTX05PVF9OVUxMXCI6bj1OYSh0LnVuYXJ5RmlsdGVyLmZpZWxkKTtyZXR1cm4gQmkuY3JlYXRlKG4sXCIhPVwiLHtudWxsVmFsdWU6XCJOVUxMX1ZBTFVFXCJ9KTtjYXNlXCJPUEVSQVRPUl9VTlNQRUNJRklFRFwiOmRlZmF1bHQ6cmV0dXJuIE1yKCl9fWZ1bmN0aW9uIGthKHQpe3JldHVybiA0PD10Lmxlbmd0aCYmXCJwcm9qZWN0c1wiPT09dC5nZXQoMCkmJlwiZGF0YWJhc2VzXCI9PT10LmdldCgyKX1mdW5jdGlvbiBDYSh0KXtmb3IodmFyIGU9XCJcIixuPTA7bjx0Lmxlbmd0aDtuKyspMDxlLmxlbmd0aCYmKGU9UmEoZSkpLGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZSxyPXQubGVuZ3RoLGk9MDtpPHI7aSsrKXt2YXIgbz10LmNoYXJBdChpKTtzd2l0Y2gobyl7Y2FzZVwiXFwwXCI6bis9XCJcXHgwMVxceDEwXCI7YnJlYWs7Y2FzZVwiXFx4MDFcIjpuKz1cIlxceDAxXFx4MTFcIjticmVhaztkZWZhdWx0Om4rPW99fXJldHVybiBufSh0LmdldChuKSxlKTtyZXR1cm4gUmEoZSl9ZnVuY3Rpb24gUmEodCl7cmV0dXJuIHQrXCJcXHgwMVxceDAxXCJ9ZnVuY3Rpb24geGEodCl7dmFyIGU9dC5sZW5ndGg7aWYoRnIoMjw9ZSksMj09PWUpcmV0dXJuIEZyKFwiXFx4MDFcIj09PXQuY2hhckF0KDApJiZcIlxceDAxXCI9PT10LmNoYXJBdCgxKSksJHIuZW1wdHlQYXRoKCk7Zm9yKHZhciBuPWUtMixyPVtdLGk9XCJcIixvPTA7bzxlOyl7dmFyIHM9dC5pbmRleE9mKFwiXFx4MDFcIixvKTtzd2l0Y2goKHM8MHx8bjxzKSYmTXIoKSx0LmNoYXJBdChzKzEpKXtjYXNlXCJcXHgwMVwiOnZhciBhPXQuc3Vic3RyaW5nKG8scyksdT12b2lkIDA7MD09PWkubGVuZ3RoP3U9YToodT1pKz1hLGk9XCJcIiksci5wdXNoKHUpO2JyZWFrO2Nhc2VcIlxceDEwXCI6aSs9dC5zdWJzdHJpbmcobyxzKSxpKz1cIlxcMFwiO2JyZWFrO2Nhc2VcIlxceDExXCI6aSs9dC5zdWJzdHJpbmcobyxzKzEpO2JyZWFrO2RlZmF1bHQ6TXIoKX1vPXMrMn1yZXR1cm4gbmV3ICRyKHIpfWZ1bmN0aW9uIE9hKHQsZSxuKXt0aGlzLm93bmVySWQ9dCx0aGlzLmFsbG93VGFiU3luY2hyb25pemF0aW9uPWUsdGhpcy5sZWFzZVRpbWVzdGFtcE1zPW59dmFyIExhPWZ1bmN0aW9uKHQsZSl7dGhpcy5zZWNvbmRzPXQsdGhpcy5uYW5vc2Vjb25kcz1lfTtPYS5zdG9yZT1cIm93bmVyXCIsT2Eua2V5PVwib3duZXJcIjtmdW5jdGlvbiBQYSh0LGUsbil7dGhpcy51c2VySWQ9dCx0aGlzLmxhc3RBY2tub3dsZWRnZWRCYXRjaElkPWUsdGhpcy5sYXN0U3RyZWFtVG9rZW49bn1QYS5zdG9yZT1cIm11dGF0aW9uUXVldWVzXCIsUGEua2V5UGF0aD1cInVzZXJJZFwiO2Z1bmN0aW9uIE1hKHQsZSxuLHIsaSl7dGhpcy51c2VySWQ9dCx0aGlzLmJhdGNoSWQ9ZSx0aGlzLmxvY2FsV3JpdGVUaW1lTXM9bix0aGlzLmJhc2VNdXRhdGlvbnM9cix0aGlzLm11dGF0aW9ucz1pfU1hLnN0b3JlPVwibXV0YXRpb25zXCIsTWEua2V5UGF0aD1cImJhdGNoSWRcIixNYS51c2VyTXV0YXRpb25zSW5kZXg9XCJ1c2VyTXV0YXRpb25zSW5kZXhcIixNYS51c2VyTXV0YXRpb25zS2V5UGF0aD1bXCJ1c2VySWRcIixcImJhdGNoSWRcIl07dmFyIEZhPShWYS5wcmVmaXhGb3JVc2VyPWZ1bmN0aW9uKHQpe3JldHVyblt0XX0sVmEucHJlZml4Rm9yUGF0aD1mdW5jdGlvbih0LGUpe3JldHVyblt0LENhKGUpXX0sVmEua2V5PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm5bdCxDYShlKSxuXX0sVmEpO2Z1bmN0aW9uIFZhKCl7fUZhLnN0b3JlPVwiZG9jdW1lbnRNdXRhdGlvbnNcIixGYS5QTEFDRUhPTERFUj1uZXcgRmE7ZnVuY3Rpb24gVWEodCxlKXt0aGlzLnBhdGg9dCx0aGlzLnJlYWRUaW1lPWV9ZnVuY3Rpb24gcWEodCxlKXt0aGlzLnBhdGg9dCx0aGlzLnZlcnNpb249ZX12YXIgQmE9ZnVuY3Rpb24odCxlLG4scixpLG8pe3RoaXMudW5rbm93bkRvY3VtZW50PXQsdGhpcy5ub0RvY3VtZW50PWUsdGhpcy5kb2N1bWVudD1uLHRoaXMuaGFzQ29tbWl0dGVkTXV0YXRpb25zPXIsdGhpcy5yZWFkVGltZT1pLHRoaXMucGFyZW50UGF0aD1vfTtCYS5zdG9yZT1cInJlbW90ZURvY3VtZW50c1wiLEJhLnJlYWRUaW1lSW5kZXg9XCJyZWFkVGltZUluZGV4XCIsQmEucmVhZFRpbWVJbmRleFBhdGg9XCJyZWFkVGltZVwiLEJhLmNvbGxlY3Rpb25SZWFkVGltZUluZGV4PVwiY29sbGVjdGlvblJlYWRUaW1lSW5kZXhcIixCYS5jb2xsZWN0aW9uUmVhZFRpbWVJbmRleFBhdGg9W1wicGFyZW50UGF0aFwiLFwicmVhZFRpbWVcIl07ZnVuY3Rpb24gamEodCl7dGhpcy5ieXRlU2l6ZT10fWphLnN0b3JlPVwicmVtb3RlRG9jdW1lbnRHbG9iYWxcIixqYS5rZXk9XCJyZW1vdGVEb2N1bWVudEdsb2JhbEtleVwiO2Z1bmN0aW9uIEthKHQsZSxuLHIsaSxvLHMpe3RoaXMudGFyZ2V0SWQ9dCx0aGlzLmNhbm9uaWNhbElkPWUsdGhpcy5yZWFkVGltZT1uLHRoaXMucmVzdW1lVG9rZW49cix0aGlzLmxhc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcj1pLHRoaXMubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbj1vLHRoaXMucXVlcnk9c31LYS5zdG9yZT1cInRhcmdldHNcIixLYS5rZXlQYXRoPVwidGFyZ2V0SWRcIixLYS5xdWVyeVRhcmdldHNJbmRleE5hbWU9XCJxdWVyeVRhcmdldHNJbmRleFwiLEthLnF1ZXJ5VGFyZ2V0c0tleVBhdGg9W1wiY2Fub25pY2FsSWRcIixcInRhcmdldElkXCJdO3ZhciBHYT1mdW5jdGlvbih0LGUsbil7dGhpcy50YXJnZXRJZD10LHRoaXMucGF0aD1lLHRoaXMuc2VxdWVuY2VOdW1iZXI9bn07R2Euc3RvcmU9XCJ0YXJnZXREb2N1bWVudHNcIixHYS5rZXlQYXRoPVtcInRhcmdldElkXCIsXCJwYXRoXCJdLEdhLmRvY3VtZW50VGFyZ2V0c0luZGV4PVwiZG9jdW1lbnRUYXJnZXRzSW5kZXhcIixHYS5kb2N1bWVudFRhcmdldHNLZXlQYXRoPVtcInBhdGhcIixcInRhcmdldElkXCJdO2Z1bmN0aW9uIFFhKHQsZSxuLHIpe3RoaXMuaGlnaGVzdFRhcmdldElkPXQsdGhpcy5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXI9ZSx0aGlzLmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb249bix0aGlzLnRhcmdldENvdW50PXJ9UWEua2V5PVwidGFyZ2V0R2xvYmFsS2V5XCIsUWEuc3RvcmU9XCJ0YXJnZXRHbG9iYWxcIjtmdW5jdGlvbiB6YSh0LGUpe3RoaXMuY29sbGVjdGlvbklkPXQsdGhpcy5wYXJlbnQ9ZX16YS5zdG9yZT1cImNvbGxlY3Rpb25QYXJlbnRzXCIsemEua2V5UGF0aD1bXCJjb2xsZWN0aW9uSWRcIixcInBhcmVudFwiXTtmdW5jdGlvbiBIYSh0LGUsbixyKXt0aGlzLmNsaWVudElkPXQsdGhpcy51cGRhdGVUaW1lTXM9ZSx0aGlzLm5ldHdvcmtFbmFibGVkPW4sdGhpcy5pbkZvcmVncm91bmQ9cn1IYS5zdG9yZT1cImNsaWVudE1ldGFkYXRhXCIsSGEua2V5UGF0aD1cImNsaWVudElkXCI7ZnVuY3Rpb24gV2EodCxlLG4pe3RoaXMuYnVuZGxlSWQ9dCx0aGlzLmNyZWF0ZVRpbWU9ZSx0aGlzLnZlcnNpb249bn1XYS5zdG9yZT1cImJ1bmRsZXNcIixXYS5rZXlQYXRoPVwiYnVuZGxlSWRcIjtmdW5jdGlvbiBZYSh0LGUsbil7dGhpcy5uYW1lPXQsdGhpcy5yZWFkVGltZT1lLHRoaXMuYnVuZGxlZFF1ZXJ5PW59WWEuc3RvcmU9XCJuYW1lZFF1ZXJpZXNcIixZYS5rZXlQYXRoPVwibmFtZVwiO3ZhciBYYSxKYT1zKHMoW10scyhzKFtdLHMocyhbXSxzKHMoW10sW1BhLnN0b3JlLE1hLnN0b3JlLEZhLnN0b3JlLEJhLnN0b3JlLEthLnN0b3JlLE9hLnN0b3JlLFFhLnN0b3JlLEdhLnN0b3JlXSksW0hhLnN0b3JlXSkpLFtqYS5zdG9yZV0pKSxbemEuc3RvcmVdKSksW1dhLnN0b3JlLFlhLnN0b3JlXSksJGE9XCJUaGUgY3VycmVudCB0YWIgaXMgbm90IGluIHRoZSByZXF1aXJlZCBzdGF0ZSB0byBwZXJmb3JtIHRoaXMgb3BlcmF0aW9uLiBJdCBtaWdodCBiZSBuZWNlc3NhcnkgdG8gcmVmcmVzaCB0aGUgYnJvd3NlciB0YWIuXCIsVGU9KGh1LnByb3RvdHlwZS5hZGRPbkNvbW1pdHRlZExpc3RlbmVyPWZ1bmN0aW9uKHQpe3RoaXMub25Db21taXR0ZWRMaXN0ZW5lcnMucHVzaCh0KX0saHUucHJvdG90eXBlLnJhaXNlT25Db21taXR0ZWRFdmVudD1mdW5jdGlvbigpe3RoaXMub25Db21taXR0ZWRMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdCgpfSl9LGh1KSxaYT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5wcm9taXNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsZSl7bi5yZXNvbHZlPXQsbi5yZWplY3Q9ZX0pfSx0dT0oY3UucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5leHQodm9pZCAwLHQpfSxjdS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihyLGkpe3ZhciBvPXRoaXM7cmV0dXJuIHRoaXMuY2FsbGJhY2tBdHRhY2hlZCYmTXIoKSx0aGlzLmNhbGxiYWNrQXR0YWNoZWQ9ITAsdGhpcy5pc0RvbmU/dGhpcy5lcnJvcj90aGlzLndyYXBGYWlsdXJlKGksdGhpcy5lcnJvcik6dGhpcy53cmFwU3VjY2VzcyhyLHRoaXMucmVzdWx0KTpuZXcgY3UoZnVuY3Rpb24oZSxuKXtvLm5leHRDYWxsYmFjaz1mdW5jdGlvbih0KXtvLndyYXBTdWNjZXNzKHIsdCkubmV4dChlLG4pfSxvLmNhdGNoQ2FsbGJhY2s9ZnVuY3Rpb24odCl7by53cmFwRmFpbHVyZShpLHQpLm5leHQoZSxuKX19KX0sY3UucHJvdG90eXBlLnRvUHJvbWlzZT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsZSl7bi5uZXh0KHQsZSl9KX0sY3UucHJvdG90eXBlLndyYXBVc2VyRnVuY3Rpb249ZnVuY3Rpb24odCl7dHJ5e3ZhciBlPXQoKTtyZXR1cm4gZSBpbnN0YW5jZW9mIGN1P2U6Y3UucmVzb2x2ZShlKX1jYXRjaCh0KXtyZXR1cm4gY3UucmVqZWN0KHQpfX0sY3UucHJvdG90eXBlLndyYXBTdWNjZXNzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ/dGhpcy53cmFwVXNlckZ1bmN0aW9uKGZ1bmN0aW9uKCl7cmV0dXJuIHQoZSl9KTpjdS5yZXNvbHZlKGUpfSxjdS5wcm90b3R5cGUud3JhcEZhaWx1cmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD90aGlzLndyYXBVc2VyRnVuY3Rpb24oZnVuY3Rpb24oKXtyZXR1cm4gdChlKX0pOmN1LnJlamVjdChlKX0sY3UucmVzb2x2ZT1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IGN1KGZ1bmN0aW9uKHQsZSl7dChuKX0pfSxjdS5yZWplY3Q9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBjdShmdW5jdGlvbih0LGUpe2Uobil9KX0sY3Uud2FpdEZvcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGN1KGZ1bmN0aW9uKGUsbil7dmFyIHI9MCxpPTAsbz0hMTt0LmZvckVhY2goZnVuY3Rpb24odCl7KytyLHQubmV4dChmdW5jdGlvbigpeysraSxvJiZpPT09ciYmZSgpfSxmdW5jdGlvbih0KXtyZXR1cm4gbih0KX0pfSksbz0hMCxpPT09ciYmZSgpfSl9LGN1Lm9yPWZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1jdS5yZXNvbHZlKCExKSxlPTAscj10O2U8ci5sZW5ndGg7ZSsrKSFmdW5jdGlvbihlKXtuPW4ubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdD9jdS5yZXNvbHZlKHQpOmUoKX0pfShyW2VdKTtyZXR1cm4gbn0sY3UuZm9yRWFjaD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXMsaT1bXTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7aS5wdXNoKG4uY2FsbChyLHQsZSkpfSksdGhpcy53YWl0Rm9yKGkpfSxjdSksZXU9KHV1Lm9wZW49ZnVuY3Rpb24odCxlLG4scil7dHJ5e3JldHVybiBuZXcgdXUoZSx0LnRyYW5zYWN0aW9uKHIsbikpfWNhdGNoKHQpe3Rocm93IG5ldyBpdShlLHQpfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHV1LnByb3RvdHlwZSxcImR0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZ0LnByb21pc2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdXUucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKHQpe3QmJnRoaXMuZnQucmVqZWN0KHQpLHRoaXMuYWJvcnRlZHx8KHhyKFwiU2ltcGxlRGJcIixcIkFib3J0aW5nIHRyYW5zYWN0aW9uOlwiLHQ/dC5tZXNzYWdlOlwiQ2xpZW50LWluaXRpYXRlZCBhYm9ydFwiKSx0aGlzLmFib3J0ZWQ9ITAsdGhpcy50cmFuc2FjdGlvbi5hYm9ydCgpKX0sdXUucHJvdG90eXBlLnN0b3JlPWZ1bmN0aW9uKHQpe3Q9dGhpcy50cmFuc2FjdGlvbi5vYmplY3RTdG9yZSh0KTtyZXR1cm4gbmV3IGZ1KHQpfSx1dSksbnU9KGF1LmRlbGV0ZT1mdW5jdGlvbih0KXtyZXR1cm4geHIoXCJTaW1wbGVEYlwiLFwiUmVtb3ZpbmcgZGF0YWJhc2U6XCIsdCkscHUod2luZG93LmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZSh0KSkudG9Qcm9taXNlKCl9LGF1Lnl0PWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGluZGV4ZWREQilyZXR1cm4hMTtpZihhdS5ndCgpKXJldHVybiEwO3ZhciB0PWgoKSxlPWF1Ll90KHQpLG49MDxlJiZlPDEwLGU9YXUuRXQodCksZT0wPGUmJmU8NC41O3JldHVybiEoMDx0LmluZGV4T2YoXCJNU0lFIFwiKXx8MDx0LmluZGV4T2YoXCJUcmlkZW50L1wiKXx8MDx0LmluZGV4T2YoXCJFZGdlL1wiKXx8bnx8ZSl9LGF1Lmd0PWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHByb2Nlc3MmJlwiWUVTXCI9PT0obnVsbD09PSh0PXByb2Nlc3MuZW52KXx8dm9pZCAwPT09dD92b2lkIDA6dC5UdCl9LGF1Lkl0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc3RvcmUoZSl9LGF1Ll90PWZ1bmN0aW9uKHQpe3Q9dC5tYXRjaCgvaSg/OnBob25lfHBhZHxwb2QpIG9zIChbXFxkX10rKS9pKSx0PXQ/dFsxXS5zcGxpdChcIl9cIikuc2xpY2UoMCwyKS5qb2luKFwiLlwiKTpcIi0xXCI7cmV0dXJuIE51bWJlcih0KX0sYXUuRXQ9ZnVuY3Rpb24odCl7dD10Lm1hdGNoKC9BbmRyb2lkIChbXFxkLl0rKS9pKSx0PXQ/dFsxXS5zcGxpdChcIi5cIikuc2xpY2UoMCwyKS5qb2luKFwiLlwiKTpcIi0xXCI7cmV0dXJuIE51bWJlcih0KX0sYXUucHJvdG90eXBlLkF0PWZ1bmN0aW9uKG8pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLGk9dGhpcztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuZGI/WzMsMl06KHhyKFwiU2ltcGxlRGJcIixcIk9wZW5pbmcgZGF0YWJhc2U6XCIsdGhpcy5uYW1lKSxlPXRoaXMsWzQsbmV3IFByb21pc2UoZnVuY3Rpb24oZSxuKXt2YXIgcj1pbmRleGVkREIub3BlbihpLm5hbWUsaS52ZXJzaW9uKTtyLm9uc3VjY2Vzcz1mdW5jdGlvbih0KXt0PXQudGFyZ2V0LnJlc3VsdDtlKHQpfSxyLm9uYmxvY2tlZD1mdW5jdGlvbigpe24obmV3IGl1KG8sXCJDYW5ub3QgdXBncmFkZSBJbmRleGVkREIgc2NoZW1hIHdoaWxlIGFub3RoZXIgdGFiIGlzIG9wZW4uIENsb3NlIGFsbCB0YWJzIHRoYXQgYWNjZXNzIEZpcmVzdG9yZSBhbmQgcmVsb2FkIHRoaXMgcGFnZSB0byBwcm9jZWVkLlwiKSl9LHIub25lcnJvcj1mdW5jdGlvbih0KXt0PXQudGFyZ2V0LmVycm9yO1wiVmVyc2lvbkVycm9yXCI9PT10Lm5hbWU/bihuZXcgQXIoRHIuRkFJTEVEX1BSRUNPTkRJVElPTixcIkEgbmV3ZXIgdmVyc2lvbiBvZiB0aGUgRmlyZXN0b3JlIFNESyB3YXMgcHJldmlvdXNseSB1c2VkIGFuZCBzbyB0aGUgcGVyc2lzdGVkIGRhdGEgaXMgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgdmVyc2lvbiBvZiB0aGUgU0RLIHlvdSBhcmUgbm93IHVzaW5nLiBUaGUgU0RLIHdpbGwgb3BlcmF0ZSB3aXRoIHBlcnNpc3RlbmNlIGRpc2FibGVkLiBJZiB5b3UgbmVlZCBwZXJzaXN0ZW5jZSwgcGxlYXNlIHJlLXVwZ3JhZGUgdG8gYSBuZXdlciB2ZXJzaW9uIG9mIHRoZSBTREsgb3IgZWxzZSBjbGVhciB0aGUgcGVyc2lzdGVkIEluZGV4ZWREQiBkYXRhIGZvciB5b3VyIGFwcCB0byBzdGFydCBmcmVzaC5cIikpOm4obmV3IGl1KG8sdCkpfSxyLm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbih0KXt4cihcIlNpbXBsZURiXCIsJ0RhdGFiYXNlIFwiJytpLm5hbWUrJ1wiIHJlcXVpcmVzIHVwZ3JhZGUgZnJvbSB2ZXJzaW9uOicsdC5vbGRWZXJzaW9uKTt2YXIgZT10LnRhcmdldC5yZXN1bHQ7aS53dC5SdChlLHIudHJhbnNhY3Rpb24sdC5vbGRWZXJzaW9uLGkudmVyc2lvbikubmV4dChmdW5jdGlvbigpe3hyKFwiU2ltcGxlRGJcIixcIkRhdGFiYXNlIHVwZ3JhZGUgdG8gdmVyc2lvbiBcIitpLnZlcnNpb24rXCIgY29tcGxldGVcIil9KX19KV0pO2Nhc2UgMTplLmRiPXQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzIsKHRoaXMuYnQmJih0aGlzLmRiLm9udmVyc2lvbmNoYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gaS5idCh0KX0pLHRoaXMuZGIpXX19KX0pfSxhdS5wcm90b3R5cGUudnQ9ZnVuY3Rpb24oZSl7dGhpcy5idD1lLHRoaXMuZGImJih0aGlzLmRiLm9udmVyc2lvbmNoYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KX0pfSxhdS5wcm90b3R5cGUucnVuVHJhbnNhY3Rpb249ZnVuY3Rpb24oYSxuLHUsYyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGksbyxzLGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmk9XCJyZWFkb25seVwiPT09bixvPTAsZT1mdW5jdGlvbigpe3ZhciBlLG4scjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6KytvLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDQsLDVdKSxbNCxzLkF0KGEpXTtjYXNlIDI6cmV0dXJuIHMuZGI9dC5zZW50KCksZT1ldS5vcGVuKHMuZGIsYSxpP1wicmVhZG9ubHlcIjpcInJlYWR3cml0ZVwiLHUpLG49YyhlKS5jYXRjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5hYm9ydCh0KSx0dS5yZWplY3QodCl9KS50b1Byb21pc2UoKSxyPXt9LG4uY2F0Y2goZnVuY3Rpb24oKXt9KSxbNCxlLmR0XTtjYXNlIDM6cmV0dXJuWzIsKHIudmFsdWU9KHQuc2VudCgpLG4pLHIpXTtjYXNlIDQ6cmV0dXJuIG49dC5zZW50KCkscj1cIkZpcmViYXNlRXJyb3JcIiE9PW4ubmFtZSYmbzwzLHhyKFwiU2ltcGxlRGJcIixcIlRyYW5zYWN0aW9uIGZhaWxlZCB3aXRoIGVycm9yOlwiLG4ubWVzc2FnZSxcIlJldHJ5aW5nOlwiLHIpLHMuY2xvc2UoKSxyP1szLDVdOlsyLHt2YWx1ZTpQcm9taXNlLnJlamVjdChuKX1dO2Nhc2UgNTpyZXR1cm5bMl19fSl9LHM9dGhpcyx0LmxhYmVsPTE7Y2FzZSAxOnJldHVybls1LGUoKV07Y2FzZSAyOmlmKFwib2JqZWN0XCI9PXR5cGVvZihlPXQuc2VudCgpKSlyZXR1cm5bMixlLnZhbHVlXTt0LmxhYmVsPTM7Y2FzZSAzOnJldHVyblszLDFdO2Nhc2UgNDpyZXR1cm5bMl19fSl9KX0sYXUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5kYiYmdGhpcy5kYi5jbG9zZSgpLHRoaXMuZGI9dm9pZCAwfSxhdSkscnU9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdS5wcm90b3R5cGUsXCJpc0RvbmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1LnByb3RvdHlwZSxcIkR0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLlN0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdS5wcm90b3R5cGUsXCJjdXJzb3JcIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuUHQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxzdS5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbigpe3RoaXMuVnQ9ITB9LHN1LnByb3RvdHlwZS5DdD1mdW5jdGlvbih0KXt0aGlzLlN0PXR9LHN1LnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gcHUodGhpcy5QdC5kZWxldGUoKSl9LHN1KSxpdT0obihvdSxYYT1Bciksb3UpO2Z1bmN0aW9uIG91KHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj1YYS5jYWxsKHRoaXMsRHIuVU5BVkFJTEFCTEUsXCJJbmRleGVkREIgdHJhbnNhY3Rpb24gJ1wiK3QrXCInIGZhaWxlZDogXCIrZSl8fHRoaXMpLm5hbWU9XCJJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yXCIsbn1mdW5jdGlvbiBzdSh0KXt0aGlzLlB0PXQsdGhpcy5WdD0hMSx0aGlzLlN0PW51bGx9ZnVuY3Rpb24gYXUodCxlLG4pe3RoaXMubmFtZT10LHRoaXMudmVyc2lvbj1lLHRoaXMud3Q9biwxMi4yPT09YXUuX3QoaCgpKSYmT3IoXCJGaXJlc3RvcmUgcGVyc2lzdGVuY2Ugc3VmZmVycyBmcm9tIGEgYnVnIGluIGlPUyAxMi4yIFNhZmFyaSB0aGF0IG1heSBjYXVzZSB5b3VyIGFwcCB0byBzdG9wIHdvcmtpbmcuIFNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvNTY0OTYyOTYvMTEwOTE1IGZvciBkZXRhaWxzIGFuZCBhIHBvdGVudGlhbCB3b3JrYXJvdW5kLlwiKX1mdW5jdGlvbiB1dShlLHQpe3ZhciBuPXRoaXM7dGhpcy5hY3Rpb249ZSx0aGlzLnRyYW5zYWN0aW9uPXQsdGhpcy5hYm9ydGVkPSExLHRoaXMuZnQ9bmV3IFphLHRoaXMudHJhbnNhY3Rpb24ub25jb21wbGV0ZT1mdW5jdGlvbigpe24uZnQucmVzb2x2ZSgpfSx0aGlzLnRyYW5zYWN0aW9uLm9uYWJvcnQ9ZnVuY3Rpb24oKXt0LmVycm9yP24uZnQucmVqZWN0KG5ldyBpdShlLHQuZXJyb3IpKTpuLmZ0LnJlc29sdmUoKX0sdGhpcy50cmFuc2FjdGlvbi5vbmVycm9yPWZ1bmN0aW9uKHQpe3Q9Z3UodC50YXJnZXQuZXJyb3IpO24uZnQucmVqZWN0KG5ldyBpdShlLHQpKX19ZnVuY3Rpb24gY3UodCl7dmFyIGU9dGhpczt0aGlzLm5leHRDYWxsYmFjaz1udWxsLHRoaXMuY2F0Y2hDYWxsYmFjaz1udWxsLHRoaXMucmVzdWx0PXZvaWQgMCx0aGlzLmVycm9yPXZvaWQgMCx0aGlzLmlzRG9uZT0hMSx0aGlzLmNhbGxiYWNrQXR0YWNoZWQ9ITEsdChmdW5jdGlvbih0KXtlLmlzRG9uZT0hMCxlLnJlc3VsdD10LGUubmV4dENhbGxiYWNrJiZlLm5leHRDYWxsYmFjayh0KX0sZnVuY3Rpb24odCl7ZS5pc0RvbmU9ITAsZS5lcnJvcj10LGUuY2F0Y2hDYWxsYmFjayYmZS5jYXRjaENhbGxiYWNrKHQpfSl9ZnVuY3Rpb24gaHUoKXt0aGlzLm9uQ29tbWl0dGVkTGlzdGVuZXJzPVtdfWZ1bmN0aW9uIGx1KHQpe3JldHVyblwiSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvclwiPT09dC5uYW1lfXZhciBmdT0oZHUucHJvdG90eXBlLnB1dD1mdW5jdGlvbih0LGUpe3Q9dm9pZCAwIT09ZT8oeHIoXCJTaW1wbGVEYlwiLFwiUFVUXCIsdGhpcy5zdG9yZS5uYW1lLHQsZSksdGhpcy5zdG9yZS5wdXQoZSx0KSk6KHhyKFwiU2ltcGxlRGJcIixcIlBVVFwiLHRoaXMuc3RvcmUubmFtZSxcIjxhdXRvLWtleT5cIix0KSx0aGlzLnN0b3JlLnB1dCh0KSk7cmV0dXJuIHB1KHQpfSxkdS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiB4cihcIlNpbXBsZURiXCIsXCJBRERcIix0aGlzLnN0b3JlLm5hbWUsdCx0KSxwdSh0aGlzLnN0b3JlLmFkZCh0KSl9LGR1LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcztyZXR1cm4gcHUodGhpcy5zdG9yZS5nZXQoZSkpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW51bGwpLHhyKFwiU2ltcGxlRGJcIixcIkdFVFwiLG4uc3RvcmUubmFtZSxlLHQpLHR9KX0sZHUucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXtyZXR1cm4geHIoXCJTaW1wbGVEYlwiLFwiREVMRVRFXCIsdGhpcy5zdG9yZS5uYW1lLHQpLHB1KHRoaXMuc3RvcmUuZGVsZXRlKHQpKX0sZHUucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHhyKFwiU2ltcGxlRGJcIixcIkNPVU5UXCIsdGhpcy5zdG9yZS5uYW1lKSxwdSh0aGlzLnN0b3JlLmNvdW50KCkpfSxkdS5wcm90b3R5cGUuTnQ9ZnVuY3Rpb24odCxlKXt2YXIgZT10aGlzLmN1cnNvcih0aGlzLm9wdGlvbnModCxlKSksbj1bXTtyZXR1cm4gdGhpcy54dChlLGZ1bmN0aW9uKHQsZSl7bi5wdXNoKGUpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBufSl9LGR1LnByb3RvdHlwZS5GdD1mdW5jdGlvbih0LGUpe3hyKFwiU2ltcGxlRGJcIixcIkRFTEVURSBBTExcIix0aGlzLnN0b3JlLm5hbWUpO2U9dGhpcy5vcHRpb25zKHQsZSk7ZS5rdD0hMTtlPXRoaXMuY3Vyc29yKGUpO3JldHVybiB0aGlzLnh0KGUsZnVuY3Rpb24odCxlLG4pe3JldHVybiBuLmRlbGV0ZSgpfSl9LGR1LnByb3RvdHlwZS5PdD1mdW5jdGlvbih0LGUpe2U/bj10OihuPXt9LGU9dCk7dmFyIG49dGhpcy5jdXJzb3Iobik7cmV0dXJuIHRoaXMueHQobixlKX0sZHUucHJvdG90eXBlLiR0PWZ1bmN0aW9uKHIpe3ZhciB0PXRoaXMuY3Vyc29yKHt9KTtyZXR1cm4gbmV3IHR1KGZ1bmN0aW9uKG4sZSl7dC5vbmVycm9yPWZ1bmN0aW9uKHQpe3Q9Z3UodC50YXJnZXQuZXJyb3IpO2UodCl9LHQub25zdWNjZXNzPWZ1bmN0aW9uKHQpe3ZhciBlPXQudGFyZ2V0LnJlc3VsdDtlP3IoZS5wcmltYXJ5S2V5LGUudmFsdWUpLm5leHQoZnVuY3Rpb24odCl7dD9lLmNvbnRpbnVlKCk6bigpfSk6bigpfX0pfSxkdS5wcm90b3R5cGUueHQ9ZnVuY3Rpb24odCxpKXt2YXIgbz1bXTtyZXR1cm4gbmV3IHR1KGZ1bmN0aW9uKHIsZSl7dC5vbmVycm9yPWZ1bmN0aW9uKHQpe2UodC50YXJnZXQuZXJyb3IpfSx0Lm9uc3VjY2Vzcz1mdW5jdGlvbih0KXt2YXIgZSxuPXQudGFyZ2V0LnJlc3VsdDtuPyhlPW5ldyBydShuKSwodD1pKG4ucHJpbWFyeUtleSxuLnZhbHVlLGUpKWluc3RhbmNlb2YgdHUmJih0PXQuY2F0Y2goZnVuY3Rpb24odCl7cmV0dXJuIGUuZG9uZSgpLHR1LnJlamVjdCh0KX0pLG8ucHVzaCh0KSksZS5pc0RvbmU/cigpOm51bGw9PT1lLkR0P24uY29udGludWUoKTpuLmNvbnRpbnVlKGUuRHQpKTpyKCl9fSkubmV4dChmdW5jdGlvbigpe3JldHVybiB0dS53YWl0Rm9yKG8pfSl9LGR1LnByb3RvdHlwZS5vcHRpb25zPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIHZvaWQgMCE9PXQmJihcInN0cmluZ1wiPT10eXBlb2YgdD9uPXQ6ZT10KSx7aW5kZXg6bixyYW5nZTplfX0sZHUucHJvdG90eXBlLmN1cnNvcj1mdW5jdGlvbih0KXt2YXIgZT1cIm5leHRcIjtpZih0LnJldmVyc2UmJihlPVwicHJldlwiKSx0LmluZGV4KXt2YXIgbj10aGlzLnN0b3JlLmluZGV4KHQuaW5kZXgpO3JldHVybiB0Lmt0P24ub3BlbktleUN1cnNvcih0LnJhbmdlLGUpOm4ub3BlbkN1cnNvcih0LnJhbmdlLGUpfXJldHVybiB0aGlzLnN0b3JlLm9wZW5DdXJzb3IodC5yYW5nZSxlKX0sZHUpO2Z1bmN0aW9uIGR1KHQpe3RoaXMuc3RvcmU9dH1mdW5jdGlvbiBwdSh0KXtyZXR1cm4gbmV3IHR1KGZ1bmN0aW9uKGUsbil7dC5vbnN1Y2Nlc3M9ZnVuY3Rpb24odCl7dD10LnRhcmdldC5yZXN1bHQ7ZSh0KX0sdC5vbmVycm9yPWZ1bmN0aW9uKHQpe3Q9Z3UodC50YXJnZXQuZXJyb3IpO24odCl9fSl9dmFyIHl1PSExO2Z1bmN0aW9uIGd1KHQpe3ZhciBlPW51Ll90KGgoKSk7aWYoMTIuMjw9ZSYmZTwxMyl7ZT1cIkFuIGludGVybmFsIGVycm9yIHdhcyBlbmNvdW50ZXJlZCBpbiB0aGUgSW5kZXhlZCBEYXRhYmFzZSBzZXJ2ZXJcIjtpZigwPD10Lm1lc3NhZ2UuaW5kZXhPZihlKSl7dmFyIG49bmV3IEFyKFwiaW50ZXJuYWxcIixcIklPU19JTkRFWEVEREJfQlVHMTogSW5kZXhlZERiIGhhcyB0aHJvd24gJ1wiK2UrXCInLiBUaGlzIGlzIGxpa2VseSBkdWUgdG8gYW4gdW5hdm9pZGFibGUgYnVnIGluIGlPUy4gU2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS81NjQ5NjI5Ni8xMTA5MTUgZm9yIGRldGFpbHMgYW5kIGEgcG90ZW50aWFsIHdvcmthcm91bmQuXCIpO3JldHVybiB5dXx8KHl1PSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBufSwwKSksbn19cmV0dXJuIHR9dmFyIG11LHZ1PShuKGJ1LG11PVRlKSxidSk7ZnVuY3Rpb24gYnUodCxlKXt2YXIgbj10aGlzO3JldHVybihuPW11LmNhbGwodGhpcyl8fHRoaXMpLk10PXQsbi5jdXJyZW50U2VxdWVuY2VOdW1iZXI9ZSxufWZ1bmN0aW9uIHd1KHQsZSl7cmV0dXJuIG51Lkl0KHQuTXQsZSl9dmFyIEl1PShEdS5wcm90b3R5cGUuYXBwbHlUb1JlbW90ZURvY3VtZW50PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLHIsaSxvLHMsYSx1PWUubXV0YXRpb25SZXN1bHRzLGM9MDtjPHRoaXMubXV0YXRpb25zLmxlbmd0aDtjKyspe3ZhciBoPXRoaXMubXV0YXRpb25zW2NdO2gua2V5LmlzRXF1YWwodC5rZXkpJiYobj1oLHI9dCxpPXVbY10saD1hPXM9bz12b2lkIDAsbiBpbnN0YW5jZW9mIGNzPyhzPXIsYT1pLGg9KG89bikudmFsdWUuY2xvbmUoKSxvPXBzKG8uZmllbGRUcmFuc2Zvcm1zLHMsYS50cmFuc2Zvcm1SZXN1bHRzKSxoLnNldEFsbChvKSxzLmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQoYS52ZXJzaW9uLGgpLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpKTpuIGluc3RhbmNlb2YgaHM/KG89cixzPWkscnMoKGE9bikucHJlY29uZGl0aW9uLG8pPyhoPXBzKGEuZmllbGRUcmFuc2Zvcm1zLG8scy50cmFuc2Zvcm1SZXN1bHRzKSwobj1vLmRhdGEpLnNldEFsbChkcyhhKSksbi5zZXRBbGwoaCksby5jb252ZXJ0VG9Gb3VuZERvY3VtZW50KHMudmVyc2lvbixuKS5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKSk6by5jb252ZXJ0VG9Vbmtub3duRG9jdW1lbnQocy52ZXJzaW9uKSk6ci5jb252ZXJ0VG9Ob0RvY3VtZW50KGkudmVyc2lvbikuc2V0SGFzQ29tbWl0dGVkTXV0YXRpb25zKCkpfX0sRHUucHJvdG90eXBlLmFwcGx5VG9Mb2NhbFZpZXc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmJhc2VNdXRhdGlvbnM7ZTxuLmxlbmd0aDtlKyspKHI9bltlXSkua2V5LmlzRXF1YWwodC5rZXkpJiZpcyhyLHQsdGhpcy5sb2NhbFdyaXRlVGltZSk7Zm9yKHZhciByLGk9MCxvPXRoaXMubXV0YXRpb25zO2k8by5sZW5ndGg7aSsrKShyPW9baV0pLmtleS5pc0VxdWFsKHQua2V5KSYmaXMocix0LHRoaXMubG9jYWxXcml0ZVRpbWUpfSxEdS5wcm90b3R5cGUuYXBwbHlUb0xvY2FsRG9jdW1lbnRTZXQ9ZnVuY3Rpb24obil7dmFyIHI9dGhpczt0aGlzLm11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPW4uZ2V0KHQua2V5KSx0PWU7ci5hcHBseVRvTG9jYWxWaWV3KHQpLGUuaXNWYWxpZERvY3VtZW50KCl8fHQuY29udmVydFRvTm9Eb2N1bWVudChHci5taW4oKSl9KX0sRHUucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tdXRhdGlvbnMucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuYWRkKGUua2V5KX0sQnMoKSl9LER1LnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJhdGNoSWQ9PT10LmJhdGNoSWQmJkJyKHRoaXMubXV0YXRpb25zLHQubXV0YXRpb25zLG9zKSYmQnIodGhpcy5iYXNlTXV0YXRpb25zLHQuYmFzZU11dGF0aW9ucyxvcyl9LER1KSxFdT0oTnUuZnJvbT1mdW5jdGlvbih0LGUsbil7RnIodC5tdXRhdGlvbnMubGVuZ3RoPT09bi5sZW5ndGgpO2Zvcih2YXIgcj1VcyxpPXQubXV0YXRpb25zLG89MDtvPGkubGVuZ3RoO28rKylyPXIuaW5zZXJ0KGlbb10ua2V5LG5bb10udmVyc2lvbik7cmV0dXJuIG5ldyBOdSh0LGUsbixyKX0sTnUpLFR1PShTdS5wcm90b3R5cGUud2l0aFNlcXVlbmNlTnVtYmVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgU3UodGhpcy50YXJnZXQsdGhpcy50YXJnZXRJZCx0aGlzLnB1cnBvc2UsdCx0aGlzLnNuYXBzaG90VmVyc2lvbix0aGlzLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24sdGhpcy5yZXN1bWVUb2tlbil9LFN1LnByb3RvdHlwZS53aXRoUmVzdW1lVG9rZW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFN1KHRoaXMudGFyZ2V0LHRoaXMudGFyZ2V0SWQsdGhpcy5wdXJwb3NlLHRoaXMuc2VxdWVuY2VOdW1iZXIsZSx0aGlzLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24sdCl9LFN1LnByb3RvdHlwZS53aXRoTGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFN1KHRoaXMudGFyZ2V0LHRoaXMudGFyZ2V0SWQsdGhpcy5wdXJwb3NlLHRoaXMuc2VxdWVuY2VOdW1iZXIsdGhpcy5zbmFwc2hvdFZlcnNpb24sdCx0aGlzLnJlc3VtZVRva2VuKX0sU3UpLF91PWZ1bmN0aW9uKHQpe3RoaXMuTHQ9dH07ZnVuY3Rpb24gU3UodCxlLG4scixpLG8scyl7dm9pZCAwPT09aSYmKGk9R3IubWluKCkpLHZvaWQgMD09PW8mJihvPUdyLm1pbigpKSx2b2lkIDA9PT1zJiYocz1uaS5FTVBUWV9CWVRFX1NUUklORyksdGhpcy50YXJnZXQ9dCx0aGlzLnRhcmdldElkPWUsdGhpcy5wdXJwb3NlPW4sdGhpcy5zZXF1ZW5jZU51bWJlcj1yLHRoaXMuc25hcHNob3RWZXJzaW9uPWksdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uPW8sdGhpcy5yZXN1bWVUb2tlbj1zfWZ1bmN0aW9uIE51KHQsZSxuLHIpe3RoaXMuYmF0Y2g9dCx0aGlzLmNvbW1pdFZlcnNpb249ZSx0aGlzLm11dGF0aW9uUmVzdWx0cz1uLHRoaXMuZG9jVmVyc2lvbnM9cn1mdW5jdGlvbiBEdSh0LGUsbixyKXt0aGlzLmJhdGNoSWQ9dCx0aGlzLmxvY2FsV3JpdGVUaW1lPWUsdGhpcy5iYXNlTXV0YXRpb25zPW4sdGhpcy5tdXRhdGlvbnM9cn1mdW5jdGlvbiBBdSh0LGUpe2lmKGUuZG9jdW1lbnQpcmV0dXJuIG1hKHQuTHQsZS5kb2N1bWVudCwhIWUuaGFzQ29tbWl0dGVkTXV0YXRpb25zKTtpZihlLm5vRG9jdW1lbnQpe3ZhciBuPW1pLmZyb21TZWdtZW50cyhlLm5vRG9jdW1lbnQucGF0aCkscj1PdShlLm5vRG9jdW1lbnQucmVhZFRpbWUpLG49T2kubmV3Tm9Eb2N1bWVudChuLHIpO3JldHVybiBlLmhhc0NvbW1pdHRlZE11dGF0aW9ucz9uLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpOm59aWYoZS51bmtub3duRG9jdW1lbnQpe249bWkuZnJvbVNlZ21lbnRzKGUudW5rbm93bkRvY3VtZW50LnBhdGgpLHI9T3UoZS51bmtub3duRG9jdW1lbnQudmVyc2lvbik7cmV0dXJuIE9pLm5ld1Vua25vd25Eb2N1bWVudChuLHIpfXJldHVybiBNcigpfWZ1bmN0aW9uIGt1KHQsZSxuKXt2YXIgcj1DdShuKSxuPWUua2V5LnBhdGgucG9wTGFzdCgpLnRvQXJyYXkoKTtpZihlLmlzRm91bmREb2N1bWVudCgpKXt2YXIgaT17bmFtZTpoYShvPXQuTHQsKHM9ZSkua2V5KSxmaWVsZHM6cy5kYXRhLnRvUHJvdG8oKS5tYXBWYWx1ZS5maWVsZHMsdXBkYXRlVGltZTpvYShvLHMudmVyc2lvbi50b1RpbWVzdGFtcCgpKX0sbz1lLmhhc0NvbW1pdHRlZE11dGF0aW9ucztyZXR1cm4gbmV3IEJhKG51bGwsbnVsbCxpLG8scixuKX1pZihlLmlzTm9Eb2N1bWVudCgpKXt2YXIgcz1lLmtleS5wYXRoLnRvQXJyYXkoKSxpPXh1KGUudmVyc2lvbiksbz1lLmhhc0NvbW1pdHRlZE11dGF0aW9ucztyZXR1cm4gbmV3IEJhKG51bGwsbmV3IFVhKHMsaSksbnVsbCxvLHIsbil9aWYoZS5pc1Vua25vd25Eb2N1bWVudCgpKXtvPWUua2V5LnBhdGgudG9BcnJheSgpLGU9eHUoZS52ZXJzaW9uKTtyZXR1cm4gbmV3IEJhKG5ldyBxYShvLGUpLG51bGwsbnVsbCwhMCxyLG4pfXJldHVybiBNcigpfWZ1bmN0aW9uIEN1KHQpe3Q9dC50b1RpbWVzdGFtcCgpO3JldHVyblt0LnNlY29uZHMsdC5uYW5vc2Vjb25kc119ZnVuY3Rpb24gUnUodCl7dD1uZXcgS3IodFswXSx0WzFdKTtyZXR1cm4gR3IuZnJvbVRpbWVzdGFtcCh0KX1mdW5jdGlvbiB4dSh0KXt0PXQudG9UaW1lc3RhbXAoKTtyZXR1cm4gbmV3IExhKHQuc2Vjb25kcyx0Lm5hbm9zZWNvbmRzKX1mdW5jdGlvbiBPdSh0KXt0PW5ldyBLcih0LnNlY29uZHMsdC5uYW5vc2Vjb25kcyk7cmV0dXJuIEdyLmZyb21UaW1lc3RhbXAodCl9ZnVuY3Rpb24gTHUoZSx0KXtmb3IodmFyIG49KHQuYmFzZU11dGF0aW9uc3x8W10pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gYmEoZS5MdCx0KX0pLHI9MDtyPHQubXV0YXRpb25zLmxlbmd0aC0xOysrcil7dmFyIGksbz10Lm11dGF0aW9uc1tyXTtyKzE8dC5tdXRhdGlvbnMubGVuZ3RoJiZ2b2lkIDAhPT10Lm11dGF0aW9uc1tyKzFdLnRyYW5zZm9ybSYmKGk9dC5tdXRhdGlvbnNbcisxXSxvLnVwZGF0ZVRyYW5zZm9ybXM9aS50cmFuc2Zvcm0uZmllbGRUcmFuc2Zvcm1zLHQubXV0YXRpb25zLnNwbGljZShyKzEsMSksKytyKX12YXIgcz10Lm11dGF0aW9ucy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGJhKGUuTHQsdCl9KSxhPUtyLmZyb21NaWxsaXModC5sb2NhbFdyaXRlVGltZU1zKTtyZXR1cm4gbmV3IEl1KHQuYmF0Y2hJZCxhLG4scyl9ZnVuY3Rpb24gUHUodCl7dmFyIGU9T3UodC5yZWFkVGltZSksbj12b2lkIDAhPT10Lmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24/T3UodC5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uKTpHci5taW4oKSxyPXZvaWQgMCE9PXQucXVlcnkuZG9jdW1lbnRzPyhGcigxPT09KHI9dC5xdWVyeSkuZG9jdW1lbnRzLmxlbmd0aCksTm8oYm8oZGEoci5kb2N1bWVudHNbMF0pKSkpOk5vKEVhKHQucXVlcnkpKTtyZXR1cm4gbmV3IFR1KHIsdC50YXJnZXRJZCwwLHQubGFzdExpc3RlblNlcXVlbmNlTnVtYmVyLGUsbixuaS5mcm9tQmFzZTY0U3RyaW5nKHQucmVzdW1lVG9rZW4pKX1mdW5jdGlvbiBNdSh0LGUpe3ZhciBuPXh1KGUuc25hcHNob3RWZXJzaW9uKSxyPXh1KGUubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbiksaT0oVWkoZS50YXJnZXQpP3dhOklhKSh0Lkx0LGUudGFyZ2V0KSx0PWUucmVzdW1lVG9rZW4udG9CYXNlNjQoKTtyZXR1cm4gbmV3IEthKGUudGFyZ2V0SWQsRmkoZS50YXJnZXQpLG4sdCxlLnNlcXVlbmNlTnVtYmVyLHIsaSl9ZnVuY3Rpb24gRnUodCl7dmFyIGU9RWEoe3BhcmVudDp0LnBhcmVudCxzdHJ1Y3R1cmVkUXVlcnk6dC5zdHJ1Y3R1cmVkUXVlcnl9KTtyZXR1cm5cIkxBU1RcIj09PXQubGltaXRUeXBlP0RvKGUsZS5saW1pdCxcIkxcIik6ZX12YXIgVnU9KFV1LnByb3RvdHlwZS5nZXRCdW5kbGVNZXRhZGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiBxdSh0KS5nZXQoZSkubmV4dChmdW5jdGlvbih0KXtpZih0KXJldHVybntpZDoodD10KS5idW5kbGVJZCxjcmVhdGVUaW1lOk91KHQuY3JlYXRlVGltZSksdmVyc2lvbjp0LnZlcnNpb259fSl9LFV1LnByb3RvdHlwZS5zYXZlQnVuZGxlTWV0YWRhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcXUodCkucHV0KHtidW5kbGVJZDooZT1lKS5pZCxjcmVhdGVUaW1lOnh1KGFhKGUuY3JlYXRlVGltZSkpLHZlcnNpb246ZS52ZXJzaW9ufSl9LFV1LnByb3RvdHlwZS5nZXROYW1lZFF1ZXJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEJ1KHQpLmdldChlKS5uZXh0KGZ1bmN0aW9uKHQpe2lmKHQpcmV0dXJue25hbWU6KHQ9dCkubmFtZSxxdWVyeTpGdSh0LmJ1bmRsZWRRdWVyeSkscmVhZFRpbWU6T3UodC5yZWFkVGltZSl9fSl9LFV1LnByb3RvdHlwZS5zYXZlTmFtZWRRdWVyeT1mdW5jdGlvbih0LGUpe3JldHVybiBCdSh0KS5wdXQoe25hbWU6KGU9ZSkubmFtZSxyZWFkVGltZTp4dShhYShlLnJlYWRUaW1lKSksYnVuZGxlZFF1ZXJ5OmUuYnVuZGxlZFF1ZXJ5fSl9LFV1KTtmdW5jdGlvbiBVdSgpe31mdW5jdGlvbiBxdSh0KXtyZXR1cm4gd3UodCxXYS5zdG9yZSl9ZnVuY3Rpb24gQnUodCl7cmV0dXJuIHd1KHQsWWEuc3RvcmUpfXZhciBqdT0oSHUucHJvdG90eXBlLmFkZFRvQ29sbGVjdGlvblBhcmVudEluZGV4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuQnQuYWRkKGUpLHR1LnJlc29sdmUoKX0sSHUucHJvdG90eXBlLmdldENvbGxlY3Rpb25QYXJlbnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR1LnJlc29sdmUodGhpcy5CdC5nZXRFbnRyaWVzKGUpKX0sSHUpLEt1PSh6dS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3ZhciBlPXQubGFzdFNlZ21lbnQoKSxuPXQucG9wTGFzdCgpLHI9dGhpcy5pbmRleFtlXXx8bmV3IE9zKCRyLmNvbXBhcmF0b3IpLHQ9IXIuaGFzKG4pO3JldHVybiB0aGlzLmluZGV4W2VdPXIuYWRkKG4pLHR9LHp1LnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7dmFyIGU9dC5sYXN0U2VnbWVudCgpLHQ9dC5wb3BMYXN0KCksZT10aGlzLmluZGV4W2VdO3JldHVybiBlJiZlLmhhcyh0KX0senUucHJvdG90eXBlLmdldEVudHJpZXM9ZnVuY3Rpb24odCl7cmV0dXJuKHRoaXMuaW5kZXhbdF18fG5ldyBPcygkci5jb21wYXJhdG9yKSkudG9BcnJheSgpfSx6dSksR3U9KFF1LnByb3RvdHlwZS5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYodGhpcy5xdC5oYXMoZSkpcmV0dXJuIHR1LnJlc29sdmUoKTt2YXIgcj1lLmxhc3RTZWdtZW50KCksaT1lLnBvcExhc3QoKTt0LmFkZE9uQ29tbWl0dGVkTGlzdGVuZXIoZnVuY3Rpb24oKXtuLnF0LmFkZChlKX0pO2k9e2NvbGxlY3Rpb25JZDpyLHBhcmVudDpDYShpKX07cmV0dXJuIFd1KHQpLnB1dChpKX0sUXUucHJvdG90eXBlLmdldENvbGxlY3Rpb25QYXJlbnRzPWZ1bmN0aW9uKHQsaSl7dmFyIG89W10sZT1JREJLZXlSYW5nZS5ib3VuZChbaSxcIlwiXSxbanIoaSksXCJcIl0sITEsITApO3JldHVybiBXdSh0KS5OdChlKS5uZXh0KGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dDtlPG4ubGVuZ3RoO2UrKyl7dmFyIHI9bltlXTtpZihyLmNvbGxlY3Rpb25JZCE9PWkpYnJlYWs7by5wdXNoKHhhKHIucGFyZW50KSl9cmV0dXJuIG99KX0sUXUpO2Z1bmN0aW9uIFF1KCl7dGhpcy5xdD1uZXcgS3V9ZnVuY3Rpb24genUoKXt0aGlzLmluZGV4PXt9fWZ1bmN0aW9uIEh1KCl7dGhpcy5CdD1uZXcgS3V9ZnVuY3Rpb24gV3UodCl7cmV0dXJuIHd1KHQsemEuc3RvcmUpfXZhciBZdT17ZGlkUnVuOiExLHNlcXVlbmNlTnVtYmVyc0NvbGxlY3RlZDowLHRhcmdldHNSZW1vdmVkOjAsZG9jdW1lbnRzUmVtb3ZlZDowfSxYdT0oSnUud2l0aENhY2hlU2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEp1KHQsSnUuREVGQVVMVF9DT0xMRUNUSU9OX1BFUkNFTlRJTEUsSnUuREVGQVVMVF9NQVhfU0VRVUVOQ0VfTlVNQkVSU19UT19DT0xMRUNUKX0sSnUpO2Z1bmN0aW9uIEp1KHQsZSxuKXt0aGlzLmNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQ9dCx0aGlzLnBlcmNlbnRpbGVUb0NvbGxlY3Q9ZSx0aGlzLm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3Q9bn1mdW5jdGlvbiAkdSh0LGUsbil7dmFyIHI9dC5zdG9yZShNYS5zdG9yZSksaT10LnN0b3JlKEZhLnN0b3JlKSxvPVtdLHQ9SURCS2V5UmFuZ2Uub25seShuLmJhdGNoSWQpLHM9MCx0PXIuT3Qoe3JhbmdlOnR9LGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gcysrLG4uZGVsZXRlKCl9KTtvLnB1c2godC5uZXh0KGZ1bmN0aW9uKCl7RnIoMT09PXMpfSkpO2Zvcih2YXIgYT1bXSx1PTAsYz1uLm11dGF0aW9uczt1PGMubGVuZ3RoO3UrKyl7dmFyIGg9Y1t1XSxsPUZhLmtleShlLGgua2V5LnBhdGgsbi5iYXRjaElkKTtvLnB1c2goaS5kZWxldGUobCkpLGEucHVzaChoLmtleSl9cmV0dXJuIHR1LndhaXRGb3IobykubmV4dChmdW5jdGlvbigpe3JldHVybiBhfSl9ZnVuY3Rpb24gWnUodCl7aWYoIXQpcmV0dXJuIDA7dmFyIGU7aWYodC5kb2N1bWVudCllPXQuZG9jdW1lbnQ7ZWxzZSBpZih0LnVua25vd25Eb2N1bWVudCllPXQudW5rbm93bkRvY3VtZW50O2Vsc2V7aWYoIXQubm9Eb2N1bWVudCl0aHJvdyBNcigpO2U9dC5ub0RvY3VtZW50fXJldHVybiBKU09OLnN0cmluZ2lmeShlKS5sZW5ndGh9WHUuREVGQVVMVF9DT0xMRUNUSU9OX1BFUkNFTlRJTEU9MTAsWHUuREVGQVVMVF9NQVhfU0VRVUVOQ0VfTlVNQkVSU19UT19DT0xMRUNUPTFlMyxYdS5ERUZBVUxUPW5ldyBYdSg0MTk0MzA0MCxYdS5ERUZBVUxUX0NPTExFQ1RJT05fUEVSQ0VOVElMRSxYdS5ERUZBVUxUX01BWF9TRVFVRU5DRV9OVU1CRVJTX1RPX0NPTExFQ1QpLFh1LkRJU0FCTEVEPW5ldyBYdSgtMSwwLDApO3ZhciB0Yz0oZWMuS3Q9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIEZyKFwiXCIhPT10LnVpZCksbmV3IGVjKHQuaXNBdXRoZW50aWNhdGVkKCk/dC51aWQ6XCJcIixlLG4scil9LGVjLnByb3RvdHlwZS5jaGVja0VtcHR5PWZ1bmN0aW9uKHQpe3ZhciByPSEwLGU9SURCS2V5UmFuZ2UuYm91bmQoW3RoaXMudXNlcklkLE51bWJlci5ORUdBVElWRV9JTkZJTklUWV0sW3RoaXMudXNlcklkLE51bWJlci5QT1NJVElWRV9JTkZJTklUWV0pO3JldHVybiByYyh0KS5PdCh7aW5kZXg6TWEudXNlck11dGF0aW9uc0luZGV4LHJhbmdlOmV9LGZ1bmN0aW9uKHQsZSxuKXtyPSExLG4uZG9uZSgpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiByfSl9LGVjLnByb3RvdHlwZS5hZGRNdXRhdGlvbkJhdGNoPWZ1bmN0aW9uKHAseSxnLG0pe3ZhciB2PXRoaXMsYj1pYyhwKSx3PXJjKHApO3JldHVybiB3LmFkZCh7fSkubmV4dChmdW5jdGlvbih0KXtGcihcIm51bWJlclwiPT10eXBlb2YgdCk7Zm9yKHZhciBlLG4scixpLG8scz1uZXcgSXUodCx5LGcsbSksYT0oZT12LlIsbj12LnVzZXJJZCxpPShyPXMpLmJhc2VNdXRhdGlvbnMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB2YShlLkx0LHQpfSksbz1yLm11dGF0aW9ucy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHZhKGUuTHQsdCl9KSxuZXcgTWEobixyLmJhdGNoSWQsci5sb2NhbFdyaXRlVGltZS50b01pbGxpcygpLGksbykpLHU9W10sYz1uZXcgT3MoZnVuY3Rpb24odCxlKXtyZXR1cm4gcXIodC5jYW5vbmljYWxTdHJpbmcoKSxlLmNhbm9uaWNhbFN0cmluZygpKX0pLGg9MCxsPW07aDxsLmxlbmd0aDtoKyspe3ZhciBmPWxbaF0sZD1GYS5rZXkodi51c2VySWQsZi5rZXkucGF0aCx0KSxjPWMuYWRkKGYua2V5LnBhdGgucG9wTGFzdCgpKTt1LnB1c2gody5wdXQoYSkpLHUucHVzaChiLnB1dChkLEZhLlBMQUNFSE9MREVSKSl9cmV0dXJuIGMuZm9yRWFjaChmdW5jdGlvbih0KXt1LnB1c2godi5VdC5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleChwLHQpKX0pLHAuYWRkT25Db21taXR0ZWRMaXN0ZW5lcihmdW5jdGlvbigpe3YuUXRbdF09cy5rZXlzKCl9KSx0dS53YWl0Rm9yKHUpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gc30pfSl9LGVjLnByb3RvdHlwZS5sb29rdXBNdXRhdGlvbkJhdGNoPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gcmModCkuZ2V0KGUpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHQ/KEZyKHQudXNlcklkPT09bi51c2VySWQpLEx1KG4uUix0KSk6bnVsbH0pfSxlYy5wcm90b3R5cGUuanQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLlF0W2VdP3R1LnJlc29sdmUodGhpcy5RdFtlXSk6dGhpcy5sb29rdXBNdXRhdGlvbkJhdGNoKHQsZSkubmV4dChmdW5jdGlvbih0KXtpZih0KXt0PXQua2V5cygpO3JldHVybiBuLlF0W2VdPXR9cmV0dXJuIG51bGx9KX0sZWMucHJvdG90eXBlLmdldE5leHRNdXRhdGlvbkJhdGNoQWZ0ZXJCYXRjaElkPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcyxpPWUrMSxlPUlEQktleVJhbmdlLmxvd2VyQm91bmQoW3RoaXMudXNlcklkLGldKSxvPW51bGw7cmV0dXJuIHJjKHQpLk90KHtpbmRleDpNYS51c2VyTXV0YXRpb25zSW5kZXgscmFuZ2U6ZX0sZnVuY3Rpb24odCxlLG4pe2UudXNlcklkPT09ci51c2VySWQmJihGcihlLmJhdGNoSWQ+PWkpLG89THUoci5SLGUpKSxuLmRvbmUoKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gb30pfSxlYy5wcm90b3R5cGUuZ2V0SGlnaGVzdFVuYWNrbm93bGVkZ2VkQmF0Y2hJZD1mdW5jdGlvbih0KXt2YXIgZT1JREJLZXlSYW5nZS51cHBlckJvdW5kKFt0aGlzLnVzZXJJZCxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFldKSxyPS0xO3JldHVybiByYyh0KS5PdCh7aW5kZXg6TWEudXNlck11dGF0aW9uc0luZGV4LHJhbmdlOmUscmV2ZXJzZTohMH0sZnVuY3Rpb24odCxlLG4pe3I9ZS5iYXRjaElkLG4uZG9uZSgpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiByfSl9LGVjLnByb3RvdHlwZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPUlEQktleVJhbmdlLmJvdW5kKFt0aGlzLnVzZXJJZCwtMV0sW3RoaXMudXNlcklkLE51bWJlci5QT1NJVElWRV9JTkZJTklUWV0pO3JldHVybiByYyh0KS5OdChNYS51c2VyTXV0YXRpb25zSW5kZXgsbikubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIEx1KGUuUix0KX0pfSl9LGVjLnByb3RvdHlwZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleT1mdW5jdGlvbihvLHMpe3ZhciBhPXRoaXMsdD1GYS5wcmVmaXhGb3JQYXRoKHRoaXMudXNlcklkLHMucGF0aCksdD1JREJLZXlSYW5nZS5sb3dlckJvdW5kKHQpLHU9W107cmV0dXJuIGljKG8pLk90KHtyYW5nZTp0fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9dFswXSxpPXRbMV0sdD10WzJdLGk9eGEoaSk7aWYocj09PWEudXNlcklkJiZzLnBhdGguaXNFcXVhbChpKSlyZXR1cm4gcmMobykuZ2V0KHQpLm5leHQoZnVuY3Rpb24odCl7aWYoIXQpdGhyb3cgTXIoKTtGcih0LnVzZXJJZD09PWEudXNlcklkKSx1LnB1c2goTHUoYS5SLHQpKX0pO24uZG9uZSgpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiB1fSl9LGVjLnByb3RvdHlwZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleXM9ZnVuY3Rpb24oZSx0KXt2YXIgcz10aGlzLGE9bmV3IE9zKHFyKSxuPVtdO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24obyl7dmFyIHQ9RmEucHJlZml4Rm9yUGF0aChzLnVzZXJJZCxvLnBhdGgpLHQ9SURCS2V5UmFuZ2UubG93ZXJCb3VuZCh0KSx0PWljKGUpLk90KHtyYW5nZTp0fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9dFswXSxpPXRbMV0sdD10WzJdLGk9eGEoaSk7cj09PXMudXNlcklkJiZvLnBhdGguaXNFcXVhbChpKT9hPWEuYWRkKHQpOm4uZG9uZSgpfSk7bi5wdXNoKHQpfSksdHUud2FpdEZvcihuKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHMuV3QoZSxhKX0pfSxlYy5wcm90b3R5cGUuZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nUXVlcnk9ZnVuY3Rpb24odCxlKXt2YXIgbz10aGlzLHM9ZS5wYXRoLGE9cy5sZW5ndGgrMSxlPUZhLnByZWZpeEZvclBhdGgodGhpcy51c2VySWQscyksZT1JREJLZXlSYW5nZS5sb3dlckJvdW5kKGUpLHU9bmV3IE9zKHFyKTtyZXR1cm4gaWModCkuT3Qoe3JhbmdlOmV9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10WzBdLGk9dFsxXSx0PXRbMl0saT14YShpKTtyPT09by51c2VySWQmJnMuaXNQcmVmaXhPZihpKT9pLmxlbmd0aD09PWEmJih1PXUuYWRkKHQpKTpuLmRvbmUoKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gby5XdCh0LHUpfSl9LGVjLnByb3RvdHlwZS5XdD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj1bXSxpPVtdO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7aS5wdXNoKHJjKGUpLmdldCh0KS5uZXh0KGZ1bmN0aW9uKHQpe2lmKG51bGw9PT10KXRocm93IE1yKCk7RnIodC51c2VySWQ9PT1uLnVzZXJJZCksci5wdXNoKEx1KG4uUix0KSl9KSl9KSx0dS53YWl0Rm9yKGkpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gcn0pfSxlYy5wcm90b3R5cGUucmVtb3ZlTXV0YXRpb25CYXRjaD1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7cmV0dXJuICR1KGUuTXQsdGhpcy51c2VySWQsbikubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gZS5hZGRPbkNvbW1pdHRlZExpc3RlbmVyKGZ1bmN0aW9uKCl7ci5HdChuLmJhdGNoSWQpfSksdHUuZm9yRWFjaCh0LGZ1bmN0aW9uKHQpe3JldHVybiByLnJlZmVyZW5jZURlbGVnYXRlLm1hcmtQb3RlbnRpYWxseU9ycGhhbmVkKGUsdCl9KX0pfSxlYy5wcm90b3R5cGUuR3Q9ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuUXRbdF19LGVjLnByb3RvdHlwZS5wZXJmb3JtQ29uc2lzdGVuY3lDaGVjaz1mdW5jdGlvbihlKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLmNoZWNrRW1wdHkoZSkubmV4dChmdW5jdGlvbih0KXtpZighdClyZXR1cm4gdHUucmVzb2x2ZSgpO3ZhciB0PUlEQktleVJhbmdlLmxvd2VyQm91bmQoRmEucHJlZml4Rm9yVXNlcihpLnVzZXJJZCkpLHI9W107cmV0dXJuIGljKGUpLk90KHtyYW5nZTp0fSxmdW5jdGlvbih0LGUsbil7dFswXT09PWkudXNlcklkPyh0PXhhKHRbMV0pLHIucHVzaCh0KSk6bi5kb25lKCl9KS5uZXh0KGZ1bmN0aW9uKCl7RnIoMD09PXIubGVuZ3RoKX0pfSl9LGVjLnByb3RvdHlwZS5jb250YWluc0tleT1mdW5jdGlvbih0LGUpe3JldHVybiBuYyh0LHRoaXMudXNlcklkLGUpfSxlYy5wcm90b3R5cGUuenQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gb2ModCkuZ2V0KHRoaXMudXNlcklkKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0fHxuZXcgUGEoZS51c2VySWQsLTEsXCJcIil9KX0sZWMpO2Z1bmN0aW9uIGVjKHQsZSxuLHIpe3RoaXMudXNlcklkPXQsdGhpcy5SPWUsdGhpcy5VdD1uLHRoaXMucmVmZXJlbmNlRGVsZWdhdGU9cix0aGlzLlF0PXt9fWZ1bmN0aW9uIG5jKHQsbyxlKXt2YXIgZT1GYS5wcmVmaXhGb3JQYXRoKG8sZS5wYXRoKSxzPWVbMV0sZT1JREJLZXlSYW5nZS5sb3dlckJvdW5kKGUpLGE9ITE7cmV0dXJuIGljKHQpLk90KHtyYW5nZTplLGt0OiEwfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9dFswXSxpPXRbMV07dFsyXSxyPT09byYmaT09PXMmJihhPSEwKSxuLmRvbmUoKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gYX0pfWZ1bmN0aW9uIHJjKHQpe3JldHVybiB3dSh0LE1hLnN0b3JlKX1mdW5jdGlvbiBpYyh0KXtyZXR1cm4gd3UodCxGYS5zdG9yZSl9ZnVuY3Rpb24gb2ModCl7cmV0dXJuIHd1KHQsUGEuc3RvcmUpfXZhciBzYz0oY2MucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5IdCs9Mix0aGlzLkh0fSxjYy5KdD1mdW5jdGlvbigpe3JldHVybiBuZXcgY2MoMCl9LGNjLll0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBjYygtMSl9LGNjKSxhYz0odWMucHJvdG90eXBlLmFsbG9jYXRlVGFyZ2V0SWQ9ZnVuY3Rpb24obil7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5YdChuKS5uZXh0KGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBzYyh0LmhpZ2hlc3RUYXJnZXRJZCk7cmV0dXJuIHQuaGlnaGVzdFRhcmdldElkPWUubmV4dCgpLHIuWnQobix0KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHQuaGlnaGVzdFRhcmdldElkfSl9KX0sdWMucHJvdG90eXBlLmdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuWHQodCkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gR3IuZnJvbVRpbWVzdGFtcChuZXcgS3IodC5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uLnNlY29uZHMsdC5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uLm5hbm9zZWNvbmRzKSl9KX0sdWMucHJvdG90eXBlLmdldEhpZ2hlc3RTZXF1ZW5jZU51bWJlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5YdCh0KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0LmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcn0pfSx1Yy5wcm90b3R5cGUuc2V0VGFyZ2V0c01ldGFkYXRhPWZ1bmN0aW9uKGUsbixyKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLlh0KGUpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHQuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyPW4sciYmKHQubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbj1yLnRvVGltZXN0YW1wKCkpLG4+dC5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXImJih0LmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcj1uKSxpLlp0KGUsdCl9KX0sdWMucHJvdG90eXBlLmFkZFRhcmdldERhdGE9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzO3JldHVybiB0aGlzLnRlKGUsbikubmV4dChmdW5jdGlvbigpe3JldHVybiByLlh0KGUpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHQudGFyZ2V0Q291bnQrPTEsci5lZShuLHQpLHIuWnQoZSx0KX0pfSl9LHVjLnByb3RvdHlwZS51cGRhdGVUYXJnZXREYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGUodCxlKX0sdWMucHJvdG90eXBlLnJlbW92ZVRhcmdldERhdGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aGlzLnJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkKGUsdC50YXJnZXRJZCkubmV4dChmdW5jdGlvbigpe3JldHVybiBoYyhlKS5kZWxldGUodC50YXJnZXRJZCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG4uWHQoZSl9KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBGcigwPHQudGFyZ2V0Q291bnQpLC0tdC50YXJnZXRDb3VudCxuLlp0KGUsdCl9KX0sdWMucHJvdG90eXBlLnJlbW92ZVRhcmdldHM9ZnVuY3Rpb24obixyLGkpe3ZhciBvPXRoaXMscz0wLGE9W107cmV0dXJuIGhjKG4pLk90KGZ1bmN0aW9uKHQsZSl7ZT1QdShlKTtlLnNlcXVlbmNlTnVtYmVyPD1yJiZudWxsPT09aS5nZXQoZS50YXJnZXRJZCkmJihzKyssYS5wdXNoKG8ucmVtb3ZlVGFyZ2V0RGF0YShuLGUpKSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHR1LndhaXRGb3IoYSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHN9KX0sdWMucHJvdG90eXBlLmZvckVhY2hUYXJnZXQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gaGModCkuT3QoZnVuY3Rpb24odCxlKXtlPVB1KGUpO24oZSl9KX0sdWMucHJvdG90eXBlLlh0PWZ1bmN0aW9uKHQpe3JldHVybiBsYyh0KS5nZXQoUWEua2V5KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBGcihudWxsIT09dCksdH0pfSx1Yy5wcm90b3R5cGUuWnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbGModCkucHV0KFFhLmtleSxlKX0sdWMucHJvdG90eXBlLnRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhjKHQpLnB1dChNdSh0aGlzLlIsZSkpfSx1Yy5wcm90b3R5cGUuZWU9ZnVuY3Rpb24odCxlKXt2YXIgbj0hMTtyZXR1cm4gdC50YXJnZXRJZD5lLmhpZ2hlc3RUYXJnZXRJZCYmKGUuaGlnaGVzdFRhcmdldElkPXQudGFyZ2V0SWQsbj0hMCksdC5zZXF1ZW5jZU51bWJlcj5lLmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlciYmKGUuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyPXQuc2VxdWVuY2VOdW1iZXIsbj0hMCksbn0sdWMucHJvdG90eXBlLmdldFRhcmdldENvdW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlh0KHQpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHQudGFyZ2V0Q291bnR9KX0sdWMucHJvdG90eXBlLmdldFRhcmdldERhdGE9ZnVuY3Rpb24odCxyKXt2YXIgZT1GaShyKSxlPUlEQktleVJhbmdlLmJvdW5kKFtlLE51bWJlci5ORUdBVElWRV9JTkZJTklUWV0sW2UsTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXSksaT1udWxsO3JldHVybiBoYyh0KS5PdCh7cmFuZ2U6ZSxpbmRleDpLYS5xdWVyeVRhcmdldHNJbmRleE5hbWV9LGZ1bmN0aW9uKHQsZSxuKXtlPVB1KGUpO1ZpKHIsZS50YXJnZXQpJiYoaT1lLG4uZG9uZSgpKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gaX0pfSx1Yy5wcm90b3R5cGUuYWRkTWF0Y2hpbmdLZXlzPWZ1bmN0aW9uKG4sdCxyKXt2YXIgaT10aGlzLG89W10scz1mYyhuKTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPUNhKHQucGF0aCk7by5wdXNoKHMucHV0KG5ldyBHYShyLGUpKSksby5wdXNoKGkucmVmZXJlbmNlRGVsZWdhdGUuYWRkUmVmZXJlbmNlKG4scix0KSl9KSx0dS53YWl0Rm9yKG8pfSx1Yy5wcm90b3R5cGUucmVtb3ZlTWF0Y2hpbmdLZXlzPWZ1bmN0aW9uKG4sdCxyKXt2YXIgaT10aGlzLG89ZmMobik7cmV0dXJuIHR1LmZvckVhY2godCxmdW5jdGlvbih0KXt2YXIgZT1DYSh0LnBhdGgpO3JldHVybiB0dS53YWl0Rm9yKFtvLmRlbGV0ZShbcixlXSksaS5yZWZlcmVuY2VEZWxlZ2F0ZS5yZW1vdmVSZWZlcmVuY2UobixyLHQpXSl9KX0sdWMucHJvdG90eXBlLnJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkPWZ1bmN0aW9uKHQsZSl7dD1mYyh0KSxlPUlEQktleVJhbmdlLmJvdW5kKFtlXSxbZSsxXSwhMSwhMCk7cmV0dXJuIHQuZGVsZXRlKGUpfSx1Yy5wcm90b3R5cGUuZ2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQ9ZnVuY3Rpb24odCxlKXt2YXIgZT1JREJLZXlSYW5nZS5ib3VuZChbZV0sW2UrMV0sITEsITApLHQ9ZmModCkscj1CcygpO3JldHVybiB0Lk90KHtyYW5nZTplLGt0OiEwfSxmdW5jdGlvbih0LGUsbil7dD14YSh0WzFdKSx0PW5ldyBtaSh0KTtyPXIuYWRkKHQpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiByfSl9LHVjLnByb3RvdHlwZS5jb250YWluc0tleT1mdW5jdGlvbih0LGUpe3ZhciBlPUNhKGUucGF0aCksZT1JREJLZXlSYW5nZS5ib3VuZChbZV0sW2pyKGUpXSwhMSwhMCksaT0wO3JldHVybiBmYyh0KS5PdCh7aW5kZXg6R2EuZG9jdW1lbnRUYXJnZXRzSW5kZXgsa3Q6ITAscmFuZ2U6ZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPXRbMF07dFsxXSwwIT09ciYmKGkrKyxuLmRvbmUoKSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIDA8aX0pfSx1Yy5wcm90b3R5cGUubHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaGModCkuZ2V0KGUpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHQ/UHUodCk6bnVsbH0pfSx1Yyk7ZnVuY3Rpb24gdWModCxlKXt0aGlzLnJlZmVyZW5jZURlbGVnYXRlPXQsdGhpcy5SPWV9ZnVuY3Rpb24gY2ModCl7dGhpcy5IdD10fWZ1bmN0aW9uIGhjKHQpe3JldHVybiB3dSh0LEthLnN0b3JlKX1mdW5jdGlvbiBsYyh0KXtyZXR1cm4gd3UodCxRYS5zdG9yZSl9ZnVuY3Rpb24gZmModCl7cmV0dXJuIHd1KHQsR2Euc3RvcmUpfWZ1bmN0aW9uIGRjKGUpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7aWYoZS5jb2RlIT09RHIuRkFJTEVEX1BSRUNPTkRJVElPTnx8ZS5tZXNzYWdlIT09JGEpdGhyb3cgZTtyZXR1cm4geHIoXCJMb2NhbFN0b3JlXCIsXCJVbmV4cGVjdGVkbHkgbG9zdCBwcmltYXJ5IGxlYXNlXCIpLFsyXX0pfSl9ZnVuY3Rpb24gcGModCxlKXt2YXIgbj10WzBdLHI9dFsxXSx0PWVbMF0sZT1lWzFdLHQ9cXIobix0KTtyZXR1cm4gMD09PXQ/cXIocixlKTp0fXZhciB5Yz0oRWMucHJvdG90eXBlLmllPWZ1bmN0aW9uKCl7cmV0dXJuKyt0aGlzLnNlfSxFYy5wcm90b3R5cGUucmU9ZnVuY3Rpb24odCl7dmFyIGU9W3QsdGhpcy5pZSgpXTt0aGlzLmJ1ZmZlci5zaXplPHRoaXMubmU/dGhpcy5idWZmZXI9dGhpcy5idWZmZXIuYWRkKGUpOnBjKGUsdD10aGlzLmJ1ZmZlci5sYXN0KCkpPDAmJih0aGlzLmJ1ZmZlcj10aGlzLmJ1ZmZlci5kZWxldGUodCkuYWRkKGUpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KEVjLnByb3RvdHlwZSxcIm1heFZhbHVlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlci5sYXN0KClbMF19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksRWMpLGdjPShJYy5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24odCl7LTEhPT10aGlzLmdhcmJhZ2VDb2xsZWN0b3IucGFyYW1zLmNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQmJnRoaXMudWUodCl9LEljLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5jZSYmKHRoaXMuY2UuY2FuY2VsKCksdGhpcy5jZT1udWxsKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KEljLnByb3RvdHlwZSxcInN0YXJ0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmNlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLEljLnByb3RvdHlwZS51ZT1mdW5jdGlvbihuKXt2YXIgdD10aGlzLGU9dGhpcy5vZT8zZTU6NmU0O3hyKFwiTHJ1R2FyYmFnZUNvbGxlY3RvclwiLFwiR2FyYmFnZSBjb2xsZWN0aW9uIHNjaGVkdWxlZCBpbiBcIitlK1wibXNcIiksdGhpcy5jZT10aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFmdGVyRGVsYXkoXCJscnVfZ2FyYmFnZV9jb2xsZWN0aW9uXCIsZSxmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDp0aGlzLmNlPW51bGwsdGhpcy5vZT0hMCx0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSwzLCw3XSksWzQsbi5jb2xsZWN0R2FyYmFnZSh0aGlzLmdhcmJhZ2VDb2xsZWN0b3IpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLFszLDddO2Nhc2UgMzpyZXR1cm4gbHUoZT10LnNlbnQoKSk/KHhyKFwiTHJ1R2FyYmFnZUNvbGxlY3RvclwiLFwiSWdub3JpbmcgSW5kZXhlZERCIGVycm9yIGR1cmluZyBnYXJiYWdlIGNvbGxlY3Rpb246IFwiLGUpLFszLDZdKTpbMyw0XTtjYXNlIDQ6cmV0dXJuWzQsZGMoZSldO2Nhc2UgNTp0LnNlbnQoKSx0LmxhYmVsPTY7Y2FzZSA2OnJldHVyblszLDddO2Nhc2UgNzpyZXR1cm5bNCx0aGlzLnVlKG4pXTtjYXNlIDg6cmV0dXJuIHQuc2VudCgpLFsyXX19KX0pfSl9LEljKSxtYz0od2MucHJvdG90eXBlLmNhbGN1bGF0ZVRhcmdldENvdW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWUuaGUodCkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5mbG9vcihlLzEwMCp0KX0pfSx3Yy5wcm90b3R5cGUubnRoU2VxdWVuY2VOdW1iZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKDA9PT1lKXJldHVybiB0dS5yZXNvbHZlKF9yLm8pO3ZhciByPW5ldyB5YyhlKTtyZXR1cm4gdGhpcy5hZS5mb3JFYWNoVGFyZ2V0KHQsZnVuY3Rpb24odCl7cmV0dXJuIHIucmUodC5zZXF1ZW5jZU51bWJlcil9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG4uYWUubGUodCxmdW5jdGlvbih0KXtyZXR1cm4gci5yZSh0KX0pfSkubmV4dChmdW5jdGlvbigpe3JldHVybiByLm1heFZhbHVlfSl9LHdjLnByb3RvdHlwZS5yZW1vdmVUYXJnZXRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5hZS5yZW1vdmVUYXJnZXRzKHQsZSxuKX0sd2MucHJvdG90eXBlLnJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWUucmVtb3ZlT3JwaGFuZWREb2N1bWVudHModCxlKX0sd2MucHJvdG90eXBlLmNvbGxlY3Q9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzO3JldHVybi0xPT09dGhpcy5wYXJhbXMuY2FjaGVTaXplQ29sbGVjdGlvblRocmVzaG9sZD8oeHIoXCJMcnVHYXJiYWdlQ29sbGVjdG9yXCIsXCJHYXJiYWdlIGNvbGxlY3Rpb24gc2tpcHBlZDsgZGlzYWJsZWRcIiksdHUucmVzb2x2ZShZdSkpOnRoaXMuZ2V0Q2FjaGVTaXplKGUpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHQ8ci5wYXJhbXMuY2FjaGVTaXplQ29sbGVjdGlvblRocmVzaG9sZD8oeHIoXCJMcnVHYXJiYWdlQ29sbGVjdG9yXCIsXCJHYXJiYWdlIGNvbGxlY3Rpb24gc2tpcHBlZDsgQ2FjaGUgc2l6ZSBcIit0K1wiIGlzIGxvd2VyIHRoYW4gdGhyZXNob2xkIFwiK3IucGFyYW1zLmNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQpLFl1KTpyLmZlKGUsbil9KX0sd2MucHJvdG90eXBlLmdldENhY2hlU2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hZS5nZXRDYWNoZVNpemUodCl9LHdjLnByb3RvdHlwZS5mZT1mdW5jdGlvbihlLG4pe3ZhciByLGksbyxzLGEsdSxjLGg9dGhpcyxsPURhdGUubm93KCk7cmV0dXJuIHRoaXMuY2FsY3VsYXRlVGFyZ2V0Q291bnQoZSx0aGlzLnBhcmFtcy5wZXJjZW50aWxlVG9Db2xsZWN0KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBpPXQ+aC5wYXJhbXMubWF4aW11bVNlcXVlbmNlTnVtYmVyc1RvQ29sbGVjdD8oeHIoXCJMcnVHYXJiYWdlQ29sbGVjdG9yXCIsXCJDYXBwaW5nIHNlcXVlbmNlIG51bWJlcnMgdG8gY29sbGVjdCBkb3duIHRvIHRoZSBtYXhpbXVtIG9mIFwiK2gucGFyYW1zLm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3QrXCIgZnJvbSBcIit0KSxoLnBhcmFtcy5tYXhpbXVtU2VxdWVuY2VOdW1iZXJzVG9Db2xsZWN0KTp0LHM9RGF0ZS5ub3coKSxoLm50aFNlcXVlbmNlTnVtYmVyKGUsaSl9KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiByPXQsYT1EYXRlLm5vdygpLGgucmVtb3ZlVGFyZ2V0cyhlLHIsbil9KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBvPXQsdT1EYXRlLm5vdygpLGgucmVtb3ZlT3JwaGFuZWREb2N1bWVudHMoZSxyKX0pLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIGM9RGF0ZS5ub3coKSxScigpPD1mLkRFQlVHJiZ4cihcIkxydUdhcmJhZ2VDb2xsZWN0b3JcIixcIkxSVSBHYXJiYWdlIENvbGxlY3Rpb25cXG5cXHRDb3VudGVkIHRhcmdldHMgaW4gXCIrKHMtbCkrXCJtc1xcblxcdERldGVybWluZWQgbGVhc3QgcmVjZW50bHkgdXNlZCBcIitpK1wiIGluIFwiKyhhLXMpK1wibXNcXG5cXHRSZW1vdmVkIFwiK28rXCIgdGFyZ2V0cyBpbiBcIisodS1hKStcIm1zXFxuXFx0UmVtb3ZlZCBcIit0K1wiIGRvY3VtZW50cyBpbiBcIisoYy11KStcIm1zXFxuVG90YWwgRHVyYXRpb246IFwiKyhjLWwpK1wibXNcIiksdHUucmVzb2x2ZSh7ZGlkUnVuOiEwLHNlcXVlbmNlTnVtYmVyc0NvbGxlY3RlZDppLHRhcmdldHNSZW1vdmVkOm8sZG9jdW1lbnRzUmVtb3ZlZDp0fSl9KX0sd2MpLHZjPShiYy5wcm90b3R5cGUuaGU9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5kZSh0KTtyZXR1cm4gdGhpcy5kYi5nZXRUYXJnZXRDYWNoZSgpLmdldFRhcmdldENvdW50KHQpLm5leHQoZnVuY3Rpb24oZSl7cmV0dXJuIG4ubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gZSt0fSl9KX0sYmMucHJvdG90eXBlLmRlPWZ1bmN0aW9uKHQpe3ZhciBlPTA7cmV0dXJuIHRoaXMubGUodCxmdW5jdGlvbih0KXtlKyt9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX0sYmMucHJvdG90eXBlLmZvckVhY2hUYXJnZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kYi5nZXRUYXJnZXRDYWNoZSgpLmZvckVhY2hUYXJnZXQodCxlKX0sYmMucHJvdG90eXBlLmxlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHRoaXMud2UodCxmdW5jdGlvbih0LGUpe3JldHVybiBuKGUpfSl9LGJjLnByb3RvdHlwZS5hZGRSZWZlcmVuY2U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBUYyh0LG4pfSxiYy5wcm90b3R5cGUucmVtb3ZlUmVmZXJlbmNlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gVGModCxuKX0sYmMucHJvdG90eXBlLnJlbW92ZVRhcmdldHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLmRiLmdldFRhcmdldENhY2hlKCkucmVtb3ZlVGFyZ2V0cyh0LGUsbil9LGJjLnByb3RvdHlwZS5tYXJrUG90ZW50aWFsbHlPcnBoYW5lZD1UYyxiYy5wcm90b3R5cGUuX2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcj1lLGk9ITEsb2Mobj10KS4kdChmdW5jdGlvbih0KXtyZXR1cm4gbmMobix0LHIpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHQmJihpPSEwKSx0dS5yZXNvbHZlKCF0KX0pfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBpfSk7dmFyIG4scixpfSxiYy5wcm90b3R5cGUucmVtb3ZlT3JwaGFuZWREb2N1bWVudHM9ZnVuY3Rpb24obixyKXt2YXIgaT10aGlzLG89dGhpcy5kYi5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCkubmV3Q2hhbmdlQnVmZmVyKCkscz1bXSxhPTA7cmV0dXJuIHRoaXMud2UobixmdW5jdGlvbihlLHQpe3Q8PXImJih0PWkuX2UobixlKS5uZXh0KGZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiBhKyssby5nZXRFbnRyeShuLGUpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gby5yZW1vdmVFbnRyeShlKSxmYyhuKS5kZWxldGUoWzAsQ2EoZS5wYXRoKV0pfSl9KSxzLnB1c2godCkpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiB0dS53YWl0Rm9yKHMpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBvLmFwcGx5KG4pfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBhfSl9LGJjLnByb3RvdHlwZS5yZW1vdmVUYXJnZXQ9ZnVuY3Rpb24odCxlKXtlPWUud2l0aFNlcXVlbmNlTnVtYmVyKHQuY3VycmVudFNlcXVlbmNlTnVtYmVyKTtyZXR1cm4gdGhpcy5kYi5nZXRUYXJnZXRDYWNoZSgpLnVwZGF0ZVRhcmdldERhdGEodCxlKX0sYmMucHJvdG90eXBlLnVwZGF0ZUxpbWJvRG9jdW1lbnQ9VGMsYmMucHJvdG90eXBlLndlPWZ1bmN0aW9uKHQscil7dmFyIGksdD1mYyh0KSxvPV9yLm87cmV0dXJuIHQuT3Qoe2luZGV4OkdhLmRvY3VtZW50VGFyZ2V0c0luZGV4fSxmdW5jdGlvbih0LGUpe3ZhciBuPXRbMF0sdD0odFsxXSxlLnBhdGgpLGU9ZS5zZXF1ZW5jZU51bWJlcjswPT09bj8obyE9PV9yLm8mJnIobmV3IG1pKHhhKGkpKSxvKSxvPWUsaT10KTpvPV9yLm99KS5uZXh0KGZ1bmN0aW9uKCl7byE9PV9yLm8mJnIobmV3IG1pKHhhKGkpKSxvKX0pfSxiYy5wcm90b3R5cGUuZ2V0Q2FjaGVTaXplPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRiLmdldFJlbW90ZURvY3VtZW50Q2FjaGUoKS5nZXRTaXplKHQpfSxiYyk7ZnVuY3Rpb24gYmModCxlKXt0aGlzLmRiPXQsdGhpcy5nYXJiYWdlQ29sbGVjdG9yPW5ldyBtYyh0aGlzLGUpfWZ1bmN0aW9uIHdjKHQsZSl7dGhpcy5hZT10LHRoaXMucGFyYW1zPWV9ZnVuY3Rpb24gSWModCxlKXt0aGlzLmdhcmJhZ2VDb2xsZWN0b3I9dCx0aGlzLmFzeW5jUXVldWU9ZSx0aGlzLm9lPSExLHRoaXMuY2U9bnVsbH1mdW5jdGlvbiBFYyh0KXt0aGlzLm5lPXQsdGhpcy5idWZmZXI9bmV3IE9zKHBjKSx0aGlzLnNlPTB9ZnVuY3Rpb24gVGModCxlKXtyZXR1cm4gZmModCkucHV0KCh0PXQuY3VycmVudFNlcXVlbmNlTnVtYmVyLG5ldyBHYSgwLENhKGUucGF0aCksdCkpKX12YXIgX2MsU2M9KFJjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tYXBLZXlGbih0KSxlPXRoaXMuaW5uZXJbZV07aWYodm9pZCAwIT09ZSlmb3IodmFyIG49MCxyPWU7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl0sbz1pWzBdLGk9aVsxXTtpZih0aGlzLmVxdWFsc0ZuKG8sdCkpcmV0dXJuIGl9fSxSYy5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10aGlzLmdldCh0KX0sUmMucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMubWFwS2V5Rm4odCkscj10aGlzLmlubmVyW25dO2lmKHZvaWQgMCE9PXIpe2Zvcih2YXIgaT0wO2k8ci5sZW5ndGg7aSsrKWlmKHRoaXMuZXF1YWxzRm4ocltpXVswXSx0KSlyZXR1cm4gdm9pZChyW2ldPVt0LGVdKTtyLnB1c2goW3QsZV0pfWVsc2UgdGhpcy5pbm5lcltuXT1bW3QsZV1dfSxSYy5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubWFwS2V5Rm4odCksbj10aGlzLmlubmVyW2VdO2lmKHZvaWQgMD09PW4pcmV0dXJuITE7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspaWYodGhpcy5lcXVhbHNGbihuW3JdWzBdLHQpKXJldHVybiAxPT09bi5sZW5ndGg/ZGVsZXRlIHRoaXMuaW5uZXJbZV06bi5zcGxpY2UociwxKSwhMDtyZXR1cm4hMX0sUmMucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24ocyl7V3IodGhpcy5pbm5lcixmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9ZTtuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXSxvPWlbMF0saT1pWzFdO3MobyxpKX19KX0sUmMucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gWXIodGhpcy5pbm5lcil9LFJjKSxJPShDYy5wcm90b3R5cGUuZ2V0UmVhZFRpbWU9ZnVuY3Rpb24odCl7dD10aGlzLmNoYW5nZXMuZ2V0KHQpO3JldHVybiB0P3QucmVhZFRpbWU6R3IubWluKCl9LENjLnByb3RvdHlwZS5hZGRFbnRyeT1mdW5jdGlvbih0LGUpe3RoaXMuYXNzZXJ0Tm90QXBwbGllZCgpLHRoaXMuY2hhbmdlcy5zZXQodC5rZXkse2RvY3VtZW50OnQscmVhZFRpbWU6ZX0pfSxDYy5wcm90b3R5cGUucmVtb3ZlRW50cnk9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1udWxsKSx0aGlzLmFzc2VydE5vdEFwcGxpZWQoKSx0aGlzLmNoYW5nZXMuc2V0KHQse2RvY3VtZW50Ok9pLm5ld0ludmFsaWREb2N1bWVudCh0KSxyZWFkVGltZTplfSl9LENjLnByb3RvdHlwZS5nZXRFbnRyeT1mdW5jdGlvbih0LGUpe3RoaXMuYXNzZXJ0Tm90QXBwbGllZCgpO3ZhciBuPXRoaXMuY2hhbmdlcy5nZXQoZSk7cmV0dXJuIHZvaWQgMCE9PW4/dHUucmVzb2x2ZShuLmRvY3VtZW50KTp0aGlzLmdldEZyb21DYWNoZSh0LGUpfSxDYy5wcm90b3R5cGUuZ2V0RW50cmllcz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmdldEFsbEZyb21DYWNoZSh0LGUpfSxDYy5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXNzZXJ0Tm90QXBwbGllZCgpLHRoaXMuY2hhbmdlc0FwcGxpZWQ9ITAsdGhpcy5hcHBseUNoYW5nZXModCl9LENjLnByb3RvdHlwZS5hc3NlcnROb3RBcHBsaWVkPWZ1bmN0aW9uKCl7fSxDYyksTmM9KGtjLnByb3RvdHlwZS5hZGRFbnRyeT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIE9jKHQpLnB1dChMYyhlKSxuKX0sa2MucHJvdG90eXBlLnJlbW92ZUVudHJ5PWZ1bmN0aW9uKHQsZSl7dD1PYyh0KSxlPUxjKGUpO3JldHVybiB0LmRlbGV0ZShlKX0sa2MucHJvdG90eXBlLnVwZGF0ZU1ldGFkYXRhPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5nZXRNZXRhZGF0YShlKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0LmJ5dGVTaXplKz1uLHIubWUoZSx0KX0pfSxrYy5wcm90b3R5cGUuZ2V0RW50cnk9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBPYyh0KS5nZXQoTGMoZSkpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIG4ueWUoZSx0KX0pfSxrYy5wcm90b3R5cGUuZ2U9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBPYyh0KS5nZXQoTGMoZSkpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJue2RvY3VtZW50Om4ueWUoZSx0KSxzaXplOlp1KHQpfX0pfSxrYy5wcm90b3R5cGUuZ2V0RW50cmllcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1QcztyZXR1cm4gdGhpcy5wZSh0LGUsZnVuY3Rpb24odCxlKXtlPW4ueWUodCxlKTtyPXIuaW5zZXJ0KHQsZSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KX0sa2MucHJvdG90eXBlLkVlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcyxpPVBzLG89bmV3IE5zKG1pLmNvbXBhcmF0b3IpO3JldHVybiB0aGlzLnBlKHQsZSxmdW5jdGlvbih0LGUpe3ZhciBuPXIueWUodCxlKTtpPWkuaW5zZXJ0KHQsbiksbz1vLmluc2VydCh0LFp1KGUpKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm57ZG9jdW1lbnRzOmksVGU6b319KX0sa2MucHJvdG90eXBlLnBlPWZ1bmN0aW9uKHQsZSxpKXtpZihlLmlzRW1wdHkoKSlyZXR1cm4gdHUucmVzb2x2ZSgpO3ZhciBuPUlEQktleVJhbmdlLmJvdW5kKGUuZmlyc3QoKS5wYXRoLnRvQXJyYXkoKSxlLmxhc3QoKS5wYXRoLnRvQXJyYXkoKSksbz1lLmdldEl0ZXJhdG9yKCkscz1vLmdldE5leHQoKTtyZXR1cm4gT2ModCkuT3Qoe3JhbmdlOm59LGZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9bWkuZnJvbVNlZ21lbnRzKHQpO3MmJm1pLmNvbXBhcmF0b3IocyxyKTwwOylpKHMsbnVsbCkscz1vLmdldE5leHQoKTtzJiZzLmlzRXF1YWwocikmJihpKHMsZSkscz1vLmhhc05leHQoKT9vLmdldE5leHQoKTpudWxsKSxzP24uQ3Qocy5wYXRoLnRvQXJyYXkoKSk6bi5kb25lKCl9KS5uZXh0KGZ1bmN0aW9uKCl7Zm9yKDtzOylpKHMsbnVsbCkscz1vLmhhc05leHQoKT9vLmdldE5leHQoKTpudWxsfSl9LGtjLnByb3RvdHlwZS5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5PWZ1bmN0aW9uKHQscixlKXt2YXIgbixpPXRoaXMsbz1QcyxzPXIucGF0aC5sZW5ndGgrMSxhPXt9O3JldHVybiBlLmlzRXF1YWwoR3IubWluKCkpPyhuPXIucGF0aC50b0FycmF5KCksYS5yYW5nZT1JREJLZXlSYW5nZS5sb3dlckJvdW5kKG4pKToobj1yLnBhdGgudG9BcnJheSgpLGU9Q3UoZSksYS5yYW5nZT1JREJLZXlSYW5nZS5sb3dlckJvdW5kKFtuLGVdLCEwKSxhLmluZGV4PUJhLmNvbGxlY3Rpb25SZWFkVGltZUluZGV4KSxPYyh0KS5PdChhLGZ1bmN0aW9uKHQsZSxuKXt0Lmxlbmd0aD09PXMmJihlPUF1KGkuUixlKSxyLnBhdGguaXNQcmVmaXhPZihlLmtleS5wYXRoKT9SbyhyLGUpJiYobz1vLmluc2VydChlLmtleSxlKSk6bi5kb25lKCkpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBvfSl9LGtjLnByb3RvdHlwZS5uZXdDaGFuZ2VCdWZmZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBEYyh0aGlzLCEhdCYmdC50cmFja1JlbW92YWxzKX0sa2MucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0TWV0YWRhdGEodCkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdC5ieXRlU2l6ZX0pfSxrYy5wcm90b3R5cGUuZ2V0TWV0YWRhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHhjKHQpLmdldChqYS5rZXkpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIEZyKCEhdCksdH0pfSxrYy5wcm90b3R5cGUubWU9ZnVuY3Rpb24odCxlKXtyZXR1cm4geGModCkucHV0KGphLmtleSxlKX0sa2MucHJvdG90eXBlLnllPWZ1bmN0aW9uKHQsZSl7aWYoZSl7ZT1BdSh0aGlzLlIsZSk7aWYoIWUuaXNOb0RvY3VtZW50KCl8fCFlLnZlcnNpb24uaXNFcXVhbChHci5taW4oKSkpcmV0dXJuIGV9cmV0dXJuIE9pLm5ld0ludmFsaWREb2N1bWVudCh0KX0sa2MpLERjPShuKEFjLF9jPUkpLEFjLnByb3RvdHlwZS5hcHBseUNoYW5nZXM9ZnVuY3Rpb24oaSl7dmFyIG89dGhpcyxzPVtdLGE9MCx1PW5ldyBPcyhmdW5jdGlvbih0LGUpe3JldHVybiBxcih0LmNhbm9uaWNhbFN0cmluZygpLGUuY2Fub25pY2FsU3RyaW5nKCkpfSk7cmV0dXJuIHRoaXMuY2hhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIG4scj1vLkFlLmdldCh0KTtlLmRvY3VtZW50LmlzVmFsaWREb2N1bWVudCgpPyhuPWt1KG8uSWUuUixlLmRvY3VtZW50LG8uZ2V0UmVhZFRpbWUodCkpLHU9dS5hZGQodC5wYXRoLnBvcExhc3QoKSksZT1adShuKSxhKz1lLXIscy5wdXNoKG8uSWUuYWRkRW50cnkoaSx0LG4pKSk6KGEtPXIsby50cmFja1JlbW92YWxzPyhyPWt1KG8uSWUuUixPaS5uZXdOb0RvY3VtZW50KHQsR3IubWluKCkpLG8uZ2V0UmVhZFRpbWUodCkpLHMucHVzaChvLkllLmFkZEVudHJ5KGksdCxyKSkpOnMucHVzaChvLkllLnJlbW92ZUVudHJ5KGksdCkpKX0pLHUuZm9yRWFjaChmdW5jdGlvbih0KXtzLnB1c2goby5JZS5VdC5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleChpLHQpKX0pLHMucHVzaCh0aGlzLkllLnVwZGF0ZU1ldGFkYXRhKGksYSkpLHR1LndhaXRGb3Iocyl9LEFjLnByb3RvdHlwZS5nZXRGcm9tQ2FjaGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLkllLmdlKHQsZSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gbi5BZS5zZXQoZSx0LnNpemUpLHQuZG9jdW1lbnR9KX0sQWMucHJvdG90eXBlLmdldEFsbEZyb21DYWNoZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuSWUuRWUodCxlKS5uZXh0KGZ1bmN0aW9uKHQpe3ZhciBlPXQuZG9jdW1lbnRzO3JldHVybiB0LlRlLmZvckVhY2goZnVuY3Rpb24odCxlKXtuLkFlLnNldCh0LGUpfSksZX0pfSxBYyk7ZnVuY3Rpb24gQWModCxlKXt2YXIgbj10aGlzO3JldHVybihuPV9jLmNhbGwodGhpcyl8fHRoaXMpLkllPXQsbi50cmFja1JlbW92YWxzPWUsbi5BZT1uZXcgU2MoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9TdHJpbmcoKX0sZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pc0VxdWFsKGUpfSksbn1mdW5jdGlvbiBrYyh0LGUpe3RoaXMuUj10LHRoaXMuVXQ9ZX1mdW5jdGlvbiBDYygpe3RoaXMuY2hhbmdlcz1uZXcgU2MoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9TdHJpbmcoKX0sZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pc0VxdWFsKGUpfSksdGhpcy5jaGFuZ2VzQXBwbGllZD0hMX1mdW5jdGlvbiBSYyh0LGUpe3RoaXMubWFwS2V5Rm49dCx0aGlzLmVxdWFsc0ZuPWUsdGhpcy5pbm5lcj17fX1mdW5jdGlvbiB4Yyh0KXtyZXR1cm4gd3UodCxqYS5zdG9yZSl9ZnVuY3Rpb24gT2ModCl7cmV0dXJuIHd1KHQsQmEuc3RvcmUpfWZ1bmN0aW9uIExjKHQpe3JldHVybiB0LnBhdGgudG9BcnJheSgpfXZhciBQYz0oTWMucHJvdG90eXBlLlJ0PWZ1bmN0aW9uKGUsbix0LHIpe3ZhciBpPXRoaXM7RnIodDxyJiYwPD10JiZyPD0xMSk7dmFyIG89bmV3IGV1KFwiY3JlYXRlT3JVcGdyYWRlXCIsbik7dDwxJiYxPD1yJiYoZS5jcmVhdGVPYmplY3RTdG9yZShPYS5zdG9yZSksKHM9ZSkuY3JlYXRlT2JqZWN0U3RvcmUoUGEuc3RvcmUse2tleVBhdGg6UGEua2V5UGF0aH0pLHMuY3JlYXRlT2JqZWN0U3RvcmUoTWEuc3RvcmUse2tleVBhdGg6TWEua2V5UGF0aCxhdXRvSW5jcmVtZW50OiEwfSkuY3JlYXRlSW5kZXgoTWEudXNlck11dGF0aW9uc0luZGV4LE1hLnVzZXJNdXRhdGlvbnNLZXlQYXRoLHt1bmlxdWU6ITB9KSxzLmNyZWF0ZU9iamVjdFN0b3JlKEZhLnN0b3JlKSxGYyhlKSxlLmNyZWF0ZU9iamVjdFN0b3JlKEJhLnN0b3JlKSk7dmFyIHMsYT10dS5yZXNvbHZlKCk7cmV0dXJuIHQ8MyYmMzw9ciYmKDAhPT10JiYoKHM9ZSkuZGVsZXRlT2JqZWN0U3RvcmUoR2Euc3RvcmUpLHMuZGVsZXRlT2JqZWN0U3RvcmUoS2Euc3RvcmUpLHMuZGVsZXRlT2JqZWN0U3RvcmUoUWEuc3RvcmUpLEZjKGUpKSxhPWEubmV4dChmdW5jdGlvbigpe3JldHVybiB0PW8uc3RvcmUoUWEuc3RvcmUpLGU9bmV3IFFhKDAsMCxHci5taW4oKS50b1RpbWVzdGFtcCgpLDApLHQucHV0KFFhLmtleSxlKTt2YXIgdCxlfSkpLHQ8NCYmNDw9ciYmKGE9KGE9MCE9PXQ/YS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG49ZSwocj1vKS5zdG9yZShNYS5zdG9yZSkuTnQoKS5uZXh0KGZ1bmN0aW9uKHQpe24uZGVsZXRlT2JqZWN0U3RvcmUoTWEuc3RvcmUpLG4uY3JlYXRlT2JqZWN0U3RvcmUoTWEuc3RvcmUse2tleVBhdGg6TWEua2V5UGF0aCxhdXRvSW5jcmVtZW50OiEwfSkuY3JlYXRlSW5kZXgoTWEudXNlck11dGF0aW9uc0luZGV4LE1hLnVzZXJNdXRhdGlvbnNLZXlQYXRoLHt1bmlxdWU6ITB9KTt2YXIgZT1yLnN0b3JlKE1hLnN0b3JlKSx0PXQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlLnB1dCh0KX0pO3JldHVybiB0dS53YWl0Rm9yKHQpfSk7dmFyIG4scn0pOmEpLm5leHQoZnVuY3Rpb24oKXtlLmNyZWF0ZU9iamVjdFN0b3JlKEhhLnN0b3JlLHtrZXlQYXRoOkhhLmtleVBhdGh9KX0pKSx0PDUmJjU8PXImJihhPWEubmV4dChmdW5jdGlvbigpe3JldHVybiBpLlJlKG8pfSkpLHQ8NiYmNjw9ciYmKGE9YS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGUuY3JlYXRlT2JqZWN0U3RvcmUoamEuc3RvcmUpLGkuYmUobyl9KSksdDw3JiY3PD1yJiYoYT1hLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gaS52ZShvKX0pKSx0PDgmJjg8PXImJihhPWEubmV4dChmdW5jdGlvbigpe3JldHVybiBpLlBlKGUsbyl9KSksdDw5JiY5PD1yJiYoYT1hLm5leHQoZnVuY3Rpb24oKXt2YXIgdDsodD1lKS5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKFwicmVtb3RlRG9jdW1lbnRDaGFuZ2VzXCIpJiZ0LmRlbGV0ZU9iamVjdFN0b3JlKFwicmVtb3RlRG9jdW1lbnRDaGFuZ2VzXCIpLCh0PW4ub2JqZWN0U3RvcmUoQmEuc3RvcmUpKS5jcmVhdGVJbmRleChCYS5yZWFkVGltZUluZGV4LEJhLnJlYWRUaW1lSW5kZXhQYXRoLHt1bmlxdWU6ITF9KSx0LmNyZWF0ZUluZGV4KEJhLmNvbGxlY3Rpb25SZWFkVGltZUluZGV4LEJhLmNvbGxlY3Rpb25SZWFkVGltZUluZGV4UGF0aCx7dW5pcXVlOiExfSl9KSksdDwxMCYmMTA8PXImJihhPWEubmV4dChmdW5jdGlvbigpe3JldHVybiBpLlZlKG8pfSkpLGE9dDwxMSYmMTE8PXI/YS5uZXh0KGZ1bmN0aW9uKCl7ZS5jcmVhdGVPYmplY3RTdG9yZShXYS5zdG9yZSx7a2V5UGF0aDpXYS5rZXlQYXRofSksZS5jcmVhdGVPYmplY3RTdG9yZShZYS5zdG9yZSx7a2V5UGF0aDpZYS5rZXlQYXRofSl9KTphfSxNYy5wcm90b3R5cGUuYmU9ZnVuY3Rpb24oZSl7dmFyIG49MDtyZXR1cm4gZS5zdG9yZShCYS5zdG9yZSkuT3QoZnVuY3Rpb24odCxlKXtuKz1adShlKX0pLm5leHQoZnVuY3Rpb24oKXt2YXIgdD1uZXcgamEobik7cmV0dXJuIGUuc3RvcmUoamEuc3RvcmUpLnB1dChqYS5rZXksdCl9KX0sTWMucHJvdG90eXBlLlJlPWZ1bmN0aW9uKG4pe3ZhciByPXRoaXMsdD1uLnN0b3JlKFBhLnN0b3JlKSxpPW4uc3RvcmUoTWEuc3RvcmUpO3JldHVybiB0Lk50KCkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdHUuZm9yRWFjaCh0LGZ1bmN0aW9uKGUpe3ZhciB0PUlEQktleVJhbmdlLmJvdW5kKFtlLnVzZXJJZCwtMV0sW2UudXNlcklkLGUubGFzdEFja25vd2xlZGdlZEJhdGNoSWRdKTtyZXR1cm4gaS5OdChNYS51c2VyTXV0YXRpb25zSW5kZXgsdCkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdHUuZm9yRWFjaCh0LGZ1bmN0aW9uKHQpe0ZyKHQudXNlcklkPT09ZS51c2VySWQpO3Q9THUoci5SLHQpO3JldHVybiAkdShuLGUudXNlcklkLHQpLm5leHQoZnVuY3Rpb24oKXt9KX0pfSl9KX0pfSxNYy5wcm90b3R5cGUudmU9ZnVuY3Rpb24odCl7dmFyIG89dC5zdG9yZShHYS5zdG9yZSksZT10LnN0b3JlKEJhLnN0b3JlKTtyZXR1cm4gdC5zdG9yZShRYS5zdG9yZSkuZ2V0KFFhLmtleSkubmV4dChmdW5jdGlvbihyKXt2YXIgaT1bXTtyZXR1cm4gZS5PdChmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyAkcih0KSx0PVswLENhKG4pXTtpLnB1c2goby5nZXQodCkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdD90dS5yZXNvbHZlKCk6by5wdXQobmV3IEdhKDAsQ2Eobiksci5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIpKX0pKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdHUud2FpdEZvcihpKX0pfSl9LE1jLnByb3RvdHlwZS5QZT1mdW5jdGlvbih0LGUpe3QuY3JlYXRlT2JqZWN0U3RvcmUoemEuc3RvcmUse2tleVBhdGg6emEua2V5UGF0aH0pO2Z1bmN0aW9uIHIodCl7aWYoaS5hZGQodCkpe3ZhciBlPXQubGFzdFNlZ21lbnQoKSx0PXQucG9wTGFzdCgpO3JldHVybiBuLnB1dCh7Y29sbGVjdGlvbklkOmUscGFyZW50OkNhKHQpfSl9fXZhciBuPWUuc3RvcmUoemEuc3RvcmUpLGk9bmV3IEt1O3JldHVybiBlLnN0b3JlKEJhLnN0b3JlKS5PdCh7a3Q6ITB9LGZ1bmN0aW9uKHQsZSl7dD1uZXcgJHIodCk7cmV0dXJuIHIodC5wb3BMYXN0KCkpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBlLnN0b3JlKEZhLnN0b3JlKS5PdCh7a3Q6ITB9LGZ1bmN0aW9uKHQsZSl7dFswXTt2YXIgbj10WzFdLG49KHRbMl0seGEobikpO3JldHVybiByKG4ucG9wTGFzdCgpKX0pfSl9LE1jLnByb3RvdHlwZS5WZT1mdW5jdGlvbih0KXt2YXIgbj10aGlzLHI9dC5zdG9yZShLYS5zdG9yZSk7cmV0dXJuIHIuT3QoZnVuY3Rpb24odCxlKXtlPVB1KGUpLGU9TXUobi5SLGUpO3JldHVybiByLnB1dChlKX0pfSxNYyk7ZnVuY3Rpb24gTWModCl7dGhpcy5SPXR9ZnVuY3Rpb24gRmModCl7dC5jcmVhdGVPYmplY3RTdG9yZShHYS5zdG9yZSx7a2V5UGF0aDpHYS5rZXlQYXRofSkuY3JlYXRlSW5kZXgoR2EuZG9jdW1lbnRUYXJnZXRzSW5kZXgsR2EuZG9jdW1lbnRUYXJnZXRzS2V5UGF0aCx7dW5pcXVlOiEwfSksdC5jcmVhdGVPYmplY3RTdG9yZShLYS5zdG9yZSx7a2V5UGF0aDpLYS5rZXlQYXRofSkuY3JlYXRlSW5kZXgoS2EucXVlcnlUYXJnZXRzSW5kZXhOYW1lLEthLnF1ZXJ5VGFyZ2V0c0tleVBhdGgse3VuaXF1ZTohMH0pLHQuY3JlYXRlT2JqZWN0U3RvcmUoUWEuc3RvcmUpfXZhciBWYz1cIkZhaWxlZCB0byBvYnRhaW4gZXhjbHVzaXZlIGFjY2VzcyB0byB0aGUgcGVyc2lzdGVuY2UgbGF5ZXIuIFRvIGFsbG93IHNoYXJlZCBhY2Nlc3MsIG11bHRpLXRhYiBzeW5jaHJvbml6YXRpb24gaGFzIHRvIGJlIGVuYWJsZWQgaW4gYWxsIHRhYnMuIElmIHlvdSBhcmUgdXNpbmcgYGV4cGVyaW1lbnRhbEZvcmNlT3duaW5nVGFiOnRydWVgLCBtYWtlIHN1cmUgdGhhdCBvbmx5IG9uZSB0YWIgaGFzIHBlcnNpc3RlbmNlIGVuYWJsZWQgYXQgYW55IGdpdmVuIHRpbWUuXCIsVWM9KHFjLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuamUoKS50aGVuKGZ1bmN0aW9uKCl7aWYoIWUuaXNQcmltYXJ5JiYhZS5hbGxvd1RhYlN5bmNocm9uaXphdGlvbil0aHJvdyBuZXcgQXIoRHIuRkFJTEVEX1BSRUNPTkRJVElPTixWYyk7cmV0dXJuIGUuV2UoKSxlLkdlKCksZS56ZSgpLGUucnVuVHJhbnNhY3Rpb24oXCJnZXRIaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXJcIixcInJlYWRvbmx5XCIsZnVuY3Rpb24odCl7cmV0dXJuIGUucWUuZ2V0SGlnaGVzdFNlcXVlbmNlTnVtYmVyKHQpfSl9KS50aGVuKGZ1bmN0aW9uKHQpe2UuTmU9bmV3IF9yKHQsZS5EZSl9KS50aGVuKGZ1bmN0aW9uKCl7ZS54ZT0hMH0pLmNhdGNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLkJlJiZlLkJlLmNsb3NlKCksUHJvbWlzZS5yZWplY3QodCl9KX0scWMucHJvdG90eXBlLkhlPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuTWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGFydGVkP1syLG4oZSldOlsyXX0pfSl9LG4odGhpcy5pc1ByaW1hcnkpfSxxYy5wcm90b3R5cGUuc2V0RGF0YWJhc2VEZWxldGVkTGlzdGVuZXI9ZnVuY3Rpb24obil7dmFyIHQ9dGhpczt0aGlzLkJlLnZ0KGZ1bmN0aW9uKGUpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbnVsbD09PWUubmV3VmVyc2lvbj9bNCxuKCldOlszLDJdO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KX0pfSl9LHFjLnByb3RvdHlwZS5zZXROZXR3b3JrRW5hYmxlZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMubmV0d29ya0VuYWJsZWQhPT10JiYodGhpcy5uZXR3b3JrRW5hYmxlZD10LHRoaXMuU2UuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KGUsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5zdGFydGVkP1s0LHRoaXMuamUoKV06WzMsMl07Y2FzZSAxOnQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzJdfX0pfSl9KSl9LHFjLnByb3RvdHlwZS5qZT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMucnVuVHJhbnNhY3Rpb24oXCJ1cGRhdGVDbGllbnRNZXRhZGF0YUFuZFRyeUJlY29tZVByaW1hcnlcIixcInJlYWR3cml0ZVwiLGZ1bmN0aW9uKGUpe3JldHVybiBqYyhlKS5wdXQobmV3IEhhKG4uY2xpZW50SWQsRGF0ZS5ub3coKSxuLm5ldHdvcmtFbmFibGVkLG4uaW5Gb3JlZ3JvdW5kKSkubmV4dChmdW5jdGlvbigpe2lmKG4uaXNQcmltYXJ5KXJldHVybiBuLkplKGUpLm5leHQoZnVuY3Rpb24odCl7dHx8KG4uaXNQcmltYXJ5PSExLG4uU2UuZW5xdWV1ZVJldHJ5YWJsZShmdW5jdGlvbigpe3JldHVybiBuLk1lKCExKX0pKX0pfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBuLlllKGUpfSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gbi5pc1ByaW1hcnkmJiF0P24uWGUoZSkubmV4dChmdW5jdGlvbigpe3JldHVybiExfSk6ISF0JiZuLlplKGUpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4hMH0pfSl9KS5jYXRjaChmdW5jdGlvbih0KXtpZihsdSh0KSlyZXR1cm4geHIoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLFwiRmFpbGVkIHRvIGV4dGVuZCBvd25lciBsZWFzZTogXCIsdCksbi5pc1ByaW1hcnk7aWYoIW4uYWxsb3dUYWJTeW5jaHJvbml6YXRpb24pdGhyb3cgdDtyZXR1cm4geHIoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLFwiUmVsZWFzaW5nIG93bmVyIGxlYXNlIGFmdGVyIGVycm9yIGR1cmluZyBsZWFzZSByZWZyZXNoXCIsdCksITF9KS50aGVuKGZ1bmN0aW9uKHQpe24uaXNQcmltYXJ5IT09dCYmbi5TZS5lbnF1ZXVlUmV0cnlhYmxlKGZ1bmN0aW9uKCl7cmV0dXJuIG4uTWUodCl9KSxuLmlzUHJpbWFyeT10fSl9LHFjLnByb3RvdHlwZS5KZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBCYyh0KS5nZXQoT2Eua2V5KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0dS5yZXNvbHZlKGUudG4odCkpfSl9LHFjLnByb3RvdHlwZS5lbj1mdW5jdGlvbih0KXtyZXR1cm4gamModCkuZGVsZXRlKHRoaXMuY2xpZW50SWQpfSxxYy5wcm90b3R5cGUubm49ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxvPXRoaXM7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiF0aGlzLmlzUHJpbWFyeXx8dGhpcy5zbih0aGlzLiRlLDE4ZTUpP1szLDJdOih0aGlzLiRlPURhdGUubm93KCksWzQsdGhpcy5ydW5UcmFuc2FjdGlvbihcIm1heWJlR2FyYmFnZUNvbGxlY3RNdWx0aUNsaWVudFN0YXRlXCIsXCJyZWFkd3JpdGUtcHJpbWFyeVwiLGZ1bmN0aW9uKHQpe3ZhciByPXd1KHQsSGEuc3RvcmUpO3JldHVybiByLk50KCkubmV4dChmdW5jdGlvbih0KXt2YXIgZT1vLnJuKHQsMThlNSksbj10LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4tMT09PWUuaW5kZXhPZih0KX0pO3JldHVybiB0dS5mb3JFYWNoKG4sZnVuY3Rpb24odCl7cmV0dXJuIHIuZGVsZXRlKHQuY2xpZW50SWQpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBufSl9KX0pLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuW119KV0pO2Nhc2UgMTppZihlPXQuc2VudCgpLHRoaXMuS2UpZm9yKG49MCxyPWU7bjxyLmxlbmd0aDtuKyspaT1yW25dLHRoaXMuS2UucmVtb3ZlSXRlbSh0aGlzLm9uKGkuY2xpZW50SWQpKTt0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KX0pfSxxYy5wcm90b3R5cGUuemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuT2U9dGhpcy5TZS5lbnF1ZXVlQWZ0ZXJEZWxheShcImNsaWVudF9tZXRhZGF0YV9yZWZyZXNoXCIsNGUzLGZ1bmN0aW9uKCl7cmV0dXJuIHQuamUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQubm4oKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdC56ZSgpfSl9KX0scWMucHJvdG90eXBlLnRuPWZ1bmN0aW9uKHQpe3JldHVybiEhdCYmdC5vd25lcklkPT09dGhpcy5jbGllbnRJZH0scWMucHJvdG90eXBlLlllPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMuQ2U/dHUucmVzb2x2ZSghMCk6QmMoZSkuZ2V0KE9hLmtleSkubmV4dChmdW5jdGlvbih0KXtpZihudWxsIT09dCYmci5zbih0LmxlYXNlVGltZXN0YW1wTXMsNWUzKSYmIXIuY24odC5vd25lcklkKSl7aWYoci50bih0KSYmci5uZXR3b3JrRW5hYmxlZClyZXR1cm4hMDtpZighci50bih0KSl7aWYoIXQuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24pdGhyb3cgbmV3IEFyKERyLkZBSUxFRF9QUkVDT05ESVRJT04sVmMpO3JldHVybiExfX1yZXR1cm4hKCFyLm5ldHdvcmtFbmFibGVkfHwhci5pbkZvcmVncm91bmQpfHxqYyhlKS5OdCgpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXIucm4odCw1ZTMpLmZpbmQoZnVuY3Rpb24odCl7aWYoci5jbGllbnRJZCE9PXQuY2xpZW50SWQpe3ZhciBlPSFyLm5ldHdvcmtFbmFibGVkJiZ0Lm5ldHdvcmtFbmFibGVkLG49IXIuaW5Gb3JlZ3JvdW5kJiZ0LmluRm9yZWdyb3VuZCx0PXIubmV0d29ya0VuYWJsZWQ9PT10Lm5ldHdvcmtFbmFibGVkO2lmKGV8fG4mJnQpcmV0dXJuITB9cmV0dXJuITF9KX0pfSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gci5pc1ByaW1hcnkhPT10JiZ4cihcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsXCJDbGllbnQgXCIrKHQ/XCJpc1wiOlwiaXMgbm90XCIpK1wiIGVsaWdpYmxlIGZvciBhIHByaW1hcnkgbGVhc2UuXCIpLHR9KX0scWMucHJvdG90eXBlLnNodXRkb3duPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG49dGhpcztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMueGU9ITEsdGhpcy51bigpLHRoaXMuT2UmJih0aGlzLk9lLmNhbmNlbCgpLHRoaXMuT2U9bnVsbCksdGhpcy5hbigpLHRoaXMuaG4oKSxbNCx0aGlzLkJlLnJ1blRyYW5zYWN0aW9uKFwic2h1dGRvd25cIixcInJlYWR3cml0ZVwiLFtPYS5zdG9yZSxIYS5zdG9yZV0sZnVuY3Rpb24odCl7dmFyIGU9bmV3IHZ1KHQsX3Iubyk7cmV0dXJuIG4uWGUoZSkubmV4dChmdW5jdGlvbigpe3JldHVybiBuLmVuKGUpfSl9KV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSx0aGlzLkJlLmNsb3NlKCksdGhpcy5sbigpLFsyXX19KX0pfSxxYy5wcm90b3R5cGUucm49ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gbi5zbih0LnVwZGF0ZVRpbWVNcyxlKSYmIW4uY24odC5jbGllbnRJZCl9KX0scWMucHJvdG90eXBlLmZuPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5ydW5UcmFuc2FjdGlvbihcImdldEFjdGl2ZUNsaWVudHNcIixcInJlYWRvbmx5XCIsZnVuY3Rpb24odCl7cmV0dXJuIGpjKHQpLk50KCkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gZS5ybih0LDE4ZTUpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5jbGllbnRJZH0pfSl9KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHFjLnByb3RvdHlwZSxcInN0YXJ0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSkscWMucHJvdG90eXBlLmdldE11dGF0aW9uUXVldWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRjLkt0KHQsdGhpcy5SLHRoaXMuVXQsdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSl9LHFjLnByb3RvdHlwZS5nZXRUYXJnZXRDYWNoZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnFlfSxxYy5wcm90b3R5cGUuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlVlfSxxYy5wcm90b3R5cGUuZ2V0SW5kZXhNYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVXR9LHFjLnByb3RvdHlwZS5nZXRCdW5kbGVDYWNoZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlFlfSxxYy5wcm90b3R5cGUucnVuVHJhbnNhY3Rpb249ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPXRoaXM7eHIoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLFwiU3RhcnRpbmcgdHJhbnNhY3Rpb246XCIsZSk7dmFyIG8sdD1cInJlYWRvbmx5XCI9PT1uP1wicmVhZG9ubHlcIjpcInJlYWR3cml0ZVwiO3JldHVybiB0aGlzLkJlLnJ1blRyYW5zYWN0aW9uKGUsdCxKYSxmdW5jdGlvbih0KXtyZXR1cm4gbz1uZXcgdnUodCxpLk5lP2kuTmUubmV4dCgpOl9yLm8pLFwicmVhZHdyaXRlLXByaW1hcnlcIj09PW4/aS5KZShvKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiEhdHx8aS5ZZShvKX0pLm5leHQoZnVuY3Rpb24odCl7aWYoIXQpdGhyb3cgT3IoXCJGYWlsZWQgdG8gb2J0YWluIHByaW1hcnkgbGVhc2UgZm9yIGFjdGlvbiAnXCIrZStcIicuXCIpLGkuaXNQcmltYXJ5PSExLGkuU2UuZW5xdWV1ZVJldHJ5YWJsZShmdW5jdGlvbigpe3JldHVybiBpLk1lKCExKX0pLG5ldyBBcihEci5GQUlMRURfUFJFQ09ORElUSU9OLCRhKTtyZXR1cm4gcihvKX0pLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIGkuWmUobykubmV4dChmdW5jdGlvbigpe3JldHVybiB0fSl9KTppLmRuKG8pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gcihvKX0pfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gby5yYWlzZU9uQ29tbWl0dGVkRXZlbnQoKSx0fSl9LHFjLnByb3RvdHlwZS5kbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBCYyh0KS5nZXQoT2Eua2V5KS5uZXh0KGZ1bmN0aW9uKHQpe2lmKG51bGwhPT10JiZlLnNuKHQubGVhc2VUaW1lc3RhbXBNcyw1ZTMpJiYhZS5jbih0Lm93bmVySWQpJiYhZS50bih0KSYmIShlLkNlfHxlLmFsbG93VGFiU3luY2hyb25pemF0aW9uJiZ0LmFsbG93VGFiU3luY2hyb25pemF0aW9uKSl0aHJvdyBuZXcgQXIoRHIuRkFJTEVEX1BSRUNPTkRJVElPTixWYyl9KX0scWMucHJvdG90eXBlLlplPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBPYSh0aGlzLmNsaWVudElkLHRoaXMuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24sRGF0ZS5ub3coKSk7cmV0dXJuIEJjKHQpLnB1dChPYS5rZXksZSl9LHFjLnl0PWZ1bmN0aW9uKCl7cmV0dXJuIG51Lnl0KCl9LHFjLnByb3RvdHlwZS5YZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49QmModCk7cmV0dXJuIG4uZ2V0KE9hLmtleSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gZS50bih0KT8oeHIoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLFwiUmVsZWFzaW5nIHByaW1hcnkgbGVhc2UuXCIpLG4uZGVsZXRlKE9hLmtleSkpOnR1LnJlc29sdmUoKX0pfSxxYy5wcm90b3R5cGUuc249ZnVuY3Rpb24odCxlKXt2YXIgbj1EYXRlLm5vdygpO3JldHVybiEodDxuLWV8fG48dCYmKE9yKFwiRGV0ZWN0ZWQgYW4gdXBkYXRlIHRpbWUgdGhhdCBpcyBpbiB0aGUgZnV0dXJlOiBcIit0K1wiID4gXCIrbiksMSkpfSxxYy5wcm90b3R5cGUuV2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO251bGwhPT10aGlzLmRvY3VtZW50JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXImJih0aGlzLmtlPWZ1bmN0aW9uKCl7dC5TZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIHQuaW5Gb3JlZ3JvdW5kPVwidmlzaWJsZVwiPT09dC5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUsdC5qZSgpfSl9LHRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLmtlKSx0aGlzLmluRm9yZWdyb3VuZD1cInZpc2libGVcIj09PXRoaXMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlKX0scWMucHJvdG90eXBlLmFuPWZ1bmN0aW9uKCl7dGhpcy5rZSYmKHRoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLmtlKSx0aGlzLmtlPW51bGwpfSxxYy5wcm90b3R5cGUuR2U9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXM7XCJmdW5jdGlvblwiPT10eXBlb2YobnVsbD09PSh0PXRoaXMud2luZG93KXx8dm9pZCAwPT09dD92b2lkIDA6dC5hZGRFdmVudExpc3RlbmVyKSYmKHRoaXMuRmU9ZnVuY3Rpb24oKXtlLnVuKCksZS5TZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUuc2h1dGRvd24oKX0pfSx0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsdGhpcy5GZSkpfSxxYy5wcm90b3R5cGUuaG49ZnVuY3Rpb24oKXt0aGlzLkZlJiYodGhpcy53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLHRoaXMuRmUpLHRoaXMuRmU9bnVsbCl9LHFjLnByb3RvdHlwZS5jbj1mdW5jdGlvbih0KXt0cnl7dmFyIGU9bnVsbCE9PShudWxsPT09KGU9dGhpcy5LZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0SXRlbSh0aGlzLm9uKHQpKSk7cmV0dXJuIHhyKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIixcIkNsaWVudCAnXCIrdCtcIicgXCIrKGU/XCJpc1wiOlwiaXMgbm90XCIpK1wiIHpvbWJpZWQgaW4gTG9jYWxTdG9yYWdlXCIpLGV9Y2F0Y2godCl7cmV0dXJuIE9yKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIixcIkZhaWxlZCB0byBnZXQgem9tYmllZCBjbGllbnQgaWQuXCIsdCksITF9fSxxYy5wcm90b3R5cGUudW49ZnVuY3Rpb24oKXtpZih0aGlzLktlKXRyeXt0aGlzLktlLnNldEl0ZW0odGhpcy5vbih0aGlzLmNsaWVudElkKSxTdHJpbmcoRGF0ZS5ub3coKSkpfWNhdGNoKHQpe09yKFwiRmFpbGVkIHRvIHNldCB6b21iaWUgY2xpZW50IGlkLlwiLHQpfX0scWMucHJvdG90eXBlLmxuPWZ1bmN0aW9uKCl7aWYodGhpcy5LZSl0cnl7dGhpcy5LZS5yZW1vdmVJdGVtKHRoaXMub24odGhpcy5jbGllbnRJZCkpfWNhdGNoKHQpe319LHFjLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0KXtyZXR1cm5cImZpcmVzdG9yZV96b21iaWVfXCIrdGhpcy5wZXJzaXN0ZW5jZUtleStcIl9cIit0fSxxYyk7ZnVuY3Rpb24gcWModCxlLG4scixpLG8scyxhLHUsYyl7aWYodGhpcy5hbGxvd1RhYlN5bmNocm9uaXphdGlvbj10LHRoaXMucGVyc2lzdGVuY2VLZXk9ZSx0aGlzLmNsaWVudElkPW4sdGhpcy5TZT1pLHRoaXMud2luZG93PW8sdGhpcy5kb2N1bWVudD1zLHRoaXMuRGU9dSx0aGlzLkNlPWMsdGhpcy5OZT1udWxsLHRoaXMueGU9ITEsdGhpcy5pc1ByaW1hcnk9ITEsdGhpcy5uZXR3b3JrRW5hYmxlZD0hMCx0aGlzLkZlPW51bGwsdGhpcy5pbkZvcmVncm91bmQ9ITEsdGhpcy5rZT1udWxsLHRoaXMuT2U9bnVsbCx0aGlzLiRlPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSx0aGlzLk1lPWZ1bmN0aW9uKHQpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0sIXFjLnl0KCkpdGhyb3cgbmV3IEFyKERyLlVOSU1QTEVNRU5URUQsXCJUaGlzIHBsYXRmb3JtIGlzIGVpdGhlciBtaXNzaW5nIEluZGV4ZWREQiBvciBpcyBrbm93biB0byBoYXZlIGFuIGluY29tcGxldGUgaW1wbGVtZW50YXRpb24uIE9mZmxpbmUgcGVyc2lzdGVuY2UgaGFzIGJlZW4gZGlzYWJsZWQuXCIpO3RoaXMucmVmZXJlbmNlRGVsZWdhdGU9bmV3IHZjKHRoaXMsciksdGhpcy5MZT1lK1wibWFpblwiLHRoaXMuUj1uZXcgX3UoYSksdGhpcy5CZT1uZXcgbnUodGhpcy5MZSwxMSxuZXcgUGModGhpcy5SKSksdGhpcy5xZT1uZXcgYWModGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSx0aGlzLlIpLHRoaXMuVXQ9bmV3IEd1LHRoaXMuVWU9KGU9dGhpcy5SLGE9dGhpcy5VdCxuZXcgTmMoZSxhKSksdGhpcy5RZT1uZXcgVnUsdGhpcy53aW5kb3cmJnRoaXMud2luZG93LmxvY2FsU3RvcmFnZT90aGlzLktlPXRoaXMud2luZG93LmxvY2FsU3RvcmFnZToodGhpcy5LZT1udWxsLCExPT09YyYmT3IoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLFwiTG9jYWxTdG9yYWdlIGlzIHVuYXZhaWxhYmxlLiBBcyBhIHJlc3VsdCwgcGVyc2lzdGVuY2UgbWF5IG5vdCB3b3JrIHJlbGlhYmx5LiBJbiBwYXJ0aWN1bGFyIGVuYWJsZVBlcnNpc3RlbmNlKCkgY291bGQgZmFpbCBpbW1lZGlhdGVseSBhZnRlciByZWZyZXNoaW5nIHRoZSBwYWdlLlwiKSl9ZnVuY3Rpb24gQmModCl7cmV0dXJuIHd1KHQsT2Euc3RvcmUpfWZ1bmN0aW9uIGpjKHQpe3JldHVybiB3dSh0LEhhLnN0b3JlKX1mdW5jdGlvbiBLYyh0LGUpe3ZhciBuPXQucHJvamVjdElkO3JldHVybiB0LmlzRGVmYXVsdERhdGFiYXNlfHwobis9XCIuXCIrdC5kYXRhYmFzZSksXCJmaXJlc3RvcmUvXCIrZStcIi9cIituK1wiL1wifWZ1bmN0aW9uIEdjKHQsZSl7dGhpcy5wcm9ncmVzcz10LHRoaXMud249ZX12YXIgUWM9KCRjLnByb3RvdHlwZS5tbj1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMuX24uZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXkoZSxuKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiByLnluKGUsbix0KX0pfSwkYy5wcm90b3R5cGUueW49ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0aGlzLlVlLmdldEVudHJ5KHQsZSkubmV4dChmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXI7ZTxuLmxlbmd0aDtlKyspbltlXS5hcHBseVRvTG9jYWxWaWV3KHQpO3JldHVybiB0fSl9LCRjLnByb3RvdHlwZS5nbj1mdW5jdGlvbih0LGkpe3QuZm9yRWFjaChmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9aTtuPHIubGVuZ3RoO24rKylyW25dLmFwcGx5VG9Mb2NhbFZpZXcoZSl9KX0sJGMucHJvdG90eXBlLnBuPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5VZS5nZXRFbnRyaWVzKGUsdCkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gbi5FbihlLHQpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdH0pfSl9LCRjLnByb3RvdHlwZS5Fbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuX24uZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXlzKHQsZSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gbi5nbihlLHQpfSl9LCRjLnByb3RvdHlwZS5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gcj1lLG1pLmlzRG9jdW1lbnRLZXkoci5wYXRoKSYmbnVsbD09PXIuY29sbGVjdGlvbkdyb3VwJiYwPT09ci5maWx0ZXJzLmxlbmd0aD90aGlzLlRuKHQsZS5wYXRoKTpfbyhlKT90aGlzLkluKHQsZSxuKTp0aGlzLkFuKHQsZSxuKTt2YXIgcn0sJGMucHJvdG90eXBlLlRuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubW4odCxuZXcgbWkoZSkpLm5leHQoZnVuY3Rpb24odCl7dmFyIGU9VnM7cmV0dXJuIGU9dC5pc0ZvdW5kRG9jdW1lbnQoKT9lLmluc2VydCh0LmtleSx0KTplfSl9LCRjLnByb3RvdHlwZS5Jbj1mdW5jdGlvbihuLHIsaSl7dmFyIG89dGhpcyxzPXIuY29sbGVjdGlvbkdyb3VwLGE9VnM7cmV0dXJuIHRoaXMuVXQuZ2V0Q29sbGVjdGlvblBhcmVudHMobixzKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0dS5mb3JFYWNoKHQsZnVuY3Rpb24odCl7dmFyIGUsZT0oZT1yLHQ9dC5jaGlsZChzKSxuZXcgbW8odCxudWxsLGUuZXhwbGljaXRPcmRlckJ5LnNsaWNlKCksZS5maWx0ZXJzLnNsaWNlKCksZS5saW1pdCxlLmxpbWl0VHlwZSxlLnN0YXJ0QXQsZS5lbmRBdCkpO3JldHVybiBvLkFuKG4sZSxpKS5uZXh0KGZ1bmN0aW9uKHQpe3QuZm9yRWFjaChmdW5jdGlvbih0LGUpe2E9YS5pbnNlcnQodCxlKX0pfSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGF9KX0pfSwkYy5wcm90b3R5cGUuQW49ZnVuY3Rpb24oZSxuLHQpe3ZhciBjLGgscj10aGlzO3JldHVybiB0aGlzLlVlLmdldERvY3VtZW50c01hdGNoaW5nUXVlcnkoZSxuLHQpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIGM9dCxyLl9uLmdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ1F1ZXJ5KGUsbil9KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBoPXQsci5SbihlLGgsYykubmV4dChmdW5jdGlvbih0KXtjPXQ7Zm9yKHZhciBlPTAsbj1oO2U8bi5sZW5ndGg7ZSsrKWZvcih2YXIgcj1uW2VdLGk9MCxvPXIubXV0YXRpb25zO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldLGE9cy5rZXksdT1jLmdldChhKTtudWxsPT11JiYodT1PaS5uZXdJbnZhbGlkRG9jdW1lbnQoYSksYz1jLmluc2VydChhLHUpKSxpcyhzLHUsci5sb2NhbFdyaXRlVGltZSksdS5pc0ZvdW5kRG9jdW1lbnQoKXx8KGM9Yy5yZW1vdmUoYSkpfX0pfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBjLmZvckVhY2goZnVuY3Rpb24odCxlKXtSbyhuLGUpfHwoYz1jLnJlbW92ZSh0KSl9KSxjfSl9LCRjLnByb3RvdHlwZS5Sbj1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPUJzKCksaT0wLG89ZTtpPG8ubGVuZ3RoO2krKylmb3IodmFyIHM9MCxhPW9baV0ubXV0YXRpb25zO3M8YS5sZW5ndGg7cysrKXt2YXIgdT1hW3NdO3UgaW5zdGFuY2VvZiBocyYmbnVsbD09PW4uZ2V0KHUua2V5KSYmKHI9ci5hZGQodS5rZXkpKX12YXIgYz1uO3JldHVybiB0aGlzLlVlLmdldEVudHJpZXModCxyKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCxlKXtlLmlzRm91bmREb2N1bWVudCgpJiYoYz1jLmluc2VydCh0LGUpKX0pLGN9KX0sJGMpLHpjPShKYy5Qbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1CcygpLHI9QnMoKSxpPTAsbz1lLmRvY0NoYW5nZXM7aTxvLmxlbmd0aDtpKyspe3ZhciBzPW9baV07c3dpdGNoKHMudHlwZSl7Y2FzZSAwOm49bi5hZGQocy5kb2Mua2V5KTticmVhaztjYXNlIDE6cj1yLmFkZChzLmRvYy5rZXkpfX1yZXR1cm4gbmV3IEpjKHQsZS5mcm9tQ2FjaGUsbixyKX0sSmMpLEhjPShYYy5wcm90b3R5cGUuVm49ZnVuY3Rpb24odCl7dGhpcy5Tbj10fSxYYy5wcm90b3R5cGUuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeT1mdW5jdGlvbihlLHIsaSxvKXt2YXIgcz10aGlzO3JldHVybiAwPT09ci5maWx0ZXJzLmxlbmd0aCYmbnVsbD09PXIubGltaXQmJm51bGw9PXIuc3RhcnRBdCYmbnVsbD09ci5lbmRBdCYmKDA9PT1yLmV4cGxpY2l0T3JkZXJCeS5sZW5ndGh8fDE9PT1yLmV4cGxpY2l0T3JkZXJCeS5sZW5ndGgmJnIuZXhwbGljaXRPcmRlckJ5WzBdLmZpZWxkLmlzS2V5RmllbGQoKSl8fGkuaXNFcXVhbChHci5taW4oKSk/dGhpcy5EbihlLHIpOnRoaXMuU24ucG4oZSxvKS5uZXh0KGZ1bmN0aW9uKHQpe3ZhciBuPXMuQ24ocix0KTtyZXR1cm4od28ocil8fElvKHIpKSYmcy5ObihyLmxpbWl0VHlwZSxuLG8saSk/cy5EbihlLHIpOihScigpPD1mLkRFQlVHJiZ4cihcIlF1ZXJ5RW5naW5lXCIsXCJSZS11c2luZyBwcmV2aW91cyByZXN1bHQgZnJvbSAlcyB0byBleGVjdXRlIHF1ZXJ5OiAlc1wiLGkudG9TdHJpbmcoKSxDbyhyKSkscy5Tbi5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KGUscixpKS5uZXh0KGZ1bmN0aW9uKGUpe3JldHVybiBuLmZvckVhY2goZnVuY3Rpb24odCl7ZT1lLmluc2VydCh0LmtleSx0KX0pLGV9KSl9KX0sWGMucHJvdG90eXBlLkNuPWZ1bmN0aW9uKG4sdCl7dmFyIHI9bmV3IE9zKHhvKG4pKTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7Um8obixlKSYmKHI9ci5hZGQoZSkpfSkscn0sWGMucHJvdG90eXBlLk5uPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKG4uc2l6ZSE9PWUuc2l6ZSlyZXR1cm4hMDtlPVwiRlwiPT09dD9lLmxhc3QoKTplLmZpcnN0KCk7cmV0dXJuISFlJiYoZS5oYXNQZW5kaW5nV3JpdGVzfHwwPGUudmVyc2lvbi5jb21wYXJlVG8ocikpfSxYYy5wcm90b3R5cGUuRG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gUnIoKTw9Zi5ERUJVRyYmeHIoXCJRdWVyeUVuZ2luZVwiLFwiVXNpbmcgZnVsbCBjb2xsZWN0aW9uIHNjYW4gdG8gZXhlY3V0ZSBxdWVyeTpcIixDbyhlKSksdGhpcy5Tbi5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KHQsZSxHci5taW4oKSl9LFhjKSxXYz0oWWMucHJvdG90eXBlLmNvbGxlY3RHYXJiYWdlPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJDb2xsZWN0IGdhcmJhZ2VcIixcInJlYWR3cml0ZS1wcmltYXJ5XCIsZnVuY3Rpb24odCl7cmV0dXJuIGUuY29sbGVjdCh0LG4uRm4pfSl9LFljKTtmdW5jdGlvbiBZYyh0LGUsbixyKXt0aGlzLnBlcnNpc3RlbmNlPXQsdGhpcy54bj1lLHRoaXMuUj1yLHRoaXMuRm49bmV3IE5zKHFyKSx0aGlzLmtuPW5ldyBTYyhGaSxWaSksdGhpcy5Pbj1Hci5taW4oKSx0aGlzLl9uPXQuZ2V0TXV0YXRpb25RdWV1ZShuKSx0aGlzLiRuPXQuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpLHRoaXMucWU9dC5nZXRUYXJnZXRDYWNoZSgpLHRoaXMuTW49bmV3IFFjKHRoaXMuJG4sdGhpcy5fbix0aGlzLnBlcnNpc3RlbmNlLmdldEluZGV4TWFuYWdlcigpKSx0aGlzLlFlPXQuZ2V0QnVuZGxlQ2FjaGUoKSx0aGlzLnhuLlZuKHRoaXMuTW4pfWZ1bmN0aW9uIFhjKCl7fWZ1bmN0aW9uIEpjKHQsZSxuLHIpe3RoaXMudGFyZ2V0SWQ9dCx0aGlzLmZyb21DYWNoZT1lLHRoaXMuYm49bix0aGlzLnZuPXJ9ZnVuY3Rpb24gJGModCxlLG4pe3RoaXMuVWU9dCx0aGlzLl9uPWUsdGhpcy5VdD1ufWZ1bmN0aW9uIFpjKHQsZSxuLHIpe3JldHVybiBuZXcgV2ModCxlLG4scil9ZnVuY3Rpb24gdGgoaSxvKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHYscjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIG49KGU9aSkuX24sdj1lLk1uLFs0LGUucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJIYW5kbGUgdXNlciBjaGFuZ2VcIixcInJlYWRvbmx5XCIsZnVuY3Rpb24oZyl7dmFyIG07cmV0dXJuIGUuX24uZ2V0QWxsTXV0YXRpb25CYXRjaGVzKGcpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIG09dCxuPWUucGVyc2lzdGVuY2UuZ2V0TXV0YXRpb25RdWV1ZShvKSx2PW5ldyBRYyhlLiRuLG4sZS5wZXJzaXN0ZW5jZS5nZXRJbmRleE1hbmFnZXIoKSksbi5nZXRBbGxNdXRhdGlvbkJhdGNoZXMoZyl9KS5uZXh0KGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPVtdLHI9QnMoKSxpPTAsbz1tO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldO2UucHVzaChzLmJhdGNoSWQpO2Zvcih2YXIgYT0wLHU9cy5tdXRhdGlvbnM7YTx1Lmxlbmd0aDthKyspdmFyIGM9dVthXSxyPXIuYWRkKGMua2V5KX1mb3IodmFyIGg9MCxsPXQ7aDxsLmxlbmd0aDtoKyspe3ZhciBmPWxbaF07bi5wdXNoKGYuYmF0Y2hJZCk7Zm9yKHZhciBkPTAscD1mLm11dGF0aW9ucztkPHAubGVuZ3RoO2QrKyl7dmFyIHk9cFtkXTtyPXIuYWRkKHkua2V5KX19cmV0dXJuIHYucG4oZyxyKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybntMbjp0LHJlbW92ZWRCYXRjaElkczplLGFkZGVkQmF0Y2hJZHM6bn19KX0pfSldO2Nhc2UgMTpyZXR1cm4gcj10LnNlbnQoKSxbMiwoZS5fbj1uLGUuTW49dixlLnhuLlZuKGUuTW4pLHIpXX19KX0pfWZ1bmN0aW9uIGVoKHQsaCl7dmFyIGw9dDtyZXR1cm4gbC5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkFja25vd2xlZGdlIGJhdGNoXCIsXCJyZWFkd3JpdGUtcHJpbWFyeVwiLGZ1bmN0aW9uKHQpe3ZhciBlLHIsaSxvLHMsbixhLHU9aC5iYXRjaC5rZXlzKCksYz1sLiRuLm5ld0NoYW5nZUJ1ZmZlcih7dHJhY2tSZW1vdmFsczohMH0pO3JldHVybiBlPWwscj10LG89YyxzPShpPWgpLmJhdGNoLG49cy5rZXlzKCksYT10dS5yZXNvbHZlKCksbi5mb3JFYWNoKGZ1bmN0aW9uKG4pe2E9YS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG8uZ2V0RW50cnkocixuKX0pLm5leHQoZnVuY3Rpb24odCl7dmFyIGU9aS5kb2NWZXJzaW9ucy5nZXQobik7RnIobnVsbCE9PWUpLHQudmVyc2lvbi5jb21wYXJlVG8oZSk8MCYmKHMuYXBwbHlUb1JlbW90ZURvY3VtZW50KHQsaSksdC5pc1ZhbGlkRG9jdW1lbnQoKSYmby5hZGRFbnRyeSh0LGkuY29tbWl0VmVyc2lvbikpfSl9KSxhLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gZS5fbi5yZW1vdmVNdXRhdGlvbkJhdGNoKHIscyl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGMuYXBwbHkodCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGwuX24ucGVyZm9ybUNvbnNpc3RlbmN5Q2hlY2sodCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGwuTW4ucG4odCx1KX0pfSl9ZnVuY3Rpb24gbmgodCl7dmFyIGU9dDtyZXR1cm4gZS5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkdldCBsYXN0IHJlbW90ZSBzbmFwc2hvdCB2ZXJzaW9uXCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKHQpe3JldHVybiBlLnFlLmdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24odCl9KX1mdW5jdGlvbiByaCh0LHIpe3ZhciB1PXQsYz1yLnNuYXBzaG90VmVyc2lvbixoPXUuRm47cmV0dXJuIHUucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJBcHBseSByZW1vdGUgZXZlbnRcIixcInJlYWR3cml0ZS1wcmltYXJ5XCIsZnVuY3Rpb24ocyl7dmFyIHQ9dS4kbi5uZXdDaGFuZ2VCdWZmZXIoe3RyYWNrUmVtb3ZhbHM6ITB9KTtoPXUuRm47dmFyIGE9W107ci50YXJnZXRDaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCxlKXt2YXIgbixyLGksbz1oLmdldChlKTtvJiYoYS5wdXNoKHUucWUucmVtb3ZlTWF0Y2hpbmdLZXlzKHMsdC5yZW1vdmVkRG9jdW1lbnRzLGUpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdS5xZS5hZGRNYXRjaGluZ0tleXMocyx0LmFkZGVkRG9jdW1lbnRzLGUpfSkpLDA8KGk9dC5yZXN1bWVUb2tlbikuYXBwcm94aW1hdGVCeXRlU2l6ZSgpJiYobj1vLndpdGhSZXN1bWVUb2tlbihpLGMpLndpdGhTZXF1ZW5jZU51bWJlcihzLmN1cnJlbnRTZXF1ZW5jZU51bWJlciksaD1oLmluc2VydChlLG4pLHI9byxpPXQsRnIoMDwobz1uKS5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCkpLCgwPT09ci5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCl8fDNlODw9by5zbmFwc2hvdFZlcnNpb24udG9NaWNyb3NlY29uZHMoKS1yLnNuYXBzaG90VmVyc2lvbi50b01pY3Jvc2Vjb25kcygpfHwwPGkuYWRkZWREb2N1bWVudHMuc2l6ZStpLm1vZGlmaWVkRG9jdW1lbnRzLnNpemUraS5yZW1vdmVkRG9jdW1lbnRzLnNpemUpJiZhLnB1c2godS5xZS51cGRhdGVUYXJnZXREYXRhKHMsbikpKSl9KTt2YXIgZSxuPVBzO3JldHVybiByLmRvY3VtZW50VXBkYXRlcy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7ci5yZXNvbHZlZExpbWJvRG9jdW1lbnRzLmhhcyh0KSYmYS5wdXNoKHUucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUudXBkYXRlTGltYm9Eb2N1bWVudChzLHQpKX0pLGEucHVzaChpaChzLHQsci5kb2N1bWVudFVwZGF0ZXMsYyx2b2lkIDApLm5leHQoZnVuY3Rpb24odCl7bj10fSkpLGMuaXNFcXVhbChHci5taW4oKSl8fChlPXUucWUuZ2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbihzKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB1LnFlLnNldFRhcmdldHNNZXRhZGF0YShzLHMuY3VycmVudFNlcXVlbmNlTnVtYmVyLGMpfSksYS5wdXNoKGUpKSx0dS53YWl0Rm9yKGEpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShzKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdS5Nbi5FbihzLG4pfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBufSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB1LkZuPWgsdH0pfWZ1bmN0aW9uIGloKHQscyxlLGEsdSl7dmFyIG49QnMoKTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuPW4uYWRkKHQpfSkscy5nZXRFbnRyaWVzKHQsbikubmV4dChmdW5jdGlvbihpKXt2YXIgbz1QcztyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIG49aS5nZXQodCkscj0obnVsbD09dT92b2lkIDA6dS5nZXQodCkpfHxhO2UuaXNOb0RvY3VtZW50KCkmJmUudmVyc2lvbi5pc0VxdWFsKEdyLm1pbigpKT8ocy5yZW1vdmVFbnRyeSh0LHIpLG89by5pbnNlcnQodCxlKSk6IW4uaXNWYWxpZERvY3VtZW50KCl8fDA8ZS52ZXJzaW9uLmNvbXBhcmVUbyhuLnZlcnNpb24pfHwwPT09ZS52ZXJzaW9uLmNvbXBhcmVUbyhuLnZlcnNpb24pJiZuLmhhc1BlbmRpbmdXcml0ZXM/KHMuYWRkRW50cnkoZSxyKSxvPW8uaW5zZXJ0KHQsZSkpOnhyKFwiTG9jYWxTdG9yZVwiLFwiSWdub3Jpbmcgb3V0ZGF0ZWQgd2F0Y2ggdXBkYXRlIGZvciBcIix0LFwiLiBDdXJyZW50IHZlcnNpb246XCIsbi52ZXJzaW9uLFwiIFdhdGNoIHZlcnNpb246XCIsZS52ZXJzaW9uKX0pLG99KX1mdW5jdGlvbiBvaCh0LHIpe3ZhciBpPXQ7cmV0dXJuIGkucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJBbGxvY2F0ZSB0YXJnZXRcIixcInJlYWR3cml0ZVwiLGZ1bmN0aW9uKGUpe3ZhciBuO3JldHVybiBpLnFlLmdldFRhcmdldERhdGEoZSxyKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0PyhuPXQsdHUucmVzb2x2ZShuKSk6aS5xZS5hbGxvY2F0ZVRhcmdldElkKGUpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIG49bmV3IFR1KHIsdCwwLGUuY3VycmVudFNlcXVlbmNlTnVtYmVyKSxpLnFlLmFkZFRhcmdldERhdGEoZSxuKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG59KX0pfSl9KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBlPWkuRm4uZ2V0KHQudGFyZ2V0SWQpO3JldHVybihudWxsPT09ZXx8MDx0LnNuYXBzaG90VmVyc2lvbi5jb21wYXJlVG8oZS5zbmFwc2hvdFZlcnNpb24pKSYmKGkuRm49aS5Gbi5pbnNlcnQodC50YXJnZXRJZCx0KSxpLmtuLnNldChyLHQudGFyZ2V0SWQpKSx0fSl9ZnVuY3Rpb24gc2goaSxvLHMpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6bj0oZT1pKS5Gbi5nZXQobykscj1zP1wicmVhZHdyaXRlXCI6XCJyZWFkd3JpdGUtcHJpbWFyeVwiLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDQsLDVdKSxzP1szLDNdOls0LGUucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJSZWxlYXNlIHRhcmdldFwiLHIsZnVuY3Rpb24odCl7cmV0dXJuIGUucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUucmVtb3ZlVGFyZ2V0KHQsbil9KV07Y2FzZSAyOnQuc2VudCgpLHQubGFiZWw9MztjYXNlIDM6cmV0dXJuWzMsNV07Y2FzZSA0OmlmKCFsdShyPXQuc2VudCgpKSl0aHJvdyByO3JldHVybiB4cihcIkxvY2FsU3RvcmVcIixcIkZhaWxlZCB0byB1cGRhdGUgc2VxdWVuY2UgbnVtYmVycyBmb3IgdGFyZ2V0IFwiK28rXCI6IFwiK3IpLFszLDVdO2Nhc2UgNTpyZXR1cm4gZS5Gbj1lLkZuLnJlbW92ZShvKSxlLmtuLmRlbGV0ZShuLnRhcmdldCksWzJdfX0pfSl9ZnVuY3Rpb24gYWgodCxvLHMpe3ZhciBhPXQsdT1Hci5taW4oKSxjPUJzKCk7cmV0dXJuIGEucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJFeGVjdXRlIHF1ZXJ5XCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKGUpe3JldHVybiB0PWEsbj1lLHI9Tm8obyksKHZvaWQgMCE9PSh0PShpPXQpLmtuLmdldChyKSk/dHUucmVzb2x2ZShpLkZuLmdldCh0KSk6aS5xZS5nZXRUYXJnZXREYXRhKG4scikpLm5leHQoZnVuY3Rpb24odCl7aWYodClyZXR1cm4gdT10Lmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24sYS5xZS5nZXRNYXRjaGluZ0tleXNGb3JUYXJnZXRJZChlLHQudGFyZ2V0SWQpLm5leHQoZnVuY3Rpb24odCl7Yz10fSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGEueG4uZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeShlLG8scz91OkdyLm1pbigpLHM/YzpCcygpKX0pLm5leHQoZnVuY3Rpb24odCl7cmV0dXJue2RvY3VtZW50czp0LEJuOmN9fSk7dmFyIHQsbixyLGl9KX1mdW5jdGlvbiB1aCh0LGUpe3ZhciBuPXQscj1uLnFlLHQ9bi5Gbi5nZXQoZSk7cmV0dXJuIHQ/UHJvbWlzZS5yZXNvbHZlKHQudGFyZ2V0KTpuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiR2V0IHRhcmdldCBkYXRhXCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKHQpe3JldHVybiByLmx0KHQsZSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdD90LnRhcmdldDpudWxsfSl9KX1mdW5jdGlvbiBjaCh0KXt2YXIgcz10O3JldHVybiBzLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiR2V0IG5ldyBkb2N1bWVudCBjaGFuZ2VzXCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKHQpe3JldHVybiBlPXMuJG4sbj10LHQ9cy5PbixyPWUsaT1QcyxvPUN1KHQpLHQ9T2Mobiksbj1JREJLZXlSYW5nZS5sb3dlckJvdW5kKG8sITApLHQuT3Qoe2luZGV4OkJhLnJlYWRUaW1lSW5kZXgscmFuZ2U6bn0sZnVuY3Rpb24odCxlKXt2YXIgbj1BdShyLlIsZSk7aT1pLmluc2VydChuLmtleSxuKSxvPWUucmVhZFRpbWV9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJue3duOmkscmVhZFRpbWU6UnUobyl9fSk7dmFyIGUsbixyLGksb30pLnRoZW4oZnVuY3Rpb24odCl7dmFyIGU9dC53bix0PXQucmVhZFRpbWU7cmV0dXJuIHMuT249dCxlfSl9ZnVuY3Rpb24gaGgobil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtyZXR1cm5bMiwoZT1uKS5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIlN5bmNocm9uaXplIGxhc3QgZG9jdW1lbnQgY2hhbmdlIHJlYWQgdGltZVwiLFwicmVhZG9ubHlcIixmdW5jdGlvbih0KXtyZXR1cm4gdD1PYyh0KSxyPUdyLm1pbigpLHQuT3Qoe2luZGV4OkJhLnJlYWRUaW1lSW5kZXgscmV2ZXJzZTohMH0sZnVuY3Rpb24odCxlLG4pe2UucmVhZFRpbWUmJihyPVJ1KGUucmVhZFRpbWUpKSxuLmRvbmUoKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gcn0pO3ZhciByfSkudGhlbihmdW5jdGlvbih0KXtlLk9uPXR9KV19KX0pfXZhciBsaCxmaCxkaD0oTGgucHJvdG90eXBlLmdldEJ1bmRsZU1ldGFkYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR1LnJlc29sdmUodGhpcy5Lbi5nZXQoZSkpfSxMaC5wcm90b3R5cGUuc2F2ZUJ1bmRsZU1ldGFkYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuS24uc2V0KGUuaWQse2lkOmUuaWQsdmVyc2lvbjplLnZlcnNpb24sY3JlYXRlVGltZTphYShlLmNyZWF0ZVRpbWUpfSksdHUucmVzb2x2ZSgpfSxMaC5wcm90b3R5cGUuZ2V0TmFtZWRRdWVyeT1mdW5jdGlvbih0LGUpe3JldHVybiB0dS5yZXNvbHZlKHRoaXMuam4uZ2V0KGUpKX0sTGgucHJvdG90eXBlLnNhdmVOYW1lZFF1ZXJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuam4uc2V0KGUubmFtZSx7bmFtZTooZT1lKS5uYW1lLHF1ZXJ5OkZ1KGUuYnVuZGxlZFF1ZXJ5KSxyZWFkVGltZTphYShlLnJlYWRUaW1lKX0pLHR1LnJlc29sdmUoKX0sTGgpLHBoPShPaC5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlduLmlzRW1wdHkoKX0sT2gucHJvdG90eXBlLmFkZFJlZmVyZW5jZT1mdW5jdGlvbih0LGUpe2U9bmV3IHloKHQsZSk7dGhpcy5Xbj10aGlzLlduLmFkZChlKSx0aGlzLnpuPXRoaXMuem4uYWRkKGUpfSxPaC5wcm90b3R5cGUuSm49ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3QuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi5hZGRSZWZlcmVuY2UodCxlKX0pfSxPaC5wcm90b3R5cGUucmVtb3ZlUmVmZXJlbmNlPWZ1bmN0aW9uKHQsZSl7dGhpcy5ZbihuZXcgeWgodCxlKSl9LE9oLnByb3RvdHlwZS5Ybj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLnJlbW92ZVJlZmVyZW5jZSh0LGUpfSl9LE9oLnByb3RvdHlwZS5abj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49bmV3IG1pKG5ldyAkcihbXSkpLHI9bmV3IHloKG4sdCksdD1uZXcgeWgobix0KzEpLGk9W107cmV0dXJuIHRoaXMuem4uZm9yRWFjaEluUmFuZ2UoW3IsdF0sZnVuY3Rpb24odCl7ZS5Zbih0KSxpLnB1c2godC5rZXkpfSksaX0sT2gucHJvdG90eXBlLnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLlduLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUuWW4odCl9KX0sT2gucHJvdG90eXBlLlluPWZ1bmN0aW9uKHQpe3RoaXMuV249dGhpcy5Xbi5kZWxldGUodCksdGhpcy56bj10aGlzLnpuLmRlbGV0ZSh0KX0sT2gucHJvdG90eXBlLmVzPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBtaShuZXcgJHIoW10pKSxuPW5ldyB5aChlLHQpLHQ9bmV3IHloKGUsdCsxKSxyPUJzKCk7cmV0dXJuIHRoaXMuem4uZm9yRWFjaEluUmFuZ2UoW24sdF0sZnVuY3Rpb24odCl7cj1yLmFkZCh0LmtleSl9KSxyfSxPaC5wcm90b3R5cGUuY29udGFpbnNLZXk9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHloKHQsMCksZT10aGlzLlduLmZpcnN0QWZ0ZXJPckVxdWFsKGUpO3JldHVybiBudWxsIT09ZSYmdC5pc0VxdWFsKGUua2V5KX0sT2gpLHloPSh4aC5Hbj1mdW5jdGlvbih0LGUpe3JldHVybiBtaS5jb21wYXJhdG9yKHQua2V5LGUua2V5KXx8cXIodC5ucyxlLm5zKX0seGguSG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gcXIodC5ucyxlLm5zKXx8bWkuY29tcGFyYXRvcih0LmtleSxlLmtleSl9LHhoKSxnaD0oUmgucHJvdG90eXBlLmNoZWNrRW1wdHk9ZnVuY3Rpb24odCl7cmV0dXJuIHR1LnJlc29sdmUoMD09PXRoaXMuX24ubGVuZ3RoKX0sUmgucHJvdG90eXBlLmFkZE11dGF0aW9uQmF0Y2g9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpcy5zczt0aGlzLnNzKyssMDx0aGlzLl9uLmxlbmd0aCYmdGhpcy5fblt0aGlzLl9uLmxlbmd0aC0xXTtuPW5ldyBJdShpLGUsbixyKTt0aGlzLl9uLnB1c2gobik7Zm9yKHZhciBvPTAscz1yO288cy5sZW5ndGg7bysrKXt2YXIgYT1zW29dO3RoaXMucnM9dGhpcy5ycy5hZGQobmV3IHloKGEua2V5LGkpKSx0aGlzLlV0LmFkZFRvQ29sbGVjdGlvblBhcmVudEluZGV4KHQsYS5rZXkucGF0aC5wb3BMYXN0KCkpfXJldHVybiB0dS5yZXNvbHZlKG4pfSxSaC5wcm90b3R5cGUubG9va3VwTXV0YXRpb25CYXRjaD1mdW5jdGlvbih0LGUpe3JldHVybiB0dS5yZXNvbHZlKHRoaXMub3MoZSkpfSxSaC5wcm90b3R5cGUuZ2V0TmV4dE11dGF0aW9uQmF0Y2hBZnRlckJhdGNoSWQ9ZnVuY3Rpb24odCxlKXtlKz0xLGU9dGhpcy5jcyhlKSxlPWU8MD8wOmU7cmV0dXJuIHR1LnJlc29sdmUodGhpcy5fbi5sZW5ndGg+ZT90aGlzLl9uW2VdOm51bGwpfSxSaC5wcm90b3R5cGUuZ2V0SGlnaGVzdFVuYWNrbm93bGVkZ2VkQmF0Y2hJZD1mdW5jdGlvbigpe3JldHVybiB0dS5yZXNvbHZlKDA9PT10aGlzLl9uLmxlbmd0aD8tMTp0aGlzLnNzLTEpfSxSaC5wcm90b3R5cGUuZ2V0QWxsTXV0YXRpb25CYXRjaGVzPWZ1bmN0aW9uKHQpe3JldHVybiB0dS5yZXNvbHZlKHRoaXMuX24uc2xpY2UoKSl9LFJoLnByb3RvdHlwZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1uZXcgeWgoZSwwKSxlPW5ldyB5aChlLE51bWJlci5QT1NJVElWRV9JTkZJTklUWSksaT1bXTtyZXR1cm4gdGhpcy5ycy5mb3JFYWNoSW5SYW5nZShbcixlXSxmdW5jdGlvbih0KXt0PW4ub3ModC5ucyk7aS5wdXNoKHQpfSksdHUucmVzb2x2ZShpKX0sUmgucHJvdG90eXBlLmdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5cz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1uZXcgT3MocXIpO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9bmV3IHloKHQsMCksdD1uZXcgeWgodCxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO24ucnMuZm9yRWFjaEluUmFuZ2UoW2UsdF0sZnVuY3Rpb24odCl7cj1yLmFkZCh0Lm5zKX0pfSksdHUucmVzb2x2ZSh0aGlzLnVzKHIpKX0sUmgucHJvdG90eXBlLmdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ1F1ZXJ5PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5wYXRoLHI9bi5sZW5ndGgrMSxlPW47bWkuaXNEb2N1bWVudEtleShlKXx8KGU9ZS5jaGlsZChcIlwiKSk7dmFyIGU9bmV3IHloKG5ldyBtaShlKSwwKSxpPW5ldyBPcyhxcik7cmV0dXJuIHRoaXMucnMuZm9yRWFjaFdoaWxlKGZ1bmN0aW9uKHQpe3ZhciBlPXQua2V5LnBhdGg7cmV0dXJuISFuLmlzUHJlZml4T2YoZSkmJihlLmxlbmd0aD09PXImJihpPWkuYWRkKHQubnMpKSwhMCl9LGUpLHR1LnJlc29sdmUodGhpcy51cyhpKSl9LFJoLnByb3RvdHlwZS51cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49W107cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXt0PWUub3ModCk7bnVsbCE9PXQmJm4ucHVzaCh0KX0pLG59LFJoLnByb3RvdHlwZS5yZW1vdmVNdXRhdGlvbkJhdGNoPWZ1bmN0aW9uKG4scil7dmFyIGk9dGhpcztGcigwPT09dGhpcy5ocyhyLmJhdGNoSWQsXCJyZW1vdmVkXCIpKSx0aGlzLl9uLnNoaWZ0KCk7dmFyIG89dGhpcy5ycztyZXR1cm4gdHUuZm9yRWFjaChyLm11dGF0aW9ucyxmdW5jdGlvbih0KXt2YXIgZT1uZXcgeWgodC5rZXksci5iYXRjaElkKTtyZXR1cm4gbz1vLmRlbGV0ZShlKSxpLnJlZmVyZW5jZURlbGVnYXRlLm1hcmtQb3RlbnRpYWxseU9ycGhhbmVkKG4sdC5rZXkpfSkubmV4dChmdW5jdGlvbigpe2kucnM9b30pfSxSaC5wcm90b3R5cGUuR3Q9ZnVuY3Rpb24odCl7fSxSaC5wcm90b3R5cGUuY29udGFpbnNLZXk9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgeWgoZSwwKSxuPXRoaXMucnMuZmlyc3RBZnRlck9yRXF1YWwobik7cmV0dXJuIHR1LnJlc29sdmUoZS5pc0VxdWFsKG4mJm4ua2V5KSl9LFJoLnByb3RvdHlwZS5wZXJmb3JtQ29uc2lzdGVuY3lDaGVjaz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbi5sZW5ndGgsdHUucmVzb2x2ZSgpfSxSaC5wcm90b3R5cGUuaHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jcyh0KX0sUmgucHJvdG90eXBlLmNzPWZ1bmN0aW9uKHQpe3JldHVybiAwPT09dGhpcy5fbi5sZW5ndGg/MDp0LXRoaXMuX25bMF0uYmF0Y2hJZH0sUmgucHJvdG90eXBlLm9zPWZ1bmN0aW9uKHQpe3Q9dGhpcy5jcyh0KTtyZXR1cm4gdDwwfHx0Pj10aGlzLl9uLmxlbmd0aD9udWxsOnRoaXMuX25bdF19LFJoKSxtaD0oQ2gucHJvdG90eXBlLmFkZEVudHJ5PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lLmtleSxpPXRoaXMuZG9jcy5nZXQociksbz1pP2kuc2l6ZTowLGk9dGhpcy5scyhlKTtyZXR1cm4gdGhpcy5kb2NzPXRoaXMuZG9jcy5pbnNlcnQocix7ZG9jdW1lbnQ6ZS5jbG9uZSgpLHNpemU6aSxyZWFkVGltZTpufSksdGhpcy5zaXplKz1pLW8sdGhpcy5VdC5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleCh0LHIucGF0aC5wb3BMYXN0KCkpfSxDaC5wcm90b3R5cGUucmVtb3ZlRW50cnk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kb2NzLmdldCh0KTtlJiYodGhpcy5kb2NzPXRoaXMuZG9jcy5yZW1vdmUodCksdGhpcy5zaXplLT1lLnNpemUpfSxDaC5wcm90b3R5cGUuZ2V0RW50cnk9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmRvY3MuZ2V0KGUpO3JldHVybiB0dS5yZXNvbHZlKG4/bi5kb2N1bWVudC5jbG9uZSgpOk9pLm5ld0ludmFsaWREb2N1bWVudChlKSl9LENoLnByb3RvdHlwZS5nZXRFbnRyaWVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPVBzO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9bi5kb2NzLmdldCh0KTtyPXIuaW5zZXJ0KHQsZT9lLmRvY3VtZW50LmNsb25lKCk6T2kubmV3SW52YWxpZERvY3VtZW50KHQpKX0pLHR1LnJlc29sdmUocil9LENoLnByb3RvdHlwZS5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9UHMsaT1uZXcgbWkoZS5wYXRoLmNoaWxkKFwiXCIpKSxvPXRoaXMuZG9jcy5nZXRJdGVyYXRvckZyb20oaSk7by5oYXNOZXh0KCk7KXt2YXIgcz1vLmdldE5leHQoKSxhPXMua2V5LHU9cy52YWx1ZSxzPXUuZG9jdW1lbnQsdT11LnJlYWRUaW1lO2lmKCFlLnBhdGguaXNQcmVmaXhPZihhLnBhdGgpKWJyZWFrO3UuY29tcGFyZVRvKG4pPD0wfHxSbyhlLHMpJiYocj1yLmluc2VydChzLmtleSxzLmNsb25lKCkpKX1yZXR1cm4gdHUucmVzb2x2ZShyKX0sQ2gucHJvdG90eXBlLmZzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR1LmZvckVhY2godGhpcy5kb2NzLGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSl9LENoLnByb3RvdHlwZS5uZXdDaGFuZ2VCdWZmZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB2aCh0aGlzKX0sQ2gucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHR1LnJlc29sdmUodGhpcy5zaXplKX0sQ2gpLHZoPShuKGtoLGZoPUkpLGtoLnByb3RvdHlwZS5hcHBseUNoYW5nZXM9ZnVuY3Rpb24obil7dmFyIHI9dGhpcyxpPVtdO3JldHVybiB0aGlzLmNoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0LGUpe2UuZG9jdW1lbnQuaXNWYWxpZERvY3VtZW50KCk/aS5wdXNoKHIuSWUuYWRkRW50cnkobixlLmRvY3VtZW50LHIuZ2V0UmVhZFRpbWUodCkpKTpyLkllLnJlbW92ZUVudHJ5KHQpfSksdHUud2FpdEZvcihpKX0sa2gucHJvdG90eXBlLmdldEZyb21DYWNoZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLkllLmdldEVudHJ5KHQsZSl9LGtoLnByb3RvdHlwZS5nZXRBbGxGcm9tQ2FjaGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5JZS5nZXRFbnRyaWVzKHQsZSl9LGtoKSxiaD0oQWgucHJvdG90eXBlLmZvckVhY2hUYXJnZXQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy5kcy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4oZSl9KSx0dS5yZXNvbHZlKCl9LEFoLnByb3RvdHlwZS5nZXRMYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0dS5yZXNvbHZlKHRoaXMubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbil9LEFoLnByb3RvdHlwZS5nZXRIaWdoZXN0U2VxdWVuY2VOdW1iZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHR1LnJlc29sdmUodGhpcy53cyl9LEFoLnByb3RvdHlwZS5hbGxvY2F0ZVRhcmdldElkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhpZ2hlc3RUYXJnZXRJZD10aGlzLnlzLm5leHQoKSx0dS5yZXNvbHZlKHRoaXMuaGlnaGVzdFRhcmdldElkKX0sQWgucHJvdG90eXBlLnNldFRhcmdldHNNZXRhZGF0YT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG4mJih0aGlzLmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb249biksZT50aGlzLndzJiYodGhpcy53cz1lKSx0dS5yZXNvbHZlKCl9LEFoLnByb3RvdHlwZS50ZT1mdW5jdGlvbih0KXt0aGlzLmRzLnNldCh0LnRhcmdldCx0KTt2YXIgZT10LnRhcmdldElkO2U+dGhpcy5oaWdoZXN0VGFyZ2V0SWQmJih0aGlzLnlzPW5ldyBzYyhlKSx0aGlzLmhpZ2hlc3RUYXJnZXRJZD1lKSx0LnNlcXVlbmNlTnVtYmVyPnRoaXMud3MmJih0aGlzLndzPXQuc2VxdWVuY2VOdW1iZXIpfSxBaC5wcm90b3R5cGUuYWRkVGFyZ2V0RGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRlKGUpLHRoaXMudGFyZ2V0Q291bnQrPTEsdHUucmVzb2x2ZSgpfSxBaC5wcm90b3R5cGUudXBkYXRlVGFyZ2V0RGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRlKGUpLHR1LnJlc29sdmUoKX0sQWgucHJvdG90eXBlLnJlbW92ZVRhcmdldERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kcy5kZWxldGUoZS50YXJnZXQpLHRoaXMuX3MuWm4oZS50YXJnZXRJZCksLS10aGlzLnRhcmdldENvdW50LHR1LnJlc29sdmUoKX0sQWgucHJvdG90eXBlLnJlbW92ZVRhcmdldHM9ZnVuY3Rpb24obixyLGkpe3ZhciBvPXRoaXMscz0wLGE9W107cmV0dXJuIHRoaXMuZHMuZm9yRWFjaChmdW5jdGlvbih0LGUpe2Uuc2VxdWVuY2VOdW1iZXI8PXImJm51bGw9PT1pLmdldChlLnRhcmdldElkKSYmKG8uZHMuZGVsZXRlKHQpLGEucHVzaChvLnJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkKG4sZS50YXJnZXRJZCkpLHMrKyl9KSx0dS53YWl0Rm9yKGEpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gc30pfSxBaC5wcm90b3R5cGUuZ2V0VGFyZ2V0Q291bnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHR1LnJlc29sdmUodGhpcy50YXJnZXRDb3VudCl9LEFoLnByb3RvdHlwZS5nZXRUYXJnZXREYXRhPWZ1bmN0aW9uKHQsZSl7ZT10aGlzLmRzLmdldChlKXx8bnVsbDtyZXR1cm4gdHUucmVzb2x2ZShlKX0sQWgucHJvdG90eXBlLmFkZE1hdGNoaW5nS2V5cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuX3MuSm4oZSxuKSx0dS5yZXNvbHZlKCl9LEFoLnByb3RvdHlwZS5yZW1vdmVNYXRjaGluZ0tleXM9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuX3MuWG4odCxuKTt2YXIgcj10aGlzLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLGk9W107cmV0dXJuIHImJnQuZm9yRWFjaChmdW5jdGlvbih0KXtpLnB1c2goci5tYXJrUG90ZW50aWFsbHlPcnBoYW5lZChlLHQpKX0pLHR1LndhaXRGb3IoaSl9LEFoLnByb3RvdHlwZS5yZW1vdmVNYXRjaGluZ0tleXNGb3JUYXJnZXRJZD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9zLlpuKGUpLHR1LnJlc29sdmUoKX0sQWgucHJvdG90eXBlLmdldE1hdGNoaW5nS2V5c0ZvclRhcmdldElkPWZ1bmN0aW9uKHQsZSl7ZT10aGlzLl9zLmVzKGUpO3JldHVybiB0dS5yZXNvbHZlKGUpfSxBaC5wcm90b3R5cGUuY29udGFpbnNLZXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdHUucmVzb2x2ZSh0aGlzLl9zLmNvbnRhaW5zS2V5KGUpKX0sQWgpLHdoPShEaC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9LERoLnByb3RvdHlwZS5zaHV0ZG93bj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhlPSExLFByb21pc2UucmVzb2x2ZSgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRGgucHJvdG90eXBlLFwic3RhcnRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxEaC5wcm90b3R5cGUuc2V0RGF0YWJhc2VEZWxldGVkTGlzdGVuZXI9ZnVuY3Rpb24oKXt9LERoLnByb3RvdHlwZS5zZXROZXR3b3JrRW5hYmxlZD1mdW5jdGlvbigpe30sRGgucHJvdG90eXBlLmdldEluZGV4TWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlV0fSxEaC5wcm90b3R5cGUuZ2V0TXV0YXRpb25RdWV1ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdzW3QudG9LZXkoKV07cmV0dXJuIGV8fChlPW5ldyBnaCh0aGlzLlV0LHRoaXMucmVmZXJlbmNlRGVsZWdhdGUpLHRoaXMuZ3NbdC50b0tleSgpXT1lKSxlfSxEaC5wcm90b3R5cGUuZ2V0VGFyZ2V0Q2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xZX0sRGgucHJvdG90eXBlLmdldFJlbW90ZURvY3VtZW50Q2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5VZX0sRGgucHJvdG90eXBlLmdldEJ1bmRsZUNhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUWV9LERoLnByb3RvdHlwZS5ydW5UcmFuc2FjdGlvbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpczt4cihcIk1lbW9yeVBlcnNpc3RlbmNlXCIsXCJTdGFydGluZyB0cmFuc2FjdGlvbjpcIix0KTt2YXIgaT1uZXcgSWgodGhpcy5OZS5uZXh0KCkpO3JldHVybiB0aGlzLnJlZmVyZW5jZURlbGVnYXRlLkVzKCksbihpKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiByLnJlZmVyZW5jZURlbGVnYXRlLlRzKGkpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdH0pfSkudG9Qcm9taXNlKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaS5yYWlzZU9uQ29tbWl0dGVkRXZlbnQoKSx0fSl9LERoLnByb3RvdHlwZS5Jcz1mdW5jdGlvbihlLG4pe3JldHVybiB0dS5vcihPYmplY3QudmFsdWVzKHRoaXMuZ3MpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5jb250YWluc0tleShlLG4pfX0pKX0sRGgpLEloPShuKE5oLGxoPVRlKSxOaCksRWg9KFNoLmJzPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgU2godCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaC5wcm90b3R5cGUsXCJ2c1wiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLlJzKXJldHVybiB0aGlzLlJzO3Rocm93IE1yKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksU2gucHJvdG90eXBlLmFkZFJlZmVyZW5jZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuQXMuYWRkUmVmZXJlbmNlKG4sZSksdGhpcy52cy5kZWxldGUobi50b1N0cmluZygpKSx0dS5yZXNvbHZlKCl9LFNoLnByb3RvdHlwZS5yZW1vdmVSZWZlcmVuY2U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLkFzLnJlbW92ZVJlZmVyZW5jZShuLGUpLHRoaXMudnMuYWRkKG4udG9TdHJpbmcoKSksdHUucmVzb2x2ZSgpfSxTaC5wcm90b3R5cGUubWFya1BvdGVudGlhbGx5T3JwaGFuZWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy52cy5hZGQoZS50b1N0cmluZygpKSx0dS5yZXNvbHZlKCl9LFNoLnByb3RvdHlwZS5yZW1vdmVUYXJnZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMuQXMuWm4oZS50YXJnZXRJZCkuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi52cy5hZGQodC50b1N0cmluZygpKX0pO3ZhciByPXRoaXMucGVyc2lzdGVuY2UuZ2V0VGFyZ2V0Q2FjaGUoKTtyZXR1cm4gci5nZXRNYXRjaGluZ0tleXNGb3JUYXJnZXRJZCh0LGUudGFyZ2V0SWQpLm5leHQoZnVuY3Rpb24odCl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLnZzLmFkZCh0LnRvU3RyaW5nKCkpfSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHIucmVtb3ZlVGFyZ2V0RGF0YSh0LGUpfSl9LFNoLnByb3RvdHlwZS5Fcz1mdW5jdGlvbigpe3RoaXMuUnM9bmV3IFNldH0sU2gucHJvdG90eXBlLlRzPWZ1bmN0aW9uKG4pe3ZhciByPXRoaXMsaT10aGlzLnBlcnNpc3RlbmNlLmdldFJlbW90ZURvY3VtZW50Q2FjaGUoKS5uZXdDaGFuZ2VCdWZmZXIoKTtyZXR1cm4gdHUuZm9yRWFjaCh0aGlzLnZzLGZ1bmN0aW9uKHQpe3ZhciBlPW1pLmZyb21QYXRoKHQpO3JldHVybiByLlBzKG4sZSkubmV4dChmdW5jdGlvbih0KXt0fHxpLnJlbW92ZUVudHJ5KGUpfSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHIuUnM9bnVsbCxpLmFwcGx5KG4pfSl9LFNoLnByb3RvdHlwZS51cGRhdGVMaW1ib0RvY3VtZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5Qcyh0LGUpLm5leHQoZnVuY3Rpb24odCl7dD9uLnZzLmRlbGV0ZShlLnRvU3RyaW5nKCkpOm4udnMuYWRkKGUudG9TdHJpbmcoKSl9KX0sU2gucHJvdG90eXBlLnBzPWZ1bmN0aW9uKHQpe3JldHVybiAwfSxTaC5wcm90b3R5cGUuUHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0dS5vcihbZnVuY3Rpb24oKXtyZXR1cm4gdHUucmVzb2x2ZShuLkFzLmNvbnRhaW5zS2V5KGUpKX0sZnVuY3Rpb24oKXtyZXR1cm4gbi5wZXJzaXN0ZW5jZS5nZXRUYXJnZXRDYWNoZSgpLmNvbnRhaW5zS2V5KHQsZSl9LGZ1bmN0aW9uKCl7cmV0dXJuIG4ucGVyc2lzdGVuY2UuSXModCxlKX1dKX0sU2gpLFRoPShfaC5wcm90b3R5cGUuaXNBdXRoZW50aWNhdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMudWlkfSxfaC5wcm90b3R5cGUudG9LZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0F1dGhlbnRpY2F0ZWQoKT9cInVpZDpcIit0aGlzLnVpZDpcImFub255bW91cy11c2VyXCJ9LF9oLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0LnVpZD09PXRoaXMudWlkfSxfaCk7ZnVuY3Rpb24gX2godCl7dGhpcy51aWQ9dH1mdW5jdGlvbiBTaCh0KXt0aGlzLnBlcnNpc3RlbmNlPXQsdGhpcy5Bcz1uZXcgcGgsdGhpcy5Scz1udWxsfWZ1bmN0aW9uIE5oKHQpe3ZhciBlPXRoaXM7cmV0dXJuKGU9bGguY2FsbCh0aGlzKXx8dGhpcykuY3VycmVudFNlcXVlbmNlTnVtYmVyPXQsZX1mdW5jdGlvbiBEaCh0LGUpe3ZhciBuPXRoaXM7dGhpcy5ncz17fSx0aGlzLk5lPW5ldyBfcigwKSx0aGlzLnhlPSExLHRoaXMueGU9ITAsdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZT10KHRoaXMpLHRoaXMucWU9bmV3IGJoKHRoaXMpLHRoaXMuVXQ9bmV3IGp1LHRoaXMuVWU9KHQ9dGhpcy5VdCxuZXcgbWgodCxmdW5jdGlvbih0KXtyZXR1cm4gbi5yZWZlcmVuY2VEZWxlZ2F0ZS5wcyh0KX0pKSx0aGlzLlI9bmV3IF91KGUpLHRoaXMuUWU9bmV3IGRoKHRoaXMuUil9ZnVuY3Rpb24gQWgodCl7dGhpcy5wZXJzaXN0ZW5jZT10LHRoaXMuZHM9bmV3IFNjKEZpLFZpKSx0aGlzLmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb249R3IubWluKCksdGhpcy5oaWdoZXN0VGFyZ2V0SWQ9MCx0aGlzLndzPTAsdGhpcy5fcz1uZXcgcGgsdGhpcy50YXJnZXRDb3VudD0wLHRoaXMueXM9c2MuSnQoKX1mdW5jdGlvbiBraCh0KXt2YXIgZT10aGlzO3JldHVybihlPWZoLmNhbGwodGhpcyl8fHRoaXMpLkllPXQsZX1mdW5jdGlvbiBDaCh0LGUpe3RoaXMuVXQ9dCx0aGlzLmxzPWUsdGhpcy5kb2NzPW5ldyBOcyhtaS5jb21wYXJhdG9yKSx0aGlzLnNpemU9MH1mdW5jdGlvbiBSaCh0LGUpe3RoaXMuVXQ9dCx0aGlzLnJlZmVyZW5jZURlbGVnYXRlPWUsdGhpcy5fbj1bXSx0aGlzLnNzPTEsdGhpcy5ycz1uZXcgT3MoeWguR24pfWZ1bmN0aW9uIHhoKHQsZSl7dGhpcy5rZXk9dCx0aGlzLm5zPWV9ZnVuY3Rpb24gT2goKXt0aGlzLlduPW5ldyBPcyh5aC5HbiksdGhpcy56bj1uZXcgT3MoeWguSG4pfWZ1bmN0aW9uIExoKHQpe3RoaXMuUj10LHRoaXMuS249bmV3IE1hcCx0aGlzLmpuPW5ldyBNYXB9ZnVuY3Rpb24gUGgodCxlKXtyZXR1cm5cImZpcmVzdG9yZV9jbGllbnRzX1wiK3QrXCJfXCIrZX1mdW5jdGlvbiBNaCh0LGUsbil7bj1cImZpcmVzdG9yZV9tdXRhdGlvbnNfXCIrdCtcIl9cIituO3JldHVybiBlLmlzQXV0aGVudGljYXRlZCgpJiYobis9XCJfXCIrZS51aWQpLG59ZnVuY3Rpb24gRmgodCxlKXtyZXR1cm5cImZpcmVzdG9yZV90YXJnZXRzX1wiK3QrXCJfXCIrZX1UaC5VTkFVVEhFTlRJQ0FURUQ9bmV3IFRoKG51bGwpLFRoLkdPT0dMRV9DUkVERU5USUFMUz1uZXcgVGgoXCJnb29nbGUtY3JlZGVudGlhbHMtdWlkXCIpLFRoLkZJUlNUX1BBUlRZPW5ldyBUaChcImZpcnN0LXBhcnR5LXVpZFwiKTt2YXIgVmgsVWg9KHVsLlZzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpPUpTT04ucGFyc2Uobiksbz1cIm9iamVjdFwiPT10eXBlb2YgaSYmLTEhPT1bXCJwZW5kaW5nXCIsXCJhY2tub3dsZWRnZWRcIixcInJlamVjdGVkXCJdLmluZGV4T2YoaS5zdGF0ZSkmJih2b2lkIDA9PT1pLmVycm9yfHxcIm9iamVjdFwiPT10eXBlb2YgaS5lcnJvcik7cmV0dXJuIG8mJmkuZXJyb3ImJihvPVwic3RyaW5nXCI9PXR5cGVvZiBpLmVycm9yLm1lc3NhZ2UmJlwic3RyaW5nXCI9PXR5cGVvZiBpLmVycm9yLmNvZGUpJiYocj1uZXcgQXIoaS5lcnJvci5jb2RlLGkuZXJyb3IubWVzc2FnZSkpLG8/bmV3IHVsKHQsZSxpLnN0YXRlLHIpOihPcihcIlNoYXJlZENsaWVudFN0YXRlXCIsXCJGYWlsZWQgdG8gcGFyc2UgbXV0YXRpb24gc3RhdGUgZm9yIElEICdcIitlK1wiJzogXCIrbiksbnVsbCl9LHVsLnByb3RvdHlwZS5Tcz1mdW5jdGlvbigpe3ZhciB0PXtzdGF0ZTp0aGlzLnN0YXRlLHVwZGF0ZVRpbWVNczpEYXRlLm5vdygpfTtyZXR1cm4gdGhpcy5lcnJvciYmKHQuZXJyb3I9e2NvZGU6dGhpcy5lcnJvci5jb2RlLG1lc3NhZ2U6dGhpcy5lcnJvci5tZXNzYWdlfSksSlNPTi5zdHJpbmdpZnkodCl9LHVsKSxxaD0oYWwuVnM9ZnVuY3Rpb24odCxlKXt2YXIgbixyPUpTT04ucGFyc2UoZSksaT1cIm9iamVjdFwiPT10eXBlb2YgciYmLTEhPT1bXCJub3QtY3VycmVudFwiLFwiY3VycmVudFwiLFwicmVqZWN0ZWRcIl0uaW5kZXhPZihyLnN0YXRlKSYmKHZvaWQgMD09PXIuZXJyb3J8fFwib2JqZWN0XCI9PXR5cGVvZiByLmVycm9yKTtyZXR1cm4gaSYmci5lcnJvciYmKGk9XCJzdHJpbmdcIj09dHlwZW9mIHIuZXJyb3IubWVzc2FnZSYmXCJzdHJpbmdcIj09dHlwZW9mIHIuZXJyb3IuY29kZSkmJihuPW5ldyBBcihyLmVycm9yLmNvZGUsci5lcnJvci5tZXNzYWdlKSksaT9uZXcgYWwodCxyLnN0YXRlLG4pOihPcihcIlNoYXJlZENsaWVudFN0YXRlXCIsXCJGYWlsZWQgdG8gcGFyc2UgdGFyZ2V0IHN0YXRlIGZvciBJRCAnXCIrdCtcIic6IFwiK2UpLG51bGwpfSxhbC5wcm90b3R5cGUuU3M9ZnVuY3Rpb24oKXt2YXIgdD17c3RhdGU6dGhpcy5zdGF0ZSx1cGRhdGVUaW1lTXM6RGF0ZS5ub3coKX07cmV0dXJuIHRoaXMuZXJyb3ImJih0LmVycm9yPXtjb2RlOnRoaXMuZXJyb3IuY29kZSxtZXNzYWdlOnRoaXMuZXJyb3IubWVzc2FnZX0pLEpTT04uc3RyaW5naWZ5KHQpfSxhbCksQmg9KHNsLlZzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPUpTT04ucGFyc2UoZSkscj1cIm9iamVjdFwiPT10eXBlb2YgbiYmbi5hY3RpdmVUYXJnZXRJZHMgaW5zdGFuY2VvZiBBcnJheSxpPWpzLG89MDtyJiZvPG4uYWN0aXZlVGFyZ2V0SWRzLmxlbmd0aDsrK28pcj1naShuLmFjdGl2ZVRhcmdldElkc1tvXSksaT1pLmFkZChuLmFjdGl2ZVRhcmdldElkc1tvXSk7cmV0dXJuIHI/bmV3IHNsKHQsaSk6KE9yKFwiU2hhcmVkQ2xpZW50U3RhdGVcIixcIkZhaWxlZCB0byBwYXJzZSBjbGllbnQgZGF0YSBmb3IgaW5zdGFuY2UgJ1wiK3QrXCInOiBcIitlKSxudWxsKX0sc2wpLGpoPShvbC5Wcz1mdW5jdGlvbih0KXt2YXIgZT1KU09OLnBhcnNlKHQpO3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiYtMSE9PVtcIlVua25vd25cIixcIk9ubGluZVwiLFwiT2ZmbGluZVwiXS5pbmRleE9mKGUub25saW5lU3RhdGUpJiZcInN0cmluZ1wiPT10eXBlb2YgZS5jbGllbnRJZD9uZXcgb2woZS5jbGllbnRJZCxlLm9ubGluZVN0YXRlKTooT3IoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLFwiRmFpbGVkIHRvIHBhcnNlIG9ubGluZSBzdGF0ZTogXCIrdCksbnVsbCl9LG9sKSxLaD0oaWwucHJvdG90eXBlLkRzPWZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZlVGFyZ2V0SWRzPXRoaXMuYWN0aXZlVGFyZ2V0SWRzLmFkZCh0KX0saWwucHJvdG90eXBlLkNzPWZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZlVGFyZ2V0SWRzPXRoaXMuYWN0aXZlVGFyZ2V0SWRzLmRlbGV0ZSh0KX0saWwucHJvdG90eXBlLlNzPWZ1bmN0aW9uKCl7dmFyIHQ9e2FjdGl2ZVRhcmdldElkczp0aGlzLmFjdGl2ZVRhcmdldElkcy50b0FycmF5KCksdXBkYXRlVGltZU1zOkRhdGUubm93KCl9O3JldHVybiBKU09OLnN0cmluZ2lmeSh0KX0saWwpLEdoPShybC55dD1mdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdC5sb2NhbFN0b3JhZ2UpfSxybC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxvLHMsYSx1LGMsaCxsPXRoaXM7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3luY0VuZ2luZS5mbigpXTtjYXNlIDE6Zm9yKHM9dC5zZW50KCksZT0wLG49cztlPG4ubGVuZ3RoO2UrKykocj1uW2VdKSE9PXRoaXMuTnMmJihpPXRoaXMuZ2V0SXRlbShQaCh0aGlzLnBlcnNpc3RlbmNlS2V5LHIpKSkmJihvPUJoLlZzKHIsaSkpJiYodGhpcy5rcz10aGlzLmtzLmluc2VydChvLmNsaWVudElkLG8pKTtmb3IodGhpcy5LcygpLChzPXRoaXMuc3RvcmFnZS5nZXRJdGVtKHRoaXMuVXMpKSYmKGE9dGhpcy5qcyhzKSkmJnRoaXMuV3MoYSksdT0wLGM9dGhpcy5Pczt1PGMubGVuZ3RoO3UrKyloPWNbdV0sdGhpcy5GcyhoKTtyZXR1cm4gdGhpcy5Pcz1bXSx0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsZnVuY3Rpb24oKXtyZXR1cm4gbC5zaHV0ZG93bigpfSksdGhpcy5zdGFydGVkPSEwLFsyXX19KX0pfSxybC5wcm90b3R5cGUud3JpdGVTZXF1ZW5jZU51bWJlcj1mdW5jdGlvbih0KXt0aGlzLnNldEl0ZW0odGhpcy5NcyxKU09OLnN0cmluZ2lmeSh0KSl9LHJsLnByb3RvdHlwZS5nZXRBbGxBY3RpdmVRdWVyeVRhcmdldHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Hcyh0aGlzLmtzKX0scmwucHJvdG90eXBlLmlzQWN0aXZlUXVlcnlUYXJnZXQ9ZnVuY3Rpb24obil7dmFyIHI9ITE7cmV0dXJuIHRoaXMua3MuZm9yRWFjaChmdW5jdGlvbih0LGUpe2UuYWN0aXZlVGFyZ2V0SWRzLmhhcyhuKSYmKHI9ITApfSkscn0scmwucHJvdG90eXBlLmFkZFBlbmRpbmdNdXRhdGlvbj1mdW5jdGlvbih0KXt0aGlzLnpzKHQsXCJwZW5kaW5nXCIpfSxybC5wcm90b3R5cGUudXBkYXRlTXV0YXRpb25TdGF0ZT1mdW5jdGlvbih0LGUsbil7dGhpcy56cyh0LGUsbiksdGhpcy5Icyh0KX0scmwucHJvdG90eXBlLmFkZExvY2FsUXVlcnlUYXJnZXQ9ZnVuY3Rpb24odCl7dmFyIGUsbj1cIm5vdC1jdXJyZW50XCI7cmV0dXJuIHRoaXMuaXNBY3RpdmVRdWVyeVRhcmdldCh0KSYmKCEoZT10aGlzLnN0b3JhZ2UuZ2V0SXRlbShGaCh0aGlzLnBlcnNpc3RlbmNlS2V5LHQpKSl8fChlPXFoLlZzKHQsZSkpJiYobj1lLnN0YXRlKSksdGhpcy5Kcy5Ecyh0KSx0aGlzLktzKCksbn0scmwucHJvdG90eXBlLnJlbW92ZUxvY2FsUXVlcnlUYXJnZXQ9ZnVuY3Rpb24odCl7dGhpcy5Kcy5Dcyh0KSx0aGlzLktzKCl9LHJsLnByb3RvdHlwZS5pc0xvY2FsUXVlcnlUYXJnZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuSnMuYWN0aXZlVGFyZ2V0SWRzLmhhcyh0KX0scmwucHJvdG90eXBlLmNsZWFyUXVlcnlTdGF0ZT1mdW5jdGlvbih0KXt0aGlzLnJlbW92ZUl0ZW0oRmgodGhpcy5wZXJzaXN0ZW5jZUtleSx0KSl9LHJsLnByb3RvdHlwZS51cGRhdGVRdWVyeVN0YXRlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLllzKHQsZSxuKX0scmwucHJvdG90eXBlLmhhbmRsZVVzZXJDaGFuZ2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3IuSHModCl9KSx0aGlzLmN1cnJlbnRVc2VyPXQsbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3IuYWRkUGVuZGluZ011dGF0aW9uKHQpfSl9LHJsLnByb3RvdHlwZS5zZXRPbmxpbmVTdGF0ZT1mdW5jdGlvbih0KXt0aGlzLlhzKHQpfSxybC5wcm90b3R5cGUubm90aWZ5QnVuZGxlTG9hZGVkPWZ1bmN0aW9uKCl7dGhpcy5acygpfSxybC5wcm90b3R5cGUuc2h1dGRvd249ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0ZWQmJih0aGlzLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLHRoaXMueHMpLHRoaXMucmVtb3ZlSXRlbSh0aGlzLiRzKSx0aGlzLnN0YXJ0ZWQ9ITEpfSxybC5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0b3JhZ2UuZ2V0SXRlbSh0KTtyZXR1cm4geHIoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLFwiUkVBRFwiLHQsZSksZX0scmwucHJvdG90eXBlLnNldEl0ZW09ZnVuY3Rpb24odCxlKXt4cihcIlNoYXJlZENsaWVudFN0YXRlXCIsXCJTRVRcIix0LGUpLHRoaXMuc3RvcmFnZS5zZXRJdGVtKHQsZSl9LHJsLnByb3RvdHlwZS5yZW1vdmVJdGVtPWZ1bmN0aW9uKHQpe3hyKFwiU2hhcmVkQ2xpZW50U3RhdGVcIixcIlJFTU9WRVwiLHQpLHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKHQpfSxybC5wcm90b3R5cGUuRnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxvPXQ7by5zdG9yYWdlQXJlYT09PXRoaXMuc3RvcmFnZSYmKHhyKFwiU2hhcmVkQ2xpZW50U3RhdGVcIixcIkVWRU5UXCIsby5rZXksby5uZXdWYWx1ZSksby5rZXkhPT10aGlzLiRzP3RoaXMuU2UuZW5xdWV1ZVJldHJ5YWJsZShmdW5jdGlvbigpe3JldHVybiB5KGUsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scixpO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7aWYodGhpcy5zdGFydGVkKXtpZihudWxsIT09by5rZXkpaWYodGhpcy5Mcy50ZXN0KG8ua2V5KSl7aWYobnVsbD09by5uZXdWYWx1ZSlyZXR1cm4gZT10aGlzLnRpKG8ua2V5KSxbMix0aGlzLmVpKGUsbnVsbCldO2lmKGU9dGhpcy5uaShvLmtleSxvLm5ld1ZhbHVlKSlyZXR1cm5bMix0aGlzLmVpKGUuY2xpZW50SWQsZSldfWVsc2UgaWYodGhpcy5Ccy50ZXN0KG8ua2V5KSl7aWYobnVsbCE9PW8ubmV3VmFsdWUmJihuPXRoaXMuc2koby5rZXksby5uZXdWYWx1ZSkpKXJldHVyblsyLHRoaXMuaWkobildfWVsc2UgaWYodGhpcy5xcy50ZXN0KG8ua2V5KSl7aWYobnVsbCE9PW8ubmV3VmFsdWUmJihyPXRoaXMucmkoby5rZXksby5uZXdWYWx1ZSkpKXJldHVyblsyLHRoaXMub2kocildfWVsc2UgaWYoby5rZXk9PT10aGlzLlVzKXtpZihudWxsIT09by5uZXdWYWx1ZSYmKGk9dGhpcy5qcyhvLm5ld1ZhbHVlKSkpcmV0dXJuWzIsdGhpcy5XcyhpKV19ZWxzZSBpZihvLmtleT09PXRoaXMuTXMpKGk9ZnVuY3Rpb24odCl7dmFyIGU9X3IubztpZihudWxsIT10KXRyeXt2YXIgbj1KU09OLnBhcnNlKHQpO0ZyKFwibnVtYmVyXCI9PXR5cGVvZiBuKSxlPW59Y2F0Y2godCl7T3IoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLFwiRmFpbGVkIHRvIHJlYWQgc2VxdWVuY2UgbnVtYmVyIGZyb20gV2ViU3RvcmFnZVwiLHQpfXJldHVybiBlfShvLm5ld1ZhbHVlKSkhPT1fci5vJiZ0aGlzLnNlcXVlbmNlTnVtYmVySGFuZGxlcihpKTtlbHNlIGlmKG8ua2V5PT09dGhpcy5RcylyZXR1cm5bMix0aGlzLnN5bmNFbmdpbmUuY2koKV19ZWxzZSB0aGlzLk9zLnB1c2gobyk7cmV0dXJuWzJdfSl9KX0pOk9yKFwiUmVjZWl2ZWQgV2ViU3RvcmFnZSBub3RpZmljYXRpb24gZm9yIGxvY2FsIGNoYW5nZS4gQW5vdGhlciBjbGllbnQgbWlnaHQgaGF2ZSBnYXJiYWdlLWNvbGxlY3RlZCBvdXIgc3RhdGVcIikpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocmwucHJvdG90eXBlLFwiSnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMua3MuZ2V0KHRoaXMuTnMpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHJsLnByb3RvdHlwZS5Lcz1mdW5jdGlvbigpe3RoaXMuc2V0SXRlbSh0aGlzLiRzLHRoaXMuSnMuU3MoKSl9LHJsLnByb3RvdHlwZS56cz1mdW5jdGlvbih0LGUsbil7bj1uZXcgVWgodGhpcy5jdXJyZW50VXNlcix0LGUsbiksdD1NaCh0aGlzLnBlcnNpc3RlbmNlS2V5LHRoaXMuY3VycmVudFVzZXIsdCk7dGhpcy5zZXRJdGVtKHQsbi5TcygpKX0scmwucHJvdG90eXBlLkhzPWZ1bmN0aW9uKHQpe3Q9TWgodGhpcy5wZXJzaXN0ZW5jZUtleSx0aGlzLmN1cnJlbnRVc2VyLHQpO3RoaXMucmVtb3ZlSXRlbSh0KX0scmwucHJvdG90eXBlLlhzPWZ1bmN0aW9uKHQpe3Q9e2NsaWVudElkOnRoaXMuTnMsb25saW5lU3RhdGU6dH07dGhpcy5zdG9yYWdlLnNldEl0ZW0odGhpcy5VcyxKU09OLnN0cmluZ2lmeSh0KSl9LHJsLnByb3RvdHlwZS5Zcz1mdW5jdGlvbih0LGUsbil7dmFyIHI9RmgodGhpcy5wZXJzaXN0ZW5jZUtleSx0KSxuPW5ldyBxaCh0LGUsbik7dGhpcy5zZXRJdGVtKHIsbi5TcygpKX0scmwucHJvdG90eXBlLlpzPWZ1bmN0aW9uKCl7dGhpcy5zZXRJdGVtKHRoaXMuUXMsXCJ2YWx1ZS1ub3QtdXNlZFwiKX0scmwucHJvdG90eXBlLnRpPWZ1bmN0aW9uKHQpe3Q9dGhpcy5Mcy5leGVjKHQpO3JldHVybiB0P3RbMV06bnVsbH0scmwucHJvdG90eXBlLm5pPWZ1bmN0aW9uKHQsZSl7dD10aGlzLnRpKHQpO3JldHVybiBCaC5Wcyh0LGUpfSxybC5wcm90b3R5cGUuc2k9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLkJzLmV4ZWModCksdD1OdW1iZXIoblsxXSksbj12b2lkIDAhPT1uWzJdP25bMl06bnVsbDtyZXR1cm4gVWguVnMobmV3IFRoKG4pLHQsZSl9LHJsLnByb3RvdHlwZS5yaT1mdW5jdGlvbih0LGUpe3Q9dGhpcy5xcy5leGVjKHQpLHQ9TnVtYmVyKHRbMV0pO3JldHVybiBxaC5Wcyh0LGUpfSxybC5wcm90b3R5cGUuanM9ZnVuY3Rpb24odCl7cmV0dXJuIGpoLlZzKHQpfSxybC5wcm90b3R5cGUuaWk9ZnVuY3Rpb24oZSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gZS51c2VyLnVpZD09PXRoaXMuY3VycmVudFVzZXIudWlkP1syLHRoaXMuc3luY0VuZ2luZS51aShlLmJhdGNoSWQsZS5zdGF0ZSxlLmVycm9yKV06KHhyKFwiU2hhcmVkQ2xpZW50U3RhdGVcIixcIklnbm9yaW5nIG11dGF0aW9uIGZvciBub24tYWN0aXZlIHVzZXIgXCIrZS51c2VyLnVpZCksWzJdKX0pfSl9LHJsLnByb3RvdHlwZS5vaT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zeW5jRW5naW5lLmFpKHQudGFyZ2V0SWQsdC5zdGF0ZSx0LmVycm9yKX0scmwucHJvdG90eXBlLmVpPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPWU/dGhpcy5rcy5pbnNlcnQodCxlKTp0aGlzLmtzLnJlbW92ZSh0KSxpPXRoaXMuR3ModGhpcy5rcyksbz10aGlzLkdzKHIpLHM9W10sYT1bXTtyZXR1cm4gby5mb3JFYWNoKGZ1bmN0aW9uKHQpe2kuaGFzKHQpfHxzLnB1c2godCl9KSxpLmZvckVhY2goZnVuY3Rpb24odCl7by5oYXModCl8fGEucHVzaCh0KX0pLHRoaXMuc3luY0VuZ2luZS5oaShzLGEpLnRoZW4oZnVuY3Rpb24oKXtuLmtzPXJ9KX0scmwucHJvdG90eXBlLldzPWZ1bmN0aW9uKHQpe3RoaXMua3MuZ2V0KHQuY2xpZW50SWQpJiZ0aGlzLm9ubGluZVN0YXRlSGFuZGxlcih0Lm9ubGluZVN0YXRlKX0scmwucHJvdG90eXBlLkdzPWZ1bmN0aW9uKHQpe3ZhciBuPWpzO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCxlKXtuPW4udW5pb25XaXRoKGUuYWN0aXZlVGFyZ2V0SWRzKX0pLG59LHJsKSxRaD0obmwucHJvdG90eXBlLmFkZFBlbmRpbmdNdXRhdGlvbj1mdW5jdGlvbih0KXt9LG5sLnByb3RvdHlwZS51cGRhdGVNdXRhdGlvblN0YXRlPWZ1bmN0aW9uKHQsZSxuKXt9LG5sLnByb3RvdHlwZS5hZGRMb2NhbFF1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxpLkRzKHQpLHRoaXMuZmlbdF18fFwibm90LWN1cnJlbnRcIn0sbmwucHJvdG90eXBlLnVwZGF0ZVF1ZXJ5U3RhdGU9ZnVuY3Rpb24odCxlLG4pe3RoaXMuZmlbdF09ZX0sbmwucHJvdG90eXBlLnJlbW92ZUxvY2FsUXVlcnlUYXJnZXQ9ZnVuY3Rpb24odCl7dGhpcy5saS5Dcyh0KX0sbmwucHJvdG90eXBlLmlzTG9jYWxRdWVyeVRhcmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5saS5hY3RpdmVUYXJnZXRJZHMuaGFzKHQpfSxubC5wcm90b3R5cGUuY2xlYXJRdWVyeVN0YXRlPWZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLmZpW3RdfSxubC5wcm90b3R5cGUuZ2V0QWxsQWN0aXZlUXVlcnlUYXJnZXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGkuYWN0aXZlVGFyZ2V0SWRzfSxubC5wcm90b3R5cGUuaXNBY3RpdmVRdWVyeVRhcmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5saS5hY3RpdmVUYXJnZXRJZHMuaGFzKHQpfSxubC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saT1uZXcgS2gsUHJvbWlzZS5yZXNvbHZlKCl9LG5sLnByb3RvdHlwZS5oYW5kbGVVc2VyQ2hhbmdlPWZ1bmN0aW9uKHQsZSxuKXt9LG5sLnByb3RvdHlwZS5zZXRPbmxpbmVTdGF0ZT1mdW5jdGlvbih0KXt9LG5sLnByb3RvdHlwZS5zaHV0ZG93bj1mdW5jdGlvbigpe30sbmwucHJvdG90eXBlLndyaXRlU2VxdWVuY2VOdW1iZXI9ZnVuY3Rpb24odCl7fSxubC5wcm90b3R5cGUubm90aWZ5QnVuZGxlTG9hZGVkPWZ1bmN0aW9uKCl7fSxubCksemg9KGVsLnByb3RvdHlwZS5kaT1mdW5jdGlvbih0KXt9LGVsLnByb3RvdHlwZS5zaHV0ZG93bj1mdW5jdGlvbigpe30sZWwpLEhoPSh0bC5wcm90b3R5cGUuZGk9ZnVuY3Rpb24odCl7dGhpcy5naS5wdXNoKHQpfSx0bC5wcm90b3R5cGUuc2h1dGRvd249ZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLHRoaXMud2kpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLHRoaXMubWkpfSx0bC5wcm90b3R5cGUucGk9ZnVuY3Rpb24oKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLHRoaXMud2kpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLHRoaXMubWkpfSx0bC5wcm90b3R5cGUuX2k9ZnVuY3Rpb24oKXt4cihcIkNvbm5lY3Rpdml0eU1vbml0b3JcIixcIk5ldHdvcmsgY29ubmVjdGl2aXR5IGNoYW5nZWQ6IEFWQUlMQUJMRVwiKTtmb3IodmFyIHQ9MCxlPXRoaXMuZ2k7dDxlLmxlbmd0aDt0KyspKDAsZVt0XSkoMCl9LHRsLnByb3RvdHlwZS55aT1mdW5jdGlvbigpe3hyKFwiQ29ubmVjdGl2aXR5TW9uaXRvclwiLFwiTmV0d29yayBjb25uZWN0aXZpdHkgY2hhbmdlZDogVU5BVkFJTEFCTEVcIik7Zm9yKHZhciB0PTAsZT10aGlzLmdpO3Q8ZS5sZW5ndGg7dCsrKSgwLGVbdF0pKDEpfSx0bC55dD1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJnZvaWQgMCE9PXdpbmRvdy5hZGRFdmVudExpc3RlbmVyJiZ2b2lkIDAhPT13aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcn0sdGwpLFdoPXtCYXRjaEdldERvY3VtZW50czpcImJhdGNoR2V0XCIsQ29tbWl0OlwiY29tbWl0XCIsUnVuUXVlcnk6XCJydW5RdWVyeVwifSxZaD0oWmgucHJvdG90eXBlLklpPWZ1bmN0aW9uKHQpe3RoaXMuQWk9dH0sWmgucHJvdG90eXBlLlJpPWZ1bmN0aW9uKHQpe3RoaXMuYmk9dH0sWmgucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbih0KXt0aGlzLnZpPXR9LFpoLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuVGkoKX0sWmgucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24odCl7dGhpcy5FaSh0KX0sWmgucHJvdG90eXBlLlBpPWZ1bmN0aW9uKCl7dGhpcy5BaSgpfSxaaC5wcm90b3R5cGUuVmk9ZnVuY3Rpb24odCl7dGhpcy5iaSh0KX0sWmgucHJvdG90eXBlLlNpPWZ1bmN0aW9uKHQpe3RoaXMudmkodCl9LFpoKSxYaD0oJGgucHJvdG90eXBlLk5pPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMueGkoZSx0KTt4cihcIlJlc3RDb25uZWN0aW9uXCIsXCJTZW5kaW5nOiBcIixpLG4pO3Q9e307cmV0dXJuIHRoaXMuRmkodCxyKSx0aGlzLmtpKGUsaSx0LG4pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHhyKFwiUmVzdENvbm5lY3Rpb25cIixcIlJlY2VpdmVkOiBcIix0KSx0fSxmdW5jdGlvbih0KXt0aHJvdyBMcihcIlJlc3RDb25uZWN0aW9uXCIsZStcIiBmYWlsZWQgd2l0aCBlcnJvcjogXCIsdCxcInVybDogXCIsaSxcInJlcXVlc3Q6XCIsbiksdH0pfSwkaC5wcm90b3R5cGUuT2k9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRoaXMuTmkodCxlLG4scil9LCRoLnByb3RvdHlwZS5GaT1mdW5jdGlvbih0LGUpe2lmKHRbXCJYLUdvb2ctQXBpLUNsaWVudFwiXT1cImdsLWpzLyBmaXJlLzguNC4yXCIsdFtcIkNvbnRlbnQtVHlwZVwiXT1cInRleHQvcGxhaW5cIix0aGlzLmRhdGFiYXNlSW5mby5hcHBJZCYmKHRbXCJYLUZpcmViYXNlLUdNUElEXCJdPXRoaXMuZGF0YWJhc2VJbmZvLmFwcElkKSxlKWZvcih2YXIgbiBpbiBlLmF1dGhIZWFkZXJzKWUuYXV0aEhlYWRlcnMuaGFzT3duUHJvcGVydHkobikmJih0W25dPWUuYXV0aEhlYWRlcnNbbl0pfSwkaC5wcm90b3R5cGUueGk9ZnVuY3Rpb24odCxlKXt0PVdoW3RdO3JldHVybiB0aGlzLkRpK1wiL3YxL1wiK2UrXCI6XCIrdH0sbihKaCxWaD0kaCksSmgucHJvdG90eXBlLmtpPWZ1bmN0aW9uKG8sZSxzLGEpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihuLHIpe3ZhciBpPW5ldyBUcjtpLmxpc3Rlbk9uY2UodnIuQ09NUExFVEUsZnVuY3Rpb24oKXt0cnl7c3dpdGNoKGkuZ2V0TGFzdEVycm9yQ29kZSgpKXtjYXNlIG1yLk5PX0VSUk9SOnZhciB0PWkuZ2V0UmVzcG9uc2VKc29uKCk7eHIoXCJDb25uZWN0aW9uXCIsXCJYSFIgcmVjZWl2ZWQ6XCIsSlNPTi5zdHJpbmdpZnkodCkpLG4odCk7YnJlYWs7Y2FzZSBtci5USU1FT1VUOnhyKFwiQ29ubmVjdGlvblwiLCdSUEMgXCInK28rJ1wiIHRpbWVkIG91dCcpLHIobmV3IEFyKERyLkRFQURMSU5FX0VYQ0VFREVELFwiUmVxdWVzdCB0aW1lIG91dFwiKSk7YnJlYWs7Y2FzZSBtci5IVFRQX0VSUk9SOnZhciBlPWkuZ2V0U3RhdHVzKCk7eHIoXCJDb25uZWN0aW9uXCIsJ1JQQyBcIicrbysnXCIgZmFpbGVkIHdpdGggc3RhdHVzOicsZSxcInJlc3BvbnNlIHRleHQ6XCIsaS5nZXRSZXNwb25zZVRleHQoKSksMDxlPyh0PWkuZ2V0UmVzcG9uc2VKc29uKCkuZXJyb3IpJiZ0LnN0YXR1cyYmdC5tZXNzYWdlPyhlPXQuc3RhdHVzLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLFwiLVwiKSxlPTA8PU9iamVjdC52YWx1ZXMoRHIpLmluZGV4T2YoZSk/ZTpEci5VTktOT1dOLHIobmV3IEFyKGUsdC5tZXNzYWdlKSkpOnIobmV3IEFyKERyLlVOS05PV04sXCJTZXJ2ZXIgcmVzcG9uZGVkIHdpdGggc3RhdHVzIFwiK2kuZ2V0U3RhdHVzKCkpKTpyKG5ldyBBcihEci5VTkFWQUlMQUJMRSxcIkNvbm5lY3Rpb24gZmFpbGVkLlwiKSk7YnJlYWs7ZGVmYXVsdDpNcigpfX1maW5hbGx5e3hyKFwiQ29ubmVjdGlvblwiLCdSUEMgXCInK28rJ1wiIGNvbXBsZXRlZC4nKX19KTt2YXIgdD1KU09OLnN0cmluZ2lmeShhKTtpLnNlbmQoZSxcIlBPU1RcIix0LHMsMTUpfSl9LEpoLnByb3RvdHlwZS4kaT1mdW5jdGlvbih0LGUpe3ZhciBuLHI9W3RoaXMuRGksXCIvXCIsXCJnb29nbGUuZmlyZXN0b3JlLnYxLkZpcmVzdG9yZVwiLFwiL1wiLHQsXCIvY2hhbm5lbFwiXSxpPW5ldyBscixvPWdyKCksdD17aHR0cFNlc3Npb25JZFBhcmFtOlwiZ3Nlc3Npb25pZFwiLGluaXRNZXNzYWdlSGVhZGVyczp7fSxtZXNzYWdlVXJsUGFyYW1zOntkYXRhYmFzZTpcInByb2plY3RzL1wiK3RoaXMuZGF0YWJhc2VJZC5wcm9qZWN0SWQrXCIvZGF0YWJhc2VzL1wiK3RoaXMuZGF0YWJhc2VJZC5kYXRhYmFzZX0sc2VuZFJhd0pzb246ITAsc3VwcG9ydHNDcm9zc0RvbWFpblhocjohMCxpbnRlcm5hbENoYW5uZWxQYXJhbXM6e2ZvcndhcmRDaGFubmVsUmVxdWVzdFRpbWVvdXRNczo2ZTV9LGZvcmNlTG9uZ1BvbGxpbmc6dGhpcy5mb3JjZUxvbmdQb2xsaW5nLGRldGVjdEJ1ZmZlcmluZ1Byb3h5OnRoaXMuYXV0b0RldGVjdExvbmdQb2xsaW5nfTt0aGlzLkZpKHQuaW5pdE1lc3NhZ2VIZWFkZXJzLGUpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuY29yZG92YXx8d2luZG93LnBob25lZ2FwfHx3aW5kb3cuUGhvbmVHYXApJiYvaW9zfGlwaG9uZXxpcG9kfGlwYWR8YW5kcm9pZHxibGFja2JlcnJ5fGllbW9iaWxlL2kudGVzdChoKCkpfHxcIm9iamVjdFwiPT10eXBlb2YgbmF2aWdhdG9yJiZcIlJlYWN0TmF0aXZlXCI9PT1uYXZpZ2F0b3IucHJvZHVjdHx8MDw9aCgpLmluZGV4T2YoXCJFbGVjdHJvbi9cIil8fCgwPD0obj1oKCkpLmluZGV4T2YoXCJNU0lFIFwiKXx8MDw9bi5pbmRleE9mKFwiVHJpZGVudC9cIikpfHwwPD1oKCkuaW5kZXhPZihcIk1TQXBwSG9zdC9cIil8fFwib2JqZWN0XCI9PXR5cGVvZihuPVwib2JqZWN0XCI9PXR5cGVvZiBjaHJvbWU/Y2hyb21lLnJ1bnRpbWU6XCJvYmplY3RcIj09dHlwZW9mIGJyb3dzZXI/YnJvd3Nlci5ydW50aW1lOnZvaWQgMCkmJnZvaWQgMCE9PW4uaWR8fCh0Lmh0dHBIZWFkZXJzT3ZlcndyaXRlUGFyYW09XCIkaHR0cEhlYWRlcnNcIik7cj1yLmpvaW4oXCJcIik7eHIoXCJDb25uZWN0aW9uXCIsXCJDcmVhdGluZyBXZWJDaGFubmVsOiBcIityLHQpO3ZhciBzPWkuY3JlYXRlV2ViQ2hhbm5lbChyLHQpLGE9ITEsdT0hMSxjPW5ldyBZaCh7RWk6ZnVuY3Rpb24odCl7dT94cihcIkNvbm5lY3Rpb25cIixcIk5vdCBzZW5kaW5nIGJlY2F1c2UgV2ViQ2hhbm5lbCBpcyBjbG9zZWQ6XCIsdCk6KGF8fCh4cihcIkNvbm5lY3Rpb25cIixcIk9wZW5pbmcgV2ViQ2hhbm5lbCB0cmFuc3BvcnQuXCIpLHMub3BlbigpLGE9ITApLHhyKFwiQ29ubmVjdGlvblwiLFwiV2ViQ2hhbm5lbCBzZW5kaW5nOlwiLHQpLHMuc2VuZCh0KSl9LFRpOmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2xvc2UoKX19KSx0PWZ1bmN0aW9uKHQsZSxuKXt0Lmxpc3RlbihlLGZ1bmN0aW9uKHQpe3RyeXtuKHQpfWNhdGNoKHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyB0fSwwKX19KX07cmV0dXJuIHQocyxFci5FdmVudFR5cGUuT1BFTixmdW5jdGlvbigpe3V8fHhyKFwiQ29ubmVjdGlvblwiLFwiV2ViQ2hhbm5lbCB0cmFuc3BvcnQgb3BlbmVkLlwiKX0pLHQocyxFci5FdmVudFR5cGUuQ0xPU0UsZnVuY3Rpb24oKXt1fHwodT0hMCx4cihcIkNvbm5lY3Rpb25cIixcIldlYkNoYW5uZWwgdHJhbnNwb3J0IGNsb3NlZFwiKSxjLlZpKCkpfSksdChzLEVyLkV2ZW50VHlwZS5FUlJPUixmdW5jdGlvbih0KXt1fHwodT0hMCxMcihcIkNvbm5lY3Rpb25cIixcIldlYkNoYW5uZWwgdHJhbnNwb3J0IGVycm9yZWQ6XCIsdCksYy5WaShuZXcgQXIoRHIuVU5BVkFJTEFCTEUsXCJUaGUgb3BlcmF0aW9uIGNvdWxkIG5vdCBiZSBjb21wbGV0ZWRcIikpKX0pLHQocyxFci5FdmVudFR5cGUuTUVTU0FHRSxmdW5jdGlvbih0KXt2YXIgZSxuLHIsaTt1fHwoRnIoISEoZT10LmRhdGFbMF0pKSwobj1lLmVycm9yfHwobnVsbD09PShpPWVbMF0pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmVycm9yKSk/KHhyKFwiQ29ubmVjdGlvblwiLFwiV2ViQ2hhbm5lbCByZWNlaXZlZCBlcnJvcjpcIixuKSxyPW4uc3RhdHVzLHQ9ZnVuY3Rpb24oKXt2YXIgdD1tc1tyXTtpZih2b2lkIDAhPT10KXJldHVybiBTcyh0KX0oKSxpPW4ubWVzc2FnZSx2b2lkIDA9PT10JiYodD1Eci5JTlRFUk5BTCxpPVwiVW5rbm93biBlcnJvciBzdGF0dXM6IFwiK3IrXCIgd2l0aCBtZXNzYWdlIFwiK24ubWVzc2FnZSksdT0hMCxjLlZpKG5ldyBBcih0LGkpKSxzLmNsb3NlKCkpOih4cihcIkNvbm5lY3Rpb25cIixcIldlYkNoYW5uZWwgcmVjZWl2ZWQ6XCIsZSksYy5TaShlKSkpfSksdChvLGJyLlNUQVRfRVZFTlQsZnVuY3Rpb24odCl7dC5zdGF0PT09d3I/eHIoXCJDb25uZWN0aW9uXCIsXCJEZXRlY3RlZCBidWZmZXJpbmcgcHJveHlcIik6dC5zdGF0PT09SXImJnhyKFwiQ29ubmVjdGlvblwiLFwiRGV0ZWN0ZWQgbm8gYnVmZmVyaW5nIHByb3h5XCIpfSksc2V0VGltZW91dChmdW5jdGlvbigpe2MuUGkoKX0sMCksY30sSmgpO2Z1bmN0aW9uIEpoKHQpe3ZhciBlPXRoaXM7cmV0dXJuKGU9VmguY2FsbCh0aGlzLHQpfHx0aGlzKS5mb3JjZUxvbmdQb2xsaW5nPXQuZm9yY2VMb25nUG9sbGluZyxlLmF1dG9EZXRlY3RMb25nUG9sbGluZz10LmF1dG9EZXRlY3RMb25nUG9sbGluZyxlfWZ1bmN0aW9uICRoKHQpe3RoaXMuZGF0YWJhc2VJbmZvPXQsdGhpcy5kYXRhYmFzZUlkPXQuZGF0YWJhc2VJZDt2YXIgZT10LnNzbD9cImh0dHBzXCI6XCJodHRwXCI7dGhpcy5EaT1lK1wiOi8vXCIrdC5ob3N0LHRoaXMuQ2k9XCJwcm9qZWN0cy9cIit0aGlzLmRhdGFiYXNlSWQucHJvamVjdElkK1wiL2RhdGFiYXNlcy9cIit0aGlzLmRhdGFiYXNlSWQuZGF0YWJhc2UrXCIvZG9jdW1lbnRzXCJ9ZnVuY3Rpb24gWmgodCl7dGhpcy5FaT10LkVpLHRoaXMuVGk9dC5UaX1mdW5jdGlvbiB0bCgpe3ZhciB0PXRoaXM7dGhpcy53aT1mdW5jdGlvbigpe3JldHVybiB0Ll9pKCl9LHRoaXMubWk9ZnVuY3Rpb24oKXtyZXR1cm4gdC55aSgpfSx0aGlzLmdpPVtdLHRoaXMucGkoKX1mdW5jdGlvbiBlbCgpe31mdW5jdGlvbiBubCgpe3RoaXMubGk9bmV3IEtoLHRoaXMuZmk9e30sdGhpcy5vbmxpbmVTdGF0ZUhhbmRsZXI9bnVsbCx0aGlzLnNlcXVlbmNlTnVtYmVySGFuZGxlcj1udWxsfWZ1bmN0aW9uIHJsKHQsZSxuLHIsaSl7dGhpcy53aW5kb3c9dCx0aGlzLlNlPWUsdGhpcy5wZXJzaXN0ZW5jZUtleT1uLHRoaXMuTnM9cix0aGlzLnN5bmNFbmdpbmU9bnVsbCx0aGlzLm9ubGluZVN0YXRlSGFuZGxlcj1udWxsLHRoaXMuc2VxdWVuY2VOdW1iZXJIYW5kbGVyPW51bGwsdGhpcy54cz10aGlzLkZzLmJpbmQodGhpcyksdGhpcy5rcz1uZXcgTnMocXIpLHRoaXMuc3RhcnRlZD0hMSx0aGlzLk9zPVtdO249bi5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZyxcIlxcXFwkJlwiKTt0aGlzLnN0b3JhZ2U9dGhpcy53aW5kb3cubG9jYWxTdG9yYWdlLHRoaXMuY3VycmVudFVzZXI9aSx0aGlzLiRzPVBoKHRoaXMucGVyc2lzdGVuY2VLZXksdGhpcy5OcyksdGhpcy5Ncz1cImZpcmVzdG9yZV9zZXF1ZW5jZV9udW1iZXJfXCIrdGhpcy5wZXJzaXN0ZW5jZUtleSx0aGlzLmtzPXRoaXMua3MuaW5zZXJ0KHRoaXMuTnMsbmV3IEtoKSx0aGlzLkxzPW5ldyBSZWdFeHAoXCJeZmlyZXN0b3JlX2NsaWVudHNfXCIrbitcIl8oW15fXSopJFwiKSx0aGlzLkJzPW5ldyBSZWdFeHAoXCJeZmlyZXN0b3JlX211dGF0aW9uc19cIituK1wiXyhcXFxcZCspKD86XyguKikpPyRcIiksdGhpcy5xcz1uZXcgUmVnRXhwKFwiXmZpcmVzdG9yZV90YXJnZXRzX1wiK24rXCJfKFxcXFxkKykkXCIpLHRoaXMuVXM9XCJmaXJlc3RvcmVfb25saW5lX3N0YXRlX1wiK3RoaXMucGVyc2lzdGVuY2VLZXksdGhpcy5Rcz1cImZpcmVzdG9yZV9idW5kbGVfbG9hZGVkX1wiK3RoaXMucGVyc2lzdGVuY2VLZXksdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIix0aGlzLnhzKX1mdW5jdGlvbiBpbCgpe3RoaXMuYWN0aXZlVGFyZ2V0SWRzPWpzfWZ1bmN0aW9uIG9sKHQsZSl7dGhpcy5jbGllbnRJZD10LHRoaXMub25saW5lU3RhdGU9ZX1mdW5jdGlvbiBzbCh0LGUpe3RoaXMuY2xpZW50SWQ9dCx0aGlzLmFjdGl2ZVRhcmdldElkcz1lfWZ1bmN0aW9uIGFsKHQsZSxuKXt0aGlzLnRhcmdldElkPXQsdGhpcy5zdGF0ZT1lLHRoaXMuZXJyb3I9bn1mdW5jdGlvbiB1bCh0LGUsbixyKXt0aGlzLnVzZXI9dCx0aGlzLmJhdGNoSWQ9ZSx0aGlzLnN0YXRlPW4sdGhpcy5lcnJvcj1yfWZ1bmN0aW9uIGNsKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6bnVsbH1mdW5jdGlvbiBobCgpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudDpudWxsfWZ1bmN0aW9uIGxsKHQpe3JldHVybiBuZXcgaWEodCwhMCl9ZnVuY3Rpb24gZmwodCxlLG4scixpKXt2YXIgbz10aGlzO3RoaXMubG9jYWxTdG9yZT10LHRoaXMuZGF0YXN0b3JlPWUsdGhpcy5hc3luY1F1ZXVlPW4sdGhpcy5yZW1vdGVTeW5jZXI9e30sdGhpcy5rcj1bXSx0aGlzLk9yPW5ldyBNYXAsdGhpcy4kcj1uZXcgU2V0LHRoaXMuTXI9W10sdGhpcy5Mcj1pLHRoaXMuTHIuZGkoZnVuY3Rpb24odCl7bi5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIHkobyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBQbCh0aGlzKT8oeHIoXCJSZW1vdGVTdG9yZVwiLFwiUmVzdGFydGluZyBzdHJlYW1zIGZvciBuZXR3b3JrIHJlYWNoYWJpbGl0eSBjaGFuZ2UuXCIpLFs0LGZ1bmN0aW9uKG4pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4oZT1uKS4kci5hZGQoNCksWzQsQWwoZSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksZS5Cci5zZXQoXCJVbmtub3duXCIpLGUuJHIuZGVsZXRlKDQpLFs0LERsKGUpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLFsyXX19KX0pfSh0aGlzKV0pOlszLDJdO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KX0pfSl9KSx0aGlzLkJyPW5ldyB3bChuLHIpfXZhciBkbCxwbCx5bCxnbD0oTmwucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5xaT0wfSxObC5wcm90b3R5cGUuS2k9ZnVuY3Rpb24oKXt0aGlzLnFpPXRoaXMuQml9LE5sLnByb3RvdHlwZS5qaT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuY2FuY2VsKCk7dmFyIG49TWF0aC5mbG9vcih0aGlzLnFpK3RoaXMuV2koKSkscj1NYXRoLm1heCgwLERhdGUubm93KCktdGhpcy5RaSksaT1NYXRoLm1heCgwLG4tcik7MDxpJiZ4cihcIkV4cG9uZW50aWFsQmFja29mZlwiLFwiQmFja2luZyBvZmYgZm9yIFwiK2krXCIgbXMgKGJhc2UgZGVsYXk6IFwiK3RoaXMucWkrXCIgbXMsIGRlbGF5IHdpdGggaml0dGVyOiBcIituK1wiIG1zLCBsYXN0IGF0dGVtcHQ6IFwiK3IrXCIgbXMgYWdvKVwiKSx0aGlzLlVpPXRoaXMuU2UuZW5xdWV1ZUFmdGVyRGVsYXkodGhpcy50aW1lcklkLGksZnVuY3Rpb24oKXtyZXR1cm4gZS5RaT1EYXRlLm5vdygpLHQoKX0pLHRoaXMucWkqPXRoaXMuTGksdGhpcy5xaTx0aGlzLk1pJiYodGhpcy5xaT10aGlzLk1pKSx0aGlzLnFpPnRoaXMuQmkmJih0aGlzLnFpPXRoaXMuQmkpfSxObC5wcm90b3R5cGUuR2k9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5VaSYmKHRoaXMuVWkuc2tpcERlbGF5KCksdGhpcy5VaT1udWxsKX0sTmwucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe251bGwhPT10aGlzLlVpJiYodGhpcy5VaS5jYW5jZWwoKSx0aGlzLlVpPW51bGwpfSxObC5wcm90b3R5cGUuV2k9ZnVuY3Rpb24oKXtyZXR1cm4oTWF0aC5yYW5kb20oKS0uNSkqdGhpcy5xaX0sTmwpLEk9KFNsLnByb3RvdHlwZS50cj1mdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5zdGF0ZXx8Mj09PXRoaXMuc3RhdGV8fDQ9PT10aGlzLnN0YXRlfSxTbC5wcm90b3R5cGUuZXI9ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXRoaXMuc3RhdGV9LFNsLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpezMhPT10aGlzLnN0YXRlP3RoaXMuYXV0aCgpOnRoaXMubnIoKX0sU2wucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMudHIoKT9bNCx0aGlzLmNsb3NlKDApXTpbMywyXTtjYXNlIDE6dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMl19fSl9KX0sU2wucHJvdG90eXBlLnNyPWZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT0wLHRoaXMuWmkucmVzZXQoKX0sU2wucHJvdG90eXBlLmlyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmVyKCkmJm51bGw9PT10aGlzLlhpJiYodGhpcy5YaT10aGlzLlNlLmVucXVldWVBZnRlckRlbGF5KHRoaXMuemksNmU0LGZ1bmN0aW9uKCl7cmV0dXJuIHQucnIoKX0pKX0sU2wucHJvdG90eXBlLmNyPWZ1bmN0aW9uKHQpe3RoaXMudXIoKSx0aGlzLnN0cmVhbS5zZW5kKHQpfSxTbC5wcm90b3R5cGUucnI9ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVyKCk/WzIsdGhpcy5jbG9zZSgwKV06WzJdfSl9KX0sU2wucHJvdG90eXBlLnVyPWZ1bmN0aW9uKCl7dGhpcy5YaSYmKHRoaXMuWGkuY2FuY2VsKCksdGhpcy5YaT1udWxsKX0sU2wucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLnVyKCksdGhpcy5aaS5jYW5jZWwoKSx0aGlzLllpKyssMyE9PWU/dGhpcy5aaS5yZXNldCgpOm4mJm4uY29kZT09PURyLlJFU09VUkNFX0VYSEFVU1RFRD8oT3Iobi50b1N0cmluZygpKSxPcihcIlVzaW5nIG1heGltdW0gYmFja29mZiBkZWxheSB0byBwcmV2ZW50IG92ZXJsb2FkaW5nIHRoZSBiYWNrZW5kLlwiKSx0aGlzLlppLktpKCkpOm4mJm4uY29kZT09PURyLlVOQVVUSEVOVElDQVRFRCYmdGhpcy5KaS5pbnZhbGlkYXRlVG9rZW4oKSxudWxsIT09dGhpcy5zdHJlYW0mJih0aGlzLmFyKCksdGhpcy5zdHJlYW0uY2xvc2UoKSx0aGlzLnN0cmVhbT1udWxsKSx0aGlzLnN0YXRlPWUsWzQsdGhpcy5saXN0ZW5lci5SaShuKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMl19fSl9KX0sU2wucHJvdG90eXBlLmFyPWZ1bmN0aW9uKCl7fSxTbC5wcm90b3R5cGUuYXV0aD1mdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5zdGF0ZT0xO3ZhciB0PXRoaXMuaHIodGhpcy5ZaSksZT10aGlzLllpO3RoaXMuSmkuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uKHQpe24uWWk9PT1lJiZuLmxyKHQpfSxmdW5jdGlvbihlKXt0KGZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEFyKERyLlVOS05PV04sXCJGZXRjaGluZyBhdXRoIHRva2VuIGZhaWxlZDogXCIrZS5tZXNzYWdlKTtyZXR1cm4gbi5kcih0KX0pfSl9LFNsLnByb3RvdHlwZS5scj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5ocih0aGlzLllpKTt0aGlzLnN0cmVhbT10aGlzLndyKHQpLHRoaXMuc3RyZWFtLklpKGZ1bmN0aW9uKCl7bihmdW5jdGlvbigpe3JldHVybiBlLnN0YXRlPTIsZS5saXN0ZW5lci5JaSgpfSl9KSx0aGlzLnN0cmVhbS5SaShmdW5jdGlvbih0KXtuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZHIodCl9KX0pLHRoaXMuc3RyZWFtLm9uTWVzc2FnZShmdW5jdGlvbih0KXtuKGZ1bmN0aW9uKCl7cmV0dXJuIGUub25NZXNzYWdlKHQpfSl9KX0sU2wucHJvdG90eXBlLm5yPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnN0YXRlPTQsdGhpcy5aaS5qaShmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdGU9MCx0aGlzLnN0YXJ0KCksWzJdfSl9KX0pfSxTbC5wcm90b3R5cGUuZHI9ZnVuY3Rpb24odCl7cmV0dXJuIHhyKFwiUGVyc2lzdGVudFN0cmVhbVwiLFwiY2xvc2Ugd2l0aCBlcnJvcjogXCIrdCksdGhpcy5zdHJlYW09bnVsbCx0aGlzLmNsb3NlKDMsdCl9LFNsLnByb3RvdHlwZS5ocj1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3JldHVybiBmdW5jdGlvbih0KXtuLlNlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4gbi5ZaT09PWU/dCgpOih4cihcIlBlcnNpc3RlbnRTdHJlYW1cIixcInN0cmVhbSBjYWxsYmFjayBza2lwcGVkIGJ5IGdldENsb3NlR3VhcmRlZERpc3BhdGNoZXIuXCIpLFByb21pc2UucmVzb2x2ZSgpKX0pfX0sU2wpLG1sPShuKF9sLHlsPUkpLF9sLnByb3RvdHlwZS53cj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5IaS4kaShcIkxpc3RlblwiLHQpfSxfbC5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKHQpe3RoaXMuWmkucmVzZXQoKTt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwidGFyZ2V0Q2hhbmdlXCJpbiBlKXtlLnRhcmdldENoYW5nZTt2YXIgbj1cIk5PX0NIQU5HRVwiPT09KG89ZS50YXJnZXRDaGFuZ2UudGFyZ2V0Q2hhbmdlVHlwZXx8XCJOT19DSEFOR0VcIik/MDpcIkFERFwiPT09bz8xOlwiUkVNT1ZFXCI9PT1vPzI6XCJDVVJSRU5UXCI9PT1vPzM6XCJSRVNFVFwiPT09bz80Ok1yKCkscj1lLnRhcmdldENoYW5nZS50YXJnZXRJZHN8fFtdLGk9KHM9ZS50YXJnZXRDaGFuZ2UucmVzdW1lVG9rZW4sdC5JPyhGcih2b2lkIDA9PT1zfHxcInN0cmluZ1wiPT10eXBlb2YgcyksbmkuZnJvbUJhc2U2NFN0cmluZyhzfHxcIlwiKSk6KEZyKHZvaWQgMD09PXN8fHMgaW5zdGFuY2VvZiBVaW50OEFycmF5KSxuaS5mcm9tVWludDhBcnJheShzfHxuZXcgVWludDhBcnJheSkpKSxvPShhPWUudGFyZ2V0Q2hhbmdlLmNhdXNlKSYmKHU9dm9pZCAwPT09KGM9YSkuY29kZT9Eci5VTktOT1dOOlNzKGMuY29kZSksbmV3IEFyKHUsYy5tZXNzYWdlfHxcIlwiKSkscz1uZXcgSHMobixyLGksb3x8bnVsbCl9ZWxzZSBpZihcImRvY3VtZW50Q2hhbmdlXCJpbiBlKXtlLmRvY3VtZW50Q2hhbmdlLChuPWUuZG9jdW1lbnRDaGFuZ2UpLmRvY3VtZW50LG4uZG9jdW1lbnQubmFtZSxuLmRvY3VtZW50LnVwZGF0ZVRpbWU7dmFyIHI9bGEodCxuLmRvY3VtZW50Lm5hbWUpLGk9YWEobi5kb2N1bWVudC51cGRhdGVUaW1lKSxhPW5ldyBSaSh7bWFwVmFsdWU6e2ZpZWxkczpuLmRvY3VtZW50LmZpZWxkc319KSx1PShvPU9pLm5ld0ZvdW5kRG9jdW1lbnQocixpLGEpLG4udGFyZ2V0SWRzfHxbXSksYz1uLnJlbW92ZWRUYXJnZXRJZHN8fFtdO3M9bmV3IFFzKHUsYyxvLmtleSxvKX1lbHNlIGlmKFwiZG9jdW1lbnREZWxldGVcImluIGUpZS5kb2N1bWVudERlbGV0ZSwobj1lLmRvY3VtZW50RGVsZXRlKS5kb2N1bWVudCxyPWxhKHQsbi5kb2N1bWVudCksaT1uLnJlYWRUaW1lP2FhKG4ucmVhZFRpbWUpOkdyLm1pbigpLGE9T2kubmV3Tm9Eb2N1bWVudChyLGkpLG89bi5yZW1vdmVkVGFyZ2V0SWRzfHxbXSxzPW5ldyBRcyhbXSxvLGEua2V5LGEpO2Vsc2UgaWYoXCJkb2N1bWVudFJlbW92ZVwiaW4gZSllLmRvY3VtZW50UmVtb3ZlLChuPWUuZG9jdW1lbnRSZW1vdmUpLmRvY3VtZW50LHI9bGEodCxuLmRvY3VtZW50KSxpPW4ucmVtb3ZlZFRhcmdldElkc3x8W10scz1uZXcgUXMoW10saSxyLG51bGwpO2Vsc2V7aWYoIShcImZpbHRlclwiaW4gZSkpcmV0dXJuIE1yKCk7ZS5maWx0ZXI7ZT1lLmZpbHRlcjtlLnRhcmdldElkLG49ZS5jb3VudHx8MCxyPW5ldyBncyhuKSxpPWUudGFyZ2V0SWQscz1uZXcgenMoaSxyKX1yZXR1cm4gc30odGhpcy5SLHQpLHQ9ZnVuY3Rpb24odCl7aWYoIShcInRhcmdldENoYW5nZVwiaW4gdCkpcmV0dXJuIEdyLm1pbigpO3Q9dC50YXJnZXRDaGFuZ2U7cmV0dXJuKCF0LnRhcmdldElkc3x8IXQudGFyZ2V0SWRzLmxlbmd0aCkmJnQucmVhZFRpbWU/YWEodC5yZWFkVGltZSk6R3IubWluKCl9KHQpO3JldHVybiB0aGlzLmxpc3RlbmVyLl9yKGUsdCl9LF9sLnByb3RvdHlwZS5tcj1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaT17fTtpLmRhdGFiYXNlPXBhKHRoaXMuUiksaS5hZGRUYXJnZXQ9KGU9dGhpcy5SLChyPVVpKHI9KG49dCkudGFyZ2V0KT97ZG9jdW1lbnRzOndhKGUscil9OntxdWVyeTpJYShlLHIpfSkudGFyZ2V0SWQ9bi50YXJnZXRJZCwwPG4ucmVzdW1lVG9rZW4uYXBwcm94aW1hdGVCeXRlU2l6ZSgpP3IucmVzdW1lVG9rZW49c2EoZSxuLnJlc3VtZVRva2VuKTowPG4uc25hcHNob3RWZXJzaW9uLmNvbXBhcmVUbyhHci5taW4oKSkmJihyLnJlYWRUaW1lPW9hKGUsbi5zbmFwc2hvdFZlcnNpb24udG9UaW1lc3RhbXAoKSkpLHIpO3ZhciBvLHQ9KHRoaXMuUixvPXQsbnVsbD09KHQ9ZnVuY3Rpb24oKXtzd2l0Y2goby5wdXJwb3NlKXtjYXNlIDA6cmV0dXJuIG51bGw7Y2FzZSAxOnJldHVyblwiZXhpc3RlbmNlLWZpbHRlci1taXNtYXRjaFwiO2Nhc2UgMjpyZXR1cm5cImxpbWJvLWRvY3VtZW50XCI7ZGVmYXVsdDpyZXR1cm4gTXIoKX19KCkpP251bGw6e1wiZ29vZy1saXN0ZW4tdGFnc1wiOnR9KTt0JiYoaS5sYWJlbHM9dCksdGhpcy5jcihpKX0sX2wucHJvdG90eXBlLnlyPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O2UuZGF0YWJhc2U9cGEodGhpcy5SKSxlLnJlbW92ZVRhcmdldD10LHRoaXMuY3IoZSl9LF9sKSx2bD0obihUbCxwbD1JKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVGwucHJvdG90eXBlLFwicHJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3J9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksVGwucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5ncj0hMSx0aGlzLmxhc3RTdHJlYW1Ub2tlbj12b2lkIDAscGwucHJvdG90eXBlLnN0YXJ0LmNhbGwodGhpcyl9LFRsLnByb3RvdHlwZS5hcj1mdW5jdGlvbigpe3RoaXMuZ3ImJnRoaXMuRXIoW10pfSxUbC5wcm90b3R5cGUud3I9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuSGkuJGkoXCJXcml0ZVwiLHQpfSxUbC5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKHQpe2lmKEZyKCEhdC5zdHJlYW1Ub2tlbiksdGhpcy5sYXN0U3RyZWFtVG9rZW49dC5zdHJlYW1Ub2tlbix0aGlzLmdyKXt0aGlzLlppLnJlc2V0KCk7dmFyIGU9KG49dC53cml0ZVJlc3VsdHMscj10LmNvbW1pdFRpbWUsbiYmMDxuLmxlbmd0aD8oRnIodm9pZCAwIT09ciksbi5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG49ciwodD0oZT10KS51cGRhdGVUaW1lP2FhKGUudXBkYXRlVGltZSk6YWEobikpLmlzRXF1YWwoR3IubWluKCkpJiYodD1hYShuKSksbmV3IFpvKHQsZS50cmFuc2Zvcm1SZXN1bHRzfHxbXSk7dmFyIGUsbn0pKTpbXSksbj1hYSh0LmNvbW1pdFRpbWUpO3JldHVybiB0aGlzLmxpc3RlbmVyLlRyKG4sZSl9dmFyIG4scjtyZXR1cm4gRnIoIXQud3JpdGVSZXN1bHRzfHwwPT09dC53cml0ZVJlc3VsdHMubGVuZ3RoKSx0aGlzLmdyPSEwLHRoaXMubGlzdGVuZXIuSXIoKX0sVGwucHJvdG90eXBlLkFyPWZ1bmN0aW9uKCl7dmFyIHQ9e307dC5kYXRhYmFzZT1wYSh0aGlzLlIpLHRoaXMuY3IodCl9LFRsLnByb3RvdHlwZS5Fcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLHQ9e3N0cmVhbVRva2VuOnRoaXMubGFzdFN0cmVhbVRva2VuLHdyaXRlczp0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdmEoZS5SLHQpfSl9O3RoaXMuY3IodCl9LFRsKSxibD0obihFbCxkbD1mdW5jdGlvbigpe30pLEVsLnByb3RvdHlwZS5icj1mdW5jdGlvbigpe2lmKHRoaXMuUnIpdGhyb3cgbmV3IEFyKERyLkZBSUxFRF9QUkVDT05ESVRJT04sXCJUaGUgY2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gdGVybWluYXRlZC5cIil9LEVsLnByb3RvdHlwZS5OaT1mdW5jdGlvbihlLG4scil7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy5icigpLHRoaXMuY3JlZGVudGlhbHMuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLkhpLk5pKGUsbixyLHQpfSkuY2F0Y2goZnVuY3Rpb24odCl7dGhyb3dcIkZpcmViYXNlRXJyb3JcIj09PXQubmFtZT8odC5jb2RlPT09RHIuVU5BVVRIRU5USUNBVEVEJiZpLmNyZWRlbnRpYWxzLmludmFsaWRhdGVUb2tlbigpLHQpOm5ldyBBcihEci5VTktOT1dOLHQudG9TdHJpbmcoKSl9KX0sRWwucHJvdG90eXBlLk9pPWZ1bmN0aW9uKGUsbixyKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLmJyKCksdGhpcy5jcmVkZW50aWFscy5nZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGkuSGkuT2koZSxuLHIsdCl9KS5jYXRjaChmdW5jdGlvbih0KXt0aHJvd1wiRmlyZWJhc2VFcnJvclwiPT09dC5uYW1lPyh0LmNvZGU9PT1Eci5VTkFVVEhFTlRJQ0FURUQmJmkuY3JlZGVudGlhbHMuaW52YWxpZGF0ZVRva2VuKCksdCk6bmV3IEFyKERyLlVOS05PV04sdC50b1N0cmluZygpKX0pfSxFbC5wcm90b3R5cGUudGVybWluYXRlPWZ1bmN0aW9uKCl7dGhpcy5Scj0hMH0sRWwpLHdsPShJbC5wcm90b3R5cGUuU3I9ZnVuY3Rpb24oKXt2YXIgdD10aGlzOzA9PT10aGlzLnZyJiYodGhpcy5EcihcIlVua25vd25cIiksdGhpcy5Qcj10aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFmdGVyRGVsYXkoXCJvbmxpbmVfc3RhdGVfdGltZW91dFwiLDFlNCxmdW5jdGlvbigpe3JldHVybiB0LlByPW51bGwsdC5DcihcIkJhY2tlbmQgZGlkbid0IHJlc3BvbmQgd2l0aGluIDEwIHNlY29uZHMuXCIpLHQuRHIoXCJPZmZsaW5lXCIpLFByb21pc2UucmVzb2x2ZSgpfSkpfSxJbC5wcm90b3R5cGUuTnI9ZnVuY3Rpb24odCl7XCJPbmxpbmVcIj09PXRoaXMuc3RhdGU/dGhpcy5EcihcIlVua25vd25cIik6KHRoaXMudnIrKywxPD10aGlzLnZyJiYodGhpcy5GcigpLHRoaXMuQ3IoXCJDb25uZWN0aW9uIGZhaWxlZCAxIHRpbWVzLiBNb3N0IHJlY2VudCBlcnJvcjogXCIrdC50b1N0cmluZygpKSx0aGlzLkRyKFwiT2ZmbGluZVwiKSkpfSxJbC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuRnIoKSx0aGlzLnZyPTAsXCJPbmxpbmVcIj09PXQmJih0aGlzLlZyPSExKSx0aGlzLkRyKHQpfSxJbC5wcm90b3R5cGUuRHI9ZnVuY3Rpb24odCl7dCE9PXRoaXMuc3RhdGUmJih0aGlzLnN0YXRlPXQsdGhpcy5vbmxpbmVTdGF0ZUhhbmRsZXIodCkpfSxJbC5wcm90b3R5cGUuQ3I9ZnVuY3Rpb24odCl7dD1cIkNvdWxkIG5vdCByZWFjaCBDbG91ZCBGaXJlc3RvcmUgYmFja2VuZC4gXCIrdCtcIlxcblRoaXMgdHlwaWNhbGx5IGluZGljYXRlcyB0aGF0IHlvdXIgZGV2aWNlIGRvZXMgbm90IGhhdmUgYSBoZWFsdGh5IEludGVybmV0IGNvbm5lY3Rpb24gYXQgdGhlIG1vbWVudC4gVGhlIGNsaWVudCB3aWxsIG9wZXJhdGUgaW4gb2ZmbGluZSBtb2RlIHVudGlsIGl0IGlzIGFibGUgdG8gc3VjY2Vzc2Z1bGx5IGNvbm5lY3QgdG8gdGhlIGJhY2tlbmQuXCI7dGhpcy5Wcj8oT3IodCksdGhpcy5Wcj0hMSk6eHIoXCJPbmxpbmVTdGF0ZVRyYWNrZXJcIix0KX0sSWwucHJvdG90eXBlLkZyPWZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMuUHImJih0aGlzLlByLmNhbmNlbCgpLHRoaXMuUHI9bnVsbCl9LElsKTtmdW5jdGlvbiBJbCh0LGUpe3RoaXMuYXN5bmNRdWV1ZT10LHRoaXMub25saW5lU3RhdGVIYW5kbGVyPWUsdGhpcy5zdGF0ZT1cIlVua25vd25cIix0aGlzLnZyPTAsdGhpcy5Qcj1udWxsLHRoaXMuVnI9ITB9ZnVuY3Rpb24gRWwodCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuKHI9ZGwuY2FsbCh0aGlzKXx8dGhpcykuY3JlZGVudGlhbHM9dCxyLkhpPWUsci5SPW4sci5Scj0hMSxyfWZ1bmN0aW9uIFRsKHQsZSxuLHIsaSl7dmFyIG89dGhpcztyZXR1cm4obz1wbC5jYWxsKHRoaXMsdCxcIndyaXRlX3N0cmVhbV9jb25uZWN0aW9uX2JhY2tvZmZcIixcIndyaXRlX3N0cmVhbV9pZGxlXCIsZSxuLGkpfHx0aGlzKS5SPXIsby5ncj0hMSxvfWZ1bmN0aW9uIF9sKHQsZSxuLHIsaSl7dmFyIG89dGhpcztyZXR1cm4obz15bC5jYWxsKHRoaXMsdCxcImxpc3Rlbl9zdHJlYW1fY29ubmVjdGlvbl9iYWNrb2ZmXCIsXCJsaXN0ZW5fc3RyZWFtX2lkbGVcIixlLG4saSl8fHRoaXMpLlI9cixvfWZ1bmN0aW9uIFNsKHQsZSxuLHIsaSxvKXt0aGlzLlNlPXQsdGhpcy56aT1uLHRoaXMuSGk9cix0aGlzLkppPWksdGhpcy5saXN0ZW5lcj1vLHRoaXMuc3RhdGU9MCx0aGlzLllpPTAsdGhpcy5YaT1udWxsLHRoaXMuc3RyZWFtPW51bGwsdGhpcy5aaT1uZXcgZ2wodCxlKX1mdW5jdGlvbiBObCh0LGUsbixyLGkpe3ZvaWQgMD09PW4mJihuPTFlMyksdm9pZCAwPT09ciYmKHI9MS41KSx2b2lkIDA9PT1pJiYoaT02ZTQpLHRoaXMuU2U9dCx0aGlzLnRpbWVySWQ9ZSx0aGlzLk1pPW4sdGhpcy5MaT1yLHRoaXMuQmk9aSx0aGlzLnFpPTAsdGhpcy5VaT1udWxsLHRoaXMuUWk9RGF0ZS5ub3coKSx0aGlzLnJlc2V0KCl9ZnVuY3Rpb24gRGwocil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6aWYoIVBsKHIpKXJldHVyblszLDRdO2U9MCxuPXIuTXIsdC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gZTxuLmxlbmd0aD9bNCwoMCxuW2VdKSghMCldOlszLDRdO2Nhc2UgMjp0LnNlbnQoKSx0LmxhYmVsPTM7Y2FzZSAzOnJldHVybiBlKyssWzMsMV07Y2FzZSA0OnJldHVyblsyXX19KX0pfWZ1bmN0aW9uIEFsKHIpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmU9MCxuPXIuTXIsdC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gZTxuLmxlbmd0aD9bNCwoMCxuW2VdKSghMSldOlszLDRdO2Nhc2UgMjp0LnNlbnQoKSx0LmxhYmVsPTM7Y2FzZSAzOnJldHVybiBlKyssWzMsMV07Y2FzZSA0OnJldHVyblsyXX19KX0pfWZ1bmN0aW9uIGtsKHQsZSl7dC5Pci5oYXMoZS50YXJnZXRJZCl8fCh0Lk9yLnNldChlLnRhcmdldElkLGUpLExsKHQpP09sKHQpOkdsKHQpLmVyKCkmJlJsKHQsZSkpfWZ1bmN0aW9uIENsKHQsZSl7dmFyIG49dCx0PUdsKG4pO24uT3IuZGVsZXRlKGUpLHQuZXIoKSYmeGwobixlKSwwPT09bi5Pci5zaXplJiYodC5lcigpP3QuaXIoKTpQbChuKSYmbi5Cci5zZXQoXCJVbmtub3duXCIpKX1mdW5jdGlvbiBSbCh0LGUpe3QucXIuVShlLnRhcmdldElkKSxHbCh0KS5tcihlKX1mdW5jdGlvbiB4bCh0LGUpe3QucXIuVShlKSxHbCh0KS55cihlKX1mdW5jdGlvbiBPbChlKXtlLnFyPW5ldyBZcyh7Z2V0UmVtb3RlS2V5c0ZvclRhcmdldDpmdW5jdGlvbih0KXtyZXR1cm4gZS5yZW1vdGVTeW5jZXIuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldCh0KX0sbHQ6ZnVuY3Rpb24odCl7cmV0dXJuIGUuT3IuZ2V0KHQpfHxudWxsfX0pLEdsKGUpLnN0YXJ0KCksZS5Cci5TcigpfWZ1bmN0aW9uIExsKHQpe3JldHVybiBQbCh0KSYmIUdsKHQpLnRyKCkmJjA8dC5Pci5zaXplfWZ1bmN0aW9uIFBsKHQpe3JldHVybiAwPT09dC4kci5zaXplfWZ1bmN0aW9uIE1sKHQpe3QucXI9dm9pZCAwfWZ1bmN0aW9uIEZsKHMsYSx1KXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbixvO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDppZihzLkJyLnNldChcIk9ubGluZVwiKSwhKGEgaW5zdGFuY2VvZiBIcyYmMj09PWEuc3RhdGUmJmEuY2F1c2UpKXJldHVyblszLDZdO3QubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDMsLDVdKSxbNCxmdW5jdGlvbihvLHMpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scixpO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDplPXMuY2F1c2Usbj0wLHI9cy50YXJnZXRJZHMsdC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gbjxyLmxlbmd0aD8oaT1yW25dLG8uT3IuaGFzKGkpP1s0LG8ucmVtb3RlU3luY2VyLnJlamVjdExpc3RlbihpLGUpXTpbMywzXSk6WzMsNV07Y2FzZSAyOnQuc2VudCgpLG8uT3IuZGVsZXRlKGkpLG8ucXIucmVtb3ZlVGFyZ2V0KGkpLHQubGFiZWw9MztjYXNlIDM6dC5sYWJlbD00O2Nhc2UgNDpyZXR1cm4gbisrLFszLDFdO2Nhc2UgNTpyZXR1cm5bMl19fSl9KX0ocyxhKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSxbMyw1XTtjYXNlIDM6cmV0dXJuIG49dC5zZW50KCkseHIoXCJSZW1vdGVTdG9yZVwiLFwiRmFpbGVkIHRvIHJlbW92ZSB0YXJnZXRzICVzOiAlcyBcIixhLnRhcmdldElkcy5qb2luKFwiLFwiKSxuKSxbNCxWbChzLG4pXTtjYXNlIDQ6cmV0dXJuIHQuc2VudCgpLFszLDVdO2Nhc2UgNTpyZXR1cm5bMywxM107Y2FzZSA2OmlmKGEgaW5zdGFuY2VvZiBRcz9zLnFyLlgoYSk6YSBpbnN0YW5jZW9mIHpzP3MucXIucnQoYSk6cy5xci5ldChhKSx1LmlzRXF1YWwoR3IubWluKCkpKXJldHVyblszLDEzXTt0LmxhYmVsPTc7Y2FzZSA3OnJldHVybiB0LnRyeXMucHVzaChbNywxMSwsMTNdKSxbNCxuaChzLmxvY2FsU3RvcmUpXTtjYXNlIDg6cmV0dXJuIG89dC5zZW50KCksMDw9dS5jb21wYXJlVG8obyk/WzQsKGk9dSwoZT0ocj1zKS5xci51dChpKSkudGFyZ2V0Q2hhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIG47MDx0LnJlc3VtZVRva2VuLmFwcHJveGltYXRlQnl0ZVNpemUoKSYmKChuPXIuT3IuZ2V0KGUpKSYmci5Pci5zZXQoZSxuLndpdGhSZXN1bWVUb2tlbih0LnJlc3VtZVRva2VuLGkpKSl9KSxlLnRhcmdldE1pc21hdGNoZXMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1yLk9yLmdldCh0KTtlJiYoci5Pci5zZXQodCxlLndpdGhSZXN1bWVUb2tlbihuaS5FTVBUWV9CWVRFX1NUUklORyxlLnNuYXBzaG90VmVyc2lvbikpLHhsKHIsdCksZT1uZXcgVHUoZS50YXJnZXQsdCwxLGUuc2VxdWVuY2VOdW1iZXIpLFJsKHIsZSkpfSksci5yZW1vdGVTeW5jZXIuYXBwbHlSZW1vdGVFdmVudChlKSldOlszLDEwXTtjYXNlIDk6dC5zZW50KCksdC5sYWJlbD0xMDtjYXNlIDEwOnJldHVyblszLDEzXTtjYXNlIDExOnJldHVybiB4cihcIlJlbW90ZVN0b3JlXCIsXCJGYWlsZWQgdG8gcmFpc2Ugc25hcHNob3Q6XCIsbz10LnNlbnQoKSksWzQsVmwocyxvKV07Y2FzZSAxMjpyZXR1cm4gdC5zZW50KCksWzMsMTNdO2Nhc2UgMTM6cmV0dXJuWzJdfXZhciByLGksZX0pfSl9ZnVuY3Rpb24gVmwobixyLGkpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmlmKCFsdShyKSl0aHJvdyByO3JldHVybiBuLiRyLmFkZCgxKSxbNCxBbChuKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxuLkJyLnNldChcIk9mZmxpbmVcIiksaT1pfHxmdW5jdGlvbigpe3JldHVybiBuaChuLmxvY2FsU3RvcmUpfSxuLmFzeW5jUXVldWUuZW5xdWV1ZVJldHJ5YWJsZShmdW5jdGlvbigpe3JldHVybiB5KGUsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4geHIoXCJSZW1vdGVTdG9yZVwiLFwiUmV0cnlpbmcgSW5kZXhlZERCIGFjY2Vzc1wiKSxbNCxpKCldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksbi4kci5kZWxldGUoMSksWzQsRGwobildO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksWzJdfX0pfSl9KSxbMl19fSl9KX1mdW5jdGlvbiBVbChlLG4pe3JldHVybiBuKCkuY2F0Y2goZnVuY3Rpb24odCl7cmV0dXJuIFZsKGUsdCxuKX0pfWZ1bmN0aW9uIHFsKHUpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpLG8scyxhO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpvPVFsKGk9dSkscz0wPGkua3IubGVuZ3RoP2kua3JbaS5rci5sZW5ndGgtMV0uYmF0Y2hJZDotMSx0LmxhYmVsPTE7Y2FzZSAxOmlmKCEoUGwoaSkmJmkua3IubGVuZ3RoPDEwKSlyZXR1cm5bMyw3XTt0LmxhYmVsPTI7Y2FzZSAyOnJldHVybiB0LnRyeXMucHVzaChbMiw0LCw2XSksWzQsKGU9aS5sb2NhbFN0b3JlLG49cywocj1lKS5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkdldCBuZXh0IG11dGF0aW9uIGJhdGNoXCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT1uJiYobj0tMSksci5fbi5nZXROZXh0TXV0YXRpb25CYXRjaEFmdGVyQmF0Y2hJZCh0LG4pfSkpXTtjYXNlIDM6cmV0dXJuIG51bGw9PT0oYT10LnNlbnQoKSk/KDA9PT1pLmtyLmxlbmd0aCYmby5pcigpLFszLDddKToocz1hLmJhdGNoSWQsZnVuY3Rpb24odCxlKXt0LmtyLnB1c2goZSk7dD1RbCh0KTt0LmVyKCkmJnQucHImJnQuRXIoZS5tdXRhdGlvbnMpfShpLGEpLFszLDZdKTtjYXNlIDQ6cmV0dXJuIGE9dC5zZW50KCksWzQsVmwoaSxhKV07Y2FzZSA1OnJldHVybiB0LnNlbnQoKSxbMyw2XTtjYXNlIDY6cmV0dXJuWzMsMV07Y2FzZSA3OnJldHVybiBCbChpKSYmamwoaSksWzJdfXZhciBlLG4scn0pfSl9ZnVuY3Rpb24gQmwodCl7cmV0dXJuIFBsKHQpJiYhUWwodCkudHIoKSYmMDx0LmtyLmxlbmd0aH1mdW5jdGlvbiBqbCh0KXtRbCh0KS5zdGFydCgpfWZ1bmN0aW9uIEtsKG4scil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPW4scj8oZS4kci5kZWxldGUoMiksWzQsRGwoZSldKTpbMywyXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFszLDVdO2Nhc2UgMjpyZXR1cm4gcj9bMyw0XTooZS4kci5hZGQoMiksWzQsQWwoZSldKTtjYXNlIDM6dC5zZW50KCksZS5Cci5zZXQoXCJVbmtub3duXCIpLHQubGFiZWw9NDtjYXNlIDQ6dC5sYWJlbD01O2Nhc2UgNTpyZXR1cm5bMl19fSl9KX1mdW5jdGlvbiBHbChuKXt2YXIgdCxlLHIsaT10aGlzO3JldHVybiBuLlVyfHwobi5Vcj0odD1uLmRhdGFzdG9yZSxlPW4uYXN5bmNRdWV1ZSxyPXtJaTpmdW5jdGlvbihuKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiBuLk9yLmZvckVhY2goZnVuY3Rpb24odCxlKXtSbChuLHQpfSksWzJdfSl9KX0uYmluZChudWxsLG4pLFJpOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gTWwoZSksTGwoZSk/KGUuQnIuTnIobiksT2woZSkpOmUuQnIuc2V0KFwiVW5rbm93blwiKSxbMl19KX0pfS5iaW5kKG51bGwsbiksX3I6RmwuYmluZChudWxsLG4pfSx0LmJyKCksbmV3IG1sKGUsdC5IaSx0LmNyZWRlbnRpYWxzLHQuUixyKSksbi5Nci5wdXNoKGZ1bmN0aW9uKGUpe3JldHVybiB5KGksdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT8obi5Vci5zcigpLExsKG4pP09sKG4pOm4uQnIuc2V0KFwiVW5rbm93blwiKSxbMywzXSk6WzMsMV07Y2FzZSAxOnJldHVybls0LG4uVXIuc3RvcCgpXTtjYXNlIDI6dC5zZW50KCksTWwobiksdC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMl19fSl9KX0pKSxuLlVyfWZ1bmN0aW9uIFFsKG4pe3ZhciB0LGUscixpPXRoaXM7cmV0dXJuIG4uUXJ8fChuLlFyPSh0PW4uZGF0YXN0b3JlLGU9bi5hc3luY1F1ZXVlLHI9e0lpOmZ1bmN0aW9uKGUpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIFFsKGUpLkFyKCksWzJdfSl9KX0uYmluZChudWxsLG4pLFJpOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBuJiZRbChlKS5wcj9bNCxmdW5jdGlvbihyLGkpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBfcyhuPWkuY29kZSkmJm4hPT1Eci5BQk9SVEVEPyhlPXIua3Iuc2hpZnQoKSxRbChyKS5zcigpLFs0LFVsKHIsZnVuY3Rpb24oKXtyZXR1cm4gci5yZW1vdGVTeW5jZXIucmVqZWN0RmFpbGVkV3JpdGUoZS5iYXRjaElkLGkpfSldKTpbMywzXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFs0LHFsKHIpXTtjYXNlIDI6dC5zZW50KCksdC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMl19fSl9KX0oZSxuKV06WzMsMl07Y2FzZSAxOnQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuIEJsKGUpJiZqbChlKSxbMl19fSl9KX0uYmluZChudWxsLG4pLElyOmZ1bmN0aW9uKG8pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scixpO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7Zm9yKGU9UWwobyksbj0wLHI9by5rcjtuPHIubGVuZ3RoO24rKylpPXJbbl0sZS5FcihpLm11dGF0aW9ucyk7cmV0dXJuWzJdfSl9KX0uYmluZChudWxsLG4pLFRyOmZ1bmN0aW9uKHIsaSxvKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1yLmtyLnNoaWZ0KCksbj1FdS5mcm9tKGUsaSxvKSxbNCxVbChyLGZ1bmN0aW9uKCl7cmV0dXJuIHIucmVtb3RlU3luY2VyLmFwcGx5U3VjY2Vzc2Z1bFdyaXRlKG4pfSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzQscWwocildO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksWzJdfX0pfSl9LmJpbmQobnVsbCxuKX0sdC5icigpLG5ldyB2bChlLHQuSGksdC5jcmVkZW50aWFscyx0LlIscikpLG4uTXIucHVzaChmdW5jdGlvbihlKXtyZXR1cm4geShpLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU/KG4uUXIuc3IoKSxbNCxxbChuKV0pOlszLDJdO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzMsNF07Y2FzZSAyOnJldHVybls0LG4uUXIuc3RvcCgpXTtjYXNlIDM6dC5zZW50KCksMDxuLmtyLmxlbmd0aCYmKHhyKFwiUmVtb3RlU3RvcmVcIixcIlN0b3BwaW5nIHdyaXRlIHN0cmVhbSB3aXRoIFwiK24ua3IubGVuZ3RoK1wiIHBlbmRpbmcgd3JpdGVzXCIpLG4ua3I9W10pLHQubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzJdfX0pfSl9KSksbi5Rcn12YXIgemw9KEhsLmNyZWF0ZUFuZFNjaGVkdWxlPWZ1bmN0aW9uKHQsZSxuLHIsaSl7aT1uZXcgSGwodCxlLERhdGUubm93KCkrbixyLGkpO3JldHVybiBpLnN0YXJ0KG4pLGl9LEhsLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMudGltZXJIYW5kbGU9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBlLmhhbmRsZURlbGF5RWxhcHNlZCgpfSx0KX0sSGwucHJvdG90eXBlLnNraXBEZWxheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhbmRsZURlbGF5RWxhcHNlZCgpfSxIbC5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKHQpe251bGwhPT10aGlzLnRpbWVySGFuZGxlJiYodGhpcy5jbGVhclRpbWVvdXQoKSx0aGlzLmRlZmVycmVkLnJlamVjdChuZXcgQXIoRHIuQ0FOQ0VMTEVELFwiT3BlcmF0aW9uIGNhbmNlbGxlZFwiKyh0P1wiOiBcIit0OlwiXCIpKSkpfSxIbC5wcm90b3R5cGUuaGFuZGxlRGVsYXlFbGFwc2VkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiBudWxsIT09ZS50aW1lckhhbmRsZT8oZS5jbGVhclRpbWVvdXQoKSxlLm9wKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5kZWZlcnJlZC5yZXNvbHZlKHQpfSkpOlByb21pc2UucmVzb2x2ZSgpfSl9LEhsLnByb3RvdHlwZS5jbGVhclRpbWVvdXQ9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy50aW1lckhhbmRsZSYmKHRoaXMucmVtb3ZhbENhbGxiYWNrKHRoaXMpLGNsZWFyVGltZW91dCh0aGlzLnRpbWVySGFuZGxlKSx0aGlzLnRpbWVySGFuZGxlPW51bGwpfSxIbCk7ZnVuY3Rpb24gSGwodCxlLG4scixpKXt0aGlzLmFzeW5jUXVldWU9dCx0aGlzLnRpbWVySWQ9ZSx0aGlzLnRhcmdldFRpbWVNcz1uLHRoaXMub3A9cix0aGlzLnJlbW92YWxDYWxsYmFjaz1pLHRoaXMuZGVmZXJyZWQ9bmV3IFphLHRoaXMudGhlbj10aGlzLmRlZmVycmVkLnByb21pc2UudGhlbi5iaW5kKHRoaXMuZGVmZXJyZWQucHJvbWlzZSksdGhpcy5kZWZlcnJlZC5wcm9taXNlLmNhdGNoKGZ1bmN0aW9uKHQpe30pfWZ1bmN0aW9uIFdsKHQsZSl7aWYoT3IoXCJBc3luY1F1ZXVlXCIsZStcIjogXCIrdCksbHUodCkpcmV0dXJuIG5ldyBBcihEci5VTkFWQUlMQUJMRSxlK1wiOiBcIit0KTt0aHJvdyB0fWZ1bmN0aW9uIFlsKCl7dGhpcy5xdWVyaWVzPW5ldyBTYyhrbyxBbyksdGhpcy5vbmxpbmVTdGF0ZT1cIlVua25vd25cIix0aGlzLkdyPW5ldyBTZXR9dmFyIFhsPShuZi5lbXB0eVNldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG5mKHQuY29tcGFyYXRvcil9LG5mLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXRoaXMua2V5ZWRNYXAuZ2V0KHQpfSxuZi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmtleWVkTWFwLmdldCh0KX0sbmYucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc29ydGVkU2V0Lm1pbktleSgpfSxuZi5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvcnRlZFNldC5tYXhLZXkoKX0sbmYucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3J0ZWRTZXQuaXNFbXB0eSgpfSxuZi5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0KXt0PXRoaXMua2V5ZWRNYXAuZ2V0KHQpO3JldHVybiB0P3RoaXMuc29ydGVkU2V0LmluZGV4T2YodCk6LTF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZi5wcm90b3R5cGUsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNvcnRlZFNldC5zaXplfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLG5mLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKG4pe3RoaXMuc29ydGVkU2V0Lmlub3JkZXJUcmF2ZXJzYWwoZnVuY3Rpb24odCxlKXtyZXR1cm4gbih0KSwhMX0pfSxuZi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGVsZXRlKHQua2V5KTtyZXR1cm4gZS5jb3B5KGUua2V5ZWRNYXAuaW5zZXJ0KHQua2V5LHQpLGUuc29ydGVkU2V0Lmluc2VydCh0LG51bGwpKX0sbmYucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldCh0KTtyZXR1cm4gZT90aGlzLmNvcHkodGhpcy5rZXllZE1hcC5yZW1vdmUodCksdGhpcy5zb3J0ZWRTZXQucmVtb3ZlKGUpKTp0aGlzfSxuZi5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBuZikpcmV0dXJuITE7aWYodGhpcy5zaXplIT09dC5zaXplKXJldHVybiExO2Zvcih2YXIgZT10aGlzLnNvcnRlZFNldC5nZXRJdGVyYXRvcigpLG49dC5zb3J0ZWRTZXQuZ2V0SXRlcmF0b3IoKTtlLmhhc05leHQoKTspe3ZhciByPWUuZ2V0TmV4dCgpLmtleSxpPW4uZ2V0TmV4dCgpLmtleTtpZighci5pc0VxdWFsKGkpKXJldHVybiExfXJldHVybiEwfSxuZi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UucHVzaCh0LnRvU3RyaW5nKCkpfSksMD09PWUubGVuZ3RoP1wiRG9jdW1lbnRTZXQgKClcIjpcIkRvY3VtZW50U2V0IChcXG4gIFwiK2Uuam9pbihcIiAgXFxuXCIpK1wiXFxuKVwifSxuZi5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBuZjtyZXR1cm4gbi5jb21wYXJhdG9yPXRoaXMuY29tcGFyYXRvcixuLmtleWVkTWFwPXQsbi5zb3J0ZWRTZXQ9ZSxufSxuZiksSmw9KGVmLnByb3RvdHlwZS50cmFjaz1mdW5jdGlvbih0KXt2YXIgZT10LmRvYy5rZXksbj10aGlzLktyLmdldChlKTshbnx8MCE9PXQudHlwZSYmMz09PW4udHlwZT90aGlzLktyPXRoaXMuS3IuaW5zZXJ0KGUsdCk6Mz09PXQudHlwZSYmMSE9PW4udHlwZT90aGlzLktyPXRoaXMuS3IuaW5zZXJ0KGUse3R5cGU6bi50eXBlLGRvYzp0LmRvY30pOjI9PT10LnR5cGUmJjI9PT1uLnR5cGU/dGhpcy5Lcj10aGlzLktyLmluc2VydChlLHt0eXBlOjIsZG9jOnQuZG9jfSk6Mj09PXQudHlwZSYmMD09PW4udHlwZT90aGlzLktyPXRoaXMuS3IuaW5zZXJ0KGUse3R5cGU6MCxkb2M6dC5kb2N9KToxPT09dC50eXBlJiYwPT09bi50eXBlP3RoaXMuS3I9dGhpcy5Lci5yZW1vdmUoZSk6MT09PXQudHlwZSYmMj09PW4udHlwZT90aGlzLktyPXRoaXMuS3IuaW5zZXJ0KGUse3R5cGU6MSxkb2M6bi5kb2N9KTowPT09dC50eXBlJiYxPT09bi50eXBlP3RoaXMuS3I9dGhpcy5Lci5pbnNlcnQoZSx7dHlwZToyLGRvYzp0LmRvY30pOk1yKCl9LGVmLnByb3RvdHlwZS5qcj1mdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybiB0aGlzLktyLmlub3JkZXJUcmF2ZXJzYWwoZnVuY3Rpb24odCxlKXtuLnB1c2goZSl9KSxufSxlZiksJGw9KHRmLmZyb21Jbml0aWFsRG9jdW1lbnRzPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPVtdO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24odCl7aS5wdXNoKHt0eXBlOjAsZG9jOnR9KX0pLG5ldyB0Zih0LGUsWGwuZW1wdHlTZXQoZSksaSxuLHIsITAsITEpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGYucHJvdG90eXBlLFwiaGFzUGVuZGluZ1dyaXRlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5tdXRhdGVkS2V5cy5pc0VtcHR5KCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdGYucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7aWYoISh0aGlzLmZyb21DYWNoZT09PXQuZnJvbUNhY2hlJiZ0aGlzLnN5bmNTdGF0ZUNoYW5nZWQ9PT10LnN5bmNTdGF0ZUNoYW5nZWQmJnRoaXMubXV0YXRlZEtleXMuaXNFcXVhbCh0Lm11dGF0ZWRLZXlzKSYmQW8odGhpcy5xdWVyeSx0LnF1ZXJ5KSYmdGhpcy5kb2NzLmlzRXF1YWwodC5kb2NzKSYmdGhpcy5vbGREb2NzLmlzRXF1YWwodC5vbGREb2NzKSkpcmV0dXJuITE7dmFyIGU9dGhpcy5kb2NDaGFuZ2VzLG49dC5kb2NDaGFuZ2VzO2lmKGUubGVuZ3RoIT09bi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspaWYoZVtyXS50eXBlIT09bltyXS50eXBlfHwhZVtyXS5kb2MuaXNFcXVhbChuW3JdLmRvYykpcmV0dXJuITE7cmV0dXJuITB9LHRmKSxabD1mdW5jdGlvbigpe3RoaXMuV3I9dm9pZCAwLHRoaXMubGlzdGVuZXJzPVtdfTtmdW5jdGlvbiB0Zih0LGUsbixyLGksbyxzLGEpe3RoaXMucXVlcnk9dCx0aGlzLmRvY3M9ZSx0aGlzLm9sZERvY3M9bix0aGlzLmRvY0NoYW5nZXM9cix0aGlzLm11dGF0ZWRLZXlzPWksdGhpcy5mcm9tQ2FjaGU9byx0aGlzLnN5bmNTdGF0ZUNoYW5nZWQ9cyx0aGlzLmV4Y2x1ZGVzTWV0YWRhdGFDaGFuZ2VzPWF9ZnVuY3Rpb24gZWYoKXt0aGlzLktyPW5ldyBOcyhtaS5jb21wYXJhdG9yKX1mdW5jdGlvbiBuZihuKXt0aGlzLmNvbXBhcmF0b3I9bj9mdW5jdGlvbih0LGUpe3JldHVybiBuKHQsZSl8fG1pLmNvbXBhcmF0b3IodC5rZXksZS5rZXkpfTpmdW5jdGlvbih0LGUpe3JldHVybiBtaS5jb21wYXJhdG9yKHQua2V5LGUua2V5KX0sdGhpcy5rZXllZE1hcD1Wcyx0aGlzLnNvcnRlZFNldD1uZXcgTnModGhpcy5jb21wYXJhdG9yKX1mdW5jdGlvbiByZihzLGEpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scixpLG87cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmlmKGU9cyxuPWEucXVlcnkscj0hMSwoaT1lLnF1ZXJpZXMuZ2V0KG4pKXx8KHI9ITAsaT1uZXcgWmwpLCFyKXJldHVyblszLDRdO3QubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDMsLDRdKSxvPWksWzQsZS5vbkxpc3RlbihuKV07Y2FzZSAyOnJldHVybiBvLldyPXQuc2VudCgpLFszLDRdO2Nhc2UgMzpyZXR1cm4gbz10LnNlbnQoKSxvPVdsKG8sXCJJbml0aWFsaXphdGlvbiBvZiBxdWVyeSAnXCIrQ28oYS5xdWVyeSkrXCInIGZhaWxlZFwiKSxbMix2b2lkIGEub25FcnJvcihvKV07Y2FzZSA0OnJldHVybiBlLnF1ZXJpZXMuc2V0KG4saSksaS5saXN0ZW5lcnMucHVzaChhKSxhLnpyKGUub25saW5lU3RhdGUpLGkuV3ImJmEuSHIoaS5XcikmJnNmKGUpLFsyXX19KX0pfWZ1bmN0aW9uIG9mKHMsYSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyLGksbztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiBlPXMsbj1hLnF1ZXJ5LHI9ITEsKGk9ZS5xdWVyaWVzLmdldChuKSkmJjA8PShvPWkubGlzdGVuZXJzLmluZGV4T2YoYSkpJiYoaS5saXN0ZW5lcnMuc3BsaWNlKG8sMSkscj0wPT09aS5saXN0ZW5lcnMubGVuZ3RoKSxyP1syLChlLnF1ZXJpZXMuZGVsZXRlKG4pLGUub25Vbmxpc3RlbihuKSldOlsyXX0pfSl9ZnVuY3Rpb24gc2YodCl7dC5Hci5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QubmV4dCgpfSl9dmFyIGFmPShwZi5wcm90b3R5cGUuSHI9ZnVuY3Rpb24odCl7aWYoIXRoaXMub3B0aW9ucy5pbmNsdWRlTWV0YWRhdGFDaGFuZ2VzKXtmb3IodmFyIGU9W10sbj0wLHI9dC5kb2NDaGFuZ2VzO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dOzMhPT1pLnR5cGUmJmUucHVzaChpKX10PW5ldyAkbCh0LnF1ZXJ5LHQuZG9jcyx0Lm9sZERvY3MsZSx0Lm11dGF0ZWRLZXlzLHQuZnJvbUNhY2hlLHQuc3luY1N0YXRlQ2hhbmdlZCwhMCl9dmFyIG89ITE7cmV0dXJuIHRoaXMuWXI/dGhpcy5acih0KSYmKHRoaXMuSnIubmV4dCh0KSxvPSEwKTp0aGlzLmVvKHQsdGhpcy5vbmxpbmVTdGF0ZSkmJih0aGlzLm5vKHQpLG89ITApLHRoaXMuWHI9dCxvfSxwZi5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbih0KXt0aGlzLkpyLmVycm9yKHQpfSxwZi5wcm90b3R5cGUuenI9ZnVuY3Rpb24odCl7dGhpcy5vbmxpbmVTdGF0ZT10O3ZhciBlPSExO3JldHVybiB0aGlzLlhyJiYhdGhpcy5ZciYmdGhpcy5lbyh0aGlzLlhyLHQpJiYodGhpcy5ubyh0aGlzLlhyKSxlPSEwKSxlfSxwZi5wcm90b3R5cGUuZW89ZnVuY3Rpb24odCxlKXtpZighdC5mcm9tQ2FjaGUpcmV0dXJuITA7dmFyIG49XCJPZmZsaW5lXCIhPT1lO3JldHVybiEodGhpcy5vcHRpb25zLnNvJiZufHx0LmRvY3MuaXNFbXB0eSgpJiZcIk9mZmxpbmVcIiE9PWUpfSxwZi5wcm90b3R5cGUuWnI9ZnVuY3Rpb24odCl7aWYoMDx0LmRvY0NoYW5nZXMubGVuZ3RoKXJldHVybiEwO3ZhciBlPXRoaXMuWHImJnRoaXMuWHIuaGFzUGVuZGluZ1dyaXRlcyE9PXQuaGFzUGVuZGluZ1dyaXRlcztyZXR1cm4hKCF0LnN5bmNTdGF0ZUNoYW5nZWQmJiFlKSYmITA9PT10aGlzLm9wdGlvbnMuaW5jbHVkZU1ldGFkYXRhQ2hhbmdlc30scGYucHJvdG90eXBlLm5vPWZ1bmN0aW9uKHQpe3Q9JGwuZnJvbUluaXRpYWxEb2N1bWVudHModC5xdWVyeSx0LmRvY3MsdC5tdXRhdGVkS2V5cyx0LmZyb21DYWNoZSksdGhpcy5Zcj0hMCx0aGlzLkpyLm5leHQodCl9LHBmKSx1Zj0oZGYucHJvdG90eXBlLmlvPWZ1bmN0aW9uKCl7cmV0dXJuXCJtZXRhZGF0YVwiaW4gdGhpcy5wYXlsb2FkfSxkZiksY2Y9KGZmLnByb3RvdHlwZS5xbj1mdW5jdGlvbih0KXtyZXR1cm4gbGEodGhpcy5SLHQpfSxmZi5wcm90b3R5cGUuVW49ZnVuY3Rpb24odCl7cmV0dXJuIHQubWV0YWRhdGEuZXhpc3RzP21hKHRoaXMuUix0LmRvY3VtZW50LCExKTpPaS5uZXdOb0RvY3VtZW50KHRoaXMucW4odC5tZXRhZGF0YS5uYW1lKSx0aGlzLlFuKHQubWV0YWRhdGEucmVhZFRpbWUpKX0sZmYucHJvdG90eXBlLlFuPWFhLGZmKSxoZj0obGYucHJvdG90eXBlLm9vPWZ1bmN0aW9uKHQpe3RoaXMucHJvZ3Jlc3MuYnl0ZXNMb2FkZWQrPXQuYnl0ZUxlbmd0aDt2YXIgZT10aGlzLnByb2dyZXNzLmRvY3VtZW50c0xvYWRlZDtyZXR1cm4gdC5wYXlsb2FkLm5hbWVkUXVlcnk/dGhpcy5xdWVyaWVzLnB1c2godC5wYXlsb2FkLm5hbWVkUXVlcnkpOnQucGF5bG9hZC5kb2N1bWVudE1ldGFkYXRhPyh0aGlzLmRvY3VtZW50cy5wdXNoKHttZXRhZGF0YTp0LnBheWxvYWQuZG9jdW1lbnRNZXRhZGF0YX0pLHQucGF5bG9hZC5kb2N1bWVudE1ldGFkYXRhLmV4aXN0c3x8KytlKTp0LnBheWxvYWQuZG9jdW1lbnQmJih0aGlzLmRvY3VtZW50c1t0aGlzLmRvY3VtZW50cy5sZW5ndGgtMV0uZG9jdW1lbnQ9dC5wYXlsb2FkLmRvY3VtZW50LCsrZSksZSE9PXRoaXMucHJvZ3Jlc3MuZG9jdW1lbnRzTG9hZGVkPyh0aGlzLnByb2dyZXNzLmRvY3VtZW50c0xvYWRlZD1lLE9iamVjdC5hc3NpZ24oe30sdGhpcy5wcm9ncmVzcykpOm51bGx9LGxmLnByb3RvdHlwZS5jbz1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IE1hcCxuPW5ldyBjZih0aGlzLlIpLHI9MCxpPXQ7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07aWYoby5tZXRhZGF0YS5xdWVyaWVzKWZvcih2YXIgcz1uLnFuKG8ubWV0YWRhdGEubmFtZSksYT0wLHU9by5tZXRhZGF0YS5xdWVyaWVzO2E8dS5sZW5ndGg7YSsrKXt2YXIgYz11W2FdLGg9KGUuZ2V0KGMpfHxCcygpKS5hZGQocyk7ZS5zZXQoYyxoKX19cmV0dXJuIGV9LGxmLnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scixpO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxmdW5jdGlvbihsLGYsZCxwKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbixyLGksbyxlLHMsYSx1LGMsaDtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6Zm9yKG49bCxyPUJzKCksaT1QcyxvPVVzLGU9MCxzPWQ7ZTxzLmxlbmd0aDtlKyspYT1zW2VdLHU9Zi5xbihhLm1ldGFkYXRhLm5hbWUpLGEuZG9jdW1lbnQmJihyPXIuYWRkKHUpKSxpPWkuaW5zZXJ0KHUsZi5VbihhKSksbz1vLmluc2VydCh1LGYuUW4oYS5tZXRhZGF0YS5yZWFkVGltZSkpO3JldHVybiBjPW4uJG4ubmV3Q2hhbmdlQnVmZmVyKHt0cmFja1JlbW92YWxzOiEwfSksWzQsb2gobixObyhibygkci5mcm9tU3RyaW5nKFwiX19idW5kbGVfXy9kb2NzL1wiK3ApKSkpXTtjYXNlIDE6cmV0dXJuIGg9dC5zZW50KCksWzIsbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkFwcGx5IGJ1bmRsZSBkb2N1bWVudHNcIixcInJlYWR3cml0ZVwiLGZ1bmN0aW9uKGUpe3JldHVybiBpaChlLGMsaSxHci5taW4oKSxvKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBjLmFwcGx5KGUpLHR9KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBuLnFlLnJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkKGUsaC50YXJnZXRJZCkubmV4dChmdW5jdGlvbigpe3JldHVybiBuLnFlLmFkZE1hdGNoaW5nS2V5cyhlLHIsaC50YXJnZXRJZCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG4uTW4uRW4oZSx0KX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdH0pfSl9KV19fSl9KX0odGhpcy5sb2NhbFN0b3JlLG5ldyBjZih0aGlzLlIpLHRoaXMuZG9jdW1lbnRzLHRoaXMucm8uaWQpXTtjYXNlIDE6ZT10LnNlbnQoKSxuPXRoaXMuY28odGhpcy5kb2N1bWVudHMpLHI9MCxpPXRoaXMucXVlcmllcyx0LmxhYmVsPTI7Y2FzZSAyOnJldHVybiByPGkubGVuZ3RoPyhpPWlbcl0sWzQsZnVuY3Rpb24oZSxpLG8pe3JldHVybiB2b2lkIDA9PT1vJiYobz1CcygpKSx5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuLHI7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LG9oKGUsTm8oRnUoaS5idW5kbGVkUXVlcnkpKSldO2Nhc2UgMTpyZXR1cm4gbj10LnNlbnQoKSxbMiwocj1lKS5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIlNhdmUgbmFtZWQgcXVlcnlcIixcInJlYWR3cml0ZVwiLGZ1bmN0aW9uKHQpe3ZhciBlPWFhKGkucmVhZFRpbWUpO2lmKDA8PW4uc25hcHNob3RWZXJzaW9uLmNvbXBhcmVUbyhlKSlyZXR1cm4gci5RZS5zYXZlTmFtZWRRdWVyeSh0LGkpO2U9bi53aXRoUmVzdW1lVG9rZW4obmkuRU1QVFlfQllURV9TVFJJTkcsZSk7cmV0dXJuIHIuRm49ci5Gbi5pbnNlcnQoZS50YXJnZXRJZCxlKSxyLnFlLnVwZGF0ZVRhcmdldERhdGEodCxlKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHIucWUucmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQodCxuLnRhcmdldElkKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gci5xZS5hZGRNYXRjaGluZ0tleXModCxvLG4udGFyZ2V0SWQpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiByLlFlLnNhdmVOYW1lZFF1ZXJ5KHQsaSl9KX0pXX19KX0pfSh0aGlzLmxvY2FsU3RvcmUsaSxuLmdldChpLm5hbWUpKV0pOlszLDVdO2Nhc2UgMzp0LnNlbnQoKSx0LmxhYmVsPTQ7Y2FzZSA0OnJldHVybiByKyssWzMsMl07Y2FzZSA1OnJldHVyblsyLCh0aGlzLnByb2dyZXNzLnRhc2tTdGF0ZT1cIlN1Y2Nlc3NcIixuZXcgR2MoT2JqZWN0LmFzc2lnbih7fSx0aGlzLnByb2dyZXNzKSxlKSldfX0pfSl9LGxmKTtmdW5jdGlvbiBsZih0LGUsbil7dGhpcy5ybz10LHRoaXMubG9jYWxTdG9yZT1lLHRoaXMuUj1uLHRoaXMucXVlcmllcz1bXSx0aGlzLmRvY3VtZW50cz1bXSx0aGlzLnByb2dyZXNzPXlmKHQpfWZ1bmN0aW9uIGZmKHQpe3RoaXMuUj10fWZ1bmN0aW9uIGRmKHQsZSl7dGhpcy5wYXlsb2FkPXQsdGhpcy5ieXRlTGVuZ3RoPWV9ZnVuY3Rpb24gcGYodCxlLG4pe3RoaXMucXVlcnk9dCx0aGlzLkpyPWUsdGhpcy5Zcj0hMSx0aGlzLlhyPW51bGwsdGhpcy5vbmxpbmVTdGF0ZT1cIlVua25vd25cIix0aGlzLm9wdGlvbnM9bnx8e319ZnVuY3Rpb24geWYodCl7cmV0dXJue3Rhc2tTdGF0ZTpcIlJ1bm5pbmdcIixkb2N1bWVudHNMb2FkZWQ6MCxieXRlc0xvYWRlZDowLHRvdGFsRG9jdW1lbnRzOnQudG90YWxEb2N1bWVudHMsdG90YWxCeXRlczp0LnRvdGFsQnl0ZXN9fXZhciBnZj1mdW5jdGlvbih0KXt0aGlzLmtleT10fSxtZj1mdW5jdGlvbih0KXt0aGlzLmtleT10fSx2Zj0oT2JqZWN0LmRlZmluZVByb3BlcnR5KFRmLnByb3RvdHlwZSxcIndvXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVvfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFRmLnByb3RvdHlwZS5fbz1mdW5jdGlvbih0LGUpe3ZhciBzPXRoaXMsYT1lP2UubW86bmV3IEpsLHU9KGV8fHRoaXMpLmZvLGM9KGV8fHRoaXMpLm11dGF0ZWRLZXlzLGg9dSxsPSExLGY9d28odGhpcy5xdWVyeSkmJnUuc2l6ZT09PXRoaXMucXVlcnkubGltaXQ/dS5sYXN0KCk6bnVsbCxkPUlvKHRoaXMucXVlcnkpJiZ1LnNpemU9PT10aGlzLnF1ZXJ5LmxpbWl0P3UuZmlyc3QoKTpudWxsO2lmKHQuaW5vcmRlclRyYXZlcnNhbChmdW5jdGlvbih0LGUpe3ZhciBuPXUuZ2V0KHQpLHI9Um8ocy5xdWVyeSxlKT9lOm51bGwsaT0hIW4mJnMubXV0YXRlZEtleXMuaGFzKG4ua2V5KSxvPSEhciYmKHIuaGFzTG9jYWxNdXRhdGlvbnN8fHMubXV0YXRlZEtleXMuaGFzKHIua2V5KSYmci5oYXNDb21taXR0ZWRNdXRhdGlvbnMpLGU9ITE7biYmcj9uLmRhdGEuaXNFcXVhbChyLmRhdGEpP2khPT1vJiYoYS50cmFjayh7dHlwZTozLGRvYzpyfSksZT0hMCk6cy55byhuLHIpfHwoYS50cmFjayh7dHlwZToyLGRvYzpyfSksZT0hMCwoZiYmMDxzLmxvKHIsZil8fGQmJnMubG8ocixkKTwwKSYmKGw9ITApKTohbiYmcj8oYS50cmFjayh7dHlwZTowLGRvYzpyfSksZT0hMCk6biYmIXImJihhLnRyYWNrKHt0eXBlOjEsZG9jOm59KSxlPSEwLChmfHxkKSYmKGw9ITApKSxlJiYoYz1yPyhoPWguYWRkKHIpLG8/Yy5hZGQodCk6Yy5kZWxldGUodCkpOihoPWguZGVsZXRlKHQpLGMuZGVsZXRlKHQpKSl9KSx3byh0aGlzLnF1ZXJ5KXx8SW8odGhpcy5xdWVyeSkpZm9yKDtoLnNpemU+dGhpcy5xdWVyeS5saW1pdDspe3ZhciBuPXdvKHRoaXMucXVlcnkpP2gubGFzdCgpOmguZmlyc3QoKSxoPWguZGVsZXRlKG4ua2V5KSxjPWMuZGVsZXRlKG4ua2V5KTthLnRyYWNrKHt0eXBlOjEsZG9jOm59KX1yZXR1cm57Zm86aCxtbzphLE5uOmwsbXV0YXRlZEtleXM6Y319LFRmLnByb3RvdHlwZS55bz1mdW5jdGlvbih0LGUpe3JldHVybiB0Lmhhc0xvY2FsTXV0YXRpb25zJiZlLmhhc0NvbW1pdHRlZE11dGF0aW9ucyYmIWUuaGFzTG9jYWxNdXRhdGlvbnN9LFRmLnByb3RvdHlwZS5hcHBseUNoYW5nZXM9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMscj10aGlzLmZvO3RoaXMuZm89dC5mbyx0aGlzLm11dGF0ZWRLZXlzPXQubXV0YXRlZEtleXM7dmFyIGk9dC5tby5qcigpO2kuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiByPXQudHlwZSxpPWUudHlwZSxuKHIpLW4oaSl8fG8ubG8odC5kb2MsZS5kb2MpO2Z1bmN0aW9uIG4odCl7c3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gMTtjYXNlIDI6Y2FzZSAzOnJldHVybiAyO2Nhc2UgMTpyZXR1cm4gMDtkZWZhdWx0OnJldHVybiBNcigpfX12YXIgcixpfSksdGhpcy5wbyhuKTt2YXIgcz1lP3RoaXMuRW8oKTpbXSxuPTA9PT10aGlzLmhvLnNpemUmJnRoaXMuY3VycmVudD8xOjAsZT1uIT09dGhpcy5hbztyZXR1cm4gdGhpcy5hbz1uLDAhPT1pLmxlbmd0aHx8ZT97c25hcHNob3Q6bmV3ICRsKHRoaXMucXVlcnksdC5mbyxyLGksdC5tdXRhdGVkS2V5cywwPT1uLGUsITEpLFRvOnN9OntUbzpzfX0sVGYucHJvdG90eXBlLnpyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmN1cnJlbnQmJlwiT2ZmbGluZVwiPT09dD8odGhpcy5jdXJyZW50PSExLHRoaXMuYXBwbHlDaGFuZ2VzKHtmbzp0aGlzLmZvLG1vOm5ldyBKbCxtdXRhdGVkS2V5czp0aGlzLm11dGF0ZWRLZXlzLE5uOiExfSwhMSkpOntUbzpbXX19LFRmLnByb3RvdHlwZS5Jbz1mdW5jdGlvbih0KXtyZXR1cm4hdGhpcy51by5oYXModCkmJiEhdGhpcy5mby5oYXModCkmJiF0aGlzLmZvLmdldCh0KS5oYXNMb2NhbE11dGF0aW9uc30sVGYucHJvdG90eXBlLnBvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dCYmKHQuYWRkZWREb2N1bWVudHMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS51bz1lLnVvLmFkZCh0KX0pLHQubW9kaWZpZWREb2N1bWVudHMuZm9yRWFjaChmdW5jdGlvbih0KXt9KSx0LnJlbW92ZWREb2N1bWVudHMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS51bz1lLnVvLmRlbGV0ZSh0KX0pLHRoaXMuY3VycmVudD10LmN1cnJlbnQpfSxUZi5wcm90b3R5cGUuRW89ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKCF0aGlzLmN1cnJlbnQpcmV0dXJuW107dmFyIG49dGhpcy5obzt0aGlzLmhvPUJzKCksdGhpcy5mby5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuSW8odC5rZXkpJiYoZS5obz1lLmhvLmFkZCh0LmtleSkpfSk7dmFyIHI9W107cmV0dXJuIG4uZm9yRWFjaChmdW5jdGlvbih0KXtlLmhvLmhhcyh0KXx8ci5wdXNoKG5ldyBtZih0KSl9KSx0aGlzLmhvLmZvckVhY2goZnVuY3Rpb24odCl7bi5oYXModCl8fHIucHVzaChuZXcgZ2YodCkpfSkscn0sVGYucHJvdG90eXBlLkFvPWZ1bmN0aW9uKHQpe3RoaXMudW89dC5Cbix0aGlzLmhvPUJzKCk7dD10aGlzLl9vKHQuZG9jdW1lbnRzKTtyZXR1cm4gdGhpcy5hcHBseUNoYW5nZXModCwhMCl9LFRmLnByb3RvdHlwZS5Sbz1mdW5jdGlvbigpe3JldHVybiAkbC5mcm9tSW5pdGlhbERvY3VtZW50cyh0aGlzLnF1ZXJ5LHRoaXMuZm8sdGhpcy5tdXRhdGVkS2V5cywwPT09dGhpcy5hbyl9LFRmKSxiZj1mdW5jdGlvbih0LGUsbil7dGhpcy5xdWVyeT10LHRoaXMudGFyZ2V0SWQ9ZSx0aGlzLnZpZXc9bn0sd2Y9ZnVuY3Rpb24odCl7dGhpcy5rZXk9dCx0aGlzLmJvPSExfSxJZj0oT2JqZWN0LmRlZmluZVByb3BlcnR5KEVmLnByb3RvdHlwZSxcImlzUHJpbWFyeUNsaWVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMD09PXRoaXMuT299LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksRWYpO2Z1bmN0aW9uIEVmKHQsZSxuLHIsaSxvKXt0aGlzLmxvY2FsU3RvcmU9dCx0aGlzLnJlbW90ZVN0b3JlPWUsdGhpcy5ldmVudE1hbmFnZXI9bix0aGlzLnNoYXJlZENsaWVudFN0YXRlPXIsdGhpcy5jdXJyZW50VXNlcj1pLHRoaXMubWF4Q29uY3VycmVudExpbWJvUmVzb2x1dGlvbnM9byx0aGlzLnZvPXt9LHRoaXMuUG89bmV3IFNjKGtvLEFvKSx0aGlzLlZvPW5ldyBNYXAsdGhpcy5Tbz1uZXcgU2V0LHRoaXMuRG89bmV3IE5zKG1pLmNvbXBhcmF0b3IpLHRoaXMuQ289bmV3IE1hcCx0aGlzLk5vPW5ldyBwaCx0aGlzLnhvPXt9LHRoaXMuRm89bmV3IE1hcCx0aGlzLmtvPXNjLll0KCksdGhpcy5vbmxpbmVTdGF0ZT1cIlVua25vd25cIix0aGlzLk9vPXZvaWQgMH1mdW5jdGlvbiBUZih0LGUpe3RoaXMucXVlcnk9dCx0aGlzLnVvPWUsdGhpcy5hbz1udWxsLHRoaXMuY3VycmVudD0hMSx0aGlzLmhvPUJzKCksdGhpcy5tdXRhdGVkS2V5cz1CcygpLHRoaXMubG89eG8odCksdGhpcy5mbz1uZXcgWGwodGhpcy5sbyl9ZnVuY3Rpb24gX2YoaSxvLHMsYSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gaS4kbz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHIsaSxvLHMpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybihlPWkudmlldy5fbyhvKSkuTm4/WzQsYWgoci5sb2NhbFN0b3JlLGkucXVlcnksITEpLnRoZW4oZnVuY3Rpb24odCl7dD10LmRvY3VtZW50cztyZXR1cm4gaS52aWV3Ll9vKHQsZSl9KV06WzMsMl07Y2FzZSAxOmU9dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gbj1zJiZzLnRhcmdldENoYW5nZXMuZ2V0KGkudGFyZ2V0SWQpLG49aS52aWV3LmFwcGx5Q2hhbmdlcyhlLHIuaXNQcmltYXJ5Q2xpZW50LG4pLFsyLChMZihyLGkudGFyZ2V0SWQsbi5Ubyksbi5zbmFwc2hvdCldfX0pfSl9KGksdCxlLG4pfSxbNCxhaChpLmxvY2FsU3RvcmUsbywhMCldO2Nhc2UgMTpyZXR1cm4gbj10LnNlbnQoKSxyPW5ldyB2ZihvLG4uQm4pLGU9ci5fbyhuLmRvY3VtZW50cyksbj1Hcy5jcmVhdGVTeW50aGVzaXplZFRhcmdldENoYW5nZUZvckN1cnJlbnRDaGFuZ2UocyxhJiZcIk9mZmxpbmVcIiE9PWkub25saW5lU3RhdGUpLG49ci5hcHBseUNoYW5nZXMoZSxpLmlzUHJpbWFyeUNsaWVudCxuKSxMZihpLHMsbi5Ubykscj1uZXcgYmYobyxzLHIpLFsyLChpLlBvLnNldChvLHIpLGkuVm8uaGFzKHMpP2kuVm8uZ2V0KHMpLnB1c2gobyk6aS5Wby5zZXQocyxbb10pLG4uc25hcHNob3QpXX19KX0pfWZ1bmN0aW9uIFNmKGYsZCxwKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcyxsO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpsPUtmKGYpLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDUsLDZdKSxbNCwoaT1sLmxvY2FsU3RvcmUsYT1kLGM9aSxoPUtyLm5vdygpLG89YS5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5hZGQoZS5rZXkpfSxCcygpKSxjLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiTG9jYWxseSB3cml0ZSBtdXRhdGlvbnNcIixcInJlYWR3cml0ZVwiLGZ1bmN0aW9uKHMpe3JldHVybiBjLk1uLnBuKHMsbykubmV4dChmdW5jdGlvbih0KXt1PXQ7Zm9yKHZhciBlPVtdLG49MCxyPWE7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl0sbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1udWxsLHI9MCxpPXQuZmllbGRUcmFuc2Zvcm1zO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdLHM9ZS5kYXRhLmZpZWxkKG8uZmllbGQpLHM9TW8oby50cmFuc2Zvcm0sc3x8bnVsbCk7bnVsbCE9cyYmKG49bnVsbD09bj9SaS5lbXB0eSgpOm4pLnNldChvLmZpZWxkLHMpfXJldHVybiBufHxudWxsfShpLHUuZ2V0KGkua2V5KSk7bnVsbCE9byYmZS5wdXNoKG5ldyBocyhpLmtleSxvLGZ1bmN0aW9uIHModCl7dmFyIGE9W107cmV0dXJuIFdyKHQuZmllbGRzfHx7fSxmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyB0aShbdF0pO2lmKENpKGUpKWlmKDA9PT0oZT1zKGUubWFwVmFsdWUpLmZpZWxkcykubGVuZ3RoKWEucHVzaChuKTtlbHNlIGZvcih2YXIgcj0wLGk9ZTtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTthLnB1c2gobi5jaGlsZChvKSl9ZWxzZSBhLnB1c2gobil9KSxuZXcgZWkoYSl9KG8udG9Qcm90bygpLm1hcFZhbHVlKSxlcy5leGlzdHMoITApKSl9cmV0dXJuIGMuX24uYWRkTXV0YXRpb25CYXRjaChzLGgsZSxhKX0pfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5hcHBseVRvTG9jYWxEb2N1bWVudFNldCh1KSx7YmF0Y2hJZDp0LmJhdGNoSWQsY2hhbmdlczp1fX0pKV07Y2FzZSAyOnJldHVybiBzPXQuc2VudCgpLGwuc2hhcmVkQ2xpZW50U3RhdGUuYWRkUGVuZGluZ011dGF0aW9uKHMuYmF0Y2hJZCksZT1sLG49cy5iYXRjaElkLHI9cCxpPShpPShpPWUueG9bZS5jdXJyZW50VXNlci50b0tleSgpXSl8fG5ldyBOcyhxcikpLmluc2VydChuLHIpLGUueG9bZS5jdXJyZW50VXNlci50b0tleSgpXT1pLFs0LE1mKGwscy5jaGFuZ2VzKV07Y2FzZSAzOnJldHVybiB0LnNlbnQoKSxbNCxxbChsLnJlbW90ZVN0b3JlKV07Y2FzZSA0OnJldHVybiB0LnNlbnQoKSxbMyw2XTtjYXNlIDU6cmV0dXJuIGw9dC5zZW50KCksbD1XbChsLFwiRmFpbGVkIHRvIHBlcnNpc3Qgd3JpdGVcIikscC5yZWplY3QobCksWzMsNl07Y2FzZSA2OnJldHVyblsyXX12YXIgZSxuLHIsaSxhLHUsYyxoLG99KX0pfWZ1bmN0aW9uIE5mKHIsaSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG4sZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6bj1yLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDQsLDZdKSxbNCxyaChuLmxvY2FsU3RvcmUsaSldO2Nhc2UgMjpyZXR1cm4gZT10LnNlbnQoKSxpLnRhcmdldENoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0LGUpe2U9bi5Dby5nZXQoZSk7ZSYmKEZyKHQuYWRkZWREb2N1bWVudHMuc2l6ZSt0Lm1vZGlmaWVkRG9jdW1lbnRzLnNpemUrdC5yZW1vdmVkRG9jdW1lbnRzLnNpemU8PTEpLDA8dC5hZGRlZERvY3VtZW50cy5zaXplP2UuYm89ITA6MDx0Lm1vZGlmaWVkRG9jdW1lbnRzLnNpemU/RnIoZS5ibyk6MDx0LnJlbW92ZWREb2N1bWVudHMuc2l6ZSYmKEZyKGUuYm8pLGUuYm89ITEpKX0pLFs0LE1mKG4sZSxpKV07Y2FzZSAzOnJldHVybiB0LnNlbnQoKSxbMyw2XTtjYXNlIDQ6cmV0dXJuWzQsZGModC5zZW50KCkpXTtjYXNlIDU6cmV0dXJuIHQuc2VudCgpLFszLDZdO2Nhc2UgNjpyZXR1cm5bMl19fSl9KX1mdW5jdGlvbiBEZih0LG4sZSl7dmFyIHIsdD10Oyh0LmlzUHJpbWFyeUNsaWVudCYmMD09PWV8fCF0LmlzUHJpbWFyeUNsaWVudCYmMT09PWUpJiYocj1bXSx0LlBvLmZvckVhY2goZnVuY3Rpb24odCxlKXtlPWUudmlldy56cihuKTtlLnNuYXBzaG90JiZyLnB1c2goZS5zbmFwc2hvdCl9KSxmdW5jdGlvbih0LGkpe3Qub25saW5lU3RhdGU9aTt2YXIgbz0hMTt0LnF1ZXJpZXMuZm9yRWFjaChmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9ZS5saXN0ZW5lcnM7bjxyLmxlbmd0aDtuKyspcltuXS56cihpKSYmKG89ITApfSksbyYmc2YodCl9KHQuZXZlbnRNYW5hZ2VyLG4pLHIubGVuZ3RoJiZ0LnZvLl9yKHIpLHQub25saW5lU3RhdGU9bix0LmlzUHJpbWFyeUNsaWVudCYmdC5zaGFyZWRDbGllbnRTdGF0ZS5zZXRPbmxpbmVTdGF0ZShuKSl9ZnVuY3Rpb24gQWYocyxhLHUpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuLG87cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOm49cyx0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSw0LCw2XSksWzQsKGU9bi5sb2NhbFN0b3JlLHI9YSwoaT1lKS5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIlJlamVjdCBiYXRjaFwiLFwicmVhZHdyaXRlLXByaW1hcnlcIixmdW5jdGlvbihlKXt2YXIgbjtyZXR1cm4gaS5fbi5sb29rdXBNdXRhdGlvbkJhdGNoKGUscikubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gRnIobnVsbCE9PXQpLG49dC5rZXlzKCksaS5fbi5yZW1vdmVNdXRhdGlvbkJhdGNoKGUsdCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGkuX24ucGVyZm9ybUNvbnNpc3RlbmN5Q2hlY2soZSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGkuTW4ucG4oZSxuKX0pfSkpXTtjYXNlIDI6cmV0dXJuIG89dC5zZW50KCksUmYobixhLHUpLENmKG4sYSksbi5zaGFyZWRDbGllbnRTdGF0ZS51cGRhdGVNdXRhdGlvblN0YXRlKGEsXCJyZWplY3RlZFwiLHUpLFs0LE1mKG4sbyldO2Nhc2UgMzpyZXR1cm4gdC5zZW50KCksWzMsNl07Y2FzZSA0OnJldHVybls0LGRjKHQuc2VudCgpKV07Y2FzZSA1OnJldHVybiB0LnNlbnQoKSxbMyw2XTtjYXNlIDY6cmV0dXJuWzJdfXZhciBlLHIsaX0pfSl9ZnVuY3Rpb24ga2YobyxzKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbixyLGk7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOlBsKChuPW8pLnJlbW90ZVN0b3JlKXx8eHIoXCJTeW5jRW5naW5lXCIsXCJUaGUgbmV0d29yayBpcyBkaXNhYmxlZC4gVGhlIHRhc2sgcmV0dXJuZWQgYnkgJ2F3YWl0UGVuZGluZ1dyaXRlcygpJyB3aWxsIG5vdCBjb21wbGV0ZSB1bnRpbCB0aGUgbmV0d29yayBpcyBlbmFibGVkLlwiKSx0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSwzLCw0XSksWzQsKGU9bi5sb2NhbFN0b3JlKS5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkdldCBoaWdoZXN0IHVuYWNrbm93bGVkZ2VkIGJhdGNoIGlkXCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKHQpe3JldHVybiBlLl9uLmdldEhpZ2hlc3RVbmFja25vd2xlZGdlZEJhdGNoSWQodCl9KV07Y2FzZSAyOnJldHVybi0xPT09KHI9dC5zZW50KCkpP1syLHZvaWQgcy5yZXNvbHZlKCldOigoaT1uLkZvLmdldChyKXx8W10pLnB1c2gocyksbi5Gby5zZXQocixpKSxbMyw0XSk7Y2FzZSAzOnJldHVybiBpPXQuc2VudCgpLGk9V2woaSxcIkluaXRpYWxpemF0aW9uIG9mIHdhaXRGb3JQZW5kaW5nV3JpdGVzKCkgb3BlcmF0aW9uIGZhaWxlZFwiKSxzLnJlamVjdChpKSxbMyw0XTtjYXNlIDQ6cmV0dXJuWzJdfXZhciBlfSl9KX1mdW5jdGlvbiBDZih0LGUpeyh0LkZvLmdldChlKXx8W10pLmZvckVhY2goZnVuY3Rpb24odCl7dC5yZXNvbHZlKCl9KSx0LkZvLmRlbGV0ZShlKX1mdW5jdGlvbiBSZih0LGUsbil7dmFyIHI9dCxpPXIueG9bci5jdXJyZW50VXNlci50b0tleSgpXTtpJiYoKHQ9aS5nZXQoZSkpJiYobj90LnJlamVjdChuKTp0LnJlc29sdmUoKSxpPWkucmVtb3ZlKGUpKSxyLnhvW3IuY3VycmVudFVzZXIudG9LZXkoKV09aSl9ZnVuY3Rpb24geGYoZSx0LG4pe3ZvaWQgMD09PW4mJihuPW51bGwpLGUuc2hhcmVkQ2xpZW50U3RhdGUucmVtb3ZlTG9jYWxRdWVyeVRhcmdldCh0KTtmb3IodmFyIHI9MCxpPWUuVm8uZ2V0KHQpO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO2UuUG8uZGVsZXRlKG8pLG4mJmUudm8uTW8obyxuKX1lLlZvLmRlbGV0ZSh0KSxlLmlzUHJpbWFyeUNsaWVudCYmZS5Oby5abih0KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuTm8uY29udGFpbnNLZXkodCl8fE9mKGUsdCl9KX1mdW5jdGlvbiBPZih0LGUpe3QuU28uZGVsZXRlKGUucGF0aC5jYW5vbmljYWxTdHJpbmcoKSk7dmFyIG49dC5Eby5nZXQoZSk7bnVsbCE9PW4mJihDbCh0LnJlbW90ZVN0b3JlLG4pLHQuRG89dC5Eby5yZW1vdmUoZSksdC5Dby5kZWxldGUobiksUGYodCkpfWZ1bmN0aW9uIExmKHQsZSxuKXtmb3IodmFyIHIsaSxvLHM9MCxhPW47czxhLmxlbmd0aDtzKyspe3ZhciB1PWFbc107dSBpbnN0YW5jZW9mIGdmPyh0Lk5vLmFkZFJlZmVyZW5jZSh1LmtleSxlKSxyPXQsbz12b2lkIDAsaT0obz0oaT11KS5rZXkpLnBhdGguY2Fub25pY2FsU3RyaW5nKCksci5Eby5nZXQobyl8fHIuU28uaGFzKGkpfHwoeHIoXCJTeW5jRW5naW5lXCIsXCJOZXcgZG9jdW1lbnQgaW4gbGltYm86IFwiK28pLHIuU28uYWRkKGkpLFBmKHIpKSk6dSBpbnN0YW5jZW9mIG1mPyh4cihcIlN5bmNFbmdpbmVcIixcIkRvY3VtZW50IG5vIGxvbmdlciBpbiBsaW1ibzogXCIrdS5rZXkpLHQuTm8ucmVtb3ZlUmVmZXJlbmNlKHUua2V5LGUpLHQuTm8uY29udGFpbnNLZXkodS5rZXkpfHxPZih0LHUua2V5KSk6TXIoKX19ZnVuY3Rpb24gUGYodCl7Zm9yKDswPHQuU28uc2l6ZSYmdC5Eby5zaXplPHQubWF4Q29uY3VycmVudExpbWJvUmVzb2x1dGlvbnM7KXt2YXIgZT10LlNvLnZhbHVlcygpLm5leHQoKS52YWx1ZTt0LlNvLmRlbGV0ZShlKTt2YXIgbj1uZXcgbWkoJHIuZnJvbVN0cmluZyhlKSksZT10LmtvLm5leHQoKTt0LkNvLnNldChlLG5ldyB3ZihuKSksdC5Ebz10LkRvLmluc2VydChuLGUpLGtsKHQucmVtb3RlU3RvcmUsbmV3IFR1KE5vKGJvKG4ucGF0aCkpLGUsMixfci5vKSl9fWZ1bmN0aW9uIE1mKGUscyxhKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbixyLGksbztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHI9W10saT1bXSxvPVtdLChuPWUpLlBvLmlzRW1wdHkoKT9bMywzXToobi5Qby5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7by5wdXNoKG4uJG8oZSxzLGEpLnRoZW4oZnVuY3Rpb24odCl7dCYmKG4uaXNQcmltYXJ5Q2xpZW50JiZuLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZVF1ZXJ5U3RhdGUoZS50YXJnZXRJZCx0LmZyb21DYWNoZT9cIm5vdC1jdXJyZW50XCI6XCJjdXJyZW50XCIpLHIucHVzaCh0KSx0PXpjLlBuKGUudGFyZ2V0SWQsdCksaS5wdXNoKHQpKX0pKX0pLFs0LFByb21pc2UuYWxsKG8pXSk7Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxuLnZvLl9yKHIpLFs0LGZ1bmN0aW9uKHUsYyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHIsZSxuLGksbyxzLGE7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnI9dSx0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSwzLCw0XSksWzQsci5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIm5vdGlmeUxvY2FsVmlld0NoYW5nZXNcIixcInJlYWR3cml0ZVwiLGZ1bmN0aW9uKG4pe3JldHVybiB0dS5mb3JFYWNoKGMsZnVuY3Rpb24oZSl7cmV0dXJuIHR1LmZvckVhY2goZS5ibixmdW5jdGlvbih0KXtyZXR1cm4gci5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS5hZGRSZWZlcmVuY2UobixlLnRhcmdldElkLHQpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiB0dS5mb3JFYWNoKGUudm4sZnVuY3Rpb24odCl7cmV0dXJuIHIucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUucmVtb3ZlUmVmZXJlbmNlKG4sZS50YXJnZXRJZCx0KX0pfSl9KX0pXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLFszLDRdO2Nhc2UgMzppZighbHUoZT10LnNlbnQoKSkpdGhyb3cgZTtyZXR1cm4geHIoXCJMb2NhbFN0b3JlXCIsXCJGYWlsZWQgdG8gdXBkYXRlIHNlcXVlbmNlIG51bWJlcnM6IFwiK2UpLFszLDRdO2Nhc2UgNDpmb3Iobj0wLGk9YztuPGkubGVuZ3RoO24rKylhPWlbbl0sbz1hLnRhcmdldElkLGEuZnJvbUNhY2hlfHwocz1yLkZuLmdldChvKSxhPXMuc25hcHNob3RWZXJzaW9uLGE9cy53aXRoTGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbihhKSxyLkZuPXIuRm4uaW5zZXJ0KG8sYSkpO3JldHVyblsyXX19KX0pfShuLmxvY2FsU3RvcmUsaSldO2Nhc2UgMjp0LnNlbnQoKSx0LmxhYmVsPTM7Y2FzZSAzOnJldHVyblsyXX19KX0pfWZ1bmN0aW9uIEZmKGksbyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG4scjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuKG49aSkuY3VycmVudFVzZXIuaXNFcXVhbChvKT9bMywzXTooeHIoXCJTeW5jRW5naW5lXCIsXCJVc2VyIGNoYW5nZS4gTmV3IHVzZXI6XCIsby50b0tleSgpKSxbNCx0aChuLmxvY2FsU3RvcmUsbyldKTtjYXNlIDE6cmV0dXJuIHI9dC5zZW50KCksbi5jdXJyZW50VXNlcj1vLChlPW4pLkZvLmZvckVhY2goZnVuY3Rpb24odCl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QucmVqZWN0KG5ldyBBcihEci5DQU5DRUxMRUQsXCInd2FpdEZvclBlbmRpbmdXcml0ZXMnIHByb21pc2UgaXMgcmVqZWN0ZWQgZHVlIHRvIGEgdXNlciBjaGFuZ2UuXCIpKX0pfSksZS5Gby5jbGVhcigpLG4uc2hhcmVkQ2xpZW50U3RhdGUuaGFuZGxlVXNlckNoYW5nZShvLHIucmVtb3ZlZEJhdGNoSWRzLHIuYWRkZWRCYXRjaElkcyksWzQsTWYobixyLkxuKV07Y2FzZSAyOnQuc2VudCgpLHQubGFiZWw9MztjYXNlIDM6cmV0dXJuWzJdfXZhciBlfSl9KX1mdW5jdGlvbiBWZihhLHUsYyxoKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbyxzO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCwoZT0obz1hKS5sb2NhbFN0b3JlLG49dSxpPShyPWUpLl9uLHIucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJMb29rdXAgbXV0YXRpb24gZG9jdW1lbnRzXCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKGUpe3JldHVybiBpLmp0KGUsbikubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdD9yLk1uLnBuKGUsdCk6dHUucmVzb2x2ZShudWxsKX0pfSkpXTtjYXNlIDE6cmV0dXJuIG51bGw9PT0ocz10LnNlbnQoKSk/WzMsNl06XCJwZW5kaW5nXCIhPT1jP1szLDNdOls0LHFsKG8ucmVtb3RlU3RvcmUpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLFszLDRdO2Nhc2UgMzpcImFja25vd2xlZGdlZFwiPT09Y3x8XCJyZWplY3RlZFwiPT09Yz8oUmYobyx1LGh8fG51bGwpLENmKG8sdSksby5sb2NhbFN0b3JlLl9uLkd0KHUpKTpNcigpLHQubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzQsTWYobyxzKV07Y2FzZSA1OnJldHVybiB0LnNlbnQoKSxbMyw3XTtjYXNlIDY6eHIoXCJTeW5jRW5naW5lXCIsXCJDYW5ub3QgYXBwbHkgbXV0YXRpb24gYmF0Y2ggd2l0aCBpZDogXCIrdSksdC5sYWJlbD03O2Nhc2UgNzpyZXR1cm5bMl19dmFyIGUsbixyLGl9KX0pfWZ1bmN0aW9uIFVmKGgsbCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHIsZSxpLG8scyxhLHUsYztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGpmKHI9aCksS2YociksITAhPT1sfHwhMD09PXIuT28/WzMsM106KGU9ci5zaGFyZWRDbGllbnRTdGF0ZS5nZXRBbGxBY3RpdmVRdWVyeVRhcmdldHMoKSxbNCxxZihyLGUudG9BcnJheSgpKV0pO2Nhc2UgMTpyZXR1cm4gaT10LnNlbnQoKSxyLk9vPSEwLFs0LEtsKHIucmVtb3RlU3RvcmUsITApXTtjYXNlIDI6Zm9yKHQuc2VudCgpLG89MCxzPWk7bzxzLmxlbmd0aDtvKyspYT1zW29dLGtsKHIucmVtb3RlU3RvcmUsYSk7cmV0dXJuWzMsN107Y2FzZSAzOnJldHVybiExIT09bHx8ITE9PT1yLk9vP1szLDddOih1PVtdLGM9UHJvbWlzZS5yZXNvbHZlKCksci5Wby5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7ci5zaGFyZWRDbGllbnRTdGF0ZS5pc0xvY2FsUXVlcnlUYXJnZXQoZSk/dS5wdXNoKGUpOmM9Yy50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHhmKHIsZSksc2goci5sb2NhbFN0b3JlLGUsITApfSksQ2woci5yZW1vdGVTdG9yZSxlKX0pLFs0LGNdKTtjYXNlIDQ6cmV0dXJuIHQuc2VudCgpLFs0LHFmKHIsdSldO2Nhc2UgNTpyZXR1cm4gdC5zZW50KCksKG49cikuQ28uZm9yRWFjaChmdW5jdGlvbih0LGUpe0NsKG4ucmVtb3RlU3RvcmUsZSl9KSxuLk5vLnRzKCksbi5Dbz1uZXcgTWFwLG4uRG89bmV3IE5zKG1pLmNvbXBhcmF0b3IpLHIuT289ITEsWzQsS2woci5yZW1vdGVTdG9yZSwhMSldO2Nhc2UgNjp0LnNlbnQoKSx0LmxhYmVsPTc7Y2FzZSA3OnJldHVyblsyXX12YXIgbn0pfSl9ZnVuY3Rpb24gcWYoZCxwKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxvLHMsYSx1LGMsaCxsLGY7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmU9ZCxuPVtdLHI9W10saT0wLG89cCx0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiBpPG8ubGVuZ3RoPyhzPW9baV0sYT12b2lkIDAsKHU9ZS5Wby5nZXQocykpJiYwIT09dS5sZW5ndGg/WzQsb2goZS5sb2NhbFN0b3JlLE5vKHVbMF0pKV06WzMsN10pOlszLDEzXTtjYXNlIDI6YT10LnNlbnQoKSxjPTAsaD11LHQubGFiZWw9MztjYXNlIDM6cmV0dXJuIGM8aC5sZW5ndGg/KGw9aFtjXSxsPWUuUG8uZ2V0KGwpLFs0LGZ1bmN0aW9uKHIsaSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsYWgoKGU9cikubG9jYWxTdG9yZSxpLnF1ZXJ5LCEwKV07Y2FzZSAxOnJldHVybiBuPXQuc2VudCgpLG49aS52aWV3LkFvKG4pLFsyLChlLmlzUHJpbWFyeUNsaWVudCYmTGYoZSxpLnRhcmdldElkLG4uVG8pLG4pXX19KX0pfShlLGwpXSk6WzMsNl07Y2FzZSA0OihsPXQuc2VudCgpKS5zbmFwc2hvdCYmci5wdXNoKGwuc25hcHNob3QpLHQubGFiZWw9NTtjYXNlIDU6cmV0dXJuIGMrKyxbMywzXTtjYXNlIDY6cmV0dXJuWzMsMTFdO2Nhc2UgNzpyZXR1cm5bNCx1aChlLmxvY2FsU3RvcmUscyldO2Nhc2UgODpyZXR1cm4gZj10LnNlbnQoKSxbNCxvaChlLmxvY2FsU3RvcmUsZildO2Nhc2UgOTpyZXR1cm4gYT10LnNlbnQoKSxbNCxfZihlLEJmKGYpLHMsITEpXTtjYXNlIDEwOnQuc2VudCgpLHQubGFiZWw9MTE7Y2FzZSAxMTpuLnB1c2goYSksdC5sYWJlbD0xMjtjYXNlIDEyOnJldHVybiBpKyssWzMsMV07Y2FzZSAxMzpyZXR1cm5bMiwoZS52by5fcihyKSxuKV19fSl9KX1mdW5jdGlvbiBCZih0KXtyZXR1cm4gdm8odC5wYXRoLHQuY29sbGVjdGlvbkdyb3VwLHQub3JkZXJCeSx0LmZpbHRlcnMsdC5saW1pdCxcIkZcIix0LnN0YXJ0QXQsdC5lbmRBdCl9ZnVuY3Rpb24gamYodCl7cmV0dXJuIHQucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLmFwcGx5UmVtb3RlRXZlbnQ9TmYuYmluZChudWxsLHQpLHQucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLmdldFJlbW90ZUtleXNGb3JUYXJnZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10O2lmKCh0PW4uQ28uZ2V0KGUpKSYmdC5ibylyZXR1cm4gQnMoKS5hZGQodC5rZXkpO3ZhciByPUJzKCk7aWYoIShlPW4uVm8uZ2V0KGUpKSlyZXR1cm4gcjtmb3IodmFyIGk9MCxvPWU7aTxvLmxlbmd0aDtpKyspdmFyIHM9b1tpXSxzPW4uUG8uZ2V0KHMpLHI9ci51bmlvbldpdGgocy52aWV3LndvKTtyZXR1cm4gcn0uYmluZChudWxsLHQpLHQucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLnJlamVjdExpc3Rlbj1mdW5jdGlvbihvLHMsYSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyLGk7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybihlPW8pLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZVF1ZXJ5U3RhdGUocyxcInJlamVjdGVkXCIsYSksaT1lLkNvLmdldChzKSwobj1pJiZpLmtleSk/KHI9KHI9bmV3IE5zKG1pLmNvbXBhcmF0b3IpKS5pbnNlcnQobixPaS5uZXdOb0RvY3VtZW50KG4sR3IubWluKCkpKSxpPUJzKCkuYWRkKG4pLGk9bmV3IEtzKEdyLm1pbigpLG5ldyBNYXAsbmV3IE9zKHFyKSxyLGkpLFs0LE5mKGUsaSldKTpbMywyXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLGUuRG89ZS5Eby5yZW1vdmUobiksZS5Dby5kZWxldGUocyksUGYoZSksWzMsNF07Y2FzZSAyOnJldHVybls0LHNoKGUubG9jYWxTdG9yZSxzLCExKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHhmKGUscyxhKX0pLmNhdGNoKGRjKV07Y2FzZSAzOnQuc2VudCgpLHQubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzJdfX0pfSl9LmJpbmQobnVsbCx0KSx0LnZvLl9yPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQscj0hMSxpPTAsbz1lO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldLGE9cy5xdWVyeSxhPW4ucXVlcmllcy5nZXQoYSk7aWYoYSl7Zm9yKHZhciB1PTAsYz1hLmxpc3RlbmVyczt1PGMubGVuZ3RoO3UrKyljW3VdLkhyKHMpJiYocj0hMCk7YS5Xcj1zfX1yJiZzZihuKX0uYmluZChudWxsLHQuZXZlbnRNYW5hZ2VyKSx0LnZvLk1vPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10O2lmKHQ9ci5xdWVyaWVzLmdldChlKSlmb3IodmFyIGk9MCxvPXQubGlzdGVuZXJzO2k8by5sZW5ndGg7aSsrKW9baV0ub25FcnJvcihuKTtyLnF1ZXJpZXMuZGVsZXRlKGUpfS5iaW5kKG51bGwsdC5ldmVudE1hbmFnZXIpLHR9ZnVuY3Rpb24gS2YodCl7cmV0dXJuIHQucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLmFwcGx5U3VjY2Vzc2Z1bFdyaXRlPWZ1bmN0aW9uKGksbyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDplPWksbj1vLmJhdGNoLmJhdGNoSWQsdC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdC50cnlzLnB1c2goWzEsNCwsNl0pLFs0LGVoKGUubG9jYWxTdG9yZSxvKV07Y2FzZSAyOnJldHVybiByPXQuc2VudCgpLFJmKGUsbixudWxsKSxDZihlLG4pLGUuc2hhcmVkQ2xpZW50U3RhdGUudXBkYXRlTXV0YXRpb25TdGF0ZShuLFwiYWNrbm93bGVkZ2VkXCIpLFs0LE1mKGUscildO2Nhc2UgMzpyZXR1cm4gdC5zZW50KCksWzMsNl07Y2FzZSA0OnJldHVybls0LGRjKHQuc2VudCgpKV07Y2FzZSA1OnJldHVybiB0LnNlbnQoKSxbMyw2XTtjYXNlIDY6cmV0dXJuWzJdfX0pfSl9LmJpbmQobnVsbCx0KSx0LnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5yZWplY3RGYWlsZWRXcml0ZT1BZi5iaW5kKG51bGwsdCksdH1mdW5jdGlvbiBHZih0LGUsbil7dmFyIHI9dDshZnVuY3Rpb24oZixkLHApe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBhLHUsYyxoLGw7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0LnRyeXMucHVzaChbMCwxNCwsMTVdKSxbNCxkLmdldE1ldGFkYXRhKCldO2Nhc2UgMTpyZXR1cm4gYT10LnNlbnQoKSxbNCwocj1mLmxvY2FsU3RvcmUsbz1yLHM9YWEoKGk9YSkuY3JlYXRlVGltZSksby5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcImhhc05ld2VyQnVuZGxlXCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKHQpe3JldHVybiBvLlFlLmdldEJ1bmRsZU1ldGFkYXRhKHQsaS5pZCl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiEhdCYmMDw9dC5jcmVhdGVUaW1lLmNvbXBhcmVUbyhzKX0pKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKT9bNCxkLmNsb3NlKCldOlszLDRdO2Nhc2UgMzpyZXR1cm5bMiwodC5zZW50KCksdm9pZCBwLl9jb21wbGV0ZVdpdGgoe3Rhc2tTdGF0ZTpcIlN1Y2Nlc3NcIixkb2N1bWVudHNMb2FkZWQ6YS50b3RhbERvY3VtZW50cyxieXRlc0xvYWRlZDphLnRvdGFsQnl0ZXMsdG90YWxEb2N1bWVudHM6YS50b3RhbERvY3VtZW50cyx0b3RhbEJ5dGVzOmEudG90YWxCeXRlc30pKV07Y2FzZSA0OnJldHVybiBwLl91cGRhdGVQcm9ncmVzcyh5ZihhKSksdT1uZXcgaGYoYSxmLmxvY2FsU3RvcmUsZC5SKSxbNCxkLkxvKCldO2Nhc2UgNTpjPXQuc2VudCgpLHQubGFiZWw9NjtjYXNlIDY6cmV0dXJuIGM/WzQsdS5vbyhjKV06WzMsMTBdO2Nhc2UgNzpyZXR1cm4oaD10LnNlbnQoKSkmJnAuX3VwZGF0ZVByb2dyZXNzKGgpLFs0LGQuTG8oKV07Y2FzZSA4OmM9dC5zZW50KCksdC5sYWJlbD05O2Nhc2UgOTpyZXR1cm5bMyw2XTtjYXNlIDEwOnJldHVybls0LHUuY29tcGxldGUoKV07Y2FzZSAxMTpyZXR1cm4gbD10LnNlbnQoKSxbNCxNZihmLGwud24sdm9pZCAwKV07Y2FzZSAxMjpyZXR1cm4gdC5zZW50KCksWzQsKHI9Zi5sb2NhbFN0b3JlLGU9YSwobj1yKS5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIlNhdmUgYnVuZGxlXCIsXCJyZWFkd3JpdGVcIixmdW5jdGlvbih0KXtyZXR1cm4gbi5RZS5zYXZlQnVuZGxlTWV0YWRhdGEodCxlKX0pKV07Y2FzZSAxMzpyZXR1cm4gdC5zZW50KCkscC5fY29tcGxldGVXaXRoKGwucHJvZ3Jlc3MpLFszLDE1XTtjYXNlIDE0OnJldHVybiBMcihcIlN5bmNFbmdpbmVcIixcIkxvYWRpbmcgYnVuZGxlIGZhaWxlZCB3aXRoIFwiKyhsPXQuc2VudCgpKSkscC5fZmFpbFdpdGgobCksWzMsMTVdO2Nhc2UgMTU6cmV0dXJuWzJdfXZhciBlLG4scixpLG8sc30pfSl9KHIsZSxuKS50aGVuKGZ1bmN0aW9uKCl7ci5zaGFyZWRDbGllbnRTdGF0ZS5ub3RpZnlCdW5kbGVMb2FkZWQoKX0pfXZhciBRZix6ZixIZj0odGQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLlI9bGwoZS5kYXRhYmFzZUluZm8uZGF0YWJhc2VJZCksdGhpcy5zaGFyZWRDbGllbnRTdGF0ZT10aGlzLkJvKGUpLHRoaXMucGVyc2lzdGVuY2U9dGhpcy5xbyhlKSxbNCx0aGlzLnBlcnNpc3RlbmNlLnN0YXJ0KCldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksdGhpcy5nY1NjaGVkdWxlcj10aGlzLlVvKGUpLHRoaXMubG9jYWxTdG9yZT10aGlzLlFvKGUpLFsyXX19KX0pfSx0ZC5wcm90b3R5cGUuVW89ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LHRkLnByb3RvdHlwZS5Rbz1mdW5jdGlvbih0KXtyZXR1cm4gWmModGhpcy5wZXJzaXN0ZW5jZSxuZXcgSGMsdC5pbml0aWFsVXNlcix0aGlzLlIpfSx0ZC5wcm90b3R5cGUucW89ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB3aChFaC5icyx0aGlzLlIpfSx0ZC5wcm90b3R5cGUuQm89ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBRaH0sdGQucHJvdG90eXBlLnRlcm1pbmF0ZT1mdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5nY1NjaGVkdWxlciYmdGhpcy5nY1NjaGVkdWxlci5zdG9wKCksWzQsdGhpcy5zaGFyZWRDbGllbnRTdGF0ZS5zaHV0ZG93bigpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFs0LHRoaXMucGVyc2lzdGVuY2Uuc2h1dGRvd24oKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSxbMl19fSl9KX0sdGQpLFdmPShuKFpmLHpmPUhmKSxaZi5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbihlKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsemYucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFs0LGhoKHRoaXMubG9jYWxTdG9yZSldO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksWzQsdGhpcy5Lby5pbml0aWFsaXplKHRoaXMsZSldO2Nhc2UgMzpyZXR1cm4gdC5zZW50KCksWzQsS2YodGhpcy5Lby5zeW5jRW5naW5lKV07Y2FzZSA0OnJldHVybiB0LnNlbnQoKSxbNCxxbCh0aGlzLktvLnJlbW90ZVN0b3JlKV07Y2FzZSA1OnJldHVybiB0LnNlbnQoKSxbMl19fSl9KX0sWmYucHJvdG90eXBlLlFvPWZ1bmN0aW9uKHQpe3JldHVybiBaYyh0aGlzLnBlcnNpc3RlbmNlLG5ldyBIYyx0LmluaXRpYWxVc2VyLHRoaXMuUil9LFpmLnByb3RvdHlwZS5Vbz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLmdhcmJhZ2VDb2xsZWN0b3I7cmV0dXJuIG5ldyBnYyhlLHQuYXN5bmNRdWV1ZSl9LFpmLnByb3RvdHlwZS5xbz1mdW5jdGlvbih0KXt2YXIgZT1LYyh0LmRhdGFiYXNlSW5mby5kYXRhYmFzZUlkLHQuZGF0YWJhc2VJbmZvLnBlcnNpc3RlbmNlS2V5KSxuPXZvaWQgMCE9PXRoaXMuY2FjaGVTaXplQnl0ZXM/WHUud2l0aENhY2hlU2l6ZSh0aGlzLmNhY2hlU2l6ZUJ5dGVzKTpYdS5ERUZBVUxUO3JldHVybiBuZXcgVWModGhpcy5zeW5jaHJvbml6ZVRhYnMsZSx0LmNsaWVudElkLG4sdC5hc3luY1F1ZXVlLGNsKCksaGwoKSx0aGlzLlIsdGhpcy5zaGFyZWRDbGllbnRTdGF0ZSwhIXRoaXMuZm9yY2VPd25lcnNoaXApfSxaZi5wcm90b3R5cGUuQm89ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBRaH0sWmYpLFlmPShuKCRmLFFmPVdmKSwkZi5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbihyKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuPXRoaXM7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LFFmLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyxyKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxlPXRoaXMuS28uc3luY0VuZ2luZSx0aGlzLnNoYXJlZENsaWVudFN0YXRlIGluc3RhbmNlb2YgR2g/KHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUuc3luY0VuZ2luZT17dWk6VmYuYmluZChudWxsLGUpLGFpOmZ1bmN0aW9uKGksbyxzLGEpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuKGU9aSkuT28/KHhyKFwiU3luY0VuZ2luZVwiLFwiSWdub3JpbmcgdW5leHBlY3RlZCBxdWVyeSBzdGF0ZSBub3RpZmljYXRpb24uXCIpLFszLDhdKTpbMywxXTtjYXNlIDE6aWYoIWUuVm8uaGFzKG8pKXJldHVyblszLDhdO3N3aXRjaChzKXtjYXNlXCJjdXJyZW50XCI6Y2FzZVwibm90LWN1cnJlbnRcIjpyZXR1cm5bMywyXTtjYXNlXCJyZWplY3RlZFwiOnJldHVyblszLDVdfXJldHVyblszLDddO2Nhc2UgMjpyZXR1cm5bNCxjaChlLmxvY2FsU3RvcmUpXTtjYXNlIDM6cmV0dXJuIG49dC5zZW50KCkscj1Lcy5jcmVhdGVTeW50aGVzaXplZFJlbW90ZUV2ZW50Rm9yQ3VycmVudENoYW5nZShvLFwiY3VycmVudFwiPT09cyksWzQsTWYoZSxuLHIpXTtjYXNlIDQ6cmV0dXJuIHQuc2VudCgpLFszLDhdO2Nhc2UgNTpyZXR1cm5bNCxzaChlLmxvY2FsU3RvcmUsbywhMCldO2Nhc2UgNjpyZXR1cm4gdC5zZW50KCkseGYoZSxvLGEpLFszLDhdO2Nhc2UgNzpNcigpLHQubGFiZWw9ODtjYXNlIDg6cmV0dXJuWzJdfX0pfSl9LmJpbmQobnVsbCxlKSxoaTpmdW5jdGlvbihjLGgsbCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG4sZSxyLGksbyxzLGEsdTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6aWYoIShuPWpmKGMpKS5PbylyZXR1cm5bMywxMF07ZT0wLHI9aCx0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiBlPHIubGVuZ3RoPyhyPXJbZV0sbi5Wby5oYXMocik/KHhyKFwiU3luY0VuZ2luZVwiLFwiQWRkaW5nIGFuIGFscmVhZHkgYWN0aXZlIHRhcmdldCBcIityKSxbMyw1XSk6WzQsdWgobi5sb2NhbFN0b3JlLHIpXSk6WzMsNl07Y2FzZSAyOnJldHVybiBpPXQuc2VudCgpLFs0LG9oKG4ubG9jYWxTdG9yZSxpKV07Y2FzZSAzOnJldHVybiBvPXQuc2VudCgpLFs0LF9mKG4sQmYoaSksby50YXJnZXRJZCwhMSldO2Nhc2UgNDp0LnNlbnQoKSxrbChuLnJlbW90ZVN0b3JlLG8pLHQubGFiZWw9NTtjYXNlIDU6cmV0dXJuIGUrKyxbMywxXTtjYXNlIDY6cz1mdW5jdGlvbihlKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIG4uVm8uaGFzKGUpP1s0LHNoKG4ubG9jYWxTdG9yZSxlLCExKS50aGVuKGZ1bmN0aW9uKCl7Q2wobi5yZW1vdGVTdG9yZSxlKSx4ZihuLGUpfSkuY2F0Y2goZGMpXTpbMywyXTtjYXNlIDE6dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMl19fSl9LGE9MCx1PWwsdC5sYWJlbD03O2Nhc2UgNzpyZXR1cm4gYTx1Lmxlbmd0aD8odT11W2FdLFs1LHModSldKTpbMywxMF07Y2FzZSA4OnQuc2VudCgpLHQubGFiZWw9OTtjYXNlIDk6cmV0dXJuIGErKyxbMyw3XTtjYXNlIDEwOnJldHVyblsyXX19KX0pfS5iaW5kKG51bGwsZSksZm46ZnVuY3Rpb24odCl7cmV0dXJuIHQubG9jYWxTdG9yZS5wZXJzaXN0ZW5jZS5mbigpfS5iaW5kKG51bGwsZSksY2k6ZnVuY3Rpb24obil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtyZXR1cm5bMixjaCgoZT1uKS5sb2NhbFN0b3JlKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBNZihlLHQpfSldfSl9KX0uYmluZChudWxsLGUpfSxbNCx0aGlzLnNoYXJlZENsaWVudFN0YXRlLnN0YXJ0KCldKTpbMywzXTtjYXNlIDI6dC5zZW50KCksdC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bNCx0aGlzLnBlcnNpc3RlbmNlLkhlKGZ1bmN0aW9uKGUpe3JldHVybiB5KG4sdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxVZih0aGlzLktvLnN5bmNFbmdpbmUsZSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksdGhpcy5nY1NjaGVkdWxlciYmKGUmJiF0aGlzLmdjU2NoZWR1bGVyLnN0YXJ0ZWQ/dGhpcy5nY1NjaGVkdWxlci5zdGFydCh0aGlzLmxvY2FsU3RvcmUpOmV8fHRoaXMuZ2NTY2hlZHVsZXIuc3RvcCgpKSxbMl19fSl9KX0pXTtjYXNlIDQ6cmV0dXJuIHQuc2VudCgpLFsyXX19KX0pfSwkZi5wcm90b3R5cGUuQm89ZnVuY3Rpb24odCl7dmFyIGU9Y2woKTtpZighR2gueXQoZSkpdGhyb3cgbmV3IEFyKERyLlVOSU1QTEVNRU5URUQsXCJJbmRleGVkREIgcGVyc2lzdGVuY2UgaXMgb25seSBhdmFpbGFibGUgb24gcGxhdGZvcm1zIHRoYXQgc3VwcG9ydCBMb2NhbFN0b3JhZ2UuXCIpO3ZhciBuPUtjKHQuZGF0YWJhc2VJbmZvLmRhdGFiYXNlSWQsdC5kYXRhYmFzZUluZm8ucGVyc2lzdGVuY2VLZXkpO3JldHVybiBuZXcgR2goZSx0LmFzeW5jUXVldWUsbix0LmNsaWVudElkLHQuaW5pdGlhbFVzZXIpfSwkZiksWGY9KEpmLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKG4scil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMubG9jYWxTdG9yZT9bMywyXToodGhpcy5sb2NhbFN0b3JlPW4ubG9jYWxTdG9yZSx0aGlzLnNoYXJlZENsaWVudFN0YXRlPW4uc2hhcmVkQ2xpZW50U3RhdGUsdGhpcy5kYXRhc3RvcmU9dGhpcy5jcmVhdGVEYXRhc3RvcmUociksdGhpcy5yZW1vdGVTdG9yZT10aGlzLmNyZWF0ZVJlbW90ZVN0b3JlKHIpLHRoaXMuZXZlbnRNYW5hZ2VyPXRoaXMuY3JlYXRlRXZlbnRNYW5hZ2VyKHIpLHRoaXMuc3luY0VuZ2luZT10aGlzLmNyZWF0ZVN5bmNFbmdpbmUociwhbi5zeW5jaHJvbml6ZVRhYnMpLHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUub25saW5lU3RhdGVIYW5kbGVyPWZ1bmN0aW9uKHQpe3JldHVybiBEZihlLnN5bmNFbmdpbmUsdCwxKX0sdGhpcy5yZW1vdGVTdG9yZS5yZW1vdGVTeW5jZXIuaGFuZGxlQ3JlZGVudGlhbENoYW5nZT1GZi5iaW5kKG51bGwsdGhpcy5zeW5jRW5naW5lKSxbNCxLbCh0aGlzLnJlbW90ZVN0b3JlLHRoaXMuc3luY0VuZ2luZS5pc1ByaW1hcnlDbGllbnQpXSk7Y2FzZSAxOnQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzJdfX0pfSl9LEpmLnByb3RvdHlwZS5jcmVhdGVFdmVudE1hbmFnZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBZbH0sSmYucHJvdG90eXBlLmNyZWF0ZURhdGFzdG9yZT1mdW5jdGlvbih0KXt2YXIgZT1sbCh0LmRhdGFiYXNlSW5mby5kYXRhYmFzZUlkKSxuPShuPXQuZGF0YWJhc2VJbmZvLG5ldyBYaChuKSk7cmV0dXJuIHQ9dC5jcmVkZW50aWFscyxuZXcgYmwodCxuLGUpfSxKZi5wcm90b3R5cGUuY3JlYXRlUmVtb3RlU3RvcmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMubG9jYWxTdG9yZSxyPXRoaXMuZGF0YXN0b3JlLGk9dC5hc3luY1F1ZXVlLG89ZnVuY3Rpb24odCl7cmV0dXJuIERmKGUuc3luY0VuZ2luZSx0LDApfSx0PW5ldyhIaC55dCgpP0hoOnpoKTtyZXR1cm4gbmV3IGZsKG4scixpLG8sdCl9LEpmLnByb3RvdHlwZS5jcmVhdGVTeW5jRW5naW5lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIsaSxvLHMpe289bmV3IElmKHQsZSxuLHIsaSxvKTtyZXR1cm4gcyYmKG8uT289ITApLG99KHRoaXMubG9jYWxTdG9yZSx0aGlzLnJlbW90ZVN0b3JlLHRoaXMuZXZlbnRNYW5hZ2VyLHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUsdC5pbml0aWFsVXNlcix0Lm1heENvbmN1cnJlbnRMaW1ib1Jlc29sdXRpb25zLGUpfSxKZi5wcm90b3R5cGUudGVybWluYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1uLHhyKFwiUmVtb3RlU3RvcmVcIixcIlJlbW90ZVN0b3JlIHNodXR0aW5nIGRvd24uXCIpLGUuJHIuYWRkKDUpLFs0LEFsKGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLGUuTHIuc2h1dGRvd24oKSxlLkJyLnNldChcIlVua25vd25cIiksWzJdfX0pfSl9KHRoaXMucmVtb3RlU3RvcmUpfSxKZik7ZnVuY3Rpb24gSmYoKXt9ZnVuY3Rpb24gJGYodCxlKXt2YXIgbj10aGlzO3JldHVybihuPVFmLmNhbGwodGhpcyx0LGUsITEpfHx0aGlzKS5Lbz10LG4uY2FjaGVTaXplQnl0ZXM9ZSxuLnN5bmNocm9uaXplVGFicz0hMCxufWZ1bmN0aW9uIFpmKHQsZSxuKXt2YXIgcj10aGlzO3JldHVybihyPXpmLmNhbGwodGhpcyl8fHRoaXMpLktvPXQsci5jYWNoZVNpemVCeXRlcz1lLHIuZm9yY2VPd25lcnNoaXA9bixyLnN5bmNocm9uaXplVGFicz0hMSxyfWZ1bmN0aW9uIHRkKCl7dGhpcy5zeW5jaHJvbml6ZVRhYnM9ITF9ZnVuY3Rpb24gZWQobixyKXt2b2lkIDA9PT1yJiYocj0xMDI0MCk7dmFyIGk9MDtyZXR1cm57cmVhZDpmdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIGk8bi5ieXRlTGVuZ3RoPyhlPXt2YWx1ZTpuLnNsaWNlKGksaStyKSxkb25lOiExfSxbMiwoaSs9cixlKV0pOlsyLHtkb25lOiEwfV19KX0pfSxjYW5jZWw6ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3JldHVyblsyXX0pfSl9LHJlbGVhc2VMb2NrOmZ1bmN0aW9uKCl7fSxjbG9zZWQ6UHJvbWlzZS5yZWplY3QoXCJ1bmltcGxlbWVudGVkXCIpfX12YXIgbmQ9KGxkLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKHQpe3RoaXMub2JzZXJ2ZXIubmV4dCYmdGhpcy5qbyh0aGlzLm9ic2VydmVyLm5leHQsdCl9LGxkLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbih0KXt0aGlzLm9ic2VydmVyLmVycm9yP3RoaXMuam8odGhpcy5vYnNlcnZlci5lcnJvcix0KTpjb25zb2xlLmVycm9yKFwiVW5jYXVnaHQgRXJyb3IgaW4gc25hcHNob3QgbGlzdGVuZXI6XCIsdCl9LGxkLnByb3RvdHlwZS5Xbz1mdW5jdGlvbigpe3RoaXMubXV0ZWQ9ITB9LGxkLnByb3RvdHlwZS5qbz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy5tdXRlZHx8c2V0VGltZW91dChmdW5jdGlvbigpe24ubXV0ZWR8fHQoZSl9LDApfSxsZCkscmQ9KGhkLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkdvLmNhbmNlbCgpfSxoZC5wcm90b3R5cGUuZ2V0TWV0YWRhdGE9ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3JldHVyblsyLHRoaXMubWV0YWRhdGEucHJvbWlzZV19KX0pfSxoZC5wcm90b3R5cGUuTG89ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRNZXRhZGF0YSgpXTtjYXNlIDE6cmV0dXJuWzIsKHQuc2VudCgpLHRoaXMuSG8oKSldfX0pfSl9LGhkLnByb3RvdHlwZS5Ibz1mdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5KbygpXTtjYXNlIDE6cmV0dXJuIG51bGw9PT0oZT10LnNlbnQoKSk/WzIsbnVsbF06KHI9dGhpcy56by5kZWNvZGUoZSksbj1OdW1iZXIociksaXNOYU4obikmJnRoaXMuWW8oXCJsZW5ndGggc3RyaW5nIChcIityK1wiKSBpcyBub3QgdmFsaWQgbnVtYmVyXCIpLFs0LHRoaXMuWG8obildKTtjYXNlIDI6cmV0dXJuIHI9dC5zZW50KCksWzIsbmV3IHVmKEpTT04ucGFyc2UociksZS5sZW5ndGgrbildfX0pfSl9LGhkLnByb3RvdHlwZS5abz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlci5maW5kSW5kZXgoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1cIntcIi5jaGFyQ29kZUF0KDApfSl9LGhkLnByb3RvdHlwZS5Kbz1mdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLlpvKCk8MD9bNCx0aGlzLnRjKCldOlszLDNdO2Nhc2UgMTppZih0LnNlbnQoKSlyZXR1cm5bMywzXTt0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblszLDBdO2Nhc2UgMzpyZXR1cm4gMD09PXRoaXMuYnVmZmVyLmxlbmd0aD9bMixudWxsXTooKGU9dGhpcy5abygpKTwwJiZ0aGlzLllvKFwiUmVhY2hlZCB0aGUgZW5kIG9mIGJ1bmRsZSB3aGVuIGEgbGVuZ3RoIHN0cmluZyBpcyBleHBlY3RlZC5cIiksbj10aGlzLmJ1ZmZlci5zbGljZSgwLGUpLFsyLCh0aGlzLmJ1ZmZlcj10aGlzLmJ1ZmZlci5zbGljZShlKSxuKV0pfX0pfSl9LGhkLnByb3RvdHlwZS5Ybz1mdW5jdGlvbihuKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuYnVmZmVyLmxlbmd0aDxuP1s0LHRoaXMudGMoKV06WzMsM107Y2FzZSAxOnQuc2VudCgpJiZ0aGlzLllvKFwiUmVhY2hlZCB0aGUgZW5kIG9mIGJ1bmRsZSB3aGVuIG1vcmUgaXMgZXhwZWN0ZWQuXCIpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzMsMF07Y2FzZSAzOnJldHVybiBlPXRoaXMuem8uZGVjb2RlKHRoaXMuYnVmZmVyLnNsaWNlKDAsbikpLFsyLCh0aGlzLmJ1ZmZlcj10aGlzLmJ1ZmZlci5zbGljZShuKSxlKV19fSl9KX0saGQucHJvdG90eXBlLllvPWZ1bmN0aW9uKHQpe3Rocm93IHRoaXMuR28uY2FuY2VsKCksbmV3IEVycm9yKFwiSW52YWxpZCBidW5kbGUgZm9ybWF0OiBcIit0KX0saGQucHJvdG90eXBlLnRjPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5Hby5yZWFkKCldO2Nhc2UgMTpyZXR1cm4oZT10LnNlbnQoKSkuZG9uZXx8KChuPW5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyLmxlbmd0aCtlLnZhbHVlLmxlbmd0aCkpLnNldCh0aGlzLmJ1ZmZlciksbi5zZXQoZS52YWx1ZSx0aGlzLmJ1ZmZlci5sZW5ndGgpLHRoaXMuYnVmZmVyPW4pLFsyLGUuZG9uZV19fSl9KX0saGQpLGlkPShjZC5wcm90b3R5cGUubG9va3VwPWZ1bmN0aW9uKHIpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG49dGhpcztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6aWYodGhpcy5lbnN1cmVDb21taXROb3RDYWxsZWQoKSwwPHRoaXMubXV0YXRpb25zLmxlbmd0aCl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkZpcmVzdG9yZSB0cmFuc2FjdGlvbnMgcmVxdWlyZSBhbGwgcmVhZHMgdG8gYmUgZXhlY3V0ZWQgYmVmb3JlIGFsbCB3cml0ZXMuXCIpO3JldHVybls0LGZ1bmN0aW9uKHMsYSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG4sZSxyLGksbztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9cGEoKG49cykuUikrXCIvZG9jdW1lbnRzXCIscj17ZG9jdW1lbnRzOmEubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBoYShuLlIsdCl9KX0sWzQsbi5PaShcIkJhdGNoR2V0RG9jdW1lbnRzXCIsZSxyKV07Y2FzZSAxOnJldHVybiByPXQuc2VudCgpLGk9bmV3IE1hcCxyLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGUsdD0oZT1uLlIsXCJmb3VuZFwiaW4odD10KT9mdW5jdGlvbih0LGUpe0ZyKCEhZS5mb3VuZCksZS5mb3VuZC5uYW1lLGUuZm91bmQudXBkYXRlVGltZTt2YXIgbj1sYSh0LGUuZm91bmQubmFtZSksdD1hYShlLmZvdW5kLnVwZGF0ZVRpbWUpLGU9bmV3IFJpKHttYXBWYWx1ZTp7ZmllbGRzOmUuZm91bmQuZmllbGRzfX0pO3JldHVybiBPaS5uZXdGb3VuZERvY3VtZW50KG4sdCxlKX0oZSx0KTpcIm1pc3NpbmdcImluIHQ/ZnVuY3Rpb24odCxlKXtGcighIWUubWlzc2luZyksRnIoISFlLnJlYWRUaW1lKTt0PWxhKHQsZS5taXNzaW5nKSxlPWFhKGUucmVhZFRpbWUpO3JldHVybiBPaS5uZXdOb0RvY3VtZW50KHQsZSl9KGUsdCk6TXIoKSk7aS5zZXQodC5rZXkudG9TdHJpbmcoKSx0KX0pLG89W10sWzIsKGEuZm9yRWFjaChmdW5jdGlvbih0KXt0PWkuZ2V0KHQudG9TdHJpbmcoKSk7RnIoISF0KSxvLnB1c2godCl9KSxvKV19fSl9KX0odGhpcy5kYXRhc3RvcmUscildO2Nhc2UgMTpyZXR1cm5bMiwoKGU9dC5zZW50KCkpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIG4ucmVjb3JkVmVyc2lvbih0KX0pLGUpXX19KX0pfSxjZC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZShlLnRvTXV0YXRpb24odCx0aGlzLnByZWNvbmRpdGlvbih0KSkpLHRoaXMud3JpdHRlbkRvY3MuYWRkKHQudG9TdHJpbmcoKSl9LGNkLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXt0cnl7dGhpcy53cml0ZShlLnRvTXV0YXRpb24odCx0aGlzLnByZWNvbmRpdGlvbkZvclVwZGF0ZSh0KSkpfWNhdGNoKHQpe3RoaXMubGFzdFdyaXRlRXJyb3I9dH10aGlzLndyaXR0ZW5Eb2NzLmFkZCh0LnRvU3RyaW5nKCkpfSxjZC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3RoaXMud3JpdGUobmV3IHdzKHQsdGhpcy5wcmVjb25kaXRpb24odCkpKSx0aGlzLndyaXR0ZW5Eb2NzLmFkZCh0LnRvU3RyaW5nKCkpfSxjZC5wcm90b3R5cGUuY29tbWl0PWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbj10aGlzO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDppZih0aGlzLmVuc3VyZUNvbW1pdE5vdENhbGxlZCgpLHRoaXMubGFzdFdyaXRlRXJyb3IpdGhyb3cgdGhpcy5sYXN0V3JpdGVFcnJvcjtyZXR1cm4gZT10aGlzLnJlYWRWZXJzaW9ucyx0aGlzLm11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuZGVsZXRlKHQua2V5LnRvU3RyaW5nKCkpfSksZS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7ZT1taS5mcm9tUGF0aChlKTtuLm11dGF0aW9ucy5wdXNoKG5ldyBJcyhlLG4ucHJlY29uZGl0aW9uKGUpKSl9KSxbNCxmdW5jdGlvbihpLG8pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIG49cGEoKGU9aSkuUikrXCIvZG9jdW1lbnRzXCIscj17d3JpdGVzOm8ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB2YShlLlIsdCl9KX0sWzQsZS5OaShcIkNvbW1pdFwiLG4scildO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzJdfX0pfSl9KHRoaXMuZGF0YXN0b3JlLHRoaXMubXV0YXRpb25zKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSx0aGlzLmNvbW1pdHRlZD0hMCxbMl19fSl9KX0sY2QucHJvdG90eXBlLnJlY29yZFZlcnNpb249ZnVuY3Rpb24odCl7dmFyIGU7aWYodC5pc0ZvdW5kRG9jdW1lbnQoKSllPXQudmVyc2lvbjtlbHNle2lmKCF0LmlzTm9Eb2N1bWVudCgpKXRocm93IE1yKCk7ZT1Hci5taW4oKX12YXIgbj10aGlzLnJlYWRWZXJzaW9ucy5nZXQodC5rZXkudG9TdHJpbmcoKSk7aWYobil7aWYoIWUuaXNFcXVhbChuKSl0aHJvdyBuZXcgQXIoRHIuQUJPUlRFRCxcIkRvY3VtZW50IHZlcnNpb24gY2hhbmdlZCBiZXR3ZWVuIHR3byByZWFkcy5cIil9ZWxzZSB0aGlzLnJlYWRWZXJzaW9ucy5zZXQodC5rZXkudG9TdHJpbmcoKSxlKX0sY2QucHJvdG90eXBlLnByZWNvbmRpdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlYWRWZXJzaW9ucy5nZXQodC50b1N0cmluZygpKTtyZXR1cm4hdGhpcy53cml0dGVuRG9jcy5oYXModC50b1N0cmluZygpKSYmZT9lcy51cGRhdGVUaW1lKGUpOmVzLm5vbmUoKX0sY2QucHJvdG90eXBlLnByZWNvbmRpdGlvbkZvclVwZGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlYWRWZXJzaW9ucy5nZXQodC50b1N0cmluZygpKTtpZih0aGlzLndyaXR0ZW5Eb2NzLmhhcyh0LnRvU3RyaW5nKCkpfHwhZSlyZXR1cm4gZXMuZXhpc3RzKCEwKTtpZihlLmlzRXF1YWwoR3IubWluKCkpKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiQ2FuJ3QgdXBkYXRlIGEgZG9jdW1lbnQgdGhhdCBkb2Vzbid0IGV4aXN0LlwiKTtyZXR1cm4gZXMudXBkYXRlVGltZShlKX0sY2QucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe3RoaXMuZW5zdXJlQ29tbWl0Tm90Q2FsbGVkKCksdGhpcy5tdXRhdGlvbnMucHVzaCh0KX0sY2QucHJvdG90eXBlLmVuc3VyZUNvbW1pdE5vdENhbGxlZD1mdW5jdGlvbigpe30sY2QpLG9kPSh1ZC5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5uYygpfSx1ZC5wcm90b3R5cGUubmM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuWmkuamkoZnVuY3Rpb24oKXtyZXR1cm4geSh0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHI9dGhpcztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiBlPW5ldyBpZCh0aGlzLmRhdGFzdG9yZSksKG49dGhpcy5zYyhlKSkmJm4udGhlbihmdW5jdGlvbih0KXtyLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiBlLmNvbW1pdCgpLnRoZW4oZnVuY3Rpb24oKXtyLmRlZmVycmVkLnJlc29sdmUodCl9KS5jYXRjaChmdW5jdGlvbih0KXtyLmljKHQpfSl9KX0pLmNhdGNoKGZ1bmN0aW9uKHQpe3IuaWModCl9KSxbMl19KX0pfSl9LHVkLnByb3RvdHlwZS5zYz1mdW5jdGlvbih0KXt0cnl7dmFyIGU9dGhpcy51cGRhdGVGdW5jdGlvbih0KTtyZXR1cm4hcGkoZSkmJmUuY2F0Y2gmJmUudGhlbj9lOih0aGlzLmRlZmVycmVkLnJlamVjdChFcnJvcihcIlRyYW5zYWN0aW9uIGNhbGxiYWNrIG11c3QgcmV0dXJuIGEgUHJvbWlzZVwiKSksbnVsbCl9Y2F0Y2godCl7cmV0dXJuIHRoaXMuZGVmZXJyZWQucmVqZWN0KHQpLG51bGx9fSx1ZC5wcm90b3R5cGUuaWM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczswPHRoaXMuZWMmJnRoaXMucmModCk/KC0tdGhpcy5lYyx0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiBlLm5jKCksUHJvbWlzZS5yZXNvbHZlKCl9KSk6dGhpcy5kZWZlcnJlZC5yZWplY3QodCl9LHVkLnByb3RvdHlwZS5yYz1mdW5jdGlvbih0KXtpZihcIkZpcmViYXNlRXJyb3JcIiE9PXQubmFtZSlyZXR1cm4hMTt0PXQuY29kZTtyZXR1cm5cImFib3J0ZWRcIj09PXR8fFwiZmFpbGVkLXByZWNvbmRpdGlvblwiPT09dHx8IV9zKHQpfSx1ZCksc2Q9KGFkLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMucmVjZWl2ZWRJbml0aWFsVXNlci5wcm9taXNlXTtjYXNlIDE6cmV0dXJuWzIsKHQuc2VudCgpLHthc3luY1F1ZXVlOnRoaXMuYXN5bmNRdWV1ZSxkYXRhYmFzZUluZm86dGhpcy5kYXRhYmFzZUluZm8sY2xpZW50SWQ6dGhpcy5jbGllbnRJZCxjcmVkZW50aWFsczp0aGlzLmNyZWRlbnRpYWxzLGluaXRpYWxVc2VyOnRoaXMudXNlcixtYXhDb25jdXJyZW50TGltYm9SZXNvbHV0aW9uczoxMDB9KV19fSl9KX0sYWQucHJvdG90eXBlLnNldENyZWRlbnRpYWxDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuY3JlZGVudGlhbExpc3RlbmVyPXQsdGhpcy5yZWNlaXZlZEluaXRpYWxVc2VyLnByb21pc2UudGhlbihmdW5jdGlvbigpe3JldHVybiBlLmNyZWRlbnRpYWxMaXN0ZW5lcihlLnVzZXIpfSl9LGFkLnByb3RvdHlwZS52ZXJpZnlOb3RUZXJtaW5hdGVkPWZ1bmN0aW9uKCl7aWYodGhpcy5hc3luY1F1ZXVlLmlzU2h1dHRpbmdEb3duKXRocm93IG5ldyBBcihEci5GQUlMRURfUFJFQ09ORElUSU9OLFwiVGhlIGNsaWVudCBoYXMgYWxyZWFkeSBiZWVuIHRlcm1pbmF0ZWQuXCIpfSxhZC5wcm90b3R5cGUudGVybWluYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmFzeW5jUXVldWUuZW50ZXJSZXN0cmljdGVkTW9kZSgpO3ZhciBuPW5ldyBaYTtyZXR1cm4gdGhpcy5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXRFdmVuV2hpbGVSZXN0cmljdGVkKGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0LnRyeXMucHVzaChbMCw1LCw2XSksdGhpcy5vbmxpbmVDb21wb25lbnRzP1s0LHRoaXMub25saW5lQ29tcG9uZW50cy50ZXJtaW5hdGUoKV06WzMsMl07Y2FzZSAxOnQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHRoaXMub2ZmbGluZUNvbXBvbmVudHM/WzQsdGhpcy5vZmZsaW5lQ29tcG9uZW50cy50ZXJtaW5hdGUoKV06WzMsNF07Y2FzZSAzOnQuc2VudCgpLHQubGFiZWw9NDtjYXNlIDQ6cmV0dXJuIHRoaXMuY3JlZGVudGlhbHMucmVtb3ZlQ2hhbmdlTGlzdGVuZXIoKSxuLnJlc29sdmUoKSxbMyw2XTtjYXNlIDU6cmV0dXJuIGU9dC5zZW50KCksZT1XbChlLFwiRmFpbGVkIHRvIHNodXRkb3duIHBlcnNpc3RlbmNlXCIpLG4ucmVqZWN0KGUpLFszLDZdO2Nhc2UgNjpyZXR1cm5bMl19fSl9KX0pLG4ucHJvbWlzZX0sYWQpO2Z1bmN0aW9uIGFkKHQsZSxuKXt2YXIgcj10aGlzO3RoaXMuY3JlZGVudGlhbHM9dCx0aGlzLmFzeW5jUXVldWU9ZSx0aGlzLmRhdGFiYXNlSW5mbz1uLHRoaXMudXNlcj1UaC5VTkFVVEhFTlRJQ0FURUQsdGhpcy5jbGllbnRJZD1Wci51KCksdGhpcy5jcmVkZW50aWFsTGlzdGVuZXI9ZnVuY3Rpb24oKXt9LHRoaXMucmVjZWl2ZWRJbml0aWFsVXNlcj1uZXcgWmEsdGhpcy5jcmVkZW50aWFscy5zZXRDaGFuZ2VMaXN0ZW5lcihmdW5jdGlvbih0KXt4cihcIkZpcmVzdG9yZUNsaWVudFwiLFwiUmVjZWl2ZWQgdXNlcj1cIix0LnVpZCksci51c2VyPXQsci5jcmVkZW50aWFsTGlzdGVuZXIodCksci5yZWNlaXZlZEluaXRpYWxVc2VyLnJlc29sdmUoKX0pfWZ1bmN0aW9uIHVkKHQsZSxuLHIpe3RoaXMuYXN5bmNRdWV1ZT10LHRoaXMuZGF0YXN0b3JlPWUsdGhpcy51cGRhdGVGdW5jdGlvbj1uLHRoaXMuZGVmZXJyZWQ9cix0aGlzLmVjPTUsdGhpcy5aaT1uZXcgZ2wodGhpcy5hc3luY1F1ZXVlLFwidHJhbnNhY3Rpb25fcmV0cnlcIil9ZnVuY3Rpb24gY2QodCl7dGhpcy5kYXRhc3RvcmU9dCx0aGlzLnJlYWRWZXJzaW9ucz1uZXcgTWFwLHRoaXMubXV0YXRpb25zPVtdLHRoaXMuY29tbWl0dGVkPSExLHRoaXMubGFzdFdyaXRlRXJyb3I9bnVsbCx0aGlzLndyaXR0ZW5Eb2NzPW5ldyBTZXR9ZnVuY3Rpb24gaGQodCxlKXt2YXIgbj10aGlzO3RoaXMuR289dCx0aGlzLlI9ZSx0aGlzLm1ldGFkYXRhPW5ldyBaYSx0aGlzLmJ1ZmZlcj1uZXcgVWludDhBcnJheSx0aGlzLnpvPW5ldyBUZXh0RGVjb2RlcihcInV0Zi04XCIpLHRoaXMuSG8oKS50aGVuKGZ1bmN0aW9uKHQpe3QmJnQuaW8oKT9uLm1ldGFkYXRhLnJlc29sdmUodC5wYXlsb2FkLm1ldGFkYXRhKTpuLm1ldGFkYXRhLnJlamVjdChuZXcgRXJyb3IoXCJUaGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgYnVuZGxlIGlzIG5vdCBhIG1ldGFkYXRhLCBpdCBpc1xcbiAgICAgICAgICAgICBcIitKU09OLnN0cmluZ2lmeShudWxsPT10P3ZvaWQgMDp0LnBheWxvYWQpKSl9LGZ1bmN0aW9uKHQpe3JldHVybiBuLm1ldGFkYXRhLnJlamVjdCh0KX0pfWZ1bmN0aW9uIGxkKHQpe3RoaXMub2JzZXJ2ZXI9dCx0aGlzLm11dGVkPSExfWZ1bmN0aW9uIGZkKGksbyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyPXRoaXM7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBpLmFzeW5jUXVldWUudmVyaWZ5T3BlcmF0aW9uSW5Qcm9ncmVzcygpLHhyKFwiRmlyZXN0b3JlQ2xpZW50XCIsXCJJbml0aWFsaXppbmcgT2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyXCIpLFs0LGkuZ2V0Q29uZmlndXJhdGlvbigpXTtjYXNlIDE6cmV0dXJuIGU9dC5zZW50KCksWzQsby5pbml0aWFsaXplKGUpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLG49ZS5pbml0aWFsVXNlcixpLnNldENyZWRlbnRpYWxDaGFuZ2VMaXN0ZW5lcihmdW5jdGlvbihlKXtuLmlzRXF1YWwoZSl8fChuPWUsaS5hc3luY1F1ZXVlLmVucXVldWVSZXRyeWFibGUoZnVuY3Rpb24oKXtyZXR1cm4geShyLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGgoby5sb2NhbFN0b3JlLGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFsyXX19KX0pfSkpfSksby5wZXJzaXN0ZW5jZS5zZXREYXRhYmFzZURlbGV0ZWRMaXN0ZW5lcihmdW5jdGlvbigpe3JldHVybiBpLnRlcm1pbmF0ZSgpfSksaS5vZmZsaW5lQ29tcG9uZW50cz1vLFsyXX19KX0pfWZ1bmN0aW9uIGRkKHIsaSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHIuYXN5bmNRdWV1ZS52ZXJpZnlPcGVyYXRpb25JblByb2dyZXNzKCksWzQscGQocildO2Nhc2UgMTpyZXR1cm4gZT10LnNlbnQoKSx4cihcIkZpcmVzdG9yZUNsaWVudFwiLFwiSW5pdGlhbGl6aW5nIE9ubGluZUNvbXBvbmVudFByb3ZpZGVyXCIpLFs0LHIuZ2V0Q29uZmlndXJhdGlvbigpXTtjYXNlIDI6cmV0dXJuIG49dC5zZW50KCksWzQsaS5pbml0aWFsaXplKGUsbildO2Nhc2UgMzpyZXR1cm4gdC5zZW50KCksci5zZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXIoZnVuY3Rpb24odCl7cmV0dXJuIHIuYXN5bmNRdWV1ZS5lbnF1ZXVlUmV0cnlhYmxlKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuKGU9cikuYXN5bmNRdWV1ZS52ZXJpZnlPcGVyYXRpb25JblByb2dyZXNzKCkseHIoXCJSZW1vdGVTdG9yZVwiLFwiUmVtb3RlU3RvcmUgcmVjZWl2ZWQgbmV3IGNyZWRlbnRpYWxzXCIpLG49UGwoZSksZS4kci5hZGQoMyksWzQsQWwoZSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksbiYmZS5Cci5zZXQoXCJVbmtub3duXCIpLFs0LGUucmVtb3RlU3luY2VyLmhhbmRsZUNyZWRlbnRpYWxDaGFuZ2UoaSldO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksZS4kci5kZWxldGUoMyksWzQsRGwoZSldO2Nhc2UgMzpyZXR1cm4gdC5zZW50KCksWzJdfX0pfSl9KGkucmVtb3RlU3RvcmUsdCl9KX0pLHIub25saW5lQ29tcG9uZW50cz1pLFsyXX19KX0pfWZ1bmN0aW9uIHBkKGUpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZS5vZmZsaW5lQ29tcG9uZW50cz9bMywyXTooeHIoXCJGaXJlc3RvcmVDbGllbnRcIixcIlVzaW5nIGRlZmF1bHQgT2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyXCIpLFs0LGZkKGUsbmV3IEhmKV0pO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyLGUub2ZmbGluZUNvbXBvbmVudHNdfX0pfSl9ZnVuY3Rpb24geWQoZSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlLm9ubGluZUNvbXBvbmVudHM/WzMsMl06KHhyKFwiRmlyZXN0b3JlQ2xpZW50XCIsXCJVc2luZyBkZWZhdWx0IE9ubGluZUNvbXBvbmVudFByb3ZpZGVyXCIpLFs0LGRkKGUsbmV3IFhmKV0pO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyLGUub25saW5lQ29tcG9uZW50c119fSl9KX1mdW5jdGlvbiBnZCh0KXtyZXR1cm4gcGQodCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5wZXJzaXN0ZW5jZX0pfWZ1bmN0aW9uIG1kKHQpe3JldHVybiBwZCh0KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LmxvY2FsU3RvcmV9KX1mdW5jdGlvbiB2ZCh0KXtyZXR1cm4geWQodCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5yZW1vdGVTdG9yZX0pfWZ1bmN0aW9uIGJkKHQpe3JldHVybiB5ZCh0KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN5bmNFbmdpbmV9KX1mdW5jdGlvbiB3ZChyKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx5ZChyKV07Y2FzZSAxOnJldHVybiBlPXQuc2VudCgpLFsyLCgobj1lLmV2ZW50TWFuYWdlcikub25MaXN0ZW49ZnVuY3Rpb24ocyxhKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxvO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1qZihzKSwobz1lLlBvLmdldChhKSk/KG49by50YXJnZXRJZCxlLnNoYXJlZENsaWVudFN0YXRlLmFkZExvY2FsUXVlcnlUYXJnZXQobikscj1vLnZpZXcuUm8oKSxbMyw0XSk6WzMsMV07Y2FzZSAxOnJldHVybls0LG9oKGUubG9jYWxTdG9yZSxObyhhKSldO2Nhc2UgMjpyZXR1cm4gaT10LnNlbnQoKSxvPWUuc2hhcmVkQ2xpZW50U3RhdGUuYWRkTG9jYWxRdWVyeVRhcmdldChpLnRhcmdldElkKSxuPWkudGFyZ2V0SWQsWzQsX2YoZSxhLG4sXCJjdXJyZW50XCI9PT1vKV07Y2FzZSAzOnI9dC5zZW50KCksZS5pc1ByaW1hcnlDbGllbnQmJmtsKGUucmVtb3RlU3RvcmUsaSksdC5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bMixyXX19KX0pfS5iaW5kKG51bGwsZS5zeW5jRW5naW5lKSxuLm9uVW5saXN0ZW49ZnVuY3Rpb24oaSxvKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHI7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPShlPWkpLlBvLmdldChvKSwxPChyPWUuVm8uZ2V0KG4udGFyZ2V0SWQpKS5sZW5ndGg/WzIsKGUuVm8uc2V0KG4udGFyZ2V0SWQsci5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIUFvKHQsbyl9KSksdm9pZCBlLlBvLmRlbGV0ZShvKSldOmUuaXNQcmltYXJ5Q2xpZW50PyhlLnNoYXJlZENsaWVudFN0YXRlLnJlbW92ZUxvY2FsUXVlcnlUYXJnZXQobi50YXJnZXRJZCksZS5zaGFyZWRDbGllbnRTdGF0ZS5pc0FjdGl2ZVF1ZXJ5VGFyZ2V0KG4udGFyZ2V0SWQpP1szLDJdOls0LHNoKGUubG9jYWxTdG9yZSxuLnRhcmdldElkLCExKS50aGVuKGZ1bmN0aW9uKCl7ZS5zaGFyZWRDbGllbnRTdGF0ZS5jbGVhclF1ZXJ5U3RhdGUobi50YXJnZXRJZCksQ2woZS5yZW1vdGVTdG9yZSxuLnRhcmdldElkKSx4ZihlLG4udGFyZ2V0SWQpfSkuY2F0Y2goZGMpXSk6WzMsM107Y2FzZSAxOnQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzMsNV07Y2FzZSAzOnJldHVybiB4ZihlLG4udGFyZ2V0SWQpLFs0LHNoKGUubG9jYWxTdG9yZSxuLnRhcmdldElkLCEwKV07Y2FzZSA0OnQuc2VudCgpLHQubGFiZWw9NTtjYXNlIDU6cmV0dXJuWzJdfX0pfSl9LmJpbmQobnVsbCxlLnN5bmNFbmdpbmUpLG4pXX19KX0pfWZ1bmN0aW9uIElkKG4scixpKXt2YXIgdD10aGlzO3ZvaWQgMD09PWkmJihpPXt9KTt2YXIgbz1uZXcgWmE7cmV0dXJuIG4uYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPWZ1bmN0aW9uKG4scixpLG8scyl7dmFyIHQ9bmV3IG5kKHtuZXh0OmZ1bmN0aW9uKHQpe3IuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiBvZihuLGEpfSk7dmFyIGU9dC5kb2NzLmhhcyhpKTshZSYmdC5mcm9tQ2FjaGU/cy5yZWplY3QobmV3IEFyKERyLlVOQVZBSUxBQkxFLFwiRmFpbGVkIHRvIGdldCBkb2N1bWVudCBiZWNhdXNlIHRoZSBjbGllbnQgaXMgb2ZmbGluZS5cIikpOmUmJnQuZnJvbUNhY2hlJiZvJiZcInNlcnZlclwiPT09by5zb3VyY2U/cy5yZWplY3QobmV3IEFyKERyLlVOQVZBSUxBQkxFLCdGYWlsZWQgdG8gZ2V0IGRvY3VtZW50IGZyb20gc2VydmVyLiAoSG93ZXZlciwgdGhpcyBkb2N1bWVudCBkb2VzIGV4aXN0IGluIHRoZSBsb2NhbCBjYWNoZS4gUnVuIGFnYWluIHdpdGhvdXQgc2V0dGluZyBzb3VyY2UgdG8gXCJzZXJ2ZXJcIiB0byByZXRyaWV2ZSB0aGUgY2FjaGVkIGRvY3VtZW50LiknKSk6cy5yZXNvbHZlKHQpfSxlcnJvcjpmdW5jdGlvbih0KXtyZXR1cm4gcy5yZWplY3QodCl9fSksYT1uZXcgYWYoYm8oaS5wYXRoKSx0LHtpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOiEwLHNvOiEwfSk7cmV0dXJuIHJmKG4sYSl9LFs0LHdkKG4pXTtjYXNlIDE6cmV0dXJuWzIsZS5hcHBseSh2b2lkIDAsW3Quc2VudCgpLG4uYXN5bmNRdWV1ZSxyLGksb10pXX19KX0pfSksby5wcm9taXNlfWZ1bmN0aW9uIEVkKG4scixpKXt2YXIgdD10aGlzO3ZvaWQgMD09PWkmJihpPXt9KTt2YXIgbz1uZXcgWmE7cmV0dXJuIG4uYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPWZ1bmN0aW9uKGUsbix0LHIsaSl7dmFyIG89bmV3IG5kKHtuZXh0OmZ1bmN0aW9uKHQpe24uZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiBvZihlLHMpfSksdC5mcm9tQ2FjaGUmJlwic2VydmVyXCI9PT1yLnNvdXJjZT9pLnJlamVjdChuZXcgQXIoRHIuVU5BVkFJTEFCTEUsJ0ZhaWxlZCB0byBnZXQgZG9jdW1lbnRzIGZyb20gc2VydmVyLiAoSG93ZXZlciwgdGhlc2UgZG9jdW1lbnRzIG1heSBleGlzdCBpbiB0aGUgbG9jYWwgY2FjaGUuIFJ1biBhZ2FpbiB3aXRob3V0IHNldHRpbmcgc291cmNlIHRvIFwic2VydmVyXCIgdG8gcmV0cmlldmUgdGhlIGNhY2hlZCBkb2N1bWVudHMuKScpKTppLnJlc29sdmUodCl9LGVycm9yOmZ1bmN0aW9uKHQpe3JldHVybiBpLnJlamVjdCh0KX19KSxzPW5ldyBhZih0LG8se2luY2x1ZGVNZXRhZGF0YUNoYW5nZXM6ITAsc286ITB9KTtyZXR1cm4gcmYoZSxzKX0sWzQsd2QobildO2Nhc2UgMTpyZXR1cm5bMixlLmFwcGx5KHZvaWQgMCxbdC5zZW50KCksbi5hc3luY1F1ZXVlLHIsaSxvXSldfX0pfSl9KSxvLnByb21pc2V9ZnVuY3Rpb24gVGQodCxlKXt0aGlzLnVzZXI9ZSx0aGlzLnR5cGU9XCJPQXV0aFwiLHRoaXMuYXV0aEhlYWRlcnM9e30sdGhpcy5hdXRoSGVhZGVycy5BdXRob3JpemF0aW9uPVwiQmVhcmVyIFwiK3R9dmFyIF9kPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLHMpe3RoaXMuZGF0YWJhc2VJZD10LHRoaXMuYXBwSWQ9ZSx0aGlzLnBlcnNpc3RlbmNlS2V5PW4sdGhpcy5ob3N0PXIsdGhpcy5zc2w9aSx0aGlzLmZvcmNlTG9uZ1BvbGxpbmc9byx0aGlzLmF1dG9EZXRlY3RMb25nUG9sbGluZz1zfSxTZD0oT2JqZWN0LmRlZmluZVByb3BlcnR5KFBkLnByb3RvdHlwZSxcImlzRGVmYXVsdERhdGFiYXNlXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwiKGRlZmF1bHQpXCI9PT10aGlzLmRhdGFiYXNlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFBkLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgUGQmJnQucHJvamVjdElkPT09dGhpcy5wcm9qZWN0SWQmJnQuZGF0YWJhc2U9PT10aGlzLmRhdGFiYXNlfSxQZCksTmQ9bmV3IE1hcCxEZD0oTGQucHJvdG90eXBlLmdldFRva2VuPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKX0sTGQucHJvdG90eXBlLmludmFsaWRhdGVUb2tlbj1mdW5jdGlvbigpe30sTGQucHJvdG90eXBlLnNldENoYW5nZUxpc3RlbmVyPWZ1bmN0aW9uKHQpeyh0aGlzLmNoYW5nZUxpc3RlbmVyPXQpKFRoLlVOQVVUSEVOVElDQVRFRCl9LExkLnByb3RvdHlwZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbigpe3RoaXMuY2hhbmdlTGlzdGVuZXI9bnVsbH0sTGQpLEFkPShPZC5wcm90b3R5cGUuZ2V0VG9rZW49ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49dGhpcy5jYyx0PXRoaXMuZm9yY2VSZWZyZXNoO3JldHVybiB0aGlzLmZvcmNlUmVmcmVzaD0hMSx0aGlzLmF1dGg/dGhpcy5hdXRoLmdldFRva2VuKHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuY2MhPT1uPyh4cihcIkZpcmViYXNlQ3JlZGVudGlhbHNQcm92aWRlclwiLFwiZ2V0VG9rZW4gYWJvcnRlZCBkdWUgdG8gdG9rZW4gY2hhbmdlLlwiKSxlLmdldFRva2VuKCkpOnQ/KEZyKFwic3RyaW5nXCI9PXR5cGVvZiB0LmFjY2Vzc1Rva2VuKSxuZXcgVGQodC5hY2Nlc3NUb2tlbixlLmN1cnJlbnRVc2VyKSk6bnVsbH0pOlByb21pc2UucmVzb2x2ZShudWxsKX0sT2QucHJvdG90eXBlLmludmFsaWRhdGVUb2tlbj1mdW5jdGlvbigpe3RoaXMuZm9yY2VSZWZyZXNoPSEwfSxPZC5wcm90b3R5cGUuc2V0Q2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24odCl7dGhpcy5jaGFuZ2VMaXN0ZW5lcj10LHRoaXMucmVjZWl2ZWRJbml0aWFsVXNlciYmdCh0aGlzLmN1cnJlbnRVc2VyKX0sT2QucHJvdG90eXBlLnJlbW92ZUNoYW5nZUxpc3RlbmVyPWZ1bmN0aW9uKCl7dGhpcy5hdXRoJiZ0aGlzLmF1dGgucmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIodGhpcy5vYyksdGhpcy5vYz1udWxsLHRoaXMuY2hhbmdlTGlzdGVuZXI9bnVsbH0sT2QucHJvdG90eXBlLnVjPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hdXRoJiZ0aGlzLmF1dGguZ2V0VWlkKCk7cmV0dXJuIEZyKG51bGw9PT10fHxcInN0cmluZ1wiPT10eXBlb2YgdCksbmV3IFRoKHQpfSxPZCksa2Q9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh4ZC5wcm90b3R5cGUsXCJhdXRoSGVhZGVyc1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD17XCJYLUdvb2ctQXV0aFVzZXJcIjp0aGlzLmhjfSxlPXRoaXMuYWMuYXV0aC5nZXRBdXRoSGVhZGVyVmFsdWVGb3JGaXJzdFBhcnR5KFtdKTtyZXR1cm4gZSYmKHQuQXV0aG9yaXphdGlvbj1lKSx0aGlzLmxjJiYodFtcIlgtR29vZy1JYW0tQXV0aG9yaXphdGlvbi1Ub2tlblwiXT10aGlzLmxjKSx0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHhkKSxDZD0oUmQucHJvdG90eXBlLmdldFRva2VuPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcga2QodGhpcy5hYyx0aGlzLmhjLHRoaXMubGMpKX0sUmQucHJvdG90eXBlLnNldENoYW5nZUxpc3RlbmVyPWZ1bmN0aW9uKHQpe3QoVGguRklSU1RfUEFSVFkpfSxSZC5wcm90b3R5cGUucmVtb3ZlQ2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24oKXt9LFJkLnByb3RvdHlwZS5pbnZhbGlkYXRlVG9rZW49ZnVuY3Rpb24oKXt9LFJkKTtmdW5jdGlvbiBSZCh0LGUsbil7dGhpcy5hYz10LHRoaXMuaGM9ZSx0aGlzLmxjPW59ZnVuY3Rpb24geGQodCxlLG4pe3RoaXMuYWM9dCx0aGlzLmhjPWUsdGhpcy5sYz1uLHRoaXMudHlwZT1cIkZpcnN0UGFydHlcIix0aGlzLnVzZXI9VGguRklSU1RfUEFSVFl9ZnVuY3Rpb24gT2QodCl7dmFyIGU9dGhpczt0aGlzLm9jPW51bGwsdGhpcy5jdXJyZW50VXNlcj1UaC5VTkFVVEhFTlRJQ0FURUQsdGhpcy5yZWNlaXZlZEluaXRpYWxVc2VyPSExLHRoaXMuY2M9MCx0aGlzLmNoYW5nZUxpc3RlbmVyPW51bGwsdGhpcy5mb3JjZVJlZnJlc2g9ITEsdGhpcy5vYz1mdW5jdGlvbigpe2UuY2MrKyxlLmN1cnJlbnRVc2VyPWUudWMoKSxlLnJlY2VpdmVkSW5pdGlhbFVzZXI9ITAsZS5jaGFuZ2VMaXN0ZW5lciYmZS5jaGFuZ2VMaXN0ZW5lcihlLmN1cnJlbnRVc2VyKX0sdGhpcy5jYz0wLHRoaXMuYXV0aD10LmdldEltbWVkaWF0ZSh7b3B0aW9uYWw6ITB9KSx0aGlzLmF1dGg/dGhpcy5hdXRoLmFkZEF1dGhUb2tlbkxpc3RlbmVyKHRoaXMub2MpOih0aGlzLm9jKG51bGwpLHQuZ2V0KCkudGhlbihmdW5jdGlvbih0KXtlLmF1dGg9dCxlLm9jJiZlLmF1dGguYWRkQXV0aFRva2VuTGlzdGVuZXIoZS5vYyl9LGZ1bmN0aW9uKCl7fSkpfWZ1bmN0aW9uIExkKCl7dGhpcy5jaGFuZ2VMaXN0ZW5lcj1udWxsfWZ1bmN0aW9uIFBkKHQsZSl7dGhpcy5wcm9qZWN0SWQ9dCx0aGlzLmRhdGFiYXNlPWV8fFwiKGRlZmF1bHQpXCJ9ZnVuY3Rpb24gTWQodCxlLG4pe2lmKCFuKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiRnVuY3Rpb24gXCIrdCtcIigpIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBhbiBlbXB0eSBcIitlK1wiLlwiKX1mdW5jdGlvbiBGZCh0LGUpe2lmKHZvaWQgMD09PWUpcmV0dXJue21lcmdlOiExfTtpZih2b2lkIDAhPT1lLm1lcmdlRmllbGRzJiZ2b2lkIDAhPT1lLm1lcmdlKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBvcHRpb25zIHBhc3NlZCB0byBmdW5jdGlvbiBcIit0KycoKTogWW91IGNhbm5vdCBzcGVjaWZ5IGJvdGggXCJtZXJnZVwiIGFuZCBcIm1lcmdlRmllbGRzXCIuJyk7cmV0dXJuIGV9ZnVuY3Rpb24gVmQodCxlLG4scil7aWYoITA9PT1lJiYhMD09PXIpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsdCtcIiBhbmQgXCIrbitcIiBjYW5ub3QgYmUgdXNlZCB0b2dldGhlci5cIil9ZnVuY3Rpb24gVWQodCl7aWYoIW1pLmlzRG9jdW1lbnRLZXkodCkpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIGRvY3VtZW50IHJlZmVyZW5jZS4gRG9jdW1lbnQgcmVmZXJlbmNlcyBtdXN0IGhhdmUgYW4gZXZlbiBudW1iZXIgb2Ygc2VnbWVudHMsIGJ1dCBcIit0K1wiIGhhcyBcIit0Lmxlbmd0aCtcIi5cIil9ZnVuY3Rpb24gcWQodCl7aWYobWkuaXNEb2N1bWVudEtleSh0KSl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgY29sbGVjdGlvbiByZWZlcmVuY2UuIENvbGxlY3Rpb24gcmVmZXJlbmNlcyBtdXN0IGhhdmUgYW4gb2RkIG51bWJlciBvZiBzZWdtZW50cywgYnV0IFwiK3QrXCIgaGFzIFwiK3QubGVuZ3RoK1wiLlwiKX1mdW5jdGlvbiBCZChlKXtpZih2b2lkIDA9PT1lKXJldHVyblwidW5kZWZpbmVkXCI7aWYobnVsbD09PWUpcmV0dXJuXCJudWxsXCI7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIDIwPGUubGVuZ3RoJiYoZT1lLnN1YnN0cmluZygwLDIwKStcIi4uLlwiKSxKU09OLnN0cmluZ2lmeShlKTtpZihcIm51bWJlclwiPT10eXBlb2YgZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlKXJldHVyblwiXCIrZTtpZihcIm9iamVjdFwiIT10eXBlb2YgZSlyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP1wiYSBmdW5jdGlvblwiOk1yKCk7aWYoZSBpbnN0YW5jZW9mIEFycmF5KXJldHVyblwiYW4gYXJyYXlcIjt2YXIgdD1mdW5jdGlvbigpe2lmKGUuY29uc3RydWN0b3Ipe3ZhciB0PS9mdW5jdGlvblxccysoW15cXHMoXSspXFxzKlxcKC8uZXhlYyhlLmNvbnN0cnVjdG9yLnRvU3RyaW5nKCkpO2lmKHQmJjE8dC5sZW5ndGgpcmV0dXJuIHRbMV19cmV0dXJuIG51bGx9KCk7cmV0dXJuIHQ/XCJhIGN1c3RvbSBcIit0K1wiIG9iamVjdFwiOlwiYW4gb2JqZWN0XCJ9ZnVuY3Rpb24gamQodCxlKXtpZigodD1cIl9kZWxlZ2F0ZVwiaW4gdD90Ll9kZWxlZ2F0ZTp0KWluc3RhbmNlb2YgZSlyZXR1cm4gdDtpZihlLm5hbWU9PT10LmNvbnN0cnVjdG9yLm5hbWUpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJUeXBlIGRvZXMgbm90IG1hdGNoIHRoZSBleHBlY3RlZCBpbnN0YW5jZS4gRGlkIHlvdSBwYXNzIGEgcmVmZXJlbmNlIGZyb20gYSBkaWZmZXJlbnQgRmlyZXN0b3JlIFNESz9cIik7dD1CZCh0KTt0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkV4cGVjdGVkIHR5cGUgJ1wiK2UubmFtZStcIicsIGJ1dCBpdCB3YXM6IFwiK3QpfWZ1bmN0aW9uIEtkKHQsZSl7aWYoZTw9MCl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkZ1bmN0aW9uIFwiK3QrXCIoKSByZXF1aXJlcyBhIHBvc2l0aXZlIG51bWJlciwgYnV0IGl0IHdhczogXCIrZStcIi5cIil9dmFyIEdkLFFkPSh0cC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ob3N0PT09dC5ob3N0JiZ0aGlzLnNzbD09PXQuc3NsJiZ0aGlzLmNyZWRlbnRpYWxzPT09dC5jcmVkZW50aWFscyYmdGhpcy5jYWNoZVNpemVCeXRlcz09PXQuY2FjaGVTaXplQnl0ZXMmJnRoaXMuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZz09PXQuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZyYmdGhpcy5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmc9PT10LmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyYmdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzPT09dC5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzfSx0cCksemQ9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShaZC5wcm90b3R5cGUsXCJhcHBcIix7Z2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2FwcCl0aHJvdyBuZXcgQXIoRHIuRkFJTEVEX1BSRUNPTkRJVElPTixcIkZpcmVzdG9yZSB3YXMgbm90IGluaXRpYWxpemVkIHVzaW5nIHRoZSBGaXJlYmFzZSBTREsuICdhcHAnIGlzIG5vdCBhdmFpbGFibGVcIik7cmV0dXJuIHRoaXMuX2FwcH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoWmQucHJvdG90eXBlLFwiX2luaXRpYWxpemVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXR0aW5nc0Zyb3plbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoWmQucHJvdG90eXBlLFwiX3Rlcm1pbmF0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX3Rlcm1pbmF0ZVRhc2t9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksWmQucHJvdG90eXBlLl9zZXRTZXR0aW5ncz1mdW5jdGlvbih0KXtpZih0aGlzLl9zZXR0aW5nc0Zyb3plbil0aHJvdyBuZXcgQXIoRHIuRkFJTEVEX1BSRUNPTkRJVElPTixcIkZpcmVzdG9yZSBoYXMgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQgYW5kIGl0cyBzZXR0aW5ncyBjYW4gbm8gbG9uZ2VyIGJlIGNoYW5nZWQuIFlvdSBjYW4gb25seSBtb2RpZnkgc2V0dGluZ3MgYmVmb3JlIGNhbGxpbmcgYW55IG90aGVyIG1ldGhvZHMgb24gYSBGaXJlc3RvcmUgb2JqZWN0LlwiKTt0aGlzLl9zZXR0aW5ncz1uZXcgUWQodCksdm9pZCAwIT09dC5jcmVkZW50aWFscyYmKHRoaXMuX2NyZWRlbnRpYWxzPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiBuZXcgRGQ7c3dpdGNoKHQudHlwZSl7Y2FzZVwiZ2FwaVwiOnZhciBlPXQuY2xpZW50O3JldHVybiBGcighKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZXx8IWUuYXV0aHx8IWUuYXV0aC5nZXRBdXRoSGVhZGVyVmFsdWVGb3JGaXJzdFBhcnR5KSksbmV3IENkKGUsdC5zZXNzaW9uSW5kZXh8fFwiMFwiLHQuaWFtVG9rZW58fG51bGwpO2Nhc2VcInByb3ZpZGVyXCI6cmV0dXJuIHQuY2xpZW50O2RlZmF1bHQ6dGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJtYWtlQ3JlZGVudGlhbHNQcm92aWRlciBmYWlsZWQgZHVlIHRvIGludmFsaWQgY3JlZGVudGlhbCB0eXBlXCIpfX0odC5jcmVkZW50aWFscykpfSxaZC5wcm90b3R5cGUuX2dldFNldHRpbmdzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldHRpbmdzfSxaZC5wcm90b3R5cGUuX2ZyZWV6ZVNldHRpbmdzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldHRpbmdzRnJvemVuPSEwLHRoaXMuX3NldHRpbmdzfSxaZC5wcm90b3R5cGUuX2RlbGV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXJtaW5hdGVUYXNrfHwodGhpcy5fdGVybWluYXRlVGFzaz10aGlzLl90ZXJtaW5hdGUoKSksdGhpcy5fdGVybWluYXRlVGFza30sWmQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnthcHA6dGhpcy5fYXBwLGRhdGFiYXNlSWQ6dGhpcy5fZGF0YWJhc2VJZCxzZXR0aW5nczp0aGlzLl9zZXR0aW5nc319LFpkLnByb3RvdHlwZS5fdGVybWluYXRlPWZ1bmN0aW9uKCl7cmV0dXJuKHQ9TmQuZ2V0KHRoaXMpKSYmKHhyKFwiQ29tcG9uZW50UHJvdmlkZXJcIixcIlJlbW92aW5nIERhdGFzdG9yZVwiKSxOZC5kZWxldGUodGhpcyksdC50ZXJtaW5hdGUoKSksUHJvbWlzZS5yZXNvbHZlKCk7dmFyIHR9LFpkKSxIZD0oT2JqZWN0LmRlZmluZVByb3BlcnR5KCRkLnByb3RvdHlwZSxcIl9wYXRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rZXkucGF0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoJGQucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleS5wYXRoLmxhc3RTZWdtZW50KCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KCRkLnByb3RvdHlwZSxcInBhdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleS5wYXRoLmNhbm9uaWNhbFN0cmluZygpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSgkZC5wcm90b3R5cGUsXCJwYXJlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBZZCh0aGlzLmZpcmVzdG9yZSx0aGlzLl9jb252ZXJ0ZXIsdGhpcy5fa2V5LnBhdGgucG9wTGFzdCgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSwkZC5wcm90b3R5cGUud2l0aENvbnZlcnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3ICRkKHRoaXMuZmlyZXN0b3JlLHQsdGhpcy5fa2V5KX0sJGQpLFdkPShKZC5wcm90b3R5cGUud2l0aENvbnZlcnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEpkKHRoaXMuZmlyZXN0b3JlLHQsdGhpcy5fcXVlcnkpfSxKZCksWWQ9KG4oWGQsR2Q9V2QpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYZC5wcm90b3R5cGUsXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcXVlcnkucGF0aC5sYXN0U2VnbWVudCgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYZC5wcm90b3R5cGUsXCJwYXRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9xdWVyeS5wYXRoLmNhbm9uaWNhbFN0cmluZygpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYZC5wcm90b3R5cGUsXCJwYXJlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGF0aC5wb3BMYXN0KCk7cmV0dXJuIHQuaXNFbXB0eSgpP251bGw6bmV3IEhkKHRoaXMuZmlyZXN0b3JlLG51bGwsbmV3IG1pKHQpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxYZC5wcm90b3R5cGUud2l0aENvbnZlcnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFhkKHRoaXMuZmlyZXN0b3JlLHQsdGhpcy5fcGF0aCl9LFhkKTtmdW5jdGlvbiBYZCh0LGUsbil7dmFyIHI9dGhpcztyZXR1cm4ocj1HZC5jYWxsKHRoaXMsdCxlLGJvKG4pKXx8dGhpcykuX3BhdGg9bixyLnR5cGU9XCJjb2xsZWN0aW9uXCIscn1mdW5jdGlvbiBKZCh0LGUsbil7dGhpcy5fY29udmVydGVyPWUsdGhpcy5fcXVlcnk9bix0aGlzLnR5cGU9XCJxdWVyeVwiLHRoaXMuZmlyZXN0b3JlPXR9ZnVuY3Rpb24gJGQodCxlLG4pe3RoaXMuX2NvbnZlcnRlcj1lLHRoaXMuX2tleT1uLHRoaXMudHlwZT1cImRvY3VtZW50XCIsdGhpcy5maXJlc3RvcmU9dH1mdW5jdGlvbiBaZCh0LGUpe3RoaXMuX3BlcnNpc3RlbmNlS2V5PVwiKGxpdGUpXCIsdGhpcy5fc2V0dGluZ3M9bmV3IFFkKHt9KSx0aGlzLl9zZXR0aW5nc0Zyb3plbj0hMSx0IGluc3RhbmNlb2YgU2Q/KHRoaXMuX2RhdGFiYXNlSWQ9dCx0aGlzLl9jcmVkZW50aWFscz1uZXcgRGQpOih0aGlzLl9hcHA9dCx0aGlzLl9kYXRhYmFzZUlkPWZ1bmN0aW9uKHQpe2lmKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmFwcGx5KHQub3B0aW9ucyxbXCJwcm9qZWN0SWRcIl0pKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULCdcInByb2plY3RJZFwiIG5vdCBwcm92aWRlZCBpbiBmaXJlYmFzZS5pbml0aWFsaXplQXBwLicpO3JldHVybiBuZXcgU2QodC5vcHRpb25zLnByb2plY3RJZCl9KHQpLHRoaXMuX2NyZWRlbnRpYWxzPW5ldyBBZChlKSl9ZnVuY3Rpb24gdHAodCl7dmFyIGU7aWYodm9pZCAwPT09dC5ob3N0KXtpZih2b2lkIDAhPT10LnNzbCl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkNhbid0IHByb3ZpZGUgc3NsIG9wdGlvbiBpZiBob3N0IG9wdGlvbiBpcyBub3Qgc2V0XCIpO3RoaXMuaG9zdD1cImZpcmVzdG9yZS5nb29nbGVhcGlzLmNvbVwiLHRoaXMuc3NsPSEwfWVsc2UgdGhpcy5ob3N0PXQuaG9zdCx0aGlzLnNzbD1udWxsPT09KGU9dC5zc2wpfHx2b2lkIDA9PT1lfHxlO2lmKHRoaXMuY3JlZGVudGlhbHM9dC5jcmVkZW50aWFscyx0aGlzLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXM9ISF0Lmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMsdm9pZCAwPT09dC5jYWNoZVNpemVCeXRlcyl0aGlzLmNhY2hlU2l6ZUJ5dGVzPTQxOTQzMDQwO2Vsc2V7aWYoLTEhPT10LmNhY2hlU2l6ZUJ5dGVzJiZ0LmNhY2hlU2l6ZUJ5dGVzPDEwNDg1NzYpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJjYWNoZVNpemVCeXRlcyBtdXN0IGJlIGF0IGxlYXN0IDEwNDg1NzZcIik7dGhpcy5jYWNoZVNpemVCeXRlcz10LmNhY2hlU2l6ZUJ5dGVzfXRoaXMuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZz0hIXQuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZyx0aGlzLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZz0hIXQuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nLFZkKFwiZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZ1wiLHQuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZyxcImV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZ1wiLHQuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nKX1mdW5jdGlvbiBlcCh0LGUpe2Zvcih2YXIgbixyPVtdLGk9MjtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXJbaS0yXT1hcmd1bWVudHNbaV07aWYodD1tKHQpLE1kKFwiY29sbGVjdGlvblwiLFwicGF0aFwiLGUpLHQgaW5zdGFuY2VvZiB6ZClyZXR1cm4gcWQobj0kci5mcm9tU3RyaW5nLmFwcGx5KCRyLHMoW2VdLHIpKSksbmV3IFlkKHQsbnVsbCxuKTtpZighKHQgaW5zdGFuY2VvZiBIZHx8dCBpbnN0YW5jZW9mIFlkKSl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGNvbGxlY3Rpb24oKSB0byBiZSBhIENvbGxlY3Rpb25SZWZlcmVuY2UsIGEgRG9jdW1lbnRSZWZlcmVuY2Ugb3IgRmlyZWJhc2VGaXJlc3RvcmVcIik7cmV0dXJuIHFkKG49JHIuZnJvbVN0cmluZy5hcHBseSgkcixzKFt0LnBhdGhdLHIpKS5jaGlsZCgkci5mcm9tU3RyaW5nKGUpKSksbmV3IFlkKHQuZmlyZXN0b3JlLG51bGwsbil9ZnVuY3Rpb24gbnAodCxlKXtmb3IodmFyIG4scj1bXSxpPTI7aTxhcmd1bWVudHMubGVuZ3RoO2krKylyW2ktMl09YXJndW1lbnRzW2ldO2lmKHQ9bSh0KSxNZChcImRvY1wiLFwicGF0aFwiLGU9MT09PWFyZ3VtZW50cy5sZW5ndGg/VnIudSgpOmUpLHQgaW5zdGFuY2VvZiB6ZClyZXR1cm4gVWQobj0kci5mcm9tU3RyaW5nLmFwcGx5KCRyLHMoW2VdLHIpKSksbmV3IEhkKHQsbnVsbCxuZXcgbWkobikpO2lmKCEodCBpbnN0YW5jZW9mIEhkfHx0IGluc3RhbmNlb2YgWWQpKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gY29sbGVjdGlvbigpIHRvIGJlIGEgQ29sbGVjdGlvblJlZmVyZW5jZSwgYSBEb2N1bWVudFJlZmVyZW5jZSBvciBGaXJlYmFzZUZpcmVzdG9yZVwiKTtyZXR1cm4gVWQobj10Ll9wYXRoLmNoaWxkKCRyLmZyb21TdHJpbmcuYXBwbHkoJHIscyhbZV0scikpKSksbmV3IEhkKHQuZmlyZXN0b3JlLHQgaW5zdGFuY2VvZiBZZD90Ll9jb252ZXJ0ZXI6bnVsbCxuZXcgbWkobikpfWZ1bmN0aW9uIHJwKHQsZSl7cmV0dXJuIHQ9bSh0KSxlPW0oZSksKHQgaW5zdGFuY2VvZiBIZHx8dCBpbnN0YW5jZW9mIFlkKSYmKGUgaW5zdGFuY2VvZiBIZHx8ZSBpbnN0YW5jZW9mIFlkKSYmdC5maXJlc3RvcmU9PT1lLmZpcmVzdG9yZSYmdC5wYXRoPT09ZS5wYXRoJiZ0Ll9jb252ZXJ0ZXI9PT1lLl9jb252ZXJ0ZXJ9ZnVuY3Rpb24gaXAodCxlKXtyZXR1cm4gdD1tKHQpLGU9bShlKSx0IGluc3RhbmNlb2YgV2QmJmUgaW5zdGFuY2VvZiBXZCYmdC5maXJlc3RvcmU9PT1lLmZpcmVzdG9yZSYmQW8odC5fcXVlcnksZS5fcXVlcnkpJiZ0Ll9jb252ZXJ0ZXI9PT1lLl9jb252ZXJ0ZXJ9dmFyIG9wPShPYmplY3QuZGVmaW5lUHJvcGVydHkoc3AucHJvdG90eXBlLFwiaXNTaHV0dGluZ0Rvd25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2N9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksc3AucHJvdG90eXBlLmVucXVldWVBbmRGb3JnZXQ9ZnVuY3Rpb24odCl7dGhpcy5lbnF1ZXVlKHQpfSxzcC5wcm90b3R5cGUuZW5xdWV1ZUFuZEZvcmdldEV2ZW5XaGlsZVJlc3RyaWN0ZWQ9ZnVuY3Rpb24odCl7dGhpcy5UYygpLHRoaXMuSWModCl9LHNwLnByb3RvdHlwZS5lbnRlclJlc3RyaWN0ZWRNb2RlPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy53Y3x8KHRoaXMud2M9ITAsKHQ9aGwoKSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQucmVtb3ZlRXZlbnRMaXN0ZW5lciYmdC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuRWMpKX0sc3AucHJvdG90eXBlLmVucXVldWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuVGMoKSx0aGlzLndjP25ldyBQcm9taXNlKGZ1bmN0aW9uKHQpe30pOnRoaXMuSWModCl9LHNwLnByb3RvdHlwZS5lbnF1ZXVlUmV0cnlhYmxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGMucHVzaCh0KSxlLkFjKCl9KX0sc3AucHJvdG90eXBlLkFjPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbj10aGlzO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDppZigwPT09dGhpcy5kYy5sZW5ndGgpcmV0dXJuWzMsNV07dC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdC50cnlzLnB1c2goWzEsMywsNF0pLFs0LHRoaXMuZGNbMF0oKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSx0aGlzLmRjLnNoaWZ0KCksdGhpcy5aaS5yZXNldCgpLFszLDRdO2Nhc2UgMzppZighbHUoZT10LnNlbnQoKSkpdGhyb3cgZTtyZXR1cm4geHIoXCJBc3luY1F1ZXVlXCIsXCJPcGVyYXRpb24gZmFpbGVkIHdpdGggcmV0cnlhYmxlIGVycm9yOiBcIitlKSxbMyw0XTtjYXNlIDQ6MDx0aGlzLmRjLmxlbmd0aCYmdGhpcy5aaS5qaShmdW5jdGlvbigpe3JldHVybiBuLkFjKCl9KSx0LmxhYmVsPTU7Y2FzZSA1OnJldHVyblsyXX19KX0pfSxzcC5wcm90b3R5cGUuSWM9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxlPXRoaXMuZmMudGhlbihmdW5jdGlvbigpe3JldHVybiByLnljPSEwLHQoKS5jYXRjaChmdW5jdGlvbih0KXt0aHJvdyByLm1jPXQsci55Yz0hMSxPcihcIklOVEVSTkFMIFVOSEFORExFRCBFUlJPUjogXCIsKG49KGU9dCkubWVzc2FnZXx8XCJcIixuPWUuc3RhY2s/ZS5zdGFjay5pbmNsdWRlcyhlLm1lc3NhZ2UpP2Uuc3RhY2s6ZS5tZXNzYWdlK1wiXFxuXCIrZS5zdGFjazpuKSksdDt2YXIgZSxufSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gci55Yz0hMSx0fSl9KTtyZXR1cm4gdGhpcy5mYz1lfSxzcC5wcm90b3R5cGUuZW5xdWV1ZUFmdGVyRGVsYXk9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7dGhpcy5UYygpLC0xPHRoaXMuZ2MuaW5kZXhPZih0KSYmKGU9MCk7bj16bC5jcmVhdGVBbmRTY2hlZHVsZSh0aGlzLHQsZSxuLGZ1bmN0aW9uKHQpe3JldHVybiByLlJjKHQpfSk7cmV0dXJuIHRoaXMuX2MucHVzaChuKSxufSxzcC5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt0aGlzLm1jJiZNcigpfSxzcC5wcm90b3R5cGUudmVyaWZ5T3BlcmF0aW9uSW5Qcm9ncmVzcz1mdW5jdGlvbigpe30sc3AucHJvdG90eXBlLmJjPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGU9dGhpcy5mY107Y2FzZSAxOnQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6aWYoZSE9PXRoaXMuZmMpcmV0dXJuWzMsMF07dC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMl19fSl9KX0sc3AucHJvdG90eXBlLnZjPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5fYztlPG4ubGVuZ3RoO2UrKylpZihuW2VdLnRpbWVySWQ9PT10KXJldHVybiEwO3JldHVybiExfSxzcC5wcm90b3R5cGUuUGM9ZnVuY3Rpb24ocil7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy5iYygpLnRoZW4oZnVuY3Rpb24oKXtpLl9jLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC50YXJnZXRUaW1lTXMtZS50YXJnZXRUaW1lTXN9KTtmb3IodmFyIHQ9MCxlPWkuX2M7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF07aWYobi5za2lwRGVsYXkoKSxcImFsbFwiIT09ciYmbi50aW1lcklkPT09cilicmVha31yZXR1cm4gaS5iYygpfSl9LHNwLnByb3RvdHlwZS5WYz1mdW5jdGlvbih0KXt0aGlzLmdjLnB1c2godCl9LHNwLnByb3RvdHlwZS5SYz1mdW5jdGlvbih0KXt0PXRoaXMuX2MuaW5kZXhPZih0KTt0aGlzLl9jLnNwbGljZSh0LDEpfSxzcCk7ZnVuY3Rpb24gc3AoKXt2YXIgZT10aGlzO3RoaXMuZmM9UHJvbWlzZS5yZXNvbHZlKCksdGhpcy5kYz1bXSx0aGlzLndjPSExLHRoaXMuX2M9W10sdGhpcy5tYz1udWxsLHRoaXMueWM9ITEsdGhpcy5nYz1bXSx0aGlzLlppPW5ldyBnbCh0aGlzLFwiYXN5bmNfcXVldWVfcmV0cnlcIiksdGhpcy5FYz1mdW5jdGlvbigpe3ZhciB0PWhsKCk7dCYmeHIoXCJBc3luY1F1ZXVlXCIsXCJWaXNpYmlsaXR5IHN0YXRlIGNoYW5nZWQgdG8gXCIrdC52aXNpYmlsaXR5U3RhdGUpLGUuWmkuR2koKX07dmFyIHQ9aGwoKTt0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmFkZEV2ZW50TGlzdGVuZXImJnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLkVjKX1mdW5jdGlvbiBhcChpKXtyZXR1cm4gZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiPT10eXBlb2YgaSYmbnVsbCE9PWkpZm9yKHZhciB0PWksZT0wLG49W1wibmV4dFwiLFwiZXJyb3JcIixcImNvbXBsZXRlXCJdO2U8bi5sZW5ndGg7ZSsrKXt2YXIgcj1uW2VdO2lmKHIgaW4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdFtyXSlyZXR1cm4gMX19KCl9dmFyIHVwLGNwPShmcC5wcm90b3R5cGUub25Qcm9ncmVzcz1mdW5jdGlvbih0LGUsbil7dGhpcy5fcHJvZ3Jlc3NPYnNlcnZlcj17bmV4dDp0LGVycm9yOmUsY29tcGxldGU6bn19LGZwLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdGFza0NvbXBsZXRpb25SZXNvbHZlci5wcm9taXNlLmNhdGNoKHQpfSxmcC5wcm90b3R5cGUudGhlbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl90YXNrQ29tcGxldGlvblJlc29sdmVyLnByb21pc2UudGhlbih0LGUpfSxmcC5wcm90b3R5cGUuX2NvbXBsZXRlV2l0aD1mdW5jdGlvbih0KXt0aGlzLl91cGRhdGVQcm9ncmVzcyh0KSx0aGlzLl9wcm9ncmVzc09ic2VydmVyLmNvbXBsZXRlJiZ0aGlzLl9wcm9ncmVzc09ic2VydmVyLmNvbXBsZXRlKCksdGhpcy5fdGFza0NvbXBsZXRpb25SZXNvbHZlci5yZXNvbHZlKHQpfSxmcC5wcm90b3R5cGUuX2ZhaWxXaXRoPWZ1bmN0aW9uKHQpe3RoaXMuX2xhc3RQcm9ncmVzcy50YXNrU3RhdGU9XCJFcnJvclwiLHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIubmV4dCYmdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5uZXh0KHRoaXMuX2xhc3RQcm9ncmVzcyksdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5lcnJvciYmdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5lcnJvcih0KSx0aGlzLl90YXNrQ29tcGxldGlvblJlc29sdmVyLnJlamVjdCh0KX0sZnAucHJvdG90eXBlLl91cGRhdGVQcm9ncmVzcz1mdW5jdGlvbih0KXt0aGlzLl9sYXN0UHJvZ3Jlc3M9dCx0aGlzLl9wcm9ncmVzc09ic2VydmVyLm5leHQmJnRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIubmV4dCh0KX0sZnApLGhwPShuKGxwLHVwPXpkKSxscC5wcm90b3R5cGUuX3Rlcm1pbmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maXJlc3RvcmVDbGllbnR8fHBwKHRoaXMpLHRoaXMuX2ZpcmVzdG9yZUNsaWVudC50ZXJtaW5hdGUoKX0sbHApO2Z1bmN0aW9uIGxwKHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj11cC5jYWxsKHRoaXMsdCxlKXx8dGhpcykuX3F1ZXVlPW5ldyBvcCxuLl9wZXJzaXN0ZW5jZUtleT1cIm5hbWVcImluIHQ/dC5uYW1lOlwiW0RFRkFVTFRdXCIsbn1mdW5jdGlvbiBmcCgpe3RoaXMuX3Byb2dyZXNzT2JzZXJ2ZXI9e30sdGhpcy5fdGFza0NvbXBsZXRpb25SZXNvbHZlcj1uZXcgWmEsdGhpcy5fbGFzdFByb2dyZXNzPXt0YXNrU3RhdGU6XCJSdW5uaW5nXCIsdG90YWxCeXRlczowLHRvdGFsRG9jdW1lbnRzOjAsYnl0ZXNMb2FkZWQ6MCxkb2N1bWVudHNMb2FkZWQ6MH19ZnVuY3Rpb24gZHAodCl7cmV0dXJuIHQuX2ZpcmVzdG9yZUNsaWVudHx8cHAodCksdC5fZmlyZXN0b3JlQ2xpZW50LnZlcmlmeU5vdFRlcm1pbmF0ZWQoKSx0Ll9maXJlc3RvcmVDbGllbnR9ZnVuY3Rpb24gcHAodCl7dmFyIGUsbixyLGk9dC5fZnJlZXplU2V0dGluZ3MoKSxpPShlPXQuX2RhdGFiYXNlSWQsbj0obnVsbD09PShyPXQuX2FwcCl8fHZvaWQgMD09PXI/dm9pZCAwOnIub3B0aW9ucy5hcHBJZCl8fFwiXCIscj10Ll9wZXJzaXN0ZW5jZUtleSxuZXcgX2QoZSxuLHIsaS5ob3N0LGkuc3NsLGkuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZyxpLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZykpO3QuX2ZpcmVzdG9yZUNsaWVudD1uZXcgc2QodC5fY3JlZGVudGlhbHMsdC5fcXVldWUsaSl9ZnVuY3Rpb24geXAocixpLG8pe3ZhciB0PXRoaXMscz1uZXcgWmE7cmV0dXJuIHIuYXN5bmNRdWV1ZS5lbnF1ZXVlKGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0LnRyeXMucHVzaChbMCwzLCw0XSksWzQsZmQocixvKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbNCxkZChyLGkpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLHMucmVzb2x2ZSgpLFszLDRdO2Nhc2UgMzppZighKFwiRmlyZWJhc2VFcnJvclwiPT09KGU9bj10LnNlbnQoKSkubmFtZT9lLmNvZGU9PT1Eci5GQUlMRURfUFJFQ09ORElUSU9OfHxlLmNvZGU9PT1Eci5VTklNUExFTUVOVEVEOiEoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIERPTUV4Y2VwdGlvbiYmZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbil8fDIyPT09ZS5jb2RlfHwyMD09PWUuY29kZXx8MTE9PT1lLmNvZGUpKXRocm93IG47cmV0dXJuIGNvbnNvbGUud2FybihcIkVycm9yIGVuYWJsaW5nIG9mZmxpbmUgcGVyc2lzdGVuY2UuIEZhbGxpbmcgYmFjayB0byBwZXJzaXN0ZW5jZSBkaXNhYmxlZDogXCIrbikscy5yZWplY3QobiksWzMsNF07Y2FzZSA0OnJldHVyblsyXX12YXIgZX0pfSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHMucHJvbWlzZX0pfWZ1bmN0aW9uIGdwKHQpe2lmKHQuX2luaXRpYWxpemVkfHx0Ll90ZXJtaW5hdGVkKXRocm93IG5ldyBBcihEci5GQUlMRURfUFJFQ09ORElUSU9OLFwiRmlyZXN0b3JlIGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZCBhbmQgcGVyc2lzdGVuY2UgY2FuIG5vIGxvbmdlciBiZSBlbmFibGVkLiBZb3UgY2FuIG9ubHkgZW5hYmxlIHBlcnNpc3RlbmNlIGJlZm9yZSBjYWxsaW5nIGFueSBvdGhlciBtZXRob2RzIG9uIGEgRmlyZXN0b3JlIG9iamVjdC5cIil9dmFyIG1wPShBcC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW50ZXJuYWxQYXRoLmlzRXF1YWwodC5faW50ZXJuYWxQYXRoKX0sQXApLHZwPShEcC5mcm9tQmFzZTY0U3RyaW5nPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gbmV3IERwKG5pLmZyb21CYXNlNjRTdHJpbmcodCkpfWNhdGNoKHQpe3Rocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiRmFpbGVkIHRvIGNvbnN0cnVjdCBkYXRhIGZyb20gQmFzZTY0IHN0cmluZzogXCIrdCl9fSxEcC5mcm9tVWludDhBcnJheT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IERwKG5pLmZyb21VaW50OEFycmF5KHQpKX0sRHAucHJvdG90eXBlLnRvQmFzZTY0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J5dGVTdHJpbmcudG9CYXNlNjQoKX0sRHAucHJvdG90eXBlLnRvVWludDhBcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ieXRlU3RyaW5nLnRvVWludDhBcnJheSgpfSxEcC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkJ5dGVzKGJhc2U2NDogXCIrdGhpcy50b0Jhc2U2NCgpK1wiKVwifSxEcC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYnl0ZVN0cmluZy5pc0VxdWFsKHQuX2J5dGVTdHJpbmcpfSxEcCksYnA9ZnVuY3Rpb24odCl7dGhpcy5fbWV0aG9kTmFtZT10fSx3cD0oT2JqZWN0LmRlZmluZVByb3BlcnR5KE5wLnByb3RvdHlwZSxcImxhdGl0dWRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KE5wLnByb3RvdHlwZSxcImxvbmdpdHVkZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9uZ30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxOcC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF0PT09dC5fbGF0JiZ0aGlzLl9sb25nPT09dC5fbG9uZ30sTnAucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybntsYXRpdHVkZTp0aGlzLl9sYXQsbG9uZ2l0dWRlOnRoaXMuX2xvbmd9fSxOcC5wcm90b3R5cGUuX2NvbXBhcmVUbz1mdW5jdGlvbih0KXtyZXR1cm4gcXIodGhpcy5fbGF0LHQuX2xhdCl8fHFyKHRoaXMuX2xvbmcsdC5fbG9uZyl9LE5wKSxJcD0vXl9fLipfXyQvLEVwPShTcC5wcm90b3R5cGUudG9NdXRhdGlvbj1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT09dGhpcy5maWVsZE1hc2s/bmV3IGhzKHQsdGhpcy5kYXRhLHRoaXMuZmllbGRNYXNrLGUsdGhpcy5maWVsZFRyYW5zZm9ybXMpOm5ldyBjcyh0LHRoaXMuZGF0YSxlLHRoaXMuZmllbGRUcmFuc2Zvcm1zKX0sU3ApLFRwPShfcC5wcm90b3R5cGUudG9NdXRhdGlvbj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgaHModCx0aGlzLmRhdGEsdGhpcy5maWVsZE1hc2ssZSx0aGlzLmZpZWxkVHJhbnNmb3Jtcyl9LF9wKTtmdW5jdGlvbiBfcCh0LGUsbil7dGhpcy5kYXRhPXQsdGhpcy5maWVsZE1hc2s9ZSx0aGlzLmZpZWxkVHJhbnNmb3Jtcz1ufWZ1bmN0aW9uIFNwKHQsZSxuKXt0aGlzLmRhdGE9dCx0aGlzLmZpZWxkTWFzaz1lLHRoaXMuZmllbGRUcmFuc2Zvcm1zPW59ZnVuY3Rpb24gTnAodCxlKXtpZighaXNGaW5pdGUodCl8fHQ8LTkwfHw5MDx0KXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiTGF0aXR1ZGUgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIC05MCBhbmQgOTAsIGJ1dCB3YXM6IFwiK3QpO2lmKCFpc0Zpbml0ZShlKXx8ZTwtMTgwfHwxODA8ZSl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkxvbmdpdHVkZSBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gLTE4MCBhbmQgMTgwLCBidXQgd2FzOiBcIitlKTt0aGlzLl9sYXQ9dCx0aGlzLl9sb25nPWV9ZnVuY3Rpb24gRHAodCl7dGhpcy5fYnl0ZVN0cmluZz10fWZ1bmN0aW9uIEFwKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7KytuKWlmKDA9PT10W25dLmxlbmd0aCl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgZmllbGQgbmFtZSBhdCBhcmd1bWVudCAkKGkgKyAxKS4gRmllbGQgbmFtZXMgbXVzdCBub3QgYmUgZW1wdHkuXCIpO3RoaXMuX2ludGVybmFsUGF0aD1uZXcgdGkodCl9ZnVuY3Rpb24ga3AodCl7c3dpdGNoKHQpe2Nhc2UgMDpjYXNlIDI6Y2FzZSAxOnJldHVybiAxO2Nhc2UgMzpjYXNlIDQ6cmV0dXJuO2RlZmF1bHQ6dGhyb3cgTXIoKX19dmFyIENwPShPYmplY3QuZGVmaW5lUHJvcGVydHkoT3AucHJvdG90eXBlLFwicGF0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy5wYXRofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPcC5wcm90b3R5cGUsXCJEY1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy5EY30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPcC5wcm90b3R5cGUuQ2M9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBPcChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5zZXR0aW5ncyksdCksdGhpcy5kYXRhYmFzZUlkLHRoaXMuUix0aGlzLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMsdGhpcy5maWVsZFRyYW5zZm9ybXMsdGhpcy5maWVsZE1hc2spfSxPcC5wcm90b3R5cGUuTmM9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbD09PShlPXRoaXMucGF0aCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2hpbGQodCksZT10aGlzLkNjKHtwYXRoOmUseGM6ITF9KTtyZXR1cm4gZS5GYyh0KSxlfSxPcC5wcm90b3R5cGUua2M9ZnVuY3Rpb24odCl7dmFyIGUsdD1udWxsPT09KGU9dGhpcy5wYXRoKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jaGlsZCh0KSx0PXRoaXMuQ2Moe3BhdGg6dCx4YzohMX0pO3JldHVybiB0LlNjKCksdH0sT3AucHJvdG90eXBlLk9jPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkNjKHtwYXRoOnZvaWQgMCx4YzohMH0pfSxPcC5wcm90b3R5cGUuJGM9ZnVuY3Rpb24odCl7cmV0dXJuIHV5KHQsdGhpcy5zZXR0aW5ncy5tZXRob2ROYW1lLHRoaXMuc2V0dGluZ3MuTWN8fCExLHRoaXMucGF0aCx0aGlzLnNldHRpbmdzLkxjKX0sT3AucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT10aGlzLmZpZWxkTWFzay5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiBlLmlzUHJlZml4T2YodCl9KXx8dm9pZCAwIT09dGhpcy5maWVsZFRyYW5zZm9ybXMuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gZS5pc1ByZWZpeE9mKHQuZmllbGQpfSl9LE9wLnByb3RvdHlwZS5TYz1mdW5jdGlvbigpe2lmKHRoaXMucGF0aClmb3IodmFyIHQ9MDt0PHRoaXMucGF0aC5sZW5ndGg7dCsrKXRoaXMuRmModGhpcy5wYXRoLmdldCh0KSl9LE9wLnByb3RvdHlwZS5GYz1mdW5jdGlvbih0KXtpZigwPT09dC5sZW5ndGgpdGhyb3cgdGhpcy4kYyhcIkRvY3VtZW50IGZpZWxkcyBtdXN0IG5vdCBiZSBlbXB0eVwiKTtpZihrcCh0aGlzLkRjKSYmSXAudGVzdCh0KSl0aHJvdyB0aGlzLiRjKCdEb2N1bWVudCBmaWVsZHMgY2Fubm90IGJlZ2luIGFuZCBlbmQgd2l0aCBcIl9fXCInKX0sT3ApLFJwPSh4cC5wcm90b3R5cGUuQmM9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHZvaWQgMD09PXImJihyPSExKSxuZXcgQ3Aoe0RjOnQsbWV0aG9kTmFtZTplLExjOm4scGF0aDp0aS5lbXB0eVBhdGgoKSx4YzohMSxNYzpyfSx0aGlzLmRhdGFiYXNlSWQsdGhpcy5SLHRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyl9LHhwKTtmdW5jdGlvbiB4cCh0LGUsbil7dGhpcy5kYXRhYmFzZUlkPXQsdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzPWUsdGhpcy5SPW58fGxsKHQpfWZ1bmN0aW9uIE9wKHQsZSxuLHIsaSxvKXt0aGlzLnNldHRpbmdzPXQsdGhpcy5kYXRhYmFzZUlkPWUsdGhpcy5SPW4sdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzPXIsdm9pZCAwPT09aSYmdGhpcy5TYygpLHRoaXMuZmllbGRUcmFuc2Zvcm1zPWl8fFtdLHRoaXMuZmllbGRNYXNrPW98fFtdfWZ1bmN0aW9uIExwKHQpe3ZhciBlPXQuX2ZyZWV6ZVNldHRpbmdzKCksbj1sbCh0Ll9kYXRhYmFzZUlkKTtyZXR1cm4gbmV3IFJwKHQuX2RhdGFiYXNlSWQsISFlLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMsbil9ZnVuY3Rpb24gUHAodCxlLG4scixpLG8pe3ZvaWQgMD09PW8mJihvPXt9KTt2YXIgcz10LkJjKG8ubWVyZ2V8fG8ubWVyZ2VGaWVsZHM/MjowLGUsbixpKTtpeShcIkRhdGEgbXVzdCBiZSBhbiBvYmplY3QsIGJ1dCBpdCB3YXM6XCIscyxyKTt2YXIgYSx1LHI9bnkocixzKTtpZihvLm1lcmdlKWE9bmV3IGVpKHMuZmllbGRNYXNrKSx1PXMuZmllbGRUcmFuc2Zvcm1zO2Vsc2UgaWYoby5tZXJnZUZpZWxkcyl7Zm9yKHZhciBjPVtdLGg9MCxsPW8ubWVyZ2VGaWVsZHM7aDxsLmxlbmd0aDtoKyspe3ZhciBmPW95KGUsbFtoXSxuKTtpZighcy5jb250YWlucyhmKSl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkZpZWxkICdcIitmK1wiJyBpcyBzcGVjaWZpZWQgaW4geW91ciBmaWVsZCBtYXNrIGJ1dCBtaXNzaW5nIGZyb20geW91ciBpbnB1dCBkYXRhLlwiKTtjeShjLGYpfHxjLnB1c2goZil9YT1uZXcgZWkoYyksdT1zLmZpZWxkVHJhbnNmb3Jtcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIGEuY292ZXJzKHQuZmllbGQpfSl9ZWxzZSBhPW51bGwsdT1zLmZpZWxkVHJhbnNmb3JtcztyZXR1cm4gbmV3IEVwKG5ldyBSaShyKSxhLHUpfXZhciBNcCxGcD0obihWcCxNcD1icCksVnAucHJvdG90eXBlLl90b0ZpZWxkVHJhbnNmb3JtPWZ1bmN0aW9uKHQpe2lmKDIhPT10LkRjKXRocm93IDE9PT10LkRjP3QuJGModGhpcy5fbWV0aG9kTmFtZStcIigpIGNhbiBvbmx5IGFwcGVhciBhdCB0aGUgdG9wIGxldmVsIG9mIHlvdXIgdXBkYXRlIGRhdGFcIik6dC4kYyh0aGlzLl9tZXRob2ROYW1lK1wiKCkgY2Fubm90IGJlIHVzZWQgd2l0aCBzZXQoKSB1bmxlc3MgeW91IHBhc3Mge21lcmdlOnRydWV9XCIpO3JldHVybiB0LmZpZWxkTWFzay5wdXNoKHQucGF0aCksbnVsbH0sVnAucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBWcH0sVnApO2Z1bmN0aW9uIFZwKCl7cmV0dXJuIG51bGwhPT1NcCYmTXAuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfWZ1bmN0aW9uIFVwKHQsZSxuKXtyZXR1cm4gbmV3IENwKHtEYzozLExjOmUuc2V0dGluZ3MuTGMsbWV0aG9kTmFtZTp0Ll9tZXRob2ROYW1lLHhjOm59LGUuZGF0YWJhc2VJZCxlLlIsZS5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzKX12YXIgcXAsQnAsanAsS3AsR3A9KG4oSnAsS3A9YnApLEpwLnByb3RvdHlwZS5fdG9GaWVsZFRyYW5zZm9ybT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRzKHQucGF0aCxuZXcgVW8pfSxKcC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEpwfSxKcCksUXA9KG4oWHAsanA9YnApLFhwLnByb3RvdHlwZS5fdG9GaWVsZFRyYW5zZm9ybT1mdW5jdGlvbih0KXt2YXIgZT1VcCh0aGlzLHQsITApLG49dGhpcy5xYy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGV5KHQsZSl9KSxuPW5ldyBxbyhuKTtyZXR1cm4gbmV3IHRzKHQucGF0aCxuKX0sWHAucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fSxYcCksenA9KG4oWXAsQnA9YnApLFlwLnByb3RvdHlwZS5fdG9GaWVsZFRyYW5zZm9ybT1mdW5jdGlvbih0KXt2YXIgZT1VcCh0aGlzLHQsITApLG49dGhpcy5xYy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGV5KHQsZSl9KSxuPW5ldyBRbyhuKTtyZXR1cm4gbmV3IHRzKHQucGF0aCxuKX0sWXAucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fSxZcCksSHA9KG4oV3AscXA9YnApLFdwLnByb3RvdHlwZS5fdG9GaWVsZFRyYW5zZm9ybT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgWW8odC5SLFBvKHQuUix0aGlzLlVjKSk7cmV0dXJuIG5ldyB0cyh0LnBhdGgsZSl9LFdwLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dH0sV3ApO2Z1bmN0aW9uIFdwKHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj1xcC5jYWxsKHRoaXMsdCl8fHRoaXMpLlVjPWUsbn1mdW5jdGlvbiBZcCh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49QnAuY2FsbCh0aGlzLHQpfHx0aGlzKS5xYz1lLG59ZnVuY3Rpb24gWHAodCxlKXt2YXIgbj10aGlzO3JldHVybihuPWpwLmNhbGwodGhpcyx0KXx8dGhpcykucWM9ZSxufWZ1bmN0aW9uIEpwKCl7cmV0dXJuIG51bGwhPT1LcCYmS3AuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfWZ1bmN0aW9uICRwKHQscixpLGUpe3ZhciBvPXQuQmMoMSxyLGkpO2l5KFwiRGF0YSBtdXN0IGJlIGFuIG9iamVjdCwgYnV0IGl0IHdhczpcIixvLGUpO3ZhciBzPVtdLGE9UmkuZW1wdHkoKTtXcihlLGZ1bmN0aW9uKHQsZSl7dmFyIG49YXkocix0LGkpO2U9bShlKTt0PW8ua2Mobik7ZSBpbnN0YW5jZW9mIEZwP3MucHVzaChuKTpudWxsIT0odD1leShlLHQpKSYmKHMucHVzaChuKSxhLnNldChuLHQpKX0pO2U9bmV3IGVpKHMpO3JldHVybiBuZXcgVHAoYSxlLG8uZmllbGRUcmFuc2Zvcm1zKX1mdW5jdGlvbiBacCh0LGUsbixyLGksbyl7dmFyIHM9dC5CYygxLGUsbiksYT1bb3koZSxyLG4pXSx1PVtpXTtpZihvLmxlbmd0aCUyIT0wKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiRnVuY3Rpb24gXCIrZStcIigpIG5lZWRzIHRvIGJlIGNhbGxlZCB3aXRoIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cyB0aGF0IGFsdGVybmF0ZSBiZXR3ZWVuIGZpZWxkIG5hbWVzIGFuZCB2YWx1ZXMuXCIpO2Zvcih2YXIgYz0wO2M8by5sZW5ndGg7Yys9MilhLnB1c2gob3koZSxvW2NdKSksdS5wdXNoKG9bYysxXSk7Zm9yKHZhciBoLGwsZixkPVtdLHA9UmkuZW1wdHkoKSx5PWEubGVuZ3RoLTE7MDw9eTstLXkpY3koZCxhW3ldKXx8KGg9YVt5XSxsPW0obD11W3ldKSxmPXMua2MoaCksbCBpbnN0YW5jZW9mIEZwP2QucHVzaChoKTpudWxsIT0oZj1leShsLGYpKSYmKGQucHVzaChoKSxwLnNldChoLGYpKSk7aT1uZXcgZWkoZCk7cmV0dXJuIG5ldyBUcChwLGkscy5maWVsZFRyYW5zZm9ybXMpfWZ1bmN0aW9uIHR5KHQsZSxuLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj0hMSksZXkobix0LkJjKHI/NDozLGUpKX1mdW5jdGlvbiBleShzLHQpe2lmKHJ5KHM9bShzKSkpcmV0dXJuIGl5KFwiVW5zdXBwb3J0ZWQgZmllbGQgdmFsdWU6XCIsdCxzKSxueShzLHQpO2lmKHMgaW5zdGFuY2VvZiBicClyZXR1cm4gZnVuY3Rpb24odCxlKXtpZigha3AoZS5EYykpdGhyb3cgZS4kYyh0Ll9tZXRob2ROYW1lK1wiKCkgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIHVwZGF0ZSgpIGFuZCBzZXQoKVwiKTtpZighZS5wYXRoKXRocm93IGUuJGModC5fbWV0aG9kTmFtZStcIigpIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIGluc2lkZSBhcnJheXNcIik7dD10Ll90b0ZpZWxkVHJhbnNmb3JtKGUpO3QmJmUuZmllbGRUcmFuc2Zvcm1zLnB1c2godCl9KHMsdCksbnVsbDtpZih2b2lkIDA9PT1zJiZ0Lmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMpcmV0dXJuIG51bGw7aWYodC5wYXRoJiZ0LmZpZWxkTWFzay5wdXNoKHQucGF0aCkscyBpbnN0YW5jZW9mIEFycmF5KXtpZih0LnNldHRpbmdzLnhjJiY0IT09dC5EYyl0aHJvdyB0LiRjKFwiTmVzdGVkIGFycmF5cyBhcmUgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MCxyPTAsaT1zO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1leShpW3JdLHQuT2MobikpO251bGw9PW8mJihvPXtudWxsVmFsdWU6XCJOVUxMX1ZBTFVFXCJ9KSxlLnB1c2gobyksbisrfXJldHVybnthcnJheVZhbHVlOnt2YWx1ZXM6ZX19fSh0KX1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihudWxsPT09KHQ9bSh0KSkpcmV0dXJue251bGxWYWx1ZTpcIk5VTExfVkFMVUVcIn07aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpcmV0dXJuIFBvKGUuUix0KTtpZihcImJvb2xlYW5cIj09dHlwZW9mIHQpcmV0dXJue2Jvb2xlYW5WYWx1ZTp0fTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm57c3RyaW5nVmFsdWU6dH07aWYodCBpbnN0YW5jZW9mIERhdGUpe3ZhciBuPUtyLmZyb21EYXRlKHQpO3JldHVybnt0aW1lc3RhbXBWYWx1ZTpvYShlLlIsbil9fWlmKHQgaW5zdGFuY2VvZiBLcilyZXR1cm4gbj1uZXcgS3IodC5zZWNvbmRzLDFlMypNYXRoLmZsb29yKHQubmFub3NlY29uZHMvMWUzKSkse3RpbWVzdGFtcFZhbHVlOm9hKGUuUixuKX07aWYodCBpbnN0YW5jZW9mIHdwKXJldHVybntnZW9Qb2ludFZhbHVlOntsYXRpdHVkZTp0LmxhdGl0dWRlLGxvbmdpdHVkZTp0LmxvbmdpdHVkZX19O2lmKHQgaW5zdGFuY2VvZiB2cClyZXR1cm57Ynl0ZXNWYWx1ZTpzYShlLlIsdC5fYnl0ZVN0cmluZyl9O2lmKHQgaW5zdGFuY2VvZiBIZCl7dmFyIG49ZS5kYXRhYmFzZUlkLHI9dC5maXJlc3RvcmUuX2RhdGFiYXNlSWQ7aWYoIXIuaXNFcXVhbChuKSl0aHJvdyBlLiRjKFwiRG9jdW1lbnQgcmVmZXJlbmNlIGlzIGZvciBkYXRhYmFzZSBcIityLnByb2plY3RJZCtcIi9cIityLmRhdGFiYXNlK1wiIGJ1dCBzaG91bGQgYmUgZm9yIGRhdGFiYXNlIFwiK24ucHJvamVjdElkK1wiL1wiK24uZGF0YWJhc2UpO3JldHVybntyZWZlcmVuY2VWYWx1ZTp1YSh0LmZpcmVzdG9yZS5fZGF0YWJhc2VJZHx8ZS5kYXRhYmFzZUlkLHQuX2tleS5wYXRoKX19dGhyb3cgZS4kYyhcIlVuc3VwcG9ydGVkIGZpZWxkIHZhbHVlOiBcIitCZCh0KSl9KHMsdCl9ZnVuY3Rpb24gbnkodCxuKXt2YXIgcj17fTtyZXR1cm4gWXIodCk/bi5wYXRoJiYwPG4ucGF0aC5sZW5ndGgmJm4uZmllbGRNYXNrLnB1c2gobi5wYXRoKTpXcih0LGZ1bmN0aW9uKHQsZSl7ZT1leShlLG4uTmModCkpO251bGwhPWUmJihyW3RdPWUpfSkse21hcFZhbHVlOntmaWVsZHM6cn19fWZ1bmN0aW9uIHJ5KHQpe3JldHVybiEoXCJvYmplY3RcIiE9dHlwZW9mIHR8fG51bGw9PT10fHx0IGluc3RhbmNlb2YgQXJyYXl8fHQgaW5zdGFuY2VvZiBEYXRlfHx0IGluc3RhbmNlb2YgS3J8fHQgaW5zdGFuY2VvZiB3cHx8dCBpbnN0YW5jZW9mIHZwfHx0IGluc3RhbmNlb2YgSGR8fHQgaW5zdGFuY2VvZiBicCl9ZnVuY3Rpb24gaXkodCxlLG4pe2lmKCFyeShuKXx8KFwib2JqZWN0XCIhPXR5cGVvZihyPW4pfHxudWxsPT09cnx8T2JqZWN0LmdldFByb3RvdHlwZU9mKHIpIT09T2JqZWN0LnByb3RvdHlwZSYmbnVsbCE9PU9iamVjdC5nZXRQcm90b3R5cGVPZihyKSkpe249QmQobik7dGhyb3dcImFuIG9iamVjdFwiPT09bj9lLiRjKHQrXCIgYSBjdXN0b20gb2JqZWN0XCIpOmUuJGModCtcIiBcIituKX12YXIgcn1mdW5jdGlvbiBveSh0LGUsbil7aWYoKGU9bShlKSlpbnN0YW5jZW9mIG1wKXJldHVybiBlLl9pbnRlcm5hbFBhdGg7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGF5KHQsZSk7dGhyb3cgdXkoXCJGaWVsZCBwYXRoIGFyZ3VtZW50cyBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nIG9yIEZpZWxkUGF0aC5cIix0LCExLHZvaWQgMCxuKX12YXIgc3k9bmV3IFJlZ0V4cChcIlt+XFxcXCovXFxcXFtcXFxcXV1cIik7ZnVuY3Rpb24gYXkoZSxuLHIpe2lmKDA8PW4uc2VhcmNoKHN5KSl0aHJvdyB1eShcIkludmFsaWQgZmllbGQgcGF0aCAoXCIrbitcIikuIFBhdGhzIG11c3Qgbm90IGNvbnRhaW4gJ34nLCAnKicsICcvJywgJ1snLCBvciAnXSdcIixlLCExLHZvaWQgMCxyKTt0cnl7cmV0dXJuKG5ldyhtcC5iaW5kLmFwcGx5KG1wLHMoW3ZvaWQgMF0sbi5zcGxpdChcIi5cIikpKSkpLl9pbnRlcm5hbFBhdGh9Y2F0Y2godCl7dGhyb3cgdXkoXCJJbnZhbGlkIGZpZWxkIHBhdGggKFwiK24rXCIpLiBQYXRocyBtdXN0IG5vdCBiZSBlbXB0eSwgYmVnaW4gd2l0aCAnLicsIGVuZCB3aXRoICcuJywgb3IgY29udGFpbiAnLi4nXCIsZSwhMSx2b2lkIDAscil9fWZ1bmN0aW9uIHV5KHQsZSxuLHIsaSl7dmFyIG89ciYmIXIuaXNFbXB0eSgpLHM9dm9pZCAwIT09aSxlPVwiRnVuY3Rpb24gXCIrZStcIigpIGNhbGxlZCB3aXRoIGludmFsaWQgZGF0YVwiO24mJihlKz1cIiAodmlhIGB0b0ZpcmVzdG9yZSgpYClcIik7bj1cIlwiO3JldHVybihvfHxzKSYmKG4rPVwiIChmb3VuZFwiLG8mJihuKz1cIiBpbiBmaWVsZCBcIityKSxzJiYobis9XCIgaW4gZG9jdW1lbnQgXCIraSksbis9XCIpXCIpLG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULChlKz1cIi4gXCIpK3Qrbil9ZnVuY3Rpb24gY3kodCxlKXtyZXR1cm4gdC5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzRXF1YWwoZSl9KX12YXIgaHksbHk9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShweS5wcm90b3R5cGUsXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5LnBhdGgubGFzdFNlZ21lbnQoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocHkucHJvdG90eXBlLFwicmVmXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgSGQodGhpcy5fZmlyZXN0b3JlLHRoaXMuX2NvbnZlcnRlcix0aGlzLl9rZXkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHB5LnByb3RvdHlwZS5leGlzdHM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuX2RvY3VtZW50fSxweS5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbigpe2lmKHRoaXMuX2RvY3VtZW50KXtpZih0aGlzLl9jb252ZXJ0ZXIpe3ZhciB0PW5ldyBmeSh0aGlzLl9maXJlc3RvcmUsdGhpcy5fdXNlckRhdGFXcml0ZXIsdGhpcy5fa2V5LHRoaXMuX2RvY3VtZW50LG51bGwpO3JldHVybiB0aGlzLl9jb252ZXJ0ZXIuZnJvbUZpcmVzdG9yZSh0KX1yZXR1cm4gdGhpcy5fdXNlckRhdGFXcml0ZXIuY29udmVydFZhbHVlKHRoaXMuX2RvY3VtZW50LmRhdGEudG9Qcm90bygpKX19LHB5LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5fZG9jdW1lbnQpe3Q9dGhpcy5fZG9jdW1lbnQuZGF0YS5maWVsZCh5eShcIkRvY3VtZW50U25hcHNob3QuZ2V0XCIsdCkpO2lmKG51bGwhPT10KXJldHVybiB0aGlzLl91c2VyRGF0YVdyaXRlci5jb252ZXJ0VmFsdWUodCl9fSxweSksZnk9KG4oZHksaHk9bHkpLGR5LnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIGh5LnByb3RvdHlwZS5kYXRhLmNhbGwodGhpcyl9LGR5KTtmdW5jdGlvbiBkeSgpe3JldHVybiBudWxsIT09aHkmJmh5LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31mdW5jdGlvbiBweSh0LGUsbixyLGkpe3RoaXMuX2ZpcmVzdG9yZT10LHRoaXMuX3VzZXJEYXRhV3JpdGVyPWUsdGhpcy5fa2V5PW4sdGhpcy5fZG9jdW1lbnQ9cix0aGlzLl9jb252ZXJ0ZXI9aX1mdW5jdGlvbiB5eSh0LGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP2F5KHQsZSk6KGUgaW5zdGFuY2VvZiBtcD9lOmUuX2RlbGVnYXRlKS5faW50ZXJuYWxQYXRofXZhciBneSxteSx2eT0oU3kucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFzUGVuZGluZ1dyaXRlcz09PXQuaGFzUGVuZGluZ1dyaXRlcyYmdGhpcy5mcm9tQ2FjaGU9PT10LmZyb21DYWNoZX0sU3kpLGJ5PShuKF95LG15PWx5KSxfeS5wcm90b3R5cGUuZXhpc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIG15LnByb3RvdHlwZS5leGlzdHMuY2FsbCh0aGlzKX0sX3kucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCYmKHQ9e30pLHRoaXMuX2RvY3VtZW50KXtpZih0aGlzLl9jb252ZXJ0ZXIpe3ZhciBlPW5ldyB3eSh0aGlzLl9maXJlc3RvcmUsdGhpcy5fdXNlckRhdGFXcml0ZXIsdGhpcy5fa2V5LHRoaXMuX2RvY3VtZW50LHRoaXMubWV0YWRhdGEsbnVsbCk7cmV0dXJuIHRoaXMuX2NvbnZlcnRlci5mcm9tRmlyZXN0b3JlKGUsdCl9cmV0dXJuIHRoaXMuX3VzZXJEYXRhV3JpdGVyLmNvbnZlcnRWYWx1ZSh0aGlzLl9kb2N1bWVudC5kYXRhLnRvUHJvdG8oKSx0LnNlcnZlclRpbWVzdGFtcHMpfX0sX3kucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPXt9KSx0aGlzLl9kb2N1bWVudCl7dD10aGlzLl9kb2N1bWVudC5kYXRhLmZpZWxkKHl5KFwiRG9jdW1lbnRTbmFwc2hvdC5nZXRcIix0KSk7aWYobnVsbCE9PXQpcmV0dXJuIHRoaXMuX3VzZXJEYXRhV3JpdGVyLmNvbnZlcnRWYWx1ZSh0LGUuc2VydmVyVGltZXN0YW1wcyl9fSxfeSksd3k9KG4oVHksZ3k9YnkpLFR5LnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD17fSksZ3kucHJvdG90eXBlLmRhdGEuY2FsbCh0aGlzLHQpfSxUeSksSXk9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeS5wcm90b3R5cGUsXCJkb2NzXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUucHVzaCh0KX0pLGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEV5LnByb3RvdHlwZSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NuYXBzaG90LmRvY3Muc2l6ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRXkucHJvdG90eXBlLFwiZW1wdHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLnNpemV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksRXkucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzO3RoaXMuX3NuYXBzaG90LmRvY3MuZm9yRWFjaChmdW5jdGlvbih0KXtlLmNhbGwobixuZXcgd3koci5fZmlyZXN0b3JlLHIuX3VzZXJEYXRhV3JpdGVyLHQua2V5LHQsbmV3IHZ5KHIuX3NuYXBzaG90Lm11dGF0ZWRLZXlzLmhhcyh0LmtleSksci5fc25hcHNob3QuZnJvbUNhY2hlKSxyLnF1ZXJ5Ll9jb252ZXJ0ZXIpKX0pfSxFeS5wcm90b3R5cGUuZG9jQ2hhbmdlcz1mdW5jdGlvbih0KXt0PSEhKHQ9dm9pZCAwPT09dD97fTp0KS5pbmNsdWRlTWV0YWRhdGFDaGFuZ2VzO2lmKHQmJnRoaXMuX3NuYXBzaG90LmV4Y2x1ZGVzTWV0YWRhdGFDaGFuZ2VzKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiVG8gaW5jbHVkZSBtZXRhZGF0YSBjaGFuZ2VzIHdpdGggeW91ciBkb2N1bWVudCBjaGFuZ2VzLCB5b3UgbXVzdCBhbHNvIHBhc3MgeyBpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOnRydWUgfSB0byBvblNuYXBzaG90KCkuXCIpO3JldHVybiB0aGlzLl9jYWNoZWRDaGFuZ2VzJiZ0aGlzLl9jYWNoZWRDaGFuZ2VzSW5jbHVkZU1ldGFkYXRhQ2hhbmdlcz09PXR8fCh0aGlzLl9jYWNoZWRDaGFuZ2VzPWZ1bmN0aW9uKGksZSl7aWYoaS5fc25hcHNob3Qub2xkRG9jcy5pc0VtcHR5KCkpe3ZhciBuPTA7cmV0dXJuIGkuX3NuYXBzaG90LmRvY0NoYW5nZXMubWFwKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB3eShpLl9maXJlc3RvcmUsaS5fdXNlckRhdGFXcml0ZXIsdC5kb2Mua2V5LHQuZG9jLG5ldyB2eShpLl9zbmFwc2hvdC5tdXRhdGVkS2V5cy5oYXModC5kb2Mua2V5KSxpLl9zbmFwc2hvdC5mcm9tQ2FjaGUpLGkucXVlcnkuX2NvbnZlcnRlcik7cmV0dXJuIHQuZG9jLHt0eXBlOlwiYWRkZWRcIixkb2M6ZSxvbGRJbmRleDotMSxuZXdJbmRleDpuKyt9fSl9dmFyIG89aS5fc25hcHNob3Qub2xkRG9jcztyZXR1cm4gaS5fc25hcHNob3QuZG9jQ2hhbmdlcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIGV8fDMhPT10LnR5cGV9KS5tYXAoZnVuY3Rpb24odCl7dmFyIGU9bmV3IHd5KGkuX2ZpcmVzdG9yZSxpLl91c2VyRGF0YVdyaXRlcix0LmRvYy5rZXksdC5kb2MsbmV3IHZ5KGkuX3NuYXBzaG90Lm11dGF0ZWRLZXlzLmhhcyh0LmRvYy5rZXkpLGkuX3NuYXBzaG90LmZyb21DYWNoZSksaS5xdWVyeS5fY29udmVydGVyKSxuPS0xLHI9LTE7cmV0dXJuIDAhPT10LnR5cGUmJihuPW8uaW5kZXhPZih0LmRvYy5rZXkpLG89by5kZWxldGUodC5kb2Mua2V5KSksMSE9PXQudHlwZSYmKHI9KG89by5hZGQodC5kb2MpKS5pbmRleE9mKHQuZG9jLmtleSkpLHt0eXBlOmZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuXCJhZGRlZFwiO2Nhc2UgMjpjYXNlIDM6cmV0dXJuXCJtb2RpZmllZFwiO2Nhc2UgMTpyZXR1cm5cInJlbW92ZWRcIjtkZWZhdWx0OnJldHVybiBNcigpfX0odC50eXBlKSxkb2M6ZSxvbGRJbmRleDpuLG5ld0luZGV4OnJ9fSl9KHRoaXMsdCksdGhpcy5fY2FjaGVkQ2hhbmdlc0luY2x1ZGVNZXRhZGF0YUNoYW5nZXM9dCksdGhpcy5fY2FjaGVkQ2hhbmdlc30sRXkpO2Z1bmN0aW9uIEV5KHQsZSxuLHIpe3RoaXMuX2ZpcmVzdG9yZT10LHRoaXMuX3VzZXJEYXRhV3JpdGVyPWUsdGhpcy5fc25hcHNob3Q9cix0aGlzLm1ldGFkYXRhPW5ldyB2eShyLmhhc1BlbmRpbmdXcml0ZXMsci5mcm9tQ2FjaGUpLHRoaXMucXVlcnk9bn1mdW5jdGlvbiBUeSgpe3JldHVybiBudWxsIT09Z3kmJmd5LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31mdW5jdGlvbiBfeSh0LGUsbixyLGksbyl7dmFyIHM9dGhpcztyZXR1cm4ocz1teS5jYWxsKHRoaXMsdCxlLG4scixvKXx8dGhpcykuX2ZpcmVzdG9yZT10LHMuX2ZpcmVzdG9yZUltcGw9dCxzLm1ldGFkYXRhPWksc31mdW5jdGlvbiBTeSh0LGUpe3RoaXMuaGFzUGVuZGluZ1dyaXRlcz10LHRoaXMuZnJvbUNhY2hlPWV9ZnVuY3Rpb24gTnkodCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIGJ5JiZlIGluc3RhbmNlb2YgYnk/dC5fZmlyZXN0b3JlPT09ZS5fZmlyZXN0b3JlJiZ0Ll9rZXkuaXNFcXVhbChlLl9rZXkpJiYobnVsbD09PXQuX2RvY3VtZW50P251bGw9PT1lLl9kb2N1bWVudDp0Ll9kb2N1bWVudC5pc0VxdWFsKGUuX2RvY3VtZW50KSkmJnQuX2NvbnZlcnRlcj09PWUuX2NvbnZlcnRlcjp0IGluc3RhbmNlb2YgSXkmJmUgaW5zdGFuY2VvZiBJeSYmdC5fZmlyZXN0b3JlPT09ZS5fZmlyZXN0b3JlJiZpcCh0LnF1ZXJ5LGUucXVlcnkpJiZ0Lm1ldGFkYXRhLmlzRXF1YWwoZS5tZXRhZGF0YSkmJnQuX3NuYXBzaG90LmlzRXF1YWwoZS5fc25hcHNob3QpfWZ1bmN0aW9uIER5KHQpe2lmKElvKHQpJiYwPT09dC5leHBsaWNpdE9yZGVyQnkubGVuZ3RoKXRocm93IG5ldyBBcihEci5VTklNUExFTUVOVEVELFwibGltaXRUb0xhc3QoKSBxdWVyaWVzIHJlcXVpcmUgc3BlY2lmeWluZyBhdCBsZWFzdCBvbmUgb3JkZXJCeSgpIGNsYXVzZVwiKX1UZT1mdW5jdGlvbigpe307ZnVuY3Rpb24gQXkodCl7Zm9yKHZhciBlPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07Zm9yKHZhciByPTAsaT1lO3I8aS5sZW5ndGg7cisrKXQ9aVtyXS5fYXBwbHkodCk7cmV0dXJuIHR9dmFyIGt5LEN5LFJ5LHh5LE95LEx5PShuKEt5LE95PVRlKSxLeS5wcm90b3R5cGUuX2FwcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPUxwKHQuZmlyZXN0b3JlKSxlPWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXtpZihyLmlzS2V5RmllbGQoKSl7aWYoXCJhcnJheS1jb250YWluc1wiPT09aXx8XCJhcnJheS1jb250YWlucy1hbnlcIj09PWkpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIFF1ZXJ5LiBZb3UgY2FuJ3QgcGVyZm9ybSAnXCIraStcIicgcXVlcmllcyBvbiBGaWVsZFBhdGguZG9jdW1lbnRJZCgpLlwiKTtpZihcImluXCI9PT1pfHxcIm5vdC1pblwiPT09aSl7enkobyxpKTtmb3IodmFyIHM9W10sYT0wLHU9bzthPHUubGVuZ3RoO2ErKyl7dmFyIGM9dVthXTtzLnB1c2goUXkobix0LGMpKX1oPXthcnJheVZhbHVlOnt2YWx1ZXM6c319fWVsc2UgaD1ReShuLHQsbyl9ZWxzZVwiaW5cIiE9PWkmJlwibm90LWluXCIhPT1pJiZcImFycmF5LWNvbnRhaW5zLWFueVwiIT09aXx8enkobyxpKSxoPXR5KGUsXCJ3aGVyZVwiLG8sXCJpblwiPT09aXx8XCJub3QtaW5cIj09PWkpO3ZhciBoPUJpLmNyZWF0ZShyLGksaCk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZS5nKCkpe3ZhciBuPVRvKHQpO2lmKG51bGwhPT1uJiYhbi5pc0VxdWFsKGUuZmllbGQpKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gQWxsIHdoZXJlIGZpbHRlcnMgd2l0aCBhbiBpbmVxdWFsaXR5ICg8LCA8PSwgIT0sIG5vdC1pbiwgPiwgb3IgPj0pIG11c3QgYmUgb24gdGhlIHNhbWUgZmllbGQuIEJ1dCB5b3UgaGF2ZSBpbmVxdWFsaXR5IGZpbHRlcnMgb24gJ1wiK24udG9TdHJpbmcoKStcIicgYW5kICdcIitlLmZpZWxkLnRvU3RyaW5nKCkrXCInXCIpO249RW8odCk7bnVsbCE9PW4mJkh5KDAsZS5maWVsZCxuKX10PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj10LmZpbHRlcnM7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl07aWYoMDw9ZS5pbmRleE9mKGkub3ApKXJldHVybiBpLm9wfXJldHVybiBudWxsfSh0LGZ1bmN0aW9uKCl7c3dpdGNoKGUub3Ape2Nhc2VcIiE9XCI6cmV0dXJuW1wiIT1cIixcIm5vdC1pblwiXTtjYXNlXCJhcnJheS1jb250YWluc1wiOnJldHVybltcImFycmF5LWNvbnRhaW5zXCIsXCJhcnJheS1jb250YWlucy1hbnlcIixcIm5vdC1pblwiXTtjYXNlXCJpblwiOnJldHVybltcImFycmF5LWNvbnRhaW5zLWFueVwiLFwiaW5cIixcIm5vdC1pblwiXTtjYXNlXCJhcnJheS1jb250YWlucy1hbnlcIjpyZXR1cm5bXCJhcnJheS1jb250YWluc1wiLFwiYXJyYXktY29udGFpbnMtYW55XCIsXCJpblwiLFwibm90LWluXCJdO2Nhc2VcIm5vdC1pblwiOnJldHVybltcImFycmF5LWNvbnRhaW5zXCIsXCJhcnJheS1jb250YWlucy1hbnlcIixcImluXCIsXCJub3QtaW5cIixcIiE9XCJdO2RlZmF1bHQ6cmV0dXJuW119fSgpKTtpZihudWxsIT09dCl0aHJvdyB0PT09ZS5vcD9uZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFlvdSBjYW5ub3QgdXNlIG1vcmUgdGhhbiBvbmUgJ1wiK2Uub3AudG9TdHJpbmcoKStcIicgZmlsdGVyLlwiKTpuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFlvdSBjYW5ub3QgdXNlICdcIitlLm9wLnRvU3RyaW5nKCkrXCInIGZpbHRlcnMgd2l0aCAnXCIrdC50b1N0cmluZygpK1wiJyBmaWx0ZXJzLlwiKX0odCxoKSxofSh0Ll9xdWVyeSxlLHQuZmlyZXN0b3JlLl9kYXRhYmFzZUlkLHRoaXMuUWMsdGhpcy5LYyx0aGlzLmpjKTtyZXR1cm4gbmV3IFdkKHQuZmlyZXN0b3JlLHQuX2NvbnZlcnRlciwodD10Ll9xdWVyeSxlPXQuZmlsdGVycy5jb25jYXQoW2VdKSxuZXcgbW8odC5wYXRoLHQuY29sbGVjdGlvbkdyb3VwLHQuZXhwbGljaXRPcmRlckJ5LnNsaWNlKCksZSx0LmxpbWl0LHQubGltaXRUeXBlLHQuc3RhcnRBdCx0LmVuZEF0KSkpfSxLeSksUHk9KG4oankseHk9VGUpLGp5LnByb3RvdHlwZS5fYXBwbHk9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCxlLG4pe2lmKG51bGwhPT10LnN0YXJ0QXQpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIHF1ZXJ5LiBZb3UgbXVzdCBub3QgY2FsbCBzdGFydEF0KCkgb3Igc3RhcnRBZnRlcigpIGJlZm9yZSBjYWxsaW5nIG9yZGVyQnkoKS5cIik7aWYobnVsbCE9PXQuZW5kQXQpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIHF1ZXJ5LiBZb3UgbXVzdCBub3QgY2FsbCBlbmRBdCgpIG9yIGVuZEJlZm9yZSgpIGJlZm9yZSBjYWxsaW5nIG9yZGVyQnkoKS5cIik7dmFyIHI9bmV3IHBvKGUsbik7cmV0dXJuIGU9cixudWxsIT09RW8obj10KXx8bnVsbCE9PSh0PVRvKG4pKSYmSHkoMCx0LGUuZmllbGQpLHJ9KHQuX3F1ZXJ5LHRoaXMuUWMsdGhpcy5XYyk7cmV0dXJuIG5ldyBXZCh0LmZpcmVzdG9yZSx0Ll9jb252ZXJ0ZXIsKHQ9dC5fcXVlcnksZT10LmV4cGxpY2l0T3JkZXJCeS5jb25jYXQoW2VdKSxuZXcgbW8odC5wYXRoLHQuY29sbGVjdGlvbkdyb3VwLGUsdC5maWx0ZXJzLnNsaWNlKCksdC5saW1pdCx0LmxpbWl0VHlwZSx0LnN0YXJ0QXQsdC5lbmRBdCkpKX0sankpLE15PShuKEJ5LFJ5PVRlKSxCeS5wcm90b3R5cGUuX2FwcGx5PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgV2QodC5maXJlc3RvcmUsdC5fY29udmVydGVyLERvKHQuX3F1ZXJ5LHRoaXMuR2MsdGhpcy56YykpfSxCeSksRnk9KG4ocXksQ3k9VGUpLHF5LnByb3RvdHlwZS5fYXBwbHk9ZnVuY3Rpb24odCl7dmFyIGU9R3kodCx0aGlzLnR5cGUsdGhpcy5IYyx0aGlzLkpjKTtyZXR1cm4gbmV3IFdkKHQuZmlyZXN0b3JlLHQuX2NvbnZlcnRlciwodD10Ll9xdWVyeSxlPWUsbmV3IG1vKHQucGF0aCx0LmNvbGxlY3Rpb25Hcm91cCx0LmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLHQuZmlsdGVycy5zbGljZSgpLHQubGltaXQsdC5saW1pdFR5cGUsZSx0LmVuZEF0KSkpfSxxeSksVnk9KG4oVXksa3k9VGUpLFV5LnByb3RvdHlwZS5fYXBwbHk9ZnVuY3Rpb24odCl7dmFyIGU9R3kodCx0aGlzLnR5cGUsdGhpcy5IYyx0aGlzLkpjKTtyZXR1cm4gbmV3IFdkKHQuZmlyZXN0b3JlLHQuX2NvbnZlcnRlciwodD10Ll9xdWVyeSxlPWUsbmV3IG1vKHQucGF0aCx0LmNvbGxlY3Rpb25Hcm91cCx0LmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLHQuZmlsdGVycy5zbGljZSgpLHQubGltaXQsdC5saW1pdFR5cGUsdC5zdGFydEF0LGUpKSl9LFV5KTtmdW5jdGlvbiBVeSh0LGUsbil7dmFyIHI9dGhpcztyZXR1cm4ocj1reS5jYWxsKHRoaXMpfHx0aGlzKS50eXBlPXQsci5IYz1lLHIuSmM9bixyfWZ1bmN0aW9uIHF5KHQsZSxuKXt2YXIgcj10aGlzO3JldHVybihyPUN5LmNhbGwodGhpcyl8fHRoaXMpLnR5cGU9dCxyLkhjPWUsci5KYz1uLHJ9ZnVuY3Rpb24gQnkodCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuKHI9UnkuY2FsbCh0aGlzKXx8dGhpcykudHlwZT10LHIuR2M9ZSxyLnpjPW4scn1mdW5jdGlvbiBqeSh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49eHkuY2FsbCh0aGlzKXx8dGhpcykuUWM9dCxuLldjPWUsbi50eXBlPVwib3JkZXJCeVwiLG59ZnVuY3Rpb24gS3kodCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuKHI9T3kuY2FsbCh0aGlzKXx8dGhpcykuUWM9dCxyLktjPWUsci5qYz1uLHIudHlwZT1cIndoZXJlXCIscn1mdW5jdGlvbiBHeSh0LGMsZSxuKXtpZihlWzBdPW0oZVswXSksZVswXWluc3RhbmNlb2YgbHkpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIpe2lmKCFuKXRocm93IG5ldyBBcihEci5OT1RfRk9VTkQsXCJDYW4ndCB1c2UgYSBEb2N1bWVudFNuYXBzaG90IHRoYXQgZG9lc24ndCBleGlzdCBmb3IgXCIrYytcIigpLlwiKTtmb3IodmFyIGk9W10sbz0wLHM9U28odCk7bzxzLmxlbmd0aDtvKyspe3ZhciBhPXNbb107aWYoYS5maWVsZC5pc0tleUZpZWxkKCkpaS5wdXNoKFNpKGUsbi5rZXkpKTtlbHNle3ZhciB1PW4uZGF0YS5maWVsZChhLmZpZWxkKTtpZihmaSh1KSl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCwnSW52YWxpZCBxdWVyeS4gWW91IGFyZSB0cnlpbmcgdG8gc3RhcnQgb3IgZW5kIGEgcXVlcnkgdXNpbmcgYSBkb2N1bWVudCBmb3Igd2hpY2ggdGhlIGZpZWxkIFwiJythLmZpZWxkKydcIiBpcyBhbiB1bmNvbW1pdHRlZCBzZXJ2ZXIgdGltZXN0YW1wLiAoU2luY2UgdGhlIHZhbHVlIG9mIHRoaXMgZmllbGQgaXMgdW5rbm93biwgeW91IGNhbm5vdCBzdGFydC9lbmQgYSBxdWVyeSB3aXRoIGl0LiknKTtpZihudWxsPT09dSl7YT1hLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpO3Rocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gWW91IGFyZSB0cnlpbmcgdG8gc3RhcnQgb3IgZW5kIGEgcXVlcnkgdXNpbmcgYSBkb2N1bWVudCBmb3Igd2hpY2ggdGhlIGZpZWxkICdcIithK1wiJyAodXNlZCBhcyB0aGUgb3JkZXJCeSkgZG9lcyBub3QgZXhpc3QuXCIpfWkucHVzaCh1KX19cmV0dXJuIG5ldyBhbyhpLHIpfSh0Ll9xdWVyeSx0LmZpcmVzdG9yZS5fZGF0YWJhc2VJZCxlWzBdLl9kb2N1bWVudCxuKTt2YXIgcj1McCh0LmZpcmVzdG9yZSk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIsaSxvKXt2YXIgcz10LmV4cGxpY2l0T3JkZXJCeTtpZihpLmxlbmd0aD5zLmxlbmd0aCl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIlRvbyBtYW55IGFyZ3VtZW50cyBwcm92aWRlZCB0byBcIityK1wiKCkuIFRoZSBudW1iZXIgb2YgYXJndW1lbnRzIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBudW1iZXIgb2Ygb3JkZXJCeSgpIGNsYXVzZXNcIik7Zm9yKHZhciBhPVtdLHU9MDt1PGkubGVuZ3RoO3UrKyl7dmFyIGM9aVt1XTtpZihzW3VdLmZpZWxkLmlzS2V5RmllbGQoKSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGMpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIHF1ZXJ5LiBFeHBlY3RlZCBhIHN0cmluZyBmb3IgZG9jdW1lbnQgSUQgaW4gXCIrcitcIigpLCBidXQgZ290IGEgXCIrdHlwZW9mIGMpO2lmKCFfbyh0KSYmLTEhPT1jLmluZGV4T2YoXCIvXCIpKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyBhIGNvbGxlY3Rpb24gYW5kIG9yZGVyaW5nIGJ5IEZpZWxkUGF0aC5kb2N1bWVudElkKCksIHRoZSB2YWx1ZSBwYXNzZWQgdG8gXCIrcitcIigpIG11c3QgYmUgYSBwbGFpbiBkb2N1bWVudCBJRCwgYnV0ICdcIitjK1wiJyBjb250YWlucyBhIHNsYXNoLlwiKTt2YXIgaD10LnBhdGguY2hpbGQoJHIuZnJvbVN0cmluZyhjKSk7aWYoIW1pLmlzRG9jdW1lbnRLZXkoaCkpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIGEgY29sbGVjdGlvbiBncm91cCBhbmQgb3JkZXJpbmcgYnkgRmllbGRQYXRoLmRvY3VtZW50SWQoKSwgdGhlIHZhbHVlIHBhc3NlZCB0byBcIityK1wiKCkgbXVzdCByZXN1bHQgaW4gYSB2YWxpZCBkb2N1bWVudCBwYXRoLCBidXQgJ1wiK2grXCInIGlzIG5vdCBiZWNhdXNlIGl0IGNvbnRhaW5zIGFuIG9kZCBudW1iZXIgb2Ygc2VnbWVudHMuXCIpO2g9bmV3IG1pKGgpO2EucHVzaChTaShlLGgpKX1lbHNle2M9dHkobixyLGMpO2EucHVzaChjKX19cmV0dXJuIG5ldyBhbyhhLG8pfSh0Ll9xdWVyeSx0LmZpcmVzdG9yZS5fZGF0YWJhc2VJZCxyLGMsZSxuKX1mdW5jdGlvbiBReSh0LGUsbil7aWYoXCJzdHJpbmdcIj09dHlwZW9mKG49bShuKSkpe2lmKFwiXCI9PT1uKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyB3aXRoIEZpZWxkUGF0aC5kb2N1bWVudElkKCksIHlvdSBtdXN0IHByb3ZpZGUgYSB2YWxpZCBkb2N1bWVudCBJRCwgYnV0IGl0IHdhcyBhbiBlbXB0eSBzdHJpbmcuXCIpO2lmKCFfbyhlKSYmLTEhPT1uLmluZGV4T2YoXCIvXCIpKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyBhIGNvbGxlY3Rpb24gYnkgRmllbGRQYXRoLmRvY3VtZW50SWQoKSwgeW91IG11c3QgcHJvdmlkZSBhIHBsYWluIGRvY3VtZW50IElELCBidXQgJ1wiK24rXCInIGNvbnRhaW5zIGEgJy8nIGNoYXJhY3Rlci5cIik7ZT1lLnBhdGguY2hpbGQoJHIuZnJvbVN0cmluZyhuKSk7aWYoIW1pLmlzRG9jdW1lbnRLZXkoZSkpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIGEgY29sbGVjdGlvbiBncm91cCBieSBGaWVsZFBhdGguZG9jdW1lbnRJZCgpLCB0aGUgdmFsdWUgcHJvdmlkZWQgbXVzdCByZXN1bHQgaW4gYSB2YWxpZCBkb2N1bWVudCBwYXRoLCBidXQgJ1wiK2UrXCInIGlzIG5vdCBiZWNhdXNlIGl0IGhhcyBhbiBvZGQgbnVtYmVyIG9mIHNlZ21lbnRzIChcIitlLmxlbmd0aCtcIikuXCIpO3JldHVybiBTaSh0LG5ldyBtaShlKSl9aWYobiBpbnN0YW5jZW9mIEhkKXJldHVybiBTaSh0LG4uX2tleSk7dGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIHdpdGggRmllbGRQYXRoLmRvY3VtZW50SWQoKSwgeW91IG11c3QgcHJvdmlkZSBhIHZhbGlkIHN0cmluZyBvciBhIERvY3VtZW50UmVmZXJlbmNlLCBidXQgaXQgd2FzOiBcIitCZChuKStcIi5cIil9ZnVuY3Rpb24genkodCxlKXtpZighQXJyYXkuaXNBcnJheSh0KXx8MD09PXQubGVuZ3RoKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBRdWVyeS4gQSBub24tZW1wdHkgYXJyYXkgaXMgcmVxdWlyZWQgZm9yICdcIitlLnRvU3RyaW5nKCkrXCInIGZpbHRlcnMuXCIpO2lmKDEwPHQubGVuZ3RoKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBRdWVyeS4gJ1wiK2UudG9TdHJpbmcoKStcIicgZmlsdGVycyBzdXBwb3J0IGEgbWF4aW11bSBvZiAxMCBlbGVtZW50cyBpbiB0aGUgdmFsdWUgYXJyYXkuXCIpfWZ1bmN0aW9uIEh5KHQsZSxuKXtpZighbi5pc0VxdWFsKGUpKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gWW91IGhhdmUgYSB3aGVyZSBmaWx0ZXIgd2l0aCBhbiBpbmVxdWFsaXR5ICg8LCA8PSwgIT0sIG5vdC1pbiwgPiwgb3IgPj0pIG9uIGZpZWxkICdcIitlLnRvU3RyaW5nKCkrXCInIGFuZCBzbyB5b3UgbXVzdCBhbHNvIHVzZSAnXCIrZS50b1N0cmluZygpK1wiJyBhcyB5b3VyIGZpcnN0IGFyZ3VtZW50IHRvIG9yZGVyQnkoKSwgYnV0IHlvdXIgZmlyc3Qgb3JkZXJCeSgpIGlzIG9uIGZpZWxkICdcIituLnRvU3RyaW5nKCkrXCInIGluc3RlYWQuXCIpfVd5LnByb3RvdHlwZS5jb252ZXJ0VmFsdWU9ZnVuY3Rpb24odCxlKXtzd2l0Y2godm9pZCAwPT09ZSYmKGU9XCJub25lXCIpLGJpKHQpKXtjYXNlIDA6cmV0dXJuIG51bGw7Y2FzZSAxOnJldHVybiB0LmJvb2xlYW5WYWx1ZTtjYXNlIDI6cmV0dXJuIGhpKHQuaW50ZWdlclZhbHVlfHx0LmRvdWJsZVZhbHVlKTtjYXNlIDM6cmV0dXJuIHRoaXMuY29udmVydFRpbWVzdGFtcCh0LnRpbWVzdGFtcFZhbHVlKTtjYXNlIDQ6cmV0dXJuIHRoaXMuY29udmVydFNlcnZlclRpbWVzdGFtcCh0LGUpO2Nhc2UgNTpyZXR1cm4gdC5zdHJpbmdWYWx1ZTtjYXNlIDY6cmV0dXJuIHRoaXMuY29udmVydEJ5dGVzKGxpKHQuYnl0ZXNWYWx1ZSkpO2Nhc2UgNzpyZXR1cm4gdGhpcy5jb252ZXJ0UmVmZXJlbmNlKHQucmVmZXJlbmNlVmFsdWUpO2Nhc2UgODpyZXR1cm4gdGhpcy5jb252ZXJ0R2VvUG9pbnQodC5nZW9Qb2ludFZhbHVlKTtjYXNlIDk6cmV0dXJuIHRoaXMuY29udmVydEFycmF5KHQuYXJyYXlWYWx1ZSxlKTtjYXNlIDEwOnJldHVybiB0aGlzLmNvbnZlcnRPYmplY3QodC5tYXBWYWx1ZSxlKTtkZWZhdWx0OnRocm93IE1yKCl9fSxXeS5wcm90b3R5cGUuY29udmVydE9iamVjdD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXMsaT17fTtyZXR1cm4gV3IodC5maWVsZHN8fHt9LGZ1bmN0aW9uKHQsZSl7aVt0XT1yLmNvbnZlcnRWYWx1ZShlLG4pfSksaX0sV3kucHJvdG90eXBlLmNvbnZlcnRHZW9Qb2ludD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHdwKGhpKHQubGF0aXR1ZGUpLGhpKHQubG9uZ2l0dWRlKSl9LFd5LnByb3RvdHlwZS5jb252ZXJ0QXJyYXk9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybih0LnZhbHVlc3x8W10pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbi5jb252ZXJ0VmFsdWUodCxlKX0pfSxXeS5wcm90b3R5cGUuY29udmVydFNlcnZlclRpbWVzdGFtcD1mdW5jdGlvbih0LGUpe3N3aXRjaChlKXtjYXNlXCJwcmV2aW91c1wiOnZhciBuPWZ1bmN0aW9uIHQoZSl7ZT1lLm1hcFZhbHVlLmZpZWxkcy5fX3ByZXZpb3VzX3ZhbHVlX187cmV0dXJuIGZpKGUpP3QoZSk6ZX0odCk7cmV0dXJuIG51bGw9PW4/bnVsbDp0aGlzLmNvbnZlcnRWYWx1ZShuLGUpO2Nhc2VcImVzdGltYXRlXCI6cmV0dXJuIHRoaXMuY29udmVydFRpbWVzdGFtcChkaSh0KSk7ZGVmYXVsdDpyZXR1cm4gbnVsbH19LFd5LnByb3RvdHlwZS5jb252ZXJ0VGltZXN0YW1wPWZ1bmN0aW9uKHQpe3Q9Y2kodCk7cmV0dXJuIG5ldyBLcih0LnNlY29uZHMsdC5uYW5vcyl9LFd5LnByb3RvdHlwZS5jb252ZXJ0RG9jdW1lbnRLZXk9ZnVuY3Rpb24odCxlKXt2YXIgbj0kci5mcm9tU3RyaW5nKHQpO0ZyKGthKG4pKTt0PW5ldyBTZChuLmdldCgxKSxuLmdldCgzKSksbj1uZXcgbWkobi5wb3BGaXJzdCg1KSk7cmV0dXJuIHQuaXNFcXVhbChlKXx8T3IoXCJEb2N1bWVudCBcIituK1wiIGNvbnRhaW5zIGEgZG9jdW1lbnQgcmVmZXJlbmNlIHdpdGhpbiBhIGRpZmZlcmVudCBkYXRhYmFzZSAoXCIrdC5wcm9qZWN0SWQrXCIvXCIrdC5kYXRhYmFzZStcIikgd2hpY2ggaXMgbm90IHN1cHBvcnRlZC4gSXQgd2lsbCBiZSB0cmVhdGVkIGFzIGEgcmVmZXJlbmNlIGluIHRoZSBjdXJyZW50IGRhdGFiYXNlIChcIitlLnByb2plY3RJZCtcIi9cIitlLmRhdGFiYXNlK1wiKSBpbnN0ZWFkLlwiKSxufSxJPVd5O2Z1bmN0aW9uIFd5KCl7fWZ1bmN0aW9uIFl5KHQsZSxuKXtyZXR1cm4gdD9uJiYobi5tZXJnZXx8bi5tZXJnZUZpZWxkcyk/dC50b0ZpcmVzdG9yZShlLG4pOnQudG9GaXJlc3RvcmUoZSk6ZX12YXIgWHksSnk9KG4odGcsWHk9SSksdGcucHJvdG90eXBlLmNvbnZlcnRCeXRlcz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHZwKHQpfSx0Zy5wcm90b3R5cGUuY29udmVydFJlZmVyZW5jZT1mdW5jdGlvbih0KXt0PXRoaXMuY29udmVydERvY3VtZW50S2V5KHQsdGhpcy5maXJlc3RvcmUuX2RhdGFiYXNlSWQpO3JldHVybiBuZXcgSGQodGhpcy5maXJlc3RvcmUsbnVsbCx0KX0sdGcpLCR5PShaeS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl92ZXJpZnlOb3RDb21taXR0ZWQoKTt0PWVnKHQsdGhpcy5fZmlyZXN0b3JlKSxlPVl5KHQuX2NvbnZlcnRlcixlLG4pLG49UHAodGhpcy5fZGF0YVJlYWRlcixcIldyaXRlQmF0Y2guc2V0XCIsdC5fa2V5LGUsbnVsbCE9PXQuX2NvbnZlcnRlcixuKTtyZXR1cm4gdGhpcy5fbXV0YXRpb25zLnB1c2gobi50b011dGF0aW9uKHQuX2tleSxlcy5ub25lKCkpKSx0aGlzfSxaeS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9W10saT0zO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspcltpLTNdPWFyZ3VtZW50c1tpXTt0aGlzLl92ZXJpZnlOb3RDb21taXR0ZWQoKTt0PWVnKHQsdGhpcy5fZmlyZXN0b3JlKSxlPVwic3RyaW5nXCI9PXR5cGVvZihlPW0oZSkpfHxlIGluc3RhbmNlb2YgbXA/WnAodGhpcy5fZGF0YVJlYWRlcixcIldyaXRlQmF0Y2gudXBkYXRlXCIsdC5fa2V5LGUsbixyKTokcCh0aGlzLl9kYXRhUmVhZGVyLFwiV3JpdGVCYXRjaC51cGRhdGVcIix0Ll9rZXksZSk7cmV0dXJuIHRoaXMuX211dGF0aW9ucy5wdXNoKGUudG9NdXRhdGlvbih0Ll9rZXksZXMuZXhpc3RzKCEwKSkpLHRoaXN9LFp5LnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7dGhpcy5fdmVyaWZ5Tm90Q29tbWl0dGVkKCk7dD1lZyh0LHRoaXMuX2ZpcmVzdG9yZSk7cmV0dXJuIHRoaXMuX211dGF0aW9ucz10aGlzLl9tdXRhdGlvbnMuY29uY2F0KG5ldyB3cyh0Ll9rZXksZXMubm9uZSgpKSksdGhpc30sWnkucHJvdG90eXBlLmNvbW1pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92ZXJpZnlOb3RDb21taXR0ZWQoKSx0aGlzLl9jb21taXR0ZWQ9ITAsMDx0aGlzLl9tdXRhdGlvbnMubGVuZ3RoP3RoaXMuX2NvbW1pdEhhbmRsZXIodGhpcy5fbXV0YXRpb25zKTpQcm9taXNlLnJlc29sdmUoKX0sWnkucHJvdG90eXBlLl92ZXJpZnlOb3RDb21taXR0ZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9jb21taXR0ZWQpdGhyb3cgbmV3IEFyKERyLkZBSUxFRF9QUkVDT05ESVRJT04sXCJBIHdyaXRlIGJhdGNoIGNhbiBubyBsb25nZXIgYmUgdXNlZCBhZnRlciBjb21taXQoKSBoYXMgYmVlbiBjYWxsZWQuXCIpfSxaeSk7ZnVuY3Rpb24gWnkodCxlKXt0aGlzLl9maXJlc3RvcmU9dCx0aGlzLl9jb21taXRIYW5kbGVyPWUsdGhpcy5fbXV0YXRpb25zPVtdLHRoaXMuX2NvbW1pdHRlZD0hMSx0aGlzLl9kYXRhUmVhZGVyPUxwKHQpfWZ1bmN0aW9uIHRnKHQpe3ZhciBlPXRoaXM7cmV0dXJuKGU9WHkuY2FsbCh0aGlzKXx8dGhpcykuZmlyZXN0b3JlPXQsZX1mdW5jdGlvbiBlZyh0LGUpe2lmKCh0PW0odCkpLmZpcmVzdG9yZSE9PWUpdGhyb3cgbmV3IEFyKERyLklOVkFMSURfQVJHVU1FTlQsXCJQcm92aWRlZCBkb2N1bWVudCByZWZlcmVuY2UgaXMgZnJvbSBhIGRpZmZlcmVudCBGaXJlc3RvcmUgaW5zdGFuY2UuXCIpO3JldHVybiB0fXZhciBuZyxyZz0obihpZyxuZz1JKSxpZy5wcm90b3R5cGUuY29udmVydEJ5dGVzPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdnAodCl9LGlnLnByb3RvdHlwZS5jb252ZXJ0UmVmZXJlbmNlPWZ1bmN0aW9uKHQpe3Q9dGhpcy5jb252ZXJ0RG9jdW1lbnRLZXkodCx0aGlzLmZpcmVzdG9yZS5fZGF0YWJhc2VJZCk7cmV0dXJuIG5ldyBIZCh0aGlzLmZpcmVzdG9yZSxudWxsLHQpfSxpZyk7ZnVuY3Rpb24gaWcodCl7dmFyIGU9dGhpcztyZXR1cm4oZT1uZy5jYWxsKHRoaXMpfHx0aGlzKS5maXJlc3RvcmU9dCxlfWZ1bmN0aW9uIG9nKHQsZSxuKXtmb3IodmFyIHI9W10saT0zO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspcltpLTNdPWFyZ3VtZW50c1tpXTt0PWpkKHQsSGQpO3ZhciBvPWpkKHQuZmlyZXN0b3JlLGhwKSxzPUxwKG8pO3JldHVybiBhZyhvLFsoXCJzdHJpbmdcIj09dHlwZW9mKGU9bShlKSl8fGUgaW5zdGFuY2VvZiBtcD9acChzLFwidXBkYXRlRG9jXCIsdC5fa2V5LGUsbixyKTokcChzLFwidXBkYXRlRG9jXCIsdC5fa2V5LGUpKS50b011dGF0aW9uKHQuX2tleSxlcy5leGlzdHMoITApKV0pfWZ1bmN0aW9uIHNnKGUpe2Zvcih2YXIgbj1bXSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyluW3QtMV09YXJndW1lbnRzW3RdO2U9bShlKTt2YXIgcj17aW5jbHVkZU1ldGFkYXRhQ2hhbmdlczohMX0saT0wO1wib2JqZWN0XCIhPXR5cGVvZiBuW2ldfHxhcChuW2ldKXx8KHI9bltpXSxpKyspO3ZhciBvLHMsYSx1LGMsaCxsPXtpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOnIuaW5jbHVkZU1ldGFkYXRhQ2hhbmdlc307cmV0dXJuIGFwKG5baV0pJiYobz1uW2ldLG5baV09bnVsbD09PShyPW8ubmV4dCl8fHZvaWQgMD09PXI/dm9pZCAwOnIuYmluZChvKSxuW2krMV09bnVsbD09PShyPW8uZXJyb3IpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmJpbmQobyksbltpKzJdPW51bGw9PT0ocj1vLmNvbXBsZXRlKXx8dm9pZCAwPT09cj92b2lkIDA6ci5iaW5kKG8pKSxlIGluc3RhbmNlb2YgSGQ/KGE9amQoZS5maXJlc3RvcmUsaHApLHU9Ym8oZS5fa2V5LnBhdGgpLGg9e25leHQ6ZnVuY3Rpb24odCl7bltpXSYmbltpXSh1ZyhhLGUsdCkpfSxlcnJvcjpuW2krMV0sY29tcGxldGU6bltpKzJdfSk6KHM9amQoZSxXZCksYT1qZChzLmZpcmVzdG9yZSxocCksdT1zLl9xdWVyeSxjPW5ldyByZyhhKSxoPXtuZXh0OmZ1bmN0aW9uKHQpe25baV0mJm5baV0obmV3IEl5KGEsYyxzLHQpKX0sZXJyb3I6bltpKzFdLGNvbXBsZXRlOm5baSsyXX0sRHkoZS5fcXVlcnkpKSxmdW5jdGlvbihuLHQsZSl7dmFyIHI9dGhpcyxpPW5ldyBuZChoKSxvPW5ldyBhZih0LGksZSk7cmV0dXJuIG4uYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIHkocix2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPXJmLFs0LHdkKG4pXTtjYXNlIDE6cmV0dXJuWzIsZS5hcHBseSh2b2lkIDAsW3Quc2VudCgpLG9dKV19fSl9KX0pLGZ1bmN0aW9uKCl7aS5XbygpLG4uYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIHkocix2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPW9mLFs0LHdkKG4pXTtjYXNlIDE6cmV0dXJuWzIsZS5hcHBseSh2b2lkIDAsW3Quc2VudCgpLG9dKV19fSl9KX0pfX0oZHAoYSksdSxsKX1mdW5jdGlvbiBhZyh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciB0PXRoaXMsaT1uZXcgWmE7cmV0dXJuIG4uYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPVNmLFs0LGJkKG4pXTtjYXNlIDE6cmV0dXJuWzIsZS5hcHBseSh2b2lkIDAsW3Quc2VudCgpLHIsaV0pXX19KX0pfSksaS5wcm9taXNlfShkcCh0KSxlKX1mdW5jdGlvbiB1Zyh0LGUsbil7dmFyIHI9bi5kb2NzLmdldChlLl9rZXkpLGk9bmV3IHJnKHQpO3JldHVybiBuZXcgYnkodCxpLGUuX2tleSxyLG5ldyB2eShuLmhhc1BlbmRpbmdXcml0ZXMsbi5mcm9tQ2FjaGUpLGUuX2NvbnZlcnRlcil9dmFyIGNnLGhnPShmZy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1lZyh0LHRoaXMuX2ZpcmVzdG9yZSkscj1uZXcgSnkodGhpcy5fZmlyZXN0b3JlKTtyZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb24ubG9va3VwKFtuLl9rZXldKS50aGVuKGZ1bmN0aW9uKHQpe2lmKCF0fHwxIT09dC5sZW5ndGgpcmV0dXJuIE1yKCk7dD10WzBdO2lmKHQuaXNGb3VuZERvY3VtZW50KCkpcmV0dXJuIG5ldyBseShlLl9maXJlc3RvcmUscix0LmtleSx0LG4uX2NvbnZlcnRlcik7aWYodC5pc05vRG9jdW1lbnQoKSlyZXR1cm4gbmV3IGx5KGUuX2ZpcmVzdG9yZSxyLG4uX2tleSxudWxsLG4uX2NvbnZlcnRlcik7dGhyb3cgTXIoKX0pfSxmZy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSxuKXt0PWVnKHQsdGhpcy5fZmlyZXN0b3JlKSxlPVl5KHQuX2NvbnZlcnRlcixlLG4pLG49UHAodGhpcy5fZGF0YVJlYWRlcixcIlRyYW5zYWN0aW9uLnNldFwiLHQuX2tleSxlLG51bGwhPT10Ll9jb252ZXJ0ZXIsbik7cmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLnNldCh0Ll9rZXksbiksdGhpc30sZmcucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPVtdLGk9MztpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXJbaS0zXT1hcmd1bWVudHNbaV07dD1lZyh0LHRoaXMuX2ZpcmVzdG9yZSksZT1cInN0cmluZ1wiPT10eXBlb2YoZT1tKGUpKXx8ZSBpbnN0YW5jZW9mIG1wP1pwKHRoaXMuX2RhdGFSZWFkZXIsXCJUcmFuc2FjdGlvbi51cGRhdGVcIix0Ll9rZXksZSxuLHIpOiRwKHRoaXMuX2RhdGFSZWFkZXIsXCJUcmFuc2FjdGlvbi51cGRhdGVcIix0Ll9rZXksZSk7cmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLnVwZGF0ZSh0Ll9rZXksZSksdGhpc30sZmcucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt0PWVnKHQsdGhpcy5fZmlyZXN0b3JlKTtyZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb24uZGVsZXRlKHQuX2tleSksdGhpc30sbihsZyxjZz1mZyksbGcucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49ZWcodCx0aGlzLl9maXJlc3RvcmUpLHI9bmV3IHJnKHRoaXMuX2ZpcmVzdG9yZSk7cmV0dXJuIGNnLnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBieShlLl9maXJlc3RvcmUscixuLl9rZXksdC5fZG9jdW1lbnQsbmV3IHZ5KCExLCExKSxuLl9jb252ZXJ0ZXIpfSl9LGxnKTtmdW5jdGlvbiBsZyh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49Y2cuY2FsbCh0aGlzLHQsZSl8fHRoaXMpLl9maXJlc3RvcmU9dCxufWZ1bmN0aW9uIGZnKHQsZSl7dGhpcy5fZmlyZXN0b3JlPXQsdGhpcy5fdHJhbnNhY3Rpb249ZSx0aGlzLl9kYXRhUmVhZGVyPUxwKHQpfWZ1bmN0aW9uIGRnKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFVpbnQ4QXJyYXkpdGhyb3cgbmV3IEFyKERyLlVOSU1QTEVNRU5URUQsXCJVaW50OEFycmF5cyBhcmUgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50LlwiKX1mdW5jdGlvbiBwZygpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBhdG9iKXRocm93IG5ldyBBcihEci5VTklNUExFTUVOVEVELFwiQmxvYnMgYXJlIHVuYXZhaWxhYmxlIGluIEZpcmVzdG9yZSBpbiB0aGlzIGVudmlyb25tZW50LlwiKX12YXIgeWcsZ2c9KFRnLmZyb21CYXNlNjRTdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHBnKCksbmV3IFRnKHZwLmZyb21CYXNlNjRTdHJpbmcodCkpfSxUZy5mcm9tVWludDhBcnJheT1mdW5jdGlvbih0KXtyZXR1cm4gZGcoKSxuZXcgVGcodnAuZnJvbVVpbnQ4QXJyYXkodCkpfSxUZy5wcm90b3R5cGUudG9CYXNlNjQ9ZnVuY3Rpb24oKXtyZXR1cm4gcGcoKSx0aGlzLl9kZWxlZ2F0ZS50b0Jhc2U2NCgpfSxUZy5wcm90b3R5cGUudG9VaW50OEFycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIGRnKCksdGhpcy5fZGVsZWdhdGUudG9VaW50OEFycmF5KCl9LFRnLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5pc0VxdWFsKHQuX2RlbGVnYXRlKX0sVGcucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJCbG9iKGJhc2U2NDogXCIrdGhpcy50b0Jhc2U2NCgpK1wiKVwifSxUZyksbWc9KEVnLnByb3RvdHlwZS5lbmFibGVJbmRleGVkRGJQZXJzaXN0ZW5jZT1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbih0LGUpe2dwKHQ9amQodCxocCkpO3ZhciBuPWRwKHQpLHI9dC5fZnJlZXplU2V0dGluZ3MoKSx0PW5ldyBYZjtyZXR1cm4geXAobix0LG5ldyBXZih0LHIuY2FjaGVTaXplQnl0ZXMsbnVsbD09ZT92b2lkIDA6ZS5mb3JjZU93bmVyc2hpcCkpfSh0Ll9kZWxlZ2F0ZSx7Zm9yY2VPd25lcnNoaXA6ZX0pfSxFZy5wcm90b3R5cGUuZW5hYmxlTXVsdGlUYWJJbmRleGVkRGJQZXJzaXN0ZW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7Z3AodD1qZCh0LGhwKSk7dmFyIGU9ZHAodCksbj10Ll9mcmVlemVTZXR0aW5ncygpLHQ9bmV3IFhmO3JldHVybiB5cChlLHQsbmV3IFlmKHQsbi5jYWNoZVNpemVCeXRlcykpfSh0Ll9kZWxlZ2F0ZSl9LEVnLnByb3RvdHlwZS5jbGVhckluZGV4ZWREYlBlcnNpc3RlbmNlPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgdD10aGlzO2lmKG4uX2luaXRpYWxpemVkJiYhbi5fdGVybWluYXRlZCl0aHJvdyBuZXcgQXIoRHIuRkFJTEVEX1BSRUNPTkRJVElPTixcIlBlcnNpc3RlbmNlIGNhbiBvbmx5IGJlIGNsZWFyZWQgYmVmb3JlIGEgRmlyZXN0b3JlIGluc3RhbmNlIGlzIGluaXRpYWxpemVkIG9yIGFmdGVyIGl0IGlzIHRlcm1pbmF0ZWQuXCIpO3ZhciByPW5ldyBaYTtyZXR1cm4gbi5fcXVldWUuZW5xdWV1ZUFuZEZvcmdldEV2ZW5XaGlsZVJlc3RyaWN0ZWQoZnVuY3Rpb24oKXtyZXR1cm4geSh0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQudHJ5cy5wdXNoKFswLDIsLDNdKSxbNCxmdW5jdGlvbihuKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIG51Lnl0KCk/KGU9bitcIm1haW5cIixbNCxudS5kZWxldGUoZSldKTpbMixQcm9taXNlLnJlc29sdmUoKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMl19fSl9KX0oS2Mobi5fZGF0YWJhc2VJZCxuLl9wZXJzaXN0ZW5jZUtleSkpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLHIucmVzb2x2ZSgpLFszLDNdO2Nhc2UgMjpyZXR1cm4gZT10LnNlbnQoKSxyLnJlamVjdChlKSxbMywzXTtjYXNlIDM6cmV0dXJuWzJdfX0pfSl9KSxyLnByb21pc2V9KHQuX2RlbGVnYXRlKX0sRWcpLHZnPShPYmplY3QuZGVmaW5lUHJvcGVydHkoSWcucHJvdG90eXBlLFwiX2RhdGFiYXNlSWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLl9kYXRhYmFzZUlkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLElnLnByb3RvdHlwZS5zZXR0aW5ncz1mdW5jdGlvbih0KXt0Lm1lcmdlJiZkZWxldGUodD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5fZGVsZWdhdGUuX2dldFNldHRpbmdzKCkpLHQpKS5tZXJnZSx0aGlzLl9kZWxlZ2F0ZS5fc2V0U2V0dGluZ3ModCl9LElnLnByb3RvdHlwZS51c2VFbXVsYXRvcj1mdW5jdGlvbih0LGUpe3ZhciBuLHI7bj10aGlzLl9kZWxlZ2F0ZSxyPXQsdD1lLFwiZmlyZXN0b3JlLmdvb2dsZWFwaXMuY29tXCIhPT0oZT0obj1qZChuLHpkKSkuX2dldFNldHRpbmdzKCkpLmhvc3QmJmUuaG9zdCE9PXImJkxyKFwiSG9zdCBoYXMgYmVlbiBzZXQgaW4gYm90aCBzZXR0aW5ncygpIGFuZCB1c2VFbXVsYXRvcigpLCBlbXVsYXRvciBob3N0IHdpbGwgYmUgdXNlZFwiKSxuLl9zZXRTZXR0aW5ncyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse2hvc3Q6citcIjpcIit0LHNzbDohMX0pKX0sSWcucHJvdG90eXBlLmVuYWJsZU5ldHdvcms9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oaSl7dmFyIHQ9dGhpcztyZXR1cm4gaS5hc3luY1F1ZXVlLmVucXVldWUoZnVuY3Rpb24oKXtyZXR1cm4geSh0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbixyO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxnZChpKV07Y2FzZSAxOnJldHVybiBuPXQuc2VudCgpLFs0LHZkKGkpXTtjYXNlIDI6cmV0dXJuIHI9dC5zZW50KCksWzIsKG4uc2V0TmV0d29ya0VuYWJsZWQoITApLChlPXIpLiRyLmRlbGV0ZSgwKSxEbChlKSldfXZhciBlfSl9KX0pfShkcChqZCh0aGlzLl9kZWxlZ2F0ZSxocCkpKX0sSWcucHJvdG90eXBlLmRpc2FibGVOZXR3b3JrPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciB0PXRoaXM7cmV0dXJuIHIuYXN5bmNRdWV1ZS5lbnF1ZXVlKGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsZ2QocildO2Nhc2UgMTpyZXR1cm4gZT10LnNlbnQoKSxbNCx2ZChyKV07Y2FzZSAyOnJldHVybiBuPXQuc2VudCgpLFsyLChlLnNldE5ldHdvcmtFbmFibGVkKCExKSxmdW5jdGlvbihuKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuKGU9bikuJHIuYWRkKDApLFs0LEFsKGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLGUuQnIuc2V0KFwiT2ZmbGluZVwiKSxbMl19fSl9KX0obikpXX19KX0pfSl9KGRwKGpkKHRoaXMuX2RlbGVnYXRlLGhwKSkpfSxJZy5wcm90b3R5cGUuZW5hYmxlUGVyc2lzdGVuY2U9ZnVuY3Rpb24odCl7dmFyIGU9ITEsbj0hMTtyZXR1cm4gdCYmVmQoXCJzeW5jaHJvbml6ZVRhYnNcIixlPSEhdC5zeW5jaHJvbml6ZVRhYnMsXCJleHBlcmltZW50YWxGb3JjZU93bmluZ1RhYlwiLG49ISF0LmV4cGVyaW1lbnRhbEZvcmNlT3duaW5nVGFiKSxlP3RoaXMuWWMuZW5hYmxlTXVsdGlUYWJJbmRleGVkRGJQZXJzaXN0ZW5jZSh0aGlzKTp0aGlzLlljLmVuYWJsZUluZGV4ZWREYlBlcnNpc3RlbmNlKHRoaXMsbil9LElnLnByb3RvdHlwZS5jbGVhclBlcnNpc3RlbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWWMuY2xlYXJJbmRleGVkRGJQZXJzaXN0ZW5jZSh0aGlzKX0sSWcucHJvdG90eXBlLnRlcm1pbmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlhjJiYodGhpcy5YYy5fcmVtb3ZlU2VydmljZUluc3RhbmNlKFwiZmlyZXN0b3JlXCIpLHRoaXMuWGMuX3JlbW92ZVNlcnZpY2VJbnN0YW5jZShcImZpcmVzdG9yZS1leHBcIikpLHRoaXMuX2RlbGVnYXRlLl9kZWxldGUoKX0sSWcucHJvdG90eXBlLndhaXRGb3JQZW5kaW5nV3JpdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMscj1uZXcgWmE7cmV0dXJuIG4uYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPWtmLFs0LGJkKG4pXTtjYXNlIDE6cmV0dXJuWzIsZS5hcHBseSh2b2lkIDAsW3Quc2VudCgpLHJdKV19fSl9KX0pLHIucHJvbWlzZX0oZHAoamQodGhpcy5fZGVsZWdhdGUsaHApKSl9LElnLnByb3RvdHlwZS5vblNuYXBzaG90c0luU3luYz1mdW5jdGlvbih0KXtyZXR1cm4gZT10aGlzLl9kZWxlZ2F0ZSx0PXQsZnVuY3Rpb24obix0KXt2YXIgZT10aGlzLHI9bmV3IG5kKHQpO3JldHVybiBuLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KGUsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1mdW5jdGlvbih0LGUpe3QuR3IuYWRkKGUpLGUubmV4dCgpfSxbNCx3ZChuKV07Y2FzZSAxOnJldHVyblsyLGUuYXBwbHkodm9pZCAwLFt0LnNlbnQoKSxyXSldfX0pfSl9KSxmdW5jdGlvbigpe3IuV28oKSxuLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KGUsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1mdW5jdGlvbih0LGUpe3QuR3IuZGVsZXRlKGUpfSxbNCx3ZChuKV07Y2FzZSAxOnJldHVyblsyLGUuYXBwbHkodm9pZCAwLFt0LnNlbnQoKSxyXSldfX0pfSl9KX19KGRwKGpkKGUsaHApKSxhcCh0KT90OntuZXh0OnR9KTt2YXIgZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KElnLnByb3RvdHlwZSxcImFwcFwiLHtnZXQ6ZnVuY3Rpb24oKXtpZighdGhpcy5YYyl0aHJvdyBuZXcgQXIoRHIuRkFJTEVEX1BSRUNPTkRJVElPTixcIkZpcmVzdG9yZSB3YXMgbm90IGluaXRpYWxpemVkIHVzaW5nIHRoZSBGaXJlYmFzZSBTREsuICdhcHAnIGlzIG5vdCBhdmFpbGFibGVcIik7cmV0dXJuIHRoaXMuWGN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksSWcucHJvdG90eXBlLmNvbGxlY3Rpb249ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBuZXcgamcodGhpcyxlcCh0aGlzLl9kZWxlZ2F0ZSx0KSl9Y2F0Y2godCl7dGhyb3cgeGcodCxcImNvbGxlY3Rpb24oKVwiLFwiRmlyZXN0b3JlLmNvbGxlY3Rpb24oKVwiKX19LElnLnByb3RvdHlwZS5kb2M9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBuZXcgQ2codGhpcyxucCh0aGlzLl9kZWxlZ2F0ZSx0KSl9Y2F0Y2godCl7dGhyb3cgeGcodCxcImRvYygpXCIsXCJGaXJlc3RvcmUuZG9jKClcIil9fSxJZy5wcm90b3R5cGUuY29sbGVjdGlvbkdyb3VwPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gbmV3IFVnKHRoaXMsZnVuY3Rpb24odCxlKXtpZih0PWpkKHQsemQpLE1kKFwiY29sbGVjdGlvbkdyb3VwXCIsXCJjb2xsZWN0aW9uIGlkXCIsZSksMDw9ZS5pbmRleE9mKFwiL1wiKSl0aHJvdyBuZXcgQXIoRHIuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgY29sbGVjdGlvbiBJRCAnXCIrZStcIicgcGFzc2VkIHRvIGZ1bmN0aW9uIGNvbGxlY3Rpb25Hcm91cCgpLiBDb2xsZWN0aW9uIElEcyBtdXN0IG5vdCBjb250YWluICcvJy5cIik7cmV0dXJuIG5ldyBXZCh0LG51bGwsKGU9ZSxuZXcgbW8oJHIuZW1wdHlQYXRoKCksZSkpKX0odGhpcy5fZGVsZWdhdGUsdCkpfWNhdGNoKHQpe3Rocm93IHhnKHQsXCJjb2xsZWN0aW9uR3JvdXAoKVwiLFwiRmlyZXN0b3JlLmNvbGxlY3Rpb25Hcm91cCgpXCIpfX0sSWcucHJvdG90eXBlLnJ1blRyYW5zYWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciBuLHI9dGhpcztyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgdD10aGlzLGk9bmV3IFphO3JldHVybiBuLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx5ZChuKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGFzdG9yZX0pXTtjYXNlIDE6cmV0dXJuIGU9dC5zZW50KCksbmV3IG9kKG4uYXN5bmNRdWV1ZSxlLHIsaSkucnVuKCksWzJdfX0pfSl9KSxpLnByb21pc2V9KGRwKG49dGhpcy5fZGVsZWdhdGUpLGZ1bmN0aW9uKHQpe3JldHVybiB0PW5ldyBoZyhuLHQpLGUobmV3IF9nKHIsdCkpfSl9LElnLnByb3RvdHlwZS5iYXRjaD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGRwKHRoaXMuX2RlbGVnYXRlKSxuZXcgU2cobmV3ICR5KHRoaXMuX2RlbGVnYXRlLGZ1bmN0aW9uKHQpe3JldHVybiBhZyhlLl9kZWxlZ2F0ZSx0KX0pKX0sSWcucHJvdG90eXBlLmxvYWRCdW5kbGU9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEFyKERyLkZBSUxFRF9QUkVDT05ESVRJT04sJ1wibG9hZEJ1bmRsZSgpXCIgZG9lcyBub3QgZXhpc3QsIGhhdmUgeW91IGltcG9ydGVkIFwiZmlyZWJhc2UvZmlyZXN0b3JlL2J1bmRsZVwiPycpfSxJZy5wcm90b3R5cGUubmFtZWRRdWVyeT1mdW5jdGlvbih0KXt0aHJvdyBuZXcgQXIoRHIuRkFJTEVEX1BSRUNPTkRJVElPTiwnXCJuYW1lZFF1ZXJ5KClcIiBkb2VzIG5vdCBleGlzdCwgaGF2ZSB5b3UgaW1wb3J0ZWQgXCJmaXJlYmFzZS9maXJlc3RvcmUvYnVuZGxlXCI/Jyl9LElnKSxiZz0obih3Zyx5Zz1JKSx3Zy5wcm90b3R5cGUuY29udmVydEJ5dGVzPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZ2cobmV3IHZwKHQpKX0sd2cucHJvdG90eXBlLmNvbnZlcnRSZWZlcmVuY2U9ZnVuY3Rpb24odCl7dD10aGlzLmNvbnZlcnREb2N1bWVudEtleSh0LHRoaXMuZmlyZXN0b3JlLl9kYXRhYmFzZUlkKTtyZXR1cm4gQ2cuWmModCx0aGlzLmZpcmVzdG9yZSxudWxsKX0sd2cpO2Z1bmN0aW9uIHdnKHQpe3ZhciBlPXRoaXM7cmV0dXJuKGU9eWcuY2FsbCh0aGlzKXx8dGhpcykuZmlyZXN0b3JlPXQsZX1mdW5jdGlvbiBJZyh0LGUsbil7dmFyIHI9dGhpczt0aGlzLl9kZWxlZ2F0ZT1lLHRoaXMuWWM9bix0aGlzLklOVEVSTkFMPXtkZWxldGU6ZnVuY3Rpb24oKXtyZXR1cm4gci50ZXJtaW5hdGUoKX19LHQgaW5zdGFuY2VvZiBTZHx8KHRoaXMuWGM9dCl9ZnVuY3Rpb24gRWcoKXt9ZnVuY3Rpb24gVGcodCl7dGhpcy5fZGVsZWdhdGU9dH12YXIgX2c9KGtnLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPVlnKHQpO3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5nZXQobikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEZnKGUuX2ZpcmVzdG9yZSxuZXcgYnkoZS5fZmlyZXN0b3JlLl9kZWxlZ2F0ZSxlLl91c2VyRGF0YVdyaXRlcix0Ll9rZXksdC5fZG9jdW1lbnQsdC5tZXRhZGF0YSxuLl9jb252ZXJ0ZXIpKX0pfSxrZy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSxuKXt0PVlnKHQpO3JldHVybiBuPyhGZChcIlRyYW5zYWN0aW9uLnNldFwiLG4pLHRoaXMuX2RlbGVnYXRlLnNldCh0LGUsbikpOnRoaXMuX2RlbGVnYXRlLnNldCh0LGUpLHRoaXN9LGtnLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1bXSxpPTM7aTxhcmd1bWVudHMubGVuZ3RoO2krKylyW2ktM109YXJndW1lbnRzW2ldO3ZhciBvPVlnKHQpO3JldHVybiAyPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLl9kZWxlZ2F0ZS51cGRhdGUobyxlKToodD10aGlzLl9kZWxlZ2F0ZSkudXBkYXRlLmFwcGx5KHQscyhbbyxlLG5dLHIpKSx0aGlzfSxrZy5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3Q9WWcodCk7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmRlbGV0ZSh0KSx0aGlzfSxrZyksU2c9KEFnLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlLG4pe3Q9WWcodCk7cmV0dXJuIG4/KEZkKFwiV3JpdGVCYXRjaC5zZXRcIixuKSx0aGlzLl9kZWxlZ2F0ZS5zZXQodCxlLG4pKTp0aGlzLl9kZWxlZ2F0ZS5zZXQodCxlKSx0aGlzfSxBZy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9W10saT0zO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspcltpLTNdPWFyZ3VtZW50c1tpXTt2YXIgbz1ZZyh0KTtyZXR1cm4gMj09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5fZGVsZWdhdGUudXBkYXRlKG8sZSk6KHQ9dGhpcy5fZGVsZWdhdGUpLnVwZGF0ZS5hcHBseSh0LHMoW28sZSxuXSxyKSksdGhpc30sQWcucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt0PVlnKHQpO3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5kZWxldGUodCksdGhpc30sQWcucHJvdG90eXBlLmNvbW1pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5jb21taXQoKX0sQWcpLE5nPShEZy5wcm90b3R5cGUuZnJvbUZpcmVzdG9yZT1mdW5jdGlvbih0LGUpe3Q9bmV3IHd5KHRoaXMuX2ZpcmVzdG9yZS5fZGVsZWdhdGUsdGhpcy5fdXNlckRhdGFXcml0ZXIsdC5fa2V5LHQuX2RvY3VtZW50LHQubWV0YWRhdGEsbnVsbCk7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmZyb21GaXJlc3RvcmUobmV3IFZnKHRoaXMuX2ZpcmVzdG9yZSx0KSxudWxsIT1lP2U6e30pfSxEZy5wcm90b3R5cGUudG9GaXJlc3RvcmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT90aGlzLl9kZWxlZ2F0ZS50b0ZpcmVzdG9yZSh0LGUpOnRoaXMuX2RlbGVnYXRlLnRvRmlyZXN0b3JlKHQpfSxEZy50dT1mdW5jdGlvbih0LGUpe3ZhciBuPURnLmV1LHI9bi5nZXQodCk7cnx8KHI9bmV3IFdlYWtNYXAsbi5zZXQodCxyKSk7bj1yLmdldChlKTtyZXR1cm4gbnx8KG49bmV3IERnKHQsbmV3IGJnKHQpLGUpLHIuc2V0KGUsbikpLG59LERnKTtmdW5jdGlvbiBEZyh0LGUsbil7dGhpcy5fZmlyZXN0b3JlPXQsdGhpcy5fdXNlckRhdGFXcml0ZXI9ZSx0aGlzLl9kZWxlZ2F0ZT1ufWZ1bmN0aW9uIEFnKHQpe3RoaXMuX2RlbGVnYXRlPXR9ZnVuY3Rpb24ga2codCxlKXt0aGlzLl9maXJlc3RvcmU9dCx0aGlzLl9kZWxlZ2F0ZT1lLHRoaXMuX3VzZXJEYXRhV3JpdGVyPW5ldyBiZyh0KX1OZy5ldT1uZXcgV2Vha01hcDt2YXIgQ2c9KFJnLm51PWZ1bmN0aW9uKHQsZSxuKXtpZih0Lmxlbmd0aCUyIT0wKXRocm93IG5ldyBBcihEci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBkb2N1bWVudCByZWZlcmVuY2UuIERvY3VtZW50IHJlZmVyZW5jZXMgbXVzdCBoYXZlIGFuIGV2ZW4gbnVtYmVyIG9mIHNlZ21lbnRzLCBidXQgXCIrdC5jYW5vbmljYWxTdHJpbmcoKStcIiBoYXMgXCIrdC5sZW5ndGgpO3JldHVybiBuZXcgUmcoZSxuZXcgSGQoZS5fZGVsZWdhdGUsbixuZXcgbWkodCkpKX0sUmcuWmM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgUmcoZSxuZXcgSGQoZS5fZGVsZWdhdGUsbix0KSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZy5wcm90b3R5cGUsXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuaWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFJnLnByb3RvdHlwZSxcInBhcmVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGpnKHRoaXMuZmlyZXN0b3JlLHRoaXMuX2RlbGVnYXRlLnBhcmVudCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFJnLnByb3RvdHlwZSxcInBhdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLnBhdGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksUmcucHJvdG90eXBlLmNvbGxlY3Rpb249ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBuZXcgamcodGhpcy5maXJlc3RvcmUsZXAodGhpcy5fZGVsZWdhdGUsdCkpfWNhdGNoKHQpe3Rocm93IHhnKHQsXCJjb2xsZWN0aW9uKClcIixcIkRvY3VtZW50UmVmZXJlbmNlLmNvbGxlY3Rpb24oKVwiKX19LFJnLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybih0PW0odCkpaW5zdGFuY2VvZiBIZCYmcnAodGhpcy5fZGVsZWdhdGUsdCl9LFJnLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtlPUZkKFwiRG9jdW1lbnRSZWZlcmVuY2Uuc2V0XCIsZSk7dHJ5e3JldHVybiBmdW5jdGlvbih0LGUsbil7dD1qZCh0LEhkKTt2YXIgcj1qZCh0LmZpcmVzdG9yZSxocCksZT1ZeSh0Ll9jb252ZXJ0ZXIsZSxuKTtyZXR1cm4gYWcocixbUHAoTHAociksXCJzZXREb2NcIix0Ll9rZXksZSxudWxsIT09dC5fY29udmVydGVyLG4pLnRvTXV0YXRpb24odC5fa2V5LGVzLm5vbmUoKSldKX0odGhpcy5fZGVsZWdhdGUsdCxlKX1jYXRjaCh0KXt0aHJvdyB4Zyh0LFwic2V0RG9jKClcIixcIkRvY3VtZW50UmVmZXJlbmNlLnNldCgpXCIpfX0sUmcucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxyPTI7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyluW3ItMl09YXJndW1lbnRzW3JdO3RyeXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/b2codGhpcy5fZGVsZWdhdGUsdCk6b2cuYXBwbHkodm9pZCAwLHMoW3RoaXMuX2RlbGVnYXRlLHQsZV0sbikpfWNhdGNoKHQpe3Rocm93IHhnKHQsXCJ1cGRhdGVEb2MoKVwiLFwiRG9jdW1lbnRSZWZlcmVuY2UudXBkYXRlKClcIil9fSxSZy5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGFnKGpkKCh0PXRoaXMuX2RlbGVnYXRlKS5maXJlc3RvcmUsaHApLFtuZXcgd3ModC5fa2V5LGVzLm5vbmUoKSldKTt2YXIgdH0sUmcucHJvdG90eXBlLm9uU25hcHNob3Q9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyx0PVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbl09YXJndW1lbnRzW25dO3ZhciByPU9nKHQpLGk9TGcodCxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEZnKGUuZmlyZXN0b3JlLG5ldyBieShlLmZpcmVzdG9yZS5fZGVsZWdhdGUsZS5fdXNlckRhdGFXcml0ZXIsdC5fa2V5LHQuX2RvY3VtZW50LHQubWV0YWRhdGEsZS5fZGVsZWdhdGUuX2NvbnZlcnRlcikpfSk7cmV0dXJuIHNnKHRoaXMuX2RlbGVnYXRlLHIsaSl9LFJnLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4oXCJjYWNoZVwiPT09KG51bGw9PXQ/dm9pZCAwOnQuc291cmNlKT9mdW5jdGlvbihlKXtlPWpkKGUsSGQpO3ZhciBuPWpkKGUuZmlyZXN0b3JlLGhwKSx0PWRwKG4pLHI9bmV3IHJnKG4pO3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciB0PXRoaXMsaT1uZXcgWmE7cmV0dXJuIG4uYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPWZ1bmN0aW9uKG8scyxhKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcixpO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdC50cnlzLnB1c2goWzAsMiwsM10pLFs0LChlPXMsKG49bykucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJyZWFkIGRvY3VtZW50XCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKHQpe3JldHVybiBuLk1uLm1uKHQsZSl9KSldO2Nhc2UgMTpyZXR1cm4oaT10LnNlbnQoKSkuaXNGb3VuZERvY3VtZW50KCk/YS5yZXNvbHZlKGkpOmkuaXNOb0RvY3VtZW50KCk/YS5yZXNvbHZlKG51bGwpOmEucmVqZWN0KG5ldyBBcihEci5VTkFWQUlMQUJMRSxcIkZhaWxlZCB0byBnZXQgZG9jdW1lbnQgZnJvbSBjYWNoZS4gKEhvd2V2ZXIsIHRoaXMgZG9jdW1lbnQgbWF5IGV4aXN0IG9uIHRoZSBzZXJ2ZXIuIFJ1biBhZ2FpbiB3aXRob3V0IHNldHRpbmcgJ3NvdXJjZScgaW4gdGhlIEdldE9wdGlvbnMgdG8gYXR0ZW1wdCB0byByZXRyaWV2ZSB0aGUgZG9jdW1lbnQgZnJvbSB0aGUgc2VydmVyLilcIikpLFszLDNdO2Nhc2UgMjpyZXR1cm4gcj10LnNlbnQoKSxpPVdsKHIsXCJGYWlsZWQgdG8gZ2V0IGRvY3VtZW50ICdcIitzK1wiIGZyb20gY2FjaGVcIiksYS5yZWplY3QoaSksWzMsM107Y2FzZSAzOnJldHVyblsyXX12YXIgZSxufSl9KX0sWzQsbWQobildO2Nhc2UgMTpyZXR1cm5bMixlLmFwcGx5KHZvaWQgMCxbdC5zZW50KCkscixpXSldfX0pfSl9KSxpLnByb21pc2V9KHQsZS5fa2V5KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYnkobixyLGUuX2tleSx0LG5ldyB2eShudWxsIT09dCYmdC5oYXNMb2NhbE11dGF0aW9ucywhMCksZS5fY29udmVydGVyKX0pfTpcInNlcnZlclwiPT09KG51bGw9PXQ/dm9pZCAwOnQuc291cmNlKT9mdW5jdGlvbihlKXtlPWpkKGUsSGQpO3ZhciBuPWpkKGUuZmlyZXN0b3JlLGhwKTtyZXR1cm4gSWQoZHAobiksZS5fa2V5LHtzb3VyY2U6XCJzZXJ2ZXJcIn0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHVnKG4sZSx0KX0pfTpmdW5jdGlvbihlKXtlPWpkKGUsSGQpO3ZhciBuPWpkKGUuZmlyZXN0b3JlLGhwKTtyZXR1cm4gSWQoZHAobiksZS5fa2V5KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB1ZyhuLGUsdCl9KX0pKHRoaXMuX2RlbGVnYXRlKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRmcoZS5maXJlc3RvcmUsbmV3IGJ5KGUuZmlyZXN0b3JlLl9kZWxlZ2F0ZSxlLl91c2VyRGF0YVdyaXRlcix0Ll9rZXksdC5fZG9jdW1lbnQsdC5tZXRhZGF0YSxlLl9kZWxlZ2F0ZS5fY29udmVydGVyKSl9KX0sUmcucHJvdG90eXBlLndpdGhDb252ZXJ0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBSZyh0aGlzLmZpcmVzdG9yZSx0P3RoaXMuX2RlbGVnYXRlLndpdGhDb252ZXJ0ZXIoTmcudHUodGhpcy5maXJlc3RvcmUsdCkpOnRoaXMuX2RlbGVnYXRlLndpdGhDb252ZXJ0ZXIobnVsbCkpfSxSZyk7ZnVuY3Rpb24gUmcodCxlKXt0aGlzLmZpcmVzdG9yZT10LHRoaXMuX2RlbGVnYXRlPWUsdGhpcy5fdXNlckRhdGFXcml0ZXI9bmV3IGJnKHQpfWZ1bmN0aW9uIHhnKHQsZSxuKXtyZXR1cm4gdC5tZXNzYWdlPXQubWVzc2FnZS5yZXBsYWNlKGUsbiksdH1mdW5jdGlvbiBPZyh0KXtmb3IodmFyIGU9MCxuPXQ7ZTxuLmxlbmd0aDtlKyspe3ZhciByPW5bZV07aWYoXCJvYmplY3RcIj09dHlwZW9mIHImJiFhcChyKSlyZXR1cm4gcn1yZXR1cm57fX1mdW5jdGlvbiBMZyh0LGUpe3ZhciBuO3JldHVybntuZXh0OmZ1bmN0aW9uKHQpe24ubmV4dCYmbi5uZXh0KGUodCkpfSxlcnJvcjpudWxsPT09KHQ9KG49YXAodFswXSk/dFswXTphcCh0WzFdKT90WzFdOlwiZnVuY3Rpb25cIj09dHlwZW9mIHRbMF0/e25leHQ6dFswXSxlcnJvcjp0WzFdLGNvbXBsZXRlOnRbMl19OntuZXh0OnRbMV0sZXJyb3I6dFsyXSxjb21wbGV0ZTp0WzNdfSkuZXJyb3IpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmJpbmQobiksY29tcGxldGU6bnVsbD09PSh0PW4uY29tcGxldGUpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmJpbmQobil9fXZhciBQZyxNZyxGZz0oT2JqZWN0LmRlZmluZVByb3BlcnR5KFdnLnByb3RvdHlwZSxcInJlZlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENnKHRoaXMuX2ZpcmVzdG9yZSx0aGlzLl9kZWxlZ2F0ZS5yZWYpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZy5wcm90b3R5cGUsXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuaWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFdnLnByb3RvdHlwZSxcIm1ldGFkYXRhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5tZXRhZGF0YX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoV2cucHJvdG90eXBlLFwiZXhpc3RzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5leGlzdHMoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxXZy5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuZGF0YSh0KX0sV2cucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5nZXQodCxlKX0sV2cucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIE55KHRoaXMuX2RlbGVnYXRlLHQuX2RlbGVnYXRlKX0sV2cpLFZnPShuKEhnLE1nPUZnKSxIZy5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuZGF0YSh0KX0sSGcpLFVnPSh6Zy5wcm90b3R5cGUud2hlcmU9ZnVuY3Rpb24odCxlLG4pe3RyeXtyZXR1cm4gbmV3IHpnKHRoaXMuZmlyZXN0b3JlLEF5KHRoaXMuX2RlbGVnYXRlLChyPW4saT1lLG89eXkoXCJ3aGVyZVwiLHQpLG5ldyBMeShvLGkscikpKSl9Y2F0Y2godCl7dGhyb3cgeGcodCwvKG9yZGVyQnl8d2hlcmUpXFwoXFwpLyxcIlF1ZXJ5LiQxKClcIil9dmFyIHIsaSxvfSx6Zy5wcm90b3R5cGUub3JkZXJCeT1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gbmV3IHpnKHRoaXMuZmlyZXN0b3JlLEF5KHRoaXMuX2RlbGVnYXRlLChuPXZvaWQgMD09PWU/XCJhc2NcIjplLHI9eXkoXCJvcmRlckJ5XCIsdCksbmV3IFB5KHIsbikpKSl9Y2F0Y2godCl7dGhyb3cgeGcodCwvKG9yZGVyQnl8d2hlcmUpXFwoXFwpLyxcIlF1ZXJ5LiQxKClcIil9dmFyIG4scn0semcucHJvdG90eXBlLmxpbWl0PWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gbmV3IHpnKHRoaXMuZmlyZXN0b3JlLEF5KHRoaXMuX2RlbGVnYXRlLChLZChcImxpbWl0XCIsZT10KSxuZXcgTXkoXCJsaW1pdFwiLGUsXCJGXCIpKSkpfWNhdGNoKHQpe3Rocm93IHhnKHQsXCJsaW1pdCgpXCIsXCJRdWVyeS5saW1pdCgpXCIpfXZhciBlfSx6Zy5wcm90b3R5cGUubGltaXRUb0xhc3Q9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBuZXcgemcodGhpcy5maXJlc3RvcmUsQXkodGhpcy5fZGVsZWdhdGUsKEtkKFwibGltaXRUb0xhc3RcIixlPXQpLG5ldyBNeShcImxpbWl0VG9MYXN0XCIsZSxcIkxcIikpKSl9Y2F0Y2godCl7dGhyb3cgeGcodCxcImxpbWl0VG9MYXN0KClcIixcIlF1ZXJ5LmxpbWl0VG9MYXN0KClcIil9dmFyIGV9LHpnLnByb3RvdHlwZS5zdGFydEF0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RyeXtyZXR1cm4gbmV3IHpnKHRoaXMuZmlyZXN0b3JlLEF5KHRoaXMuX2RlbGVnYXRlLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBuZXcgRnkoXCJzdGFydEF0XCIsdCwhMCl9LmFwcGx5KHZvaWQgMCx0KSkpfWNhdGNoKHQpe3Rocm93IHhnKHQsXCJzdGFydEF0KClcIixcIlF1ZXJ5LnN0YXJ0QXQoKVwiKX19LHpnLnByb3RvdHlwZS5zdGFydEFmdGVyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RyeXtyZXR1cm4gbmV3IHpnKHRoaXMuZmlyZXN0b3JlLEF5KHRoaXMuX2RlbGVnYXRlLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBuZXcgRnkoXCJzdGFydEFmdGVyXCIsdCwhMSl9LmFwcGx5KHZvaWQgMCx0KSkpfWNhdGNoKHQpe3Rocm93IHhnKHQsXCJzdGFydEFmdGVyKClcIixcIlF1ZXJ5LnN0YXJ0QWZ0ZXIoKVwiKX19LHpnLnByb3RvdHlwZS5lbmRCZWZvcmU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dHJ5e3JldHVybiBuZXcgemcodGhpcy5maXJlc3RvcmUsQXkodGhpcy5fZGVsZWdhdGUsZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIG5ldyBWeShcImVuZEJlZm9yZVwiLHQsITApfS5hcHBseSh2b2lkIDAsdCkpKX1jYXRjaCh0KXt0aHJvdyB4Zyh0LFwiZW5kQmVmb3JlKClcIixcIlF1ZXJ5LmVuZEJlZm9yZSgpXCIpfX0semcucHJvdG90eXBlLmVuZEF0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RyeXtyZXR1cm4gbmV3IHpnKHRoaXMuZmlyZXN0b3JlLEF5KHRoaXMuX2RlbGVnYXRlLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBuZXcgVnkoXCJlbmRBdFwiLHQsITEpfS5hcHBseSh2b2lkIDAsdCkpKX1jYXRjaCh0KXt0aHJvdyB4Zyh0LFwiZW5kQXQoKVwiLFwiUXVlcnkuZW5kQXQoKVwiKX19LHpnLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiBpcCh0aGlzLl9kZWxlZ2F0ZSx0Ll9kZWxlZ2F0ZSl9LHpnLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4oXCJjYWNoZVwiPT09KG51bGw9PXQ/dm9pZCAwOnQuc291cmNlKT9mdW5jdGlvbihlKXtlPWpkKGUsV2QpO3ZhciBuPWpkKGUuZmlyZXN0b3JlLGhwKSx0PWRwKG4pLHI9bmV3IHJnKG4pO3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciB0PXRoaXMsaT1uZXcgWmE7cmV0dXJuIG4uYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPWZ1bmN0aW9uKGksbyxzKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHI7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0LnRyeXMucHVzaChbMCwyLCwzXSksWzQsYWgoaSxvLCEwKV07Y2FzZSAxOnJldHVybiByPXQuc2VudCgpLGU9bmV3IHZmKG8sci5Cbiksbj1lLl9vKHIuZG9jdW1lbnRzKSxuPWUuYXBwbHlDaGFuZ2VzKG4sITEpLHMucmVzb2x2ZShuLnNuYXBzaG90KSxbMywzXTtjYXNlIDI6cmV0dXJuIG49dC5zZW50KCkscj1XbChuLFwiRmFpbGVkIHRvIGV4ZWN1dGUgcXVlcnkgJ1wiK28rXCIgYWdhaW5zdCBjYWNoZVwiKSxzLnJlamVjdChyKSxbMywzXTtjYXNlIDM6cmV0dXJuWzJdfX0pfSl9LFs0LG1kKG4pXTtjYXNlIDE6cmV0dXJuWzIsZS5hcHBseSh2b2lkIDAsW3Quc2VudCgpLHIsaV0pXX19KX0pfSksaS5wcm9taXNlfSh0LGUuX3F1ZXJ5KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgSXkobixyLGUsdCl9KX06XCJzZXJ2ZXJcIj09PShudWxsPT10P3ZvaWQgMDp0LnNvdXJjZSk/ZnVuY3Rpb24oZSl7ZT1qZChlLFdkKTt2YXIgbj1qZChlLmZpcmVzdG9yZSxocCksdD1kcChuKSxyPW5ldyByZyhuKTtyZXR1cm4gRWQodCxlLl9xdWVyeSx7c291cmNlOlwic2VydmVyXCJ9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgSXkobixyLGUsdCl9KX06ZnVuY3Rpb24oZSl7ZT1qZChlLFdkKTt2YXIgbj1qZChlLmZpcmVzdG9yZSxocCksdD1kcChuKSxyPW5ldyByZyhuKTtyZXR1cm4gRHkoZS5fcXVlcnkpLEVkKHQsZS5fcXVlcnkpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBJeShuLHIsZSx0KX0pfSkodGhpcy5fZGVsZWdhdGUpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBCZyhlLmZpcmVzdG9yZSxuZXcgSXkoZS5maXJlc3RvcmUuX2RlbGVnYXRlLGUuX3VzZXJEYXRhV3JpdGVyLGUuX2RlbGVnYXRlLHQuX3NuYXBzaG90KSl9KX0semcucHJvdG90eXBlLm9uU25hcHNob3Q9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyx0PVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbl09YXJndW1lbnRzW25dO3ZhciByPU9nKHQpLGk9TGcodCxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEJnKGUuZmlyZXN0b3JlLG5ldyBJeShlLmZpcmVzdG9yZS5fZGVsZWdhdGUsZS5fdXNlckRhdGFXcml0ZXIsZS5fZGVsZWdhdGUsdC5fc25hcHNob3QpKX0pO3JldHVybiBzZyh0aGlzLl9kZWxlZ2F0ZSxyLGkpfSx6Zy5wcm90b3R5cGUud2l0aENvbnZlcnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHpnKHRoaXMuZmlyZXN0b3JlLHQ/dGhpcy5fZGVsZWdhdGUud2l0aENvbnZlcnRlcihOZy50dSh0aGlzLmZpcmVzdG9yZSx0KSk6dGhpcy5fZGVsZWdhdGUud2l0aENvbnZlcnRlcihudWxsKSl9LHpnKSxxZz0oT2JqZWN0LmRlZmluZVByb3BlcnR5KFFnLnByb3RvdHlwZSxcInR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLnR5cGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFFnLnByb3RvdHlwZSxcImRvY1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFZnKHRoaXMuX2ZpcmVzdG9yZSx0aGlzLl9kZWxlZ2F0ZS5kb2MpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShRZy5wcm90b3R5cGUsXCJvbGRJbmRleFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUub2xkSW5kZXh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFFnLnByb3RvdHlwZSxcIm5ld0luZGV4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5uZXdJbmRleH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxRZyksQmc9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHZy5wcm90b3R5cGUsXCJxdWVyeVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFVnKHRoaXMuX2ZpcmVzdG9yZSx0aGlzLl9kZWxlZ2F0ZS5xdWVyeSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEdnLnByb3RvdHlwZSxcIm1ldGFkYXRhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5tZXRhZGF0YX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoR2cucHJvdG90eXBlLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuc2l6ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoR2cucHJvdG90eXBlLFwiZW1wdHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmVtcHR5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHZy5wcm90b3R5cGUsXCJkb2NzXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmRvY3MubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgVmcoZS5fZmlyZXN0b3JlLHQpfSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksR2cucHJvdG90eXBlLmRvY0NoYW5nZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fZGVsZWdhdGUuZG9jQ2hhbmdlcyh0KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBxZyhlLl9maXJlc3RvcmUsdCl9KX0sR2cucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzO3RoaXMuX2RlbGVnYXRlLmZvckVhY2goZnVuY3Rpb24odCl7ZS5jYWxsKG4sbmV3IFZnKHIuX2ZpcmVzdG9yZSx0KSl9KX0sR2cucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIE55KHRoaXMuX2RlbGVnYXRlLHQuX2RlbGVnYXRlKX0sR2cpLGpnPShuKEtnLFBnPVVnKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoS2cucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmlkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShLZy5wcm90b3R5cGUsXCJwYXRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5wYXRofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShLZy5wcm90b3R5cGUsXCJwYXJlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGVsZWdhdGUucGFyZW50O3JldHVybiB0P25ldyBDZyh0aGlzLmZpcmVzdG9yZSx0KTpudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLEtnLnByb3RvdHlwZS5kb2M9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBuZXcgQ2codGhpcy5maXJlc3RvcmUsdm9pZCAwPT09dD9ucCh0aGlzLl9kZWxlZ2F0ZSk6bnAodGhpcy5fZGVsZWdhdGUsdCkpfWNhdGNoKHQpe3Rocm93IHhnKHQsXCJkb2MoKVwiLFwiQ29sbGVjdGlvblJlZmVyZW5jZS5kb2MoKVwiKX19LEtnLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGk9dGhpcztyZXR1cm4gZT10aGlzLl9kZWxlZ2F0ZSxuPXQsdD1qZChlLmZpcmVzdG9yZSxocCkscj1ucChlKSxuPVl5KGUuX2NvbnZlcnRlcixuKSxhZyh0LFtQcChMcChlLmZpcmVzdG9yZSksXCJhZGREb2NcIixyLl9rZXksbixudWxsIT09ZS5fY29udmVydGVyLHt9KS50b011dGF0aW9uKHIuX2tleSxlcy5leGlzdHMoITEpKV0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcn0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDZyhpLmZpcmVzdG9yZSx0KX0pfSxLZy5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gcnAodGhpcy5fZGVsZWdhdGUsdC5fZGVsZWdhdGUpfSxLZy5wcm90b3R5cGUud2l0aENvbnZlcnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEtnKHRoaXMuZmlyZXN0b3JlLHQ/dGhpcy5fZGVsZWdhdGUud2l0aENvbnZlcnRlcihOZy50dSh0aGlzLmZpcmVzdG9yZSx0KSk6dGhpcy5fZGVsZWdhdGUud2l0aENvbnZlcnRlcihudWxsKSl9LEtnKTtmdW5jdGlvbiBLZyh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49UGcuY2FsbCh0aGlzLHQsZSl8fHRoaXMpLmZpcmVzdG9yZT10LG4uX2RlbGVnYXRlPWUsbn1mdW5jdGlvbiBHZyh0LGUpe3RoaXMuX2ZpcmVzdG9yZT10LHRoaXMuX2RlbGVnYXRlPWV9ZnVuY3Rpb24gUWcodCxlKXt0aGlzLl9maXJlc3RvcmU9dCx0aGlzLl9kZWxlZ2F0ZT1lfWZ1bmN0aW9uIHpnKHQsZSl7dGhpcy5maXJlc3RvcmU9dCx0aGlzLl9kZWxlZ2F0ZT1lLHRoaXMuX3VzZXJEYXRhV3JpdGVyPW5ldyBiZyh0KX1mdW5jdGlvbiBIZygpe3JldHVybiBudWxsIT09TWcmJk1nLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31mdW5jdGlvbiBXZyh0LGUpe3RoaXMuX2ZpcmVzdG9yZT10LHRoaXMuX2RlbGVnYXRlPWV9ZnVuY3Rpb24gWWcodCl7cmV0dXJuIGpkKHQsSGQpfUpnLmRvY3VtZW50SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEpnKHRpLmtleUZpZWxkKCkuY2Fub25pY2FsU3RyaW5nKCkpfSxKZy5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4odD1tKHQpKWluc3RhbmNlb2YgbXAmJnRoaXMuX2RlbGVnYXRlLl9pbnRlcm5hbFBhdGguaXNFcXVhbCh0Ll9pbnRlcm5hbFBhdGgpfSxUZT1KZyxYZy5zZXJ2ZXJUaW1lc3RhbXA9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgR3AoXCJzZXJ2ZXJUaW1lc3RhbXBcIik7cmV0dXJuIHQuX21ldGhvZE5hbWU9XCJGaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcFwiLG5ldyBYZyh0KX0sWGcuZGVsZXRlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEZwKFwiZGVsZXRlRmllbGRcIik7cmV0dXJuIHQuX21ldGhvZE5hbWU9XCJGaWVsZFZhbHVlLmRlbGV0ZVwiLG5ldyBYZyh0KX0sWGcuYXJyYXlVbmlvbj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt2YXIgbj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gbmV3IFFwKFwiYXJyYXlVbmlvblwiLHQpfS5hcHBseSh2b2lkIDAsdCk7cmV0dXJuIG4uX21ldGhvZE5hbWU9XCJGaWVsZFZhbHVlLmFycmF5VW5pb25cIixuZXcgWGcobil9LFhnLmFycmF5UmVtb3ZlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3ZhciBuPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBuZXcgenAoXCJhcnJheVJlbW92ZVwiLHQpfS5hcHBseSh2b2lkIDAsdCk7cmV0dXJuIG4uX21ldGhvZE5hbWU9XCJGaWVsZFZhbHVlLmFycmF5UmVtb3ZlXCIsbmV3IFhnKG4pfSxYZy5pbmNyZW1lbnQ9ZnVuY3Rpb24odCl7dD1uZXcgSHAoXCJpbmNyZW1lbnRcIix0KTtyZXR1cm4gdC5fbWV0aG9kTmFtZT1cIkZpZWxkVmFsdWUuaW5jcmVtZW50XCIsbmV3IFhnKHQpfSxYZy5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuaXNFcXVhbCh0Ll9kZWxlZ2F0ZSl9LEk9WGc7ZnVuY3Rpb24gWGcodCl7dGhpcy5fZGVsZWdhdGU9dH1mdW5jdGlvbiBKZygpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0aGlzLl9kZWxlZ2F0ZT1uZXcobXAuYmluZC5hcHBseShtcCxzKFt2b2lkIDBdLHQpKSl9ZnVuY3Rpb24gJGcodCl7cmV0dXJuIGU9dGhpcy5fZGVsZWdhdGUscz10LG49ZHAoZT1qZChlLGhwKSksdD1uZXcgY3AsZnVuY3Rpb24obix0LHIpe3ZhciBlLGk9dGhpcyxvPShlPXMsdD1sbCh0KSxlPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBVaW50OEFycmF5KXJldHVybiBlZCh0LHZvaWQgMCk7aWYodCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiBlZChuZXcgVWludDhBcnJheSh0KSx2b2lkIDApO2lmKHQgaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbSlyZXR1cm4gdC5nZXRSZWFkZXIoKTt0aHJvdyBuZXcgRXJyb3IoXCJTb3VyY2Ugb2YgYHRvQnl0ZVN0cmVhbVJlYWRlcmAgaGFzIHRvIGJlIGEgQXJyYXlCdWZmZXIgb3IgUmVhZGFibGVTdHJlYW1cIil9KFwic3RyaW5nXCI9PXR5cGVvZiBlPyhuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKTplKSxuZXcgcmQoZSx0KSk7bi5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4geShpLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9R2YsWzQsYmQobildO2Nhc2UgMTpyZXR1cm4gZS5hcHBseSh2b2lkIDAsW3Quc2VudCgpLG8scl0pLFsyXX19KX0pfSl9KG4sZS5fZGF0YWJhc2VJZCx0KSx0O3ZhciBlLHMsbn1mdW5jdGlvbiBaZyh0KXt2YXIgZT10aGlzLG49dGhpcy5fZGVsZWdhdGUsdD10O3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciB0PXRoaXM7cmV0dXJuIG4uYXN5bmNRdWV1ZS5lbnF1ZXVlKGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dDtyZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkdldCBuYW1lZCBxdWVyeVwiLFwicmVhZG9ubHlcIixmdW5jdGlvbih0KXtyZXR1cm4gbi5RZS5nZXROYW1lZFF1ZXJ5KHQsZSl9KX0sWzQsbWQobildO2Nhc2UgMTpyZXR1cm5bMixlLmFwcGx5KHZvaWQgMCxbdC5zZW50KCkscl0pXX19KX0pfSl9KGRwKG49amQobixocCkpLHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQ/bmV3IFdkKG4sbnVsbCx0LnF1ZXJ5KTpudWxsfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdD9uZXcgVWcoZSx0KTpudWxsfSl9dmFyIHRtPShlbS5wcm90b3R5cGUuc2V0SW5zdGFudGlhdGlvbk1vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW5zdGFudGlhdGlvbk1vZGU9dCx0aGlzfSxlbS5wcm90b3R5cGUuc2V0TXVsdGlwbGVJbnN0YW5jZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubXVsdGlwbGVJbnN0YW5jZXM9dCx0aGlzfSxlbS5wcm90b3R5cGUuc2V0U2VydmljZVByb3BzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNlcnZpY2VQcm9wcz10LHRoaXN9LGVtLnByb3RvdHlwZS5zZXRJbnN0YW5jZUNyZWF0ZWRDYWxsYmFjaz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbkluc3RhbmNlQ3JlYXRlZD10LHRoaXN9LGVtKTtmdW5jdGlvbiBlbSh0LGUsbil7dGhpcy5uYW1lPXQsdGhpcy5pbnN0YW5jZUZhY3Rvcnk9ZSx0aGlzLnR5cGU9bix0aGlzLm11bHRpcGxlSW5zdGFuY2VzPSExLHRoaXMuc2VydmljZVByb3BzPXt9LHRoaXMuaW5zdGFudGlhdGlvbk1vZGU9XCJMQVpZXCIsdGhpcy5vbkluc3RhbmNlQ3JlYXRlZD1udWxsfXZhciBubSxybSxpbT17RmlyZXN0b3JlOnZnLEdlb1BvaW50OndwLFRpbWVzdGFtcDpLcixCbG9iOmdnLFRyYW5zYWN0aW9uOl9nLFdyaXRlQmF0Y2g6U2csRG9jdW1lbnRSZWZlcmVuY2U6Q2csRG9jdW1lbnRTbmFwc2hvdDpGZyxRdWVyeTpVZyxRdWVyeURvY3VtZW50U25hcHNob3Q6VmcsUXVlcnlTbmFwc2hvdDpCZyxDb2xsZWN0aW9uUmVmZXJlbmNlOmpnLEZpZWxkUGF0aDpUZSxGaWVsZFZhbHVlOkksc2V0TG9nTGV2ZWw6ZnVuY3Rpb24odCl7a3Iuc2V0TG9nTGV2ZWwodCl9LENBQ0hFX1NJWkVfVU5MSU1JVEVEOi0xfTsobm09ZS5kZWZhdWx0KS5JTlRFUk5BTC5yZWdpc3RlckNvbXBvbmVudChuZXcgdG0oXCJmaXJlc3RvcmVcIixmdW5jdGlvbih0KXt2YXIgZT10LmdldFByb3ZpZGVyKFwiYXBwXCIpLmdldEltbWVkaWF0ZSgpO3JldHVybiBlPWUsdD10LmdldFByb3ZpZGVyKFwiYXV0aC1pbnRlcm5hbFwiKSxuZXcgdmcoZSxuZXcgaHAoZSx0KSxuZXcgbWcpfSxcIlBVQkxJQ1wiKS5zZXRTZXJ2aWNlUHJvcHMoT2JqZWN0LmFzc2lnbih7fSxpbSkpKSxubS5yZWdpc3RlclZlcnNpb24oXCJAZmlyZWJhc2UvZmlyZXN0b3JlXCIsXCIyLjIuNVwiKSwocm09dmcpLnByb3RvdHlwZS5sb2FkQnVuZGxlPSRnLHJtLnByb3RvdHlwZS5uYW1lZFF1ZXJ5PVpnfS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2godCl7dGhyb3cgY29uc29sZS5lcnJvcih0KSxuZXcgRXJyb3IoXCJDYW5ub3QgaW5zdGFudGlhdGUgZmlyZWJhc2UtZmlyZXN0b3JlLmpzIC0gYmUgc3VyZSB0byBsb2FkIGZpcmViYXNlLWFwcC5qcyBmaXJzdC5cIil9fSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maXJlYmFzZS1maXJlc3RvcmUuanMubWFwXG4iLCJpbXBvcnQgYXBpIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICAgICAgICBpbXBvcnQgY29udGVudCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3Jlc2V0LmNzc1wiO1xuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsImltcG9ydCBhcGkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgICAgICAgIGltcG9ydCBjb250ZW50IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgY29udGVudC5sb2NhbHMgfHwge307IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSkge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXHJcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xyXG4gICAgcmV0dXJuIHRvO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIG1ha2VTd2l0Y2gobGFiZWwsIG5hbWUsIGlzQ2hlY2tlZCwgb25DaGFuZ2UpIHtcbiAgY29uc3QgaW5wdXRFbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gIGlucHV0RWxtLmNsYXNzTGlzdC5hZGQoXCJzd2l0Y2hcIik7XG5cbiAgY29uc3QgdGV4dEVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICB0ZXh0RWxtLnRleHRDb250ZW50ID0gbGFiZWw7XG4gIHRleHRFbG0uY2xhc3NMaXN0LmFkZChcInN3aXRjaC1sYWJlbFwiKTtcbiAgaW5wdXRFbG0uYXBwZW5kQ2hpbGQodGV4dEVsbSk7XG5cbiAgY29uc3QgaW5wdXRDaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgaW5wdXRDaGVja2JveC50eXBlID0gXCJjaGVja2JveFwiO1xuICBpbnB1dENoZWNrYm94Lm5hbWUgPSBuYW1lO1xuICBpbnB1dENoZWNrYm94LmNoZWNrZWQgPSBpc0NoZWNrZWQ7XG4gIGlucHV0Q2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PlxuICAgIG9uQ2hhbmdlKGlucHV0Q2hlY2tib3guY2hlY2tlZClcbiAgKTtcblxuICBpbnB1dEVsbS5hcHBlbmRDaGlsZChpbnB1dENoZWNrYm94KTtcblxuICBjb25zdCBpbnB1dFNwYW5FbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgaW5wdXRTcGFuRWxtLmNsYXNzTGlzdC5hZGQoXCJzd2l0Y2gtc3BhblwiKTtcbiAgaW5wdXRFbG0uYXBwZW5kQ2hpbGQoaW5wdXRTcGFuRWxtKTtcblxuICByZXR1cm4gaW5wdXRFbG07XG59XG5cbi8vIFRPRE86IGRvbid0IHVzZSBkaXYgYXMgYnV0dG9uXG4vLyBUT0RPOiBwYXNzIGNsYXNzIGluIGFzIHBhcmFtXG4vLyBUT0RPOiBvbmNlIGFib3ZlIGFyZSBmaXhlZCwgZ2l2ZSBnZW5lcmljIG5hbWVcbmV4cG9ydCBmdW5jdGlvbiBnZXRDbG9zZUJ1dHRvbihvbkNsaWNrKSB7XG4gIGNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY2xvc2VCdG4uY2xhc3NMaXN0LmFkZChcImNsb3NlLWJ0blwiKTtcbiAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uQ2xpY2spO1xuICByZXR1cm4gY2xvc2VCdG47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckNoaWxkcmVuKGVsZW1lbnQpIHtcbiAgd2hpbGUgKGVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5maXJzdENoaWxkKTtcbiAgfVxufVxuIiwiaW1wb3J0IGVudiBmcm9tIFwiLi4vLi4vZW52XCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXBpS2V5OiBlbnYuQVBJX0tFWSxcbiAgYXV0aERvbWFpbjogZW52LkFVVEhfRE9NQUlOLFxuICBwcm9qZWN0SWQ6IGVudi5QUk9KRUNUX0lELFxuICBzdG9yYWdlQnVja2V0OiBlbnYuU1RPUkFHRV9CVUNLRVQsXG4gIG1lc3NhZ2luZ1NlbmRlcklkOiBlbnYuTUVTU0FHSU5HX1NFTkRFUl9JRCxcbiAgYXBwSWQ6IGVudi5BUFBfSUQsXG59O1xuIiwiaW1wb3J0IGZpcmViYXNlIGZyb20gXCJmaXJlYmFzZS9hcHBcIjtcbmltcG9ydCBmaXJlYmFzZUNvbmZpZyBmcm9tIFwiLi9maXJlYmFzZS1jb25maWdcIjtcbmltcG9ydCBcImZpcmViYXNlL2ZpcmViYXNlLWZpcmVzdG9yZVwiO1xuaW1wb3J0IFwiZmlyZWJhc2UvZmlyZWJhc2UtYXV0aFwiO1xuXG5maXJlYmFzZS5pbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGF1dGhIYW5kbGVyKCkge1xuICBjb25zdCBhdXRoID0gZmlyZWJhc2UuYXV0aCgpO1xuICBjb25zdCBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpO1xuXG4gIGF1dGgub25BdXRoU3RhdGVDaGFuZ2VkID0gYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZWQuYmluZChhdXRoKTtcblxuICBjb25zdCBzaWduZWRJblNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3doZW4tc2lnbmVkLW91dFwiKTtcbiAgY29uc3Qgc2lnbmVkT3V0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjd2hlbi1zaWduZWQtaW5cIik7XG4gIGNvbnN0IHNpZ25JbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2lnbi1pbi1idG5cIik7XG4gIGNvbnN0IHNpZ25PdXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NpZ24tb3V0LWJ0blwiKTtcblxuICBzaWduSW5CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBhdXRoLnNpZ25JbldpdGhQb3B1cChwcm92aWRlcik7XG4gIH0pO1xuXG4gIHNpZ25PdXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBhdXRoLnNpZ25PdXQoKTtcbiAgfSk7XG5cbiAgY29uc3QgdXNlck5hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN1c2VyLW5hbWVcIik7XG4gIGNvbnN0IHVzZXJJZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3VzZXItaWRcIik7XG5cbiAgYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZWQoKHVzZXIpID0+IHtcbiAgICBpZiAodXNlcikge1xuICAgICAgc2lnbmVkSW5TZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgICBzaWduZWRPdXRTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gICAgICB1c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSB1c2VyLmRpc3BsYXlOYW1lO1xuICAgICAgdXNlcklkRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXIudWlkO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaWduZWRPdXRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgICBzaWduZWRJblNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgICAgIHVzZXJOYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IFwibm8gc2lnbmVkIGluIHVzZXJcIjtcbiAgICAgIHVzZXJJZEVsZW1lbnQudGV4dENvbnRlbnQgPSBcIk4vQVwiO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGF1dGgub25BdXRoU3RhdGVDaGFuZ2VkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlyZXN0b3JlSGFuZGxlcihvbkF1dGhTdGF0ZUNoYW5nZWQpIHtcbiAgY29uc3QgZGIgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTtcbiAgbGV0IGxpYnJhcnlSZWY7XG5cbiAgb25BdXRoU3RhdGVDaGFuZ2VkKHVwZGF0ZUxpYnJhcnlSZWYpO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUxpYnJhcnlSZWYodXNlcikge1xuICAgIGlmICghdXNlcikge1xuICAgICAgY29uc29sZS5sb2coXCJubyB1c2VyIVwiKTtcbiAgICB9XG5cbiAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKFwidXNlcnNcIikuZG9jKHVzZXIudWlkKS5zZXQoe30sIHsgbWVyZ2U6IHRydWUgfSk7XG5cbiAgICBsaWJyYXJ5UmVmID0gZGIuY29sbGVjdGlvbihgdXNlcnMvJHt1c2VyLnVpZH0vYm9va3NgKTtcblxuICAgIGNvbnN0IGxpYnJhcnlTbmFwc2hvdCA9IGF3YWl0IGxpYnJhcnlSZWYuZ2V0KCk7XG4gICAgY29uc29sZS5sb2coXCJEb2N1bWVudCBkYXRhOlwiLCBsaWJyYXJ5U25hcHNob3QuZG9jcyk7XG4gIH1cblxuICAvLyBhbGwgb2YgdGhlc2UgZnVuY3Rpb25zIGFyZSBhc3luY2hyb25vdXMsIGJlY2F1c2UgSSB3YW50IHRvIG1ha2Ugc3VyZVxuICAvLyBJIGRvbid0IHRyeSB0byByZS1yZW5kZXIgYmVmb3JlIHRoZSBkYXRhIGlzIHVwZGF0ZWRcbiAgYXN5bmMgZnVuY3Rpb24gYWRkQm9vayhib29rRGF0YSkge1xuICAgIGNvbnN0IHsgc2VydmVyVGltZXN0YW1wIH0gPSBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZTtcblxuICAgIGF3YWl0IGxpYnJhcnlSZWYuYWRkKHtcbiAgICAgIGFkZGVkVGltZXN0YW1wOiBzZXJ2ZXJUaW1lc3RhbXAoKSxcbiAgICAgIGxhc3RDaGFuZ2VkVGltZXN0YW1wOiBzZXJ2ZXJUaW1lc3RhbXAoKSxcbiAgICAgIC4uLmJvb2tEYXRhLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gc2V0Qm9vayhib29rRGF0YSkge1xuICAgIGNvbnN0IHsgc2VydmVyVGltZXN0YW1wIH0gPSBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZTtcbiAgICBhd2FpdCBsaWJyYXJ5UmVmLmRvYyhib29rRGF0YS5pZCkuc2V0KFxuICAgICAge1xuICAgICAgICBsYXN0Q2hhbmdlZFRpbWVzdGFtcDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICAgIC4uLmJvb2tEYXRhLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgLy8gYi9jIGF0IHRoZSB2ZXJ5IGxlYXN0IEkgd2FudCB0byBrZWVwIGFkZGVkVGltZXN0YW1wXG4gICAgICAgIG1lcmdlOiB0cnVlLFxuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiByZW1vdmVCb29rKGJvb2tJZCkge1xuICAgIGF3YWl0IGxpYnJhcnlSZWZcbiAgICAgIC5kb2MoYm9va0lkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhgVE9ETzogQm9vayAke2Jvb2tJZH0gcmVtb3ZlZCBmcm9tIGRhdGFiYXNlIWApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgcmVtb3ZpbmcgYm9vayBmcm9tIGRhdGFiYXNlIVwiKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gZ2V0Qm9va3MoKSB7XG4gICAgaWYgKCFsaWJyYXJ5UmVmKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBsaWJyYXJ5U25hcHNob3QgPSBhd2FpdCBsaWJyYXJ5UmVmLmdldCgpO1xuICAgIHJldHVybiBsaWJyYXJ5U25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gZG9jLmRhdGEoKSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGFkZEJvb2ssXG4gICAgc2V0Qm9vayxcbiAgICByZW1vdmVCb29rLFxuICAgIGdldEJvb2tzLFxuICB9O1xufVxuIiwiLy8gVE9ETzogZml4IHRoaXMgbWVzc1xuLy8gLSBzaG91bGQgYmUgcGFzc2luZyB0aGUgZXZlbnQgZnJvbSB0aGUgZm9ybSBzdWJtaXNzaW9uLFxuLy8gd2hpY2ggaGFzIHRoZSBkYXRhIGZyb20gYWxsIHRoZSBpbnB1dHNcbi8vIC0gc2hvdWxkIHJldHVybiBzb21lIHNvcnQgb2Ygb2JqZWN0IHdoaWNoIGNvbnRhaW5zOlxuLy8gICAtIHRoZSBpbnB1dCB0aGF0IGZhaWxlZCB0byB2YWxpZGF0ZVxuLy8gICAtIHRoZSBlcnJvciBtZXNzYWdlXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2YWxpZGF0ZUZvcm0oZm9ybSwgbGlicmFyeSkge1xuICBjb25zdCBpbnB1dHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFtyZXF1aXJlZF1cIik7XG5cbiAgY29uc3QgZW1wdHlJbnB1dCA9IFsuLi5pbnB1dHNdLmZpbmQoKGlucHV0KSA9PiBpbnB1dC52YWx1ZSA9PT0gXCJcIik7XG5cbiAgaWYgKGVtcHR5SW5wdXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogXCJQbGVhc2UgZmlsbCBvdXQgdGhpcyBmaWVsZCFcIixcbiAgICAgIGlucHV0OiBlbXB0eUlucHV0LFxuICAgIH07XG4gIH1cblxuICAvLyBUT0RPOiBXRUxQLiBET04nVCBMSUtFIFRISVMuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKFxuICAgICAgaW5wdXRzW2ldLm5hbWUgPT09IFwiaWRcIiAmJlxuICAgICAgbGlicmFyeS5zb21lKChib29rKSA9PiBib29rLmlkID09PSBpbnB1dHNbaV0udmFsdWUpXG4gICAgKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgIGlucHV0OiBpbnB1dHNbaV0sXG4gICAgICAgIG1lc3NhZ2U6IFwiaWQgbXVzdCBiZSB1bmlxdWUhXCIsXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoaW5wdXRzW2ldLnR5cGUgPT09IFwibnVtYmVyXCIgJiYgaW5wdXRzW2ldLnZhbHVlIDwgMSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICBpbnB1dDogaW5wdXRzW2ldLFxuICAgICAgICBtZXNzYWdlOiBcIlBhZ2UgY291bnQgY2FuJ3QgYmUgbmVnYXRpdmUhXCIsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuIiwiaW1wb3J0IHsgZ2V0Q2xvc2VCdXR0b24gfSBmcm9tIFwiLi9kb20taGVscGVyc1wiO1xuaW1wb3J0IHZhbGlkYXRlRm9ybSBmcm9tIFwiLi9mb3JtLXZhbGlkYXRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbW9kYWxWaWV3KGFkZEJvb2spIHtcbiAgY29uc3QgbW9kYWxBZGRCb29rQ250ciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtY29udGFpbmVyLWFkZGJvb2tcIik7XG5cbiAgY29uc3QgaW5wdXRzID0gbW9kYWxBZGRCb29rQ250ci5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIik7XG5cbiAgY29uc3Qgc3VibWl0QnV0dG9uID0gbW9kYWxBZGRCb29rQ250clxuICAgIC5xdWVyeVNlbGVjdG9yKFwiZm9ybVwiKVxuICAgIC5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uXCIpO1xuXG4gIGNvbnN0IGNsb3NlTW9kYWxCdG4gPSBnZXRDbG9zZUJ1dHRvbihoYW5kbGVDbG9zZU1vZGFsKTtcbiAgbW9kYWxBZGRCb29rQ250ci5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpLmFwcGVuZENoaWxkKGNsb3NlTW9kYWxCdG4pO1xuXG4gIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlU3VibWl0Rm9ybSk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ2xvc2VNb2RhbCgpIHtcbiAgICBtb2RhbEFkZEJvb2tDbnRyLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICBpbnB1dC5jaGVja2VkID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cblxuICAvLyBUT0RPOiByZWZhY3RvciB0byB1c2UgZXZlbnQgb2JqZWN0ISFcbiAgZnVuY3Rpb24gaGFuZGxlU3VibWl0Rm9ybSgpIHtcbiAgICBjb25zdCB2YWxpZGF0aW9uUmVzcG9uc2UgPSB2YWxpZGF0ZUZvcm0obW9kYWxBZGRCb29rQ250cik7XG5cbiAgICAvLyBuZWVkIHRvIHVzZSAqc3RyaWN0KiBlcXVhbGl0eSwgYmVjYXVzZSBpZiBmYWxzZSBJIHJldHVybiBhbiBlcnJvciBvYmpcbiAgICAvLyAoc29ycnkpXG4gICAgaWYgKHZhbGlkYXRpb25SZXNwb25zZSAhPT0gdHJ1ZSkge1xuICAgICAgdmFsaWRhdGlvbkZhaWxEaXNwbGF5KFxuICAgICAgICB2YWxpZGF0aW9uUmVzcG9uc2UuaW5wdXQsXG4gICAgICAgIHZhbGlkYXRpb25SZXNwb25zZS5tZXNzYWdlXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGJvb2tBcmdzID0ge307XG4gICAgbW9kYWxBZGRCb29rQ250ci5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIikuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGJvb2tBcmdzW2lucHV0Lm5hbWVdID1cbiAgICAgICAgaW5wdXQudHlwZSA9PT0gXCJjaGVja2JveFwiID8gaW5wdXQuY2hlY2tlZCA6IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuXG4gICAgYWRkQm9vayhib29rQXJncyk7XG5cbiAgICBoYW5kbGVDbG9zZU1vZGFsKCk7XG4gIH1cblxuICBmdW5jdGlvbiB2YWxpZGF0aW9uRmFpbERpc3BsYXkoZWxlbWVudCwgbXNnKSB7XG4gICAgY29uc3QgZGVjYXkgPSAxOyAvLyBlcnJvciBtZXNzYWdlIHRpbWVvdXQsIGluIHNlY29uZHNcblxuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInZhbGlkYXRpb24tZmFpbGVkXCIpO1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidmFsaWRhdGlvbi1mYWlsZWRcIik7XG4gICAgZWxlbWVudC5zdHlsZS5hbmltYXRpb25EdXJhdGlvbiA9IGAke2RlY2F5fXNgO1xuXG4gICAgY29uc3QgcG9wdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJjYXJkXCIpO1xuICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJmb3JtLXZhbGlkYXRpb24tZXJyb3JcIik7XG4gICAgcG9wdXAudGV4dENvbnRlbnQgPSBtc2c7XG4gICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHBvcHVwKTtcbiAgICB3aW5kb3cuc2V0VGltZW91dCh0aW1lb3V0LCBkZWNheSAqIDEwMDApO1xuXG4gICAgZnVuY3Rpb24gdGltZW91dCgpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInZhbGlkYXRpb24tZmFpbGVkXCIpO1xuICAgICAgcG9wdXAucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1vZGFsQWRkQm9va0NudHI7XG59XG4iLCJpbXBvcnQgeyBnZXRDbG9zZUJ1dHRvbiwgbWFrZVN3aXRjaCB9IGZyb20gXCIuLi9kb20taGVscGVyc1wiO1xuXG5jb25zdCBib29rVmlldyA9IChib29rLCBvbklzUmVhZENoYW5nZSwgb25EZWxldGVCb29rKSA9PiB7XG4gIGNvbnN0IGdldEJvb2tQcm9wZXJ0eUVsZW1lbnQgPSAocHJvcGVydHkpID0+IHtcbiAgICBjb25zdCBib29rUHJvcGVydHlFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBib29rUHJvcGVydHlFbGVtZW50LnRleHRDb250ZW50ID0gYm9va1twcm9wZXJ0eV07XG4gICAgYm9va1Byb3BlcnR5RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYm9vay1wcm9wXCIpO1xuICAgIGJvb2tQcm9wZXJ0eUVsZW1lbnQuY2xhc3NMaXN0LmFkZChgYm9vay0ke3Byb3BlcnR5fWApO1xuXG4gICAgcmV0dXJuIGJvb2tQcm9wZXJ0eUVsZW1lbnQ7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlSXNSZWFkU3R5bGUgPSAoaXNSZWFkKSA9PiB7XG4gICAgaWYgKGlzUmVhZCkge1xuICAgICAgYm9va0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcInNlbWktdHJhbnNwYXJlbnRcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvb2tFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJzZW1pLXRyYW5zcGFyZW50XCIpO1xuICAgIH1cbiAgfTtcblxuICAvLyogQ29udGFpbmVyXG4gIGNvbnN0IGJvb2tFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgYm9va0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcImJvb2tcIiwgXCJjYXJkXCIpO1xuICB1cGRhdGVJc1JlYWRTdHlsZShib29rLmlzUmVhZCk7XG5cbiAgLy8qIFByb3BlcnR5IGVsZW1lbnRzXG4gIGNvbnN0IHRpdGxlID0gZ2V0Qm9va1Byb3BlcnR5RWxlbWVudChcInRpdGxlXCIpO1xuICBjb25zdCBhdXRob3IgPSBnZXRCb29rUHJvcGVydHlFbGVtZW50KFwiYXV0aG9yXCIpO1xuICBjb25zdCBwYWdlQ291bnQgPSBnZXRCb29rUHJvcGVydHlFbGVtZW50KFwicGFnZUNvdW50XCIpO1xuICBjb25zdCBpc1JlYWQgPSBtYWtlU3dpdGNoKFxuICAgIFwiaXMgcmVhZDpcIixcbiAgICBcImlzUmVhZFwiLFxuICAgIGJvb2suaXNSZWFkLFxuICAgIChzd2l0Y2hWYWx1ZSkgPT4ge1xuICAgICAgb25Jc1JlYWRDaGFuZ2UoYm9vay5pZCwgc3dpdGNoVmFsdWUpO1xuICAgICAgdXBkYXRlSXNSZWFkU3R5bGUoc3dpdGNoVmFsdWUpO1xuICAgIH1cbiAgKTtcblxuICAvLyogRGVsZXRlIGJ1dHRvblxuICBjb25zdCBkZWxldGVCdG4gPSBnZXRDbG9zZUJ1dHRvbigoKSA9PiB7XG4gICAgb25EZWxldGVCb29rKGJvb2suaWQpO1xuICB9KTtcblxuICBkZWxldGVCdG4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgW1wibW91c2VlbnRlclwiLCBcIm1vdXNlbGVhdmVcIl0uZm9yRWFjaCgoZXZlbnRUeXBlKSA9PiB7XG4gICAgYm9va0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsICgpID0+IHtcbiAgICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyogQWRkIGV2ZXJ5dGhpbmcgdG9nZXRoZXJcbiAgW3RpdGxlLCBhdXRob3IsIHBhZ2VDb3VudCwgaXNSZWFkLCBkZWxldGVCdG5dLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICBib29rRWxlbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfSk7XG5cbiAgcmV0dXJuIGJvb2tFbGVtZW50O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYm9va1ZpZXc7XG4iLCJpbXBvcnQgYm9va1ZpZXcgZnJvbSBcIi4vYm9vay12aWV3XCI7XG5cbi8vIFRPRE86IG5vdCBzdXJlIGlmIEkgc2hvdWxkIGdlbmVyYXRlIG9yIHF1ZXJ5IGZvciB0aGUgY29udGFpbmVyXG5jb25zdCBMaWJyYXJ5VmlldyA9IChib29rcywgc2V0Qm9vaywgcmVtb3ZlQm9vaykgPT4ge1xuICAvLyAqIERlZmluZSBodG1sXG4gIGNvbnN0IGJvb2tIZWFkaW5nc0h0bWwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPSdib29rLXByb3AnPlRpdGxlPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPSdib29rLXByb3AnPkF1dGhvcjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz0nYm9vay1wcm9wJz5QYWdlIGNvdW50PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPSdib29rLXByb3AnPlJlYWQgc3RhdHVzPC9kaXY+XG4gIGA7XG4gIGNvbnN0IGJvb2tIZWFkaW5ncyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGJvb2tIZWFkaW5ncy5jbGFzc0xpc3QuYWRkKFwiY2FyZFwiLCBcImJvb2tcIiwgXCJsaWJyYXJ5LWhlYWRlclwiKTtcbiAgYm9va0hlYWRpbmdzLmlubmVySFRNTCA9IGJvb2tIZWFkaW5nc0h0bWw7XG5cbiAgY29uc3QgbGlicmFyeUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBsaWJyYXJ5RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibGlicmFyeVwiKTtcblxuICBsaWJyYXJ5RWxlbWVudC5hcHBlbmRDaGlsZChib29rSGVhZGluZ3MpO1xuXG4gIGJvb2tzLmZvckVhY2goKGJvb2spID0+IHtcbiAgICBsaWJyYXJ5RWxlbWVudC5hcHBlbmRDaGlsZChib29rVmlldyhib29rLCBzZXRCb29rLCByZW1vdmVCb29rKSk7XG4gIH0pO1xuXG4gIHJldHVybiBsaWJyYXJ5RWxlbWVudDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExpYnJhcnlWaWV3O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCIvLyBUT0RPOiByZWZhY3RvciBzdHlsZXMgaW50byBhIFwicHJlbG9hZFwiIGpzIGJ1bmRsZVxuaW1wb3J0IFwiLi4vc3R5bGVzL3Jlc2V0LmNzc1wiO1xuaW1wb3J0IFwiLi4vc3R5bGVzL3N0eWxlLmNzc1wiO1xuXG4vLyBpbXBvcnQgeyBsb2FkLCBzYXZlIH0gZnJvbSBcIi4vaGFuZGxlLWxvY2FsLXN0b3JhZ2VcIjtcbmltcG9ydCBtb2RhbFZpZXcgZnJvbSBcIi4vbW9kYWxcIjtcbmltcG9ydCBMaWJyYXJ5VmlldyBmcm9tIFwiLi92aWV3cy9saWJyYXJ5LXZpZXdcIjtcbmltcG9ydCB7IGNsZWFyQ2hpbGRyZW4gfSBmcm9tIFwiLi9kb20taGVscGVyc1wiO1xuaW1wb3J0IHsgYXV0aEhhbmRsZXIsIGZpcmVzdG9yZUhhbmRsZXIgfSBmcm9tIFwiLi9maXJlYmFzZS1pbml0XCI7XG5cbmNvbnN0IHJlbmRlckxpc3RlbmVycyA9IFtdO1xuXG5mdW5jdGlvbiByZW5kZXIoKSB7XG4gIHJlbmRlckxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoKSk7XG59XG5cbi8vIGRlZmluZSBmdW5jdGlvbiBmb3IgYWRkaW5nIHJlbmRlciBsaXN0ZW5lcnNcbmZ1bmN0aW9uIGFkZFJlbmRlckxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIHJlbmRlckxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyVmlldyh2aWV3LCBjb250YWluZXIpIHtcbiAgY2xlYXJDaGlsZHJlbihjb250YWluZXIpO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQodmlldyk7XG59XG5cbi8vIHByZXR0eSBzdXJlIEkgYWN0dWFsbHkgd2FudCB0byByZXBsYWNlIExpYnJhcnkgd2l0aCBGaXJlc3RvcmUgZW50aXJlbHlcbi8vIGZpcmViYXNlSGFuZGxlciBqdXN0IG5lZWRzIHRvIGJlIHBhc3NlZCBvbkFkZC9vblJlbW92ZS9vblNldFxuY29uc3Qgb25BdXRoU3RhdGVDaGFuZ2UgPSBhdXRoSGFuZGxlcigpO1xuY29uc3QgZmIgPSBmaXJlc3RvcmVIYW5kbGVyKG9uQXV0aFN0YXRlQ2hhbmdlKTtcblxuYXN5bmMgZnVuY3Rpb24gcmVuZGVyTGlicmFyeSgpIHtcbiAgY29uc3QgYm9va3MgPSAoYXdhaXQgZmIuZ2V0Qm9va3MoKSkgPz8gW107XG4gIGNvbnNvbGUubG9nKFwiYm9va3NcIiwgYm9va3MpO1xuICBjb25zdCBsaWJyYXJ5Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5saWJyYXJ5LWNvbnRhaW5lclwiKTtcbiAgY29uc3QgbGlicmFyeVZpZXcgPSBMaWJyYXJ5Vmlldyhib29rcyk7XG4gIHJlbmRlclZpZXcobGlicmFyeVZpZXcsIGxpYnJhcnlDb250YWluZXIpO1xuICAvLyBzYXZlKGJvb2tzKTtcbn1cblxuYWRkUmVuZGVyTGlzdGVuZXIocmVuZGVyTGlicmFyeSk7XG5cbi8vICogSW5pdGlhbGl6ZSBtb2RhbCBcIkFkZCBCb29rXCIgZm9ybVxuY29uc3QgYWRkQm9va01vZGFsID0gbW9kYWxWaWV3KGZiLmFkZEJvb2spO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1ib29rLWJ0blwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhZGRCb29rTW9kYWwuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcbn0pO1xuXG5vbkF1dGhTdGF0ZUNoYW5nZShyZW5kZXIpO1xuXG4vLyEgVEVNUFxuY29uc3QgcmVuZGVyQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbnJlbmRlckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcmVuZGVyKTtcbnJlbmRlckJ0bi50ZXh0Q29udGVudCA9IFwicmUtcmVuZGVyXCI7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpblwiKS5hcHBlbmRDaGlsZChyZW5kZXJCdG4pO1xuXG4vLyBUT0RPOiBpbml0IHN0YXRzIHJlbmRlcmVyXG4iXSwic291cmNlUm9vdCI6IiJ9